[{"content":"Welcome to my personal website! I am glad to hear what brings you here. Do not hesitate to share in the comment below!\nWho am I? # Hi, I am jdhao, a machine learning engineer who is passionate about working with computer vision. I am experienced in tools like NumPy, OpenCV, and PIL, and also in data visualization tools like Matplotlib. I have broad experiences working on various vision-related projects, ranging from image retrieval, OCR, document image analysis and reconstruction, to video deduplication.\nGitHub: https://github.com/jdhao\nStack Overflow: https://stackoverflow.com/users/6064933/jdhao Things I like # I enjoy programming. I am most familiar with Python and fairly proficient in using Numpy, Matplotlib and others. I use Pandoc to generate beautiful document from my daily notes.\nMy favorite editor is Neovim. I have been using Neovim for everything related to text editing, e.g., from writing Python to editing my notes, for over three years. My Neovim config is here. I frequently write posts about Nvim. A list of nvim-related posts I have written can be found here.\nI am a big advocator for Stack Overflow. Thanks to all these wonderful guys on Stack Overflow, I really learned a lot. You can find me on Stack Overflow most of the time.\nI enjoy reading fictions, non-fictions (science, biography, history) etc. One of my long-time favorite is Note of Hiding in the East by Pu Zong, which depicts the lives of academics of China\u0026rsquo;s top university during the WWII, in the remote south western province Yunnan.\nI enjoy listening to songs by Cheer Chen and Deserts Chang.\nI like to learn new things and I enjoy playing with digital devices (smart phones, Kindle, iPad, etc.).\nHow is this blog built? # This blog is created using static blog generator and hosted by the wonderful GitHub pages service. Currently, I am using Hugo for its high performance. I am also using utterances as my comment system. Previously, I have been using Hexo to build this blog. Migration process is recorded here.\nI have also shared how I manage my blog in this post.\nHow to contact # My Email: jdhao at hotmail dot com. You can also comment on my posts using the builtin comment system.\nFAQ # Q1: Why do you have those annoying ads on your blog?\nA1: Because hosting the images on this site costs money monthly. I need to make ends meet by using ads. If you do not like ads, you can use ad blocker to block those ads.\nQ2: Why do you write your blogs?\nA2: The reason is two-fold. First and foremost, most of my knowledge here come from the free resource shared by numerous other people. Sharing my knowledge here can act as a contribution to the Internet and help other people. Second, my blog servers as a public note so that when I want to check specific detail about a subject, I can find it easily via search engine.\nQ3: Are you interested in optimizing your blog?\nA3: No, I am not interested. I constantly get emails stating that my blog is ill-optimized for mobile devices or has design issues. To those people, I do not intend to do the so-called optimizations. Do not email me, and I will not respond to these kind of emails.\n","externalUrl":null,"permalink":"/about/","section":"jdhao's digital space","summary":"Welcome to my personal website! I am glad to hear what brings you here. Do not hesitate to share in the comment below! Who am I? # Hi, I am jdhao, a machine learning engineer who is passionate about working with computer vision. I am experienced in tools like NumPy, OpenCV, and PIL, and also in data visualization tools like Matplotlib. I have broad experiences working on various vision-related projects,","title":"About","type":"page"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/categories/digital/","section":"Categories","summary":"","title":"Digital","type":"categories"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/tags/garmin/","section":"Tags","summary":"","title":"Garmin","type":"tags"},{"content":"This post will give a quick summary on how to import GPX route into Garmin watch.\nGo to the Garmin connect official website and login: https://connect.garmin.com/ In the left side menu, click Training \u0026amp; Planning, then click Courses: https://connect.garmin.com/modern/courses In the top left of the web page, you see the Import button. Click it and follow the instructions. In each course, there is this \u0026ldquo;Send to Device\u0026rdquo; button where you can send the course to your Garmin watch. Open the Garmin Connect app, do a manual sync, you should be able to see the course in your watch. ","date":"17 May 2025","externalUrl":null,"permalink":"/2025/05/17/garmin_import_gpx_route/","section":"Posts","summary":"\u003cp\u003eThis post will give a quick summary on how to import GPX route into Garmin watch.\u003c/p\u003e","title":"How to Import GPX File into Garmin","type":"posts"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/","section":"jdhao's digital space","summary":"","title":"jdhao's digital space","type":"page"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/archives/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"","date":"17 May 2025","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"13 May 2025","externalUrl":null,"permalink":"/tags/pytest/","section":"Tags","summary":"","title":"Pytest","type":"tags"},{"content":"","date":"13 May 2025","externalUrl":null,"permalink":"/categories/python/","section":"Categories","summary":"","title":"Python","type":"categories"},{"content":"When I try to run pytest locally for a Python project, I noticed that the import in those test scripts may fail if I run pytest in different directories. The import error usually means that your actual code modules is not in the python path, so they can not be imported successfully by your test scripts.\nThis has something to do with how pytest set up the python path when you run it.\nchange the python path # You can add other path to the sys.path by setting the pythonpath option. Multiple config file formats are supported. Here is how to do it in pyproject.toml:\n[tool.pytest.ini_options] pythonpath = [\u0026#34;/path/to/project/root\u0026#34;] After you set it up correctly, the import error should be gone.\nNote that you can not change sys.path with --rootdir option, the --rootdir is for other things like __pytest_cache directory. This is clearly documented in pytest official doc\nusing python -m pytest # This will add the current directory to sys.path, that is why the test scripts under unit_tests folder can import modules in the parent directory.\ncontest.py file # Create an empty conftest.py in the parent directory also works. See also https://github.com/pytest-dev/pytest/issues/4699 This may be a hacky way, but it should work.\nshould we add __init__.py to tests directory? # Suppose the tests folder is in the same level as the source code, and there is no __init__.py inside tests folder,\n. â”œâ”€â”€ app/ â”‚ â”œâ”€â”€ foo/ â”‚ â”‚ â””â”€â”€ foo.py â”‚ â”œâ”€â”€ baz.py â”‚ â””â”€â”€ bar/ â””â”€â”€ tests/ â”œâ”€â”€ unit_tests/ â””â”€â”€ test_foo.py Pytest treat the test module under tests directory as standalone modules. When pytest run the test cases in a test module, it will insert the parent directory of this test module to sys.path. For example, when it runs test_foo.py, \u0026lt;project-root\u0026gt;/tests is inserted to sys.path. For it runs tests/unit_tests/test_bar.py, \u0026lt;project-root\u0026gt;/tests/unit_tests will be inserted to sys.path.\nIn this case, pytest use the base name of the test module as the module name (you can check this in the sys.modules table). So you can not have test modules with the same name under tests directory, even if they are in different directory.\nIf you have __init__.py like below, pytest will treat these as packages, and find the project root accordingly.\nâ””â”€â”€ tests/ â”œâ”€â”€ __init__.py â”œâ”€â”€ unit_tests/ â”‚ â””â”€â”€ __init__.py â””â”€â”€ test_foo.py In this particular case, the project root will be the directory containing both tests and app directory. The full module name for test_foo.py will be tests.test_foo instead.\nThis is also explained in the official doc on standalone test modules.\nReferences # change rootdir: https://stackoverflow.com/a/50170600/6064933 pythonpath config option: https://docs.pytest.org/en/stable/reference/reference.html#confval-pythonpath Pytest python path, https://docs.pytest.org/en/7.1.x/explanation/pythonpath.html https://docs.python.org/3/using/cmdline.html#cmdoption-m Pytest vs python -m pytest : https://docs.pytest.org/en/latest/how-to/usage.html#calling-pytest-through-python-m-pytest Why current directory does not show in sys.path when using pytest: https://stackoverflow.com/q/21265061/6064933 fix python path issue using pytest: https://stackoverflow.com/a/50156706/6064933; ","date":"13 May 2025","externalUrl":null,"permalink":"/2025/05/13/pytest_sys_path_issues/","section":"Posts","summary":"\u003cp\u003eWhen I try to run \u003ccode\u003epytest\u003c/code\u003e locally for a Python project,\nI noticed that the import in those test scripts may fail if I run \u003ccode\u003epytest\u003c/code\u003e in different directories.\nThe import error usually means that your actual code modules is not in the python path,\nso they can not be imported successfully by your test scripts.\u003c/p\u003e\n\u003cp\u003eThis has something to do with how pytest set up the python path when you run it.\u003c/p\u003e","title":"Python system PATH issues When We Use Pytest","type":"posts"},{"content":"","date":"11 March 2025","externalUrl":null,"permalink":"/tags/food/","section":"Tags","summary":"","title":"Food","type":"tags"},{"content":"","date":"11 March 2025","externalUrl":null,"permalink":"/categories/life/","section":"Categories","summary":"","title":"Life","type":"categories"},{"content":"æœ¬æ¬¡æ¥å¤åˆ»æ³°å›½éå¸¸å—æ¬¢è¿çš„æ‰“æŠ›é¥­ã€‚\nåŸæ–™ # ç‰›è‚‰ï¼Œæœå¤©æ¤’ï¼Œå¤§è’œï¼Œå››å­£è±†ï¼Œæ³°å›½ç½—å‹’å¶1ï¼Œé£Ÿç›ï¼Œç™½ç³–ï¼Œç”ŸæŠ½ï¼Œè€æŠ½ï¼Œèšæ²¹\nåˆ¶ä½œ # ç‰›è‚‰ç”¨ç»è‚‰æœºæˆ–è€…èœåˆ€å‰ç¢ å››å­£è±†æ¸…ç†å¹²å‡€ï¼Œåˆ‡æˆä¸åˆ° 1cm çš„å°æ®µï¼Œçƒ§å¼€æ°´ï¼Œæ°´å¼€ä»¥åä¸‹å…¥å››å­£è±†ç„¯æ°´ï¼Œå¤§çº¦ 3 åˆ†é’Ÿï¼Œæ²¥å¹²æ°´åˆ†å¤‡ç”¨ å‡†å¤‡ 5 - 6 ç“£å¤§è’œï¼Œ2 - 3 æœå¤©æ¤’ï¼Œåˆ‡ç¢æˆ–è€…æ£ç¢ å‡†å¤‡å°ç¢—ï¼šå€’å…¥é€‚é‡ç”ŸæŠ½ï¼Œè€æŠ½ï¼Œç™½ç³–ï¼Œé£Ÿç›ï¼Œèšæ²¹ï¼Œæ…æ‹Œå‡åŒ€å¤‡ç”¨ ä¸­å°ç«èµ·é”…åŠ å…¥å°‘é‡æ²¹ï¼Œæ²¹çƒ­åŠ å…¥ç‰›è‚‰ç¢ï¼Œä¸æ–­ç¿»ç‚’ï¼Œç›´åˆ°ç‰›è‚‰é‡Œé¢æ°´åˆ†è¢«ç‚’å¹²ï¼Œç„¶ååŠ å…¥å¤§è’œå’Œè¾£æ¤’ç¢ç¿»ç‚’ åŠ å…¥å››å­£è±†ï¼Œç»§ç»­ç¿»ç‚’ åŠ å…¥ä¹‹å‰ç¢—é‡Œè°ƒå¥½çš„æ–™æ±ï¼Œç¿»ç‚’å‡åŒ€ æœ€åå‡ºé”…å‰ï¼ŒåŠ å…¥ç½—å‹’ï¼Œç¿»ç‚’å‡åŒ€å³å¯å…³ç«å‡ºé”… å–œæ¬¢åƒç…è›‹ï¼Œå†åˆ¶ä½œä¸€ä¸ªç…è›‹å³å¯ å‚è€ƒ # https://www.youtube.com/watch?v=xG_jL8luhF0 å¦‚æœæ²¡æœ‰æ–°é²œçš„ç½—å‹’å¶ï¼Œä¹Ÿå¯ä»¥ç”¨äºšæ´²è¶…å¸‚çš„ç½—å‹’é…±ä»£æ›¿ï¼Œæ‰¾ Minced Thai Basil å³å¯\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 March 2025","externalUrl":null,"permalink":"/2025/03/11/pad_krapao_beef/","section":"Posts","summary":"\u003cp\u003eæœ¬æ¬¡æ¥å¤åˆ»æ³°å›½éå¸¸å—æ¬¢è¿çš„æ‰“æŠ›é¥­ã€‚\u003c/p\u003e","title":"èœè°±ï¼šæ³°å¼æ‰“æŠ›ç‰›è‚‰","type":"posts"},{"content":"æœ¬æ–‡æ€»ç»“å¦‚ä½•ç”¨çƒ¤ç®±çƒ¤ç¾Šè‚‰ä¸²ã€‚\nåŸæ–™ # æ´‹è‘±ï¼Œç¾Šè…¿è‚‰ï¼Œé£Ÿç›ï¼Œè¾£æ¤’ç²‰ï¼Œå­œç„¶ç²‰ï¼Œé£Ÿç”¨æ²¹ï¼ŒèŠ±æ¤’ï¼Œé“ç­¾\nåˆ¶ä½œè¿‡ç¨‹ # ç¾Šè‚‰å»è¡€æ°´ï¼šæŠŠç¾Šè‚‰æ³¡åœ¨å¤§é‡æ¸…æ°´ä¸­ï¼ŒåŠ å…¥é€‚é‡èŠ±æ¤’ä»¥åŠé£Ÿç›ï¼Œæ³¡ä¸¤ä¸ªå°æ—¶ã€‚ ç¾Šè‚‰è…Œåˆ¶ï¼šå–ä¸€ä¸ªæ´‹è‘±åˆ‡ä¸ï¼Œç¾Šè‚‰æ´—å‡€ç”¨å¨æˆ¿çº¸æ“¦å¹²ï¼ŒåŠ å…¥åˆ‡å¥½çš„æ´‹è‘±ä¸ï¼ŒåŠ å…¥é€‚é‡çº¢è¾£æ¤’ç²‰ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼ŒåŠ å…¥é€‚é‡èƒ¡æ¤’ç²‰ï¼ŒåŠ å…¥é€‚é‡é£Ÿç”¨æ²¹ï¼Œå……åˆ†æ…æ‹Œå‡åŒ€ï¼ŒåŠ å…¥ä¿é²œç›’æˆ–è€…ä¿é²œè¢‹ï¼Œæ”¾å†°ç®±å†·è—ä¸€å¤© çƒ¤ç¾Šè‚‰ï¼šçƒ¤ç®±ä¸Šä¸‹ç« 200 åº¦é¢„çƒ­ï¼ŒæŠŠè…Œåˆ¶å¥½çš„ç¾Šè‚‰ç”¨é“ç­¾ç©¿æˆä¸²ï¼Œå¦‚æœç”¨çƒ¤ç›˜ï¼Œå¯ä»¥é“ºä¸Šé“ç®”çº¸ï¼Œç¾Šè‚‰ä¸²æ–œæ­åœ¨çƒ¤ç›˜è¾¹ç¼˜ï¼Œä¸€å®šä¸è¦æŠŠç¾Šè‚‰ä¸²ç›´æ¥æ”¾åœ¨çƒ¤ç›˜é‡Œé¢ï¼Œè¿™æ ·çƒ¤åˆ¶è¿‡ç¨‹ä¸­å‡ºæ°´ï¼Œå°±å˜æˆç…®ç¾Šè‚‰äº†ã€‚çƒ¤ç›˜æ”¾å…¥çƒ¤ç®±ï¼Œæ”¹æˆçƒ­é£æ¨¡å¼ï¼Œçƒ¤ 15 åˆ†é’Ÿï¼Œç„¶åæŠŠç¾Šè‚‰ä¸²ç¿»é¢ï¼Œå†çƒ¤ 10 åˆ†é’Ÿï¼Œå–œæ¬¢åƒè¾£æ¤’ï¼Œå¯ä»¥ä¸­é€”åŠ å…¥è¾£æ¤’ç²‰å’Œå­œç„¶ç²‰ã€‚ ","date":"8 March 2025","externalUrl":null,"permalink":"/2025/03/08/grilled_lamb_skewer/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“å¦‚ä½•ç”¨çƒ¤ç®±çƒ¤ç¾Šè‚‰ä¸²ã€‚\u003c/p\u003e","title":"èœè°±ï¼šçƒ¤ç®±ç¾Šè‚‰ä¸²","type":"posts"},{"content":"When we are using 3rd packages in Python, we may see some warning messages. For example, when you use the package BeautifulSoup and provide it with an url:\nimport bs4 def use_bs(): bs4.BeautifulSoup(\u0026#39;https://google.com\u0026#39;) if __name__ == \u0026#34;__main__\u0026#34;: use_bs() you will see the warning below:\nMarkupResemblesLocatorWarning: The input looks more like a URL than markup. You may want to use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup. bs4.BeautifulSoup(\u0026#39;https://google.com\u0026#39;).txt In this post, I am not going to discuss whether you should suppress this warning. It is discussed already here and here. I only want to summarize how you can actually disable the warning if you want.\ndisable warning for normal running of code # In normal python code, you can use the warnings.filterwarnings method from the Python standard library.\nimport warnings import bs4 warnings.filterwarnings( action=\u0026#39;ignore\u0026#39;, category=bs4.MarkupResemblesLocatorWarning ) def use_bs(): bs4.BeautifulSoup(\u0026#39;https://google.com\u0026#39;) if __name__ == \u0026#34;__main__\u0026#34;: use_bs() disable warnings when running pytest # However, even if you disable the warning in your code, when you import the module and run test with pytest, the warning will still be shown. That is because pytest has its own mechanism to deal with the warnings.\nTo ignore warnings, we can set up the filterwarnings option for pytest in pyproject.toml:\n[tool.pytest.ini_options] filterwarnings = [ \u0026#34;ignore::bs4.MarkupResemblesLocatorWarning\u0026#34;, ] The above warning filter format is from the standard warning package:\n# note the module here refers to the module that is producing the warning itself, # not calling module. action:message:category:module:line What is worth noting is that, when you specify the category that is python builtin, you need to specify the full path. Otherwise, pytest is trying import the warning from Python builtin warning, and will result in an error:\nERROR: while parsing the following warning configuration: ignore::MyWarning This error occurred: Traceback (most recent call last): File \u0026#34;/opt/homebrew/Caskroom/miniconda/base/lib/python3.10/site-packages/_pytest/config/__init__.py\u0026#34;, line 1690, in parse_warning_filter category: Type[Warning] = _resolve_warning_category(category_) File \u0026#34;/opt/homebrew/Caskroom/miniconda/base/lib/python3.10/site-packages/_pytest/config/__init__.py\u0026#34;, line 1729, in _resolve_warning_category cat = getattr(m, klass) AttributeError: module \u0026#39;builtins\u0026#39; has no attribute \u0026#39;MyWarning\u0026#39;. Did you mean: \u0026#39;Warning\u0026#39;? The same issue has also been described in this post.\nAlso note that due to the timing of how pytest adds the current working directory to sys.path, if you use category for a warning filter, you might still experience error when pytest tries to parse the filter. See the problem describe here.\nReferences # detailed pytest guide on capturing warnings: https://docs.pytest.org/en/stable/how-to/capture-warnings.html pytest override existing warning filter: https://stackoverflow.com/q/75345190/6064933 ","date":"5 March 2025","externalUrl":null,"permalink":"/2025/03/05/python_filter_warnings/","section":"Posts","summary":"\u003cp\u003eWhen we are using 3rd packages in Python, we may see some warning messages.\nFor example, when you use the package BeautifulSoup and provide it with an url:\u003c/p\u003e","title":"How to Filter Warnings in Python/pytest","type":"posts"},{"content":"è¿™æ¬¡æ¥æ€»ç»“ä¸€ä¸‹çƒ¤ç®±çƒ¤é¸¡è…¿çš„åšæ³•ã€‚\nåŸæ–™ä¸å‡†å¤‡ # åŸæ–™ï¼šé¸¡è…¿ï¼Œå¤§è’œï¼Œæ´‹è‘±ï¼Œèœ‚èœœï¼Œæ¤ç‰©æ²¹ï¼Œç›ï¼Œç”ŸæŠ½ï¼Œè€æŠ½ï¼Œçº¢æ¤’ç²‰ï¼ŒåœŸè±†ï¼Œèƒ¡èåœ\né¸¡è…¿æ¸…æ´—å¹²å‡€ï¼Œç”¨å°–é”çš„ç«¹ç­¾åœ¨é¸¡è…¿ä¸Šå‡åŒ€æ‰å­”ï¼Œä¾¿äºè…Œåˆ¶å…¥å‘³ï¼Œå¦å¤–çƒ¤åˆ¶çš„æ—¶å€™é¸¡çš®ä¸ä¼šé¼“èµ·å¤§æ³¡ğŸ˜‚ å–å‡ ç“£å¤§è’œå’Œä¸€ä¸ªå°æ´‹è‘±åˆ‡ç¢ï¼ŒåŠ å…¥é£Ÿç›ï¼Œç”ŸæŠ½ï¼Œå°‘é‡è€æŠ½ï¼Œçº¢æ¤’ç²‰ï¼Œæœ‰å…¶ä»–è¥¿é¤é¦™æ–™ä¹Ÿå¯ä»¥æ”¾ä¸€ç‚¹ç‚¹ï¼ŒåŠ å…¥å°‘é‡é£Ÿç”¨æ²¹ï¼ŒåŠ å…¥é€‚é‡çš„èœ‚èœœæ…æ‹Œå‡åŒ€ åŠ å…¥é¸¡è…¿ï¼Œå’Œè…Œæ–™å……åˆ†æ··åˆå‡åŒ€ï¼Œè£…å…¥ä¿é²œè¢‹å°å£ï¼Œæ”¾å…¥å†°ç®±è…Œåˆ¶ä¸€æ™šä¸Šã€‚ åˆ¶ä½œè¿‡ç¨‹ # åœŸè±†å’Œèƒ¡èåœæ¸…æ´—å¹²å‡€ï¼Œåˆ‡å°å—ï¼Œæ”¾å…¥åŠ ç›çš„æ²¸æ°´ç…® 10 åˆ†é’Ÿå·¦å³ çƒ¤ç®± 200 æ‘„æ°åº¦ä¸Šä¸‹ç«å…ˆé¢„çƒ­å‡ åˆ†é’Ÿ çƒ¤ç›˜ç”¨é”¡ç®”çº¸é“ºå¥½ï¼Œæ”¾å…¥ç…®å¥½çš„åœŸè±†å’Œèƒ¡èåœï¼ŒåŠ å…¥é€‚é‡é£Ÿç›å’Œæ¤ç‰©æ²¹ï¼Œé»‘èƒ¡æ¤’æ…æ‹Œå‡åŒ€ã€‚æ”¾åˆ°çƒ¤ç®±åº•éƒ¨æ¥çƒ¤é¸¡æ»´çš„é¸¡æ²¹ã€‚ è…Œå¥½çš„é¸¡è…¿æ”¾åˆ°çƒ¤æ¶ä¸Šï¼Œçƒ¤åˆ¶ 20 åˆ†é’Ÿï¼Œ20 åˆ†é’Ÿä»¥åï¼Œé¸¡è…¿ç¿»é¢ï¼Œå†çƒ¤ 15 åˆ†é’Ÿå·¦å³ï¼Œæ³¨æ„è§‚å¯Ÿåˆ«çƒ¤ç„¦ ","date":"2 February 2025","externalUrl":null,"permalink":"/2025/02/02/oven-roasted-chicken/","section":"Posts","summary":"\u003cp\u003eè¿™æ¬¡æ¥æ€»ç»“ä¸€ä¸‹çƒ¤ç®±çƒ¤é¸¡è…¿çš„åšæ³•ã€‚\u003c/p\u003e","title":"å®¶å¸¸çƒ¤ç®±çƒ¤é¸¡è…¿","type":"posts"},{"content":"In this post, I would like to compare several speakers that are relatively small in size and are suitable as desktop speakers.\nKanto YU2 Kanto ORA Kanto ORA4 Edifier M601 price2 269â‚¬ 399â‚¬ 499â‚¬ 149â‚¬ size (cm) 13.5D x 10W x 15H 14.1D x 10W x 17.5H 16.9D x 11.4W x 20.7H 14.7D x 10W x 16.8H tweeter 3/4â€ 3/4â€ 3/4â€ 1â€ woofer 3â€ 3â€ 4â€ 3â€ bluetooth no 5.0 5.0 5.3 wired input AUX to AUX and USB RCA3 to AUX and USB-C RCA to AUX and USB-C AUX to AUX and USB-C stand included no no no yes When you turn on the kanto speaker (via the volume button), you hear apparent noise in the power adaptor, which is annoying.\nReferences # Edifier N300 in-depth testing and tear-down: https://www.youtube.com/watch?v=mrU9U5m_0pg Edifier has different naming for M60 speaker. In China, it is named as Edifier N300.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nNote that price is taken from amazon Germany as the time of writing this post.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/RCA_connector\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"23 January 2025","externalUrl":null,"permalink":"/2025/01/23/kanto_speakers_comparison/","section":"Posts","summary":"\u003cp\u003eIn this post, I would like to compare several speakers that are relatively small in size and are suitable as desktop speakers.\u003c/p\u003e","title":"Comparison between Several Desktop Speakers","type":"posts"},{"content":"","date":"23 January 2025","externalUrl":null,"permalink":"/tags/digital-electronics/","section":"Tags","summary":"","title":"Digital-Electronics","type":"tags"},{"content":"Although neovim has built a lot of modules to ease the use of Lua, sometimes we may still want to use some packages from Luarocks. In this post, I would like to share how you can install a package from Luarocks and use it in nvim.\nlazy.nvim # The first way is to use lazy.nvim to install Luarocks package. We need to\ninstall Luarocks: brew install luarocks install lua 5.1: brew insall --force lua@5.1 (--force is needed because otherwise brew will warn that lua 5.1 is deprecated and won\u0026rsquo;t install) Also in the repo of the lua package, the rockspec file needs to be the in the top level. For example, for this package https://github.com/leafo/magick, we can install it with lazy just like a normal plugin:\n{\u0026#34;leafo/magick\u0026#34;} Lazy.nvim will automatically install and build it. The plugin will be installed under ~/.local/share/nvim/lazy-rocks, and lazy.nvim will also update the package.path, so that you can require/use the package.\nFor lua packages whose rockspec file are not in the top level, lazy.nvim seems can not correctly install them. For example, for this lua-toml package: https://github.com/jonstoler/lua-toml, lazy.nvim can not install it correctly: under ~/.local/share/nvim/lazy-rocks, the package does not exist, and lazy.nvim just treat it like a nvim plugin and put it under ~/.local/share/nvim/lazy/ instead, and the package.path is also not updated.\nUsing luarocks.nvim # The second way is to use the plugin luarocks.nvim, and it works better.\nMake sure to have all the requirements installed. Note that for luarocks.nvim, we do not need to install luarocks manually, the plugin will try to install/build luarocks automatically for you.\nIf you are using lazy.nvim as plugin manager, the plugin spec for luarocks.nvim looks like this:\n{ \u0026#34;vhyrro/luarocks.nvim\u0026#34;, priority = 1000, -- Very high priority is required, luarocks.nvim should run as the first plugin in your config. opts = { rocks = { \u0026#34;lua-toml\u0026#34; }, -- specifies a list of rocks to install -- luarocks_build_args = { \u0026#34;--with-lua=/my/path\u0026#34; }, -- extra options to pass to luarocks\u0026#39;s configuration script }, }, The luarocks packages are installed under the luarocks.nvim plugin directory:\n~/.local/share/nvim/lazy/luarocks.nvim/.rocks The package.path variable is also updated by luarocks.nvim. So after installing a package, you can simply use require() to import the package.\n","date":"11 December 2024","externalUrl":null,"permalink":"/2024/12/11/how_to_use_luarocks_package_in_neovim/","section":"Posts","summary":"\u003cp\u003eAlthough neovim has built a lot of modules to ease the use of Lua,\nsometimes we may still want to use some packages from \u003ca href=\"https://luarocks.org/\" target=\"_blank\"\u003eLuarocks\u003c/a\u003e.\nIn this post, I would like to share how you can install a package from Luarocks and use it in nvim.\u003c/p\u003e","title":"How to Use luarocks Package in Neovim","type":"posts"},{"content":"","date":"11 December 2024","externalUrl":null,"permalink":"/tags/lua/","section":"Tags","summary":"","title":"Lua","type":"tags"},{"content":"","date":"11 December 2024","externalUrl":null,"permalink":"/categories/nvim/","section":"Categories","summary":"","title":"Nvim","type":"categories"},{"content":"","date":"4 December 2024","externalUrl":null,"permalink":"/tags/mac/","section":"Tags","summary":"","title":"Mac","type":"tags"},{"content":"æœ€è¿‘è¶ç€é»‘äº”å…¥æ‰‹äº†å¤–æ¥æ˜¾ç¤ºå™¨ï¼Œé¡ºä¾¿äº†è§£äº†ä¸€ä¸‹æ˜¾ç¤ºå™¨ç›¸å…³çš„å„ç§æ ‡å‡†å’ŒæŠ€æœ¯ï¼Œæœ¬æ–‡åšä¸€ä¸ªæ€»ç»“ã€‚\nä¸¤æ¬¾æ˜¾ç¤ºå™¨å¯¹æ¯” # æœ¬æ¬¡æ€»å…±ä¹°äº†ä¸¤å°æ˜¾ç¤ºå™¨å¯¹æ¯”ï¼Œåˆ†åˆ«æ˜¯ BenQ çš„ pd2705 å’Œ LG çš„ 27uq750-wã€‚\nBenQ æ˜¾ç¤ºå™¨ï¼š\nBenQ çš„ pd2705u æ”¯æ¶æ˜¯é‡‘å±ï¼Œå¾ˆæ²‰ï¼Œæ˜¾ç¤ºå™¨æ¶åœ¨æ”¯æ¶ä¸Šä»¥åå¾ˆç¨³ï¼Œæ˜¾ç¤ºå™¨æœ¬èº«ä¹Ÿæ¯”è¾ƒåšï¼ŒåèƒŒçœ‹èµ·æ¥ç•¥ç¬¨é‡ï¼Œçœ‹èµ·æ¥ä¸å¤Ÿè‹—æ¡ã€‚ è‡ªå¸¦çš„ Hotkey Puck G2 å¯ä»¥æ’åœ¨æ˜¾ç¤ºå™¨ä¸Šï¼Œæ–¹ä¾¿è°ƒèŠ‚æ˜¾ç¤ºå™¨çš„å„ç§å‚æ•°ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å¿«æ·é”®ï¼Œå¿«é€Ÿåˆ‡æ¢æ¨¡å¼ï¼Œè°ƒèŠ‚äº®åº¦éŸ³é‡ç­‰è®¾ç½®ã€‚ æ˜¾ç¤ºå™¨ä¸å¸¦æ‘„åƒå¤´ï¼Œä½†æ˜¯å¸¦æœ‰æ‰¬å£°å™¨ (2.5w x 2)ï¼Œæ’­æ”¾å£°éŸ³çš„æ•ˆæœä¸€èˆ¬ã€‚ æ˜¾ç¤ºå™¨å¸¦æœ‰ M æ¨¡å¼ï¼ŒsRGB æ¨¡å¼å’Œ low blue light æ¨¡å¼ï¼ŒM æ¨¡å¼æ®ç§°æ˜¯æœ€æ­é… Macbook çš„æ¨¡å¼ï¼Œäº®åº¦æ¯”è¾ƒé«˜ã€‚ æ˜¾ç¤ºå™¨å¸¦æœ‰ type-c æ¥å£ï¼Œæ”¯æŒ DP over type-cï¼Œè¿™ä¸€ä¸ªæ¥å£å¯ä»¥å®ç°ç»™ MacBook å……ç”µ (åŠŸç‡ 65 w)ï¼Œä¼ è¾“æ•°æ®ä»¥åŠ display port çš„åŠŸèƒ½ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ ¹ type-c to type-c çº¿è¿æ¥ MacBook å³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚ LG æ˜¾ç¤ºå™¨ï¼š\nLG çš„æ˜¾ç¤ºå™¨é‡é‡æ›´è½»ï¼Œæ›´è‹—æ¡ï¼Œä¸è¿‡é…äº†ä¸€ä¸ªå¤–ç½®çš„ç”µæºé€‚é…å™¨ã€‚ LG æ˜¾ç¤ºå±å®£ç§°æ”¯æŒ HDR10ï¼Œ å®é™…ä¸Šä½¿ç”¨çš„æ˜¯ HRD8 + FRC æŠ€æœ¯ï¼Œæ‰€ä»¥æ¯ä¸ªåƒç´ å®é™…ä¸Šæ˜¯ 24bit (çº¢ç»¿è“ä¸‰è‰²ï¼Œæ¯è‰² 8 bit)ï¼Œç®€å•ç†è§£ï¼ŒFRC æŠ€æœ¯é€šè¿‡åœ¨æ—¶é—´ç»´åº¦ä¸Šå¿«é€Ÿäº¤æ›¿ä¸¤ç§é¢œè‰²æ¥æ¨¡æ‹Ÿå¦å¤–ä¸€ç§é¢œè‰²ã€‚ LG æ˜¾ç¤ºå™¨ä¹Ÿä¸å¸¦æ‘„åƒå¤´ï¼Œå¸¦æœ‰æ‰¬å£°å™¨ (5w x 2)ï¼ŒLG çš„å£°éŸ³è®¾ç½®é‡Œæœ‰ waves Maxxaudio åŠŸèƒ½ï¼Œæ‰“å¼€ä»¥åï¼Œç«‹ä½“å£°æ•ˆæœæ˜æ˜¾å˜å¥½ï¼Œæ•´ä½“æ•ˆæœä¸ªäººæ„Ÿè§‰æ¯” BenQ pd2705u å¼ºä¸å°‘ã€‚ LG æ˜¾ç¤ºå™¨å¸¦æœ‰ type-c æ¥å£ï¼ŒåŒæ ·æ”¯æŒ DP over type-cï¼Œåå‘å……ç”µåŠŸç‡æ›´é«˜ï¼Œä¸º 90 w type-c æ¥å£çš„ä¼˜ç‚¹ # å¦‚æœæ˜¾ç¤ºå™¨çš„ USB-C æ¥å£æ”¯æŒ DP over type-cï¼Œé‚£ä¹ˆæ˜¾ç¤ºå™¨å¯ä»¥å……å½“ hub åŠŸèƒ½ï¼Œåªéœ€è¦ä¸€æ ¹ USB-C to USB-C çš„è¿æ¥çº¿è¿æ¥ Macbookï¼Œå…¶ä½™çš„é…ä»¶éƒ½å¯ä»¥ç›´æ¥æ¥å…¥åˆ°æ˜¾ç¤ºå™¨çš„å¤šä½™æ¥å£ï¼Œè®©æ¡Œé¢çœ‹èµ·æ¥æ›´åŠ ç®€æ´ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æŠŠæœ‰çº¿é”®ç›˜ï¼Œå¤–ç½®æ‘„åƒå¤´è¿™äº›ä¸å¸¸ç§»åŠ¨çš„è®¾å¤‡éƒ½è¿æ¥åˆ°æ˜¾ç¤ºå™¨åé¢çš„æ¥å£ï¼Œä¸å ç”¨ macbook çš„æ¥å£ï¼Œä¿æŒäº†æ•´æ´ï¼ŒåŒæ—¶æ¥å…¥ MacBook åˆ°æ˜¾ç¤ºå™¨çš„æ—¶å€™ï¼Œåªç”¨æ’ä¸€æ ¹ type-c æ•°æ®çº¿ï¼Œæ›´åŠ æ–¹ä¾¿å¿«æ·ã€‚\nåˆ†è¾¨ç‡è®¾ç½® # åœ¨ç³»ç»Ÿçš„ display è®¾ç½®é‡Œé¢ï¼Œå¯ä»¥è°ƒèŠ‚æ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ï¼Œåˆ†è¾¨ç‡å¤ªé«˜ï¼Œæ˜¾ç¤ºçš„å­—ä½“å’Œå›¾æ ‡å¤ªå°ï¼Œåˆ†è¾¨ç‡è®¾ç½®å¤ªä½ï¼Œå­—ä½“æ˜¾ç¤ºå¾ˆå¤§è€Œä¸”ä¸å¤Ÿç»†è…»ï¼Œç»è¿‡æµ‹è¯•ï¼Œ3008 x 1692 æˆ– 2560 x 1440 çš„åˆ†è¾¨ç‡æ˜¯æ¯”è¾ƒåˆé€‚çš„é€‰æ‹©ã€‚\nHDR setting on macOS # å¦‚æœæ˜¾ç¤ºå™¨æ”¯æŒ HDR10ï¼Œåœ¨ macOS çš„ display è®¾ç½®é‡Œé¢ï¼Œä¼šè‡ªåŠ¨ High Dynamic Range çš„å¼€å…³1ï¼Œæ‰“å¼€è¿™ä¸ªå¼€å…³ï¼Œç³»ç»Ÿåœ¨æ’­æ”¾ HDR è§†é¢‘çš„æ—¶å€™ä¼šæå‡æ’­æ”¾çš„è´¨é‡ï¼Œå…·ä½“å‚è€ƒ https://support.apple.com/en-us/102205 ã€‚\nå¦‚æœæ‰“å¼€äº† HDR æ”¯æŒï¼Œå¦‚æœæµ‹è¯• HDR æ˜¯å¦æ­£å¸¸å·¥ä½œå‘¢ï¼Ÿå¯ä»¥åœ¨ YouTube ä¸Šæœç´¢ 4k HDR è§†é¢‘ï¼Œåœ¨è§†é¢‘è´¨é‡é€‰é¡¹ä¸­ï¼Œå¦‚æœåˆ†è¾¨ç‡åé¢è·Ÿæœ‰ HDRï¼Œé‚£è¯´æ˜ HDR å·²ç»æ­£å¸¸å¯ç”¨ã€‚æ’­æ”¾è§†é¢‘æ—¶ï¼Œå³é”®æ’ä»¶è§†é¢‘è¯¦æƒ…ï¼Œå¦‚æœé¢œè‰²æ˜¾ç¤ºçš„æ˜¯ smpte2084 (PQ) / bt2020ï¼Œä¹Ÿè¯´æ˜ HDR å¯ç”¨æˆåŠŸã€‚å¦‚æœ HDR æ²¡æœ‰å¯ç”¨ï¼Œé¢œè‰²æ˜¾ç¤ºçš„æ˜¯ bt709, bt709 æ˜¯ HD è§†é¢‘çš„æ˜¾ç¤ºæ ‡å‡†ã€‚\nç›®å‰æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ‰“å¼€ HDR é€‰é¡¹ä»¥åï¼Œæ˜¾ç¤º HDR è§†é¢‘æ•ˆæœä¸é”™ï¼Œä½†æ˜¯ç³»ç»Ÿæ˜¾ç¤ºçš„å­—ä½“å‘è™šï¼Œçœ‹èµ·æ¥å¾ˆéš¾å—ï¼Œå…³é—­ HDR ä»¥åå­—ä½“æ˜¾ç¤ºæ‰ä¼šæ¯”è¾ƒæ¸…æ™°é”åˆ©ï¼Œæ›´æ”¹æ˜¾ç¤ºå™¨çš„é¢„è®¾ profile å¯èƒ½ä¼šæ”¹å–„è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œï¼ŒMacbook è‡ªå¸¦çš„æ˜¾ç¤ºå±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºè‹¹æœä½¿ç”¨ä¸€ç§è¢«ç§°è°“ EDR æŠ€æœ¯æ¥å¤„ç† SDR å’Œ HDR å†…å®¹ï¼Œç¡®ä¿å®ƒä»¬éƒ½èƒ½æ­£ç¡®æ˜¾ç¤ºã€‚å¦å¤–è¿™ä¸¤æ¬¾æ˜¾ç¤ºå™¨çš„å³°å€¼äº®åº¦éƒ½æ˜¯åªæœ‰ 400 nitï¼Œè¿œæ²¡æœ‰è¾¾åˆ° HDR10 è¦æ±‚çš„ 1000 nit ä»¥ä¸Šçš„äº®åº¦ï¼Œæ‰€ä»¥å¼€å¯ HDR ä¹Ÿè®¸å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚\nVESA # å¾ˆå¤šæ˜¾ç¤ºå™¨æ”¯æŒ VESA (Video Electronics Standards Association) æ ‡å‡†ï¼Œå¦‚æœä½ ä¸æƒ³ç”¨æ˜¾ç¤ºå™¨è‡ªå¸¦çš„æ”¯æ¶ï¼Œæƒ³è¦æ›´é«˜çš„è°ƒèŠ‚è‡ªç”±åº¦ï¼Œå¯ä»¥ä¹°ç¬¬ä¸‰æ–¹æ‚¬è‡‚ VESA æ”¯æ¶ï¼Œæ”¯æŒæ›´å¤šçš„è°ƒèŠ‚è‡ªç”±åº¦ã€‚\nå‚è€ƒ # BenQ pd2705u spec: https://www.benq.eu/en-eu/monitor/professional/pd2705u/spec.html VESA MIS æ”¯æ¶æ ‡å‡†ï¼šhttps://www.vesa-standard.com/vesa-standards.html FRC (frame rate control): https://en.wikipedia.org/wiki/Frame_rate_control æ˜¾ç¤ºå™¨è‰²æ·± from ç¡¬ä»¶èŒ¶è°ˆï¼šhttps://www.youtube.com/watch?v=qVeRlX1DKAY LG 27uq750-w: https://www.lg.com/de/monitore/uhd-4k-5k/27uq750-w/ LCD, LED and other terms: https://www.youtube.com/watch?v=wHdSGmqLne0 ä½†æ˜¯åˆ‡æ¢æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡çš„æ—¶å€™ï¼Œæœ‰çš„åˆ†è¾¨ç‡æ˜¯ä¸æ˜¾ç¤º HDR é€‰é¡¹çš„\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 December 2024","externalUrl":null,"permalink":"/2024/12/04/external_monitor_for_macbook/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘è¶ç€é»‘äº”å…¥æ‰‹äº†å¤–æ¥æ˜¾ç¤ºå™¨ï¼Œé¡ºä¾¿äº†è§£äº†ä¸€ä¸‹æ˜¾ç¤ºå™¨ç›¸å…³çš„å„ç§æ ‡å‡†å’ŒæŠ€æœ¯ï¼Œæœ¬æ–‡åšä¸€ä¸ªæ€»ç»“ã€‚\u003c/p\u003e","title":"Macbook å¤–æ¥æ˜¾ç¤ºå™¨","type":"posts"},{"content":"å¯’å†·çš„å†¬å¤©ï¼Œå’Œç¾Šè‚‰æ±¤æ›´é…ã€‚\nåŸæ–™åŠå‡†å¤‡ # ç¾Šæ’1ï¼Œç™½èåœ2ï¼Œå†°ç³–ï¼Œå§œï¼Œç™½èƒ¡æ¤’ç²’ï¼Œç™½èŠ·ï¼Œé¦™èœï¼Œè¾£æ¤’é¢ï¼Œå¤§è’œï¼Œè‘±ï¼Œç”ŸæŠ½ï¼Œé†‹\nåŸæ–™å‡†å¤‡ # ç¾Šæ’æå‰æ³¡å†·æ°´ï¼Œå»è¡€æ°´ï¼Œå¤§çº¦ 1 ä¸ªå°æ—¶ å–ä¸€æ ¹ç™½èåœï¼Œå»æ‰å¤–çš®ï¼Œåˆ‡æˆæ»šåˆ€å— åˆ¶ä½œè¿‡ç¨‹ # é”…å†…åŠ å†·æ°´ï¼Œæ”¾å…¥ç¾Šæ’ï¼Œä¸­ç«ï¼Œå»è¡€æ²«ï¼Œç­‰æ°´å¼€äº†ï¼Œç”¨å‹ºå­å»æ‰è¡€æ²«ã€‚å¯ä»¥å†åŠ å…¥é€‚é‡å‡‰æ°´ä¸¤ä¸‰æ¬¡ï¼Œè¿™æ ·å¯ä»¥æ›´å½»åº•å»é™¤è¡€æ²«ï¼Œç›´åˆ°æ²¡æœ‰æ˜æ˜¾è¡€æ²«å‡ºç°ã€‚ ç”¨çƒ­æ°´æŠŠç¾Šæ’æ¸…æ´—å¹²å‡€ï¼Œå¦èµ·é”…çƒ§çƒ­æ°´ï¼Œç­‰æ°´å¼€äº†åŠ å…¥ç¾Šæ’ï¼ŒåŠ å…¥å‡ ç‰‡å§œï¼Œå°‘é‡ç™½èƒ¡æ¤’ï¼Œä¸€ç‰‡ç™½èŠ·ï¼Œä¸­å°ç«ç‚– 1 ä¸ªå°æ—¶ï¼ˆå…·ä½“æ—¶é—´å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰ å¦èµ·é”…çƒ§æ°´ï¼ŒåŠ å…¥åˆ‡å¥½çš„ç™½èåœï¼ŒåŠ å…¥å‡ ç²’å†°ç³–ï¼Œå†°ç³–å¯ä»¥å»æ‰èåœçš„å‘³é“ï¼Œæ°´å¼€ç…®äº”åˆ†é’Ÿ ç…®å¥½çš„èåœåŠ å…¥åˆ°ç¾Šè‚‰ä¸­ï¼Œç„¶ååŠ å…¥é€‚é‡çš„é£Ÿç›è°ƒå‘³ï¼ŒåŠ å…¥å°‘é‡ç™½èƒ¡æ¤’ç²‰ï¼Œå†ç…®çº¦ 15 åˆ†é’Ÿå³å¯ è˜¸æ–™åˆ¶ä½œï¼šè‘±åˆ‡è‘±èŠ±ï¼Œè’œåˆ‡æ²«ï¼ŒåŠ å…¥ç¢—ä¸­ï¼ŒåŠ å…¥é€‚é‡è¾£æ¤’é¢ï¼Œé”…ä¸­çƒ­æ²¹ï¼Œæ²¹çƒ­å€’å…¥ç¢—ä¸­æ¿€å‘é¦™å‘³ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›å’Œç™½ç³–ï¼ŒåŠ å…¥å°‘é‡çš„ç”ŸæŠ½å’Œé†‹ï¼ŒåŠ å…¥å°‘é‡ç…®ç¾Šè‚‰çš„æ±¤ å‚è€ƒ # è€é¥­éª¨èåœç‚–ç¾Šæ’ï¼šhttps://www.youtube.com/watch?v=ijbgDMerZ4M ç¾Šæ’å¯ä»¥åœ¨å¾·å›½çš„åœŸè€³å…¶è¶…å¸‚è´­ä¹°\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nèåœå¯ä»¥åœ¨ kaufland Rewe æˆ–è€…åœŸè¶…ä¹°åˆ°ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 November 2024","externalUrl":null,"permalink":"/2024/11/29/radish_mutton_stew/","section":"Posts","summary":"\u003cp\u003eå¯’å†·çš„å†¬å¤©ï¼Œå’Œç¾Šè‚‰æ±¤æ›´é…ã€‚\u003c/p\u003e","title":"å®¶å¸¸èåœç‚–ç¾Šæ’","type":"posts"},{"content":"","date":"2 November 2024","externalUrl":null,"permalink":"/tags/apscheduler/","section":"Tags","summary":"","title":"APScheduler","type":"tags"},{"content":"When using APScheduler package in Python, I want to run the scheduled job right after I start the scheduler. How can I do it properly?\nnext_run_time param in add_job method # In the scheduler, its add_job1 method has a parameter next_run_time. If we specify now time as the value, the job will run immediately.\nfrom datetime import datetime import time from apscheduler.schedulers.background import BackgroundScheduler from apscheduler.triggers.interval import IntervalTrigger def my_job(): print(\u0026#34;job running at \u0026#34;, datetime.now()) trigger = IntervalTrigger(seconds=5) scheduler = BackgroundScheduler() scheduler.add_job( func=my_job, trigger=trigger, next_run_time=datetime.now(), ) scheduler.start() while True: time.sleep(2) If we run the program, the scheduled job should run immediately.\nstart_date in IntervalTrigger # In the interval trigger itself, it has a parameter start_date to specify when the job run should be triggered. The time can be a past datetime based doc:\nIf the start date is in the past, the trigger will not fire many times retroactively but instead calculates the next run time from the current time, based on the past start time.\nCan we manipulate the start_date parameter to make the job run immediately? Sort of. We can use a past time and let the next run be right after we run the program.\nimport datetime import time from apscheduler.schedulers.background import BackgroundScheduler from apscheduler.triggers.interval import IntervalTrigger def my_job(): print(\u0026#34;hello, job run at %s\u0026#34;, datetime.datetime.now()) amount = 5 eps = 0.01 my_trigger = IntervalTrigger( seconds=amount, start_date=datetime.datetime.now() - datetime.timedelta(seconds=amount - eps), ) scheduler = BackgroundScheduler() scheduler.start() scheduler.add_job( func=my_job, trigger=my_trigger, ) print(\u0026#34;current time:\u0026#34;, datetime.datetime.now()) while True: time.sleep(2) In the above code, we try to set start_date to a past time. The eps variable is used to fine-tuning the time. If I set it to very small value like 0.01, it works. However, if I set it to 0.0, it does not work, the job will run after amount time. So this is not a reliable way to run the job right after we launch the program.\nref # interval trigger: https://apscheduler.readthedocs.io/en/3.x/modules/triggers/interval.html https://apscheduler.readthedocs.io/en/3.x/modules/schedulers/base.html#apscheduler.schedulers.base.BaseScheduler.add_job\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 November 2024","externalUrl":null,"permalink":"/2024/11/02/python_apascheduler_start_job_immediately/","section":"Posts","summary":"\u003cp\u003eWhen using APScheduler package in Python, I want to run the scheduled job right after I start the scheduler.\nHow can I do it properly?\u003c/p\u003e","title":"Run the Job Immediately after Starting Scheduler in Python APScheduler","type":"posts"},{"content":"","date":"8 October 2024","externalUrl":null,"permalink":"/tags/gcp/","section":"Tags","summary":"","title":"GCP","type":"tags"},{"content":"When we use one of the google cloud python clients to communicate with GCP, there may be errors occurring sometime calling the client API methods.\nHow to retry # For example, for the pubsub client, a lot of the method provide retry parameter to let you configure how you want to retry. We can use the Retry from the google api.core to customize how our retry policy will be.\nfrom google.api_core.retry import Retry from google.api_core import exceptions def is_retriable_excpetion(exc) -\u0026gt; bool: # In the following page, we can find a list exceptions and whether they should be retried: # https://cloud.google.com/pubsub/docs/reference/error-codes my_exceptions = ( exceptions.BadGateway, exceptions.DeadlineExceeded, ) return isinstance(exc, my_exceptions) my_retry_policy = Retry( predicate=is_retriable_excpetion ) The predicate parameter from Retry class accept a function. The function receives an exception and check whether it can be retried. You can customize a list of exceptions inside the function.\nWe can also use if_exception_type from api_core to create a predicate:\nmy_retry_policy = Retry( predicate=api_core.retry.if_exception_type( api_core.exceptions.Aborted, api_core.exceptions.DeadlineExceeded, api_core.exceptions.InternalServerError, api_core.exceptions.ResourceExhausted, api_core.exceptions.ServiceUnavailable, api_core.exceptions.Unknown, api_core.exceptions.Cancelled, ), ) The Retry class has also other parameters to configure the minimum and maximum delay between retries.\nReferences # https://cloud.google.com/python/docs/reference/storage/latest/retry_timeout#configuring-retries pubsub with retry setting: https://cloud.google.com/pubsub/docs/samples/pubsub-publisher-retry-settings#pubsub_publisher_retry_settings-python exponential backoff retry: https://blog.salrashid.dev/articles/2021/exponential_backoff_retry/ ","date":"8 October 2024","externalUrl":null,"permalink":"/2024/10/08/gcloud_client_retry/","section":"Posts","summary":"\u003cp\u003eWhen we use one of the google cloud python clients to communicate with GCP,\nthere may be errors occurring sometime calling the client API methods.\u003c/p\u003e","title":"Retry for Google Cloud Client","type":"posts"},{"content":"ä»Šå¤©æ¥æ€»ç»“ä¸€ä¸‹åœŸè±†é‡‘æªé±¼æ²™æ‹‰çš„åšæ³•ã€‚\nåŸæ–™ # åœŸè±†ä¸‰ä¸ªï¼Œé‡‘æªé±¼ç½å¤´ä¸€ç›’1ï¼Œé¸¡è›‹ä¸¤ä¸ªï¼Œè›‹é»„é…±ï¼ŒåŸå‘³é…¸å¥¶ï¼Œå°è‘±ï¼Œæ´‹è‘±ï¼Œé»„ç“œï¼Œç›ï¼Œé»‘èƒ¡æ¤’\nåˆ¶ä½œæ­¥éª¤ # é”…å†…åŠ æ°´ï¼Œæ”¾å…¥é¸¡è›‹ï¼Œæ°´å¼€åç…®å…«åˆ†é’Ÿï¼Œå–å‡ºé¸¡è›‹æ”¾å‡‰æ°´ä¸­é™æ¸© å–åŠä¸ªæ´‹è‘±ï¼Œåˆ‡æˆæ´‹è‘±ç¢ï¼Œå–é»„ç“œä¸€æ ¹ï¼Œåˆ‡ç‰‡ï¼ŒæŠŠæ´‹è‘±å’Œé»„ç“œæ”¾å…¥ç¢—ä¸­ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œæ…æ‹Œå‡åŒ€ åœŸè±†å»çš®ï¼Œåˆ‡æˆå°å—ï¼Œé”…å†…åŠ æ°´ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œæ°´å¼€æ”¾åœŸè±†ï¼Œç…® 15 åˆ†é’Ÿ å–å°è‘±ï¼Œåªè¦è‘±ç»¿ï¼Œåˆ‡æˆè‘±èŠ±å¤‡ç”¨ å–æ²™æ‹‰ç¢—ï¼Œæ”¾å…¥åœŸè±†æ£ç¢ï¼Œæ”¾å…¥é‡‘æªé±¼ç½å¤´æ…ç¢2ï¼Œæ”¾å…¥ç…®å¥½çš„å»å£³é¸¡è›‹ï¼Œç¢¾ç¢ï¼Œæ´‹è‘±ç¢å’Œé»„ç“œæŒ¤å¹²æ°´åˆ†ååŠ å…¥ï¼ŒåŠ å…¥é€‚é‡çš„é£Ÿç”¨ç›å’Œé»‘èƒ¡æ¤’ï¼ŒåŠ å…¥è›‹é»„é…±å’Œé…¸å¥¶ï¼ŒæŠŠæ‰€æœ‰ææ–™æ…æ‹Œå‡åŒ€å³å¯é£Ÿç”¨ã€‚ æ²™æ‹‰å¯ä»¥é…å’Œé¢åŒ…ä¸€èµ·åƒï¼Œä¹Ÿå¯ä»¥å•ç‹¬åƒã€‚\nå‚è€ƒ # å°é«˜å§åœŸè±†æ²™æ‹‰ï¼šhttps://youtu.be/f8JMjTNDqrY?si=ZrjXyQ7sIcONL3xB å¾·å›½è¶…å¸‚éƒ½æœ‰å–ä¸åŒç§ç±»çš„é‡‘æªé±¼ç½å¤´\u0026#160;\u0026#x21a9;\u0026#xfe0e;\né‡‘æªé±¼ç½å¤´æœ‰ä¸€å®šçš„é±¼è…¥å‘³ï¼Œå¦‚æœä¸å–œæ¬¢ï¼Œå¯ä»¥é”…å†…åŠ æ²¹ï¼Œæ”¾å°‘é‡æ´‹è‘±ç¢ï¼ŒåŠ ä¸€äº›èƒ¡æ¤’ç²‰ï¼Œå’Œé‡‘æªé±¼ç½å¤´ä¸€èµ·ç‚’ä¸€ä¸‹ï¼Œç‚’å¹²æ°´åˆ†å³å¯ï¼Œå¯ä»¥å»æ‰å‘³é“\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 October 2024","externalUrl":null,"permalink":"/2024/10/02/potato_tuna_salad/","section":"Posts","summary":"\u003cp\u003eä»Šå¤©æ¥æ€»ç»“ä¸€ä¸‹åœŸè±†é‡‘æªé±¼æ²™æ‹‰çš„åšæ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šåœŸè±†é‡‘æªé±¼æ²™æ‹‰","type":"posts"},{"content":"æœ¬æ¬¡æ¥æ€»ç»“ä¸€ä¸‹æ¤°æ±å’–å–±é¸¡çš„åšæ³•ã€‚\nåŸæ–™åŠå‡†å¤‡ # é¸¡è…¿è‚‰ï¼Œæ´‹è‘±ï¼ŒåœŸè±†ï¼Œæ¤°å¥¶ï¼Œå’–å–±å—ï¼Œé’æ¤’ï¼Œå¤§è’œï¼Œç›ï¼Œèƒ¡æ¤’ï¼Œç”ŸæŠ½ï¼Œèšæ²¹ï¼Œé£Ÿç”¨æ²¹\né£Ÿæå‡†å¤‡ # é¸¡è‚‰åˆ‡å—ï¼Œé¸¡è‚‰å—è¦å¤§ä¸€äº›ï¼Œå¦åˆ™ç‚’åˆ¶ä»¥åå¤ªå°ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œèƒ¡æ¤’ç²‰ï¼Œç”ŸæŠ½ï¼Œé€‚é‡èšæ²¹ï¼Œé€‚é‡é£Ÿç”¨æ²¹ï¼Œæ‹ŒåŒ€è…Œåˆ¶ååˆ†é’Ÿ 3-4å¤´å¤§è’œåˆ‡æˆæ²«ï¼Œé’æ¤’ä¸€ä¸ªåˆ‡ä¸ï¼Œæ´‹è‘±ä¸€ä¸ªåˆ‡ä¸ åœŸè±†æ´—å‡€å»çš®ï¼Œåˆ‡æˆå°å—å¤‡ç”¨ åˆ¶ä½œæ­¥éª¤ # å¹³åº•é”…ç«ä¸ŠåŠ çƒ­ï¼Œå¾…é”…çƒ­ä»¥ååŠ å…¥é€‚é‡é£Ÿç”¨æ²¹ï¼Œæ”¾å…¥è…Œåˆ¶å¥½çš„é¸¡å—ï¼Œå¹³é“ºåœ¨é”…ä¸­ç…ï¼Œä¸è¦ç¿»åŠ¨ï¼Œç­‰é¸¡è‚‰ä¸‹é¢ç…è‡³æœ‰ç„¦é»„ï¼Œå†æ…åŠ¨ï¼Œç…å…¶ä»–é¢ é¸¡è‚‰ç…å¥½ç››å‡ºå¤‡ç”¨ï¼Œé”…å†…æ ¹æ®æ²¹çš„å¤šå°‘å†é€‚å½“å¢åŠ ä¸€äº›æ²¹ï¼ŒåŠ å…¥è’œæœ«ï¼Œæ´‹è‘±ç¿»ç‚’ï¼Œå†åŠ å…¥åœŸè±†ç…åˆ¶ï¼ŒåœŸè±†ç…ä¸‰åˆ†é’Ÿå·¦å³ï¼Œç„¶ååŠ å…¥å°‘é‡çš„æ¸…æ°´ï¼Œä¸è¶…è¿‡åœŸè±†å³å¯ï¼ˆå¦‚æœè¦æ¤°å¥¶å‘³æµ“éƒï¼Œå¯ä»¥åªåŠ æ¤°å¥¶ä¸åŠ æ¸…æ°´ï¼‰ åŠ å…¥å’–å–±å—ï¼Œæ¤°å¥¶ 200mlï¼Œæ‹ŒåŒ€ï¼Œå¤§ç«çƒ§å¼€ï¼Œç„¶åè½¬ä¸­å°ç«ï¼Œç‚–ç…®çº¦ 20 åˆ†é’Ÿï¼Œæ³¨æ„æ…æ‹Œï¼Œä¸è¦ç³Šé”…ï¼Œå¿«å‡ºé”…å‰åŠ å…¥é’æ¤’ä¸ æ¤°æ±å’–å–±é¸¡é…åˆç±³é¥­éå¸¸ä¸é”™ã€‚\n","date":"26 September 2024","externalUrl":null,"permalink":"/2024/09/26/coco_milk_curry_chicken/","section":"Posts","summary":"\u003cp\u003eæœ¬æ¬¡æ¥æ€»ç»“ä¸€ä¸‹æ¤°æ±å’–å–±é¸¡çš„åšæ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šæ¤°é¦™å’–å–±é¸¡","type":"posts"},{"content":"æœ¬æ¬¡æ¥æ€»ç»“å‡‰æ‹Œç»¿è±†å®½ç²‰çš„åšæ³•ã€‚\nåŸæ–™åŠå‡†å¤‡ # åŸæ–™ï¼šç»¿è±†å®½ç²‰ï¼ˆäºšè¶…è´­ä¹°ï¼‰ï¼Œæ´‹è‘±ï¼Œé»„ç“œï¼Œå°è‘±ï¼Œå¤§è’œï¼ŒèŠéº»é…±ï¼Œé™ˆé†‹ï¼Œç”ŸæŠ½ï¼Œè¾£æ¤’æ²¹ï¼Œç™½ç³–ï¼Œç›ï¼Œè¾£æ¤’ç²‰\nåŸæ–™å‡†å¤‡ï¼š\nå‡†å¤‡ä¸€ä¸ªæ´‹è‘±åˆ‡ä¸ï¼Œä¸€æ ¹é»„ç“œåˆ‡ä¸ å°è‘±åˆ‡è‘±èŠ±ï¼Œå¤§è’œåˆ‡ç¢ åˆ¶ä½œæ­¥éª¤ # é”…å†…çƒ§æ°´ï¼Œå¾…æ°´æ²¸ä»¥ååŠ å…¥ç»¿è±†å®½ç²‰å†ç…® 4 åˆ†é’Ÿï¼Œæå‡ºç”¨å‡‰æ°´å†²å‡‰å¤‡ç”¨ ç¢—ä¸­åŠ å…¥è‘±èŠ±å’Œå¤§è’œæ²«ï¼ŒåŠ å…¥é€‚é‡è¾£æ¤’ç²‰ï¼Œçƒ­é€‚é‡çš„æ²¹ï¼Œå¾…æ²¹çƒ­æ³¼å…¥ç¢—ä¸­ï¼Œå†åŠ å…¥é™ˆé†‹ï¼Œç”ŸæŠ½ï¼Œé€‚é‡ç™½ç³–ï¼Œç›ã€‚å–œæ¬¢åƒèŠéº»é…±å†åŠ å…¥é€‚é‡èŠéº»é…±ã€‚èƒ½åƒè¾£çš„è¯ï¼Œå¯ä»¥å†åŠ å…¥è¾£æ¤’æ²¹ã€‚ ç»¿è±†ç²‰ä»å‡‰æ°´ä¸­æå‡ºæ²¥å¹²æ°´åˆ†ï¼ŒåŠ å…¥åˆ‡å¥½çš„æ´‹è‘±å’Œé»„ç“œä¸ï¼ŒåŠ å…¥è°ƒå¥½çš„æ–™æ±ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œæ‹ŒåŒ€å³å¯é£Ÿç”¨ ","date":"23 September 2024","externalUrl":null,"permalink":"/2024/09/23/lv_dou_kuan_fen_salad/","section":"Posts","summary":"\u003cp\u003eæœ¬æ¬¡æ¥æ€»ç»“å‡‰æ‹Œç»¿è±†å®½ç²‰çš„åšæ³•ã€‚\u003c/p\u003e","title":"å‡‰æ‹Œç»¿è±†å®½ç²‰åˆ¶ä½œ","type":"posts"},{"content":"","date":"20 September 2024","externalUrl":null,"permalink":"/tags/logging/","section":"Tags","summary":"","title":"Logging","type":"tags"},{"content":"When deploying a Python application to GCP Kuberntes Engine, we may see issues that the logging level is not correct in the cloud logging explorer. In order for the Python logging package to work with GCP, we need some additional configurations.\nstructured logging # The GCP logging is using structured logging. The logging message from the Python default logging library is not structured. That is why we are using the google cloud logging client to reformat the logging messages. We can find the structure for the logEntry used by google cloud logging here.\nref:\nstructured logging: https://cloud.google.com/logging/docs/structured-logging#use-api Using the gcloud logging client # Install the GCP logging client for Python is simple:\npip install --upgrade google-cloud-logging The google-cloud-logging package will transform the log message to a format required by the Gcloud logging platform. It will work under the hood to make sure the log severity level is correct and also add other fields to the log message.\nThe official instruction from here tells us to do the following:\nroot_logger = logging.getLogger() root_logger.setLevel(LOG_LEVEL) gcloud_log_client = google.cloud.logging.Client() gcloud_log_client.setup_logging(log_level=logging.DEBUG) And in your actual code, you do something like this:\nimport logging logger = logging.getLogger(__name__) logger.info(\u0026#34;this is an info message\u0026#34;) The setup_logging() method will add a custom handler from the gcloud logging package, so that the messages from the Python logging package is transformed to a format required by google cloud logging. When the application is running in (GKE), the following handler is added to the root logger\ngoogle.cloud.logging_v2.handlers.structured_log.StructuredLogHandler When the application is running locally, the following handler is added to the root logger:\ngoogle.cloud.logging_v2.handlers.handlers.CloudLoggingHandler The difference between CloudLoggingHandler and StructuredLogHandler can be found here.\nHowever, this plain way has several potential issues:\nThe log message is not going be printed in the console, if you are developing the code locally If you also add other handlers to the root logger, you will see duplicated logging messages in the GCP cloud logging explorer1. You need to run gcloud auth application-default login to autenticate yourself when running the application locally. Separate logging setup for local and GCP # It is better to have separate setup for the root logger when running the code locally2. Something like this should suffice:\nimport logging import google.cloud.logging root_logger = logging.getLogger() root_logger.setLevel(LOG_LEVEL) formatter = logging.Formatter(\u0026#34;%(name)s:%(lineno)d - %(levelname)s - %(message)s\u0026#34;) # running_in_gcp_k8s() check whether the code is running in GCP kubernetes engine (GKE) if running_in_gcp_k8s(): gcloud_log_client = google.cloud.logging.Client() gcloud_log_client.setup_logging(log_level=logging.DEBUG) else: # for local running, use a plain stream handler stream_handler = logging.StreamHandler() stream_handler.setLevel(LOG_LEVEL) stream_handler.setFormatter(formatter) # add stream handler to root_logger root_logger.addHandler(stream_handler) formatter for gcloud logging handler? # By default, if you use the setup_logging() method above, only the plain message is printed. If we want to include logRecord attributes like module name, line number, level name etc, we need to define our own formatter.\nimport logging import google.cloud.logging_v2 gcloud_log_client = google.cloud.logging.Client() gcloud_log_client.setup_logging(log_level=logging.DEBUG) formatter = logging.Formatter(\u0026#34;%(name)s:%(lineno)d - %(levelname)s - %(message)s\u0026#34;) gcp_handler = [for h in logging.getLogger().handlers if isinstance(h, google.cloud.logging_v2.handlers.StructuredLogHandler)][0] gcp_handler.setFormatter(formatter) log extra field # With cloud logging, we can also log extra meta data, like trace, labels etc.\nlogger.info( \u0026#34;logging test, info level with extra field\u0026#34;, extra={\u0026#34;json_fields\u0026#34;: {\u0026#34;key\u0026#34;: \u0026#34;value\u0026#34;}, \u0026#34;trace\u0026#34;: \u0026#34;1234\u0026#34;, \u0026#34;labels\u0026#34;: {\u0026#34;foo\u0026#34;: \u0026#34;bar\u0026#34;}}, ) WTF is stackdriver logging? # In short, it is an old name for Google cloud logging. There are more explanations in this post.\nReferences # integration with standard lib: https://cloud.google.com/python/docs/reference/logging/latest/std-lib-integration fastapi with google cloud run: https://dev.to/floflock/enable-feature-rich-logging-for-fastapi-on-google-cloud-logging-j3i Also discussed in this github issue\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAlso suggested in this issue\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 September 2024","externalUrl":null,"permalink":"/2024/09/20/python_logging_in_gcp/","section":"Posts","summary":"\u003cp\u003eWhen deploying a Python application to GCP Kuberntes Engine,\nwe may see issues that the \u003ca href=\"https://stackoverflow.com/q/75361466/6064933\" target=\"_blank\"\u003elogging level is not correct\u003c/a\u003e in the cloud logging explorer.\nIn order for the \u003ca href=\"https://docs.python.org/3/library/logging.html\" target=\"_blank\"\u003ePython logging package\u003c/a\u003e to work with GCP, we need some additional configurations.\u003c/p\u003e","title":"Make Python logging Work in GCP","type":"posts"},{"content":"","date":"20 September 2024","externalUrl":null,"permalink":"/tags/kubernetes/","section":"Tags","summary":"","title":"Kubernetes","type":"tags"},{"content":"Readiness and Liveness probe # The readiness probe checks if the service in pod can accept traffic. Kubernetes will remove the pod if the readiness probe fails.\nThe liveness probe is used to check whether the pod is still alive and functioning. If the liveness check fails, the pod will be restarted by Kubernetes.\nTypes of readiness and liveness probe # We can use HTTP, command or TCP probe.\nGet configuration for liveness and readiness # We can run the following command to get the pod configuration:\nkubectl -n \u0026lt;your-namespace\u0026gt; get pod \u0026lt;your-pod-name\u0026gt; -o yaml You will get the configuration for this pod in YAML format. The liveness setting is under section livenessProbe, and the readiness setting is under section readinessProbe.\nYou can also go to the GCP console (https://console.cloud.google.com/), select your projects. Then go to Kubernetes Engine --\u0026gt; Workloads, click your service name and go to the pod overview page. Then you can click the YAML tab page to see the configuration for this pod.\nFor the liveness probe, you will see something like this:\nlivenessProbe: failureThreshold: 3 httpGet: path: /health_check port: 8080 scheme: HTTP initialDelaySeconds: 15 periodSeconds: 5 successThreshold: 1 timeoutSeconds: 1 References # liveness, readiness probe: https://kubernetes.io/docs/concepts/configuration/liveness-readiness-startup-probes/ configuration liveness and readiness: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/ Kubernetes best practice, set up health check: https://cloud.google.com/blog/products/containers-kubernetes/kubernetes-best-practices-setting-up-health-checks-with-readiness-and-liveness-probes?hl=en ","date":"20 September 2024","externalUrl":null,"permalink":"/2024/09/20/kubernetes_liveness_readiness_check/","section":"Posts","summary":"Readiness and Liveness probe # The readiness probe checks if the service in pod can accept traffic. Kubernetes will remove the pod if the readiness probe fails.\nThe liveness probe is used to check whether the pod is still alive and functioning. If the liveness check fails, the pod will be restarted by Kubernetes.\nTypes of readiness and liveness probe # We can use HTTP, command or TCP probe.\nGet configuration for liveness and readiness # We can run the following command to get the pod configuration:","title":"Liveness and Readiness Check in Kubernetes","type":"posts"},{"content":"","date":"20 September 2024","externalUrl":null,"permalink":"/categories/note/","section":"Categories","summary":"","title":"Note","type":"categories"},{"content":"Use the SEARCH() function with care # In the GCP Log Explorer, if you type some thing in the search bar without quote, the SEARCH() method is used.\nThe SEARCH() function is case insensitive. Note also that SEARCH() function uses text analyzer to tokenize the string. The SEARCH() function performs exact matches, not partial matching. So SEARCH(\u0026quot;world\u0026quot;) will not be able to match worldwide. Another example, suppose in some of the log entries, you may have \u0026ldquo;today is 202408180429\u0026rdquo;, if you use SEARCH(\u0026quot;20240818\u0026quot;), you will find nothing matching, which you may not expect.\ncontain, regex match, regex unmatch # The following operators are very useful when searching for patterns/strings\n:: contains ~=: regex match !~: regex unmatch For example,\ntextPayload =~ '.*foo.*': check if textPayload contains foo somewhere textPayload !~ '.*foo.*': check if textPayload does not contain foo somewhere textPayload:'foo': check if textPayload contains foo somewhere The syntax used for the regex is RE2 syntax.\nref:\nThe GCP logging query language: https://cloud.google.com/logging/docs/view/logging-query-language log retention period # In GCP console, you can search for \u0026ldquo;log storage\u0026rdquo;, there are different log buckets. For each bucket, you can see their retention period, which may differ from bucket to bucket.\nYou can configure custom retention period if you want: https://cloud.google.com/logging/docs/buckets#custom-retention.\nref:\nlog retention period: https://cloud.google.com/logging/quotas#logs_retention_periods how to see logs around a log entry # Sometimes we may be interested the context for a certain log entry, i.e., what happens before and after the logging entry. We can do this in two ways.\nWe can manually specify the time interval using the timestamp field. See official doc on how to do it. You can also do it in the query editing UI by selecting the time interval.\nWe can also pin the message we are interested first. This message will show in the timeline histogram. Then we refine the query filter and click the pin message. The context menu shows and choose Zoom to log entry. You can do this multiple times to make the time interval to be more precise.\nref:\nhow to see logs after and before: https://stackoverflow.com/q/53899757/6064933 ","date":"16 September 2024","externalUrl":null,"permalink":"/2024/09/16/gcp_logging_notes/","section":"Posts","summary":"Use the SEARCH() function with care # In the GCP Log Explorer, if you type some thing in the search bar without quote, the SEARCH() method is used.\nThe SEARCH() function is case insensitive. Note also that SEARCH() function uses text analyzer to tokenize the string. The SEARCH() function performs exact matches, not partial matching. So SEARCH(\u0026quot;world\u0026quot;) will not be able to match worldwide. Another example, suppose in some of the log entries, you may have \u0026ldquo;today is 202408180429\u0026rdquo;, if you use SEARCH(\u0026quot;20240818\u0026quot;), you will find nothing matching, which you may not expect.","title":"Notes on Using GCP Logging","type":"posts"},{"content":"","date":"16 September 2024","externalUrl":null,"permalink":"/tags/regex/","section":"Tags","summary":"","title":"Regex","type":"tags"},{"content":"æœ¬æ¬¡æ¥å¤åˆ»ä¸€ä¸‹åœ¨ç½‘ä¸Šçœ‹åˆ°çš„è¥¿ç­ç‰™åœŸè±†é¥¼ã€‚\nåŸæ–™åŠå·¥å…· # åœŸè±†ï¼ˆ2-3ä¸ªï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚ï¼‰ï¼Œå¤§æ´‹è‘±ï¼ˆ1ä¸ªï¼‰ï¼Œé¸¡è›‹ï¼ˆ5-6ä¸ªï¼‰ï¼Œé»‘èƒ¡æ¤’ï¼Œç›ï¼Œæ©„æ¦„æ²¹æˆ–æ™®é€šæ¤ç‰©æ²¹ï¼Œå¥¶é…ªç‰‡ï¼Œå¤§ç›˜å­\nåˆ¶ä½œ # åŸæ–™å‡†å¤‡ # åœŸè±†å»çš®ï¼Œç„¶ååˆ‡æˆå°ä¸ï¼Œæ´‹è‘±å»çš®ï¼Œåˆ‡æˆå°ä¸ é¸¡è›‹ 5 - 6 ä¸ªæ‰“ç¢ï¼Œæ”¾ç›ï¼Œé»‘èƒ¡æ¤’ï¼Œæ…æ‹Œå‡åŒ€å¤‡ç”¨ åˆ¶ä½œè¿‡ç¨‹ # é”…å†…å€’å…¥é€‚é‡çš„æ²¹ï¼Œä¸­å°ç«ï¼Œæ²¹çƒ­ä»¥åï¼Œå€’å…¥åœŸè±†å’Œæ´‹è‘±ç¿»ç‚’å‡ åˆ†é’Ÿï¼ŒåŠ ä¸Šé€‚é‡çš„é£Ÿç›è°ƒå‘³ï¼Œç„¶åç›–ä¸Šé”…ç›–å°ç«ç„– 10 åˆ†é’Ÿï¼Œç›´åˆ°åœŸè±†ç”¨é“²å­å¯ä»¥ç¢¾ç¢ï¼Œæ³¨æ„çœ‹åœŸè±†ï¼Œç«ä¸è¦å¤ªå¤§ï¼Œå¦åˆ™å®¹æ˜“ç³Šé”…ã€‚ æŠŠç‚’å¥½çš„åœŸè±†ä¸å€’å…¥é¸¡è›‹æ¶²ä¸­ï¼Œæ…æ‹Œæ··åˆå‡åŒ€ï¼ŒæŠŠå…¶ä¸­ä¸€åŠå€’å…¥é”…ä¸­ï¼Œå¾…é¸¡è›‹æ¶²ç¨å¾®æˆå‹ï¼Œæ”¾ä¸‰å››ç‰‡å¥¶é…ªç‰‡ å¾…å¥¶é…ªç‰‡ç¨å¾®èåŒ–ï¼Œå†å€’å…¥å‰©ä½™çš„è›‹æ¶²ï¼Œç›–ä¸Šé”…ç›–ï¼Œç­‰å‡ åˆ†é’Ÿè®©è›‹æ¶²æˆå‹ï¼Œæ³¨æ„ç«ä¸èƒ½å¤§ï¼Œå¦åˆ™ä¸‹é¢çš„é¸¡è›‹å®¹æ˜“ç³Šåº• å¾…ä¸‹å±‚çš„é¸¡è›‹å·²ç»å˜ç¡¬å˜å¾—ç¨å¾®ç„¦é»„ï¼Œè¿™æ—¶å€™æ‹¿ä¸ªå¤§ç›˜å­æ‰£åœ¨é”…ä¸­ï¼ŒæŠŠé¸¡è›‹é¥¼æ‰£åœ¨ç›˜å­é‡Œï¼Œç„¶åæŠŠé¸¡è›‹é¥¼æ”¾å…¥é”…ä¸­ï¼Œè®©å¦å¤–ä¸€é¢ä¹Ÿç…ä¸€ä¸‹ï¼Œç…åˆ°ç„¦é»„å³å¯å‡ºé”… å‚è€ƒ # https://www.bilibili.com/video/BV1JqsKeuEks/ ","date":"12 September 2024","externalUrl":null,"permalink":"/2024/09/12/potato_omelette_spanish_style/","section":"Posts","summary":"\u003cp\u003eæœ¬æ¬¡æ¥å¤åˆ»ä¸€ä¸‹åœ¨ç½‘ä¸Šçœ‹åˆ°çš„è¥¿ç­ç‰™åœŸè±†é¥¼ã€‚\u003c/p\u003e","title":"è¥¿ç­ç‰™åœŸè±†é¥¼åˆ¶ä½œ","type":"posts"},{"content":"","date":"11 September 2024","externalUrl":null,"permalink":"/tags/elasticsearch/","section":"Tags","summary":"","title":"Elasticsearch","type":"tags"},{"content":"The version conflict error is often seen when doing document indexing operations in Elasticsearch.\nEach document in Elasticsearch has two fields _seq_no and _primary_term records the state for this document. When we do concurrent changes to a document, each change has its own _seq_no and _primary_term. Elasticsearch will compare the _seq_no and _primary_term to avoid older changes overwrite the changes of newer changes.\nWhen you update a document, you can specify sequence number and primary term, to make sure that there are no other changes made between when you get the sequence number/primary term and when you make your change. If the sequence number and primary term you specify does not match the one in the document, you will get 409 conflict error.\nFirst, index document to my_index:\nPUT my_index/_doc/123 { \u0026#34;title\u0026#34;: \u0026#34;monday\u0026#34; } This is the result you get.\n{ \u0026#34;_index\u0026#34;: \u0026#34;my_index\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;_version\u0026#34;: 1, \u0026#34;result\u0026#34;: \u0026#34;created\u0026#34;, \u0026#34;_shards\u0026#34;: { \u0026#34;total\u0026#34;: 2, \u0026#34;successful\u0026#34;: 1, \u0026#34;failed\u0026#34;: 0 }, \u0026#34;_seq_no\u0026#34;: 0, \u0026#34;_primary_term\u0026#34;: 1 } If you check what is in document 123:\nGET my_index/_doc/123 Result is:\n{ \u0026#34;_index\u0026#34;: \u0026#34;my_index\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;_version\u0026#34;: 1, \u0026#34;_seq_no\u0026#34;: 0, \u0026#34;_primary_term\u0026#34;: 1, \u0026#34;found\u0026#34;: true, \u0026#34;_source\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;monday\u0026#34; } } If you do another update to the document 123:\nPUT my_index/_doc/123 { \u0026#34;title\u0026#34;: \u0026#34;monday\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;this is monday\u0026#34; } You see something like this:\n{ \u0026#34;_index\u0026#34;: \u0026#34;my_index\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;_version\u0026#34;: 2, \u0026#34;result\u0026#34;: \u0026#34;updated\u0026#34;, \u0026#34;_shards\u0026#34;: { \u0026#34;total\u0026#34;: 2, \u0026#34;successful\u0026#34;: 1, \u0026#34;failed\u0026#34;: 0 }, \u0026#34;_seq_no\u0026#34;: 1, \u0026#34;_primary_term\u0026#34;: 1 } The sequence number/primary term for document 123 will be changed (GET my_index/_doc/123):\n{ \u0026#34;_index\u0026#34;: \u0026#34;my_index\u0026#34;, \u0026#34;_id\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;_version\u0026#34;: 2, \u0026#34;_seq_no\u0026#34;: 1, \u0026#34;_primary_term\u0026#34;: 1, \u0026#34;found\u0026#34;: true, \u0026#34;_source\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;monday\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;this is monday\u0026#34; } } In the document index API, we can also specify if_seq_no and if_primary_term parameter:\nPUT my_index/_doc/123?if_seq_no=2\u0026amp;if_primary_term=1 { \u0026#34;title\u0026#34;: \u0026#34;monday\u0026#34; } Since the sequence number and primary term does not match the document exactly, we see error:\n{ \u0026#34;error\u0026#34;: { \u0026#34;root_cause\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[123]: version conflict, required seqNo [2], primary term [1]. current document has seqNo [1] and primary term [1]\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[123]: version conflict, required seqNo [2], primary term [1]. current document has seqNo [1] and primary term [1]\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; }, \u0026#34;status\u0026#34;: 409 } For document Delete API, we can also specify if_seq_no and if_primary_term:\nDELETE my_index/_doc/123?if_seq_no=2\u0026amp;if_primary_term=1 Document 123 is there, but the sequence number and primary term does not match, you see errors:\n{ \u0026#34;error\u0026#34;: { \u0026#34;root_cause\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[123]: version conflict, required seqNo [2], primary term [1]. current document has seqNo [1] and primary term [1]\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[123]: version conflict, required seqNo [2], primary term [1]. current document has seqNo [1] and primary term [1]\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; }, \u0026#34;status\u0026#34;: 409 } If the document does not exist (for example, if you do DELETE my_index/_doc/183244?if_primary_term=1\u0026amp;if_seq_no=1), you see error like this:\n{ \u0026#34;error\u0026#34;: { \u0026#34;root_cause\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[183244]: version conflict, required seqNo [1], primary term [1]. but no document was found\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; } ], \u0026#34;type\u0026#34;: \u0026#34;version_conflict_engine_exception\u0026#34;, \u0026#34;reason\u0026#34;: \u0026#34;[183244]: version conflict, required seqNo [1], primary term [1]. but no document was found\u0026#34;, \u0026#34;index_uuid\u0026#34;: \u0026#34;n_LbDCbbT4O5mwgGWLOOKA\u0026#34;, \u0026#34;shard\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;index\u0026#34;: \u0026#34;my_index\u0026#34; }, \u0026#34;status\u0026#34;: 409 } This conflict error can also happen when you use delete_by_query API.\nsequence number and primary term # Sequence number represent the operation number that is performed on a document. Primary term means how many times that the primary shard for the index has been changed. If you create a new index and index a document, you see that the primary term is 1.\nThe primary term is introduced to solve doc version problems in a distributed system as Elasticsearch. You can find more about the motivation in this official blog1.\nElasticsearch delete versioning # If you have a delete operation that targets at version 1000 of a document, but later you have an index operation that targets version 999 of the same document, if the delete operation is immediately and ES does not keep the version of the document, then the new index operation will succeed. However, the index operation targets an old version of the document, so it shouldn\u0026rsquo;t succeed. The document should still be deleted, not indexed again.\nThe index.gc_deletes setting is used to solve the above issue. It specifies how long the version number of deleted document is kept. By default, it is kept for 60 seconds.\nref:\nElasticsearch version support (this is old, but still worth reading): https://www.elastic.co/blog/elasticsearch-versioning-support explanation of versioning in the delete API: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html#delete-versioning index.gc_deletes is under dynamic index settings: https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#dynamic-index-settings version conflict when using delete by query # When we use delete_by_query to delete a document, we will see potentially the ConflictError exception.\ntypical error # The typical error message you see like this in the reason:\nversion conflict, required seqNo [0], primary term [1]. current document has seqNo [1] and primary term [1]\nThis means that you are getting an older version of the document. This can happen, for example, if you have a document in the index, then you index a new version of the docment, then immediately run the delete_by_query to delete the document. Below is a simple snippet to reproduce the error:\nfrom elasticsearch import Elasticsearch es_client = Elasticsearch(...) index_name = \u0026#34;demo_index\u0026#34; _id = \u0026#34;123456\u0026#34; doc_old = {\u0026#34;title\u0026#34;: \u0026#34;old title\u0026#34;} doc_new = {\u0026#34;title\u0026#34;: \u0026#34;new title\u0026#34;} if es_client.indices.exists(index=index_name): es_client.indices.delete(index=index_name) es_client.index(index=index_name, document=doc_old, id=_id) es_client.indices.refresh(index=index_name) search_response = es_client.search(index=index_name, seq_no_primary_term=True) print(f\u0026#34;first search response: {search_response}\u0026#34;) # index updated doc es_client.index(index=index_name, document=doc_new, id=_id) # this refresh below is very important # es_client.indices.refresh(index=index_name) second_response = es_client.search(index=index_name, seq_no_primary_term=True) print(f\u0026#34;second search response: {second_response}\u0026#34;) deletion_result = es_client.delete_by_query( index=index_name, query={\u0026#34;bool\u0026#34;: {\u0026#34;should\u0026#34;: [{\u0026#34;term\u0026#34;: {\u0026#34;_id\u0026#34;: _id}}]}} ) print(f\u0026#34;deletion result: {deletion_result}\u0026#34;) but why? This is because after the second index operation using doc_new, the updated doc version is not immediately for search. You have to wait for Elasticsearch to refresh the index to make the new document searchable, which happens every 1 second by default and is controlled by setting index.refresh_interval. Or you can use the refresh api to refresh the index.\nUnder the hood, the API delete_by_query() search for the matching document and then delete them. However, the document version it gets is an older version. Actually if we compare the first response and second response, they are the same:\nfirst search response: [{\u0026#39;_index\u0026#39;: \u0026#39;demo_index\u0026#39;, \u0026#39;_id\u0026#39;: \u0026#39;123456\u0026#39;, \u0026#39;_seq_no\u0026#39;: 0, \u0026#39;_primary_term\u0026#39;: 1, \u0026#39;_score\u0026#39;: 1.0, \u0026#39;_source\u0026#39;: {\u0026#39;title\u0026#39;: \u0026#39;old title\u0026#39;}}] second search response: [{\u0026#39;_index\u0026#39;: \u0026#39;demo_index\u0026#39;, \u0026#39;_id\u0026#39;: \u0026#39;123456\u0026#39;, \u0026#39;_seq_no\u0026#39;: 0, \u0026#39;_primary_term\u0026#39;: 1, \u0026#39;_score\u0026#39;: 1.0, \u0026#39;_source\u0026#39;: {\u0026#39;title\u0026#39;: \u0026#39;old title\u0026#39;}}] If you uncomment the es_client.indices.refresh() call in the above snippet, the delete_by_query call should run without issues.\nanother error # Another conflict error I see is somewhat different, which has the following error reason:\nversion conflict, required seqNo [0], primary term [1]. but no document was found\nThis can happen, for example, when you use delete_by_query to delete a document from index. Then immediately you try to run delete_by_query again to delete the same document. Try the below code snippet:\nfrom elasticsearch import Elasticsearch es_client = Elasticsearch(...) index_name = \u0026#34;demo_index\u0026#34; _id = \u0026#34;123456\u0026#34; doc_old = {\u0026#34;title\u0026#34;: \u0026#34;old title\u0026#34;} if es_client.indices.exists(index=index_name): es_client.indices.delete(index=index_name) es_client.index(index=index_name, document=doc_old, id=_id) es_client.indices.refresh(index=index_name) search_response = es_client.search(index=index_name, seq_no_primary_term=True) print(f\u0026#34;first search response: {search_response[\u0026#39;hits\u0026#39;][\u0026#39;hits\u0026#39;]}\u0026#34;) deletion_result = es_client.delete_by_query( index=index_name, query={\u0026#34;bool\u0026#34;: {\u0026#34;should\u0026#34;: [{\u0026#34;term\u0026#34;: {\u0026#34;_id\u0026#34;: _id}}]}} ) print(f\u0026#34;deletion result: {deletion_result}\u0026#34;) second_response = es_client.search(index=index_name, seq_no_primary_term=True) print(f\u0026#34;second search response: {second_response[\u0026#39;hits\u0026#39;][\u0026#39;hits\u0026#39;]}\u0026#34;) # es_client.indices.refresh(index=index_name) deletion_result = es_client.delete_by_query( index=index_name, query={\u0026#34;bool\u0026#34;: {\u0026#34;should\u0026#34;: [{\u0026#34;term\u0026#34;: {\u0026#34;_id\u0026#34;: _id}}]}} ) print(f\u0026#34;deletion result: {deletion_result}\u0026#34;) Remember the section on delete versioning. Actually after the you call the first delete_by_query, the document deletion is not yet fully done. The second search in the snippet can still show the document! So your second call to delete_by_query() gets an older version of the document and tries to delete it, but actually the document is not there anymore (searchable, but actually not there).\nIf we uncomment the es_client.indices.refresh() line, then the second call to delete_by_query() will not run into errors.\nref:\nsequence number and version number: https://stackoverflow.com/a/58762025/6064933 Elasticsearch version conflict when using delete by query: https://stackoverflow.com/q/55382702/6064933 document refresh: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-refresh.html https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#optimistic-concurrency-control-index https://www.elastic.co/guide/en/elasticsearch/reference/current/optimistic-concurrency-control.html You can check the local and global checkpoint mentioned in this post using the cat-shards API\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 September 2024","externalUrl":null,"permalink":"/2024/09/11/elasticsearch_version_conflict_error/","section":"Posts","summary":"\u003cp\u003eThe version conflict error is often seen when doing document indexing operations in Elasticsearch.\u003c/p\u003e","title":"Elasticsearch Version Conflict Error","type":"posts"},{"content":"In Elasticsearch (ES), you can run a task and check its status with the task API. For example, if you use the reindex API in ES with parameter with_for_completion=False, ES will not wait for the process to finish and will return a task instead.\nCheck running tasks # To check the running tasks, we can use:\nGET _tasks This will return a list of running tasks. You can also specify the query parameters, for example, to filter based on reindex action, you can use:\nGET _tasks?action=*reindex* The above API will return response in JSON format. If you do not want to parse the result and just want to get human readable output, you can use cat task API:\nGET _cat/tasks?action=*cluster* Get status of a task # If you know the task id of a task, you can check its detailed status using the get task API:\nGET _tasks/\u0026lt;your-task-id\u0026gt; It will show you if the task is completed, how long does it takes, and how many documents are processed etc.\nCancel a task # To cancel a task, we can use the following API:\nPOST _tasks/\u0026lt;task-id\u0026gt;/_cancel Note this is a POST request instead of GET.\nref:\ncancel a task: https://www.elastic.co/guide/en/elasticsearch/reference/current/tasks.html#task-cancellation Check info about finished tasks? # Currently there is no API to check finished tasks, unless you know the task id (use the get task API above to check task details).\nHowever, all task information is stored in a special index .tasks. We can query this index just like a normal index1. For example, you can do this:\nGET .tasks/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;filter\u0026#34;: [ { \u0026#34;term\u0026#34;: { \u0026#34;completed\u0026#34;: true } }, { \u0026#34;term\u0026#34;: { \u0026#34;task.action\u0026#34;: \u0026#34;indices:data/write/reindex\u0026#34; } } ] } } } The above query will filter tasks based on completion status and action type.\nReferences # View completed tasks: https://stackoverflow.com/q/58125914/6064933 We can do this for now, but in a future major version, direct access to system indices will be prevented by default, as suggested by Elasticsearch\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 August 2024","externalUrl":null,"permalink":"/2024/08/15/elasticsearch_task_api/","section":"Posts","summary":"\u003cp\u003eIn Elasticsearch (ES), you can run a task and check its status with the \u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/tasks.html\" target=\"_blank\"\u003etask API\u003c/a\u003e.\nFor example, if you use the \u003ccode\u003ereindex\u003c/code\u003e API in ES with parameter \u003ccode\u003ewith_for_completion=False\u003c/code\u003e,\nES will not wait for the process to finish and will return a task instead.\u003c/p\u003e","title":"How to Use the Elasticsearch task API","type":"posts"},{"content":"In Elasticsearch, there is index API where you can index a single document to an index.\nHowever, if you have a lot of documents and index them with this API one by one, the indexing speed is quite slow.\nFor large number of document indexing, it is better to use the bulk API from the elasticsearch.helpers submodule. It has three different bulk method:\nhelpers.bulk() helpers.streaming_bulk() helpers.parallel_bulk() If you have a lot of products, the official doc recommends using of streaming_bulk():\nWhen errors are being collected original document data is included in the error dictionary which can lead to an extra high memory usage. If you need to process a lot of data and want to ignore/collect errors please consider using the streaming_bulk() helper which will just return the errors and not store them in memory.\nUsually the bulk API is way faster than the sequential indexing method. Here is a short code snippet to benchmark the different ways of indexing:\nimport time from contextlib import contextmanager from elasticsearch.helpers import streaming_bulk, parallel_bulk @contextmanager def report_time(procedure_name): start = time.time() yield end = time.time() print(f\u0026#34;time spent for {procedure_name}: {end - start}\u0026#34;) def sequential_index(client, docs, index_name): for doc in docs: client.index(index=index_name, document=doc) def bulk_index(client, docs, index_name, bulk_type): def gen_actions(docs): for i, doc in enumerate(docs): action = {\u0026#34;_id\u0026#34;: i, \u0026#34;_index\u0026#34;: index_name, \u0026#34;_source\u0026#34;: doc} yield action if bulk_type == \u0026#34;streaming\u0026#34;: for success, status in streaming_bulk( client, actions=gen_actions(docs), chunk_size=500 ): if not success: print(status) if bulk_type == \u0026#34;parallel\u0026#34;: for success, status in parallel_bulk( client, actions=gen_actions(docs), chunk_size=500 ): if not success: print(status) def recreate_index(client, index_name): if client.indices.exists(index=index_name): client.indices.delete(index=index_name) client.indices.create(index=index_name) if __name__ == \u0026#34;__main__\u0026#34;: n = 1000 index_name = \u0026#34;my_index\u0026#34; # set up the client es_client = Elasticsearch(...) docs = [] for i in range(n): doc = {\u0026#34;title\u0026#34;: f\u0026#34;this is document {i}\u0026#34;, \u0026#34;date\u0026#34;: \u0026#34;2024-07-25\u0026#34;} docs.append(doc) recreate_index(es_client, index_name) with report_time(\u0026#34;sequential indexing\u0026#34;): sequential_index(es_client, docs, index_name) recreate_index(es_client, index_name) with report_time(\u0026#34;streaming bulk\u0026#34;): bulk_index(es_client, docs, index_name, \u0026#34;streaming\u0026#34;) recreate_index(es_client, index_name) with report_time(\u0026#34;parallel bulk\u0026#34;): bulk_index(es_client, docs, index_name, \u0026#34;parallel\u0026#34;) This is the testing result from my machine:\ntime spent for sequential indexing: 123.88939809799194 time spent for streaming bulk: 0.6672859191894531 time spent for parallel bulk: 0.45793724060058594 References # Elasticsearch helpers from Elastic-py: https://elasticsearch-py.readthedocs.io/en/v8.14.0/helpers.html ","date":"26 July 2024","externalUrl":null,"permalink":"/2024/07/26/elasticsearch_bulk_indexing/","section":"Posts","summary":"\u003cp\u003eIn Elasticsearch, there is \u003ca href=\"https://elasticsearch-py.readthedocs.io/en/v8.14.0/api/elasticsearch.html#elasticsearch.Elasticsearch.index\" target=\"_blank\"\u003eindex API\u003c/a\u003e where you can index a single document to an index.\u003c/p\u003e","title":"Speed up document indexing in Elasticsearch via bulk indexing","type":"posts"},{"content":"Recently when I was working with Elasticsearch, I found this weird issue that the document count for the newly created index is not correct. Also there are problems with reindex, if you reindex the source index to dst index, there is nothing in the dst index despite no errors.\nHere is a short code to reproduce the issue:\nfrom elasticsearch import Elasticsearch # set up client es_client = Ealsticsearch(...) n = 100 index_name = \u0026#34;my_index\u0026#34; if es_client.indices.exists(index=index_name): es_client.indices.delete(index=index_name) docs = [] for i in range(n): doc = {\u0026#34;title\u0026#34;: f\u0026#34;this is document {i}\u0026#34;} docs.append(doc) for doc in docs: es_client.index(index=index_name, document=doc) response = es_client.count(index=index_name) print(\u0026#34;count: \u0026#34;, response) In the above code, we create a index named my_index and try to index 100 document into it. The print out message shows the number of document in my_index is actually not 100.\nHowever, if you wait for a few seconds and run the count API from kibana or you run the count API only, the number of doc in my_index is correct.\nThis has something to do with the inner workings of Elasticsearch. After immediately indexing document to the index, they are not available for search. Elasticsearch will refresh the index every index.refresh_interval1, and the interval is by default 1 second. Only after this refresh, you can search the document.\nThere are two solutions for this:\nafter the indexing operation, use the refresh API to refresh the index manually. However, the refresh operation may be expensive. We can also wait for the periodic refresh of Elasticsearch. If you use the bulk index or index API, we can set the parameter refresh to wait_for. This will make sure there is a refresh before your search operation. references # near real-time search: https://www.elastic.co/guide/en/elasticsearch/reference/current/near-real-time.html the refresh param for index, delete, update, bulk API: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-refresh.html https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-refresh-interval-setting\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 July 2024","externalUrl":null,"permalink":"/2024/07/24/elasticsearch_doc_count_not_correct/","section":"Posts","summary":"\u003cp\u003eRecently when I was working with Elasticsearch, I found this weird issue that the document count for the newly created index is not correct.\nAlso there are problems with reindex, if you reindex the source index to dst index, there is nothing in the dst index despite no errors.\u003c/p\u003e","title":"Index refresh issue in Elasticsearch","type":"posts"},{"content":"Some notes on using the Google Cloud storage.\nInstall client Library # We need to install the gcloud storage client to use the storage API. For Python, use pip to install the client:\npip install google-cloud-storage test in local env # When we run the gcloud storage client in local PC and want to connect to our project, we need to do the authentication:\ngcloud auth application-default login Follow the instructions and finish the authentication. Then we can use the client locally for testing.\nuse the correct bucket name # Note that bucket names refer to the top level folders when you click Cloud Storage --\u0026gt; Buckets. Under each bucket, you can define sub-folder structures. However, when we want to get a bucket, these sub-folders should not be part of the bucket name!!\ncheck whether a file exists? # from google.cloud import storage storage_client = storage.Client() bucket_name = \u0026#34;my-bucket\u0026#34; bucket = storage_client.bucket(bucket_name) file_path = \u0026#34;path/to/your_file/under/the/bucket\u0026#34; blob = bucket.blob(file_path) print(blob.exists()) ref:\ncheck whether a file exists in gcloud: https://stackoverflow.com/q/13525482/6064933 Save Python dict in gcloud storage? # We need to convert the dict to string using JSON package and then use the method provided by blob to upload it. Here is a working code example:\nimport json from google.cloud import storage storage_client = storage.Client() bucket_name = \u0026#34;my-bucket\u0026#34; bucket = storage_client.bucket(bucket_name) file_path = \u0026#34;path/to/your_file/under/the/bucket\u0026#34; blob = bucket.blob(file_path) content = {\u0026#34;message\u0026#34;: \u0026#34;hello world\u0026#34;, \u0026#39;code\u0026#39;: 0} blob.upload_from_string(json.dumps(content)) ref:\nhttps://cloud.google.com/storage/docs/uploading-objects-from-memory download file and convert to dict # We can download the file as string and then convert it to the desired type:\nimport json from google.cloud import storage storage_client = storage.Client() bucket_name = \u0026#34;my-bucket\u0026#34; bucket = storage_client.bucket(bucket_name) file_path = \u0026#34;path/to/your_file/under/the/bucket\u0026#34; blob = bucket.blob(file_path) content = blob.download_as_string() content_real = json.loads(content) ref:\nhttps://cloud.google.com/storage/docs/downloading-objects-into-memory ","date":"10 July 2024","externalUrl":null,"permalink":"/2024/07/10/gcloud_storage_usage/","section":"Posts","summary":"\u003cp\u003eSome notes on using the \u003ca href=\"https://cloud.google.com/storage/docs/introduction#quickstarts\" target=\"_blank\"\u003eGoogle Cloud storage\u003c/a\u003e.\u003c/p\u003e","title":"Google Cloud Storage Usage","type":"posts"},{"content":"åœ¨å¾·å›½çš„å¾·è¶…å¾ˆå°‘èƒ½è§åˆ°ç¾Šè‚‰ï¼Œä¸è¿‡åœ¨åœŸè€³å…¶è¶…å¸‚å¯ä»¥å¾ˆæ–¹ä¾¿ä¹°åˆ°ç¾Šè‚‰ã€‚ æœ¬æœŸæˆ‘æ¥åšä¸€ä¸ªç…ç¾Šæ’ï¼Œä¹‹æ‰€ä»¥ä¸æ˜¯å› ä¸ºçƒ¤ç¾Šæ’æ˜¯å› ä¸ºæˆ‘æ²¡æœ‰åˆé€‚çš„çƒ¤ç›˜å’Œé”¡ç®”çº¸ï¼Œæ‰€ä»¥æ²¡æœ‰å°è¯•ã€‚\nåŸæ–™ # æ´‹è‘±ï¼Œç¾Šæ’ï¼Œå¤§è’œï¼Œè¾£æ¤’ç¢ï¼Œèƒ¡æ¤’ç²‰ï¼Œäº”é¦™ç²‰ï¼Œå­œç„¶ç²‰ï¼Œæ¤ç‰©æ²¹\nåˆ¶ä½œ # ç¾Šæ’å‡†å¤‡ # ç¾Šæ’æ³¡æ°´å‡ ä¸ªå°æ—¶ï¼Œå»é™¤è¡€æ°´ï¼Œæ¸…æ´—å¹²å‡€ï¼Œå†ç”¨å¨æˆ¿çº¸å¸å¹²æ°´åˆ† æ´‹è‘±å¤§è’œåˆ‡ç¢ï¼ŒåŠ å…¥ç¾Šè‚‰ï¼Œå†åŠ å…¥è¾£æ¤’ç¢ï¼Œèƒ¡æ¤’ç²‰ï¼Œäº”é¦™ç²‰ï¼Œå­œç„¶ç²‰ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œæœ€ååŠ å…¥é€‚é‡æ¤ç‰©æ²¹ï¼Œç”¨æ‰‹æŠ“ç¾Šè‚‰ï¼ŒæŠŠç¾Šè‚‰å’Œæ–™æ··åˆå‡åŒ€ï¼Œç„¶åä¿é²œè†œå¯†å°æ”¾å…¥å†°ç®±è…Œåˆ¶ä¸€ä¸ªå°æ—¶ä»¥ä¸Š ç…ç¾Šæ’ # å¹³åº•é”…åŠ æ²¹ï¼Œå°ç«åŠ çƒ­æ²¹ï¼Œæ²¹çƒ­åŠ å…¥è…Œåˆ¶å¥½çš„ç¾Šæ’ï¼Œå¾…ä¸€é¢ç…è‡³ç„¦é»„ï¼Œå†ç…å¦å¤–ä¸€é¢ï¼Œå…¨éƒ¨ç…åˆ°ç„¦é»„å³å¯ã€‚æ³¨æ„ ç«ä¸€å®šä¸èƒ½å¤§ï¼Œå¦åˆ™æ´‹è‘±å’Œè’œæœ«å®¹æ˜“å˜ç³Šã€‚\nå‚è€ƒ # å¥¥åœ°åˆ©å°èƒ¡ç…ç¾Šæ’ï¼šhttps://www.youtube.com/watch?v=tWbaWcQutKY é¦™ç…æ³•å¼ç¾Šæ’ï¼šhttps://www.youtube.com/watch?v=yIKfDbdeM_I å°é«˜å§çƒ¤ç¾Šæ’ï¼šhttps://www.youtube.com/watch?v=DxMLu80eKmE ","date":"9 April 2024","externalUrl":null,"permalink":"/2024/04/09/pan-fried-lamb-chops/","section":"Posts","summary":"\u003cp\u003eåœ¨å¾·å›½çš„å¾·è¶…å¾ˆå°‘èƒ½è§åˆ°ç¾Šè‚‰ï¼Œä¸è¿‡åœ¨åœŸè€³å…¶è¶…å¸‚å¯ä»¥å¾ˆæ–¹ä¾¿ä¹°åˆ°ç¾Šè‚‰ã€‚\næœ¬æœŸæˆ‘æ¥åšä¸€ä¸ªç…ç¾Šæ’ï¼Œä¹‹æ‰€ä»¥ä¸æ˜¯å› ä¸ºçƒ¤ç¾Šæ’æ˜¯å› ä¸ºæˆ‘æ²¡æœ‰åˆé€‚çš„çƒ¤ç›˜å’Œé”¡ç®”çº¸ï¼Œæ‰€ä»¥æ²¡æœ‰å°è¯•ã€‚\u003c/p\u003e","title":"å®¶å¸¸ç…ç¾Šæ’åˆ¶ä½œ","type":"posts"},{"content":"æœ¬æ–‡ç®€å•æ€»ç»“å‡‰æ‹ŒèŒ„å­çš„åˆ¶ä½œæ–¹æ³•ã€‚\nåŸæ–™ # æ–°é²œçš„èŒ„å­ï¼Œé’æ¤’ï¼Œå¤§è’œï¼Œé¦™èœï¼Œé†‹ï¼Œç”ŸæŠ½ï¼Œè¾£æ¤’é¢ï¼Œèƒ¡æ¤’ï¼Œäº”é¦™ç²‰ï¼Œç›ï¼Œç™½ç³–ï¼Œèšæ²¹\næ­¥éª¤ # èŒ„å­æ´—å¹²å‡€ï¼Œåˆ‡æˆå°æ¡ï¼Œæ³¡åœ¨åŠ ç™½é†‹çš„æ¸…æ°´ä¸­ä¸€åˆ†é’Ÿï¼Œç„¶åæå‡ºèŒ„å­ï¼Œä¸Šé”…è’¸äº”åˆ†é’Ÿã€‚ åˆ¶ä½œæ–™æ±ï¼šé’æ¤’å’Œå¤§è’œé€‚é‡ï¼Œåˆ‡æ²«ï¼Œæ”¾å…¥å°ç¢—ï¼ŒåŠ è¾£æ¤’é¢ï¼Œèƒ¡æ¤’ç²‰ï¼Œäº”é¦™ç²‰ã€‚é”…å†…çƒ­æ²¹ï¼Œæ²¹çƒ­ä»¥ååŠ å…¥æ”¾é’æ¤’å’Œè’œæœ«çš„ç¢—ä¸­ï¼Œç„¶ååŠ å…¥ç›ï¼Œç™½ç³–ï¼Œç”ŸæŠ½ï¼Œé†‹ï¼Œèšæ²¹ï¼Œæ…æ‹Œå‡åŒ€ã€‚ æŠŠè’¸å¥½çš„èŒ„å­æ”¾å…¥ç›˜ä¸­ï¼ŒåŠ å…¥æ–™æ±ï¼Œæ…æ‹Œå‡åŒ€ï¼Œå–œæ¬¢åƒé¦™èœï¼Œå¯ä»¥æ”¾ä¸€äº›é¦™èœï¼Œå³å¯é£Ÿç”¨ã€‚ å‚è€ƒ # å°é«˜å§ï¼šhttps://www.youtube.com/watch?v=aqGJMloZWRc ","date":"9 April 2024","externalUrl":null,"permalink":"/2024/04/09/eggplant_salad/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ç®€å•æ€»ç»“å‡‰æ‹ŒèŒ„å­çš„åˆ¶ä½œæ–¹æ³•ã€‚\u003c/p\u003e","title":"å‡‰æ‹ŒèŒ„å­åˆ¶ä½œ","type":"posts"},{"content":"Apart from directly configuring the Python logging in the code itself. We can also configuring the logging using fileConfig or dictConfig.\ndictConfig in logging # The dictConfig is more powerful than fileConfig and is the recommended way to configure logging.\nimport json import logging with open(\u0026#34;path/to/logging_conf.json\u0026#34;) as f: conf = json.load(f) logging.config.dictConfig(conf) The content of logging_conf.json:\n{ \u0026#34;version\u0026#34;: 1, \u0026#34;disable_existing_loggers\u0026#34;: True, \u0026#34;formatters\u0026#34;: { \u0026#34;standard\u0026#34;:{ \u0026#34;format\u0026#34;: \u0026#34;%(asctime)s [%(levelname)s] [%(name)s:%(lineno)d]: %(message)s\u0026#34; } }, \u0026#34;handlers\u0026#34;: { \u0026#34;console\u0026#34;:{ \u0026#34;level\u0026#34;: \u0026#34;DEBUG\u0026#34;, \u0026#34;formatter\u0026#34;: \u0026#34;standard\u0026#34;, \u0026#34;class\u0026#34;: \u0026#34;logging.StreamHandler\u0026#34;, \u0026#34;stream\u0026#34;: \u0026#34;ext://sys.stdout\u0026#34; } }, \u0026#34;loggers\u0026#34;:{ \u0026#34;requests\u0026#34;:{ \u0026#34;level\u0026#34;: \u0026#34;WARNING\u0026#34; }, \u0026#34;my_module\u0026#34;:{ \u0026#34;level\u0026#34;: \u0026#34;INFO\u0026#34; } }, \u0026#34;root\u0026#34;: { \u0026#34;level\u0026#34;: \u0026#34;DEBUG\u0026#34;, \u0026#34;handlers\u0026#34;: [\u0026#34;console\u0026#34;] } } Note that the ext://sys.stdout is a special syntax to refer to internal Python object. More info can be found in https://docs.python.org/3/library/logging.config.html#access-to-external-objects.\nYou can also write the logging configuration in YAML format (easier to write) and read it using the yaml package.\nversion: 1 disable_existing_loggers: true formatters: standard: format: \u0026#39;%(asctime)s [%(levelname)s] [%(name)s:%(lineno)d]: %(message)s\u0026#39; handlers: console: level: DEBUG formatter: standard class: logging.StreamHandler stream: ext://sys.stdout loggers: requests: level: WARNING my_module: level: INFO root: level: DEBUG handlers: [\u0026#39;console\u0026#39;] disable_existing_loggers # Note that you should be very careful with disable_existing_loggers. If this option is set to True, any logger that is defined before calling logging.config.dictConfig() will be disabled. This may cause subtle logging issues that are hard to debug.\nFor example, suppose you have a module my_module.py:\nimport logging logger = logging.getLogger(__name__) # .... def some_func(): logger.info(\u0026#34;some message from my_module\u0026#34;) # ... other statements In your entry point to this project, you have something like this:\nimport logging import my_module logging.config.dictConfig(\u0026#34;/path/to/config/json\u0026#34;) my_module.some_func() The logging message from my_module will not be printed. You need to set disable_existing_loggers to False, or you need to configure the logger for my_module.py explicitly under the loggers keys in the JSON config file.\nUnder the key loggers, you can configure the behavior of different loggers.\nDisable logging for 3rd party package/modules # To disable logging from 3rd party packages/modules, e.g., \u0026ldquo;urllib3\u0026rdquo;, we can configure their logging level in the configuration file like this:\nloggers: urllib3: level: WARNING Or you can also use Python code to disable the logging for a module completely:\nlogging.getLogger(\u0026#34;urllib3\u0026#34;).disabled = True Check existing logger config? # Sometimes, we way to check the configuration for a logger to debug the logging issue. To check the existing loggers, we can use logging.root.manager.loggerDict. The keys are the module names and the value are the respecitve loggers.\nimport logging current_logger = logging.root.manager.loggerDict[\u0026#39;__main__\u0026#39;] print(current_logger.level, current_logger.disabled) After you get the loggers, you can check the handlers associated with the loggers. Further, you can also check the formatter that is used by a handler. In this way, you can get an idea of the configuration for the different loggers.\nNote that logging.root.manager.loggerDict does not contain the root logger. To get the root logger, you can call logging.getLogger() with empty argument:\nroot_logger = logging.getLogger() print(root_logger.handlers[0].formatter._fmt) References # dictConfig doc: https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig dictConfig schema: https://docs.python.org/3/library/logging.config.html#configuration-dictionary-schema examples of dictConfig: https://stackoverflow.com/a/7507842/6064933 named logger not logging when using dictConfig: https://stackoverflow.com/a/65621451/6064933 how to list existing loggers: https://stackoverflow.com/q/53249304/6064933 dump existing logging config: https://stackoverflow.com/q/72624883/6064933 ","date":"11 March 2024","externalUrl":null,"permalink":"/2024/03/11/python-logging-dictconfig/","section":"Posts","summary":"\u003cp\u003eApart from directly configuring the Python logging in the code itself.\nWe can also configuring the logging using \u003ca href=\"https://docs.python.org/3/library/logging.config.html#logging.config.fileConfig\" target=\"_blank\"\u003efileConfig\u003c/a\u003e or \u003ca href=\"https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig\" target=\"_blank\"\u003edictConfig\u003c/a\u003e.\u003c/p\u003e","title":"Configure Python logging with dictConfig","type":"posts"},{"content":"A short summary on how to debug Wezterm issues.\nuse the logging function # Wezterm provides three logging functions which you can use for logging:\nlog_error log_info log_warn Use the debug overlay # We can press Ctrl + shift + l to active the ShowDebugOverlay feature. If there are some errors running your Wezterm configuration, they will be printed out.\nYou can use ESC to close the debug overlay.\nlaunch wezterm from a shell # You can also directly start the wezterm application from the command line. After running wezterm, it will launch another wezterm window. Any errors when running your configuration will be shown in the shell where you run wezterm.\nOn macOS, if Wezterm is installed via Homebrew, the executable wezterm is available for the shell. If Wezterm is installed manually, the executable is under /Applications/WezTerm.app/Contents/MacOS.\n","date":"26 February 2024","externalUrl":null,"permalink":"/2024/02/26/debug_wezterm_issue/","section":"Posts","summary":"\u003cp\u003eA short summary on how to debug \u003ca href=\"https://wezfurlong.org/wezterm/index.html\" target=\"_blank\"\u003eWezterm\u003c/a\u003e issues.\u003c/p\u003e","title":"Debugging Wezterm Issues","type":"posts"},{"content":"","date":"26 February 2024","externalUrl":null,"permalink":"/tags/terminal/","section":"Tags","summary":"","title":"Terminal","type":"tags"},{"content":"","date":"26 February 2024","externalUrl":null,"permalink":"/categories/tools/","section":"Categories","summary":"","title":"Tools","type":"categories"},{"content":"This post is about how to set up black, the popular code formatter for Python projects.\nBasic usage # Format the file inplace :\nblack your_script.py If we only want to check if the file needs reformat, we can use --check:\nblack --check your_script.py Show the diffs between old and new file if black were to reformat:\nblack --diff --color your_script.py skip formatting for some code # To skip formatting for a single line, you can add # fmt: skip at the end of the line. To skip formatting for a block of code, you need to add # fmt: off and # fmt:on before and after the block.\nConfiguration # Black offers very little configuration. You can put the configuration inside pyproject.toml under the section [tool.black]:\n[tool.black] # The keys are the long option names what black accept on the command line. line-length = 100 skip-string-normalization = true The pyproject.toml file should be put at the root of the project.\nref:\nbasic configuration: https://black.readthedocs.io/en/stable/usage_and_configuration/the_basics.html the black style: https://black.readthedocs.io/en/stable/the_black_code_style/current_style.html Integration to Editor/IDE # PyCharm # For latest version of PyCharm, open settings, and go to Tools --\u0026gt; Black, you can configure how black should be run for a file.\nVisual Studio Code # Install the black formatter extension from Microsoft. Open the command plate (shift + command + P), and search Open User Settings (JSON), and open the user setting. Add the following config:\n\u0026#34;[python]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;ms-python.black-formatter\u0026#34;, \u0026#34;editor.formatOnSave\u0026#34;: true, } Neovim # For neovim you can use dedicated formatter plugins from here.\nYou can also use python-language-server and black as the formatter. The detailed configuration can be found here.\nCI/CD integration # GitHub action # For GitHub action integration, please check the official doc: https://black.readthedocs.io/en/stable/integrations/github_actions.html\nAzure DevOps # For Azure DevOps, we can add a custom step to check the code formatting:\n- script: | pip install black black --check --diff . displayName: Check code format with black Ref:\nhttps://10xlearner.com/2022/03/23/checking-your-python-code-format-on-azure-pipelines/ Ignore the code reformat commit # Create a file named .git-blame-ignore-revs in the project root and add the commit that reformat the code:\n# reformat the code using black \u0026lt;the-full-commit-hash\u0026gt; Then when using git blame, we can provide this to ignore certain commit:\ngit blame your_script.py --ignore-revs-file .git-blame-ignore-revs ref:\nhttps://black.readthedocs.io/en/stable/guides/introducing_black_to_your_project.html ","date":"22 February 2024","externalUrl":null,"permalink":"/2024/02/22/black_formatter_setup/","section":"Posts","summary":"\u003cp\u003eThis post is about how to set up \u003ca href=\"https://github.com/psf/black\" target=\"_blank\"\u003eblack\u003c/a\u003e, the popular code formatter for Python projects.\u003c/p\u003e","title":"Black Formatter Setup for Python Project","type":"posts"},{"content":"","date":"22 February 2024","externalUrl":null,"permalink":"/tags/nvim/","section":"Tags","summary":"","title":"Nvim","type":"tags"},{"content":"","date":"21 February 2024","externalUrl":null,"permalink":"/tags/git/","section":"Tags","summary":"","title":"Git","type":"tags"},{"content":"","date":"21 February 2024","externalUrl":null,"permalink":"/categories/git/","section":"Categories","summary":"","title":"Git","type":"categories"},{"content":"This post is about how to set up Git so that people using different operating systems can work in the same repository, without messing up the line ending of source files.\nSettings for personal use (not good, not recommended) # We can change the core.autocrlf setting:\ngit config --global core.autocrlf true By setting core.autocrlf to true, if your original file line ending is CRLF, it will not change, but when you commit your files, git will normalize the line ending to LF.\nAfter the above setup, you can run the following command:\ngit add --renormalize . This will put the normalized text files in your repo to the git index, You can then commit the changes:\ngit commit -m \u0026#34;Renormalize line ending to LF\u0026#34; Note that the files in your local working tree still have original line ending. For example, if foo.py has CRLF line ending, and bar.py has LF line ending, they will remain so in your working tree.\nFor repository # The above setting is not enforceable, because everyone has to set it up individually. So it is not really ideal way to make sure everyone has the correct line ending setup.\nWe can use the .gitattributes file to enforce this. Create a file named .gitattributes in the root directory of the project:\n* text=auto # mark this file as always have crlf line ending on checkout *.bat text eol=crlf # mark pattern as binary file *.jpg binary The setting here will overwrite the core.autocrlf setting.\nWe can then run the re-normalize command to normalize the line ending:\ngit add --renormalize . git commit -m \u0026#34;Renormalize line ending to LF\u0026#34; But this will not change the line ending for the file in the working tree. If we run the following command:\ngit ls-files --eol It shows something like this:\ni/lf w/lf attr/text=auto .gitattributes i/lf w/lf attr/text=auto another-file.md i/lf w/crlf attr/text=auto demo.txt i/lf w/crlf attr/text eol=crlf execute.bat i/lf means the file copy at index is using LF line ending. w/lf or w/crlf means the line ending used in the working tree. In this case, for demo.txt, the file copy in the working tree is still using the CRLF line ending.\nTo correct this and use LF line ending also for text file not explicitly specified to use CRLF, we can run the following command:\ngit rm --cached -r . git reset --hard HEAD After this, if you run the ls-files command again, you should be able to see something like this:\ni/lf w/lf attr/text=auto .gitattributes i/lf w/lf attr/text=auto another-file.md i/lf w/lf attr/text=auto demo.txt i/lf w/crlf attr/text eol=crlf execute.bat References # a clear explanation of core.autocrlf: https://stackoverflow.com/a/20653073/6064933 https://docs.github.com/en/get-started/getting-started-with-git/configuring-git-to-handle-line-endings official doc: https://git-scm.com/docs/gitattributes#_end_of_line_conversion An excellent post about newline setting for git: https://www.aleksandrhovhannisyan.com/blog/crlf-vs-lf-normalizing-line-endings-in-git/ ","date":"21 February 2024","externalUrl":null,"permalink":"/2024/02/21/git_line_ending_config/","section":"Posts","summary":"\u003cp\u003eThis post is about how to set up Git so that people using different operating systems can work in the same repository,\nwithout messing up the line ending of source files.\u003c/p\u003e","title":"Git line ending config","type":"posts"},{"content":"In this post, I want to share a list of tips/setups for the Garmin Forerunner 965 watch. Some of the settings are also applicable to other Garmin watches.\nGarmin connect and connect IQ APP # Garmin has two APPs for their watches, one is Garmin connect, which is used to show your activity and health info and set up the watches. The other APP is connect IQ, which is used to manage applications and watchfaces and sync to your Garmin watch.\nData screen setup for activity # For each activity, we can create some data screens to show different info during the activity. For each data screen, you can choose the layout (how many fields to show) and which data to show for each field. All this can be done using the Garmin watch only, without using your phone.\nHowever, I find it easier to set up the data screens using the Garmin connect APP once it is paired with your watch. In the connect APP, we can click More --\u0026gt; Garmin Devices, then click the device. Now we are in the watch configuration page, which is essentially a mirror of settings in your watch. Click Activities \u0026amp; Apps, select an activity, e.g., walk, then click the Data Screens. In the Data Screens pages, we can manage the data screens in a much easier and faster way. These settings will be synced to your watch automatically.\nFree maps for Garmin # The maps that are preinstalled on Forerunner 965 depend on the region. If we go to other parts of the world, we may need to download the maps manually. The following two websites have some good maps for different countries/regions:\nhttps://garmin.opentopomap.org/ https://alternativaslibres.org/zh/downloads.php#Asia How to connect Garmin watch with macOS # For Windows, it is easier to connect your Garmin watch to the system. For macOS, there is no native support for the Garmin watches. Some tutorials recommend using the Application Android File Transfer, which has limited featured. Another good option is the openmtp application, which can be downloaded from GitHub.\nwatchfaces # In the connect IQ store, there are a lot of watchfaces that you can install for your watch. You can also install watchfaces from the website watchfacebuilder.\nweather # Garmin has its own weather app, which can be used by different watchfaces as the weather source.\nAlso some watchfaces also support open weather map (OWM). To use OWM, you to need to sign up and verify your account, then you can get your API keys under the user page. It is free if you call the OWM API less than 1000/day, which is enough for the watchfaces.\nThere are also some weather APPs built for Garmin watches. The APP Weather Pro Widget is quite good an app for checking the weather.\nNavigation settings # Keep the map zoom # During an activity, in the map view, we can long press the Up button to change the zoom level of the map. However, the zoom level changes automatically if we hit the Back button, which is annoying. To fix this issue, go to the watch settings page, click the Map setting. Scroll down and turn of the Auto Zoom feature.\nChange the navigation course line color # By default, Garmin use a purple color to represent the course in the map, which can not be changed in the watch. There are some hacky ways to change the navigation course color. You can connect Garmin watch to your computer. Under the directory Garmin/MAPTHEMES, there are some predefined map themes. We can create new map themes based on the existing themes. I tried the method, but it didn\u0026rsquo;t work well for me. There are some decoding issues, the watch can not show the name custom defined color theme correctly: only part of the name is shown or some garbled text is shown. Except the missing styles, the format should be correct xml. Not sure why this happens.\nRef:\nhttps://forums.garmin.com/outdoor-recreation/outdoor-recreation/f/fenix-6-series/204247/how-to-change-the-colour-of-navigation-course-follow-line-with-your-own-map-theme?pifragment-1292=2#pifragment-1292=6 References # https://post.m.smzdm.com/p/aoo62p77/ https://www.dcrainmaker.com/2019/08/how-to-installing-free-maps-on-your-garmin-fenix-5-plus-forerunner-945-or-marq-series-watch.html ","date":"4 February 2024","externalUrl":null,"permalink":"/2024/02/04/garmin_forrunner_setup/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share a list of tips/setups for the Garmin Forerunner 965 watch.\nSome of the settings are also applicable to other Garmin watches.\u003c/p\u003e","title":"Garmin Forerunner 965 Essential Tips and Setups","type":"posts"},{"content":"","date":"21 November 2023","externalUrl":null,"permalink":"/tags/databricks/","section":"Tags","summary":"","title":"Databricks","type":"tags"},{"content":"In this post, I want to share the complete process and setup to download files from GCP in a Databricks workspace notebook. Since the notebook itself is non-interactive when you run the shell command, the setup process is a bit different from the normal GCP authentication.\nInstall gcloud cli # For my Databricks clusters, I checked that the under system is Ubuntu Linux (version 20.04). So we can use apg-get to update and install packages like a normal Ubuntu system.\nFirst we need to update the dependency libraries:\nsudo apt-get update sudo apt-get install apt-transport-https ca-certificates gnupg curl sudo Set up the correct public GPG key for the google cloud deb source:\n# download the google cloud gpg key, turn it into binary format and save it under directory /user/share/keyrings/. # you can use the `file` command to check it: `file /usr/share/keyrings/cloud.google.gpg` curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | gpg --dearmor | sudo tee -a /usr/share/keyrings/cloud.google.gpg \u0026gt; /dev/null # create the google cloud source entry under directory /etc/apt/sources.list.d/, # the signed-by field specifies the key file to use for authentication, # which is exactly the keyring we created in the first command. echo \u0026#34;deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main\u0026#34; | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list \u0026gt; /dev/null In the above commands, we import and google cloud repo keyring and set up the meta info about the repo.\nNow we should be able to install gcloud cli without issue:\nsudo apt-get update \u0026amp;\u0026amp; sudo apt-get install google-cloud-cli ref:\nadd repo and public key in Debian/Ubuntu https://unix.stackexchange.com/q/332672/221410 why apt-key add is deprecated: https://askubuntu.com/a/1307181/768311 format for sources.list file: https://askubuntu.com/q/737498/768311 https://manpages.ubuntu.com/manpages/mantic/en/man5/sources.list.5.html install gcloud cli: https://cloud.google.com/sdk/docs/install#deb Authentication # User or service account credential # If you want to user or service account credentials, you need to do it interactively in a shell. This is difficult to do in the databricks notebooks, because the shell command you run in notebooks can not accept input. However, if you have access to the web terminal provided by databricks, you can do the authentication interactively:\ngcloud auth application-default login Note that the authentication is not permanent, it will be gone when you restart your cluster. So you need to do this authentication each time you run your code.\nref:\nenable web terminal in databricks: https://learn.microsoft.com/en-us/azure/databricks/administration-guide/clusters/web-terminal Service account keys # First, we need to create a service account key, the documentation is here. After getting the key file (JSON format), we can upload it to databricks workspace. Usually, we just set the environment variable GOOGLE_APPLICATION_CREDENTIALS to point to the key file path. But this does not work for databricks if you use shell commands: %sh export GOOGLE_APPLICATION_CREDENTIALS=\u0026quot;/path/to/key_file\u0026quot;. Instead, we can directly set this environment variable in the Python code:\nimport os os.environ[\u0026#34;GOOGLE_APPLICATION_CREDENTIALS\u0026#34;] = \u0026#34;/path/to/key_file\u0026#34; ref:\nset up application credential: https://cloud.google.com/docs/authentication/provide-credentials-adc#local-dev how application default credential works: https://cloud.google.com/docs/authentication/application-default-credentials#personal Download file from cloud storage # First, install the gcloud storage package:\npip install --upgrade google-cloud-storage Then you can download a file from cloud storage bucket like this:\nfrom google.cloud import storage import os # this is for authentication os.environ[\u0026#34;GOOGLE_APPLICATION_CREDENTIALS\u0026#34;] = \u0026#34;/path/to/key_file\u0026#34; # Initialise a client storage_client = storage.Client(\u0026#34;\u0026lt;project-name\u0026gt;\u0026#34;) # Create a bucket object for our bucket bucket = storage_client.get_bucket(\u0026#34;\u0026lt;bucket-name\u0026gt;\u0026#34;) # Create a blob object from the filepath blob = bucket.blob(\u0026#34;\u0026lt;sub-directory\u0026gt;/file_name.ext\u0026#34;) # Download the file to a destination blob.download_to_filename(\u0026#39;./my_file.ext\u0026#39;) ref:\ncloud storage python client examples: https://github.com/googleapis/python-storage/tree/main/samples cloud storage download objects: https://cloud.google.com/storage/docs/downloading-objects#storage-download-object-python ","date":"21 November 2023","externalUrl":null,"permalink":"/2023/11/21/databricks-notebook-gcloud-storage-download/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share the complete process and setup to download files from GCP in a Databricks workspace notebook.\nSince the notebook itself is non-interactive when you run the shell command,\nthe setup process is a bit different from the normal GCP authentication.\u003c/p\u003e","title":"How to Download Files from Google Cloud Storage in the Databricks Workspace Notebook","type":"posts"},{"content":"","date":"21 November 2023","externalUrl":null,"permalink":"/tags/ubuntu/","section":"Tags","summary":"","title":"Ubuntu","type":"tags"},{"content":"We can use the Databricks cli to interact with Databricks workspaces programmatically on the command line. In this post, I want to share simple usage about Databricks cli.\nInstall and setup # On macOS, we can install databricks cli via Homebrew:\nbrew tap databricks/tap brew install databricks Personal access token:\nUser setting --\u0026gt; Developer --\u0026gt; Access tokens, there, you can generate a new token for connection in the cli.\nConnect to databricks:\ndatabricks configure Paste the databricks workspace URL: https://adb-\u0026lt;workspace-id\u0026gt;.azuredatabricks.net/ and the personal access token.\nmultiple profiles # To add a second profile, just edit ~/.databrickscfg, and add a new section:\n[new_profile_name] host = xxxxx token = xxxxx profile = profile_name Show a list of configured profiles:\ndatabricks auth profiles Show info about a profile:\ndatabricks auth env --profile \u0026lt;profile_name\u0026gt; references # https://github.com/databricks/cli personal access token: https://learn.microsoft.com/en-gb/azure/databricks/dev-tools/auth#pat tutorial: https://learn.microsoft.com/en-gb/azure/databricks/dev-tools/cli/tutorial profiles: https://learn.microsoft.com/en-gb/azure/databricks/dev-tools/cli/profiles ","date":"21 November 2023","externalUrl":null,"permalink":"/2023/11/21/databricks-cli-usage/","section":"Posts","summary":"\u003cp\u003eWe can use the \u003ca href=\"https://learn.microsoft.com/en-us/azure/databricks/dev-tools/cli/\" target=\"_blank\"\u003eDatabricks cli\u003c/a\u003e to interact with Databricks workspaces programmatically on the command line.\nIn this post, I want to share simple usage about Databricks cli.\u003c/p\u003e","title":"Databricks Cli Usage","type":"posts"},{"content":"Some observation and finding in working with Databricks workspace files.\nHow to read/access workspace files # For regular Python # The behavior to access the workspace file is also different based on the databricks runtime (abbreviation, DBR) version. For the following code:\nwith open(\u0026#39;/Workspace/Users/\u0026lt;user-email\u0026gt;/path/to/file\u0026#39;) as f: content = f.readlines() print(content) In DBR 10.4, I get the following error:\nFileNotFoundError: [Errno 2] No such file or directory: \u0026lsquo;/Workspace/Users//path/to/file\u0026rsquo;\nSince DBR 11.3, we can access the files under the databricks workspace using their absolute paths (source here). So the above code should work as expected to print the file content. However, this does not apply to the notebooks under the workspace (source here). I think this is fine, because most people don\u0026rsquo;t have such needs to read notebooks directly.\nSince DBR 14.0, as discussed later, the current working directory is changed to the folder where the notebook is run. So you can additionally use relative path to access workspace files. For example, if there is test.py in the folder as the notebook, you can run the following code without error:\nwith open(\u0026#39;./test.py\u0026#39;, \u0026#39;r\u0026#39;) as f: content = f.readlines() print(content) For spark code # For spark code, it is also possible to access the workspace files. However, there are two requirements:\nyou must use the fully-qualified path for the workspace files, e.g., the path should be something like file:/Workspace/Users/\u0026lt;user-name\u0026gt;/\u0026lt;folder-name\u0026gt;/MOCK_DATA.csv the cluster can\u0026rsquo;t be in shared access mode, otherwise, you will see the following error when trying to access the workspace files: java.lang.SecurityException: Cannot use com.databricks.backend.daemon.driver.WorkspaceLocalFileSystem - local filesystem access is forbidden\nIf both condition is satisfied, you should be able to run the following code without error:\ndf = spark.read.csv(\u0026#34;file:/Workspace/Users/\u0026lt;user-name\u0026gt;/\u0026lt;folder-name\u0026gt;/MOCK_DATA.csv\u0026#34;, header=True) display(df) comparison # yeah, databricks just makes things f*king complicated. I am scratching my hair out trying to figuring out these complicated rules and cases. Here is a comparison table (hopefully it makes it easier to understand):\nDBR versions open() with absolute path open() with relative path spark.read with absolute path spark.read with relative path DBR 11.3 single user âœ… not supported, cwd is not workspace folder âœ… âŒ, path must be absolute DBR 11.3 shared âœ… not supported, cwd is not workspace folder âŒ âŒ, path must be absolute DBR 14.1 single user âœ… âœ… âœ… âŒ, path must be absolute DBR 14.1 shared âœ… âœ… âŒ âŒ, path must be absolute ref:\nhow to access databricks workspace files: https://stackoverflow.com/q/77498069/6064933 read workspace files: https://learn.microsoft.com/en-us/azure/databricks/files/workspace-interact#read-data-workspace-files Current working directory # In the old DBR, when you run the Python code, the current working directory is /databricks/driver. To check the DBR version and your current working directory, use this:\nimport os print(spark.conf.get(\u0026#34;spark.databricks.clusterUsageTags.sparkVersion\u0026#34;)) print(os.path.abspath(\u0026#39;./\u0026#39;)) In my DBR 10.4 (single user access mode, the directory is different if you use shared access mode), I see the following output:\n10.4.x-scala2.12 /databricks/driver Starting in databricks 14.0, the current working directory is changed to the directory where the notebook runs (source here). In DBR 14.1 cluster, I see the following output:\n14.1.x-scala2.12 /Workspace/Users/\u0026lt;user-email\u0026gt;/\u0026lt;current-folder-name\u0026gt; You can use relative path to write and read file, but their location is different in different DBR. For example, for the following code:\nwith open(\u0026#39;./demo.txt\u0026#39;, \u0026#39;w\u0026#39;) as f: f.write(\u0026#34;hello world\\n\u0026#34;) If you use 10.4, the file is saved in /databricks/driver/demo.txt, under the driver node. If you use 11.3, the file is saved in /home/spark-\u0026lt;some-random-string\u0026gt;/demo.txt If you use 14.1, the file is saved in /Workspace/\u0026lt;user-email\u0026gt;/\u0026lt;current-folder\u0026gt;/demo.txt.\nref:\ndefault current working directory in dbr 14.0: https://learn.microsoft.com/en-us/azure/databricks/files/cwd-dbr-14 ","date":"18 November 2023","externalUrl":null,"permalink":"/2023/11/18/databricks-workspace-files/","section":"Posts","summary":"\u003cp\u003eSome observation and finding in working with Databricks workspace files.\u003c/p\u003e","title":"Working with Databricks Workspace Files","type":"posts"},{"content":"è¿™æ¬¡æˆ‘æ¥å¤åˆ»æ‰‹æŠ“ç¾Šè‚‰é¥­ã€‚\nåŸæ–™ä»¥åŠå‡†å¤‡ # ç¾Šè…¿è‚‰æˆ–ç¾Šæ’ï¼ˆåœ¨å¾·å›½åœŸè€³å…¶è¶…å¸‚å¯ä»¥ä¹°åˆ°ï¼‰ï¼Œèƒ¡èåœï¼Œçº¢è‘±å¤´æˆ–è€…ç™½æ´‹è‘±ï¼Œé’æ¤’ï¼Œå­œç„¶ç²’ï¼Œè‘¡è„å¹²ï¼Œé•¿ç²’ç±³ basmati riceï¼ˆæˆ–è€…èŒ‰è‰é¦™ç±³ jasmin riceï¼Œæœ€å¥½æ˜¯é•¿ç²’ç±³ï¼‰\nåŸæ–™å‡†å¤‡ # ç¾Šè…¿è‚‰åˆ‡å—ï¼Œæ ¹æ®è‡ªå·±å–œå¥½ï¼Œå¯ä»¥åˆ‡å¤§å—æˆ–è€…å°ä¸€ç‚¹çš„å—ï¼Œæ’’å…¥é€‚é‡çš„é£Ÿç›æ…æ‹Œå‡åŒ€è…Œåˆ¶ 15 åˆ†é’Ÿå·¦å³ï¼Œåæ´—å‡€å¤‡ç”¨ èƒ¡èåœåˆ‡ç¨ç²—çš„ä¸ æ´‹è‘±åˆ‡ç‰‡æˆ–åˆ‡ä¸ï¼Œé’æ¤’åˆ‡ä¸ å­œç„¶åœ¨é”…å†…ç‚’é¦™ï¼Œç¢¾ç¢ é•¿ç²’ç±³æ´—å¹²å‡€ï¼Œæ´—æ‰è¡¨é¢çš„æ·€ç²‰ï¼Œç„¶åæå‰æ³¡æ°´åŠå°æ—¶æˆ–è€…ä¸€å°æ—¶ åˆ¶ä½œæ­¥éª¤ # é”…å†…çƒ§æ²¹ï¼Œæœ€å¥½æ˜¯èœç±½æ²¹ï¼Œæ²¹çƒ­åŠ å…¥åˆ‡å¥½çš„ç¾Šè‚‰å—ç¿»ç‚’ ç¾Šè‚‰ç¿»ç‚’ä¸€ä¼šä»¥åï¼ŒåŠ å…¥æ´‹è‘±ç¿»ç‚’ï¼Œæ­¤æ—¶åº”è¯¥ä¼šå‡ºæ°´ï¼Œæ²¹æ°´æ··åˆç‰©ä¸ºç™½è‰²æµ‘æµŠæ¶²ä½“ï¼Œéœ€è¦ä¸æ–­ç¿»ç‚’ï¼Œç›´è‡³æ°´æ±½è’¸å‘å®Œæ¯•ï¼ŒæŠŠæ²¹è„‚ç‚’å‡ºæ¥ï¼Œæ­¤æ—¶é”…åº•çš„æ²¹åº”è¯¥æ˜¯æ¯”è¾ƒæ¾„æ¸…çš„ï¼Œä¸å†æµ‘æµŠ åŠ å…¥åˆ‡å¥½çš„èƒ¡èåœä¸ï¼Œç»§ç»­ç¿»ç‚’ï¼Œç¿»ç‚’ä¸€ä¼šä»¥åï¼ŒåŠ å…¥é’æ¤’ç»§ç»­ç¿»ç‚’ï¼ŒåŠ å…¥é€‚é‡çš„ç› æŠŠæ‰€æœ‰é£Ÿæç››å‡ºåŠ å…¥åˆ°ç”µé¥­ç…²ï¼Œé“ºåˆ°ç”µé¥­ç…²åº•éƒ¨ï¼ŒæŠŠæ³¡æ°´çš„å¤§ç±³é“ºå¹³åˆ°é¡¶éƒ¨ï¼Œå¦‚æœæ°´ä¸å¤Ÿï¼Œå¯ä»¥åŠ å…¥é€‚é‡çš„æ°´ï¼Œæ³¨æ„æ°´ä¸èƒ½å¤šï¼Œåˆšåˆšå¥½å’Œå¤§ç±³çš„é¢å¹³é½å³å¯ï¼Œç”šè‡³å¯ä»¥å°‘ä¸€ç‚¹ å¼€å§‹ç…®ç±³é¥­ï¼Œä¸­é€”å¯ä»¥åŠ å…¥ä¸€äº›è‘¡è„å¹² ç±³é¥­ç…®å¥½ä»¥åï¼Œç„–äº”åˆ†é’Ÿï¼Œå¼€ç›–ï¼Œç”¨é“²å­è½»å¾®ç¿»åŠ¨æ•£çƒ­ å‚è€ƒ # å°é«˜å§ï¼šhttps://youtu.be/2VRRTq7FhEA?si=DLrUyEWKMv7btXc6 è€é¥­éª¨ï¼šhttps://youtu.be/I52nN86uhO0?si=-kTxBskiSWsLU1XU ","date":"9 November 2023","externalUrl":null,"permalink":"/2023/11/09/lamb_pilaf/","section":"Posts","summary":"\u003cp\u003eè¿™æ¬¡æˆ‘æ¥å¤åˆ»æ‰‹æŠ“ç¾Šè‚‰é¥­ã€‚\u003c/p\u003e","title":"æ‰‹æŠ“ç¾Šè‚‰é¥­åˆ¶ä½œ","type":"posts"},{"content":"General # Init script is just a shell script, which will be run for each node in the cluster, before Apache Spark driver or executor JVM starts.\nA cluster can have multiple init script if you want. These init scripts will be executed in the order provided.\nCluster scope init script # If your cluster is not in Edit mode, you can not see the button to add init script. You need to click Edit in the cluster configuration page, then you can add init script to your cluster settings.\nNote that if you use a workspace folder to store the init script, you do not need to specify the top level /Workspace in the script path. For example, if you init script path is /Workspace/Shared/cluster-conf.sh, in the cluster init setup, if you choose Workspace, the path you need to fill in is /Shared/cluster-conf.sh.\nYou can also store init script in DBFS path and ABFSS path, but DBFS path is being deprecated by Databricks. Here is how you can create and update the content of the init script if you use DBFS:\ndbutils.fs.mkdir(\u0026#34;dbfs:/databricks/cluster-init/\u0026#34;) dbutils.fs.put(\u0026#34;dbfs:/databricks/cluster-init/cluster-init.sh\u0026#34;, \u0026#34;\u0026#34;\u0026#34; #!/bin/bash timedatectl set-timezone Asia/Shanghai \u0026#34;\u0026#34;\u0026#34;, overwrite=True) For ABFSS path, the setup is the same.\nEnvironment variables # Databricks exposes some environment variables for the init script. For the details, refer to documentation here.\nGlobal init script # It is not recommended by Databricks official to use global init script.\nInit script logs # There will possibly be some errors when running the init scripts. The logging path for init scripts can be configured in the advanced configuration section for the cluster. Go to edit mode of cluster, under Advanced options for cluster, in the logging tab, we configure the log path. For example, the default options is dbfs:/cluster-logs.\nThe init script log path will be the following format:\ndbfs:/cluster-logs/\u0026lt;cluster-id\u0026gt;/init_scripts/\u0026lt;cluster-id\u0026gt;_\u0026lt;node-ip\u0026gt; Under the above path, there will log for stdout and stderr. You can check them using the dbutils.fs utilities like this:\n%fs head dbfs:/cluster-logs/\u0026lt;cluster-id\u0026gt;/init_scripts/\u0026lt;cluster-id\u0026gt;_\u0026lt;node-ip\u0026gt;/\u0026lt;time-stamp\u0026gt;_\u0026lt;init-script-name\u0026gt;.stderr.log ref:\nhttps://learn.microsoft.com/en-gb/azure/databricks/init-scripts/logs ","date":"21 October 2023","externalUrl":null,"permalink":"/2023/10/21/databricks-init-scripts/","section":"Posts","summary":"General # Init script is just a shell script, which will be run for each node in the cluster, before Apache Spark driver or executor JVM starts.\nA cluster can have multiple init script if you want. These init scripts will be executed in the order provided.\nCluster scope init script # If your cluster is not in Edit mode, you can not see the button to add init script. You need to click Edit in the cluster configuration page, then you can add init script to your cluster settings.","title":"Databricks Init Scripts","type":"posts"},{"content":"Using a virtual environment for Project dev in Python is a good practice. venv is module that is available since Python 3.3. It can help us to manage the virtual environment in a simple way.\nManage virtual env # Create a virtual env # Normally, we create a virtual environment under the project root directory:\npython -m venv paht/to/project-root/venv The name we give to this virtual env is venv. Under the directory venv, there are different files and folders. Under my macOS system, it has the following files:\nbin/ include/ lib/ pyvenv.cfg Activate and de-activate # To activate the virtual environment, run this command:\nsource venv/bin/activate Then your shell prompt changes and tells you are now in the virtual environment. When the environment has been activated, the VIRTUAL_ENV env variable is set to the path of the environment.\nTo deactivate the virtual environment, just run deactivate.\nref:\nPython venv: https://docs.python.org/3/library/venv.html use venv in Linux: https://www.youtube.com/watch?v=Kg1Yvry_Ydk Make jupyter work with virtual env # First, we need to install the ipykernel package inside the virtual env:\npip install ipykernel Then we can generate a kernelspec for jupyter:\npython -m ipykernel install --user --name \u0026lt;spec-name\u0026gt; # output: Installed kernelspec venv in /Users/\u0026lt;your-user-name\u0026gt;/Library/Jupyter/kernels/\u0026lt;spec-name\u0026gt; Now we can open the notebook:\njupyter notebook \u0026lt;your-notebook-name\u0026gt;.ipynb In the opened browser tab for jupyter, we can click the Kernel menu and click change kernel to switch the kernel.\nKernelspec management # To list your kernelspecs:\njupyter kernelspec list To remove the virtual env spec:\njupyter kernelspec remove \u0026lt;spec-name\u0026gt; ref:\nhttps://janakiev.com/blog/jupyter-virtual-envs/#add-virtual-environment-to-jupyter-notebook ipython kernelspec: https://ipython.readthedocs.io/en/stable/install/kernel_install.html#kernels-for-different-environments ","date":"11 October 2023","externalUrl":null,"permalink":"/2023/10/11/python-use-venv/","section":"Posts","summary":"\u003cp\u003eUsing a virtual environment for Project dev in Python is a good practice.\n\u003ca href=\"https://docs.python.org/3/library/venv.html\" target=\"_blank\"\u003evenv\u003c/a\u003e is module that is available since Python 3.3.\nIt can help us to manage the virtual environment in a simple way.\u003c/p\u003e","title":"Using Virutal Environment in Python with venv","type":"posts"},{"content":"A summary of different file systems in Databricks.\nDBFS # DBFS in databricks is a distributed file system, which maps the cloud storage to a file system for ease of use.\nThere are two different styles of notation when we work with file paths in DBFS. The first is the spark API format: dbfs:/some/path/. The second is the file API format: /dbfs/some/path/\nspark API format # We use the spark API format when:\nwe are using the spark operations: spark.write.format('csv').save('dbfs:/path/to/my-csv') spark.read.load('dbfs:/path/to/my-csv') we are using the dbutils.fs interface: dbutils.fs.ls('dbfs:/some/path') we can also use the %fs magic for DBFS operations: %fs ls dbfs:/path/to/file we run spark sql statement: SELECT * FROM JSON.`dbfs:/FileStore/shared_uploads/my-json-table` ref:\nselect from a file: https://spark.apache.org/docs/latest/sql-ref-syntax-qry-select-file.html file API format # We use the file API format when:\nwe use shell command: %sh ls -l /dbfs/path/to/file when use python code that is not related to spark: f = open('/dbfs/path/to/file') we use other packages that does not support spark. Local driver file system # When we want to specify file path in local driver node, for bash and Python code, we just use the path as is:\nshell: %sh ls /usr/include/zlib.h python: f = open('/usr/include/zlib.h') However, if want to access the local driver file system using the dbutils.fs interface, we need to use this notation: file:/path/to/file:\ndbutils.fs.ls('file:/usr/include/zlib.h') %fs ls file:/usr/include/zlib.h move file from local file system to DBFS # We can also move a file from local file system to DBFS:\ndbutils.fs.mv(\u0026#34;file:/tmp/some_file.csv\u0026#34;, \u0026#34;dbfs:/tmp/my_file.csv\u0026#34;) ref:\nhttps://learn.microsoft.com/en-us/azure/databricks/files/download-internet-files#moving-data-with-dbutils access file in local driver file system: https://learn.microsoft.com/en-us/azure/databricks/files/#--access-files-on-the-driver-filesystem Workspace files # To read a file under workspace folder in spark, we need to use the full path with file: notation. For example:\ndf = spark.read.csv(\u0026#39;file:/some/csv/file/path/under/workspace\u0026#39;, header=True) ref:\nworkspace file: https://learn.microsoft.com/en-us/azure/databricks/files/workspace-interact references # DBFS: https://learn.microsoft.com/en-gb/azure/databricks/dbfs/ DBFS default locations: https://learn.microsoft.com/en-gb/azure/databricks/dbfs/root-locations DBFS vs files on local driver: https://www.youtube.com/watch?v=ThjvQt3QBvI how to specify DBFS path: https://kb.databricks.com/dbfs/how-to-specify-dbfs-path ","date":"3 October 2023","externalUrl":null,"permalink":"/2023/10/03/databricks-dbfs-and-other-filesystem/","section":"Posts","summary":"\u003cp\u003eA summary of different file systems in Databricks.\u003c/p\u003e","title":"File Systems in Databricks","type":"posts"},{"content":"For array type column, explode() will convert it to n rows, where n is the number of elements in the array. For map/dictionary type column, explode() will convert it to nx2 shape, i.e., n rows, 2 columns (for key and value).\nExplode for array # CREATE TABLE IF NOT EXISTS my_table (name STRING, books ARRAY\u0026lt;STRING\u0026gt;, grades ARRAY\u0026lt;FLOAT\u0026gt;); INSERT INTO my_table VALUES (\u0026#34;Tom\u0026#34;, array(\u0026#39;abc\u0026#39;, \u0026#39;efs\u0026#39;), array(85, 70, 91)), (\u0026#39;Alice\u0026#39;, array(\u0026#39;wer\u0026#39;, \u0026#39;mzdf\u0026#39;), array(70, 80, 90)) LATERAL VIEW explode will generate the different combinations of exploded columns. In the above case, column books has 2 elements, and column grades has 3 elements. So for each name, you now have 2x3=6 rows.\nSELECT name, book_name, grade FROM my_table LATERAL VIEW explode(books) AS book_name LATERAL VIEW explode(grades) AS grade The generated table is like this:\nname book_name grade Alice wer 70 Alice wer 80 Alice wer 90 Alice mzdf 70 Alice mzdf 80 Alice mzdf 90 Tom abc 85 Tom abc 70 Tom abc 91 Tom efs 85 Tom efs 70 Tom efs 91 Explode for map # CREATE TABLE IF NOT EXISTS demo_table (name STRING, cnt MAP\u0026lt;STRING, INT\u0026gt;); INSERT INTO demo_table VALUES (\u0026#34;ABC\u0026#34;, map_from_entries(array((\u0026#34;k1\u0026#34;, 1), (\u0026#34;k2\u0026#34;, 2)))), (\u0026#34;BCD\u0026#34;, map_from_entries(array((\u0026#34;k1\u0026#34;, 3), (\u0026#34;K2\u0026#34;, 5)))), (\u0026#34;YUV\u0026#34;, map_from_entries(array((\u0026#34;k1\u0026#34;, 9), (\u0026#34;k2\u0026#34;, 8), (\u0026#34;k3\u0026#34;, 7)))) The demo_table:\nname cnt YUV {\u0026ldquo;k1\u0026rdquo;:9,\u0026ldquo;k2\u0026rdquo;:8,\u0026ldquo;k3\u0026rdquo;:7} ABC {\u0026ldquo;k1\u0026rdquo;:1,\u0026ldquo;k2\u0026rdquo;:2} BCD {\u0026ldquo;k1\u0026rdquo;:3,\u0026ldquo;K2\u0026rdquo;:5} We can run LATERAL VIEW explode on the column cnt:\nSELECT name, key, val FROM nn_ecp.demo_table LATERAL VIEW explode(cnt) AS key, val The generated table is like this:\nname key val YUV k1 9 YUV k2 8 YUV k3 7 ABC k1 1 ABC k2 2 BCD k1 3 BCD K2 5 references # explode: https://spark.apache.org/docs/3.1.3/api/python/reference/api/pyspark.sql.functions.explode.html lateral view: https://spark.apache.org/docs/latest/sql-ref-syntax-qry-select-lateral-view.html map_from_entries() method: https://learn.microsoft.com/en-us/azure/databricks/sql/language-manual/functions/map_from_entries explode() vs explode_outer() vs posexplode() vs posexplode_outer(): https://www.youtube.com/watch?v=ZIWdx204-0E ","date":"26 September 2023","externalUrl":null,"permalink":"/2023/09/26/spark_lateral_view_explode/","section":"Posts","summary":"\u003cp\u003eFor array type column, \u003ccode\u003eexplode()\u003c/code\u003e will convert it to \u003ccode\u003en\u003c/code\u003e rows, where \u003ccode\u003en\u003c/code\u003e is the number of elements in the array.\nFor map/dictionary type column, \u003ccode\u003eexplode()\u003c/code\u003e will convert it to \u003ccode\u003enx2\u003c/code\u003e shape, i.e., n rows, 2 columns (for key and value).\u003c/p\u003e","title":"LATERAL VIEW EXPLODE in Spark","type":"posts"},{"content":"","date":"26 September 2023","externalUrl":null,"permalink":"/tags/spark/","section":"Tags","summary":"","title":"Spark","type":"tags"},{"content":"","date":"26 September 2023","externalUrl":null,"permalink":"/categories/sql/","section":"Categories","summary":"","title":"SQL","type":"categories"},{"content":"æœ¬æ–‡æ€»ç»“éº»å©†è±†è…çš„åšæ³•ã€‚\nåŸæ–™ # è±†è…ï¼Œç‰›è‚‰æ²«ï¼Œå››å·è±†ç“£é…±ï¼Œå¤§è’œï¼Œå§œï¼ŒèŠ±æ¤’ï¼Œå¹²è¾£æ¤’ï¼Œç”ŸæŠ½ï¼Œæ·€ç²‰\nåŸæ–™å‡†å¤‡ # è±†è…åœ¨å¾·å›½å¯ä»¥åˆ°è¶…å¸‚ vegan åŒºè´­ä¹°ï¼Œä¾‹å¦‚ reweï¼Œå¦‚æœè¦ä¹°å«©è±†è…ï¼Œå¯ä»¥é€‰æ‹© seidentoufuã€‚è±†è…åˆ‡æˆå°å—å¤‡ç”¨ã€‚ å‡†å¤‡é€‚é‡å¤§è’œåˆ‡æœ«ï¼Œé€‚é‡å§œåˆ‡æœ« å‡†å¤‡æ·€ç²‰æ°´ï¼ˆæ·€ç²‰å¯ä»¥é€‰æ‹©åœŸè±†æ·€ç²‰ï¼Œæˆ–è€…ç‰ç±³æ·€ç²‰ï¼Œå¾·å›½è¶…å¸‚å¯ä»¥ä¹° SpeisestÃ¤rkeï¼‰ åˆ¶ä½œè¿‡ç¨‹ # åˆ€å£è¾£æ¤’åˆ¶ä½œ # é”…ä¸­åŠ å…¥å°‘é‡æ²¹ï¼Œæ²¹çƒ­ä»¥åï¼ŒåŠ å…¥é€‚é‡èŠ±æ¤’å’Œå¹²è¾£æ¤’ï¼Œç‚’ 15 ç§’å·¦å³ã€‚æŠŠèŠ±æ¤’å’Œå¹²è¾£æ¤’ç¢¾ç¢ï¼Œå¦‚æœæœ‰ç ´å£æœºï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ç ´å£æœºæ…ç¢ã€‚\nè±†è…ç„¯æ°´ # é”…ä¸­åŠ æ°´ï¼Œæ”¾å…¥ä¸€äº›é£Ÿç›ï¼ŒåŠ å…¥åˆ‡å¥½å—çš„è±†è…ï¼Œç…®ä¸€ä¸¤åˆ†é’Ÿæå‡ºã€‚\nç‚’è‚‰æ²« # èµ·é”…ï¼ŒåŠ å…¥å°‘é‡çš„æ²¹ï¼Œæ²¹çƒ­åŠ å…¥ç‰›è‚‰æ²«ï¼ŒæŠŠæ°´åˆ†ç‚’å¹²ï¼ŒåŠ å…¥è’œæœ«å’Œå§œï¼Œç»§ç»­ç¿»ç‚’ï¼ŒåŠ å…¥ä¸€å‹ºçš„è±†ç“£é…±ï¼ŒåŠ å…¥åˆ€å£è¾£æ¤’ï¼Œç¿»ç‚’å‡åŒ€ï¼Œè®©è‚‰æ²«å‡åŒ€è£¹ä¸Šçº¢æ²¹ã€‚\nç‚–ç…®ä¸å‹¾èŠ¡ # é”…ä¸­åŠ å…¥å°‘é‡çš„æ¸…æ°´ï¼Œä¸è¦å¤ªå¤šï¼Œæ°´å¼€ä»¥åï¼Œç…®ä¸¤ä¸‰åˆ†é’Ÿï¼Œç„¶ååˆ†ä¸‰æ¬¡åŠ å…¥è°ƒå¥½çš„æ·€ç²‰æ°´ï¼Œä¸‰æ¬¡å‹¾èŠ¡ï¼Œåˆ¶ä½œå®Œæˆã€‚\nå‚è€ƒ # è€é¥­éª¨éº»å©†è±†è…ï¼šhttps://www.youtube.com/watch?v=kpA7rFpNE7Q\u0026t=7s ç‹åˆšç‰ˆéº»å©†è±†è…ï¼šhttps://www.youtube.com/watch?v=USoC8AqirVA ","date":"23 September 2023","externalUrl":null,"permalink":"/2023/09/23/mapo_tou_fu/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“éº»å©†è±†è…çš„åšæ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šéº»å©†è±†è…","type":"posts"},{"content":"æœ¬æ¬¡æ¥å¤åˆ»å°æ¹¾å¤è‚‰é¥­ã€‚\nåŸæ–™ # äº”èŠ±è‚‰ï¼Œé¸¡è›‹ï¼Œçº¢æ´‹è‘±/çº¢è‘±å¤´ï¼Œå¤§è‘±ï¼Œè’œï¼Œå¹²é¦™è‡ï¼Œç”ŸæŠ½ï¼Œè€æŠ½ï¼Œèƒ¡æ¤’ç²‰ï¼Œé»„å†°ç³–/ç™½ç³–\nå‡†å¤‡ # å¹²é¦™è‡æå‰æ´—å¹²å‡€ï¼Œç„¶åæ³¡æ°´ï¼Œç­‰é¦™è‡æ³¡è½¯äº†ï¼Œå–å‡ºé¦™è‡ï¼Œåˆ‡æˆå°ä¸å¤‡ç”¨ï¼Œæ³¨æ„æ³¡é¦™è‡çš„æ°´ä¸è¦å€’æ‰ï¼Œåç»­å¤è‚‰å¯ä»¥ç”¨ å¾·å›½è¶…å¸‚äº”èŠ±è‚‰ä¸ç®—å¸¸è§ï¼Œæœ‰çš„è¶…å¸‚æ²¡æœ‰å–ï¼Œå¯ä»¥å» kaufland, rewe å’Œ edeka è¿™äº›è¶…å¸‚ï¼Œé€‰æ‹© schweinebauch å³å¯ã€‚äº”èŠ±è‚‰æ³¨æ„çœ‹è‚‰çš®æœ‰æ²¡æœ‰çŒªæ¯›ï¼Œå¦‚æœä¸å¹²å‡€ï¼Œç›´æ¥æŠŠçŒªçš®å»æ‰å†ä½¿ç”¨ï¼Œæˆ–è€…æŠŠé”…çƒ§çƒ­ï¼Œçƒ«ä¸€ä¸‹çŒªçš®ã€‚äº”èŠ±è‚‰å…ˆåˆ‡ç‰‡ï¼Œå†æ ¹æ®ä¸ªäººå–œå¥½åˆ‡æˆç»†æ¡æˆ–è€…åˆ‡æˆå°ä¸ çº¢æ´‹è‘±åˆ‡æˆä¸ï¼Œå¤§è‘±å–ä¸€äº›è‘±ç™½åˆ‡æˆä¸ï¼Œå¤§è’œåˆ‡æˆè’œæœ«ã€‚ åˆ¶ä½œè¿‡ç¨‹ # ç…®é¸¡è›‹ # é”…å†…çƒ§æ°´ï¼Œæ°´å¼€åæ”¾å…¥é¸¡è›‹ï¼Œç…®å…«åˆ†é’Ÿå³å¯ã€‚åˆ°æ—¶é—´å–å‡ºé¸¡è›‹ï¼Œæ”¾å…¥å†·æ°´é™æ¸©å¤‡ç”¨ã€‚\nç‚¸çº¢æ´‹è‘± # é”…ä¸­åŠ å…¥ç¨å¾®å¤šä¸€ç‚¹æ²¹ï¼Œä¸­å°ç«ï¼Œç­‰åˆ°æ²¹æ²¡æœ‰å®Œå…¨çƒ­ï¼Œå°±å¯ä»¥æ”¾å…¥å¤§éƒ¨åˆ†åˆ‡å¥½çš„çº¢æ´‹è‘±ï¼Œæ³¨æ„è¦ä¸æ–­æ…æ‹Œï¼Œæ”¾ç½®æ´‹è‘±è¢«ç‚¸ç„¦å˜è‹¦ï¼Œç­‰æ´‹è‘±å˜æˆé‡‘é»„ï¼Œå³å¯å…³ç«ï¼ŒæŠŠæ´‹è‘±æå‡ºï¼Œæ²¥å¹²æ²¹å¤‡ç”¨ã€‚\nç‚’äº”èŠ±è‚‰ # å¦èµ·é”…ï¼Œæ³¨æ„ä¸ç”¨åŠ æ²¹ï¼Œç›´æ¥æ”¾å…¥äº”èŠ±è‚‰ï¼Œæ”¾å…¥å‰©ä¸‹çš„çº¢æ´‹è‘±ï¼Œå¤§è‘±ï¼Œè’œæœ«ï¼Œä¸æ–­ç¿»ç‚’äº”èŠ±è‚‰ï¼ŒæŠŠäº”èŠ±è‚‰æ°´æ°”ç‚’å¹²ï¼Œä¸€ç›´åˆ°ç‚’å‡ºçŒªè‚‰é‡Œé¢çš„æ²¹è„‚ï¼Œè¿™æ—¶çŒªè‚‰å¼€å§‹å†’æ¯”è¾ƒå¤§çš„æ³¡ï¼Œå¯ä»¥åŠ å…¥é€‚é‡çš„ç”ŸæŠ½ï¼Œäº”é¦™ç²‰ï¼Œèƒ¡æ¤’ç²‰ï¼ŒåŠ å…¥é»„å†°ç³–ï¼Œç»§ç»­ç¿»ç‚’ï¼Œç­‰åˆ°è‚‰é¢œè‰²å¼€å§‹å˜æ·±ï¼Œäº”èŠ±è‚‰å°±å·®ä¸å¤šç‚’å¥½äº†ã€‚å¦‚æœçŒªè‚‰æ²¹è„‚æ¯”è¾ƒå¤šï¼Œåˆ°åé¢æå‡ºçš„çŒªæ²¹å¤ªå¤šï¼Œå¯ä»¥èˆ€å‡ºæ¥æ”¾åˆ°ç¢—ä¸­ä»¥åä½¿ç”¨ï¼Œå¦åˆ™åšå‡ºæ¥çš„å¤è‚‰é¥­å¤ªæ²¹è…»ã€‚\nç‚–ç…® # é”…ä¸­åŠ å…¥æ³¡é¦™è‡çš„æ°´ï¼Œæ°´é‡æ²¡è¿‡è‚‰ä¸€äº›å³å¯ï¼ŒåŠ å…¥ç‚¸å¥½çš„çº¢æ´‹è‘±ï¼ŒåŠ å…¥åˆ‡å¥½çš„é¦™è‡ç²’ï¼Œæ…æ‹Œå‡åŒ€ï¼Œæ ¹æ®é¢œè‰²å¯ä»¥è¡¥ä¸€äº›è€æŠ½è°ƒè‰²ï¼Œå¤è‚‰é¥­é¢œè‰²æ·±ä¸€äº›å–ç›¸ä¼šæ¯”è¾ƒå¥½ã€‚æ ¹æ®å’¸æ·¡ï¼Œå¯ä»¥é€‚å½“æ”¾ä¸€äº›é£Ÿç›ã€‚æœ€åè¿˜éœ€è¦æ”¾å…¥ä¹‹å‰ç…®çš„é¸¡è›‹ï¼Œç›´æ¥å‰¥çš®æ”¾å…¥å³å¯ã€‚\nä¸­å°ç«ç‚–ç…®ä¸€ä¸ªå°æ—¶ï¼Œå¦‚æœæƒ³è¦è½¯çƒ‚ï¼Œå°±åŠ é•¿ç‚–ç…®çš„æ—¶é—´ï¼Œæ³¨æ„çœ‹æ°´åˆ†ï¼Œä¸è¦çƒ§å¹²äº†ï¼Œç­‰æ°´åˆ†ä¸å¤šäº†ï¼Œæœ€åæ”¶æ±å³å¯ã€‚\nå‚è€ƒ # è€é¥­éª¨å¤è‚‰é¥­ï¼šhttps://youtu.be/RRgDVvskHIM?si=9Qbsz5LMe8CNHxd2 ","date":"22 September 2023","externalUrl":null,"permalink":"/2023/09/22/taiwan_lu_rou_fan/","section":"Posts","summary":"\u003cp\u003eæœ¬æ¬¡æ¥å¤åˆ»å°æ¹¾å¤è‚‰é¥­ã€‚\u003c/p\u003e","title":"åœ¨å¾·å›½åšå°æ¹¾å¤è‚‰é¥­","type":"posts"},{"content":"","date":"20 September 2023","externalUrl":null,"permalink":"/tags/fastapi/","section":"Tags","summary":"","title":"FastAPI","type":"tags"},{"content":"Some notes on developing a web application with FastAPI.\nTesting # FastAPI provides a fastapi.testclient module to help us test the application.\n# content of application.py from fastapi import FastAPI app = FastAPI() @app.get(\u0026#34;/\u0026#34;) def index(): return {\u0026#39;msg\u0026#39;: \u0026#39;hello world!\u0026#39;} You can test the endpoints with TestClient class from testclient module.\n# content of test_application.py from application import app from fastapi.testclient import TestClient from fastapi import status client = TestClient(app) def test_root(): response = app.get(\u0026#39;/\u0026#39;) assert response.status_code == status.HTTP_200_OK assert response.json() == {\u0026#39;msg\u0026#39;: \u0026#39;hello world!\u0026#39;} Then you can test your application with pytest:\npytest . ref:\nhttps://fastapi.tiangolo.com/tutorial/testing/ Generate OpenAPI specification # The app we create using FastAPI has a openapi() method. Under the hood, it is calling the get_openapi() method from the module fastapi.openapi.utils.\nWe can override this method to customize the OpenAPI schema.\n# content of application.py from fastapi import FastAPI from fastapi.openapi.utils import get_openapi app = FastAPI() @app.get(\u0026#34;/\u0026#34;) def index(): return {\u0026#39;msg\u0026#39;: \u0026#34;hello world\u0026#34;} def custom_openapi(): if app.openapi_schema: return app.openapi_schema openapi_schema = get_openapi( title=\u0026#34;My Awesome Application\u0026#34;, version=app.version, contact={ \u0026#34;name\u0026#34;: \u0026#34;Your Name\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;your_name@host.com\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;https://www.example.com\u0026#34; }, openapi_version=app.openapi_version, summary=\u0026#34;This implements my awesome application with fastAPI\u0026#34;, description=\u0026#34;\u0026#34;\u0026#34; some long description about your application. \u0026#34;\u0026#34;\u0026#34;, routes=app.routes, ) app.openapi_schema = openapi_schema return app.openapi_schema app.openapi = custom_openapi Then if you want to generate the OpenAPI spec, it is easy:\n# content of generate_openapi_spec.py import json from application import app with open(\u0026#39;path/to/openapi.json\u0026#39;, \u0026#39;w\u0026#39;) as f: json.dump(app.openapi(), indent=4) ref:\ngenerate OpenAPI programmatically: https://github.com/tiangolo/fastapi/discussions/7690 https://fastapi.tiangolo.com/how-to/extending-openapi/ ","date":"20 September 2023","externalUrl":null,"permalink":"/2023/09/20/fastapi-testing-and-openapi-spec/","section":"Posts","summary":"\u003cp\u003eSome notes on developing a web application with FastAPI.\u003c/p\u003e","title":"FastAPI testing and OpenAPI doc generation","type":"posts"},{"content":"","date":"20 September 2023","externalUrl":null,"permalink":"/tags/openapi/","section":"Tags","summary":"","title":"OpenAPI","type":"tags"},{"content":"The Databricks cluster is using UTC as the default timezone. So when you run some time-related code, the displayed time is not the local time, which is not ideal. In this post, I want to share how to change the timezone setting for Databricks cluster.\nChange the system timezone # In the notebook cell, run the following to check what Linux system Databricks is using:\n%sh lsb_release -a It shows the underlying system is Ubuntu. On Ubuntu, we can use timedatectl command line tool to change the timezone.\nList timezones:\n%sh timedatectl list-timezones Pick a timezone we want:\n%sh timedatectl set-timezone Asia/Shanghai Note the above command does not impact the timezone setting of spark, since spark has already been started.\nref:\nchange timezone Ubuntu: https://askubuntu.com/a/594186/768311 Change timezone for databricks spark # For the current session # If you only want to set the timezone for current spark session, just run the following statement:\nspark.conf.set(\u0026#39;spark.sql.session.timeZone\u0026#39;, \u0026#39;Asia/Shanghai\u0026#39;) The explanation for spark.sql.session.timeZone:\nThe ID of session local timezone in the format of either region-based zone IDs or zone offsets. Region IDs must have the form \u0026lsquo;area/city\u0026rsquo;, such as \u0026lsquo;America/Los_Angeles\u0026rsquo;. Zone offsets must be in the format \u0026lsquo;(+|-)HH\u0026rsquo;, \u0026lsquo;(+|-)HH: mm\u0026rsquo; or \u0026lsquo;(+|-)HH:mm:ss\u0026rsquo;, e.g \u0026lsquo;-08\u0026rsquo;, \u0026lsquo;+01:00\u0026rsquo; or \u0026lsquo;-13:33:33\u0026rsquo;. Also \u0026lsquo;UTC\u0026rsquo; and \u0026lsquo;Z\u0026rsquo; are supported as aliases of \u0026lsquo;+00:00\u0026rsquo;. Other short names are not recommended to use because they can be ambiguous.\nThen you can run display(spark.sql(\u0026quot;select current_timezone()\u0026quot;)) in Databricks notebook cell to verify the change. However, if you create a new notebook using the same cluster, the timezone setting does not persist.\nref:\nspark configuration: https://spark.apache.org/docs/latest/configuration.html#runtime-sql-configuration set default timezone databricks: https://stackoverflow.com/a/68268838/6064933 use different timezone for spark session: https://stackoverflow.com/a/68957356/6064933 In the cluster config # In the Advanced options section of cluster setting page, under Spark tab, you can add the following config:\nspark.sql.session.timeZone Asia/Shanghai This will make sure every notebooks that attached to this cluster has the correct timezone setup.\ndatabricks cluster init script # You can also set up the timezone in init script for the cluster. Just add someting like the following to the cluster init script:\ntimedatectl set-timezone Asia/Shanghai Precedence of different settings # The precedence of setting up timezone of the above three methods:\nsetting in notebook session \u0026gt; cluster config \u0026gt; init script ref:\nwhat are init script: https://learn.microsoft.com/en-us/azure/databricks/init-scripts/ cluster-scope init script: https://learn.microsoft.com/en-us/azure/databricks/init-scripts/cluster-scoped ","date":"15 September 2023","externalUrl":null,"permalink":"/2023/09/15/databricks-spark-change-timezone/","section":"Posts","summary":"\u003cp\u003eThe Databricks cluster is using UTC as the default timezone.\nSo when you run some time-related code, the displayed time is not the local time, which is not ideal.\nIn this post, I want to share how to change the timezone setting for Databricks cluster.\u003c/p\u003e","title":"Change Timezone in Databricks Spark","type":"posts"},{"content":"In my previous post, I shared how to profile a single function using line_profiler. In this post, I want to share how to profile Python script/module and visualize the profile stat to pinpoint the slow part of the code.\nGenerate the raw profiling stat # In Python, we can use cProfile to generate the raw profile result:\npython -m cProfile -o {script_name}.prof {your_script}.py [script_argument] The -o options tells cProfile to generate a profile stat file, which is in binary format and not human readable. In order to interpret the profiling stat easily, we need to install some tools to visualize the result.\nstatic profile graph generation # flameprof # flameprof can generate a flame graph in SVG format. It is not actively maintained anymore.\npip install flameprof flameprof input.prof \u0026gt; output.svg gprof2dot # gprof2dot can generate a directed call graph for your script with their running time.\npip install gprof2dot gprof2dot -f pstats input.prof | dot -Tsvg -o output.svg interactive profile graph generation # snakeviz # snakeviz can also generate flamegraph from cProfile stat. It also has great interactive UI to explore the profiling result.\npip install snakeviz snakeviz input.prof tuna # Tuna is like snakeviz, but it claims to solve some of the limitation of snakeviz. The UI is less polished compared to snakeviz, though.\nPy-spy # py-spy can work with speedscope to generate flamegraph.\npip install py-spy # on macOS, needs sudo to run py-spy sudo py-spy record --format speedscope -r 500 -F -o output.speedscope python some_script.py chown -R {your-user-name} output.speedscope # use speedscope to open the file, https://www.speedscope.app/ py-spy can also profile the running program without interrupting it.\npyinstrument # pyinstrument is another tool you can use to generate profiling graph. You can directly show the result in terminal:\npip install pyinstrument pyinstrument your_script.py You can also generate other output format:\npyinstrument -r html your_script.py # or generate speedscope file, then inspect with speedscope pyinstrument -r speedscope your_script.py references # https://docs.python.org/3/library/profile.html flame graph: https://www.youtube.com/watch?v=6uKZXIwd6M0 https://roman.pt/posts/python-performance-profiling/ ","date":"12 September 2023","externalUrl":null,"permalink":"/2023/09/12/python_profiling_visualization/","section":"Posts","summary":"\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2020/11/06/profile_python_line_profiler/\" target=\"_blank\"\u003eprevious post\u003c/a\u003e, I shared how to profile a single function using line_profiler.\nIn this post, I want to share how to profile Python script/module and visualize the profile stat to pinpoint the slow part of the code.\u003c/p\u003e","title":"How to Profile Your Python Script/Module","type":"posts"},{"content":"","date":"12 September 2023","externalUrl":null,"permalink":"/tags/profiling/","section":"Tags","summary":"","title":"Profiling","type":"tags"},{"content":"å®¶å¸¸å°‘æ²¹ç‰ˆæœ¬èŒ„å­è‚‰æ²«åˆ¶ä½œã€‚\nææ–™ # é•¿èŒ„å­ï¼ŒçŒªè‚‰æ²«ï¼ˆæœ€å¥½æœ‰è‚¥æœ‰ç˜¦ï¼Œå¦åˆ™å¤ªå¹²ï¼‰ï¼Œé’æ¤’ï¼Œå¤§è’œï¼Œå§œï¼Œçº¢æ´‹è‘±ï¼Œè€—æ²¹ï¼Œé»„è±†é…±ï¼Œå¹²é»„é…±ï¼Œè€æŠ½\nåˆ¶ä½œè¿‡ç¨‹ # ææ–™å‡†å¤‡ # é’æ¤’åˆ‡ç‰‡ï¼Œå§œåˆ‡æ²«ï¼Œå¤§è’œåˆ‡æ²«ï¼Œæ´‹è‘±åˆ‡ä¸ï¼Œå–é€‚é‡è€—æ²¹ã€é»„è±†é…±ï¼Œå¹²é»„é…±åŠ æ°´æ…æ‹Œå‡åŒ€è°ƒä¸ªç¢—æ± å¦‚æœä¸æ˜¯çŒªè‚‰æ²«ï¼Œéœ€è¦çŒªè‚‰åˆ‡æ²« ç‚’è‚‰æ²« # é”…å†…åŠ å…¥æ²¹ï¼Œæ²¹çƒ­åŠ å…¥çŒªè‚‰æ²«ç¿»ç‚’ï¼ŒåŠ å…¥åˆ‡å¥½çš„æ´‹è‘±ï¼Œå§œæ²«ï¼Œéƒ¨åˆ†è’œæ²«ï¼Œç»§ç»­ç¿»ç‚’ï¼ŒåŠ å…¥é€‚é‡æ–™é…’æˆ–è€…ç™½é…’ï¼Œä¸€ç›´ç¿»ç‚’ï¼ŒåŠ å…¥é€‚é‡è€æŠ½ä¸Šè‰²ï¼Œç¿»ç‚’ç›´åˆ°æŠŠæ°´æ±½ç‚’å¹²ï¼Œè‚‰æ²«å¼€å§‹å˜å¾—è½»ç›ˆï¼Œç››å‡ºå¤‡ç”¨\nèŒ„å­åˆ¶ä½œ # é”…å†…åŠ å…¥å°‘é‡çš„æ²¹ï¼Œé•¿èŒ„å­æ°æˆæ®µæ”¾è¿›å»ï¼Œä¸€å®šè¦ä¸­å°ç«ï¼ˆå¦‚æœæ˜¯ 6 çº§ï¼Œç”¨ level 2 æˆ–è€… 3 å³å¯ï¼‰ï¼Œç›–ä¸Šé”…ç›–ç…ä¸‰åˆ†é’Ÿï¼Œç„¶åå¼€ç›–æŠŠèŒ„å­ç¿»é¢ï¼Œå†ç…ä¸‰åˆ†é’Ÿ\nå®Œæˆ # æ­¤æ—¶èŒ„å­åˆ°äº†ä¸€æ£å°±ç¢çš„ç¨‹åº¦ï¼Œå€’å…¥ç‚’å¥½çš„è‚‰æ²«ï¼Œç¿»ç‚’ï¼ŒåŠ å…¥é’æ¤’ç‰‡ï¼Œç»§ç»­ç¿»ç‚’ï¼ŒåŠ å…¥è°ƒçš„ç¢—æ±ï¼Œæ°´ä¸å¤ŸåŠ æ°´ï¼Œæ²¡è¿‡èŒ„å­å·®ä¸å¤šï¼Œä¸­å°ç«ç…®ä¸€ä¸‹ï¼Œç­‰æ°´åˆ†å°‘äº†ä»¥åï¼ŒåŠ å…¥å‰©ä¸‹çš„è’œæœ«ï¼Œæ…æ‹Œå‡åŒ€ï¼Œå¾…æ°´åˆ†å¿«å¹²æ—¶å…³ç«ã€‚\n","date":"9 September 2023","externalUrl":null,"permalink":"/2023/09/09/eggplant_with_minced_meat/","section":"Posts","summary":"\u003cp\u003eå®¶å¸¸å°‘æ²¹ç‰ˆæœ¬èŒ„å­è‚‰æ²«åˆ¶ä½œã€‚\u003c/p\u003e","title":"èœè°±ï¼šèŒ„å­è‚‰æ²«","type":"posts"},{"content":"TL;DR: Lazy.nvim is amazing. It is easy to switch and reduce your startup time immensely. Just try it!\nI think Packer.nvim has been a revolutionary plugin manager after nvim 0.5. It introduces a lot of lazy loading techniques to speed up the startup process of Neovim.\nBackground and history # I migrated from vim-plug to Packer.nvim in July 2021 and haven been happily using it since. The advanced lazy-loading reduced my startup time to around 250ms.\nHowever, packer does have its own issues:\nIt introduces the packer_compiled.lua file. Each time you made changes to packer config, you need to run Packer Compile or Packer Sync to sync your changes. This is error-prone and not user-friendly, especially for novice users. The Lazy loading mechanisms provided by Packer is somewhat complicated. There are settings such as cond, cmd, key, ft to control the plugin lazy loading. At the beginning of this year (2023), the renowned plugin author folke introduced Lazy.nvim1, which quickly gained the attention of Neovim users and has been widely adopted.\nSince this year, packer hasn\u0026rsquo;t been actively maintained anymore, presumably due to the introduce of Lazy.nvim. Not too long ago, Packer has officially announced that it is no longer maintained. This is the last straw that prompts me to try Lazy.nvim.\nMigrating from Packer to Lazy.nvim # In Lazy.nvim, each plugin has a plugin spec, which specifies how you want to install the plugin and other conditions.\nSimple changes # The documentation of Lazy has a section on migrating from Packer.nvim: https://github.com/folke/lazy.nvim#packernvim. It mainly deals with some key changes for the Lazy plugin spec.\nLazy-loading events # Lazy.nvim provides a special autocmd event called VeryLazy. Basically, you can use VeryLazy for all plugins that do not require immediate use after Nvim startup. However, for some plugins, setting the Lazy loading events to VeryLazy leads to issues. After nvim startup, these plugins do not work properly for me:\nandymass/vim-matchup: We need to use BufRead as the event. akinsho/bufferline.nvim: If we use VeryLazy for bufferline.nvim, the tabline can not be shown. I have to use BufEnter event as the trigger. nvim-cmp and nvim-lspconfig: The lsp can not be attached to the current buffer if we use VeryLazy. As a result, nvim-cmp can not auto-complete using the nvim-lsp source. I changed the event to { 'BufRead', 'BufNewFile' }, and it works. Conditional installation # Previously when I use Packer, if I want to install a plugin based on some condition, I need to wrap the use{} statement inside the install condition:\nif vim.g.is_mac then use { \u0026#34;nvim-treesitter/nvim-treesitter\u0026#34;, ... } end For Lazy.nvim, we can use the enabled key from the plugin spec to control the installation condition, some thing like this:\n-- only install nvim-tree on macOS { \u0026#34;nvim-treesitter/nvim-treesitter\u0026#34;, enabled = function() if vim.g.is_mac then return true end return false end, ... }, Multi-level dependencies? # If plugin A depends on plugin B (A needs to be loaded after B, since A needs some functions from B), and plugin B depends on plugin C. In Packer, you would write something like this:\nuse { \u0026#39;A\u0026#39;, after = \u0026#39;B\u0026#39; } use { \u0026#39;B\u0026#39;, after = \u0026#39;C\u0026#39; } use { \u0026#39;C\u0026#39; } In Lazy.nvim, I am not sure how to express this?\n{ \u0026#39;B\u0026#39;, dependencies = { \u0026#39;A\u0026#39; } }, { \u0026#39;C\u0026#39;, dependencies = { \u0026#39;B\u0026#39; } }, { \u0026#39;A\u0026#39; } Not sure if this is the correct way to do this in Lazy.nvim?\nLazy vs Packer # After switching to Lazy.nvim, even without excessive optimization, my startup time has been decreased to around 40-70ms. Compared to previous startup time of 250ms by Packer.nvim, lazy.nvim is truly amazing.\nLazy.nvim also has a beautiful and feature-rich UI compared to the more primitive Packer UI. You can install, update, sync, profile plugins startup time with ease.\nFor anymore interested, you can check my current Lazy.nvim config here.\nReferences # Migrate from Packer to Lazy nvim: https://www.youtube.com/watch?v=aqlxqpHs-aQ https://www.reddit.com/r/neovim/comments/107bd3d/introducing_lazyvim/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 September 2023","externalUrl":null,"permalink":"/2023/09/02/from_packer_to_lazy_nvim/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eTL;DR: Lazy.nvim is amazing. It is easy to switch and reduce your startup time immensely. Just try it!\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI think \u003ca href=\"https://github.com/wbthomason/packer.nvim\" target=\"_blank\"\u003ePacker.nvim\u003c/a\u003e has been a revolutionary plugin manager after nvim 0.5.\nIt introduces a lot of lazy loading techniques to speed up the startup process of Neovim.\u003c/p\u003e","title":"Migrating from Packer.nvim to Lazy.nvim","type":"posts"},{"content":"","date":"2 September 2023","externalUrl":null,"permalink":"/tags/plugin/","section":"Tags","summary":"","title":"Plugin","type":"tags"},{"content":"To extract pdf pages from several files, we can use the open source tool qpdf.\nFirst we can install qpdf using homebrew:\nbrew install qpdf Suppose you want to extract page 1-2 from A.pdf, page 1 from B.pdf and page 3-4 from C.pdf, you can run the following command:\nqpdf --empty --pages A.pdf 1-2 B.pdf 1 C.pdf 3-4 -- output.pdf --empty means there is no input pdf, we are trying to produce a new PDF from existing ones. Between --page and final --, we can specify multiple PDF files with range, password info in this format:\nfilename [--password=password] [page-range] Both password and page-range is optional. If you don\u0026rsquo;t specify the page range, it will take the whole pdf. For more details, run the following command on command line:\nqpdf --help=page-selection References # https://qpdf.readthedocs.io/en/stable/overview.html How can I extract a page range / a part of a PDF: https://askubuntu.com/a/672001/768311 ","date":"24 August 2023","externalUrl":null,"permalink":"/2023/08/24/extract_pdf_macos/","section":"Posts","summary":"\u003cp\u003eTo extract pdf pages from several files, we can use the open source tool \u003ca href=\"https://github.com/qpdf/qpdf\" target=\"_blank\"\u003eqpdf\u003c/a\u003e.\u003c/p\u003e","title":"How to Extract PDF file on macOS","type":"posts"},{"content":"","date":"24 August 2023","externalUrl":null,"permalink":"/categories/mac/","section":"Categories","summary":"","title":"Mac","type":"categories"},{"content":"","date":"24 August 2023","externalUrl":null,"permalink":"/tags/pdf/","section":"Tags","summary":"","title":"PDF","type":"tags"},{"content":"","date":"1 August 2023","externalUrl":null,"permalink":"/tags/docker/","section":"Tags","summary":"","title":"Docker","type":"tags"},{"content":"In post, I want to summarize the complete steps to deploy a demo web service implemented with FastAPI in Docker container.\nCreate the service # Preparations # First, we can create the simple project and a Python virtual environment:\nmkdir fastapi-hello-world cd fastapi-hello-world # create the virtual environment python -m venv venv # activate the virutal env source venv/bin/activate Install all the packages we need for the development:\npip install fastapi uvicorn FastAPI is the web framework and Uvicorn is used as the web server for handling requests.\nBuild the simple application # Create a file named application.py (the filename does not matter):\nfrom fastapi import FastAPI app = FastAPI() @app.get(\u0026#34;/\u0026#34;) def greet(): return {\u0026#34;status\u0026#34;: \u0026#34;ok\u0026#34;, \u0026#34;message\u0026#34;: \u0026#34;hello world!\u0026#34;} You can run it locally to make sure that it works:\nuvicorn application:app --host 0.0.0.0 --port 1234 For --host option, we use 0.0.0.0, which tells the server to accept connection from anywhere, not just the localhost. Without --host 0.0.0.0, you can only request this service using localhost. This is especially important when we later dockerize the application. Without the --host option, you can not request this service in your host computer or other network.\nThe --port option specifies the port that this service will listen to. If you do not specify it, the default will be port 8000.\nTo avoid typing the command, we can create a start_service.sh script to start the service:\nuvicorn application:app --host 0.0.0.0 --port 1234 Dockerize the service # Generate requirements.txt # We need to create a requirements.txt file for the dependencies:\npip freeze \u0026gt; requirements.txt create Dockerfile # The Docker file looks like this:\nFROM python:3.10-slim WORKDIR /app COPY ./requirements.txt /app COPY ./ /app RUN pip install --no-cache-dir -r requirements.txt EXPOSE 1234 CMD [\u0026#34;/bin/bash\u0026#34;, \u0026#34;start_service.sh\u0026#34;] Do not use only EXPOSE to try to expose an internal port, it does not work. The official doc about EXPOSE is clear on this:\nThe EXPOSE instruction does not actually publish the port. It functions as a type of documentation between the person who builds the image and the person who runs the container, about which ports are intended to be published. To actually publish the port when running the container, use the -p flag on docker run to publish and map one or more ports, or the -P flag to publish all exposed ports and map them to high-order ports.\nSo we should use -p to map the internal port to port in the host machine.\nBuild docker image and run # To build the image, run:\ndocker build -t fastapi-hello-world . # for example, docker build -t hello-world . It will build the image based on the Dockerfile.\nTo start the web service, we can run the following command:\ndocker run -p 1234:1234 --rm --name hello-world fastapi-hello-world Then you can request this service in your browser using http://127.0.0.1:1234.\nThe service cannot be stopped by using Ctrl-C1. We can use docker stop to stop the container instead:\ndocker stop hello-world references # https://www.youtube.com/watch?v=2a5414BsYqw Adding -it option to docker run can also solve this issue, also discussed here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"1 August 2023","externalUrl":null,"permalink":"/2023/08/01/fastapi-app-deployment-docker/","section":"Posts","summary":"\u003cp\u003eIn post, I want to summarize the complete steps to deploy a demo web service implemented with FastAPI in Docker container.\u003c/p\u003e","title":"How to Deploy Fastapi Application with Docker","type":"posts"},{"content":"","date":"25 July 2023","externalUrl":null,"permalink":"/tags/font/","section":"Tags","summary":"","title":"Font","type":"tags"},{"content":"When I upgrade wezterm from April release to July release, I noticed that some of the unicode icons in my neovim config are shown as box.\nCause # I checked the wezterm repo and it introduced some breaking changes for handling Nerd Fonts in this commit. This adjustment is needed to deal with the breaking changes in Nerd Fonts v3.0.0.\nThe code points for some icons is changed. The complete list can be found in this comment. You can replace the old obsolete icon manually based on the translation table, or you can use nerdfix to help you accelerate the process.\nSolution/Fix # nerdfix check /path/to/your/file/with/nerd-icons It will indicate the obsolete icons/characters in your file and point out possible replacements. Inside wezterm, you can press Ctrl + Shift + U to invoke the wezterm character finder to find good replacement.\nYou can also use nerdfix fix /path/to/your/file/with/nerd-icons to fix the issue interactively.\nReferences # wezterm debug font display issue: https://wezfurlong.org/wezterm/troubleshooting.html#debugging-font-display wezterm trouble shooting fonts: https://wezfurlong.org/wezterm/config/fonts.html#troubleshooting-fonts wezterm Private Use Area support disappeared: https://github.com/wez/wezterm/issues/3854 ","date":"25 July 2023","externalUrl":null,"permalink":"/2023/07/25/wezterm_icon_missing/","section":"Posts","summary":"\u003cp\u003eWhen I upgrade wezterm from \u003ca href=\"https://github.com/wez/wezterm/releases/tag/20230408-112425-69ae8472\" target=\"_blank\"\u003eApril release\u003c/a\u003e to \u003ca href=\"https://github.com/wez/wezterm/releases/tag/20230712-072601-f4abf8fd\" target=\"_blank\"\u003eJuly release\u003c/a\u003e,\nI noticed that some of the unicode icons in my neovim config are shown as box.\u003c/p\u003e","title":"Nerdfont Icon Missing after Wezterm Upgrade","type":"posts"},{"content":"","date":"25 July 2023","externalUrl":null,"permalink":"/tags/unicode/","section":"Tags","summary":"","title":"Unicode","type":"tags"},{"content":"","date":"22 July 2023","externalUrl":null,"permalink":"/tags/lsp/","section":"Tags","summary":"","title":"LSP","type":"tags"},{"content":"TL;DR: my config for pylsp can be found here.\nIn this post, I would like to share my latest setup for Pylsp in Neovim.\nInstallation # pylsp install: pip install \u0026quot;python-lsp-server[all]\u0026quot; 3rd party plugins: python-lsp-isort: pip install python-lsp-isort pylsp-mypy: pip install pylsp-mypy pylsp-black: pip install python-lsp-black I also tried with pylsp-rope, but it works like sh*t, so I won\u0026rsquo;t waste my time on it.\nNeovim lsp configuration # Use your favorite plugin manager to install nvim-lspconfig. Here is my configuration for nvim-lsp with the help of nvim-lspconfig.\nlspconfig = require(\u0026#34;lspconfig\u0026#34;) lspconfig.pylsp.setup { on_attach = custom_attach, settings = { pylsp = { plugins = { -- formatter options black = { enabled = true }, autopep8 = { enabled = false }, yapf = { enabled = false }, -- linter options pylint = { enabled = true, executable = \u0026#34;pylint\u0026#34; }, pyflakes = { enabled = false }, pycodestyle = { enabled = false }, -- type checker pylsp_mypy = { enabled = true }, -- auto-completion options jedi_completion = { fuzzy = true }, -- import sorting pyls_isort = { enabled = true }, }, }, }, flags = { debounce_text_changes = 200, }, capabilities = capabilities, } Note that for some of the plugins, you can pass other configuration to the execute, but I prefer to control their behavior using in their configuration files, not using nvim-lsp.\nref:\npython-lsp configuration: https://github.com/python-lsp/python-lsp-server/blob/develop/CONFIGURATION.md Configuration pylint and black in pyproject.toml # pyproject.toml # For project-specific settings, it is convenient to configure all this in the file pyproject.toml.\nRef:\nlearn toml: https://learnxinyminutes.com/docs/toml/ Pylint # Pylint recognizes configurations in pyproject.toml file. However, configuring pylint in pyproject.toml requires a bit understanding. First, we can generate a full pylint configuration for later reference:\npylint --generate-rcfile \u0026gt; pylintrc We can see that pylint configuration is separated into multiple sections (or table by TOML\u0026rsquo;s jargon). When we want to configure a certain option for Pylint, we must know its table in pylintrc. For example, suppose we want to set max-line-length to 100, first check which table it belongs to in the original pylintrc. After checking, we know it belongs to FORMAT table, then we can use either two confs in pyproject.toml:\n[tool.pylint.format] max-line-length = 100 or\n[tool.pylint.\u0026#39;FORMAT\u0026#39;] max-line-length = 100 Note that for values which are a list, we must use a list notation in pyproject.toml. For example, if we want to disable both missing-module-docstring and missing-function-docstring, we can write the config as this:\n[tool.pylint.\u0026#39;MESSAGES CONTROL\u0026#39;] disable = [\u0026#34;missing-module-docstring\u0026#34;, \u0026#34;missing-function-docstring\u0026#34;] The following also works:\n[tool.pylint.messages_control] disable = [\u0026#34;missing-module-docstring\u0026#34;, \u0026#34;missing-function-docstring\u0026#34;] In this case, the syntax is not the same as pylintrc, where you only need to separated the warnings with comma.\nAs another way, we can also use pylint --generate-toml-config to generate a copy of pylintrc options in toml format. This would be much easier for hand-picking the options that we want to change.\nThere are a lot of examples on using pylint in pyproject.toml in GitHub, e.g., in AiiDA, jax, example conf from pylint offical.\nref:\npylint\u0026rsquo;s support for pyproject.toml: https://pylint.pycqa.org/en/latest/user_guide/usage/run.html#command-line-options handle rich types in TOML: https://github.com/pylint-dev/pylint/commit/489508cc68705cf07e9fea8acd2b449ea88aa962 how to decide what option belongs to which section: https://github.com/pylint-dev/pylint/issues/3181#issuecomment-846129966 search pylint config in setup.cfg and pyproject.toml: https://github.com/pylint-dev/pylint/issues/617#issuecomment-541474172 Black # Configuration can be inside pyproject.toml, the section of black is [tool.black]. For example, your configuration may look like the following:\n[tool.black] line-length = 100 You can also check how the black project configures itself here.\nref:\nhttps://black.readthedocs.io/en/stable/usage_and_configuration/the_basics.html#what-on-earth-is-a-pyproject-toml-file Make Pylsp work inside a virtual env # In my computer, pylsp, mypy, black, pylint and isort are all installed globally. I do not want to install all of these tools separately for each virtual env I use. For black and isort, they seem to work fine without any additional settings.\nFor Pylsp, there seem to be not much mature solution1. I experimented with different configuration and find what is working for me.\nChange PYTHONPATH # We can also update the PYTHONPATH variable to make the global pylint and mypy be aware of the packages installed inside the virtual environment. That is we can set variable to the package directory for the virtual environment:\nexport PYTHONPATH=$PYTHONPATH:/path/to/project/venv/lib/\u0026lt;python-version\u0026gt;/site-packages After this setup, pylint and mypy seem to work fine.\nref:\nhttps://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH\nChange config for individual tool # Pylint # For pylint installed globally, it can not recognize the packages installed inside the virtual environment, even if we are inside the virtual env. First, we can install pylint-venv in the global level (outside the virtual env):\npip install pylint-venv Then inside the pyproject.toml file for this project, we can configure a init-hook for pylint:\n[tool.pylint.main] init-hook =\u0026#34;\u0026#34;\u0026#34; try: import pylint_venv except ImportError: pass else: pylint_venv.inithook() \u0026#34;\u0026#34;\u0026#34; This seems to work pretty good to prevent pylint from complaining missing package errors.\nmypy # To use global mypy, we need to instruct mypy the python path inside the virtual environment.\n[tool.mypy] python_executable=\u0026#34;../venv/bin/python\u0026#34; Another way to do this is to directly change the options passed to mypy in neovim-lsp configuration:\nlocal venv_path = os.getenv(\u0026#39;VIRTUAL_ENV\u0026#39;) local py_path = nil -- decide which python executable to use for mypy if venv_path ~= nil then py_path = venv_path .. \u0026#34;/bin/python3\u0026#34; else py_path = vim.g.python3_host_prog end lspconfig.pylsp.setup { on_attach = custom_attach, settings = { pylsp = { plugins = { -- formatter options black = { enabled = true }, autopep8 = { enabled = false }, yapf = { enabled = false }, -- linter options pylint = { enabled = true, executable = \u0026#34;pylint\u0026#34; }, ruff = { enabled = false }, pyflakes = { enabled = false }, pycodestyle = { enabled = false }, -- type checker pylsp_mypy = { enabled = true, overrides = { \u0026#34;--python-executable\u0026#34;, py_path, true }, report_progress = true, live_mode = false }, -- auto-completion options jedi_completion = { fuzzy = true }, -- import sorting isort = { enabled = true }, }, }, }, flags = { debounce_text_changes = 200, }, capabilities = capabilities, } ref:\nmypy and pyproject.toml: https://mypy.readthedocs.io/en/stable/config_file.html#using-a-pyproject-toml-file mypy and virtual env: https://github.com/python/mypy/issues/7360#issuecomment-522255927 pylsp-mypy configuration: https://github.com/python-lsp/pylsp-mypy#configuration References # install language server globally or in virtual env: https://www.reddit.com/r/emacs/comments/13ezfq9/python_do_you_install_the_language_server/ https://www.reddit.com/r/neovim/comments/137u0z8/general_python_lspcompletion_advice/ For pyright, there seems to be a simple solution using pyrightconfig.json, as discussed here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"22 July 2023","externalUrl":null,"permalink":"/2023/07/22/neovim-pylsp-setup/","section":"Posts","summary":"\u003cp\u003eTL;DR: my config for pylsp can be found \u003ca href=\"https://github.com/jdhao/nvim-config/blob/4d8ef868ad0ef7f6433d91332aa6649186d9a2fb/lua/config/lsp.lua\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eIn this post, I would like to share my latest setup for Pylsp in Neovim.\u003c/p\u003e","title":"Pylsp setup for Neovim in 2023","type":"posts"},{"content":"In HTTP request, same query parameter with multiple values are allowed. For example, for query parameter brand, the query string looks like this: brand=foo\u0026amp;brand=bar. How to parse value of this parameter to a list in FastAPI? There are several different ways.\nUsing Type annotation and Query # If you already know which parameter is going to have multiple values, you can use the following method (based on discussion here):\nfrom fastapi import FastAPI, Request, Query app = FastAPI() @app.get(\u0026#39;/multi_value\u0026#39;) def multi_value(brand: List[str] = Query(default=None)): return {\u0026#34;brand\u0026#34;: brand} In this way, the query parameter brand will be known by FastAPI to have a list of values. If you access the API like this: http://127.0.0.1:8000/multi_value?brand=foo\u0026amp;brand=bar, you can get correct response:\n{\u0026#34;brand\u0026#34;:[\u0026#34;foo\u0026#34;,\u0026#34;bar\u0026#34;]} Deal with the request directly # If you do not know which parameter is going to have multiple values, you can also directly handle it with using the request object from FastAPI.\n@app.get(\u0026#39;/foo\u0026#39;) def foo(request: Request): query_params = request.query_params params_dict = {} for k in query_params.keys(): params_dict[k] = query_params.getlist(k] return params_dict If a query parameter can appear multiple time in the query, we shouldn\u0026rsquo;t use query_params.get() to get its values, because it will only return the last value. Similarly, query_params.items() and query_params.values() also only contain the last value for the query parameter.\nAnother way is to use parse_qs from urllib to parse the query string manually.\n@app.get(\u0026#39;/foo\u0026#39;) def foo(request: Request): # `request.url` is the complete URL for the HTTP request. # `request.url.query` contains only the query part from the whole URL. For example, if your complete # URL is http://127.0.0.1:8000/search2/foo?q=schuhe\u0026amp;color=blue\u0026amp;color=black, then the value for # request.url.query would be \u0026#34;q=schuhe\u0026amp;color=blue\u0026amp;color=black\u0026#34; params_dict = parse_qs(request.url.query, keep_blank_values=True) return params_dict parse_qs() can handle parameter with several values correctly. It has a parameter keep_blank_values, if it is set to True, query parameter with no value will also be kept in the parsed result, and the corresponding value is set to an empty string.\n","date":"13 July 2023","externalUrl":null,"permalink":"/2023/07/13/fastapi-query-param-with-multiple-value/","section":"Posts","summary":"\u003cp\u003eIn HTTP request, same query parameter with multiple values are allowed.\nFor example, for query parameter \u003ccode\u003ebrand\u003c/code\u003e, the query string looks like this: \u003ccode\u003ebrand=foo\u0026amp;brand=bar\u003c/code\u003e.\nHow to parse value of this parameter to a list in FastAPI?\nThere are several different ways.\u003c/p\u003e","title":"How to Parse Query Param With Multiple Values in FastAPI","type":"posts"},{"content":"","date":"13 July 2023","externalUrl":null,"permalink":"/tags/http/","section":"Tags","summary":"","title":"HTTP","type":"tags"},{"content":"æœ¬æ–‡æ€»ç»“ç®€æ˜“ç‰ˆâ€œåœŸè±†èƒ¡èåœçƒ§ç‰›è‚‰â€åšæ³•ã€‚\nåŸæ–™ # åŸæ–™ï¼šç‰›è…©ï¼ŒåœŸè±†ï¼Œèƒ¡èåœï¼Œå§œï¼Œå¤§è‘±ï¼Œå¤§è’œï¼Œé’æ¤’ï¼Œçº¢æ¤’ï¼Œæ´‹è‘±ï¼Œå¹²è¾£æ¤’ï¼Œé»„é…’/ç™½é…’ï¼Œå…«è§’ï¼Œæ¡‚çš®ï¼ŒèŠ±æ¤’ è°ƒæ–™ï¼šè€æŠ½ï¼Œèšæ²¹ï¼Œèƒ¡æ¤’ç²‰ï¼Œç›ï¼Œå››å·è±†ç“£é…±\nåŸæ–™å‡†å¤‡ # åœŸè±†æ´—å¹²å‡€å»çš®åˆ‡æˆå¤§ä¸€äº›çš„å—ï¼Œèƒ¡èåœæ´—å‡€åˆ‡å—ã€‚ å§œåˆ‡ç‰‡ï¼Œå¤§è’œåˆ‡ç‰‡ï¼Œé’æ¤’ï¼Œçº¢æ¤’åˆ‡ç‰‡ï¼Œæ´‹è‘±åˆ‡ç‰‡ï¼Œå¤§è‘±å°‘é‡åˆ‡æˆæ®µ æ¡‚çš®ä¸€å°æ®µï¼Œå…«è§’ä¸¤é¢—ï¼Œå°‘é‡èŠ±æ¤’ï¼Œå¹²è¾£æ¤’ä¸¤ä¸ªï¼Œæœ‰é¦™å¶ä¹Ÿå¯ä»¥æ”¾ç‚¹ ç‰›è…©è‚‰å…ˆåˆ‡æ¡ï¼Œå†åˆ‡æˆå—ï¼Œå—ä¸è¦å¤ªå°ï¼Œå¦åˆ™ç„¯æ°´ç‚’äº†ä»¥åå¤ªå° åˆ¶ä½œè¿‡ç¨‹ # ç‰›è‚‰ç„¯æ°´ # é”…ä¸­åŠ å†·æ°´ï¼Œç‰›è‚‰å—å†·æ°´ä¸‹é”…ï¼ŒåŠ å…¥å‡ ç‰‡å§œç‰‡ï¼ŒåŠ å…¥å¤§è‘±æ®µï¼ŒåŠ å…¥å°‘é‡ç™½é…’ ä¸­å°ç«ç…®ç‰›è‚‰ï¼Œä¿æŒæ°´ä¼¼å¼€éå¼€ï¼ŒåŠæ—¶æ’‡å»è¡€æ²«ï¼Œæ’‡å»è¡€æ²«ä»¥åï¼Œå¯ä»¥å†åŠ ä¸€äº›å†·æ°´ï¼Œé‡å¤ä¸‰å››æ¬¡è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æŠŠè¡€æ²«æ¸…ç†å¹²å‡€ ç…®ç‰›è‚‰çš„æ±¤ä¸è¦å€’æ‰ï¼Œåç»­ç‚–ç‰›è‚‰å¯ä»¥ç”¨åˆ° ç‚’åˆ¶ç‰›è‚‰ # ç‚’é”…å†…åŠ å…¥æ²¹ï¼Œä¸ç”¨ç­‰æ²¹ç‰¹åˆ«çƒ­ï¼ŒåŠ å…¥å‡†å¤‡å¥½çš„æ¡‚çš®ï¼Œå…«è§’ï¼Œé¦™å¶ï¼ŒèŠ±æ¤’ï¼Œå§œï¼Œæ´‹è‘±ç‰‡/å¤§è‘±ï¼Œå¹²è¾£æ¤’ç‚’åˆ¶ åŠ å…¥æ™¾å¹²æ°´åˆ†çš„ç‰›è‚‰ç»§ç»­ç‚’åˆ¶ï¼Œå¹¶åŠ å…¥é€‚é‡ç™½é…’ç»§ç»­ç‚’ç‰›è‚‰ åŠ å…¥ä¸€å°å‹ºè±†ç“£é…±/ç”œé¢é…±ï¼Œç»§ç»­ç‚’ç‰›è‚‰ï¼Œç›´è‡³ç‰›è‚‰è¢«è±†ç“£é…±å‡åŒ€ä¸Šè‰² åŠ å…¥åˆ‡å¥½çš„é’æ¤’ï¼Œçº¢æ¤’ç‰‡ï¼ŒåŠ å…¥åœŸè±†å—å’Œèƒ¡èåœå—ç»§ç»­ç¿»ç‚’å‡åŒ€ é”…å†…åŠ å…¥åˆšæ‰ç„¯æ°´æ—¶å€™å‰©ä¸‹çš„ç‰›è‚‰æ±¤ï¼Œç›´åˆ°æ²¡è¿‡é£Ÿæï¼Œå¤§ç«çƒ§å¼€ æ°´å¼€ä»¥åï¼ŒåŠ å…¥å°‘é‡èšæ²¹ï¼Œé€‚é‡çš„èƒ¡æ¤’ç²‰ï¼ŒåŠ å…¥å°‘é‡è€æŠ½è°ƒé¢œè‰²ï¼Œæ ¹æ®å’¸æ·¡åŠ å…¥é€‚é‡çš„ç› ç”µé¥­é”…ç‚–ç…® # æŠŠæ‰€æœ‰é£Ÿæå¸¦æ±¤è½¬ç§»åˆ°ç”µé¥­é”…ç‚–ç…® ç‚–ç…®æ—¶é—´å¯ä»¥é•¿ä¸€äº›ï¼Œå¯ä»¥é€‰æ‹©ä¸¤ä¸ªå°æ—¶ å‚è€ƒ # ç‹åˆšåœŸè±†çƒ§ç‰›è‚‰ï¼Œhttps://www.youtube.com/watch?v=hdOn2XeLDrE è€é¥­éª¨çº¢çƒ§ç‰›è‚‰ï¼Œhttps://www.youtube.com/watch?v=6M0b7zLQl8Q å›æ°‘ç‚–ç‰›è‚‰ï¼šhttps://www.youtube.com/watch?v=ujDwKaw68KY ","date":"1 July 2023","externalUrl":null,"permalink":"/2023/07/01/beef_potatoo_carrot/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“ç®€æ˜“ç‰ˆâ€œåœŸè±†èƒ¡èåœçƒ§ç‰›è‚‰â€åšæ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šåœŸè±†èƒ¡èåœçƒ§ç‰›è‚‰","type":"posts"},{"content":"","date":"16 June 2023","externalUrl":null,"permalink":"/tags/zsh/","section":"Tags","summary":"","title":"Zsh","type":"tags"},{"content":"In this post, I want to share what I find about the Zsh startup files and their loading order in macOS.\nlogin and interactive shell # There are a lot of posts discussing what a login and interactive shell is. These two aspects are independent.\nIn different mode, zsh will source different startup files when it is started. In Zsh, to test if the shell is login shell, we can test login option:\nif [[ -o login ]]; then echo \u0026#39;yes\u0026#39; else echo \u0026#39;no\u0026#39; fi You can also use echo $0 and check if the first character in output is -.\nYou can exit login/non-login shell using exit. For the login shell, logout also works (it does not work for non-login shell).\nwezterm # In wezterm, every time we open a new tab, it will by default start a login shell using the $SHELL env variable. The way it does this is via prefixing argv0 with - when spawning the shell.\nIt is a standard way in Linux to check if the shell is a login shell. You can use echo $0 and check if the first character is -.\nref:\nhttps://wezfurlong.org/wezterm/config/launch.html#launching-programs wezterm commit, use -$SHELL to launch login shell, https://github.com/wez/wezterm/commit/bc0766396d76813961de85d7ef15979197f0bc97 Zsh startup file source order # According to man zsh (the section about STARTUP/SHUTDOWN FILES), the loading order of startup file is:\n/etc/zshenv $ZDOTDIR/.zshenv if login_shell: /etc/zprofile $ZDOTDIR/.zprofile endif if interactive_shell: /etc/zshrc $ZDOTDIR/.zshrc endif if login_shell: /etc/zlogin $ZDOTDIR/.zlogin endif When the shell exit or logout, then the following script:\n/etc/zlogout $ZDOTDIR/.zlogout For the login file, you can add something that is best done once for the login. For example, showing some greetings.\nFor the log out file, you can add some snippet to save the logout time:\nlogfile=\u0026#34;$HOME/logoutfile\u0026#34; if [[ -f $logfile ]] then echo \u0026#34;logging out: $(date)\u0026#34; \u0026gt;\u0026gt; $logfile else echo \u0026#34;logging out: $(date)\u0026#34; \u0026gt; $logfile fi These config files do not have to exist in the system at all. When you know their loading order, you can then customize based on your preference.\nOn macOS, the file /etc/zprofile is especially evil, it run a utility called path_helper, which changes the PATH variable in a weird way. You can also my other posts for the details.\nref:\nwhat goes where, zshenv, zprofile, zshrc, zlogin, https://apple.stackexchange.com/q/388622/285595 this post has good digram on shell startup: https://blog.flowblok.id.au/2013-02/shell-startup-scripts.html zsh user guide (section 2.2 all the startup file): https://zsh.sourceforge.io/Guide/zshguide02.html#l6 ","date":"16 June 2023","externalUrl":null,"permalink":"/2023/06/16/zsh_startup_file/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share what I find about the Zsh startup files and their loading order in macOS.\u003c/p\u003e","title":"Zsh Startup Files in macOS","type":"posts"},{"content":"Recently, I met a strange issue related to Tmux. After open a tmux session, the PATH variable is changed and is different from outside tmux.\nThis strange behavior breaks my Python:\noutside tmux: python3 points to Python installed by Miniconda inside tmux: python3 points to Python3 installed by Apple The cause # The reason is that when you start a tmux session, it will start a shell (in the latest macOS, it is zsh by default) in login mode. So certain zsh config files are sourced again (the culprit is /etc/zprofile), which leads to messed up PATH variable. This is also caused by macOS\u0026rsquo;s special way to construct the PATH variable.\nThe content of /etc/zprofile is:\nif [ -x /usr/libexec/path_helper ]; then eval `/usr/libexec/path_helper -s` fi When zsh is used as a login shell, the file /etc/zprofile will be sourced. So when we run tmux command and it initialize a zsh shell, this file is source again, which messes up our PATH variable due to the behavior of path_helper.\nIn order to confirm this, we can do an experiment (credit here):\n\u0026gt; PATH=BEG:$PATH:END \u0026gt; echo $PATH # output: BEG:/opt/homebrew/Caskroom/miniconda/base/bin:/opt/homebrew/Caskroom/miniconda/base/condabin:/Users/hao/.local/share/zinit/polaris/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:END \u0026gt; source /etc/zprofile \u0026gt; echo $PATH # output: /usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:BEG:/opt/homebrew/Caskroom/miniconda/base/bin:/opt/homebrew/Caskroom/miniconda/base/condabin:/Users/hao/.local/share/zinit/polaris/bin:/opt/homebrew/bin:/opt/homebrew/sbin:END What path_helper does is to construct PATH from /etc/paths and /etc/path.d. Append the current PATH variable to the constructed PATH and remove the duplicated items: I think it is just looping through the item in the PATH variable and remove items that have appeared before.\nThis explains why unique item inside BEG:END structure is kept and duplicate items are removed.\nHow to prevent # One thing I see people do is to change /etc/zprofile, adding one line to empty PATH:\nif [ -x /usr/libexec/path_helper ]; then PATH=\u0026#34;\u0026#34; #empty the PATH eval `/usr/libexec/path_helper -s` fi For me, it is hacky. I do not want to change the system default settings.\nAnother method is to tell tmux to start a non-login shell instead via default-command option:\n# default command should be path to zsh executable on your system set -g default-command /bin/zsh If zsh is started as a non-login shell, /etc/zprofile won\u0026rsquo;t be sourced, so PATH is not changed. To check if we are running a login shell or not (zsh-only), run the following (source here):\nif [[ -o login ]]; then print yes else print no fi After this setup, to make sure it work, run killall tmux and exit your terminal and restart it again.\nReferences # does tmux sort PATH variable? https://superuser.com/q/544989/736190 prevent tmux from filling global PATH: https://stackoverflow.com/q/13058578/6064933 configure tmux to use zsh: https://unix.stackexchange.com/q/214068/221410 ","date":"12 June 2023","externalUrl":null,"permalink":"/2023/06/12/macos_path_changed_inside_tmux/","section":"Posts","summary":"\u003cp\u003eRecently, I met a strange issue related to Tmux.\nAfter open a tmux session, the \u003ccode\u003ePATH\u003c/code\u003e variable is changed and is different from outside tmux.\u003c/p\u003e","title":"PATH Variable Changed inside Tmux on macOS?","type":"posts"},{"content":"","date":"12 June 2023","externalUrl":null,"permalink":"/tags/shell/","section":"Tags","summary":"","title":"Shell","type":"tags"},{"content":"","date":"12 June 2023","externalUrl":null,"permalink":"/tags/tmux/","section":"Tags","summary":"","title":"Tmux","type":"tags"},{"content":"In this post, I want to share how you can work effectively with JSON file inside Neovim.\nFormat JSON file # Use Python json module # If you have Python installed, you can use the following command to format JSON file:\n:%!python -m json.tool Use jq # Otherwise, we need to install jq for this:\nbrew install jq Then open the JSON file and run the following command:\n:%!jq . In the above command, % means the whole file, !{some-command} will run the text in the external some-command and write the output back to replace the original text. See also :help :range! inside neovim.\nDefine a command for this # We can also define a command to format JSON file:\ncommand! -range JSONFormat \u0026lt;line1\u0026gt;,\u0026lt;line2\u0026gt;!python -m json.tool Then you can call %JSONFormat to format the JSON file.\nFold JSON file # Use the syntax fold # We can fold JSON file with the old syntax way:\nset filetype=json syntax on set foldmethod=syntax Use nvim-treesitter # If you are using nvim and nvim-treesitter. You can also use treesitter to fold JSON files.\nConfig for nvim-treesitter:\nrequire(\u0026#34;nvim-treesitter.configs\u0026#34;).setup { ensure_installed = { \u0026#34;python\u0026#34;, \u0026#34;cpp\u0026#34;, \u0026#34;lua\u0026#34;, \u0026#34;vim\u0026#34;, \u0026#34;json\u0026#34; }, ignore_install = {}, -- List of parsers to ignore installing highlight = { enable = true, -- false will disable the whole extension disable = { \u0026#39;help\u0026#39; }, -- list of language that will be disabled }, } Make sure that JSON parser for treesitter is installed.\nThen create after/ftplugin/json.vim with following config:\nset foldmethod=expr set foldexpr=nvim_treesitter#foldexpr() Open a valid JSON file, you should be able to see the files are folded properly.\nReferences # use external commands to modify text in vim: https://vi.stackexchange.com/a/7189/15292 format JSON in vim: https://vi.stackexchange.com/q/16906/15292 vim JSON format: https://salferrarello.com/vim-json-format/ treesitter JSON fold setup: https://github.com/nvim-treesitter/nvim-treesitter/issues/1337#issuecomment-864205387 how to fold text in JSON: https://vi.stackexchange.com/q/10562/15292 ","date":"12 June 2023","externalUrl":null,"permalink":"/2023/06/12/neovim-json-file/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how you can work effectively with JSON file inside Neovim.\u003c/p\u003e","title":"Work with JSON File in Neovim","type":"posts"},{"content":"Databricks is centered around notebooks for doing a lot of works. As a result, it is often not obvious how to run or re-use code from another notebook or Python module. In this post, I want to share how to do this in the Databricks.\nRun/import code from another notebook # Suppose that we have the following notebook1:\nfoo = dbutils.widgets.get(\u0026#34;foo\u0026#34;) bar = dbutils.widgets.get(\u0026#34;bar\u0026#34;) result = foo + \u0026#39;\u0026amp;\u0026#39; + bar def show(): print(result) dbutils.notebook.exit(result) In another notebook, we have two ways to \u0026ldquo;run\u0026rdquo; the code in notebook1.\n%run command # We can use the %run magic to run the code in notebook1:\n%run ./path/to/notebook1 $foo=â€œhelloâ€ $bar=â€œworldâ€ The path of notebook1 is its relative path to the current notebook. We can give parameters to notebook1 via the \u0026lsquo;$\u0026rsquo; assignment. In notebook1, you can then retrieve the value via dbutils.notebook.get() method.\nIt will â€œimportâ€ the functions and variables from notebook1 to the current notebooks. So you can use those functions in your current notebook. In this sense, it it like from some_module import * in Python.\nusing dbutils.notebook.run() # We can also run notebook1 like this:\ndbutils.notebook.run(â€˜path/to/notebook1â€™, 30, {â€˜fooâ€™: â€œfooValâ€, â€˜barâ€™: â€œbarValâ€}) The parameters for notebook1 is provided in the 3rd argument.\nThis will run notebook1 in a ephemeral job. No functions or variable from that notebook will be exposed to your current notebook.\nTo return results from called notebook, we can use dbutils.notebook.exit(â€œresult_strâ€). This is rather limited, but it seems currently only string result is supported. You can be creative in how to interpret the returned string though, e.g., as the name of table.\nImport a Python module # Since Databricks runtime 11.3, we can import Python module in the workspace. Create a normal Python module like you often do, and you can then import that module in a notebook. It conforms better to the Python ideology of â€œexplicit is better than implicitâ€.\nI create a demo directory test the feature, which has the following structure.\n. |____hello.py |____my-notebook |____utility | |____math_ops.py Content of math_ops.py:\ndef power(x, y): return x**y Content of hello.py:\nprint(\u0026#34;hello\u0026#34;) In the notebook my-notebook, we can run the following code without error:\nimport hello import utility.math_ops as m_op m_op.power(2, 3) autoreload # Since Databricks runtime 11.0, for the notebooks, it is using the Ipython kernel under the hood (source here). Note that like typical Ipython notebook, when you import a Python module, the module is not reloaded when there are changes to the module code by default. For example, if you add a new method or change method code for the module, it will not work.\nInstead, we need to load the autoreload extension for the notebook (also mentioned in the official doc):\n%load_ext autoreload %autoreload 2 To check the documentation of autoreload, you can run %autoreload?.\nIf you don\u0026rsquo;t want to the autoreload magic, to make your module update work, you have to manually detach and attach to the cluster.\nref:\nhttps://learn.microsoft.com/en-us/azure/databricks/files/workspace-modules#import-python-and-r-modules autoreload doc: https://ipython.readthedocs.io/en/stable/config/extensions/autoreload.html#autoreload Ipython reload module: https://stackoverflow.com/q/5364050/6064933 References # databricks notebook love hate relation: https://towardsdatascience.com/databricks-notebooks-a-love-hate-relationship-8f73e5b291fb difference between %run and dbutils.notebook.run(), https://community.databricks.com/s/question/0D53f00001GHVd5CAH/whats-the-difference-between-run-vs-dbutilsnotebookrun comparison of %run and dbutils.notebook.run(): https://learn.microsoft.com/en-gb/azure/databricks/notebooks/notebook-workflows#comparison-of-run-and-dbutilsnotebookrun share Python source file, https://learn.microsoft.com/en-gb/azure/databricks/notebooks/share-code https://medium.com/@YuhengD/best-practice-of-databricks-notebook-modulization-d2797dd29dd3 databricks widgets, https://learn.microsoft.com/en-gb/azure/databricks/notebooks/widgets ","date":"6 June 2023","externalUrl":null,"permalink":"/2023/06/06/databricks-run-import-code/","section":"Posts","summary":"\u003cp\u003eDatabricks is centered around notebooks for doing a lot of works.\nAs a result, it is often not obvious how to run or re-use code from another notebook or Python module.\nIn this post, I want to share how to do this in the Databricks.\u003c/p\u003e","title":"Running/importing Python code/module in Databricks","type":"posts"},{"content":"","date":"24 May 2023","externalUrl":null,"permalink":"/tags/agile/","section":"Tags","summary":"","title":"Agile","type":"tags"},{"content":"This is my learning notes for Agile and Scrum.\nNotes # Jira is just one of many tools or platforms for agile working approach.\nHierarchy: Topic â€”\u0026gt; Epic â€”\u0026gt; User Story â€”\u0026gt; tasks â€”\u0026gt; sub-tasks\nUser story is just a fancy and templated way to describe a feature for the product.\nStory points (a measure of the amount work, complexity and also uncertainty involved in a user story).\nThe scrum process: planning, building, testing, review, retrospective.\nMVP: In Agile development, it usually stands for minimum viable product.\ndifference between Sprint review and retrospective.\ntopic is different: review talks about the product, it will check the output of the sprint, and discuss how to make the product better, retrospective talks how to make the team work better people attending is different: in review, the stakeholders will also join, but in retrospective, only the team and PO attend the outcome: for review, the outcome is like what changes will be made to the product, what changes to make in the product backlog etc. but for retrospective, the outcome may be what changes to made to the team, what tools to add etc. to make the team work more efficiently. Relationship between PO (product owner) and the development team? # The Product Owner and Scrum Master participate on the team as a servant leader and peer to the rest of the team. The Product Owner has no authority over the Development Team. But this role represents stakeholders with a particular political â€œweightâ€ in the organization\nExcerpt from https://medium.com/serious-scrum/the-product-owner-is-part-of-the-scrum-team-not-above-them-982b7ca8fca3.\nreferences # Jira and scrum https://www.youtube.com/watch?v=uM_m6EzMg3k what is scrum, very short and clear, https://www.youtube.com/watch?v=9TycLR0TqFA scrum in 10 mins, https://www.youtube.com/watch?v=XU0llRltyFM sprint review VS retrospective: https://www.youtube.com/watch?v=WB4mgF75uy4 agile software development MIT, https://www.youtube.com/watch?v=UxMpn92vGXs what is agile, https://www.youtube.com/watch?v=Z9QbYZh1YXY user story, https://www.youtube.com/watch?v=apOvF9NVguA scrum in a nutshell https://www.youtube.com/watch?v=L_sAo93ASTU agile product ownership in a nutshell, https://www.youtube.com/watch?v=502ILHjX9EE scrum in 20 min, https://www.youtube.com/watch?v=SWDhGSZNF9M Epic and user story, https://www.youtube.com/watch?v=ogV2r9579WI story points, https://www.youtube.com/watch?v=VsSaolMtkKU ","date":"24 May 2023","externalUrl":null,"permalink":"/2023/05/24/agile_scrum/","section":"Posts","summary":"\u003cp\u003eThis is my learning notes for \u003ca href=\"https://en.wikipedia.org/wiki/Agile_software_development\" target=\"_blank\"\u003eAgile\u003c/a\u003e and \u003ca href=\"https://en.wikipedia.org/wiki/Scrum_%28software_development%29\" target=\"_blank\"\u003eScrum\u003c/a\u003e.\u003c/p\u003e","title":"Agile and Scrum","type":"posts"},{"content":"","date":"24 May 2023","externalUrl":null,"permalink":"/tags/scrum/","section":"Tags","summary":"","title":"Scrum","type":"tags"},{"content":"","date":"24 May 2023","externalUrl":null,"permalink":"/categories/work/","section":"Categories","summary":"","title":"Work","type":"categories"},{"content":"æœ¬æ–‡æ€»ç»“ç®€æ˜“ç‰ˆå‡‰æ‹Œç‰›è‚‰çš„åšæ³•ã€‚\nåŸæ–™ # ç‰›è‚‰ï¼Œå¤§è‘±/æ´‹è‘±ï¼Œå§œï¼Œèƒ¡èåœï¼ˆæ²¡æœ‰å¯ä¸æ”¾ï¼‰ï¼Œç™½é…’/æ–™é…’ï¼Œé’æ¤’ï¼Œè’œï¼ŒèŠ±æ¤’ï¼Œæœå¤©æ¤’ï¼Œç”ŸæŠ½ï¼Œé†‹ï¼Œèšæ²¹ï¼Œç™½ç³–\nåˆ¶ä½œè¿‡ç¨‹ # å¤ç‰›è‚‰ # è¶…å¸‚ä¹°çš„ç‰›è‚‰ï¼Œç›´æ¥å†·æ°´ä¸‹é”…ï¼Œæ°´å¼€ä»¥åï¼Œç„¯æ°´äº”åˆ†é’Ÿï¼Œç„¶åæŠŠæ°´å€’æ‰ï¼ŒæŠŠç‰›è‚‰ä¸Šçš„è¡€æ²«æ¸…æ´—å¹²å‡€ã€‚ é‡æ–°èµ·é”…åŠ å…¥å†·æ°´ï¼Œæ”¾å…¥ç‰›è‚‰ï¼Œç„¶ååŠ å…¥åˆ‡ç‰‡çš„ç”Ÿå§œï¼Œå¤§è‘±æ®µï¼Œèƒ¡èåœï¼Œå¤§ç«æŠŠæ°´çƒ§å¼€ï¼Œç„¶åè½¬ä¸­å°ç«ï¼Œç…®ä¸€ä¸ªå°æ—¶ã€‚ ä¸€ä¸ªå°æ—¶åå…³ç«ï¼Œè®©ç‰›è‚‰å†æµ¸æ³¡ä¸€ä¸ªå°æ—¶ï¼Œç„¶åå–å‡ºç‰›è‚‰ï¼Œæ”¾å†°ç®±å†·è—å¤‡ç”¨ã€‚ å‡‰æ‹Œç‰›è‚‰ # æŠŠå¤å¥½çš„ç‰›è‚‰åˆ‡æˆè–„ç‰‡ å– 3-4 ä¸ªå¤§è’œåˆ‡æˆè’œæœ«ï¼Œå–å°è‘±åˆ‡æˆè‘±èŠ±ï¼Œä¸€æ ¹é’æ¤’åˆ‡æˆç¢ï¼Œå– 2 ä¸ªæœå¤©æ¤’åˆ‡æ®µã€‚ å–å°ç¢—ï¼Œæ”¾å…¥åˆ‡å¥½çš„è’œæœ«ï¼Œè‘±èŠ±ï¼Œé’æ¤’ç¢ã€‚ èµ·é”…åŠ å…¥æ¤ç‰©æ²¹ï¼Œé‡ä¸è¦å¤ªå¤šï¼Œæ²¹çƒ­ä»¥ååŠ å…¥æœå¤©æ¤’ï¼ŒåŠ å…¥å¹²èŠ±æ¤’ï¼Œç•¥å¾®ç¿»ç‚’å³å¯ã€‚ æŠŠçƒ­æ²¹æ³¼åœ¨å°ç¢—ä¸­çš„è’œæœ«è‘±èŠ±ä¸Šï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œä¸€ç‚¹ç‚¹ç™½ç³–ï¼ŒåŠ å…¥ç”ŸæŠ½ï¼Œé†‹ï¼Œèšæ²¹ï¼Œæ‹ŒåŒ€ã€‚ å°†æ‹ŒåŒ€çš„æ–™æ±åŠ å…¥ç‰›è‚‰ï¼Œç„¶åæ…æ‹Œå‡åŒ€å³å¯é£Ÿç”¨ã€‚ å–œæ¬¢åƒé¦™èœçš„å¯ä»¥æ”¾ä¸€äº›é¦™èœç‚¹ç¼€ã€‚ å‚è€ƒ # å‡‰æ‹Œç‰›è‚‰åšæ³•ï¼Œhttps://www.youtube.com/watch?v=KFuoK805WTE ","date":"21 May 2023","externalUrl":null,"permalink":"/2023/05/21/cold_beef_with_sauce/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“ç®€æ˜“ç‰ˆå‡‰æ‹Œç‰›è‚‰çš„åšæ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šå‡‰æ‹Œç‰›è‚‰","type":"posts"},{"content":"In this post, I want to share some command line tools written in Rust, which are good alternatives to some of the original tools used in command line.\nexa: an alternative to ls use exa -F\nhttps://github.com/ogham/exa\nlsd: another alternative to ls use: lsd -F --icon=never\nhttps://github.com/Peltoche/lsd\nripgrep: a blazing fast grep tool https://github.com/BurntSushi/ripgrep\ndelta: a pager for git, diff and grep https://github.com/dandavison/delta\nbat: alternative to cat https://github.com/sharkdp/bat\nRef:\nhttps://zaiste.net/posts/shell-commands-rust/ https://towardsdatascience.com/awesome-rust-powered-command-line-utilities-b5359c38692 broot: alternative to tree https://github.com/Canop/broot\ntokei: alternative to cloc https://github.com/XAMPPRocky/tokei\nSimilarly, scc (but written in Go)\nhyperfine: commandline benchmark tool https://github.com/sharkdp/hyperfine\n","date":"15 May 2023","externalUrl":null,"permalink":"/2023/05/15/terminal_tool_alternative_written_in_rust/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share some command line tools written in Rust,\nwhich are good alternatives to some of the original tools used in command line.\u003c/p\u003e","title":"Awesome Command Line Tools Written in Rust","type":"posts"},{"content":"In this post, I summarize how to get or set a Databricks spark configuration/property.\nget the value for a specific setting/configuration # To get all configurations in Python:\nfrom pyspark.sql import SparkSession spark = SparkSession.builder.getOrCreate() all_conf = spark.sparkContext.getConf().getAll() This will show all the configurations available. To get the value for a specific conf, e.g., for \u0026lsquo;spark.databricks.clusterUsageTags.region\u0026rsquo;, use the following code instead:\nspark.conf.get(\u0026#34;spark.databricks.clusterUsageTags.region\u0026#34;) refs:\nget all spark conf: https://stackoverflow.com/a/45029640/6064933 get or set specific conf, https://kb.databricks.com/data/get-and-set-spark-config Check Databricks version # To check the Databricks runtime version, use the following code:\nfrom pyspark.sql import SparkSession spark = SparkSession.builder.getOrCreate() spark.conf.get(\u0026#34;spark.databricks.clusterUsageTags.sparkVersion\u0026#34;) ref:\ncheck databricks spark version: https://stackoverflow.com/q/53740967/6064933 Set the value for a configuration # To set a specific configuration for spark, we can use:\nspark.conf.set(\u0026#34;spark.sql.session.timeZone\u0026#34;, \u0026#34;Asia/Shanghai\u0026#34;) ","date":"13 May 2023","externalUrl":null,"permalink":"/2023/05/13/databricks-spark-get-set-conf/","section":"Posts","summary":"\u003cp\u003eIn this post, I summarize how to get or set a Databricks spark configuration/property.\u003c/p\u003e","title":"How to get or set Databricks spark configuration","type":"posts"},{"content":"I got a Macbook with a German keyboard layout, and I am not accustomed to it. This post summarizes some tweaks made to the German version of Macbook to make it work for me.\nAdd an input source for US keyboard # Luckily I have also got a magic keyboard with US keyboard layout. To use it, we need to add a new input source for it, go to keyboard section in system settings. In Text Input --\u0026gt; Input Sources, click edit and then click + in the bottom left corner to add new keyboard. Choose English, and then select a keyboard layout. For example, we can use ABC or US, they are more or less the same.\nHow to type special German characters easily # In the US keyboard, we can not type special German chars directly, but there are some shortcuts to input them.\nTo type umlaut character, i.e., Ã¤Ã¶Ã¼. Press option key and u together, release now, and then press the un-umlauted character to get its umlaut char. To type ÃŸ, simply press Option and s at the same time. references:\ntype special German char on macOS, https://www.nthuleen.com/teach/misc/typingumlauts.html Switch the Fn and function keys in macOS # When I press functions keys on my macOS, they perform the functions printed on the keyboard, for example, if I press F12, the system volume is turned up, instead Fn + F12 works as real F12. I do not like this behavior, and would like to switch the behavior. How to do this?\nOpen system settings, open keyboard settings pane, click Keyboard shortcuts.... In the opened page, click Function Keys and turn on the option Use F1, F2, etc. keys as standard function keys.\nreferences:\ntoggle between fn and function keys in mac, https://superuser.com/q/1755750/736190 https://support.apple.com/en-au/HT204436 ","date":"21 April 2023","externalUrl":null,"permalink":"/2023/04/21/macos_german_version_setup/","section":"Posts","summary":"\u003cp\u003eI got a Macbook with a German keyboard layout, and I am not accustomed to it.\nThis post summarizes some tweaks made to the German version of Macbook to make it work for me.\u003c/p\u003e","title":"Set Up German Version macOS","type":"posts"},{"content":"Vimium is a Chrome extension that lets us to browse the internet with our fingers, rather than using the mouse. In this post, I will going to share how to add a custom search engine for Vimium.\nThere are some background knowledge we need to be clear.\nVomnibar # If you have installed Vimium, in a normal web page, you can press o, a long bar will appear and wait for your input. Here we can type keywords to search through history and bookmarks, or just search through the default Google search engine. This long text bar is called Vomnibar by Vimium.\nAdd custom search engine # For example, suppose that we want to add google translate as our custom search engine. First, open the Vimium options, in the lower part, there is \u0026ldquo;Custom search engine\u0026rdquo; part. In the text box, add the following new line:\ngt: https://translate.google.com/?sl=de\u0026amp;tl=en\u0026amp;text=%s\u0026amp;op=translate Gtranslate In this example, the alias for Google translate is gt. In the URL part, we need to replace the actual search query with %s (the query text will be URL-encoded, to avoid URL-encode, use %S instead). Gtranslate is custom name for this new search engine, and can be empty.\nThen click Save changes in the bottom right. The new search engine should be added with success.\nUse the new search Engine # Open a normal webpage, press o1, we should see the Vomnibar. Then press gt + \u0026lt;Space\u0026gt;, we are now prompted to enter the query text. After entering the text, use return key to search.\nReferences # https://github.com/philc/vimium/wiki/Search-Engines This will open a new search result in the same tab, to open the result in new tab, press capital O instead.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 April 2023","externalUrl":null,"permalink":"/2023/04/18/vimium_custom_search_engine/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/philc/vimium\" target=\"_blank\"\u003eVimium\u003c/a\u003e is a Chrome extension that lets us to browse the internet with our fingers, rather than using the mouse.\nIn this post, I will going to share how to add a custom search engine for Vimium.\u003c/p\u003e","title":"Add A Custom Search Engine for Vimium","type":"posts"},{"content":"","date":"18 April 2023","externalUrl":null,"permalink":"/categories/technique/","section":"Categories","summary":"","title":"Technique","type":"categories"},{"content":"","date":"21 March 2023","externalUrl":null,"permalink":"/categories/android/","section":"Categories","summary":"","title":"Android","type":"categories"},{"content":"","date":"21 March 2023","externalUrl":null,"permalink":"/tags/miui/","section":"Tags","summary":"","title":"MIUI","type":"tags"},{"content":"è¦ä½¿ç”¨ Google Pay éœ€è¦è°·æ­ŒæœåŠ¡çš„æ”¯æŒï¼Œå°ç±³æ‰‹æœºè‡³å°‘æ——èˆ°æœºå‹éƒ½æ˜¯è‡ªå¸¦è°·æ­ŒæœåŠ¡çš„ï¼Œä½†æ˜¯é»˜è®¤æ²¡æœ‰æ‰“å¼€ã€‚ä»¥æˆ‘çš„å°ç±³ 12S Pro ä¸ºä¾‹ï¼Œç›´æ¥åœ¨ç³»ç»Ÿè®¾ç½®ç•Œé¢æœç´¢ â€œè°·æ­Œâ€ï¼Œæœ‰ä¸ªâ€œè°·æ­ŒåŸºç¡€æœåŠ¡â€ï¼Œæ‰“å¼€å³å¯ã€‚\nå®‰è£… Google Play # æ¥ä¸‹æ¥ï¼Œç›´æ¥ä» apkpure ä¸‹è½½ Google Play å®‰è£…åŒ…å®‰è£…å³å¯ã€‚\nå®‰è£… Google wallet # Google Pay ä¹‹å‰çš„åº”ç”¨åå­—ä¹Ÿå« Google Payï¼Œç°åœ¨æ”¹åå« Google Wallet äº†(åæ§½ä¸€ä¸‹è°·æ­Œå‘½åäº§å“çœŸ tm æ··ä¹±ï¼Œç»™ç”¨æˆ·é€ æˆä¸å°‘å›°æ‰°)ï¼Œç”±äº play å•†åº—çš„å¥‡æ€ªè®¾ç½®1ï¼Œä½ å¯èƒ½ä» play å•†åº—æ— æ³•ä¸‹è½½ walletï¼Œå¯ä»¥ç›´æ¥ä» apkpure ä¸‹è½½ apk å®‰è£… walletã€‚\nç»‘å®šé“¶è¡Œå¡/ä¿¡ç”¨å¡ # æ³¨æ„æ‰€æœ‰å†…åœ°(ä¸­å›½å¤§é™†)é“¶è¡Œçš„å€Ÿè®°å¡å’Œ Visa ä¿¡ç”¨å¡éƒ½æ— æ³•ç»‘å®š Google Payï¼Œæˆ‘å°è¯•äº†ç›®å‰æ‰‹é‡Œæ‰€æœ‰çš„ä¿¡ç”¨å¡ï¼šæµ¦å‘çš„é“¶è” Visa åŒæ ‡å¡ï¼Œæ‹›è¡Œ master cardï¼Œæ‹›è¡Œ Visa å¡ï¼Œä¸­å›½é“¶è¡Œå“éš½ Visa å¡ï¼Œéƒ½æ— æ³•ç»‘å®šï¼Œæç¤ºä¸‹é¢é”™è¯¯ä¿¡æ¯\næ­¤å¡æ— æ³•è®¾ç½®æ„Ÿåº”å¼ä»˜æ¬¾åŠŸèƒ½ æ‚¨çš„é“¶è¡Œä¸æ”¯æŒæ‚¨åœ¨æ‰‹æœºä¸Šä½¿ç”¨å¡è¿›è¡Œæ„Ÿåº”å¼ä»˜æ¬¾ã€‚è¯·è”ç³»é“¶è¡Œäº†è§£è¯¦æƒ…æˆ–æ·»åŠ å…¶ä»–å¡ã€‚\nå‚è€ƒ # å°ç±³æ‰‹æœºå¼€å¯ Google Pay: https://www.xiaohongshu.com/discovery/item/635bd0d20000000014027022 Google Pay æ”¯æŒçš„å›½å®¶ä»¥åŠé“¶è¡Œå‚è€ƒä¸‹é¢çš„é“¾æ¥(è¿™ä¸ªé“¾æ¥ä¹Ÿæ²¡æœ‰ä¸­å›½å¤§é™†åœ°åŒº): https://support.google.com/wallet/answer/12059326?visit_id=638148978781353990-4057730968\u0026p=banklist\u0026rd=2 ä¾‹å¦‚æœ¬åº”ç”¨ä¸æ”¯æŒåœ¨ä½ æ‰€åœ¨çš„å›½å®¶æˆ–åœ°åŒºä¸‹è½½ä¹‹ç±»çš„ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 March 2023","externalUrl":null,"permalink":"/2023/03/21/xiaomi_google_pay/","section":"Posts","summary":"\u003cp\u003eè¦ä½¿ç”¨ \u003ca href=\"https://en.wikipedia.org/wiki/Google_Pay_%28payment_method%29\" target=\"_blank\"\u003eGoogle Pay\u003c/a\u003e éœ€è¦è°·æ­ŒæœåŠ¡çš„æ”¯æŒï¼Œå°ç±³æ‰‹æœºè‡³å°‘æ——èˆ°æœºå‹éƒ½æ˜¯è‡ªå¸¦è°·æ­ŒæœåŠ¡çš„ï¼Œä½†æ˜¯é»˜è®¤æ²¡æœ‰æ‰“å¼€ã€‚ä»¥æˆ‘çš„å°ç±³ 12S Pro ä¸ºä¾‹ï¼Œç›´æ¥åœ¨ç³»ç»Ÿè®¾ç½®ç•Œé¢æœç´¢ â€œè°·æ­Œâ€ï¼Œæœ‰ä¸ªâ€œè°·æ­ŒåŸºç¡€æœåŠ¡â€ï¼Œæ‰“å¼€å³å¯ã€‚\u003c/p\u003e","title":"ä¸­å›½å¤§é™†å°ç±³æ‰‹æœºå¦‚ä½•ä½¿ç”¨ Google Pay","type":"posts"},{"content":"","date":"21 March 2023","externalUrl":null,"permalink":"/tags/%E5%B0%8F%E7%B1%B3/","section":"Tags","summary":"","title":"å°ç±³","type":"tags"},{"content":"","date":"4 March 2023","externalUrl":null,"permalink":"/tags/city/","section":"Tags","summary":"","title":"City","type":"tags"},{"content":"ç”±äºç–«æƒ…çš„å½±å“ï¼Œå·²ç»æœ‰ä¸¤å¹´æ²¡æœ‰åœ¨è€å®¶è¿‡æ˜¥èŠ‚ã€‚ä¸­å›½å›½å†…ç–«æƒ…ç®¡æ§æ”¾å¼€ä»¥åï¼Œç»ˆäºæœ‰æœºä¼šå›ä¹¡è¿‡æ˜¥èŠ‚ã€‚\næˆ‘çš„è€å®¶åœ¨å±±è¥¿çœè¿åŸå¸‚å¹³é™†å¿æ›¹å·é•‡ä¸‹é¢çš„ä¸€ä¸ªå°æ‘å­ï¼Œå¹³é™†è‡³æ™šåœ¨å‘¨æœå°±è¢«ç§°ä¸ºã€Œè™ã€ï¼Œå’Œå¹³é™†ç´§é‚»çš„æ²³å—ä¸‰é—¨å³¡è¢«ç§°ä¸ºã€Œè™¢ã€ï¼Œå†å²ä¸Š ã€Œå‡è™ä¼è™¢ã€ æ‰€è®²çš„æ•…äº‹å°±å‘ç”Ÿåœ¨è¿™ç‰‡åœŸåœ°ã€‚ç”±äºå›½å®¶çš„å†œæ‘è¿ç½®æ”¿ç­–ï¼Œå‰å‡ å¹´å¿æ”¿åºœåœ¨å¿åŸåŒ—è¾¹é è¿‘é»„æ²³çš„åœ°æ–¹å»ºäº†ç§»æ°‘å°åŒºï¼Œæ‘é‡Œçš„äººå¤§éƒ¨åˆ†å·²ç»é™†ç»­ä½è¿›äº†ç§»æ°‘å°åŒºï¼Œæˆäº†æ‰€è°“çš„â€œå¿åŸäººâ€ã€‚è‡ªä»å¤§å­¦æ¯•ä¸šä»¥åï¼Œæˆ‘ä»¬å®¶å°±æ¬åˆ°äº†å¿é‡Œå±…ä½ï¼Œå†ä¹Ÿæ²¡æœ‰å›è¿‡æˆ‘çš„å°æ‘å­äº†ï¼Œå¬å®¶äººè¯´æ‘é‡Œçš„æˆ¿å­å¤§éƒ¨åˆ†å·²ç»è¢«æ¨å€’äº†ï¼Œåªç•™äº†å°‘æ•°æˆ¿å­ã€‚å‰å‡ å¹´ï¼Œçˆ¸çˆ¸å›å®¶å¤„ç†äº†è€æˆ¿å­é‡Œçš„å®¶å…·è¿˜æœ‰å…¶ä»–ç‰©å“ï¼Œæˆ‘ä»¬å’Œè€æˆ¿å­åšäº†å½»åº•çš„è¯€åˆ«ã€‚å½“ç„¶æˆ‘ä»¬çš„æˆ·å£è¿˜æ˜¯åŸæ¥çš„æˆ·å£ï¼Œåªæ˜¯ä½çš„åœ°æ–¹å˜äº†ï¼Œåœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼Œæˆ‘ä»¬æˆäº†æ°¸è¿œçš„æµæµªè€…ï¼Œæ°¸è¿œå›ä¸äº†æ‰€è°“çš„â€è€å®¶â€ äº†ã€‚\nåœ¨æ·±åœ³å‘†ä¹…äº†ï¼Œä¹ æƒ¯äº†æ¸…æ–°çš„ç©ºæ°”ï¼Œå›åˆ°å†¬å¤©çš„åŒ—æ–¹ï¼Œå°±é—»åˆ°äº†é‚£ç†Ÿæ‚‰çš„å‘³é“ï¼Œä¸€è‚¡æ·¡æ·¡çš„çƒ§ç…¤å‘³ã€‚\nå¹³é™†è¿‘é‚»é»„æ²³ï¼Œä¸ä¸‰é—¨å³¡éš”æ²³ç›¸æœ›ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸­å›½å¤§å¤©é¹…è¶Šå†¬çš„é‡è¦æ –æ¯åœ°ä¹‹ä¸€ï¼Œé—²æ¥æ— äº‹è‡ªå·±ä¹Ÿèµ°è·¯å»äº†ä¸€è¶Ÿï¼Œå¤§å¤©é¹…æ –æ¯åœ°ä½äºä¸‰æ¹¾æ‘ï¼Œè·ç¦»å¿åŸæœ‰äº”å…­å…¬é‡Œï¼Œèµ°è·¯å•ç¨‹éœ€è¦ä¸€ä¸ªå¤šå°æ—¶ã€‚\næŠ½ç©ºå’Œå¦ˆå¦ˆä¸€èµ·å»äº†ä¸‰é—¨å³¡é™•å·å…¬å›­ç©ï¼Œå‚è§‚äº†ä¸‰é—¨å³¡åšç‰©é¦†ï¼Œå»äº†ä¸‰é—¨å³¡çš„å¤©é¹…å…¬å›­ï¼Œç”±äºç–«æƒ…çš„å½±å“ï¼Œä¹‹å‰ä»å¹³é™†åˆ°ä¸‰é—¨å³¡çš„å…¬äº¤ä¹Ÿåœäº†ï¼Œåªèƒ½æ‰“è½¦è¿‡å»ã€‚\nå°åœ°æ–¹çš„å…¬å…±äº¤é€šç›¸å¯¹å¤§åŸå¸‚å·®å¾ˆå¤šï¼Œä¸€ç‚¹éƒ½ä¸ä¾¿åˆ©ï¼Œå¾ˆå¤šäººéƒ½è‡ªå·±ä¹°è½¦ï¼Œå¦åˆ™å‡ºè¡Œå›°éš¾ã€‚ä»ä¸‰é—¨å³¡é«˜é“ç«™åˆ°å¹³é™†åªèƒ½æ‰“å‡ºç§Ÿè½¦ï¼Œè€Œä¸”åŠå¤©æ‰“ä¸åˆ°è½¦ã€‚\nå¹³é™†çš„å·¥èµ„ä½åˆ°å‘æŒ‡ï¼Œå¦‚æœä¸æ˜¯å…¬åŠ¡å‘˜ï¼Œé“¶è¡Œå›½ä¼å‘˜å·¥ï¼Œæ™®é€šäººä¸€èˆ¬å·¥èµ„ä¹Ÿå°± 2000 å·¦å³ï¼Œå¦‚æœå»åšä¿æ´è¿™äº›ï¼Œå·¥èµ„æ›´ä½ï¼Œåªæœ‰ 1500 å·¦å³ï¼Œè€Œä¸”è¿™äº›ä¸€èˆ¬æ˜¯ä¸ç®¡ä¿é™©çš„ã€‚å½“ç„¶å¿åŸçš„æˆ¿å­ä¹Ÿä¾¿å®œï¼Œä»·æ ¼å°± 3000 å·¦å³ã€‚\næœ€ä»¤äººæ»¡æ„çš„æ˜¯å„ç§ç¾é£Ÿï¼Œæœ‰è±†è…è„‘ï¼Œæ²¹æ¡ï¼Œå„ç§åŒ…å­ï¼Œé¥¼å­ï¼Œç…é¥¼ï¼Œé¸¡è›‹çŒé¥¼ï¼Œç‚¸é¸¡æŸ³ï¼Œçƒ¤é¢ç­‹ç­‰ç­‰ï¼Œè¿˜æœ‰æ²¹æ³¼é¢ï¼Œçƒ©é¢ï¼Œå¤§ç›˜é¸¡å„ç§é¢é£Ÿã€‚å…¶ä¸­ï¼Œå¹³é™†çš„æ²¹æ³¼é¢æœ€æœ‰åï¼Œä¸ªäººè®¤ä¸ºæ¯”é™•è¥¿çš„æ²¹æ³¼é¢è¦æ›´å¥½åƒï¼Œå› ä¸ºå¹³é™†æ²¹æ³¼é¢åŠ çš„æ–™æ›´å¤šï¼Œæœ‰èŠéº»ï¼Œç‰›è‚‰ï¼Œè‘±ï¼Œæ–™æ±ï¼Œéå¸¸é¦™ã€‚é—²æ¥æ— äº‹ï¼Œä¹Ÿå»å°è¯•äº†å‡ å®¶ä¸åŒçš„æ²¹æ³¼é¢ï¼Œè¦æ’ä¸ªé¡ºåºçš„è¯ï¼Œå°±æ˜¯\næ°‘æ—é¥­åº—ï¼Œåšçš„æœ€å¥½ï¼Œå¾ˆé¦™ çˆ»é‡Œå°¹æ¸…æ–‹æ²¹æ³¼é¢ï¼Œå‘³é“è¿˜è¡Œ æ¸…é›…æ–‹æ²¹æ³¼é¢å’Œåˆè®°æ²¹æ³¼é¢ï¼Œå‘³é“ä¸€èˆ¬ï¼Œä¸å¤Ÿé¦™ ","date":"4 March 2023","externalUrl":null,"permalink":"/2023/03/04/hometown_2023/","section":"Posts","summary":"\u003cp\u003eç”±äºç–«æƒ…çš„å½±å“ï¼Œå·²ç»æœ‰ä¸¤å¹´æ²¡æœ‰åœ¨è€å®¶è¿‡æ˜¥èŠ‚ã€‚ä¸­å›½å›½å†…ç–«æƒ…ç®¡æ§æ”¾å¼€ä»¥åï¼Œç»ˆäºæœ‰æœºä¼šå›ä¹¡è¿‡æ˜¥èŠ‚ã€‚\u003c/p\u003e","title":"æ˜¥èŠ‚å›ä¹¡è®°","type":"posts"},{"content":"æˆ‘åœ¨é«˜ä¸­è¿˜æ˜¯å¤§å­¦è¯»äº†å®—ç’çš„ã€Šé‡è‘«èŠ¦å¼•ã€‹ï¼Œå…¶ä¸­çš„ã€Šè¥¿å¾è®°ã€‹æå†™äº†æ»‡è¥¿æŠ—æˆ˜çš„ç»å†ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´æƒ³å»è…¾å†²èµ°ä¸€è¶Ÿï¼Œå»æ‹œè®¿ä¸€ä¸‹å›½æ®‡å¢“å›­ï¼Œè‹¦äºæ‰“å·¥äººæ²¡æœ‰æ—¶é—´ï¼Œè¿™ä¸ªæ„¿æœ›åœ¨ä»Šå¹´å®ç°äº†ã€‚\næ˜†æ˜ # æ˜†æ˜æ˜¯ä¸ªä¸é”™çš„åŸå¸‚ã€‚\nåé«˜é“çš„è¯ï¼Œå¦‚æœå¯ä»¥ï¼Œè¿˜æ˜¯åˆ°è¾¾æ˜†æ˜ç«™æ¯”è¾ƒæ–¹ä¾¿ï¼Œæ˜†æ˜å—åˆ°å¸‚ä¸­å¿ƒï¼Œåœ°é“éƒ½è¦ä¸€ä¸ªå¤šå°æ—¶ã€‚\næ˜†æ˜å·²ç»æœ‰å…­æ¡åœ°é“ï¼Œä½†æ˜¯è¦†ç›–é¢è¿˜ä¸å¹¿ï¼Œæƒ³ååœ°é“åˆ°æŸä¸ªåœ°æ–¹ï¼Œç»å¸¸å‘ç°è¦èµ°ä¸€æ®µè·¯æ‰èƒ½åˆ°ã€‚ä¸è¿‡ä½ å¯ä»¥é€‰æ‹©éª‘å…±äº«ç”µåŠ¨è½¦ï¼Œéåœ°éƒ½æ˜¯ã€‚\nç¾é£Ÿ # å°é”…ç±³çº¿ é“æœ‹å°é”…ç±³çº¿ï¼Œåœ¨å¡˜å­å··åœ°é“ç«™è¾¹ä¸Šï¼Œå£å‘³å¾ˆå¤šï¼Œå¯ä»¥åŠ ä¸åŒçš„å†’ï¼Œä¹Ÿå°±æ˜¯èœç ã€‚ä»·æ ¼ä¸è´µï¼Œå°ä»½ 10 å…ƒï¼Œè¾£æ¤’æ”¾çš„æ¯”è¾ƒå¤šï¼Œåˆ†ç²—ç±³çº¿å’Œç»†ç±³çº¿ï¼Œæ ¹æ®å–œå¥½é€‰æ‹©ã€‚\nå—å¼ºå¤œå¸‚ï¼Œæœ‰å½“åœ°å°åƒä¹Ÿæœ‰ç½‘çº¢å°åƒã€‚ä¸‰å—ä¸€æ‹¾ï¼ŒçŒæµ†è±†è…ï¼Œå‘³é“è¿˜å¯ä»¥ã€‚\nå˜‰åé²œèŠ±é¥¼ï¼Œçš®é…¥é¦…å¤šå‘³é“å¥½ï¼Œå¯ä»¥å…¥æ‰‹ã€‚\nè¿‡æ¡¥ç±³çº¿ï¼Œåƒäº†äº‘å—ç››è¿‡æ¡¥ç±³çº¿å‚ç‰Œï¼Œåœ¨ç¿ æ¹–å…¬å›­è¾¹ä¸Šï¼Œé€›å®Œç¿ æ¹–å¯ä»¥é¡ºä¾¿å»åƒä¸€ä¸‹ã€‚\nè±†èŠ±ç±³çº¿, ç¤¼å®¸è®°ï¼Œè±†èŠ±ï¼Œè‚‰æ²«ï¼Œè’œè‹—ï¼Œå‘³é“ä¸é”™ã€‚\nç¯†æ–°å¸‚åœºï¼Œå‚£å‘³çƒ§èŒ„å­ï¼Œ15 ä¸€ä»½ï¼Œç«çƒ¤èŒ„å­ï¼ŒåŠ æŸ æª¬æ±ï¼Œçƒ§é’æ¤’ï¼ŒåŠ å¤§è’œï¼Œè°ƒæ–™åˆ¶ä½œï¼Œåƒä¸ä¹ æƒ¯ï¼Œåƒä¸¤å£æ‰”äº†ã€‚ç¯†æ–°å¸‚åœºé™„è¿‘æœ‰ä¸ªå¤§è§‚ç¾é£Ÿè¡—ï¼Œå¯ä»¥å»åƒä¸œè¥¿ã€‚\né—²é€› # æ»‡æ± è¾¹æœ‰æµ·é¸¥ï¼Œç¿ æ¹–å…¬å›­ä¹Ÿæœ‰ä¸å°‘æµ·é¸¥ã€‚\nå¤§ç† # å¤§ç†æ´±æµ·çš„é£æ™¯æŒºæ¼‚äº®ï¼Œä½†ä¹Ÿæ²¡é‚£ä¹ˆå¥½ï¼Œå°å¿ƒè¢«éª—äº†ã€‚ä»å¤§ç†ç«™åˆ°å¤åŸï¼Œä¹˜åå…«è·¯å³å¯ï¼Œä¸ç”¨è‡ªå·±æ‰“è½¦ã€‚\nå¤åŸåˆ°åŒå»Šï¼Œå¤åŸä¸œé—¨åè½¦ï¼Œä¸­å·´ï¼Œ15 ä¸€ä¸ªäººï¼Œä¹Ÿä¼šç»è¿‡å–œæ´²ï¼Œæœ€æ—©ä¹ç‚¹å·¦å³ï¼Ÿ å¤§å·´ï¼Œå¤§ç†æ—…æ¸¸æœåŠ¡å…¬ä¼—å·è®¢ç¥¨ï¼Œ30 ä¸€ä½ï¼Œå¤åŸå—é—¨å®¢è¿ç«™åè½¦ã€‚\nå¤§ç†å¤åŸé¢ç§¯æŒºå¤§ï¼Œéå¸ƒå„ç§å•†é“ºï¼Œé‡Œé¢è¿˜æœ‰å­¦æ ¡ï¼ŒåŒ»é™¢ã€‚ä½å®¿çš„åœ°æ–¹åŸºæœ¬éƒ½ä¸åœ¨å¤åŸå†…ï¼Œæ°‘å®¿å·®ä¸å¤šéƒ½å›´ç»•å¤åŸï¼Œè¿˜æœ‰ä¸€äº›æ°‘å®¿å»ºåœ¨æ´±æµ·è¾¹ï¼Œå¦‚æœä¸æ˜¯è‡ªé©¾ï¼Œå‰å¾€æ„Ÿè§‰ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚å¤åŸé‡Œé¢åƒé¥­çš„åœ°æ–¹æŒºå¤šï¼Œè¿˜æœ‰å–å’–å•¡ï¼Œæœæ±ï¼Œå°åƒç­‰ç­‰ã€‚\né¿å‘ä¸€æ—¥æ¸¸ï¼æŠ¥äº†ä¸€ä¸ªä¸€æ—¥æ¸¸ï¼Œ120 å…ƒï¼Œç¯ç»•æ´±æµ·ä¸€åœˆï¼Œæœ‰ç‚¹å‘ï¼Œæ²¡å»å–œæ´²å¤é•‡å’ŒåŒå»Šå¤é•‡é‡Œé¢ï¼Œç”Ÿæ€å»Šé“ç»™äº†ä¸€å°æ—¶ï¼Œè§‚æ™¯ç‚¹ç»™äº†åäº”åˆ†é’Ÿï¼Œå¸¦å»äº†ä¸¤ä¸ªæ¨é”€ç‚¹ï¼Œä¸€ä¸ªæ˜¯æ¨é”€æ®µæ°é›ªèŠ±é“¶ï¼Œä¸€ä¸ªæ˜¯ç™½æ—å›­ï¼ˆæ¨é”€èŒ¶å¶ï¼‰ã€‚ä¸­åˆåŒ…ä¸€é¤ï¼Œä½†æ˜¯ä¸å¥½åƒã€‚æœ‰æ—¶é—´è¿˜æ˜¯è‡ªå·±åè½¦å»æƒ³å»çš„æ™¯ç‚¹ï¼Œæ—¶é—´ä¹Ÿè‡ªç”±ã€‚\nä¿å±± # å¤§ç†ååŠ¨è½¦å¯è¾¾ä¿å±±ã€‚å¸‚åŒºäº¤é€šå¯ä»¥ç”¨å…±äº«ç”µåŠ¨è½¦ï¼Œæˆ–è€…æ‰“è½¦ï¼Œå¸‚åŒºå¾ˆå°ã€‚\nç¾é£Ÿ # é‡‘é”…è´´ï¼Œå‘³é“è¿˜å¯ä»¥ï¼Œæ¯”è¾ƒæ²¹ï¼Œä¸€ä¸ªäººå…¨éƒ¨åƒå®Œæœ‰ç‚¹è…»ã€‚ ç¼…æ˜ŒèŒ¶è‹‘ï¼Œç¼…ç”¸ç”©é¥¼ï¼Œä¹Ÿå«ç¼…ç”¸ç”©ç²‘ç²‘ï¼Œæœ‰å¤šç§å£å‘³ï¼Œè‘±èŠ±é¸¡è›‹çš„å‘³é“å¾ˆå¥½ï¼Œé…¥è„†æ²¹é¦™ã€‚é¦™è•‰å‘³çš„ä¼šæ”¾ç‚¼ä¹³ï¼Œå¾ˆç”œï¼Œæ„Ÿè§‰ä¸å¦‚è‘±èŠ±é¸¡è›‹çš„å¥½åƒã€‚æ³¡é²è¾¾ä¹Ÿå¯ä»¥è¯•è¯•ã€‚ è…¾å†² # ç”±äºå¤§ç‘é“è·¯ç›®å‰åªé€šåˆ°ä¿å±±ï¼Œä¿å±±åˆ°ç‘ä¸½çš„é“è·¯è¿˜åœ¨ä¿®å»ºä¸­ï¼Œæ‰€ä»¥å†å¾€è¥¿çš„äº¤é€šåªèƒ½é æ±½è½¦äº†ã€‚ä¿å±±åˆ°è…¾å†²ï¼Œå¾®ä¿¡å°ç¨‹åºâ€œä¿äº¤è¡Œâ€ä¸Šé¢„è®¢ï¼Œ89 ä¸€ä½ï¼Œå¸æœºä¼šæŒ‰ç…§æŒ‡å®šçš„åœ°ç‚¹ç›´æ¥å»æ¥ä½ ï¼Œæ—¶é—´å¤§çº¦ä¸¤ä¸ªåŠå°æ—¶ã€‚\nèŠ±æºªç‰›ç¾Šè‚‰ç±³çº¿ï¼Œå‘³é“åœ¨çº¿ï¼Œè·ç¦»å›½æ®‡å¢“å›­ä¸è¿œï¼Œå‡ºæ¥åƒçš„ã€‚\nç¨€è±†ç²‰ï¼Œå°åƒç±»å‹ï¼Œè±Œè±†ç£¨ç²‰åšæˆçš„ç¾é£Ÿï¼ŒåŠ ä¸ŠèŠ±ç”Ÿç¢ä»¥åŠè¾£æ¤’ï¼Œè¿˜æœ‰å…¶ä»–è°ƒæ–™ï¼Œå‘³é“å¯ä»¥ï¼Œè¿˜å¯ä»¥åŠ ä¸Šæ²¹æ¡ä¸€èµ·åƒã€‚\næ˜è®°çƒ§è‚‰ç±³çº¿ï¼Œåªæœ‰ä¸‹åˆå¼€é—¨ï¼Œæ²¡åƒä¸Šï¼Œéšä¾¿æ‰¾äº†ä¸€å®¶çƒ§è‚‰ç±³çº¿ï¼Œæ–™å¾ˆä¸°å¯Œï¼Œæ¯”è¾ƒè¾£ï¼Œåƒå®Œæ„Ÿè§‰æ¯”è¾ƒæ²¹è…»ï¼Œå¯èƒ½æ˜¯å› ä¸ºçƒ§è‚‰é‡Œé¢æœ‰è‚¥è‚‰ï¼Œå–œæ¬¢æ¸…æ·¡é¥®é£Ÿæ…ç‚¹ã€‚\nå›½æ®‡å¢“å›­åŠ ä¸ŠæŠ—æˆ˜çºªå¿µé¦†ï¼Œå¦‚æœæƒ³è¦è®¤çœŸçœ‹ä¸€éï¼Œéœ€è¦é¢„ç•™å…­ä¸ªå°æ—¶æ—¶é—´ï¼Œçºªå¿µé¦†æœ‰åä¸€ä¸ªå±•å…ï¼Œéœ€è¦èŠ±æ—¶é—´å»çœ‹ã€‚å€¼å¾—æ³¨æ„ï¼Œç°åœ¨çœ‹åˆ°çš„å›½æ®‡å¢“å›­éƒ½æ˜¯æ–‡é©ä»¥åé‡å»ºçš„ï¼Œæ–‡é©ä¸­çºªå¿µç¢‘ä»¥åŠå¢“å›­çš„å¢“ç¢‘éƒ½è¢«ç ´åäº†ã€‚\nè…¾å†²ç«å±±çƒ­æµ·æ™¯åŒºï¼Œè·ç¦»å¸‚åŒºä¸ç®—è¿œï¼Œé—¨ç¥¨ç•¥è´µï¼Œ50ï¼Œç«å±±å¤§æ»šé”…ï¼Œåœ¨æ™¯åŒºæœ€é‡Œé¢ï¼Œæ•´ä¸ªæ™¯åŒºæœ€å¤šä¸¤å°æ—¶å¯ä»¥é€›ä¸€éã€‚\nèŠ’å¸‚ # è…¾å†²åˆ°èŠ’å¸‚ï¼Œ83 ä¸€ä½ï¼Œå¸æœºå¼€è½¦æ¥æ¥ï¼Œæ—¶é—´å¤§çº¦ä¸€ä¸ªåŠå°æ—¶ã€‚\næ ‘åŒ…å¡”ï¼Œæ ‘æŠŠå¡”åŒ…åœ¨äº†é‡Œé¢ï¼Œæ ‘æ ¹å·²ç»åµŒå…¥å¡”ä½“ï¼Œå‘¨å›´ç¯å¢ƒæœ‰ç‚¹å¯’ç¢œï¼Œæ˜¯å»ºç­‘å·¥åœ°ï¼Œå›´äº†ä¸€åœˆé“çš®ã€‚\nå‹ç„•å¤§é‡‘å¡”ï¼Œå¤§é“¶å¡”ï¼Œéƒ½æ˜¯æ”¶é—¨ç¥¨çš„ï¼Œæ™šä¸Šéšä¾¿å¤–é¢çœ‹çœ‹å°±è¡Œï¼Œä¸å€¼å¾—è¿›å»ã€‚\nå‚£æ—å°é•‡,æ™šä¸Šæ¯”è¾ƒçƒ­é—¹ï¼Œå°åƒï¼Œå°ä¸œè¥¿æ‘Šè´©æŒºå¤šï¼Œä¹°äº†ä¸€ä¸ªé“æ¿è±†è…ï¼Œå¾ˆè¾£ï¼Œä½†æ˜¯å¾ˆé¦™ã€‚\nç‘ä¸½ # èŠ’å¸‚åˆ°ç‘ä¸½ï¼Œä¿äº¤è¡Œï¼Œ71 ä¸€ä½ã€‚\nç•¹ç”ºå£å²¸ï¼Œäº‹å…ˆæ²¡åšæ”»ç•¥ï¼Œæ‰€ä»¥ç›´æ¥æ‰“è½¦è¿‡å» 70 å·¦å³ï¼Œåé¢äº†è§£åˆ°å¯ä»¥åœ¨ç‘ä¸½å¸‚åŒºå‹å¯è¾¹å¢ƒæ´¾å‡ºæ‰€å¯¹é¢åé¢åŒ…è½¦ï¼Œ20 ä¸€ä½ã€‚åˆ°äº†ç•¹ç”ºï¼Œç”±äºæ¥è¿‘ä¸­ç¼…è¾¹å¢ƒï¼Œæˆ‘çš„å°ç±³æ‰‹æœºè‡ªåŠ¨å˜æˆæ¼«æ¸¸æ¨¡å¼ï¼Œæ— æ³•ä¸Šç½‘äº†ï¼ŒçœŸä»–å¦ˆæ— è¯­ã€‚å¦å¤–å½“åœ°çš„ ATM ä¹Ÿæ— æ³•è·¨è¡Œå–æ¬¾çš„ï¼Œæ®è¯´æ˜¯ä¸ºäº†é˜²ç”µä¿¡è¯ˆéª—ã€‚ç•¹ç”ºæœ‰ä¸€ä¸ªå£å²¸ï¼Œè¿˜æœ‰â€å—æ´‹åä¾¨æœºå·¥çºªå¿µé¦†â€œï¼Œçºªå¿µæŠ—æˆ˜æ—¶æœŸå›å›½æ”¯æ´çš„åä¾¨ã€‚ç•¹ç”ºå›ç‘ä¸½ï¼Œåœ¨å²è¿ªå¨å…¬ç«‹èµ·ç‚¹çºªå¿µç¢‘é‚£é‡Œæœ‰é¢åŒ…è½¦ï¼Œ15 ä¸€ä½åˆ°ç‘ä¸½å¸‚åŒºã€‚\nç‘ä¸½å£å²¸é™„è¿‘æœ‰å¾ˆå¤šå–ç‰çŸ³çš„æ‘Šè´©ï¼Œä¸è¿‡å‘¨å›´çš„åº—é“ºéƒ½æ˜¯å…³é—¨çš„ï¼Œç–«æƒ…ä¸‰å¹´å¯¹ç‘ä¸½çš„å†²å‡»æ˜¯å·¨å¤§çš„ï¼Œå¬å¸æœºè¯´äº”åå¤šä¸‡äººèµ°å¾—æœ€ååªå‰©ä¸‹åå‡ ä¸‡äººäº†ã€‚\nç¾é£Ÿ # ç¼…æ³°ç‰¹ä¼˜èŒ¶é¤å…ï¼Œç‰›è‚‰æ²¹é¢ï¼Œå¹²æ‹Œçš„ï¼Œå¾ˆé¦™ï¼Œæ¨èã€‚ å‡‰æ‹ŒèŒ¶å¶è±†ï¼Œè¥¿çº¢æŸ¿ï¼ŒåŒ…èœï¼ŒèŒ¶å¶è±†ï¼ˆåƒèµ·æ¥æ„Ÿè§‰åƒå¹²èš•è±†ï¼‰ï¼Œé…¸æ³¡æ¤’ï¼Œç”Ÿè’œç‰‡ï¼Œè¿˜æœ‰ä¸€ç§ä¸çŸ¥åçš„è”¬èœï¼Œé…¸è¾£å£å‘³ï¼Œå¾ˆè¾£ï¼Œä¸ªäººæœ‰ç‚¹ä¸ä¹ æƒ¯ã€‚\nå†°å’–å•¡ï¼Œå¤ªç”œäº†ï¼Œé½ç”œé½ç”œã€‚\nè¿”ç¨‹ï¼Œç‘ä¸½å›ä¿å±±ï¼Œä¿äº¤è¡Œè®¢ç¥¨ï¼Œ140 ä¸€ä½ï¼Œæ—¶é—´å¤§çº¦ä¸‰ä¸ªå°æ—¶ã€‚ä¿å±±å›æ˜†æ˜ï¼Œå¯ä»¥ååŠ¨è½¦ã€‚\n","date":"1 March 2023","externalUrl":null,"permalink":"/2023/03/01/yun-nan-2023/","section":"Posts","summary":"\u003cp\u003eæˆ‘åœ¨é«˜ä¸­è¿˜æ˜¯å¤§å­¦è¯»äº†å®—ç’çš„\u003ca href=\"https://book.douban.com/subject/30425634/\" target=\"_blank\"\u003eã€Šé‡è‘«èŠ¦å¼•ã€‹\u003c/a\u003eï¼Œå…¶ä¸­çš„ã€Šè¥¿å¾è®°ã€‹æå†™äº†æ»‡è¥¿æŠ—æˆ˜çš„ç»å†ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´æƒ³å»è…¾å†²èµ°ä¸€è¶Ÿï¼Œå»æ‹œè®¿ä¸€ä¸‹å›½æ®‡å¢“å›­ï¼Œè‹¦äºæ‰“å·¥äººæ²¡æœ‰æ—¶é—´ï¼Œè¿™ä¸ªæ„¿æœ›åœ¨ä»Šå¹´å®ç°äº†ã€‚\u003c/p\u003e","title":"æ»‡è¥¿ä¹‹è¡Œ 2023","type":"posts"},{"content":"æ¯æ¬¡å»è´µé˜³éƒ½æ˜¯æµ®å…‰æ å½±ï¼Œå› ä¸ºå®ƒä¸æ˜¯æˆ‘çš„ç»ˆç‚¹ç«™ã€‚è¿™æ¬¡æ˜¯å› ä¸ºå»äº‘å—ï¼Œéœ€è¦åœ¨è´µé˜³è½¬è½¦åœç•™ä¸€æ™šã€‚\nè¿™æ¬¡æ˜¯ä»è´µé˜³ä¸œç«™ä¸‹è½¦ï¼Œè¿™ä¸ªç«™å¾ˆåï¼Œå¯ä»¥å 272 å…¬äº¤è½¦å¯ä»¥åˆ°å–·æ°´æ± ï¼Œåœ¨å–·æ°´æ± é™„è¿‘ä½æ¯”è¾ƒå¥½ï¼Œå‘¨å›´å¯ä»¥åƒé¥­çš„é¤é¦†å¾ˆå¤šã€‚\näº¤é€š # è´µé˜³åœ°é“ç›®å‰åªæœ‰ä¸¤æ¡çº¿ï¼Œå‡ºè¡Œè¿˜æ˜¯é å…¬äº¤æˆ–è€…æ‰“è½¦æ¯”è¾ƒå¤šï¼Œé“è·¯å¾ˆä¸è§„åˆ™ï¼Œå‡ ä¹æ²¡æœ‰æ¨ªå¹³ç«–ç›´çš„è·¯ï¼Œåœ¨å¸‚ä¸­å¿ƒæœ‰æ—¶å€™è¿‡é©¬è·¯è¿˜è¦åˆ°åœ°ä¸‹é€šé“ï¼Œå†èµ°ä¸Šå»ï¼Œç—›è‹¦çš„ä½“éªŒã€‚\nè´µé˜³å¾ˆå¤šåœ°æ–¹è¿˜å¾ˆè’å‡‰ï¼Œå¸‚ä¸­å¿ƒäº‘å²©åŒºçœ‹èµ·æ¥åƒä¸ªçœä¼šåŸå¸‚ã€‚\nç¾é£Ÿ # å°æ»¡ç‰›è‚‰ç²‰åº— ï¼ˆè”¡å®¶è¡—ï¼‰ï¼Œé…¸ç²‰ï¼Œç²‰è´¨åœ°æ¯”è¾ƒè½¯ï¼Œåƒèµ·æ¥ä¸åƒæ¹–å—ç±³ç²‰é‚£ä¹ˆé¡ºæ»‘å¼¹ç‰™ï¼Œæœ‰ç‚¹åƒæ³¡å‘çš„é¢æ¡å£æ„Ÿã€‚\nèƒ–å­é¦…é¥¼ï¼Œä¸è¦è¢«åå­—éª—äº†ï¼Œå®ƒä¸æ˜¯è‚‰é¦…é¥¼ï¼Œè€Œæ˜¯ç±»ä¼¼ç»¿è±†é¥¼çš„ä¸œè¥¿ï¼Œæœ‰èŠ±ç”Ÿï¼ŒèŠéº»ï¼Œç«ç‘°ï¼Œæ¡‚èŠ±ç­‰å¤šç§é¦…ã€‚\néµä¹‰è€åŸè±†èŠ±é¢é¥­ï¼ˆå‡¯å‘å®¶å›­åº—ï¼‰ï¼Œç‚¹äº†ä¸€ä»½è±†èŠ±é¢ï¼Œé¢æ˜¯å®½é¢ï¼Œæœ‰åš¼åŠ²ï¼Œæ¯”è¾ƒè¾£ï¼Œæ”¾äº†è‚‰ä¸ï¼Œå‘³é“ä¸é”™ï¼Œè¿˜é™„èµ ä¸€ç¢—è±†æµ†ï¼Œä»·æ ¼äº²æ°‘ã€‚\n","date":"20 February 2023","externalUrl":null,"permalink":"/2023/02/20/guiyang_2023/","section":"Posts","summary":"\u003cp\u003eæ¯æ¬¡å»è´µé˜³éƒ½æ˜¯æµ®å…‰æ å½±ï¼Œå› ä¸ºå®ƒä¸æ˜¯æˆ‘çš„ç»ˆç‚¹ç«™ã€‚è¿™æ¬¡æ˜¯å› ä¸ºå»äº‘å—ï¼Œéœ€è¦åœ¨è´µé˜³è½¬è½¦åœç•™ä¸€æ™šã€‚\u003c/p\u003e","title":"è´µé˜³è¡Œ 2023","type":"posts"},{"content":"æ‰¾æµ·å¤–å·¥ä½œå¾ˆé‡è¦çš„ä¸€ä¸ªè¦æ±‚è¯­è¨€è¿‡å…³ï¼Œæ ¹æ®å›½å®¶çš„ä¸åŒï¼Œå¯¹è¯­è¨€çš„è¦æ±‚ä¹Ÿä¸åŒï¼Œè‹±è¯­å›½å®¶å½“ç„¶è‹±è¯­å°±è¶³å¤Ÿäº†ï¼Œæœ‰çš„æ¬§æ´²å›½å®¶å…¬å¸è¿˜ä¼šè¦æ±‚ä½ æŒæ¡å½“åœ°è¯­è¨€ï¼Œå¦‚æœä½ ä¸ä¼šï¼Œé‚£æŠ•é€’ç®€å†æ—¶å°±å¯ä»¥è·³è¿‡è¿™äº›å…¬å¸äº†ã€‚æœ¬æ–‡è°ˆä¸€è°ˆæˆ‘çš„è‹±è¯­å­¦ä¹ ç»éªŒï¼Œä»…ä¾›å‚è€ƒã€‚è‹±è¯­ä¸»è¦åˆ†ä¸ºå¬è¯´è¯»å†™å››ä¸ªæ–¹é¢ï¼Œä¸‹é¢å°±åˆ†å¼€å†™ä¸€å†™æˆ‘çš„ç»éªŒã€‚\nå¬åŠ› # è¦æé«˜å¬åŠ›ï¼Œæ²¡æœ‰åˆ«çš„åŠæ³•ï¼Œå°±æ˜¯è¦å¤šå¬ï¼Œå°±å¯ä»¥æé«˜è‡ªå·±çš„å¬åŠ›æ°´å¹³ï¼Œä¸è¦ç›¸ä¿¡ä»€ä¹ˆçµä¸¹å¦™è¯ï¼Œä¸å­˜åœ¨çš„ã€‚å¤§å­¦çš„æ—¶å€™ï¼Œè¯•è¿‡å¬ BBC è‹±è¯­ï¼Œç„¶åå°è¯•è‡ªå·±å»æŠŠå¬åˆ°çš„ä¸œè¥¿è½¬è¯‘æˆæ–‡å­—ï¼Œè¿™æ ·èƒ½å¤Ÿç¡®ä¿è‡ªå·±å¬æ‡‚äº†ï¼Œè¿™ç§æ–¹å¼æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œä¸è¿‡å¯¹å¬åŠ›çš„æå‡æˆ‘è®¤ä¸ºæ˜¯æœ‰å¸®åŠ©çš„ã€‚\næˆ‘è¿˜å°è¯•è¿‡çœ‹ç”µå½±æˆ–è€…ç”µè§†å»æé«˜å¬åŠ›ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰æ•ˆæœå¾ˆæœ‰é™ï¼Œç¾å‰§æˆ–è€…ç”µå½±ï¼Œè§’è‰²è®²è¯é€Ÿåº¦ä¸€èˆ¬è¾ƒå¿«ï¼Œéš¾ä»¥è·Ÿä¸Šï¼Œå¦å¤–ç»å¸¸ä¼šè¢«å‰§æƒ…å¸å¼•ï¼Œä¸“æ³¨ä¸åˆ°å¬åŠ›æœ¬èº«ï¼Œæœ‰çš„ç”µè§†å‰§æˆ–è€…ç”µå½±å­—å¹•éƒ½æ˜¯å†…åµŒçš„ï¼Œçœ‹ç€çœ‹ç€å°±å¼€å§‹çœ‹å­—å¹•äº†ï¼Œæ€»ä¹‹è¿™ç§æ–¹å¼åœ¨æˆ‘èº«ä¸Šæ”¶æ•ˆç”šå¾®ã€‚\nå¦å¤–ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥çœ‹ YouTube è§†é¢‘ï¼Œè¿™æ˜¯æˆ‘æ¨èçš„æ–¹å¼ã€‚ç ”ç©¶ç”Ÿæ¯•ä¸šçš„æ—¶å€™ï¼Œæˆ‘çš„å¬åŠ›æ°´å¹³è¿˜ä¸é«˜ï¼Œåé¢æå‡å¬åŠ›ï¼Œå°±ä¸»è¦æ˜¯é€šè¿‡çœ‹ YouTube è§†é¢‘ï¼Œè‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œå„ç§è¯é¢˜ï¼Œå„ç§å£éŸ³çš„è‹±è¯­å†…å®¹éƒ½ä¼šå»çœ‹ï¼Œæ¥æ”¶äº†å¤§é‡å¬åŠ›å†…å®¹çš„æ´—ç¤¼ã€‚å…³äºå£éŸ³ï¼Œä¸€èˆ¬ç¾å›½äººæˆ–è€…è‹±å›½äººçº¯æ­£çš„è‹±è¯­åªè¦é€Ÿåº¦ä¸æ˜¯éå¸¸å¿«ï¼Œéƒ½æ¯”è¾ƒå®¹æ˜“æ‡‚ï¼Œå°åº¦è‹±è¯­å¸¦å£éŸ³ï¼Œå°±æ¯”è¾ƒéš¾æ‡‚ï¼Œæ¬§æ´²äººè‹±è¯­é€Ÿåº¦ä¸€èˆ¬ä¸æ˜¯å¾ˆå¿«ï¼Œä¹Ÿå®¹æ˜“å¬æ‡‚ã€‚å¦å¤– YouTube å¯ä»¥å¼€å€é€Ÿï¼Œç”¨ 1.25 æˆ–è€… 1.5 å€é€Ÿåº¦æ”¾è§†é¢‘ï¼Œå¦‚æœä½ ä¸çœ‹è‡ªåŠ¨å­—å¹•å¬èµ·æ¥æ— å‹åŠ›ï¼Œé‚£ä½ çš„è‹±è¯­æ°´å¹³åº”å¯¹é¢è¯•æ²¡é—®é¢˜ã€‚\nå¦‚æœå–œæ¬¢å¬ podcastï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ spotify æˆ–è€…å…¶ä»– app å¬ç§‘æŠ€æ’­å®¢ï¼Œä¹Ÿæ˜¯ä¸é”™çš„æå‡å¬åŠ›çš„æ–¹å¼ã€‚ä¸è¿‡å¾ˆå¤š podcast æ²¡æœ‰å­—å¹•ï¼Œå¦‚æœå¬åŠ›æ°´å¹³ä¸è¡Œï¼Œå¬èµ·æ¥ä¼šæ¯”è¾ƒåƒåŠ›ã€‚\nå£è¯­ # åœ¨å¼€å§‹é¢è¯•ä¹‹å‰ï¼Œå…¶å®æˆ‘ä¹Ÿæ²¡æœ‰ä¸“é—¨ç»ƒä¹ è¿‡å£è¯­ã€‚å¦‚æœç»å¸¸å¬è‹±è¯­ï¼Œå¯¹å£è¯­ä¹Ÿä¼šæœ‰å¸®åŠ©ï¼Œä½ ä¸‹æ„è¯†å°±ä¼šçŸ¥é“æ€ä¹ˆå»åº”å¯¹ï¼Œæ€ä¹ˆè¯´è¯ã€‚\nå¦‚æœéœ€è¦ç»ƒä¹ å£è¯­ï¼Œå¯ä»¥åœ¨ç½‘ä¸Šæ‰¾æ¯è¯­æ˜¯è‹±è¯­çš„å¤–å›½äººèŠå¤©ã€‚æœ‰ä¸€äº›ä»˜è´¹çš„è½¯ä»¶ï¼Œä¾‹å¦‚ camblyï¼Œä¹Ÿå¯ä»¥ä»æ·˜å®ä¸Šæ‰¾ä»˜è´¹çš„å¤–æ•™ç»ƒä¹ å£è¯­ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸€äº›å…è´¹çš„è¯­è¨€äº¤æ¢ï¼Œæ¨è reddit çš„ language exchange æ¿å—ï¼Œå¯ä»¥åœ¨ä¸Šé¢æ‰¾åˆ°ä¸€äº›ç»ƒä¹ è¯­è¨€çš„ä¼™ä¼´ã€‚\nå£è¯­çš„ç›®çš„æ˜¯è¦è®©è‡ªå·±çš„è¡¨è¾¾è¢«åˆ«äººå¬æ‡‚ï¼Œè€Œä¸æ˜¯è‡ªå·±çš„å£éŸ³æœ‰å¤šä¹ˆçš„çº¯æ­£ï¼Œå›½äººç»å¸¸çŠ¯è¿™ä¸ªé”™è¯¯ï¼Œæ‰¹è¯„åˆ«äººçš„å£éŸ³ï¼Œå…¶å®æ¯«æ— æ„ä¹‰ã€‚æµåˆ©çš„è¡¨è¾¾æ¯”çº¯æ­£çš„ç¾éŸ³æˆ–è€…è‹±éŸ³æ›´é‡è¦ã€‚\né˜…è¯» # è‹±è¯­é˜…è¯»æ˜¯é•¿æœŸç§¯ç´¯ï¼Œä¸å¯èƒ½çŸ­æœŸæå‡ã€‚çœ‹ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„è‹±æ–‡ä¹¦å¯ä»¥æå‡è‡ªå·±çš„è‹±è¯­é˜…è¯»èƒ½åŠ›ï¼Œæ¨èéè™šæ„ç±»ä½œå“ï¼Œä¾‹å¦‚åäººä¼ è®°ç±»ï¼Œå†å²ç±»ï¼Œç§‘å­¦ç±»ã€‚ä¸æ¨èé˜…è¯»è‹±è¯­åŸè‘—å°è¯´ï¼Œå°è¯´é€šå¸¸é˜…è¯»éš¾åº¦è¦æ›´å¤§ï¼Œè€Œä¸”æœ‰ä¸å°‘ç”Ÿå•è¯ï¼Œç»å¸¸é‡åˆ°ç”Ÿå•è¯ä¼šæŒ«è´¥äººçš„é˜…è¯»ä¹è¶£ã€‚\né˜…è¯»å·¥å…·ï¼Œæ¨èä½¿ç”¨ç”µå­äº§å“ï¼ˆiPadï¼Œkindle ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¹¦ï¼Œä½¿ç”¨ç”µå­äº§å“å¦‚æœé‡åˆ°ä¸æ‡‚çš„å•è¯å¯ä»¥éšæ—¶æŸ¥å­—å…¸ï¼Œå¾ˆæ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥åŠ å…¥åˆ°è‡ªå·±çš„ç”Ÿè¯æœ¬ï¼Œä¹¦ç”¨èµ·æ¥å°±å¾ˆéº»çƒ¦ã€‚\nå†™ä½œ # æˆ‘æå‡å†™ä½œçš„ç»éªŒå°±æ˜¯å¤šå†™ï¼Œä¸€èˆ¬é‡åˆ°æŠ€æœ¯é—®é¢˜ï¼Œæˆ‘éƒ½ä¼šç”¨è‹±è¯­å†™æˆæ–‡ç« æ”¾åˆ°è‡ªå·±çš„åšå®¢ä¸Šé¢ï¼Œç»å¸¸è¾“å‡ºï¼Œå°±ä¼šé€æ¸æå‡è‡ªå·±çš„å†™ä½œé€Ÿåº¦å’Œæ°´å¹³ã€‚å¦‚æœæ‹…å¿ƒè¯­æ³•ä¸è¿‡å…³ï¼Œå¯ä»¥ç”¨ grammarly æ£€æŸ¥ã€‚\nå·¥ä½œ # å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ—¥å¸¸å·¥ä½œä¹Ÿè¦å°½å¯èƒ½ä½¿ç”¨è‹±è¯­ï¼Œä¸ä¼šç”¨è‹±è¯­çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½ç¨‹åºå‘˜ã€‚å¤§é‡çš„æœ€æ–°çš„æŠ€æœ¯éƒ½æ˜¯ç”¨è‹±è¯­å†™æˆï¼Œä¸­æ–‡äº’è”ç½‘çš„è´¨é‡å ªå¿§ï¼Œå¹³æ—¶æœç´¢é—®é¢˜éƒ½æ˜¯ä½¿ç”¨è‹±è¯­çš„æœºä¼šã€‚\nåœ¨ GitHub ä¸Šæé—®æˆ–è€…å›ç­”åˆ«äººçš„é—®é¢˜ï¼Œä¹Ÿéƒ½éœ€è¦ä½¿ç”¨è‹±è¯­ï¼Œéƒ½æ˜¯é”»ç‚¼è‡ªå·±è‹±è¯­çš„æœºä¼šã€‚\n","date":"18 February 2023","externalUrl":null,"permalink":"/2023/02/18/work_overseas_english/","section":"Posts","summary":"\u003cp\u003eæ‰¾æµ·å¤–å·¥ä½œå¾ˆé‡è¦çš„ä¸€ä¸ªè¦æ±‚è¯­è¨€è¿‡å…³ï¼Œæ ¹æ®å›½å®¶çš„ä¸åŒï¼Œå¯¹è¯­è¨€çš„è¦æ±‚ä¹Ÿä¸åŒï¼Œè‹±è¯­å›½å®¶å½“ç„¶è‹±è¯­å°±è¶³å¤Ÿäº†ï¼Œæœ‰çš„æ¬§æ´²å›½å®¶å…¬å¸è¿˜ä¼šè¦æ±‚ä½ æŒæ¡å½“åœ°è¯­è¨€ï¼Œå¦‚æœä½ ä¸ä¼šï¼Œé‚£æŠ•é€’ç®€å†æ—¶å°±å¯ä»¥è·³è¿‡è¿™äº›å…¬å¸äº†ã€‚æœ¬æ–‡è°ˆä¸€è°ˆæˆ‘çš„è‹±è¯­å­¦ä¹ ç»éªŒï¼Œä»…ä¾›å‚è€ƒã€‚è‹±è¯­ä¸»è¦åˆ†ä¸ºå¬è¯´è¯»å†™å››ä¸ªæ–¹é¢ï¼Œä¸‹é¢å°±åˆ†å¼€å†™ä¸€å†™æˆ‘çš„ç»éªŒã€‚\u003c/p\u003e","title":"ç¨‹åºå‘˜æµ·å¤–å·¥ä½œ---è¯­è¨€ç¯‡","type":"posts"},{"content":"å¤§å­¦æ¯•ä¸šä»¥åï¼Œå°±æ²¡å»è¿‡é•¿æ²™äº†ï¼Œæ¥æ·±åœ³å·¥ä½œå‡ å¹´ä¹Ÿæ²¡å»è¿‡é•¿æ²™ä¸€æ¬¡ï¼Œæ­£å¥½è¶ç€è¿™æ¬¡æœ‰æ—¶é—´å»é•¿æ²™é€›ä¸€ä¸‹ã€‚\nç¾é£Ÿ # ç”˜é•¿é¡ºï¼Œäº”ä¸€å¹¿åœºåœ°é“ç«™ 8 å·å£é™„è¿‘ï¼Œç‚¹äº†ä¸€ä»½è‚‰ä¸é¢ï¼Œå‘³é“ä¸é”™ï¼Œå¾ˆé¦™ï¼Œæ±¤ä¹Ÿå¥½å–ã€‚\nå…¬äº¤æ–°æ‘ç±³ç²‰ï¼Œå»äº†å¤ªå¹³è¡—åº—ï¼Œè¿™å®¶åº—å¥½åƒæ˜¯ 24 å°æ—¶è¥ä¸šï¼Œç‚¹äº†ä¸€ä»½æ‚é…±çš„ï¼Œç²‰æ¯”è¾ƒå’¸ï¼Œå‘³é“è¿˜ä¸é”™ã€‚\nå‘ç¾¤é”…é¥ºï¼Œæœ¬æ¥æƒ³å»åƒå¡å­è¡—åº—ï¼Œå»çš„æ—¶å€™æ²¡å¼€é—¨ï¼Œå°±å»äº†å—é—¨åº—ï¼Œé¥ºå­æ¯”è¾ƒå°ï¼Œç•¥æ²¹è…»ï¼Œå¹²é…¥ï¼Œå‘³é“é¦™ã€‚åœ¨é•¿æ²™ä¸Šå­¦çš„æ—¶å€™ï¼Œå¶å°”ä¼šåƒå‘ç¾¤é”…é¥ºï¼Œç¬¬ä¸€æ¬¡åƒçš„æ—¶å€™å°±è§‰å¾—å¾ˆå¥½åƒï¼Œé‚£è¿˜æ˜¯ 2011 å¹´çš„æ—¶å€™ï¼Œä¸è¿‡ä¸èƒ½å¤šåƒï¼Œåƒå¤šäº†å¤ªè…»ã€‚\nåˆ˜è‹å­ç²‰é¦†ï¼Œäº”ä¸€å¹¿åœºåº—ï¼Œç‚¹äº†éº»è¾£ç‰›è‚‰ç²‰ï¼Œ16 å…ƒï¼Œç‰›è‚‰å¾ˆå¹²ï¼Œå‘³é“è¿˜å¯ä»¥ã€‚\nä¼šå‹ # å’Œå°åã€æœ±æœ±åƒäº†ä¸ªé¥­ï¼Œå°åå·²ç»æ˜¯æœ‰å¨ƒçš„äººï¼Œå¼€å§‹ç„¦è™‘å¨ƒçš„æ•™è‚²ï¼Œæ€ä¹ˆèµ¢åœ¨èµ·è·‘çº¿ã€‚ã€‚é•¿æ²™è¿˜æ˜¯æ¯”è¾ƒå®œå±…çš„ï¼Œæˆ¿ä»·æ²¡é‚£ä¹ˆè´µï¼Œæ•™è‚²ä¹Ÿä¸é”™ï¼Œå¥½çš„é«˜ä¸­å½“ç„¶ä¹Ÿä¸æ˜¯é‚£ä¹ˆå®¹æ˜“è¿›å»çš„ã€‚\né—²é€› # å›ä¸­å—å¤§å­¦é—²é€›äº†ä¸€ä¸‹ï¼Œåˆ°äº†å‡åå…¬å¯“ï¼Œè¿˜æ˜¯æ”¾å‡æœŸé—´ï¼Œæ²¡ä»€ä¹ˆäººï¼Œå»äº†æ–°æ ¡åŒºï¼Œä¹Ÿæ˜¯æ²¡ä»€ä¹ˆäººï¼Œä¼¼ä¹åˆæ–°ç›–äº†ä¸€äº›å»ºç­‘ã€‚\nåˆ°äº†ä¸­å—å¤§å­¦æœ¬éƒ¨ï¼Œåˆçˆ¬å²³éº“å±±ï¼Œèµ°äº†ä¸€æ¡äººä¸å¤šçš„ä¸Šå±±è·¯ï¼Œä¸€åº¦ä»¥ä¸ºèµ°é”™äº†ï¼Œè·¯çº¿ï¼š ä¸æ–‡æ±Ÿå¢“ \u0026mdash;\u0026gt; é•¿æ²™ä¼šæˆ˜ç¢‘ \u0026mdash;\u0026gt; éº“å±±å¯º \u0026mdash;\u0026gt; è”¡é”·å¢“ \u0026mdash;\u0026gt; é»„å…´å¢“ \u0026mdash;\u0026gt; è§‚å…‰é•¿å»Š \u0026mdash;\u0026gt; å²³éº“å±±ä¸œé—¨\näº¤é€š # æˆ‘ä»¬æ¯•ä¸šçš„æ—¶å€™é•¿æ²™è¿˜æ²¡åœ°é“ï¼Œä¸ƒå…«å¹´è¿‡å»ï¼Œé•¿æ²™å·²ç»æœ‰å¥½å‡ æ¡åœ°é“çº¿äº†ï¼Œä½†æ˜¯æœ‰çš„åœ°é“å£è®¾è®¡ä¸åˆç†ï¼Œç»å¸¸åªåœ¨è·¯ä¸€è¾¹\nç½‘çº¢åŒ– # é•¿æ²™ä¹Ÿå˜å¾—ç½‘çº¢åŒ–ï¼Œä¸€ä¸ªæ˜æ˜¾æ„Ÿå—å°±æ˜¯è¡—ä¸Šäººç‰¹åˆ«å¤šï¼Œç½‘çº¢åŒ–å¸¦åŠ¨äººå£å¢é•¿ï¼Ÿé»„å…´è·¯æ­¥è¡Œè¡—å’Œäº”ä¸€å¹¿åœºæ¯”ä»¥å‰æ›´çƒ­é—¹äº†ï¼Œå¹´è½»äººå¾ˆå¤šï¼Œæˆ‘ä¸Šå­¦çš„æ—¶å€™æ„Ÿè§‰äººæ²¡é‚£ä¹ˆå¤šï¼Œé»‘è‰²ç»å…¸è‡­è±†è…å’ŒèŒ¶é¢œæ‚¦è‰²æ’é˜Ÿçš„äººéƒ½ä¸å°‘ï¼Œä¸æ˜ç™½ã€‚\n","date":"10 February 2023","externalUrl":null,"permalink":"/2023/02/10/changsha_2023/","section":"Posts","summary":"\u003cp\u003eå¤§å­¦æ¯•ä¸šä»¥åï¼Œå°±æ²¡å»è¿‡é•¿æ²™äº†ï¼Œæ¥æ·±åœ³å·¥ä½œå‡ å¹´ä¹Ÿæ²¡å»è¿‡é•¿æ²™ä¸€æ¬¡ï¼Œæ­£å¥½è¶ç€è¿™æ¬¡æœ‰æ—¶é—´å»é•¿æ²™é€›ä¸€ä¸‹ã€‚\u003c/p\u003e","title":"2023 é•¿æ²™è¡Œ","type":"posts"},{"content":"å¦‚æœä½ è¦é—®æˆ‘å¿ƒä¸­ç¬¬ä¸€ç¾é£Ÿä¹‹éƒ½ï¼Œæˆ‘ä¼šè¯´æ˜¯è¥¿å®‰ã€‚è¥¿å®‰æˆ‘æ­¤å‰å·²ç»å»è¿‡ä¸¤æ¬¡äº†ï¼Œä½†ä»æ„çŠ¹æœªå°½ã€‚\nä»Šå¹´å…¶å®å»äº†ä¸¤æ¬¡è¥¿å®‰ï¼Œä¸€æ¬¡æ˜¯ä»æ·±åœ³å›è€å®¶ï¼Œåœ¨è¥¿å®‰è½¬è½¦ï¼Œåœ¨è¥¿å®‰ä½äº†ä¸€æ™šï¼Œç¬¬äºŒå¤©å°±èµ°äº†ã€‚åˆšåˆ°è¥¿å®‰çš„æ™šä¸Šï¼Œå°±ç‚¹äº†å¿ƒå¿ƒå¿µå¿µçš„è¥¿å®‰èƒ¡è¾£æ±¤ï¼Œè¿™å‘³é“å¤ªèµäº†ã€‚ä¸ªäººè®¤ä¸ºï¼Œè¥¿å®‰èƒ¡è¾£æ±¤æ¯”æ²³å—èƒ¡è¾£æ±¤æ›´å¥½åƒï¼Œè¥¿å®‰èƒ¡è¾£æ±¤åŠ äº†ç‰›è‚‰ä¸¸ï¼Œè±†è§’ï¼ŒåŒ…èœï¼ŒåœŸè±†ï¼Œçº¢èåœç­‰ç­‰ï¼Œæ–™æ›´è¶³ã€‚\nç¬¬äºŒå¤©æƒ³å»ä¹°ä¸ªè‚‰å¤¹é¦ï¼Œå‘ç°å¤§éƒ¨åˆ†åº—éƒ½å…³äº†ï¼Œå»äº†å›æ°‘è¡—ï¼Œäººè¿˜æŒºå¤šï¼Œå¯èƒ½å…¨è¥¿å®‰çš„æ¸¸å®¢éƒ½é›†ä¸­åˆ°äº†å›æ°‘è¡—ã€‚åœ¨å›æ°‘è¡—è€é‡‘å®¶åˆåƒäº†èƒ¡è¾£æ±¤ï¼Œè¿˜ç‚¹äº†è›‹èœå¤¹é¦ï¼Œèƒ¡è¾£æ±¤ä¸é”™ï¼Œè›‹èœå¤¹é¦ä¸å¥½åƒï¼Œé¸¡è›‹å°±æ˜¯ä¸ªè›‹é»„ï¼Œèœæ˜¯å’¸èœåŠ èŠ±ç”Ÿç­‰ç­‰ï¼Œå¾ˆå¹²ã€‚å›æ°‘è¡—ä¸Šçš„é»„æ¡‚æŸ¿é¥¼ä¹Ÿä¸é”™ï¼Œæœ‰å¤šç§å‘³é“ã€‚å›æ°‘è¡—ç›¸å¯¹äºæˆ‘ 2016 å¹´æ¥çš„æ—¶å€™æ›´åŠ å•†ä¸šåŒ–ï¼Œç½‘çº¢å°åƒä¸å°‘ï¼Œæ ¹æœ¬ä¸æ˜¯åœ°æ–¹ç‰¹è‰²ã€‚å›æ°‘è¡—è¿˜æœ‰ä¸€ä¸ªä»¤äººè¯Ÿç—…çš„åœ°æ–¹æ˜¯æé¬¼å¤ªå¤šï¼Œä»€ä¹ˆè€é‡‘å®¶ï¼Œè€ç±³å®¶ï¼Œè€åˆ˜å®¶ï¼Œéƒ½æœ‰å¥½å‡ ä¸ªï¼Œä½œä¸ºæ¸¸å®¢æ ¹æœ¬æ— æ³•åˆ†è¾¨åˆ°åº•å“ªä¸ªæ‰æ˜¯æ­£å®—çš„ç¾Šè‚‰æ³¡é¦ã€‚\nç¬¬äºŒæ¬¡å»è¥¿å®‰æ˜¯å›å®¶å‘†äº†å‡ å¤©ï¼Œè¿‡äº†æ­£æœˆåˆä¸ƒå»çš„ï¼Œæœ¬æ¥ä»¥ä¸ºäººåº”è¯¥ä¸å¤šäº†ï¼Œæ²¡æƒ³åˆ°è¥¿å®‰çš„äººè¿˜æ˜¯é‚£ä¹ˆå¤šã€‚\nå»äº†æ´’é‡‘æ¡¥ç¾é£Ÿè¡—ï¼Œäººéå¸¸å¤šï¼Œæ‘©è‚©æ¥è¸µï¼Œåœ¨è¿™é‡Œä¹Ÿç¢°åˆ°äº†æé¬¼ï¼Œæœ‰ä¸ªç‰ŒåŒ¾ä¸Šé¢ä¹Ÿå†™ç€â€œæ´’é‡‘æ¡¥â€ï¼ˆåé¢çœ‹æ–°é—»è¿™ä¸ªåœ°æ–¹è¢«æ¸¸å®¢æŠ•è¯‰äº†ï¼Œç„¶åè¢«æ‹†æ‰äº†ï¼‰ï¼Œé‡Œé¢ç¾é£Ÿä¸å°‘ï¼Œæœ‰ç‰›è‚‰é¥¼ï¼Œçƒ§çƒ¤ï¼Œé¥®æ–™ï¼Œä¹Ÿæœ‰ä¸€äº›éå½“åœ°çš„ç½‘çº¢å°åƒï¼Œä»·æ ¼éƒ½æ˜¯åè´µçš„ï¼Œæœ‰ç‚¹åæ°”çš„å°åº—éƒ½è¦æ’é˜Ÿè´­ä¹°ã€‚\nå¤´ä¸€æ¬¡å»äº†ç¢‘æ—åšç‰©é¦†ï¼Œç¢‘æ—åšç‰©é¦†æ˜¯æ”¶è´¹çš„ï¼Œä¸è¿‡é—¨ç¥¨ä¹Ÿä¸è´µï¼Œåšç‰©é¦†å±•é¦†æœ‰ä¸ƒä¸ªï¼Œè¿˜æœ‰ä¸€äº›çŸ³åˆ»å±•é¦†ï¼Œè®¤çœŸå»çœ‹ä¸€å¤©éƒ½ä¸å¤Ÿã€‚è¯·ä¸ªä¸“ä¸šè®²è§£ä¹Ÿæ˜¯å¿…è¦çš„ï¼Œå¦åˆ™è‡ªå·±çœ‹ä¹Ÿåªèƒ½çœ‹çœ‹çƒ­é—¹ã€‚\nå»äº†è¥¿å®‰é’Ÿæ¥¼é™„è¿‘çš„æŸ³å··é¢ï¼Œä¹‹å‰æ¥è¥¿å®‰å°±æƒ³å°ä¸€ä¸‹ï¼Œä¸è¿‡å½“æ—¶æ—¶é—´å¤ªç´§å°±æ²¡å»ï¼Œè¿™æ¬¡æœ‰æ—¶é—´å°±å»äº†ï¼Œåº—é¢è¾ƒä»¥å‰æœ‰è£…ä¿®ï¼Œé¢çš„ä»·æ ¼åœ¨è¥¿å®‰ç®—æ˜¯æŒºè´µçš„ï¼Œå¤§è…• 20ï¼Œå°ç¢— 17ï¼Œé¢æ˜¯å¾ˆåŠ²é“å¾ˆç²—çš„é¢ï¼Œå“¨å­æ˜¯ç‰›è‚‰åšçš„ï¼Œæœ‰èƒ¡æ¤’çš„éº»å‘³ï¼Œå‘³é“éå¸¸ä¸é”™çš„ï¼Œå€¼å¾—ä¸€è¯•ã€‚\nå»äº†è¥¿å®‰çš„æ°¸å…´åŠï¼Œé‡Œé¢æœ‰é™•è¥¿å„åœ°çš„ç¾é£Ÿï¼Œä¸è¿‡æ„Ÿè§‰å¹¶ä¸æ˜¯å¾ˆæ­£å®—ï¼Œæ¯”è¾ƒå•†ä¸šåŒ–ï¼Œæ¸¸å®¢ä¹Ÿä¸å°‘ï¼Œç‰¹åˆ«æ˜¯æœ‰ä¸ªæ‘”ç¢—é…’æ’é˜Ÿä½“éªŒçš„äººä¸å°‘ã€‚\nè¥¿å®‰çš„è‚‰å¤¹é¦å½“ç„¶æ˜¯å¿…åƒçš„ï¼Œç§¦è±«è‚‰å¤¹é¦æ®è¯´ä¸é”™ï¼Œä½†æ˜¯åº—æœ‰ç‚¹å°‘ï¼Œè€Œä¸”æ€»åº—åªè¥ä¸šåˆ°ä¸‹åˆä¸¤ç‚¹ï¼Œæ²¡åƒä¸Šã€‚å­åˆè·¯å¼ è®°çš„è‚‰å¤¹é¦ä»·æ ¼æ˜¯åè´µçš„ï¼Œæ¥è¥¿å®‰å°±ä¸è¦å¤ªè¿·ä¿¡è¿™äº›è‚‰å¤¹é¦ç‰Œå­äº†ï¼Œè¡—è¾¹å…­å—é’±çš„è‚‰å¤¹é¦ä¹Ÿå¾ˆä¸é”™ã€‚\næœ‰ç©ºå’Œä¼¦å“¥åƒäº†ä¸ªé¥­ï¼Œå·¥ä½œæŒºå·ï¼Œé¡¹ç›®ä¹Ÿå¾ˆå¿™ï¼Œç»å¸¸éœ€è¦åŠ ç­ï¼Œä¸€èˆ¬æ™šä¸Š 10 ç‚¹å¤šæ‰ä¸‹ç­ã€‚ä¹‹å‰ 17 å¹´æ¥è¥¿å®‰ï¼Œä¼¦å“¥è¿˜åœ¨å…¬å¸å®ä¹ ï¼Œå½“æ—¶ç¢°é¢å¸¦äº†ä¸€ä»½ç†è‚‰å¤§é¥¼ï¼Œå‘³é“å¤ªå¥½äº†ï¼Œå¤šå°‘å¹´éƒ½æ²¡å¿˜è®°ï¼Œè®°å¿†ä¸­çš„ç¾å‘³ã€‚æ™šä¸Šè¿˜å»å¤§å”ä¸å¤œåŸéšä¾¿é€›äº†ä¸€ä¸‹ï¼Œç®€ç›´æ˜¯äººå±±äººæµ·ï¼Œå’Œä¹‹å‰ 16/17 å¹´æ¥çš„æ—¶å€™ï¼Œå®Œå…¨ä¸æ˜¯ä¸€ä¸ªæ™¯è±¡ï¼Œè¡—ç¯ã€æ ‘ä¸Šçš„ç¯éƒ½è®¾è®¡çš„éƒ½ä¸é”™ï¼Œæœ‰ç¾æ„Ÿï¼Œå°±æ˜¯äººå¤ªå¤šäº†ã€‚\nåœ¨è¥¿å®‰åªå‘†äº†ä¸¤ä¸‰å¤©å°±èµ°äº†ï¼Œæ—¶é—´å¤ªçŸ­ï¼Œè¿˜æœ‰å¾ˆå¤šæƒ³é€›çš„åœ°æ–¹æ²¡å»ï¼Œç•™å¾…ä¸‹æ¬¡å†å»ã€‚\n","date":"3 February 2023","externalUrl":null,"permalink":"/2023/02/03/xi_an_2023/","section":"Posts","summary":"\u003cp\u003eå¦‚æœä½ è¦é—®æˆ‘å¿ƒä¸­ç¬¬ä¸€ç¾é£Ÿä¹‹éƒ½ï¼Œæˆ‘ä¼šè¯´æ˜¯è¥¿å®‰ã€‚è¥¿å®‰æˆ‘æ­¤å‰å·²ç»å»è¿‡ä¸¤æ¬¡äº†ï¼Œä½†ä»æ„çŠ¹æœªå°½ã€‚\u003c/p\u003e","title":"2023 è¥¿å®‰è¡Œ","type":"posts"},{"content":"æ‹¿åˆ°å¾·å›½å·¥ä½œ offer ä»¥åï¼Œæˆ‘ä»¬éœ€è¦ç”³è¯·åˆé€‚çš„ç­¾è¯å‰å¾€å¾·å›½ã€‚æœ¬æ–‡å°†ä¼šè¯¦ç»†æ€»ç»“å¾·å›½å·¥ç­¾ï¼ˆæ¬§ç›Ÿè“å¡ï¼‰ç”³è¯·éœ€è¦çš„ææ–™ï¼Œå¡«å†™ç»†èŠ‚ï¼Œä»¥åŠé¢ç­¾çš„æµç¨‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°æœ‰åŒæ ·ç–‘æƒ‘çš„äººã€‚\nDisclaimer: æœ¬æ–‡ä»…ä»…ä»£è¡¨ä¸ªäººç»å†ï¼Œéå®˜æ–¹æƒå¨å»ºè®®ï¼Œä»…ä¾›å„ä½è¯»è€…å‚è€ƒã€‚\nç”³è¯·ç­¾è¯ç±»å‹ä»¥åŠææ–™ # ç­¾è¯ä¸»è¦åˆ†ä¸ºçŸ­æœŸç­¾è¯ä»¥åŠé•¿æœŸç­¾è¯ï¼ŒçŸ­æœŸç­¾è¯ä¸€èˆ¬é’ˆå¯¹åˆ°å¾·å›½æ—…æ¸¸çš„äººï¼Œé•¿æœŸç­¾è¯é’ˆå¯¹å·¥ä½œï¼Œå­¦ä¹ ï¼Œå•†åŠ¡ç­‰ç±»å‹çš„éœ€æ±‚ã€‚ä¹Ÿå¯ä»¥ç”¨ç­¾è¯é€‰æ‹©å™¨ï¼ŒæŸ¥çœ‹è‡ªå·±è¦ç”³è¯·ä»€ä¹ˆç±»å‹ç­¾è¯ï¼šhttps://visa.diplo.de/en/index.html#/vib ã€‚å·¥ä½œç­¾è¯è‚¯å®šæ˜¯è¦é€‰æ‹©é•¿æœŸå±…ç•™ç­¾è¯ã€‚å…¶å®é¢†äº‹é¦†ç­¾å‘çš„ç­¾è¯åªæ˜¯ä¸´æ—¶ç­¾è¯ï¼ˆç§°ä¸º D-visa)ï¼Œæœ‰æ•ˆæœŸåªæœ‰ 3-6 ä¸ªæœˆï¼Œåˆ°äº†å¾·å›½ä»¥åï¼Œéœ€è¦è”ç³»ç§»æ°‘å±€ï¼Œæäº¤ææ–™ï¼Œæ¢æˆ residence permit (è“å¡æ˜¯ä¸€ç§ç‰¹æ®Šå½¢å¼çš„å±…ç•™è®¸å¯)ï¼Œå¹¶ä¸æ˜¯åœ¨ä¸­å›½å†…å°±ç›´æ¥ç»™è“å¡ã€‚\né•¿æœŸå±…ç•™ç­¾è¯éœ€è¦çš„ææ–™ ï¼Œè¿™ä¸ªç½‘é¡µåˆ—å‡ºäº†ä¸åŒç±»å‹çš„äººéœ€è¦ææ–™: https://china.diplo.de/cn-zh/service/visa-einreise/nationales-visum/1345434\nå¯¹äºå·¥ä½œç­¾è¯ï¼Œéœ€è¦çš„ææ–™ï¼šhttps://china.diplo.de/blob/1341662/7635a9ffa0559a27faad71ed35d4ce3b/pdf-merkblatt-natvisum-arbeitsaufnahme-data.pdf\né•¿æœŸå±…ç•™å¸¸è§é—®é¢˜: https://china.diplo.de/cn-zh/service/visa-einreise/faq-national-visa/1434978?openAccordionId=item-1427052-14-panel\nå¾·å›½ä½¿é¢†é¦† # å·¥ä½œç­¾è¯å¿…é¡»æœ¬äººå»å¤§ä½¿é¦†æˆ–è€…é¢†äº‹é¦†æäº¤ææ–™é¢ç­¾ï¼Œä¸èƒ½ä»–äººä»£åŠ³ã€‚å¾·å›½åœ¨ä¸­å›½å¤§é™†æœ‰å¤šä¸ªä½¿é¢†é¦†ï¼ŒåŒ—äº¬ï¼Œä¸Šæµ·ï¼Œæ²ˆé˜³ï¼Œå¹¿å·ï¼Œæˆéƒ½éƒ½æœ‰ï¼Œç”³è¯·ç­¾è¯è¦æ ¹æ®ç›®å‰æ‰€åœ¨åœ°ï¼Œé€‰æ‹©å¯¹åº”çš„ä½¿é¢†é¦†ã€‚å¾·å›½é©»åä½¿é¢†é¦†ä¸€è§ˆï¼šhttps://china.diplo.de/cn-zh/vertretungen\né©»åå¤§ä½¿é¦†é“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/vertretungen/botschaft?view= æ²ˆé˜³é¢†äº‹é¦†é“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/vertretungen/gk-shenyang?view= æˆéƒ½é¢†äº‹é¦†é“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/vertretungen/gk-chengdu?view= ä¸Šæµ·é¢†äº‹é¦†é“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/vertretungen/gk-shanghai?view= å¹¿å·é¢†äº‹é¦†é“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/vertretungen/gk-kanton ç­¾è¯é¢„çº¦ # å¾·å›½åœ¨ä¸­å›½æœ‰å¤šä¸ªä½¿é¢†é¦†ï¼ŒæŒ‰ç…§é¢„çº¦çš„è¯´æ˜ï¼Œè¦é¢„çº¦ç›®å‰å±…ä½åœ°å¯¹åº”çš„é¢†äº‹é¦†ï¼Œä¾‹å¦‚æˆ‘å±…ä½åœ¨æ·±åœ³ï¼Œé‚£å°±è¦é¢„çº¦å¹¿å·é¢†äº‹é¦†ï¼ˆé¢†åŒºåŒ…æ‹¬å¹¿ä¸œã€å¹¿è¥¿ã€ç¦å»ºã€æµ·å—ï¼‰ã€‚12 æœˆåˆå¹¿å·è¿˜åœ¨ç–«æƒ…å°æ§ä¹‹ä¸­ï¼Œå¹¿å·é¢†äº‹é¦† 12 æœˆçš„é¢„çº¦éƒ½æ²¡æœ‰ï¼Œä½†æ˜¯å…¶ä»–æœ‰çš„é¢†äº‹é¦†è¿˜æœ‰é¢„çº¦åé¢ï¼Œç”±äºæ‹…å¿ƒç–«æƒ…çš„å‘å±•ï¼Œæ‰€ä»¥æˆ‘å‘é‚®ä»¶å’¨è¯¢äº†å¹¿å·é¢†äº‹é¦†ï¼Œæ˜¯å¦èƒ½å¤Ÿé¢„çº¦å…¶ä»–ä½¿é¢†é¦†ï¼Œä¾‹å¦‚åŒ—äº¬æˆ–è€…æˆéƒ½é¢†äº‹é¦†ï¼Œé¢†äº‹é¦†å›å¤æ˜¯åªèƒ½åœ¨å¹¿å·é¢†äº‹é¦†é¢„çº¦ï¼Œå› ä¸ºæ·±åœ³å±äºå¹¿å·é¢†äº‹é¦†çš„ç®¡è¾–èŒƒå›´ã€‚\nåœ¨è¿™ä¸ªç­¾è¯ä¸å…¥å¢ƒé¡µé¢ (https://china.diplo.de/cn-zh/service/visa-einreise?view=)ï¼Œæœ‰ä¸€äº›æç¤ºï¼Œæ ¹æ®ç–«æƒ…çŠ¶å†µä¼šæ›´æ–°ï¼Œä¸‹é¢æœ‰ã€ŒçŸ­æœŸé€—ç•™ã€å’Œã€Œé•¿æœŸå±…ç•™ã€æ¨¡å—ï¼Œå·¥ç­¾çš„è¯å°±é€‰æ‹©é•¿æœŸç­¾è¯ã€‚\nåœ¨è¿™ä¸ªé¡µé¢å¯ä»¥æ‰¾åˆ°ä¸­å›½ä¸åŒé¢†äº‹é¦†çš„é¢„çº¦ç½‘é¡µé“¾æ¥ï¼šhttps://china.diplo.de/cn-zh/service/visa-einreise/nationales-visum/1345434?openAccordionId=item-1345436-2-panel\u0026view=\nç­¾è¯é¢„çº¦æœ‰ä¸åŒçš„ç±»å‹ï¼Œè¦é€‰æ‹©å¯¹ä¸åŒçš„ç±»å‹é¢„çº¦ï¼Œä¾‹å¦‚æœ‰ ZAV pre-approvalï¼Œç”³è¯·ç­¾è¯çš„æ—¶å€™å°±è¦é€‰æ‹©å¸¦æœ‰é‚£ä¸€é¡¹çš„ç­¾è¯ï¼Œé¢„çº¦ç½‘é¡µ:\nlongterm-visa (national visa)/é•¿æœŸç­¾è¯ï¼ˆå¾·å›½ç­¾è¯ï¼‰ - work holders of ZAV issued pre-consent ONLY / æŒæœ‰å¾·å›½è”é‚¦åŠ³åŠ¨ç½²å‡ºå…·çš„é¢„å…ˆæ ¸å‡†ä¿¡çš„å·¥ä½œ\nä¸è¿‡ä¸åŒé¢†äº‹é¦†é¢„çº¦ç•Œé¢å¯èƒ½ä¸ä¸€æ ·ï¼Œå…·ä½“çµæ´»å¤„ç†å§ã€‚\næ³¨æ„ç‚¹ # é¢„çº¦è¦è¶æ—©ï¼Œå¤§ä½¿é¦†æ¯ä¸ªæœˆæ”¾å‡ºæ¥çš„åé¢æ„Ÿè§‰ä¸æ˜¯å¾ˆå¤šï¼Œä»é¢„çº¦åˆ°äº¤ææ–™å¯èƒ½éœ€è¦èŠ±è´¹ä¸å°‘æ—¶é—´ï¼Œä¸è¦ç­‰ææ–™å…¨éƒ¨å¼„å¥½æ‰é¢„çº¦ é¢„çº¦ç³»ç»Ÿéœ€è¦å¡«å†™å§“åï¼Œé‚®ç®±ï¼Œå‡ºç”Ÿæ—¥æœŸï¼ŒæŠ¤ç…§å·ç ï¼Œæ‰‹æœºå·ç ç­‰ä¿¡æ¯ã€‚å¡«å†™æŠ¤ç…§å·ç æ—¶å€™ï¼Œé‡åˆ°é—®é¢˜ï¼ŒEA åé¢æ•°å­— 1 è¿˜æ˜¯å­—æ¯ I (å®é™…ä¸Šæ˜¯æ•°å­— 1)ï¼Œä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œè¾¨åˆ«æ–¹æ³•å‚è€ƒ https://www.thepaper.cn/newsDetail_forward_4186634 å·¥ä½œç­¾è¯éœ€è¦çš„ææ–™æ¸…å• # ä»¥ä¸‹æ˜¯éœ€è¦çš„ææ–™æ¸…å•ï¼Œæ³¨æ„å…¶ä¸­æœ‰ä¸€äº›ææ–™æ²¡æœ‰åœ¨ä»–ä»¬ç»™çš„ pdf æ ¼å¼çš„ææ–™æ¸…å•åˆ—å‡ºï¼Œä¾‹å¦‚ã€Œå…³äºç­¾è¯ç”³è¯·çš„å£°æ˜ä¹¦ã€ï¼Œã€ŒåˆåŒã€ï¼Œã€Œåœ¨å¾·å›½å·¥ä½œå¿…è¦æ€§è¯´æ˜ã€ï¼Œåä¸¤ä¸ªæ˜¯åœ¨é•¿æœŸç­¾è¯é¢„çº¦ç½‘é¡µä¸Šå†™çš„éœ€è¦ï¼š\nå¿…é¡»é€’äº¤ä¸€ä»½å·¥ä½œèŒä½çš„è¯æ˜ï¼ˆå¦‚åŠ³åŠ¨åˆåŒï¼‰å’Œä¸€ä»½é›‡ä¸»è¯æ˜ï¼Œè¯´æ˜ä»äº‹çš„å·¥ä½œä»ç»æµè§’åº¦è€ƒè™‘éå¸¸å¿…è¦ï¼Œå¹¶åœ¨æ—¶é—´ä¸Šä¸èƒ½æ¨è¿Ÿæˆ–åœ¨å›½å¤–æ— æ³•å®Œæˆã€‚\nç­¾è¯é¢„çº¦é‚®ä»¶ï¼Œæ‰“å°ä¸€ä»½ï¼ˆè¿™ä¸ªæ²¡ç”¨åˆ°ï¼Œç›´æ¥ç»™å¤§å¦å‰å°çœ‹äº†é¢„çº¦ç­¾è¯åæ”¶åˆ°çš„é‚®ä»¶ï¼‰ ç­¾è¯ç”³è¯·è¡¨ï¼Œæ‰“å°ä¸¤ä»½ï¼Œéœ€è¦å†™ä¸Šåœ°ç‚¹æ—¥æœŸï¼Œç­¾åï¼Œç­¾åè¦å’ŒæŠ¤ç…§ä¸€è‡´ï¼Œä¸­å›½æŠ¤ç…§ä¸Šç­¾åæ˜¯ä¸­æ–‡ï¼Œç­¾åä¹Ÿå†™ä¸­æ–‡å³å¯ å…³äºç­¾è¯ç”³è¯·çš„å£°æ˜ä¹¦ (é¢†äº‹é¦†ç½‘ç«™å¯ä»¥ä¸‹è½½åˆ°)ï¼Œè¿™ä¸ªæˆ‘æ²¡æ‰“å°ï¼Œåé¢åˆ°äº†é¢†äº‹é¦†ï¼Œå·¥ä½œäººå‘˜ç»™äº†ä¸¤ä»½è¿™ä¸ªæ–‡ä»¶ï¼Œè®©æˆ‘ç­¾åï¼Œä¸­æ–‡å’Œå¾·è¯­åªéœ€è¦ç­¾ä¸€ä¸ªï¼Œæˆ‘ç­¾äº†å¾·è¯­çš„ï¼ˆç­¾åè¿˜æ˜¯ä¸­æ–‡ç­¾ï¼‰ åˆåŒï¼Œæ‰“å°ä¸¤ä»½ (æœ‰çš„åˆåŒå¾ˆé•¿ï¼Œåªæ‰“å°ç›¸å…³çš„éƒ¨åˆ†å³å¯) ä¸ªäººæŠ¤ç…§ä¿¡æ¯é¡µï¼Œæ‰“å°ä¸¤ä»½ ä¸ªäººç®€å†ï¼Œæ‰“å°ä¸¤ä»½ ä¹‹å‰å•ä½çš„å·¥ä½œè¯æ˜ï¼Œæ‰“å°ä¸¤ä»½ å·¥ä½œè¯æ˜ç¿»è¯‘ï¼Œæ‰“å°ä¸¤ä»½ é›‡ä¸»çš„é›‡ä½£å…³ç³»å£°æ˜è¡¨ï¼Œæ‰“å°ä¸¤ä»½ ä¸“ä¸šäººæ‰åŠ å¿«ç¨‹åºè¯´æ˜ï¼Œæ‰“å°ä¸¤ä»½ï¼Œç­¾å­— æ—…è¡ŒåŒ»ç–—ä¿é™©ï¼Œæ‰“å°ä¸¤ä»½ ç¡•å£«å­¦ä½è¯ï¼Œæ‰“å°ä¸¤ä»½ (æˆ‘çš„ç¡•å£«å­¦ä½è¯æœ¬æ¥å°±æœ‰è‹±è¯­ç‰ˆæœ¬ï¼Œæ‰€ä»¥æ— éœ€ç¿»è¯‘) ç¡•å£«æ¯•ä¸šè¯ï¼Œç¡•å£«æ¯•ä¸šè¯ç¿»è¯‘(æ‰“å°ä¸¤ä»½) anabin æ•°æ®åº“å­¦ä½è¯„å®šï¼Œæ‰“å°ä¸¤ä»½ anabin æ•°æ®åº“å¤§å­¦è¯„å®šï¼Œæ‰“å°ä¸¤ä»½ åœ¨å¾·å›½å·¥ä½œå¿…è¦æ€§è¯´æ˜(æ¥è‡ªé›‡ä¸»)ï¼Œæ‰“å°ä¸¤ä»½ ä»¥ä¸Šææ–™å¦‚æœæœ‰åŸä»¶çš„è¯ï¼Œéœ€è¦æŠŠåŸä»¶ä¹Ÿå¸¦ä¸Šï¼Œä¾‹å¦‚ä¸ªäººæŠ¤ç…§ï¼Œæ¯•ä¸šè¯ï¼Œå­¦ä½è¯ï¼Œå·¥ä½œè¯æ˜ç­‰ï¼Œå¦‚æœæœ‰æ–‡ä»¶æœ¬æ¥å°±æ˜¯ PDF æ ¼å¼ï¼Œä¾‹å¦‚åˆåŒï¼ˆæˆ‘çš„åˆåŒéƒ½æ˜¯ç½‘ä¸Šç­¾çº¦ï¼Œæœ€åç”Ÿæˆ PDFï¼Œæ²¡æœ‰çº¸è´¨æ–‡ä»¶ï¼‰ï¼Œåªéœ€è¦æ‰“å°ä¸¤ä»½ (ä¸“é—¨å‘é‚®ä»¶å’¨è¯¢äº†å¾·å›½å¹¿å·é¢†äº‹é¦†)\nå…³äºæ‰“å°æ ¼å¼ï¼Œç½‘ä¸Šè¯´æ³•å¾ˆå¤šï¼Œå•é¢è¿˜æ˜¯åŒé¢ï¼Œæ˜¯å¦éœ€è¦å½©è‰²æ‰“å°ï¼Œå‘é‚®ä»¶å’¨è¯¢äº†é¢†äº‹é¦†ï¼Œå›ç­”æ˜¯éƒ½å¯ä»¥ï¼Œæ²¡æœ‰å…·ä½“è¦æ±‚å¿…é¡»æ˜¯å•é¢æ‰“å°å’Œå½©æ‰“ã€‚\né•¿æœŸç­¾è¯ç”³è¯·è¡¨å¡«å†™ # å¤§ä½¿é¦†ç½‘ç«™çš„é•¿æœŸç­¾è¯æ–‡ä»¶ä¸‹è½½åŒºï¼Œç”³è¯·è¡¨æ¨¡å—æœ‰ ã€Œé•¿æœŸç­¾è¯ç”³è¯·è¡¨ã€ï¼Œä½†æ˜¯ä¸å»ºè®®ç”¨è¿™ä¸ªï¼Œå°±ç”¨åœ¨çº¿å¡«å†™å³å¯ï¼Œç”Ÿæˆçš„æ–‡ä»¶åªéœ€è¦è‡ªå·±ç­¾åï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚\nç”³è¯·è¡¨åœ¨çº¿å¡«å†™åœ°å€ï¼šhttps://videx-national.diplo.de/videx/visum-erfassung/#/videx-langfristiger-aufenthalt ï¼Œé»˜è®¤ç•Œé¢æ˜¯å¾·è¯­ï¼Œå·¦ä¸Šè§’å¯ä»¥æ”¹æˆè‹±è¯­ã€‚\nä¿å­˜ï¼Œå¯¼å…¥ï¼Œå¯¼å‡º # å¡«å†™è¿‡ç¨‹ä¸­çš„ä¿¡æ¯å¯ä»¥éšæ—¶ä¿å­˜ï¼Œä¿å­˜æŒ‰é’®åœ¨é¡µé¢çš„æœ€åº•ä¸‹ï¼Œä¿å­˜æ ¼å¼æ˜¯ json æ–‡ä»¶ã€‚åç»­æ‰“å¼€ç½‘é¡µï¼Œå¯ä»¥å¯¼å…¥æœ¬åœ°ä¿å­˜çš„æ–‡ä»¶ç»§ç»­å¡«å†™ï¼Œæ‰€æœ‰ä¿¡æ¯å¡«å†™å®Œæ¯•ï¼Œé¡µé¢ä¸‹æ–¹çš„ continue æŒ‰é’®å°±å¯ä»¥ç‚¹å‡»äº†ï¼Œç‚¹å‡»ä»¥åä¼šæç¤ºä½ ä¸‹è½½ pdf æ ¼å¼çš„ç”³è¯·è¡¨ã€‚\né—®é¢˜ä¸æ³¨æ„äº‹é¡¹ # ç”³è¯·è¡¨å¡«å†™çš„ä¿¡æ¯éƒ½æ˜¯å¤§å†™ï¼Œè¾“å…¥çš„æ—¶å€™ç½‘ç«™ä¼šè‡ªåŠ¨è½¬æ¢ï¼Œå°±ç®—ä½ æ²¡å¼€å¤§å†™é”å®šï¼Œè¿›å»çš„è¿˜æ˜¯å¤§å†™å­—æ¯ã€‚ æ—¥æœŸæ ¼å¼æ˜¯ æ—¥æ—¥.æœˆæœˆ.å¹´å¹´å¹´å¹´ï¼Œä¸æ˜¯å›½å†…å¸¸ç”¨çš„ å¹´å¹´å¹´å¹´.æœˆæœˆ.æ—¥æ—¥ æ ¼å¼ã€‚ place of birth å¡«å†™åˆ°çœæˆ–è€…ç›´è¾–å¸‚ï¼Œçœ‹æŠ¤ç…§ä¸Šæ€ä¹ˆå†™çš„ï¼Œä¸æ˜¯å†™å…·ä½“åŸå¸‚ã€‚ æœ‰ä¸€é¡¹æ˜¯å¡«å†™åœ¨å¾·å›½å‘†å¤šä¹… (Intended duration of stay in the Federal Republic of Germany)ï¼Œæˆ‘åªçŸ¥é“å¤§æ¦‚çš„å¼€å§‹æ—¥æœŸï¼Œä½†æ˜¯ä¸ç¡®å®šç»“æŸæ—¥æœŸï¼Œé—®äº†ä¸€äº›äººï¼Œæœ€åç»“æŸæ—¥æœŸé‚£é‡Œå¡«çš„æ˜¯ DEPEND ON THE CONTRACT. æ³¨æ„å¡«å†™å¼€å§‹æ—¥æœŸè¦å’Œä¹°çš„ä¿é™©ä¿æŒä¸€ç›´ï¼Œä¾‹å¦‚ä¿é™©ç”Ÿæ•ˆæ˜¯ 2 æœˆ 10 å·ï¼Œé‚£ä¹ˆç­¾è¯ç”³è¯·è¡¨å¡«å†™çš„å¼€å§‹æ—¥æœŸä¹Ÿè¦æ˜¯ 2 æœˆ 10 å·ã€‚ éœ€è¦å¡«å†™å…¬å¸ç›¸å…³ä¿¡æ¯ï¼Œæå‰è¦å‡†å¤‡å¥½ï¼Œä»¥å…åˆ°æ—¶å€™æ…Œä¹±ï¼Œå¿…é¡»å¡«å†™çš„é¡¹ç›®å¦‚ä¸‹ï¼š å…¬å¸åç§° è”ç³»äººå§“å è¡—é“ï¼Œhouse numberï¼Œé‚®ç¼–ï¼ŒåŸå¸‚ï¼Œå›½å®¶ è”ç³»ç”µè¯ (è”ç³»ç”µè¯çš„ country codeï¼Œç³»ç»Ÿå¥½åƒä¸æ¥å— + å·ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† 0 ä»£æ›¿ï¼Œä¾‹å¦‚å¾·å›½ +49 å°±å†™æˆ 049 åº”è¯¥æ˜¯å¯ä»¥çš„) ä¸“ä¸šäººæ‰åŠ å¿«ç¨‹åºè¯´æ˜ # è¿™ä¸ªåœ¨å®˜æ–¹ç»™å‡ºçš„ææ–™æ¸…å•é‡Œæ˜¯å¯é€‰çš„ææ–™ï¼Œæˆ‘å’¨è¯¢äº†å…¬å¸è¯·çš„é¡¾é—®ï¼Œè¯´æ˜¯ç›´æ¥å‹¾é€‰æ²¡æœ‰ç”³è¯·åŠ é€Ÿé‚£ä¸€é¡¹å³å¯ã€‚\nå­¦å†è®¤è¯ä¸è¯æ˜ # è¿™ä¸ªè§†é¢‘è®²äº†æ˜¯å¦éœ€è¦å­¦å†è®¤è¯: https://youtu.be/l7pOzc1olWs\nanabin å­¦æ ¡å­¦ä½æ•°æ®åº“: https://anabin.kmk.org/anabin.html\nå­¦æ ¡è¯„çº§: https://anabin.kmk.org/no_cache/filter/institutionen.html å­¦å†è¯„çº§: https://anabin.kmk.org/no_cache/filter/hochschulabschluesse.html å­¦å†è¯„çº§ä¸‹é¢æœ‰åˆ—äº†ä¸€äº›å­¦æ ¡ï¼Œä½†æ˜¯è¿™äº›å­¦æ ¡å¹¶ä¸æ˜¯æ‰€æœ‰å­¦æ ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åŒæ—¶éœ€è¦å­¦æ ¡å’Œå­¦å†è¯„çº§ä¸¤ä¸ªèµ„æ–™ã€‚\næ³¨æ„å¦‚æœå­¦æ ¡çš„è¯„çº§ä¸º H+ï¼Œå­¦å†çš„è¯„çº§è¢«è¯„ä¸º â€œåŒç­‰â€ (å¾·è¯­ Entspricht)ï¼Œé‚£ä¹ˆä¸éœ€è¦åš ZAB å­¦å†è®¤è¯ï¼Œå¦åˆ™å¯èƒ½éœ€è¦åš ZAB å­¦å†è®¤è¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å‡†å¤‡æ¯”è¾ƒå¤šçš„ææ–™ï¼Œå¯„åˆ°å¾·å›½ï¼Œæ—¶é—´å¯èƒ½éœ€è¦ä¸€ä¸ªæœˆã€‚\nå‚è€ƒ\nanabin ä½¿ç”¨: https://www.youtube.com/watch?v=FVSfSAJao_A anabin ä½¿ç”¨ï¼šhttps://zhuanlan.zhihu.com/p/507393871 make it Germany anabin ä½¿ç”¨ï¼šhttps://www.youtube.com/watch?v=0Wtl1-xjHGE è“å¡ç”³è¯· è“å¡ç”³è¯·æŒ‡å¯¼ï¼šhttps://www.youtube.com/watch?v=I7-Jnsd4Jso ZAB å­¦å†è®¤è¯(å¯èƒ½ä¼šéœ€è¦): https://www.youtube.com/watch?v=gbdtzAtXGK4\u0026list=PLNTtAztiLNX_zctunldpVsjV7J5R3GeEB å¾·å›½å­¦å†è®¤è¯ (H+ ä¼¼ä¹ä¸éœ€è¦è®¤è¯): https://zhuanlan.zhihu.com/p/512949308?utm_id=0 ä¹‹å‰çš„å·¥ä½œè¯æ˜ # ææ–™ä¸Šè¦æ±‚çš„æ˜¯éœ€è¦è¿‡å»ä¸‰å¹´çš„å·¥ä½œè¯æ˜ï¼Œå†™æ¸…æ¥šèŒä½ï¼Œèµ·æ­¢æ—¶é—´ï¼Œæ¯ä¸ªæœˆçš„è–ªèµ„ï¼Œå…¬å¸åç§°ï¼Œåœ°å€ï¼Œè”ç³»æ–¹å¼ç­‰ã€‚ éœ€è¦ç”¨å…¬å¸æ±å¤´ä¿¡çº¸ï¼Œå°±æ˜¯é¡µçœ‰éœ€è¦ç”¨å…¬å¸çš„åç§° logo çš„æ¨¡æ¿ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå¯ä»¥åšä¸€ä¸ªæ¨¡æ¿ã€‚ å‚è€ƒ\næ—…è¡Œç­¾è¯å·¥ä½œè¯æ˜ï¼šhttps://vacations.ctrip.com/notes/1849.html æ—…è¡Œä¿é™© # ç”³è¯·ç­¾è¯ä¹Ÿéœ€è¦ä¸€ä»½æ—…è¡Œä¿é™©ï¼Œè¿™ä¸ªä¿é™©æ˜¯è¦†ç›–ä»ä½ åˆ°è¾¾å¾·å›½åˆ°ä½ æ­£å¼å¼€å§‹å·¥ä½œè¿™æ®µæ—¶é—´çš„ï¼Œå› ä¸ºæ­£å¼å·¥ä½œä»¥åï¼Œéœ€è¦ä¹°å¾·å›½çš„å…¬ç«‹ä¿é™©äº†ï¼Œä¸ºäº†ä¿é™©èµ·è§ï¼Œå¯ä»¥ä¹°ä»åˆ°è¾¾å¾·å›½çš„æ—¶é—´ï¼Œç›´åˆ°å·¥ä½œå¼€å§‹çš„å½“æœˆæœ«ã€‚æ—…è¡Œä¿é™©å¯ä»¥ç›´æ¥åœ¨æ”¯ä»˜å®ä¸Šä¹°ï¼Œæˆ–è€…ä»ä¿é™©çš„å®˜ç½‘ä¹°ï¼Œé€‰æ‹©ç”³æ ¹æ—…è¡Œä¿é™©å³å¯ã€‚æˆ‘ä¹°çš„æ˜¯å®‰è”ä¿é™©ï¼Œä»ä»–ä»¬çš„å¾®ä¿¡å…¬ä¼—å·è´­ä¹°çš„ï¼Œä»·æ ¼å’Œè´­ä¹°çš„æ—¶é—´é•¿çŸ­æœ‰å…³ç³»ã€‚\nç”±äºè¡Œç¨‹çš„ä¸ç¡®å®šï¼Œåˆ°è¾¾å¾·å›½å…·ä½“æ—¶é—´å¯èƒ½æœ‰å˜åŒ–ï¼Œæ‰€ä»¥ä¿é™©ç”Ÿæ•ˆèµ·å§‹æ—¶é—´å¯èƒ½è¯æ›´æ”¹ï¼Œå’¨è¯¢äº†å®‰è”å®¢æœï¼Œä¿é™©ç”Ÿæ•ˆå¼€å§‹æ—¶é—´å¯ä»¥è‡ªå·±å˜æ›´ 5 æ¬¡ã€‚æˆ‘æ˜¯é€šè¿‡å¾®ä¿¡å…¬ä¼—å·åŠç†çš„ä¿é™©ï¼Œæ›´æ”¹èµ·å§‹æ—¶é—´æ–¹æ³•å¦‚ä¸‹ï¼š\nè¿›å…¥ã€Œå®‰è”åœ¨çº¿ã€å…¬ä¼—å·ï¼Œç‚¹å‡»ã€Œåœ¨çº¿å•†åŸã€ï¼Œåœ¨å¼¹å‡ºçš„èœå•ï¼Œç‚¹å‡»ã€Œåœ¨çº¿å•†åŸã€ åœ¨å‡ºæ¥çš„é¡µé¢å³ä¸‹è§’ï¼Œç‚¹å‡»ã€Œæˆ‘çš„ã€è¿™ä¸ªæŒ‰é’®ï¼Œå‡ºæ¥ä¸ªäººä¿¡æ¯é¡µé¢ï¼Œç„¶åç‚¹å‡»ã€Œä¿å•æœåŠ¡ã€ åœ¨ã€Œå¢ƒå¤–é™©ä¿å•æœåŠ¡ã€é¡¹ç›®ä¸‹ï¼Œç‚¹å‡»ã€Œå˜æ›´ç”Ÿæ•ˆæ—¥ç›®çš„åœ°ã€ï¼Œç„¶åæç¤ºæ“ä½œå³å¯å˜æ›´ç”Ÿæ•ˆæ—¥æœŸ å®£èª“ç¿»è¯‘ # ä¸­æ–‡çš„æ–‡ä»¶æœ‰çš„éœ€è¦ç»è¿‡æ‰€è°“ â€œå®£èª“ç¿»è¯‘â€ æ‰æœ‰æ³•å¾‹æ•ˆåŠ›ï¼Œä¸èƒ½éšä¾¿ç¿»è¯‘ã€‚æˆ‘çš„å·¥ä½œè¯æ˜å’Œæ¯•ä¸šè¯ç¿»è¯‘éƒ½åœ¨æ·˜å®æ‰¾äº†å®£èª“ç¿»è¯‘ï¼ŒèŠ±äº† 700 å…ƒäººæ°‘å¸ï¼Œæ¯ä»½æ–‡ä»¶ä»·æ ¼ 350 äººæ°‘å¸ã€‚ä¹Ÿæœ‰äººè¯´ä¸éœ€è¦å®£èª“ç¿»è¯‘ï¼Œè‡ªå·±åœ¨æ·˜å®ä¸Šæ‰¾çš„ä¾¿å®œç¿»è¯‘ä¹Ÿå¯ä»¥é€šè¿‡ææ–™å®¡æ ¸ï¼Œå…·ä½“è‡ªå·±åˆ¤æ–­ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šã€‚\nä¸åŒè¯­è¨€çš„å®£èª“ç¿»è¯‘äººå‘˜å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç½‘ç«™ï¼šhttps://www.justiz-dolmetscher.de/Recherche/en/Suchen\nZAV Pre-approval # pre-approval æŒ‡çš„æ˜¯å¾·å›½è”é‚¦åŠ³å·¥ç½²çš„å®¡æ ¸ï¼Œé€šè¿‡å®¡æ ¸ä»¥åï¼Œå¯ä»¥åŠ å¿«åç»­ç”³è¯·ç­¾è¯çš„é€Ÿåº¦ï¼Œæ ¹æ®å®˜æ–¹ææ–™ï¼Œç”³è¯· Eu-blue card ä¸éœ€è¦ pre-approval ä¹Ÿå¯ä»¥ (å½“ç„¶è“å¡éœ€è¦ä¸€å®šçš„è–ªèµ„ä»¥åŠå­¦å†æ¡ä»¶)ã€‚\npre-approval éœ€è¦çš„ææ–™å¦‚ä¸‹ï¼š\nä»£ç†å…¬å¸å‘çš„ power of attorney æ–‡ä»¶ç­¾å­—ï¼Œç›¸å½“äºæˆæƒä»–ä»¬ä»£ç†æˆ‘åŠç†ç›¸å…³æ‰‹ç»­ æŠ¤ç…§å¤å°ä»¶ (æŠ¤ç…§ä¿¡æ¯é¡µæœ‰è‹±è¯­ï¼Œæ— éœ€ç¿»è¯‘) å®£èª“ç¿»è¯‘çš„ç›®å‰å…¬å¸çš„é›‡ä½£è¯æ˜ ç¡•å£«æ¯•ä¸šè¯ä»¥åŠå­¦ä½è¯ (éœ€è¦å¾·è¯­æˆ–è€…è‹±è¯­) ç¡•å£«å­¦ä¹ æœŸé—´æˆç»©å• (éœ€è¦å¾·è¯­æˆ–è€…è‹±è¯­) ä½†æ˜¯æœ€åå’Œå…¬å¸æ‰¾çš„ä»£ç†æ²Ÿé€šï¼Œæˆ‘çš„å­¦å†ä»¥åŠå·¥èµ„éƒ½è¾¾åˆ°è¦æ±‚ï¼Œç”³è¯·å¾·å›½è“å¡å¹¶ä¸éœ€è¦ pre-approvalï¼Œæ‰€ä»¥æœ€åå¹¶æ²¡æœ‰å»æ pre-approvalã€‚\nå¾·å›½è“å¡æ ‡å‡† # æœ€æ–°çš„ç­¾è¯ç”³è¯·ææ–™ä¸Šå†™æ˜ IT ä¸“ä¸šéœ€è¦çš„å¹´è–ªéœ€è¦è¾¾åˆ° 45552 æ¬§å…ƒï¼Œä¸€èˆ¬èŒä¸šéœ€è¦è¾¾åˆ°çš„å¹´è–ªä¸º 58400 æ¬§å…ƒï¼Œå¹¶ä¸”è“å¡äººå‘˜çš„å­¦æ ¡ä»¥åŠå­¦å†éƒ½éœ€è¦è¾¾åˆ°ä¸€å®šçš„æ ‡å‡†ã€‚\næ¬§ç›Ÿè“å¡ç”³è¯·: https://zhuanlan.zhihu.com/p/532907960?utm_id=0\nå‚è€ƒ\nè“å¡è¯´æ˜ï¼šhttps://handbookgermany.de/en/eu-blue-card Pre-approval: https://www.youtube.com/watch?v=B8dGZcSD8Lc å‰å¾€é¢ç­¾ # å¹¿å·é¢†äº‹é¦†åœ°å€ï¼šå¹¿å·å¸‚å¤©æ²³åŒºç²¤æµ·å¤©æ²³å¤§å¦ 14 æ¥¼ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥åˆ°\nä»æ—è¾¹æ˜¯å¤©æ²³åŸè´­ç‰©ä¸­å¿ƒè¿›å»ï¼Œç„¶åå‰å¾€åŒ—é—¨(æœ‰æŒ‡ç¤ºç‰Œ)ï¼Œæœ‰ä¸€å®¶æ˜Ÿå·´å…‹ï¼Œæ—è¾¹æœ‰ä¸€ä¸ªå°èµ°å»Šï¼Œé€šå¾€å¤©æ²³åŸå¤§å¦ã€‚ ç›´æ¥åˆ°è¾¾ï¼šå¤©æ²³åŸå¤§å¦å…¥å£åœ¨ä¸œé—¨ï¼Œå¤–é¢æ˜¯å¤©æ²³åŸå¤§è¡—ï¼Œå¾ˆçŸ­çš„ä¸€æ¡è¡—ï¼Œå¯¹é¢æ˜¯å¤©ç¯å¹¿åœºï¼Œå¯ä»¥çœ‹åˆ°æ˜Ÿå·´å…‹å’Œ Puma ç­‰ã€‚ å¤©æ²³åŸå¤§å¦ä¸€å±‚åç”µæ¢¯å¤„æœ‰é—¨ç¦ï¼Œå¯ä»¥æ‰¾å¤§å¦çš„å‰å°å·¥ä½œäººå‘˜æ‹¿å¡ï¼Œå‡ºç¤ºè‡ªå·±çš„é¢„çº¦é‚®ä»¶ä»¥åŠèº«ä»½è¯ï¼Œç„¶åä¼šç»™ä¸€å¼ è®¿å®¢å¡ï¼ˆè®¿å®¢å¡ä¸‹æ¥¼ä»¥åï¼Œé—¨ç¦å¯ä»¥ç›´æ¥å›æ”¶ï¼Œä¸éœ€è¦ç»™å‰å°äººå‘˜äº†ï¼‰ã€‚\nåˆ°è¾¾ 14 æ¥¼ï¼Œéœ€è¦æŠŠå¸¦çš„ç”µå­è®¾å¤‡è¿˜æœ‰åŒ…éƒ½æ”¾åˆ°å‚¨ç‰©æŸœï¼Œåªèƒ½å¸¦å’Œç­¾è¯ç›¸å…³çš„ææ–™å’Œç°é‡‘ç­‰ï¼Œè¿‡ä¸€ä¸ªå®‰æ£€ï¼Œç„¶åå®‰æ£€ä¼šé—®ä½ çš„åå­—ï¼Œç„¶åç»™ä¸€ä¸ªé¢„çº¦å·ç ã€‚æˆ‘å¤§æ¦‚ä¸‹åˆä¸€ç‚¹å››åå·¦å³åˆ°è¾¾ï¼Œæˆ‘çš„é¢„çº¦æ—¶é—´æ˜¯ä¸¤ç‚¹äºŒåï¼Œå·®ä¸å¤šç­‰åˆ°é‚£ä¸ªæ—¶å€™æ‰å«æˆ‘çš„ã€‚åˆšå¼€å§‹æ˜¯ä¸€ä¸ªä¸­å›½å·¥ä½œäººå‘˜ï¼Œä¼šæ£€æŸ¥ä½ çš„æ–‡ä»¶ï¼Œç„¶åä¼šé—®ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å…¬å¸æ˜¯åšä»€ä¹ˆçš„ï¼Œä½ çš„å·¥ä½œå†…å®¹æ˜¯ä»€ä¹ˆï¼Œæœˆè–ªæ˜¯å¤šå°‘ï¼Œä»€ä¹ˆå­¦å†ï¼Œå“ªé‡Œæ¯•ä¸šï¼Œæœ¬ç§‘æ˜¯å“ªé‡Œçš„ï¼Œç›®å‰ä½åœ¨å“ªé‡Œç­‰ç­‰ã€‚ç„¶åéœ€è¦äº¤ç­¾è¯è´¹ï¼Œå·¥ä½œç­¾è¯è´¹ç”¨æ˜¯ 75 æ¬§å…ƒï¼Œæ ¹æ®å½“æ—¶çš„æ±‡ç‡æ¢ç®—ä¸ºäººæ°‘å¸ï¼Œä¸æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡ï¼Œæ‰€ä»¥æå‰å‡†å¤‡äººæ°‘å¸ç°é‡‘ï¼Œæˆ‘åŠçš„æ—¶å€™ï¼Œæ”¶äº†æˆ‘ 560 äººæ°‘å¸ã€‚å·¥ä½œäººå‘˜ä¼šé—®æ˜¯å¦éœ€è¦å¿«é€’ç­¾è¯ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œä¼šè®©å¡«å†™ä¸€ä¸ª EMS å•ï¼Œå¿«é€’æ˜¯åˆ°ä»˜ï¼Œæ‰€ä»¥ä¸ç”¨ç°åœºä»˜å¿«é€’è´¹ã€‚ä¸è¿‡æ®è¿™ç¯‡æ–‡ç« è¯´æ˜ï¼Œè¿˜éœ€è¦ 32 å…ƒçš„å¿«é€’è´¹ï¼Œå¯èƒ½ä¸åŒåŸå¸‚ä¸ä¸€æ ·ã€‚æœ€åæ˜¯æŒ‰æŒ‡çº¹ï¼Œå·¦å³æ‰‹çš„æŒ‡çº¹éƒ½è¦ç•™ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå³å¯ã€‚\nè¿™ä¸€ç³»åˆ—æµç¨‹å¤§æ¦‚èŠ±äº† 30 åˆ†é’Ÿã€‚äº¤å®Œé’±ä»¥åï¼Œå·¥ä½œäººå‘˜è®©æˆ‘åˆ°å¤§å…ç­‰å¾…é¢è°ˆï¼Œç­‰äº†ä¸€ä¼šï¼Œç„¶åå«å·è®©æˆ‘è¿‡å»é¢è°ˆï¼Œç­¾è¯å®˜æ˜¯å¾·å›½äººã€‚\næˆ‘è¯´äº†å¥ Guten Tagï¼Œä»–ä»¥ä¸ºæˆ‘ä¼šè¯´å¾·è¯­ï¼Œç”¨å¾·è¯­å¼€å§‹é¢è¯•ï¼ŒğŸ˜…ä»–é—®æˆ‘åœ¨å“ªæ¯•ä¸šï¼Œä¸“ä¸šæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è¯´æ˜¯æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢ï¼Œä¸“ä¸šæ˜¯æ¨¡å¼è¯†åˆ«å’Œäººå·¥æ™ºèƒ½ã€‚\nä½ å»å¾·å›½åšä»€ä¹ˆï¼Œå“ªå®¶å…¬å¸ï¼Œæˆ‘è¯´æ˜¯ xxï¼Œç„¶åè§£é‡Š xxï¼Œä»–è¯´ä¸ç”¨è§£é‡Šï¼Œeverybody knows xx in Germany\nç„¶åä»–é—®æˆ‘å…·ä½“çš„å·¥ä½œå†…å®¹ï¼Œæˆ‘è§£é‡Šäº†ä¸»è¦æ˜¯ç”µå•†ä»·æ ¼é¢„æµ‹ä¹‹ç±»ï¼Œç„¶åä»–è¯´å¾·å›½å¤§å®¶ä¹° grocery ä¸€èˆ¬æ˜¯çº¿ä¸‹ã€‚\nä»–é—®æˆ‘æ‰“ç®—å»å¾·å›½å“ªé‡Œï¼Œæˆ‘è¯´æ˜¯ Berlinï¼Œä½†æ˜¯å…¬å¸æ€»éƒ¨ä¸åœ¨ Berlinï¼Œåœ¨ Neckarsulmï¼Œxx æ˜¯æ–½ç“¦èŒ¨å…¬å¸çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯é‚£ä¸ªåœ°æ–¹å¤ªå°äº†ï¼Œæˆ‘ä¸ä¼šè¯´å¾·è¯­ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©æŸæ—ã€‚\nä»–é—®æˆ‘æ‰¾å¥½æˆ¿å­äº†å—ï¼Œæˆ‘è¯´è¿˜æ²¡æœ‰ï¼Œæ‰“ç®—ç­¾è¯ä¸‹æ¥ï¼Œå…ˆæ‰¾ä¸ªçŸ­æœŸçš„ï¼Œç„¶åæ‰¾é•¿æœŸçš„ï¼Œå¬è¯´é•¿æœŸä½å®¿ä¸å¥½æ‰¾ï¼Œä»–è¯´ç¡®å®å¾ˆç³Ÿç³•ã€‚\nä»–é—®æˆ‘æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡å»ï¼Œæˆ‘è¯´äºŒæœˆä¸­æ—¬ï¼Œå› ä¸ºä¸çŸ¥é“ç­¾è¯ä»€ä¹ˆæ—¶å€™èƒ½ä¸‹æ¥ï¼Œä»–è¯´æ˜å¤©å°±å¯ä»¥ä¸‹æ¥ ğŸ˜‚ä»–é—®éœ€è¦æå‰å—ï¼Œä¿é™©ä¸Šå†™çš„æ˜¯ä» 2.15 å¼€å§‹ï¼Œæˆ‘è¯´ä¸ç”¨æå‰ï¼Œç„¶åä»–æåˆ°äº†æ–°å¹´ï¼Œæˆ‘é—®ä½ ä»¬è¿‡æ–°å¹´å—ï¼Œä»–è¯´ä¼šè¿‡æ–°å¹´ï¼Œæˆ‘è¯´æ‰“ç®—åœ¨ä¸­å›½è¿‡æ–°å¹´ï¼Œæ—…æ¸¸ï¼Œæ‰€ä»¥ä¸ä¼šè¿‡å»é‚£ä¹ˆæ—©ã€‚ç„¶åé¢è°ˆå°±ç»“æŸäº†ã€‚\nè¯´äº†å¥å¾·è¯­çš„ Auf Wiedersehenï¼Œç»“æœä»–å›çš„å¾·è¯­æˆ‘ä¸æ‡‚ï¼Œå°´å°¬ï¼Œæœ€å byebye ç»“æŸã€‚ã€‚\nå‰å¾€å¾·å›½ # è‡ª2023å¹´2æœˆ22æ—¥èµ·,ä¸­å›½å‰å¾€å¾·å›½å·²ç»ä¸éœ€è¦å†è¿›è¡Œæ ¸é…¸æ£€æµ‹ã€‚\nç›®å‰å¾·å›½é‡æ–°è¦æ±‚ä¸­å›½å‰å¾€å¾·å›½éœ€è¦å‡ºç¤ºæ ¸é…¸æ£€æµ‹è¯æ˜ æ·±åœ³å¯ä»¥æä¾›æ ¸é…¸æ£€æµ‹çš„åŒ»é™¢ï¼šhttp://wjw.sz.gov.cn/bmfw/wycx/ggws/kzxgbdhscyfwjg/index.html ä¸æ˜¯æ‰€æœ‰çš„åŒ»é™¢éƒ½å¯ä»¥æä¾›ä¸­è‹±æ–‡è¯æ˜ï¼Œéœ€è¦æ³¨æ„ã€‚\n","date":"18 January 2023","externalUrl":null,"permalink":"/2023/01/18/german_work_visa_guide/","section":"Posts","summary":"\u003cp\u003eæ‹¿åˆ°å¾·å›½å·¥ä½œ offer ä»¥åï¼Œæˆ‘ä»¬éœ€è¦ç”³è¯·åˆé€‚çš„ç­¾è¯å‰å¾€å¾·å›½ã€‚æœ¬æ–‡å°†ä¼šè¯¦ç»†æ€»ç»“å¾·å›½å·¥ç­¾ï¼ˆæ¬§ç›Ÿè“å¡ï¼‰ç”³è¯·éœ€è¦çš„ææ–™ï¼Œå¡«å†™ç»†èŠ‚ï¼Œä»¥åŠé¢ç­¾çš„æµç¨‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°æœ‰åŒæ ·ç–‘æƒ‘çš„äººã€‚\u003c/p\u003e\n\u003cp\u003e\u003cfont color=\"red\"\u003eDisclaimer: æœ¬æ–‡ä»…ä»…ä»£è¡¨ä¸ªäººç»å†ï¼Œéå®˜æ–¹æƒå¨å»ºè®®ï¼Œä»…ä¾›å„ä½è¯»è€…å‚è€ƒã€‚\u003c/font\u003e\u003c/p\u003e","title":"å¾·å›½å·¥ç­¾ç”³è¯·æŒ‡å—","type":"posts"},{"content":"2022 å¹´æ€»å…±å†™äº† 49 ç¯‡åšå®¢ 1ï¼Œå¤§éƒ¨åˆ†åšå®¢å¾ˆçŸ­ï¼Œæ²¡èŠ±å¤ªå¤šæ—¶é—´å°±å¯ä»¥å†™å®Œã€‚ä»ç±»åˆ«ä¸Šçœ‹ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æŠ€æœ¯ç›¸å…³çš„ï¼Œå…³äº Neovimï¼ŒLuaï¼Œæœºå™¨å­¦ä¹ ï¼ŒSQLï¼ŒPython ä½¿ç”¨ç­‰ç­‰ï¼Œå¯èƒ½å¹¶æ²¡æœ‰å¤ªå¤šäººçœ‹ï¼Œä¸»è¦æ˜¯è‡ªå·±æ€»ç»“ç•™ç»™è‡ªå·±ä»¥åå‚è€ƒï¼Œæœ‰å‡ ç¯‡æ˜¯è®°å½•è‡ªå·±å¹³æ—¶åšèœçš„è¿‡ç¨‹ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯è‡ªå·±å¯¹ä¸€äº›é—®é¢˜çš„æ€è€ƒæˆ–è€…è®°å½•ï¼Œä¾‹å¦‚ å¦‚ä½•ææŠ€æœ¯é—®é¢˜ ä»¥åŠ å¯¹æ–°å† çš„è®°å½•ã€‚\næ•°æ®ä¸­çœ‹åšå®¢ # æ ¹æ® Google search console çš„ç»Ÿè®¡ï¼Œ2022 å¹´åšå®¢æ€»ç‚¹å‡»é‡è¾¾åˆ°äº† 571kï¼Œåšå®¢çš„æµé‡å¤§çº¦æ¯ä¸ªæœˆ 47.6kï¼Œå¹³å‡ CTR 5.4%ï¼Œåœ¨è°·æ­Œæœç´¢å¹³å‡æ˜¾ç¤ºä½ç½® 11.1,å¹¶ä¸ç®—é å‰ã€‚\nTOP 3 è®¿é—®é‡æ–‡ç«  # 2022 å¹´æ€»å…±å†™äº† 49 ç¯‡æ–‡ç« ï¼Œçœ‹äº†åšå®¢çš„ç»Ÿè®¡æ•°æ®ï¼ŒTOP 3 è®¿é—®é‡æ–‡ç« åˆ†åˆ«æ˜¯ï¼š\nnvim æ–‡ä»¶æµè§ˆæ’ä»¶æ€»ç»“ï¼ŒæŠŠç›®å‰å·²çŸ¥çš„ neovim å¯ç”¨çš„æ–‡ä»¶æµè§ˆå™¨ä»¥åŠä¼˜ç¼ºç‚¹ç¨å¾®æ€»ç»“äº†ä¸€ä¸‹ï¼Œè®¿é—®é‡ 5300+ read write PLY æ–‡ä»¶, è¿™ç¯‡æ–‡ç« æ˜¯é¢è¯•ä¸€å®¶å…¬å¸æ—¶ä¸€ä¸ªé¢˜ç›®ç”¨åˆ°äº† PLY æ–‡ä»¶ï¼Œç°å­¦çš„ï¼Œéšæ‰‹æ€»ç»“äº†ä¸€ä¸‹ï¼Œæ²¡æƒ³åˆ°è®¿é—®é‡è¿˜æŒºå¤šï¼Œå¤§çº¦ 4140+ nvim 0.8.0 ç‰ˆæœ¬æ›´æ–°è®°å½•ï¼Œè¿™ç¯‡æ–‡ç« æ€»ç»“äº† nvim 0.8 ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ä»¥åŠæ”¹åŠ¨ï¼Œå½“æ—¶å‘åˆ°äº† reddit ç¤¾åŒºï¼Œæ‰€ä»¥è®¿é—®é‡ä¹Ÿæ¯”è¾ƒå¤šï¼Œå¤§çº¦ 4120+ TOP 5 query # è°·æ­Œä¼šç»Ÿè®¡ç”¨æˆ·é€šè¿‡è°·æ­Œæœç´¢æœåˆ°åšå®¢ï¼Œå¹¶ä¸”ç‚¹å‡»è¿›å»çš„æ¬¡æ•°ï¼Œæ ¹æ®ç»Ÿè®¡ï¼ŒTOP 5 æœç´¢ query ä¾æ¬¡ä¸ºï¼š\nlatex ä¸­æ–‡ï¼Œç‚¹å‡»é‡ 3416 sublime regexï¼Œç‚¹å‡»é‡ 1944 pandoc markdown to pdfï¼Œç‚¹å‡»é‡ 1919 imagemagick convert pdf to jpgï¼Œç‚¹å‡»é‡ 1701 git push local repo to remoteï¼Œç‚¹å‡»é‡ 1683 TOP 5 åšå®¢é¡µé¢ # ä¸é™æ–‡ç« å†™ä½œå¹´ä»½ï¼Œ2022 å¹´è®¿é—®é‡æœ€é«˜çš„ 5 ç¯‡æ–‡ç« åˆ†åˆ«å¦‚ä¸‹ï¼š\nneovim windows é…ç½®ï¼Œç‚¹å‡»é‡ 19440 sublime text regex cheatsheetï¼Œç‚¹å‡»é‡ 18257 å¦‚ä½•åˆ©ç”¨ imagemagick æŠŠ PDF è½¬ä¸ºå›¾ç‰‡ï¼Œç‚¹å‡»é‡ 18094 CentOS ä¸‹ neovim é…ç½®æŒ‡å—ï¼Œç‚¹å‡»é‡ 17078 å¦‚ä½•å¤„ç† git stash pop ä»¥åçš„ merge å†²çªï¼Œç‚¹å‡»é‡ 16533 é‚£ä¸¤ç¯‡ neovim é…ç½®çš„æ–‡ç« éƒ½æ˜¯å¥½å‡ å¹´å‰å†™çš„äº†ï¼Œç°åœ¨æœ‰çš„é…ç½®å·²ç»ä¸å¤ªé€‚åˆæœ€æ–°çš„ neovimï¼Œæ¯•ç«Ÿé…ç½®å·²ç»å…¨é¢ lua åŒ–ï¼Œç°åœ¨è¿˜å¸å¼•äº†è¿™ä¹ˆå¤šæµé‡ï¼Œåç»­è€ƒè™‘å†å†™ä¸€ç¯‡æœ€æ–°çš„é…ç½®æŒ‡å—ï¼Œå¸®åŠ©æ–°æ‰‹ä¸Šè½¦ neovimã€‚\nTOP 5 è®¿é—®è€…æ‰€åœ¨å›½å®¶ # United Statesï¼Œç‚¹å‡»é‡ 131894 Germanyï¼Œç‚¹å‡»é‡ 45172 Indiaï¼Œç‚¹å‡»é‡ 38479 Chinaï¼Œç‚¹å‡»é‡ 23551 United Kingdomï¼Œ22434 å› ä¸ºæˆ‘çš„åšå®¢ä¸»è¦éƒ½æ˜¯ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼Œæ‰€ä»¥å¸å¼•çš„ä¸»è¦æ˜¯ç å†œï¼Œæ¥è‡ªç¾å›½çš„ç‚¹å‡»é‡ä¸€éª‘ç»å°˜ï¼Œæ¯”å…¶ä»–å›½å®¶é«˜äº†å¾ˆå¤šï¼Œä¸­å›½çš„ç‚¹å‡»é‡å¾ˆä½ï¼Œåº”è¯¥è·Ÿåšå®¢å†…å®¹ä¸»è¦æ˜¯è‹±è¯­æœ‰å…³ï¼Œå›½å†…ç»å¤§å¤šæ•°ç¨‹åºå‘˜æœç´¢æŠ€æœ¯å†…å®¹è¿˜æ˜¯ç”¨ä¸­æ–‡æœç´¢ï¼Œä¸è¿‡ å¼ºçƒˆå»ºè®®ä½¿ç”¨è‹±è¯­æœç´¢ æŠ€æœ¯é—®é¢˜ï¼ŒåšæŒä¸‹å»ï¼Œä½ ä¼šæ‰“å¼€æ–°çš„å¤©åœ°ã€‚\næ¥è‡ªå¾·å›½çš„æµé‡å ç¬¬äºŒï¼Œå€’æ˜¯æœ‰ç‚¹æƒŠè®¶ï¼Œå°è±¡ä¸­å¾·å›½çš„æŠ€æœ¯æ°›å›´ä¸æ˜¯ç‰¹åˆ«æµ“åšï¼Œç å†œäººæ•°åº”è¯¥ä¹Ÿæ²¡é‚£ä¹ˆå¤šï¼Œè€Œä¸”è¿˜æ˜¯ç”¨è‹±è¯­æœç´¢ã€‚\nTOP 3 è®¿é—®è®¾å¤‡ # Desktop: 540503 Mobile: 28773 Tablet: 1541 ç”±äºåšå®¢å†…å®¹ä¸»è¦æ˜¯å…³äºæŠ€æœ¯ï¼Œæ‰€ä»¥ä½¿ç”¨ç¬”è®°æœ¬æˆ–è€…å°å¼æœºæµè§ˆåšå®¢çš„å ç»å¯¹ä¼˜åŠ¿ï¼Œå  94.7%ã€‚\nå†™åšå®¢èµšé’±å—ï¼Ÿ # å…ˆè¯´ç»“è®ºï¼Œå¹¶ä¸èµšé’±ã€‚åšå®¢ç›®å‰æŒ‚çš„æ˜¯ Google adsense å¹¿å‘Š2ï¼Œå½“åˆä¹‹æ‰€ä»¥æŒ‚å¹¿å‘Šï¼Œä¸»è¦æ˜¯ä¸ºäº†æŠµæ¶ˆåšå®¢å›¾ç‰‡æ‰˜ç®¡çš„å¼€æ”¯ï¼Œå¦‚æœä¸ä¹ æƒ¯å¹¿å‘Šï¼Œç”¨ä¸€äº› Chrome å¹¿å‘Šå±è”½æ’ä»¶å¯ä»¥å®Œå…¨å±è”½æ‰è¿™äº›å¹¿å‘Šã€‚\nè¿‡å»ä¸‰ä¸ªæœˆï¼Œå¹¿å‘Šæ”¶å…¥ä¸»è¦æ¥è‡ªè¿™å‡ ä¸ªå›½å®¶ï¼š\nç¾å›½ï¼Œ110.49 ç¾å…ƒ å¾·å›½ï¼Œ13.33 ç¾å…ƒ è‹±å›½ï¼Œ10.45 ç¾å…ƒ åŠ æ‹¿å¤§ï¼Œ9.24 ç¾å…ƒ é¦™æ¸¯ï¼Œ5.84 ç¾å…ƒ é‚£æˆ‘åˆ°åº•èµšäº†å¤šå°‘é’±ï¼Ÿæ ¹æ® Google adsense ç»Ÿè®¡ï¼Œæˆ‘çš„åšå®¢æ¯å¤©å¹¿å‘Šæ”¶å…¥å¤§çº¦ 2-3 ç¾å…ƒï¼Œæ‰€ä»¥æ¯ä¸ªæœˆçš„æ”¶å…¥å¤§æ¦‚ 60 ç¾å…ƒå·¦å³ï¼Œä¾‹å¦‚è¿‡å» 30 å¤©æ”¶å…¥ä¸º 60.9 ç¾å…ƒï¼Œè¿‡å»ä¸‰ä¸ªæœˆï¼Œå¹³å‡æœˆæ”¶å…¥ä¸º 68.2 ç¾å…ƒï¼Œå¹¶ä¸å¤šï¼Œä½†æ˜¯è¦†ç›–åšå®¢çš„å¼€æ”¯å·²ç»ç»°ç»°æœ‰ä½™äº†ã€‚æœ‰äººå¸Œæœ›é€šè¿‡åšå®¢æ¥èµšé’±ï¼Œä¸ªäººè®¤ä¸ºæƒ³é åšå®¢èµšé’±æ˜¯å¾ˆå›°éš¾çš„ï¼Œé™¤éæ˜¯ä¸€äº›è®¿é—®é‡å·¨å¤§çš„åšå®¢ï¼Œå†åŠ ä¸Šä¸€äº›å¸¦è´§ï¼Œå¯èƒ½æ”¶å…¥ä¼šä¸é”™ï¼Œå¯¹äºå¤§éƒ¨åˆ†ç¨‹åºå‘˜ï¼Œå¦‚æœæŠ±ç€èµšé’±ç›®çš„ï¼Œä¸å¦‚å»åšä¸€äº›å…¶ä»–èƒ½å¤Ÿæœ‰æ›´å¤šæ”¶å…¥çš„å·¥ä½œã€‚\n2023 å¹´å±•æœ› # å†™åšå®¢ç°åœ¨å·²ç»æˆä¸ºä¸€ç§ä¹ æƒ¯ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¯»è€…ï¼Œéƒ½ä¼šç»§ç»­å†™ä¸‹å»ã€‚ä¸è¿‡ 2023 å¹´å¸Œæœ›è‡ªå·±èƒ½å¤Ÿå¤šå†™ä¸€äº›æœ‰æ·±åº¦çš„ä¸œè¥¿ï¼Œå°‘å†™ä¸€äº›å¾ˆçŸ­çš„åšå®¢ï¼Œæ‰€ä»¥ 2023 å¹´åšå®¢çš„æ•°é‡å¯èƒ½ä¼šæ¯” 2022 å¹´å°‘ä¸€äº›äº†ã€‚\nå…³äºæˆ‘ä¸ºä½•å†™åšå®¢ï¼Œå‚è€ƒæˆ‘ä¹‹å‰å†™çš„æ–‡ç« ï¼šhttps://jdhao.github.io/2021/11/28/how_i_write_blog/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå…³äºå¦‚ä½•ç”³è¯·ä»¥åŠåœ¨ Hugo ä¸­é…ç½® adsenseï¼Œå‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps://jdhao.github.io/2019/09/22/google_adsense_hugo_config/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"6 January 2023","externalUrl":null,"permalink":"/2023/01/06/blog-2022/","section":"Posts","summary":"2022 å¹´æ€»å…±å†™äº† 49 ç¯‡åšå®¢ 1ï¼Œå¤§éƒ¨åˆ†åšå®¢å¾ˆçŸ­ï¼Œæ²¡èŠ±å¤ªå¤šæ—¶é—´å°±å¯ä»¥å†™å®Œã€‚ä»ç±»åˆ«ä¸Šçœ‹ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æŠ€æœ¯ç›¸å…³çš„ï¼Œå…³äº Neovimï¼ŒLuaï¼Œæœºå™¨å­¦ä¹ ï¼ŒSQL","title":"2022 å¹´åšå®¢å›é¡¾","type":"posts"},{"content":"","date":"6 January 2023","externalUrl":null,"permalink":"/tags/adsense/","section":"Tags","summary":"","title":"Adsense","type":"tags"},{"content":"","date":"6 January 2023","externalUrl":null,"permalink":"/categories/blog/","section":"Categories","summary":"","title":"Blog","type":"categories"},{"content":"","date":"2 January 2023","externalUrl":null,"permalink":"/tags/covid19/","section":"Tags","summary":"","title":"Covid19","type":"tags"},{"content":"åœ¨ 2022 å¹´ 12 æœˆåº•ï¼Œæˆ‘ä¹Ÿæ„ŸæŸ“äº† omicron ç—…æ¯’ï¼Œæœ¬æ–‡å¯¹æ„ŸæŸ“è¿‡ç¨‹åšä¸€è®°å½•ã€‚\næ­£å¦‚åœ¨ å¦å¤–ä¸€ç¯‡åšå®¢ ä»‹ç»çš„ï¼š\nåœ¨ 2022 å¹´ 12 æœˆåˆçš„å¼€æ”¾ä¹‹åï¼Œæ–°å† çš„æµè¡Œå·²ç»æ˜¯æ¿ä¸Šé’‰é’‰ï¼Œæœ€å¼€å§‹å¤§è§„æ¨¡æ„ŸæŸ“çš„æ˜¯åŒ—äº¬ï¼Œæœ‹å‹åœˆé‡Œå¾ˆå¤šåœ¨åŒ—äº¬çš„äººéƒ½æœ€å…ˆè¢«æ„ŸæŸ“ã€‚åˆ°äº† 12 æœˆä¸­æ—¬ï¼Œæ·±åœ³ä¹Ÿå¼€å§‹äº†å¤§æµè¡Œï¼Œç”±äºä¹‹å‰æ„šè ¢çš„é›†ä¸­æ”¶æ²»ä¸ç¦æ­¢æ°‘ä¼—è‡ªå·±æ²»ç–—è‡ªå·±çš„æ”¿ç­–ï¼Œä»¥åŠæ”¿ç­–çš„çªç„¶ 180 åº¦å¤§è½¬å˜ï¼Œæ‰€æœ‰çš„å‡†å¤‡æªæ–½éƒ½æ²¡åšï¼Œæ‰€æœ‰å’Œæ„Ÿå†’å‘çƒ§ç›¸å…³çš„è¯å“éƒ½æåº¦ç´§ç¼ºï¼Œå¸ƒæ´›èŠ¬ï¼Œå¯¹ä¹™é…°èƒºåŸºé…šç­‰æ²»ç–—æ„Ÿå†’å‘çƒ§çš„è¯å“åœ¨è¯åº—åŸºæœ¬ä¸Šå·²ç»ä¹°ä¸åˆ°äº†ï¼Œè¿æ¸©åº¦è®¡éƒ½ä¸å¥½ä¹°åˆ°äº†ã€‚\n2022 å¹´ 12 æœˆä¸­æ—¬ï¼Œå…¬å¸å°±æœ‰äººå¼€å§‹æ„ŸæŸ“ omicronï¼Œä¹Ÿçœ‹åˆ°äº†åŒ—äº¬å¤§é‡æ„ŸæŸ“çš„ä¾‹å­ï¼Œä¸è¿‡å¿ƒé‡Œæ²¡æœ‰å¤ªææ…Œï¼Œè§‰å¾—è‡ªå·±ä¸ä¼šé©¬ä¸Šæ„ŸæŸ“å§ã€‚12 æœˆ 17 å·å‘¨å…­è¿˜å‡ºå»åˆ°å¤–é¢èµ°äº†èµ°ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ç„¶è€Œåˆ°äº†ç¬¬äºŒå¤© 12 æœˆ 18 å·æ—©ä¸Šï¼Œæˆ‘åˆšé†’æ¥æ²¡å¤šä¹…ï¼Œå°±è§‰å¾—å—“å­æœ‰ç‚¹ç—’ï¼Œæ— å…¶ä»–æ„Ÿè§‰ï¼Œå—“å­ç—’ä¸€èˆ¬æ˜¯æˆ‘è¦å‘çƒ§çš„å…¸å‹ç—‡çŠ¶ï¼Œæœç„¶ï¼Œåˆ°äº†æ™šä¸Šå¼€å§‹è§‰å¾—å†·ï¼Œåº”è¯¥æ˜¯å¼€å§‹å‘çƒ§äº†ï¼Œæ™šä¸Šç¡è§‰å‡ ä¹ç¡ä¸ç€ã€‚åç»­çš„å‘å±•ï¼š\nç¬¬äºŒå¤© (12 æœˆ 19 å·)ï¼Œç»§ç»­å‘çƒ§ï¼Œå› ä¸ºæ²¡æœ‰æ¸©åº¦è®¡ï¼Œä¸æ¸…æ¥šå…·ä½“æ¸©åº¦ï¼Œä¼°è®¡å¯èƒ½ 38 åº¦å¤šä¸€äº›ï¼Œè…¿ä¸Šè‚Œè‚‰é…¸ç—›ï¼Œç™½å¤©æ™šä¸Šè¿˜æ˜¯ç¡ä¸ç€ã€‚ ç¬¬ä¸‰å¤© (12 æœˆ 20 å·)ï¼šå‘çƒ§æœ‰æ‰€ç¼“è§£ï¼Œè…¿è¿˜æ˜¯æœ‰ç‚¹é…¸ç–¼ï¼Œå¼€å§‹æœ‰å°‘é‡å’³å—½ï¼Œæ™šä¸Šç¡è§‰å¼€å§‹å‡ºæ±—ã€‚ ç¬¬å››å¤© (12 æœˆ 21 å·)ï¼šç»§ç»­æ¢å¤ï¼Œä½“æ¸©åŸºæœ¬æ­£å¸¸äº†ï¼Œå’³å—½æ¯”è¾ƒä¸¥é‡ï¼Œå¼€å§‹é¼»å¡ï¼Œå‘³è§‰æœ‰ä¸€ç‚¹æ¢å¤ï¼Œä½†æ˜¯åƒå’¸çš„ä»ç„¶ä¸èˆ’æœï¼Œç”šè‡³æ¶å¿ƒã€‚æ™šä¸Šå’³å—½ç¡ä¸ç€ã€‚ ç¬¬äº”å¤© (12 æœˆ 22 å·)ï¼šä¸å†å‘çƒ­ï¼Œå‘³è§‰ä»æœªæ¢å¤ï¼Œå’³å—½ç»§ç»­ï¼Œé¼»å¡åŠ é‡ã€‚ ç¬¬å…­å¤© (12 æœˆ 23 å·)ï¼šé¼»å¡ä¸¥é‡ï¼Œå‘³è§‰æœªæ¢å¤ï¼Œå…¶ä»–æ— æ˜æ˜¾ä¸é€‚ã€‚ ç¬¬ä¸ƒå¤© (12 æœˆ 24 å·)ï¼šé¼»å¡ï¼Œå‘³è§‰å—…è§‰æœªæ¢å¤ã€‚ ç¬¬å…«å¤© (12 æœˆ 25 å·)ï¼šé¼»å¡æ¶ˆå¤±ï¼Œå‘³è§‰å’Œå—…è§‰æœ‰ç¨å¾®æ¢å¤ï¼Œå°è¯•å»åƒäº†ä¸€æ¬¡éº¦å½“åŠ³ï¼Œå‘ç°åƒä¸œè¥¿å‘³é“å®Œå…¨å˜äº†ï¼Œé™¤äº†ç”œå‘³ä¹‹å¤–çš„å‘³é“ä»ç„¶ä¸æ­£å¸¸ã€‚ ç¬¬ä¹å¤© (12 æœˆ 26 å·)ï¼šå‘³è§‰è¿˜æ²¡æ¢å¤ï¼Œåƒä¸œè¥¿æœ‰ä¸€ç§çƒŸç†å‘³ã€‚ æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¾ˆå¹¸è¿æ²¡æœ‰å‡ºç°éå¸¸ä¸¥é‡çš„ç—‡çŠ¶ï¼Œæ²¡æœ‰å‡ºç°â€œååˆ€å—“â€ï¼Œä¹Ÿæ²¡æœ‰å‡ºç°å‘•åï¼ŒæŒç»­é•¿æ—¶é—´å’³å—½ç­‰ã€‚ä¸è¿‡åé—ç—‡è¿˜æ˜¯æœ‰çš„ï¼Œæ„ŸæŸ“åç¬¬äºŒå‘¨ï¼Œå‘³è§‰å’Œå—…è§‰æœªå®Œå…¨æ¢å¤ï¼Œé—»å‘³é“æ—¶çµæ—¶ä¸çµï¼Œä¸€ç¬é—´å¯ä»¥é—»åˆ°ï¼Œå†é—»åˆé—»ä¸åˆ°å‘³é“äº†ï¼Œç”šè‡³å±çš„å‘³é“éƒ½ä¸æ€ä¹ˆèƒ½é—»åˆ°äº†ğŸ¥²\næˆ‘åœ¨ v2ex ä¸Šä¹Ÿå‘äº† ä¸€ä¸ªå¸–å­ï¼Œè®²è¿°å—…è§‰å‘³è§‰éƒ¨åˆ†ä¸§å¤±ï¼Œæ”¶åˆ°äº†ä¸€äº›å›å¤ï¼Œçœ‹æ¥æ˜¯æ¯”è¾ƒæ™®éçš„ç°è±¡ã€‚\næŸ¥äº†ä¸€ç‚¹èµ„æ–™ï¼Œä¸è®ºæ˜¯ omicron è¿˜æ˜¯ä¹‹å‰çš„ delta ï¼Œæ„ŸæŸ“ä»¥åï¼Œéƒ½æœ‰éƒ¨åˆ†äººå­˜åœ¨è¿™ç§åé—ç—‡ï¼Œå—…è§‰ä¸§å¤±ä¸»è¦æ˜¯ç—…æ¯’æ”»å‡»äº†å¤§è„‘å¯¹å‘³é“è¿›è¡Œå¤„ç†çš„ç»†èƒï¼Œè¦æ¢å¤ä¼°è®¡å¾—ç­‰è¿™äº›ç»†èƒé‡æ–°æ¢ä¸€æ¬¡ï¼ˆä¸¤ä¸‰ä¸ªæœˆæ—¶é—´ï¼‰ã€‚\næ¨èçš„è‡ªæˆ‘æ¢å¤æ–¹å¼ï¼Œæ‹¿å‡ ç§è‡ªå·±è®¤è¯†çš„å‘³é“ï¼Œè­¬å¦‚ç«ç‘°èŠ±é¦™ï¼Œæ¯å¤©é—»ä¸¤æ¬¡ï¼Œå¸®åŠ©è‡ªå·±æ¢å¤å—…è§‰ã€‚\næˆªè‡³ 2022 å¹´ 12 æœˆ 30 å·ï¼Œå…¬å¸çš„äººåŸºæœ¬ä¸Šéƒ½é˜³äº†ï¼Œä¼ æ’­çš„é€Ÿåº¦éå¸¸è¿…é€Ÿã€‚\n","date":"2 January 2023","externalUrl":null,"permalink":"/2023/01/02/i-got-covid/","section":"Posts","summary":"\u003cp\u003eåœ¨ 2022 å¹´ 12 æœˆåº•ï¼Œæˆ‘ä¹Ÿæ„ŸæŸ“äº† omicron ç—…æ¯’ï¼Œæœ¬æ–‡å¯¹æ„ŸæŸ“è¿‡ç¨‹åšä¸€è®°å½•ã€‚\u003c/p\u003e","title":"æ„ŸæŸ“ omicron è®°å½•","type":"posts"},{"content":"A very common confusion for new users of Neovim is that their option settings for a particular filetype does not work in init.vim (or init.lua).\nFor non-indent related option # For non-indent related option, to make sure you option settings have the precedence over builtin. For filetype foo, you can create {NVIM_CONF_DIR}/after/ftplugin/foo.vim or (foo.lua) and write your setting their. For example,\nsetlocal expandtab setlocal tabstop=2 setlocal shiftwidth=2 setlocal softtabstop=2 For indent related options # Someone asked a question on stack overflow about php. The issue is that setting smartindent and indentexpr in ~/.config/nvim/after/ftplugin/php.lua does not work. After opening a php file, smartindent and indentexpr are still set by the php.vim under nvim runtimepath:\n$VIMRUNTIME/runtime/indent/php.vim\nThis is because script under indent/ and syntax/ directory is sourced after script in ftplugin/. The source order is as follows:\n\u0026#34; first wave ftplugin/foo.vim $VIMRUNTIME/ftplugin/foo.vim after/ftplugin/foo.vim \u0026#34; second wave indent/foo.vim $VIMRUNTIME/indent/foo.vim after/indent/foo.vim \u0026#34; third wave syntax/foo.vim $VIMRUNTIME/syntax/foo.vim after/syntax/foo.vim So in order for the user\u0026rsquo;s indent setting to take precedence, we need to put it under ~/.config/after/indent/.\nHere is what works for me.\ncreate the file ~/.config/nvim/after/indent/php.lua\nadd the settings there:\nvim.o.smartindent = true vim.o.indentexpr = \u0026#39;\u0026#39; ","date":"2 December 2022","externalUrl":null,"permalink":"/2022/12/02/nvim-override-default-options/","section":"Posts","summary":"\u003cp\u003eA very common confusion for new users of Neovim is that their option settings for a particular filetype does not work in \u003ccode\u003einit.vim\u003c/code\u003e (or \u003ccode\u003einit.lua\u003c/code\u003e).\u003c/p\u003e","title":"How to Override Default Options in Neovim","type":"posts"},{"content":"","date":"2 December 2022","externalUrl":null,"permalink":"/categories/lua/","section":"Categories","summary":"","title":"Lua","type":"categories"},{"content":"In Lua, to pass variable number of arguments, we can use ... (three ellipses) syntax in function argument.\nLua tutorial here tells us to use arg variable to access variadic arguments passed to functions. According to discussions here, this only works for Lua 5.0 and has been removed in Lua 5.1. See also changelog here:\nThe vararg system changed from the pseudo-argument arg with a table with the extra arguments to the vararg expression. (See compile-time option LUA_COMPAT_VARARG in luaconf.h.) Instead, we can emulate that using the following code:\nlocal arg = {...} To get the number of extra arguments, we can use select('#', ...):\nfunction my_fun(a, b, ...) local n = select(\u0026#39;#\u0026#39;, ...) print(\u0026#39;num of extra arg:\u0026#39;, n) end Note that when first argument to select is a number, select() will return all variable arguments starting from that index.\nlocal v1, v2, v3, v4 = select(1, \u0026#39;ab\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;) -- v1: \u0026#39;ab\u0026#39;, v2: \u0026#39;b\u0026#39;, v3: \u0026#39;c\u0026#39;, v4: nil local v1, v2, v3, v4 = select(2, \u0026#39;ab\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;) -- v1: \u0026#39;b\u0026#39;, v2: \u0026#39;c\u0026#39;, v3: nil, v4: nil local v1, v2, v3, v4 = select(3, \u0026#39;ab\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;) -- v1: \u0026#39;c\u0026#39;, v2: nil, v3: nil, v4: nil local v1, v2, v3, v4 = select(4, \u0026#39;ab\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;) -- all these variable is nil As another example, we can calculate the sum of all arguments:\nlocal fun = function (a, b, ...) local sum = 0 sum = sum + a sum = sum + b local vararg = {...} for _, v in pairs(vararg) do sum = sum + v end return sum end print(fun(1, 2, 3, 4)) References # arg is nil: https://stackoverflow.com/a/38749326/6064933 https://forum.defold.com/t/lua-arg-variable-not-working-solved/22271/2 ","date":"2 December 2022","externalUrl":null,"permalink":"/2022/12/02/lua-variadic-arguments/","section":"Posts","summary":"\u003cp\u003eIn Lua, to pass variable number of arguments, we can use \u003ccode\u003e...\u003c/code\u003e (three ellipses) syntax in function argument.\u003c/p\u003e","title":"Variadic Arguments in Lua","type":"posts"},{"content":"Introduction # In Python, some packages are written mainly or partially in C++, and the Python interfaces are just wrappers around the binary C++ module. Among these packages, there is OpenCV.\nWhen I use python-lsp-server or pyright with Neovim1, I can not get method completion for the OpenCV package. This is because the OpenCV projects is developed using C++ and does not have stub files2 shipped yet.\nUsing stub file from project python-type-stubs # Fortunately, the project python-type-stubs provides stub files for several projects including OpenCV. To use the stub file, first find where OpenCV is installed on your system:\npython -c \u0026#39;import os, cv2; print(os.path.dirname(cv2.__file__))\u0026#39; Then download the stub file and put it in the same directory as OpenCV.\ncurl -sSL https://raw.githubusercontent.com/microsoft/python-type-stubs/main/cv2/__init__.pyi \\ -o path/to/opencv/directory/__init__.pyi Then restart nvim, the auto-completion for OpenCV should work as expected.\nUsing stubgen # We can also use stubgen to generate the stub files, like this:\n# stubgen is installed via mypy package pip install -U mypy stubgen -m cv2 The stub file will be saved under the out/ directory. However, the stub file generated by stubgen lacks doc and is not as good as stub file provided by project python-type-stubs.\nFor more info on using stubgen, visit its page.\nReferences # what is the use of stub files in Python: https://stackoverflow.com/q/59051631/6064933 relevant issue on OpenCV repo: https://github.com/opencv/opencv/issues/14590 discussion on pylance repo: https://github.com/microsoft/pylance-release/issues/138#issuecomment-874363285 you can check my nvim LSP config here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://peps.python.org/pep-0484/#stub-files\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 November 2022","externalUrl":null,"permalink":"/2022/11/16/auto_completion_opencv/","section":"Posts","summary":"\u003ch2 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h2\u003e\n\u003cp\u003eIn Python, some packages are written mainly or partially in C++,\nand the Python interfaces are just wrappers around the binary C++ module.\nAmong these packages, there is \u003ca href=\"https://github.com/opencv/opencv\" target=\"_blank\"\u003eOpenCV\u003c/a\u003e.\u003c/p\u003e","title":"How to Enable Method Autocompletion for OpenCV","type":"posts"},{"content":"I am using MySQL server version 8.0.30 on my macOS. I try to read a local csv file into a mysql table using LOAD DATA LOCAL INFILE following some post1, but unfortunately I get the following error:\nError Code: 3948. Loading local data is disabled; this must be enabled on both the client and server sides\nFollowing the guide of some posts on the Internet, I tried to change the variable local_infile to 1:\nSET GLOBAL local_infile=1; Then I got the following error when loading csv file:\nError Code: 2068. LOAD DATA LOCAL INFILE file request rejected due to restrictions on access.\nThe right way to load local csv file # Here I will summarize what is working for me on macOS.\nchange the variable local_infile # First we need to run the following command when we are still connecting to the server:\nSET GLOBAL local_infile=1; Then use SHOW GLOBAL VARIABLES LIKE '%local_infile%'; to check if the change has taken effect. You should see the following output:\n+---------------+-------+ | Variable_name | Value | +---------------+-------+ | local_infile | ON | +---------------+-------+ 1 row in set (0.01 sec) Restart the server and establish new client connection # Then stop the mysql server and restart the server. If you are using macOS and install mysql via HomeBrew, this is easy to do\nbrew services stop mysql brew services start mysql Then stop the client connection.\nReconnect client to server # If you are using mysql command line client to connect to the server, run this:\nmysql --local-infile=1 -u root -p If you are using other SQL client to connect to the mysql server, the settings may vary. For MySQL Workbench, go to Database --\u0026gt; Manage Connections, select the connection, under Connection --\u0026gt; Advanced, there is a Others text box, add the following conf (in new line):\nOPT_LOCAL_INFILE=1 Then click the button Reconnect to DBMS in the toolbar. You should be able to load csv files into a table.\nLoad the csv file # Finally, we can load the local csv file. The csv file looks like this:\nfield1,field2 foobar,1 hello,2 great,3 First, we need to create a table to load the csv:\nCREATE TABLE my_table ( col1 VARCHAR(255), col2 INT ); The SQL query I use to load the data is:\nLOAD DATA LOCAL INFILE \u0026#39;/path/to/my_csv\u0026#39; INTO TABLE my_table -- load the csv data to my_table FIELDS TERMINATED BY \u0026#39;,\u0026#39; -- field separator LINES TERMINATED BY \u0026#39;\\n\u0026#39; -- line ending IGNORE 1 ROWS; -- ignore the header line References # Connect with local-infile Option in MySQL Workbench: https://stackoverflow.com/a/59408954/6064933 mysql 3948 error: https://stackoverflow.com/a/60717467/6064933 mysql LOAD DATA manual: https://dev.mysql.com/doc/refman/8.0/en/load-data.html https://stackoverflow.com/q/3635166/6064933\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 October 2022","externalUrl":null,"permalink":"/2022/10/15/mysql_read_csv/","section":"Posts","summary":"\u003cp\u003eI am using MySQL server version \u003ccode\u003e8.0.30\u003c/code\u003e on my macOS.\nI try to read a local csv file into a mysql table using \u003ccode\u003eLOAD DATA LOCAL INFILE\u003c/code\u003e following some post\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e,\nbut unfortunately I get the following error:\u003c/p\u003e","title":"How to Read Local CSV File to Table in MySQL","type":"posts"},{"content":"","date":"15 October 2022","externalUrl":null,"permalink":"/tags/mysql/","section":"Tags","summary":"","title":"MySQL","type":"tags"},{"content":"This is not a complete list of changes. Just what I have noticed. Complete release note for nvim 0.8 is here.\nNvim-lsp update # server capabilities # The old client.resolved_capabilities table is changed to client.server_capabilities, and the keys have also changed.\nold new client.resolved_capabilities.document_formatting client.server_capabilities.documentFormattingProvider client.resolved_capabilities.document_range_formatting client.server_capabilities.documentRangeFormattingProvider client.resolved_capabilities.document_highlight client.server_capabilities.documentHighlightProvider To check the complete server_capabilities table for a file, open that file, and run the following command:\nlua =vim.lsp.get_active_clients()[1].server_capabilities It will print the full table.\nmethod changes # Lsp format method has changed, both vim.lsp.buf.formatting_sync() and vim.lsp.buf.formatting() are deprecated. Now we should use vim.lsp.buf.format(), which has async param (default false) to control whether formatting should be async.\nvim.lsp.buf.range_formatting() is also deprecated. Now the formatexpr option for your buffer will be set to vim.lsp.formatexpr() if it is not set by user. To format the selected code, you just press gq instead.\nothers # This reddit post also shares other changes, like the LspAttach and LspDetach events, tagfunc, omnifunc support etc.\nOptions and defaults # mouse # Mouse is enabled by default1 and mousescroll option is added, you can define how many lines to scroll like this:\nset mousescroll=ver:1,hor:5 Also if you set mousemodel=popup, nvim now shows a popup menu. To disable this, just use set mousemodel=extend.\nwinbar/cmdline # Nvim has added a winbar option, it is like statusline, but on top of your window.\nFor cmdline, you can use set cmdheight=0 to hide it completely, and it will show when you run some commands. You may see the press enter message often when some messages are printed, which may be annoying. There is also a plugin noice.nvim made to ease the issue.\nclickable statusline and winbar # Nvim 0.8 adds clickable element in statusline and winbar, the syntax is %@some_func@text_shown%X. some_func is the function that will be run when you click text_shown.\nHere is a demo in Lua:\nfunction Hello(...) local arg = {...} arg = vim.inspect(arg) print(\u0026#39;hello world, arg:\u0026#39;, arg) end local w = vim.fn.winwidth(0) local pos = math.floor(w/2) local stl = string.rep(\u0026#34; \u0026#34;, pos) stl = stl .. \u0026#34;%5@v:lua.Hello@click me%X\u0026#34; vim.o.statusline=stl Save it as test.lua, then run nvim -u test.lua. Click the text click me on the statusline, you will see the message printed.\nState dir change # The directory for storing shada, undo, swap, log, lsp-log is changed from ~/.local/share/nvim to ~/.local/state/nvim. Check the exact directory with command echo stdpath('state'). See also https://github.com/neovim/neovim/issues/14090#issuecomment-1125055183.\nfiletype.lua by default # The new filetype.lua system will be used by default, and the following config should be removed:\nvim.g.do_filetype_lua = 1 vim.g.did_load_filetypes = 0 * and # can search selected text # * and # can now search selected text literally2. Previously I was using vim-asterisk together with nvim-hlslens. Now I can remove vim-asterisk, with a little hack:\nkeymap.set(\u0026#34;n\u0026#34;, \u0026#34;*\u0026#34;, \u0026#34;\u0026#34;, { callback = function() vim.fn.execute(\u0026#34;normal! *N\u0026#34;) hlslens.start() end, }) keymap.set(\u0026#34;n\u0026#34;, \u0026#34;#\u0026#34;, \u0026#34;\u0026#34;, { callback = function() vim.fn.execute(\u0026#34;normal! #N\u0026#34;) hlslens.start() end, }) It does has limitations, for example, you can not search multi-line selections.\nTreesitter # Now the treesitter parser for vim, lua, and help is enabled by default. But currently the help doc parser seems to have issues regarding conceal, as reported in issue here.\nMisc # Man command improve # It is implemented in lua and should be faster compared to its old vim implementation3. In buffer opened by :Man, you can type gO to show the argument list view4. Check command or map location # If the lua mapping is defined the via callback, we can now see its defined location.\nvim.keymap.set(\u0026#34;n\u0026#34;, \u0026#34;\u0026lt;leader\u0026gt;sv\u0026#34;, \u0026#34;\u0026#34;, { silent = true, desc = \u0026#34;reload init.lua\u0026#34;, callback = function() vim.cmd([[ update $MYVIMRC source $MYVIMRC ]]) vim.notify(\u0026#34;Nvim config successfully reloaded!\u0026#34;, vim.log.levels.INFO, { title = \u0026#34;nvim-config\u0026#34; }) end, }) For example, I have the above mapping, now I can see where it is defined with verb nmap ,sv (my leader key is comma).\nHowever, for mapping defined via right hand side string, we only see that the mapping is set from lua, but not the exact location.\nBy right hand side string, I mean mapping like the following:\nvim.keymap.set(\u0026#34;n\u0026#34;, \u0026#34;\u0026lt;leader\u0026gt;p\u0026#34;, \u0026#34;m`o\u0026lt;ESC\u0026gt;p``\u0026#34;, { desc = \u0026#34;paste below current line\u0026#34; }) This is unlike the mapping defined in vim script. To see the mapping location, start nvim with nvim -V1, then use the :verbose command again, we should see the mapping location.\nThis is still not perfect and confusing even for experienced users like me.\nvim.fs module # vim.fs (:h lua-fs) aims to provide some functions for common path operations like os.path in Python. For example:\nlocal d = vim.fs.dirname(\u0026#39;~/.config/nvim/init.lua\u0026#39;) print(d) startup time for require # Now time for require() is also shown for nvim --startuptime time.log like this:\n.... 206.153 000.101 000.101: require(\u0026#39;lualine_require\u0026#39;) 206.558 000.632 000.531: require(\u0026#39;lualine\u0026#39;) 214.826 000.150 000.150: require(\u0026#39;lualine.utils.mode\u0026#39;) 216.924 000.140 000.140: require(\u0026#39;lualine.extensions.nerdtree\u0026#39;) 217.125 011.338 010.417: require(\u0026#39;config.statusline\u0026#39;) .... change of support for old systems # Linux # Nvim build env for Linux is updated to Ubuntu 20.04, so the nightly release may not work for old machines any more5. I tested latest nvim nightly on CentOS 7.4, and it can not work anymore, with the following error:\n/lib64/libc.so.6: version `GLIBC_2.28\u0026rsquo; not found\nOther people is building nvim for old Linux systems, see discussions here.\nWindows # For Windows, only Windows 10 version 1809 or later is supported6.\nhttps://github.com/neovim/neovim/pull/19290\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/neovim/neovim/pull/18538\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/neovim/neovim/pull/19912\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/neovim/neovim/pull/17558\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/neovim/neovim/commit/48241c3b238e0cf5b4b5af61db4e54f2b8c02897\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/neovim/neovim/pull/18253/commits\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"5 October 2022","externalUrl":null,"permalink":"/2022/10/05/nvim-v08-release/","section":"Posts","summary":"\u003cp\u003eThis is not a complete list of changes. Just what I have noticed.\nComplete release note for nvim 0.8 is \u003ca href=\"https://github.com/neovim/neovim/releases/tag/v0.8.0\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/p\u003e","title":"I read the nvim v0.8 release note so you do not have to","type":"posts"},{"content":"We can use trigger to automate oerations, for example, preventing insertion of a record if certain condition is met. In this post, we show an example trigger function and its usage.\nSuppose we have a loan table with following column:\ncopy_id: id for an item lend_date: date when it is lent return_date: date when it is returned, can be NULL (has been returned yet) Create a trigger function # In this example, we create a function to check whether the new record is a valid record. If lend_date for new record is later than existing record, and is smaller than return_date of the copy, or if this copy hasn\u0026rsquo;t been returned (loan.return_data IS NULL), then this is invalid record.\nCREATE OR REPLACE FUNCTION check_loan_validity() RETURNS TRIGGER LANGUAGE PLPGSQL AS $func$ BEGIN IF EXISTS(SELECT 1 FROM loan WHERE loan.copy_id = NEW.copy_id AND NEW.lend_date \u0026gt;= loan.lend_date AND (NEW.lend_date \u0026lt;= loan.return_date OR loan.return_date IS NULL)) THEN RAISE EXCEPTION \u0026#39;Invalid lend_date provided: %\u0026#39;, NEW.lend_date; END IF; RETURN NEW; END; $func$; The statement LANGUAGE PLPGSQL tells postgres that we can using plpgsql syntax, which is more powerful than plain SQL. See more discussion here.\nYou can also put the language declaration after the function body (see also this post):\n$func$ \u0026lt;function body\u0026gt; $func$ LANGUAGE PLPGSQL; All string inside the dollar signs are function body definition. The use of dollar sign here is to simplify the writing of the function, as indicated by official doc on functions:\nThe function body is simply a string literal so far as CREATE FUNCTION is concerned. It is often helpful to use dollar quoting (see Section 4.1.2.4) to write the function body, rather than the normal single quote syntax. Without dollar quoting, any single quotes or backslashes in the function body must be escaped by doubling them\nWhen creating a trigger function, the variable NEW represents the new records that is going to be inserted or updated.\nCreate the trigger # After creating the trigger function, we can now create a trigger on this table.\nCREATE TRIGGER check_loan_trigger BEFORE INSERT ON loan FOR EACH ROW EXECUTE PROCEDURE check_loan_validity(); References # dollar quoting: https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-DOLLAR-QUOTING Why are $$ used in PL/PgSQL: https://stackoverflow.com/a/12172353/6064933 official doc on trigger: https://www.postgresql.org/docs/current/plpgsql-trigger.html https://www.postgresqltutorial.com/postgresql-triggers/creating-first-trigger-postgresql/ ","date":"12 September 2022","externalUrl":null,"permalink":"/2022/09/12/postgresql_trigger_function/","section":"Posts","summary":"\u003cp\u003eWe can use trigger to automate oerations, for example, preventing insertion of a record if certain condition is met.\nIn this post, we show an example trigger function and its usage.\u003c/p\u003e","title":"Creating A Trigger in PostgreSQL","type":"posts"},{"content":"","date":"12 September 2022","externalUrl":null,"permalink":"/tags/postgresql/","section":"Tags","summary":"","title":"PostgreSQL","type":"tags"},{"content":"Here is how much I spend for living in Shenzhen, China as a non-local people. Note the cost may vary a lot depending on various factors.\nAll numbers are in the unit of Chinese Yuan (symbol Â¥).\nHousing/renting # For renting a house, there are mainly two types you can choose, private property or urban village.\nprivate property # Private properties generally have better overall conditions, less noise/quiet, cleaner, but usually more expensive.\nFor renting, I am currently using ziroom, it is the largest renting platform in China. Ziroom works by renting homes from home owners and re-rent these homes room by room to different tenants. So their model is a lot like the co-living model, where different people share a house1. It will refurbish the home a bit to standardize their offerings, usually they will provide refrigerator, microwave oven, washing machine, hot shower (powered either by electricity or gas) in the home. For each room, they will also provide a bed, a working table with lamp, air conditioner, and a wardrobe.\nThe price for renting a room from ziroom is higher than directly renting it from the home owner. It mainly depends on the size of the room, which floor the house is, whether there is elevator, the condition of the property, and also the distance to the train station, supermarket etc.\nFor reference, I once rented a less than $15 \\mathbf{m^2}$ room from ziroom, and it costed me around Â¥2000. It is located in 6th floor and has no elevator, otherwise, it may cost me Â¥2500. The price also includes the internet cost.\nZiroom also charge about 11% of the rent for service fees, which includes public areas cleaning every two weeks, and also repair services for anything broken or malfunctioning. So if the rent is Â¥2000, the service fee is about Â¥200.\nFor utilities (water, electricity, gas), we need to pay it monthly. The biggest expense will be electricity price, especially in hot summer, and it may exceed Â¥250. Combined, utilities will cost around Â¥300.\nurban village # Urban villages also provide a lot of housing with affordable prices. For example, in urban village, you can probably rent an apartment less than 1500 for $30 \\mathbf{m^2}$. There is also a lot of grocery store and restaurants in urban village, which is another advantage.\nTransportation # Shenzhen has one of the largest metro lines in China, you can literally go anywhere in Shenzhen with the metro lines. The price is relatively cheap: for a trip of 40 min, you may need Â¥6 or Â¥7. There are also a lot of bus lines, which is cheaper than metro. The transportation cost will be about Â¥350/month.\nFor taking taxes or using ride sharing apps, the price for 20km is about Â¥65, which is a lot more expensive than using public transportation.\nFood # For breakfast, I usually eat bread or baozi, with milk. It costs me less than Â¥7. For lunch, it really depends on what I eat, usually less than Â¥30, and in rare times, less than Â¥40.\nIf I go to restaurants in the weekend, the cost will be certainly much more. You can eat really good food with Â¥150 per person, which is less than 30 Euros. For regular restaurant, the cost per person may be about Â¥70 - Â¥80, which is not expensive.\nSince I don\u0026rsquo;t go to the restaurants frequently, so my monthly expense for food may be 2500.\nPhones/Internet # For my phone, I use China Unicom and spend Â¥36/month, and the data is about 50 GB, which is a lot. It also includes around 120 minutes of calling, but now people will just use wechat to call each other.\nFor internet, it is relatively expensive compared to other parts of China, but it may be still cheap compared to Europe. Both China Mobile, China Unicom and China Telecom provide internet access service. Among them, China Telecom may be the most expensive. For 300 Mbps, you need to pay Â¥159/month, and for 1000 Mbps, you need Â¥229/month.\nMisc # Watching a movie costs about Â¥50 mostly. I may also need to buy daily stuff like shampoo, laundry detergent, tissue paper etc. Occasionally, I also need to buy clothes, shoes, but that is not very frequent. So I have not include those cost in this post.\nConclusion # So the list of my minimum cost of living in Shenzhen is as follows:\nRenting: Â¥2000 + Â¥200 (service fee) + Â¥300 (utility) = Â¥2500 Transportation: Â¥350 Food: around Â¥2500 Phones + Internet: Â¥200 So in total, that is about Â¥5500 for one month. If I take other expenses into account, cost of living for one month will be around Â¥6000.\nUsually, they share bathrooms, kitchen and living room, but they have their own separate rooms.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 September 2022","externalUrl":null,"permalink":"/2022/09/04/cost-of-living-shenzhen/","section":"Posts","summary":"\u003cp\u003eHere is how much I spend for living in \u003ca href=\"https://en.wikipedia.org/wiki/Shenzhen\" target=\"_blank\"\u003eShenzhen, China\u003c/a\u003e as a non-local people.\nNote the cost may vary a lot depending on various factors.\u003c/p\u003e\n\u003cp\u003eAll numbers are in the unit of \u003ca href=\"https://en.wikipedia.org/wiki/Renminbi\" target=\"_blank\"\u003eChinese Yuan\u003c/a\u003e (symbol \u003ccode\u003eÂ¥\u003c/code\u003e).\u003c/p\u003e","title":"Cost of Living in Shenzhen","type":"posts"},{"content":"I saw from the repo awesome neovim1 a plugin that helps the user create the intermediate dir when they save a file. I wondered why this feature even needs a whole plugin? You can literally do this with a few lines of code.\nHere is a similar Lua snippet from my own config2:\n-- Auto-create dir when saving a file, in case some intermediate directory does not exist local api = vim.api api.nvim_create_augroup(\u0026#34;auto_create_dir\u0026#34;, { clear = true }) api.nvim_create_autocmd({ \u0026#34;BufWritePre\u0026#34; }, { pattern = \u0026#34;*\u0026#34;, group = \u0026#34;auto_create_dir\u0026#34;, callback = function() local fpath = fn.expand(\u0026#39;\u0026lt;afile\u0026gt;\u0026#39;) local dir = fn.fnamemodify(fpath, \u0026#34;:p:h\u0026#34;) -- utils.may_create_dir(dir) local res = fn.isdirectory(dir) if res == 0 then fn.mkdir(dir, \u0026#39;p\u0026#39;) end end }) This snippet is simple and do not require sophisticated knowledge to write. You can write it perhaps after reading the nvim lua guide. I do not think this is good for new users to learn how to use Neovim properly. It creates unnecessary dependencies in their config for external plugins. The extreme will be like the JavaScript world where there is dependency hell, you rely on external libraries for even a small feature/function you do not care to write. When that library fails/disappears, your library fails too, which is manifested in the famous left-pad incident.\nMy philosophy is that if you can create a feature easily without external plugins, try to write it yourself unless it will cost you a lot of effort, e.g., write a fully-featured git client for neovim (vim-fugitive level).\nI think as a neovim user, if you are serious about it, you got to learn some basic things. Otherwise, you won\u0026rsquo;t go long in this road. In this sense, the hype over the pre-configuration is also doubtful. Can the new user really learn something from these pre-configurations, or are they just stuck in these pre-configurations, which may have their own config options? My guess is that these configurations can not really help the new users learn the basics.\nEdit: I posted this post on reddit, someone gives a cleaner way to do this:\nvim.api.nvim_create_autocmd({ \u0026#34;BufWritePre\u0026#34; }, { pattern = \u0026#34;*\u0026#34;, group = vim.api.nvim_create_augroup(\u0026#34;auto_create_dir\u0026#34;, { clear = true }), callback = function(ctx) local dir = vim.fn.fnamemodify(ctx.file, \u0026#34;:p:h\u0026#34;) vim.fn.mkdir(dir, \u0026#34;p\u0026#34;) end }) According to the doc, the callback accepts a table containing the context info. The file path for the buffer where this autocmd is fired is in the file key.\nReferences # left-pad incident: https://www.theverge.com/2016/3/24/11300840/how-an-irate-developer-briefly-broke-javascript https://qz.com/646467/how-one-programmer-broke-the-internet-by-deleting-a-tiny-piece-of-code/ https://www.reddit.com/r/programming/comments/4bjss2/an_11_line_npm_package_called_leftpad_with_only/ A site made for left-pad: http://left-pad.io/ https://medium.com/@digitalpublic/npm-azer-ko%C3%A7ulu-kik-and-the-law-f22742f099f6 https://github.com/rockerBOO/awesome-neovim\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nModified a bit to make it self-running, original here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 August 2022","externalUrl":null,"permalink":"/2022/08/21/you-do-not-need-a-plugin-for-this/","section":"Posts","summary":"\u003cp\u003eI saw from the repo awesome neovim\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e a plugin that helps the user create the intermediate dir when they save a file.\nI wondered why this feature even needs a whole plugin?\nYou can literally do this with a few lines of code.\u003c/p\u003e","title":"You Do Not Need a Plugin for This Feature","type":"posts"},{"content":"Recently, when I try to use Ctrl-left and Ctrl-right in Neovim, I found that they are not received by Neovim. I thought this is a Neovim issue. However, when I test these two shortcuts using cat in the terminal (I tried both Kitty and wezterm), it does not work either.\nI asked this question in Vim_zh telegraph group1, and someone reminded me that it may be related to macOS mapping these keys for mission control2. There are multiple similar posts on the Internet.\nHere is what is working for me on macOS Monterey (version 12.5.1):\nOpen System Preferences --\u0026gt; Keyboard Go to the shortcuts tab, and click Mission Control on the left list Under Mission Control menu on the right, uncheck Move left a space and Move right a space. Now these two shortcuts will be freed.\nBTW, if you like to switch between different desktops, you can use three finger swipes on the touch pad. It works better than using key shortcuts.\nThis is a telegraph group for Chinese Vim/Nvim users, with a lot of profession devs.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nMission control is basically multiple desktops, see also https://en.wikipedia.org/wiki/Mission_Control_(macOS)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 August 2022","externalUrl":null,"permalink":"/2022/08/20/ctrl-left-right-not-work-mac/","section":"Posts","summary":"\u003cp\u003eRecently, when I try to use \u003ccode\u003eCtrl-left\u003c/code\u003e and \u003ccode\u003eCtrl-right\u003c/code\u003e in \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003e, I found that they are not received by Neovim.\nI thought this is a Neovim issue.\nHowever, when I test these two shortcuts using \u003ccode\u003ecat\u003c/code\u003e in the terminal (I tried both Kitty and wezterm),\nit does not work either.\u003c/p\u003e","title":"Ctrl-left and Ctrl-right Not Working in macOS?","type":"posts"},{"content":"As a machine learning engineer/data scientist, after the model development process is finished, we need to deploy the model as a web service using different web frameworks. To achieve maximum performance and lower the hardware cost, we often need to optimize the speed our service, including TensorRT acceleration, config tuning, etc.\nIn order to reliably and objectively evaluate the performance of the service under different configs, we need to load-test the service. In this post, I want to share how to load test your HTTP service with wrk.\nInstall # Wrk is a lightweight and easy-to-use load testing tool. To install it, run the following command:\ngit clone --depth=1 https://github.com/wg/wrk.git cd wrk make -j General options # The generated wrk executable is under this folder. This is how you use wrk for GET request benchmark:\nwrk -t 6 -c 200 -d 30s --latency https://google.com Some of the command flags for wrk:\n-c: the number of connections to use -t: the number of threads to use -d: the test duration, e.g., 60s -s: the lua script to use for load testing our service (will cover in later section) --timeout how many seconds to timeout a request --latency: show the latency distribution for all the requests For connections and threads, the author suggest using thread number less than the core in CPU. The connections are shared in different threads, i.e., each threads get N = connections/threads connections.\nRefs # wrk threads and connections: https://github.com/wg/wrk/issues/90 https://github.com/wg/wrk/issues/205 Wrk in action # Making GET request in wrk is straightforward and easy, so I am not going to show it here. In the following, I will show how to make POST request with wrk.\nSuppose we have the following server code:\nfrom flask import Flask, jsonify, request app = Flask(__name__) @app.route(\u0026#34;/demo\u0026#34;, methods=[\u0026#34;POST\u0026#34;]) def server(): if request.content_type == \u0026#39;application/x-www-form-urlencoded\u0026#39;: req = request.form.to_dict() elif request.content_type == \u0026#39;application/json\u0026#39;: req = request.get_json() else: return jsonify({\u0026#39;status\u0026#39;: 1, \u0026#39;msg\u0026#39;: \u0026#39;unsupported content type\u0026#39;}) print(f\u0026#34;user req: {req}\u0026#34;) w = int(req.get(\u0026#34;width\u0026#34;, 0)) h = int(req.get(\u0026#34;height\u0026#34;, 0)) return jsonify({\u0026#39;status\u0026#39;: 0, \u0026#39;msg\u0026#39;: \u0026#34;ok\u0026#34;, \u0026#34;area\u0026#34;: w*h}) if __name__ == \u0026#34;__main__\u0026#34;: app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=1234) To test the server\u0026rsquo;s performance, we run the following wrk command:\nwrk -t 4 -c 100 -d 180s -s test.lua --latency \u0026#34;http://server_ip:1234/demo\u0026#34; The content of test.lua is like:\nwrk.method = \u0026#34;POST\u0026#34; -- post form urlencoded data wrk.body = \u0026#34;width=2\u0026amp;height=2\u0026#34; wrk.headers[\u0026#39;Content-Type\u0026#39;] = \u0026#34;application/x-www-form-urlencoded\u0026#34; The above script assumes you are making request in application/x-www-form-urlencoded format. If you content type is application/json, use the following test.lua:\nwrk.method = \u0026#34;POST\u0026#34; -- post json data wrk.body = \u0026#39;{\u0026#34;width\u0026#34;: 2, \u0026#34;height\u0026#34;: 2}\u0026#39; wrk.headers[\u0026#39;Content-Type\u0026#39;] = \u0026#34;application/json\u0026#34; Advanced scripting # wrk can also support advanced control for benchmarking, the official guide is here.\nReferences # post request with wrk: https://stackoverflow.com/q/15261612/6064933 http://www.fridayhaohao.com/articles/23/ https://www.zhoujunwen.com/2022/%E5%B7%A5%E5%85%B7/HTTP%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E4%B9%8Bwrk/#%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80 https://www.wangbo.im/posts/usage-of-benchmarking-tool-wrk-and-wrk2/ https://zhaox.github.io/benchmark/2016/12/28/wrk-guidelines ","date":"10 August 2022","externalUrl":null,"permalink":"/2022/08/10/http_benchmark_wrk/","section":"Posts","summary":"\u003cp\u003eAs a machine learning engineer/data scientist, after the model development process is finished,\nwe need to deploy the model as a web service using different web frameworks.\nTo achieve maximum performance and lower the hardware cost,\nwe often need to optimize the speed our service, including TensorRT acceleration, config tuning, etc.\u003c/p\u003e","title":"Benchmarking Your HTTP Service Using wrk","type":"posts"},{"content":"This post summarizes how to update author info of Git commits.\nFor most recent commit # To change the author info of most recent commit, run\ngit commit --amend --author=\u0026#34;author_name \u0026lt;author_email\u0026gt; --no-edit\u0026#34; Note that the \u0026lt;\u0026gt; around the email. It is mandatory, otherwise, we see the following weird error:\nfatal: No existing author found with \u0026lsquo;xxxx\u0026rsquo;\nIf the author has been set in .git/config, we can also simply run:\ngit commit --amend --reset-author --no-edit For older commits # If we want to change the author info for multiple commits, we can use git rebase. For example, suppose we have this commit graph: A-\u0026gt;B-\u0026gt;C-\u0026gt;D-\u0026gt;E, we want to change the author of commit B and D. Here is the steps:\nRun the rebase command, git rebase -i A A vim window opens and you will see a list of commit hash for B, C, D, E, with pick before them. Change pick to edit, before the commit hash for commit B and D. Save and quit vim window :wq Run git commit --amend --author=\u0026quot;author_name \u0026lt;author-email\u0026gt;\u0026quot; --no-edit (this is for commit B) Run git rebase --continue to continue the rebase Run git commit --amend --author=\u0026quot;author_name \u0026lt;author-email\u0026gt;\u0026quot; --no-edit (this time for commit D) Run git rebase --continue to continue the rebase The rebase process finishes.\nFor a range of commits # If you want to change the author info from an older commit, to the most recent commit, there is a more efficient/faster way than the previous method:\n# Note that to also include the root commit, we need to add --root option git rebase --interactive --exec \u0026#34;git commit --amend --reset-author --no-edit\u0026#34; {commit-ref} We will a vim window like this:\npick xxx exec git commit --amend --reset-author --no-edit pick xxx exec git commit --amend --reset-author --no-edit ... Save the quit the window (:wq). The author info for these commits will be changed automatically.\nNote that changing the commit author info will change the commit hash for this commit, and also commit hash after that specific commit. So your local commit will diverge with remote if you have pushed those commits to the remote repo.\nReferences # How to change the commit author for a single commit? How do I change the author and committer name/email for multiple commits ","date":"5 August 2022","externalUrl":null,"permalink":"/2022/08/05/update_commit_author_info_git/","section":"Posts","summary":"\u003cp\u003eThis post summarizes how to update author info of Git commits.\u003c/p\u003e","title":"How to Change Commit Author Info in Git","type":"posts"},{"content":"When we serve a HTTP service via uWSGI, we can monitor its stats via uwsgitop.\nInstall # uwsgitop is a performance monitoring tool built for uWSGI. It can be installed via pip:\npip3 install uwsgitop Usage # Using socket # Add the following to your uWSGI config:\nstats=/tmp/stats.socket Then use uwsgitop to monitor the stats:\nuwsgitop /tmp/stats.socket In this case, uwsgitop should be installed on the same machine as your service.\nUsing HTTP # If you want to monitor the service via HTTP, add the following to uWSGI conf:\nstats=0.0.0.0:1235 stats-http=true Then run uwsgitop:\nuwsgitop http://127.0.0.1:1717 The meaning of output is explained here.\nReferences # https://uwsgi-docs.readthedocs.io/en/latest/StatsServer.html https://mjsaah.net/post/tuning_uwsgi/ ","date":"1 August 2022","externalUrl":null,"permalink":"/2022/08/01/uwsgi_service_stat_monitor/","section":"Posts","summary":"\u003cp\u003eWhen we serve a HTTP service via uWSGI, we can monitor its stats via \u003ca href=\"https://github.com/xrmx/uwsgitop#readme\" target=\"_blank\"\u003e\u003ccode\u003euwsgitop\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e","title":"Monitoring Service Stat with uwsgitop","type":"posts"},{"content":"","date":"1 August 2022","externalUrl":null,"permalink":"/tags/uwsgi/","section":"Tags","summary":"","title":"UWSGI","type":"tags"},{"content":"In Python, we often see the use of super() in class initialization.\nSomething like this:\nclass MyClass(Base): def __init__(self): super().__init__() In order to understand super(), we first need to understand MRO (method resolution order) in Python. MRO means how to find a method for an object along the class inheritance hierarchy.\nMRO in Python # To check a class\u0026rsquo;s MRO, we can use MyClass.__mro__. It will print out a linear list of class for method resolution.\nFor single class inheritance, it is simple to get the MRO list. For multiple inheritance, Python 2.3 and higher use the C3 linearization method. This post by Guido van Rossum tells more about the history and development of MRO in Python.\nC3 linearization # There is a complex case in this post.\nclass PrettyType(type): \u0026#34;\u0026#34;\u0026#34;make the repr of the classes look nice when finally listed\u0026#34;\u0026#34;\u0026#34; def __repr__(self): return self.__name__ # subclasses of O will also have the metaclass: class O(metaclass=PrettyType): \u0026#39;O, object\u0026#39; class H(O): \u0026#39;H, O, object\u0026#39; # H\u0026#39;s parent is O class G(H): \u0026#39;G, H, O, object\u0026#39; # G\u0026#39;s linearization is itself followed by its parent\u0026#39;s linearization. class I(G): \u0026#39;I, G, H, O, object\u0026#39; # I\u0026#39;s linearization is I followed by G\u0026#39;s class F(H): \u0026#39;F, H, O, object\u0026#39; class E(H): \u0026#39;E, H, O, object\u0026#39; class D(F): \u0026#39;D, F, H, O, object\u0026#39; class C(E, F, G): \u0026#39;C, E, F, G, H, O, object\u0026#39; # C\u0026#39;s linearization is C followed by a consistent linearization of # its parents, left to right. # First C, then E - then you might be tempted to put H after E, # but H must come after F and G (see class F and G) # so we try F\u0026#39;s linearization, noting that H comes after G, # so we try G\u0026#39;s linearization, H then consistently comes next, then object class B(O): \u0026#39;B, O, object\u0026#39; class A(B, C, D): \u0026#39;A, B, C, E, D, F, G, H, O, object\u0026#39; Let\u0026rsquo;s derive its MRO list step by step according to C3 linearization.\nL(O) = [O] L(H) = [H] + L(O) = [H, O] L(B) = [B, O] L(E) = [E] + L[H] = [E, H, O] L(F) = [F, H, O] L(G) = [G, H, O] L(C) = [C] + merge(L(E), L(F), L(G), [E, F, G]) = [C] + merge([E, H, O], [F, H, O], [G, H, O], [E, F, G]) # choose E = [C, E] + merge([H, O], [F, H, O], [G, H, O], [F, G]) # can not choose, choose F = [C, E, F] + merge([H, O], [H, O], [G, H, O], [G]) # can not choose H, choose G = [C, E, F, G] + merge([H, O], [H, O], [H, O]) # choose H = [C, E, F, G, H] + merge([O], [O], [O]) = [C, E, F, G, H, O] L(D) = [D] + L(F) = [D, F, H, O] L(A) = [A] + merge(L(B), L(C), L(D), [B, C, D]) = [A] + merge([B, O], [C, E, F, G, H, O], [D, F, H, O], [B, C, D]) # choose B = [A, B] + merge([O], [C, E, F, G, H, O], [D, F, H, O], [C, D]) # can not choose O, choose C = [A, B, C] + merge([O], [E, F, G, H, O], [D, F, H, O], [D]) # can not choose O, choose E (it is the first viable node after O) = [A, B, C, E] + merge([O], [F, G, H, O], [D, F, H, O], [D]) # can not choose O and F, choose D = [A, B, C, E, D] + merge([O], [F, G, H, O], [F, H, O]) # can not choose O, choose F = [A, B, C, E, D, F] + merge([O], [G, H, O], [H, O]) # can not choose O, choose G = [A, B, C, E, D, F, G] + merge([O], [H, O], [H, O]) # can not choose O, choose H = [A, B, C, E, D, F, G, H] + merge([O], [O], [O]) = [A, B, C, E, D, F, G, H, O] So the final MRO list would be [A, B, C, E, D, F, G, H, O]. You can verify by running print(A.mro()).\nThe basic idea is to work from root node to leaf node. When merging a node, always choose the first node in a certain list, from left list to right list, if this node does not appear in other positions in other lists.\nuse of super() # If we use super(), it will try to find the next class in the MRO list and try to call the corresponding method in that class.\nclass Base: def __init__(self): print(\u0026#34;class Base init called\u0026#34;) class B(Base): def __init__(self): print(\u0026#34;class B init called\u0026#34;) Base.__init__(self) class C(Base): def __init__(self): print(\u0026#34;class C init called\u0026#34;) super().__init__() # class D(C, B): class D(B, C): def __init__(self): print(\u0026#34;class D init called\u0026#34;) super().__init__() def main(): d = D() if __name__ == \u0026#34;__main__\u0026#34;: main() If we run the above code, we see the following output:\nclass D init called\nclass B init called\nclass Base init called\nThe MRO list is [D, B, C, Base, object] (in python3, object is the base class for any other class). Class C is not initialized because in the __init__() method of B, we are not using super(). If we replace the line\nBase.__init__(self) with\nsuper().__init__() we will see the following output instead:\nclass D init called\nclass B init called\nclass C init called\nclass Base init called\nIf we change the inheritance of class D from D(B, C) to D(C, B), we observe the following output:\nclass D init called\nclass C init called\nclass B init called\nclass Base init called\nIn this case, the MRO list is [D, C, B, Base, object]. Since both D and C use super() in their init function, so we can see that C and B are initialized. Remember that super() will try to find the next class in the MRO list. We also see that Base is also initialized, because we are using Base.__init__(self) explicitly in init function for class B, nothing related to super() here.\nThis post provides another similar example to illustrate the idea of super(). So in order to run the initialization method the parent classes correctly and not rely on some chance, we can use super() to the rescue.\nReferences # A detailed guide on how Python MRO works since version 2.3: https://www.python.org/download/releases/2.3/mro/#examples python MRO: https://stackoverflow.com/a/2010732/6064933 Understanding Python super() with init() methods multiple inheritance: https://en.wikipedia.org/wiki/Multiple_inheritance https://rhettinger.wordpress.com/2011/05/26/super-considered-super/ ","date":"31 July 2022","externalUrl":null,"permalink":"/2022/07/31/super_in_python/","section":"Posts","summary":"\u003cp\u003eIn Python, we often see the use of \u003ca href=\"https://docs.python.org/3/library/functions.html#super\" target=\"_blank\"\u003esuper()\u003c/a\u003e in class initialization.\u003c/p\u003e","title":"A Dive into super() in Python","type":"posts"},{"content":"If we pass list as parameter to a function and change the parameter, the original list is also changed. This is because list is a mutable type, when we pass list to a function, we are passing the same list.\ndef my_fun(my_list): my_list.append(1) return my_list x = [1, 2, 3] y = my_fun(x) print(f\u0026#34;x: {x}, y: {y}\u0026#34;) # x, y are both [1, 2, 3, 1] How can we pass the \u0026ldquo;value\u0026rdquo; of this list instead of its \u0026ldquo;reference\u0026rdquo;? We can use several ways:\nslicing: my_fun(x[:]) list(): my_fun(list(x)) list.copy(): my_fun(x.copy()) copy.copy(): my_fun(copy.copy(x)) copy.deepcopy(): my_fun(copy.deepcopy(x)) The first four ways only create a shallow copy of the original list. They only work for simple list consisting of immutable types, for example, a list of int. If the list element is a mutable type themselves, they will not work.\nOnly the copy.deepcopy() method can truly create a new list.\nreferences # https://docs.python.org/3/faq/programming.html#why-did-changing-list-y-also-change-list-x clone a list so that it doesn\u0026rsquo;t change after assignment: https://stackoverflow.com/q/2612802/6064933 pass list as argument: https://stackoverflow.com/q/2322068/6064933 pass list to function by value: https://stackoverflow.com/q/15377050/6064933 ","date":"27 July 2022","externalUrl":null,"permalink":"/2022/07/27/pass_list_by_value_python/","section":"Posts","summary":"\u003cp\u003eIf we pass list as parameter to a function and change the parameter, the original list is also changed.\nThis is because list is a mutable type, when we pass list to a function, we are passing the same list.\u003c/p\u003e","title":"How to Pass List by Value as Parameter in Python","type":"posts"},{"content":"åºï¼šæœ‰æ„Ÿäºæ— ä¼‘æ— æ­¢çš„æ ¸é…¸æ£€æµ‹ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å†™ç‚¹ä»€ä¹ˆï¼Œè®°å½•ä¸‹æ­£åœ¨å‘ç”Ÿçš„å’Œå·²ç»å‘ç”Ÿçš„å†å²ã€‚\nå¾ˆå¤šå¹´åï¼Œå›è¿‡å¤´çœ‹ 2020 å¹´ 1 æœˆï¼Œæˆ‘ä»¬æ— æ³•é¢„æ–™åˆ° Covid19 ç«Ÿç„¶å¯¹äººç±»ç¤¾ä¼šé€ æˆäº†å¦‚æ­¤å¤§çš„å½±å“ã€‚\n2020 \u0026ndash; æºèµ· # 2020 å¹´ 1 æœˆä¸­æ—¬ï¼Œå°±å¼€å§‹ä¼ æ­¦æ±‰å‡ºç°äº†æ–°å† è‚ºç‚ï¼Œæœ‰é¢„è§çš„äººå·²ç»å¼€å§‹åœ¨äº¬ä¸œã€æ·˜å®ä¸Šè´­ä¹°å£ç½©ï¼Œå›¤ç§¯ç‰©èµ„ï¼Œåˆ°äº† 1 æœˆ 18ã€19 å·çš„é‚£ä¸ªå‘¨æœ«ï¼Œäº‹æƒ…å·²ç»èµ·äº†å˜åŒ–ï¼Œæ ¹æ® SARS çš„ç»éªŒï¼Œå¾ˆå¤šäººå·²ç»å¼€å§‹å›¤ç§¯å£ç½©ï¼Œé…’ç²¾ç­‰é˜²ç–«ç‰©èµ„ï¼Œè¿™ä¸ªæ—¶å€™å»äº¬ä¸œä¹°å£ç½©å·²ç»å®Œå…¨ä¹°ä¸åˆ°äº†ï¼Œæ— è®ºæ˜¯åŒ»ç”¨æ™®é€šå£ç½©ï¼Œè¿˜æ˜¯ KN95 å‹å£ç½©ã€‚ç­‰åˆ° 20 å·ä¸Šç­ï¼Œæ‰€æœ‰äººè¿˜å¤„åœ¨æ‘‡æ‘†ä¸å®šçš„æ—¶å€™ï¼Œå…¬å¸ä¹Ÿæ²¡æœ‰è¦æ±‚å¿…é¡»æˆ´å£ç½©ï¼Œä¸­åˆåƒé¥­çš„æ—¶å€™ï¼Œæˆ‘å»è¯åº—çœ‹äº†ä¸€ä¸‹ï¼Œå£ç½©å·²ç»ä¸å¥½ä¹°åˆ°äº†ï¼Œè·‘äº†ä¸¤ä¸ªè¯åº—ï¼Œä¹°å›æ¥ä¸€åŒ…å£ç½©ã€‚\nåœ¨æƒ´æƒ´ä¸å®‰ä¸­ï¼Œè¿‡å®Œäº†é‚£ä¸€å‘¨ï¼Œæ¥ç€å°±åˆ°äº†æ˜¥èŠ‚æ”¾å‡ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿˜æ˜¯è¦å›å®¶è¿‡å¹´ï¼Œä¸è¿‡æ–°å† çš„é˜´å½±ä¸‹ï¼Œæ‰€æœ‰äººéƒ½å˜å¾—è°¨æ…ï¼Œåœ¨ç«è½¦ä¸Šï¼Œæˆ‘ä»¬éƒ½æˆ´ç€å£ç½©ï¼Œå…¨ç¨‹ä¸æ•¢æ‘˜ä¸‹æ¥ã€‚\nç´§æ¥ç€å°±æœ‰äº†æ­¦æ±‰å°åŸï¼Œè™½ç„¶ 03 å¹´å·²ç»æ¥è¿‡ä¸€æ¬¡éå…¸ï¼Œè¿™ç§å°åŸè§„æ¨¡çš„äº‹æƒ…å´æ˜¯ç¬¬ä¸€æ¬¡ã€‚æˆ‘ä»¬åœ¨å°å¿åŸæ˜¯æ²¡æœ‰å¤šå°‘æ„Ÿè§¦çš„ï¼Œæœ€å¤šå‡ºå»çš„æ—¶å€™æˆ´ä¸ªå£ç½©ï¼Œç”Ÿæ´»æ²¡æœ‰å—åˆ°å¤šå°‘å½±å“ã€‚åœ¨é‚£æœ€å¼€å§‹çš„ä¸€æ®µæ—¶é—´ï¼Œæ­¦æ±‰çš„å°åŸåœ¨å…¨å›½çš„å…³æ³¨ä¸‹çŠ¹å¦‚ç›´æ’­ï¼Œèµ„æºçš„ä¸è¶³ï¼Œç®¡ç†çš„æ··ä¹±ï¼Œæœ€åˆå¯¹ç—…æ¯’è®¤è¯†çš„ä¸è¶³ï¼Œäººä»¬çš„ææ…Œï¼Œå¾®åšä¸Šæ¯å¤©éƒ½æ˜¯æ­¦æ±‰å‘å‡ºçš„æ±‚æ•‘çš„æ–‡ç« ã€‚æœ€æœ‰ä»£è¡¨æ€§çš„å°±æ˜¯æ•²é”£å¥³1ï¼Œåœ¨è‡ªå®¶é˜³å°ä¸Šæ•²é”£ï¼Œå¼•èµ·äº†ç½‘æ°‘çš„å…³æ³¨ï¼Œä¹Ÿè®©è‡ªå·±çš„äº²äººå¾—åˆ°äº†åŠæ—¶çš„æ•‘åŠ©ã€‚è¿˜æœ‰ææ–‡äº®åŒ»ç”Ÿ2ï¼Œä»–ç”šè‡³å¹¶ä¸æ˜¯å¹å“¨äººï¼Œä¸æ˜¯å…¸å‹æ„ä¹‰ä¸Šçš„è‹±é›„ï¼Œåªæ˜¯åœ¨æ–°å† èŒèŠ½æœŸçš„ 19 å¹´ 12 æœˆä»½ï¼Œåœ¨å¾®ä¿¡ç¾¤é‡Œè­¦å‘Šç—…æ¯’çš„å±é™©æ€§ï¼Œè¢«æ­¦æ±‰è­¦æ–¹å¸¦å»è®­è¯«ã€‚ç½‘æ°‘ä»¥è¿™æ ·çš„æ–¹å¼è®¤è¯†äº†ä»–ï¼Œä»–åœ¨æ–°å† æ—©æœŸä¹Ÿå› ä¸ºæ„ŸæŸ“ç—…æ¯’è€Œæ­»ã€‚åœ¨ä»–æ­»çš„é‚£å¤©ï¼Œæ— æ•°å¾®åšç½‘å‹ä¸ºä¹‹å“€ç—›ï¼Œä»–çš„æ–°æµªå¾®åšå·²ç»æˆä¸ºæŸç§è™šæ‹Ÿçš„çºªå¿µç¢‘ã€‚\nä¸ºäº†é¢„é˜²æ–°å† ï¼Œ2020 å¹´çš„æ˜¥èŠ‚ä¹Ÿç¬¬ä¸€æ¬¡è¢«å»¶é•¿åˆ°ä¸¤å‘¨3ã€‚å‡æœŸç»“æŸï¼Œæˆ‘ä»¬å›åˆ°æ·±åœ³ï¼Œå¼€å§‹äº†å±…å®¶è¿œç¨‹å·¥ä½œï¼Œé‚£ä¸€æ®µæ—¶é—´ï¼Œå‡ ä¹æ²¡æœ‰å‡ºå»è¿‡ï¼Œä¹°èœéƒ½æ˜¯ç½‘ä¸Šä¸‹å•ï¼Œç„¶åå»å°åŒºé—¨å£å–èœã€‚å±…å®¶åŠå…¬æ²¡å¤šä¹…ï¼Œå…¬å¸å°±å¼€å§‹è¦æ±‚æˆ‘ä»¬å»å…¬å¸åŠå…¬ï¼Œæˆ‘ä»¬ç»„æ˜¯ä¸€åŠä¸€åŠè½®æµå»å…¬å¸ä¸Šç­ï¼Œç”±äºé™„è¿‘çš„é¤é¦†éƒ½å…³é—¨äº†ï¼Œåªèƒ½è‡ªå·±å¸¦é¥­ï¼Œå°±é‚£æ ·åº¦è¿‡äº†å‡ å‘¨çš„æ—¶é—´ã€‚\næœŸé—´è¿˜å¤¹æ‚äº†ä¸€äº›æ— å¥ˆçš„æ’æ›²ï¼ŒäºŒæœˆå¤šç–«æƒ…æœ€ä¸¥é‡çš„æ—¶å€™ï¼Œæˆ‘ç§Ÿçš„è›‹å£³å…¬å¯“çš„æˆ¿å­ï¼ŒåŸæˆ¿ä¸œæ‰¾ä¸Šé—¨è¦æ±‚æ”¶æˆ¿ï¼ŒåŸå› æ˜¯è›‹å£³å…¬å¯“ç”±äºç–«æƒ…å½±å“èµ„é‡‘ç´§å¼ ï¼Œå·²ç»å¼€å§‹æ‹–æ¬ æˆ¿ä¸œçš„æˆ¿ç§Ÿã€‚é‚£ä¸ªæ—¶å€™ï¼Œå„ä¸ªå°åŒºå°é—­ï¼Œæ— æ³•æ‰¾æˆ¿ï¼Œä¹Ÿæ²¡åŠæ³•æ¬è¿›æ¬å‡ºï¼Œå’Œæˆ¿ä¸œå•†é‡ä»¥åï¼Œæˆ‘ä»¬ç»™æˆ¿ä¸œä»˜äº†ä¸€äº›æˆ¿ç§Ÿï¼Œæˆ¿ä¸œå…è®¸æˆ‘ä»¬å¤šä½å‡ å‘¨ã€‚åé¢ç–«æƒ…æœ‰æ‰€ç¼“å’Œï¼Œä»è›‹å£³å…¬å¯“é€€æˆ¿ï¼Œæ‰¾äº†è‡ªå¦‚çš„æˆ¿å­ã€‚è›‹å£³å…¬å¯“é€€è¿˜äº†æˆ‘ä»¬å‰©ä½™çš„æˆ¿ç§Ÿä»¥åŠæŠ¼é‡‘ï¼Œå†è¿‡äº†å‡ ä¸ªæœˆï¼Œè›‹å£³å…¬å¯“å°±å®Œå…¨çˆ†é›·äº†ï¼Œå¾ˆå¤šç§Ÿå®¢ç›´æ¥è¢«æˆ¿ä¸œèµ¶å‡ºæˆ¿å­ï¼Œæˆ‘ä»¬é˜´å·®é˜³é”™èº²è¿‡äº†çˆ†é›·ã€‚\nä¸‰æœˆå¤šç–«æƒ…ç¼“å’Œä»¥åï¼Œæˆ‘ä»¬åˆå…¨éƒ¨å›åˆ°äº†å…¬å¸ä¸Šç­ï¼Œä¸€äº›å®¶åœ¨æ¹–åŒ—çš„åŒäº‹ç”±äºæ¹–åŒ—çš„å°æ§ï¼Œè¿˜æ˜¯è¿œç¨‹åŠå…¬ï¼Œè¦ç­‰åˆ°å››æœˆä»½æ‰èƒ½å›æ¥ã€‚é™¤äº†æ¯å¤©è¦æˆ´å£ç½©ï¼Œç”Ÿæ´»ä¼¼ä¹æ¢å¤äº†æ­£å¸¸ã€‚6 æœˆä»½çš„æ—¶å€™ï¼Œæˆ‘ç”šè‡³è¿˜å»é•¿ä¸‰è§’çš„å‡ ä¸ªåŸå¸‚ç©äº†ä¸€åœˆï¼Œæ²¡æœ‰æ ¸é…¸æ£€æµ‹ï¼Œä¹Ÿæ²¡æœ‰ä¸åœçš„æ‰«ç ï¼Œç–«æƒ…ä¼¼ä¹å·²ç»è¿œç¦»äº†ä¸­å›½ã€‚\n2021 \u0026ndash; å¹³é™ # æ—¶é—´å¿«é€Ÿåˆ°äº† 2021 å¹´ï¼Œæ˜¥èŠ‚çš„æ—¶å€™ï¼Œæ”¿åºœå·å¬æ‰€æœ‰äººã€Œéå¿…è¦ä¸å›å®¶ã€4ï¼Œäºæ˜¯åˆåœ¨æ·±åœ³åº¦è¿‡äº†ä¸€ä¸ªæ˜¥èŠ‚ã€‚\nç–«è‹— # 2021 å¹´ä¸ŠåŠå¹´ä¸­å›½å¼€å§‹æ¨è¡Œå¤§è§„æ¨¡ç–«è‹—æ¥ç§ï¼Œä¸­å›½çš„ç–«è‹—å±äºç­æ´»ç—…æ¯’ç–«è‹—ï¼Œçœ‹åˆ°ä¸€äº›æ•°æ®æŒ‡å‡ºç§‘å…´ç–«è‹—çš„æ•ˆåŠ›ä¸å¤Ÿï¼Œå†åŠ ä¸Šå¯¹å›½äº§ç–«è‹—å®‰å…¨æ€§æ‹…å¿§ï¼Œæœ¬æ¥ä¸æƒ³æ‰“ç–«è‹—ï¼Œå¬åˆ°æœ‰ä¼ é—»ï¼Œä¸æ‰“ç–«è‹—ä¼šã€Œéº»çƒ¦ã€ã€‚æ”¿åºœè™½ç„¶åœ¨æ–°é—»ä¸Šå®£ä¼ ä¸ä¼šå¼ºåˆ¶å¤§å®¶æ‰“ç–«è‹—ï¼Œä½†æ˜¯å„ä½ï¼Œå¦‚æœä½ ç”Ÿæ´»åœ¨è¿™ä¸ªå›½å®¶ä¹…äº†ï¼Œå°±ä¼šçŸ¥é“ï¼ŒåŸºå±‚åœ¨å®é™…æ“ä½œä¸­ï¼Œæ€»ä¼šæ‰¾å„ç§æ‰‹æ®µè®©ä½ ã€Œè‡ªæ„¿ã€æ‰“ç–«è‹—5ï¼Œä»–ä»¬æœ€å–„äºæ‰¾å‡ºä½ çš„è½¯è‚‹6æ¥å¨èƒä½ ï¼Œæˆ‘åœ¨ 5 æœˆå’Œ 6 æœˆåˆ†åˆ«æ¥ç§äº†åŒ—äº¬ç”Ÿç‰©å’Œæˆéƒ½ç”Ÿç‰©çš„ vero ç»†èƒç–«è‹—ã€‚21 å¹´æ·±åœ³è™½ç„¶æœ‰é›¶æ˜ŸæŠ¥å‘Šæ–°å† ç—…ä¾‹ï¼Œä¸è¿‡å¯¹å¤§å¤šæ•°äººçš„ç”Ÿæ´»æ²¡æœ‰å¤ªå¤šå½±å“ã€‚\nç”±äºä¸­å›½ä¸¥æ ¼çš„é˜²ç–«å’Œå‡ºå…¥å¢ƒæªæ–½ï¼Œä¸­å›½åœ¨ 2020 å¹´å’Œ 2021 å¹´çš„æ–°å† æ„ŸæŸ“äººæ•°è¿œä½äºä¸–ç•Œå…¶ä»–åœ°æ–¹ï¼Œå°±åœ¨ä¸–ç•Œå¤„äºã€Œæ°´æ·±ç«çƒ­ã€çš„ 2021 å¹´ï¼Œæˆ‘ä»¬å´è¿‡ç€ç›¸å¯¹æ­£å¸¸çš„ç”Ÿæ´»ï¼Œã€Œé£æ™¯è¿™è¾¹ç‹¬å¥½ã€ï¼Œæ”¿åºœä¹Ÿåœ¨å¤§åŠ›å®£ä¼ ä¸­å›½å¼é˜²ç–«çš„ä¼˜ç§€ã€‚9 æœˆä»½ï¼Œæˆ‘å’Œå°å¼ è¿˜è¶ç€ä¸­ç§‹å‡æœŸå»è´µå·å’Œé‡åº†ç©äº†ä¸€è¶Ÿã€‚\nè¿™ç§å¯¹ç–«æƒ…å½¢åŠ¿çš„ä¹è§‚ä¹Ÿåæ˜ åœ¨å°±ä¸šå¸‚åœºä¸Šï¼Œ21 å¹´å„ä¸ªå…¬å¸æ‹›äººçš„åŠ›åº¦æ¯”è¾ƒå¤§ï¼Œæˆ‘æ‰€åœ¨çš„éƒ¨é—¨è¿æ¥äº†ä¸€æ³¢ç¦»èŒçš„é«˜æ½®ï¼Œå¾ˆå¤šåŒäº‹éƒ½è¶æ­¤æœºä¼šå¦è°‹é«˜å°±ï¼Œæ˜¯æˆ‘æ¥å…¬å¸ä»¥åé‡åˆ°çš„ç¬¬ä¸€æ¬¡ã€‚\n2022 \u0026ndash; æœªåˆ°å°¾å£° # 2021 å¹´åº•ï¼Œ2022 å¹´åˆ7ï¼Œè¥¿å®‰å‡ºç°äº†è¾ƒå¤šæ–°å† ç—…ä¾‹ï¼Œå¼€å§‹å…¨åŸéš”ç¦»ï¼Œä½†å´æ²¡æœ‰åšå¥½ä¿éšœå·¥ä½œï¼Œæœ‰ç—…äººæ±‚åŒ»è¢«æ‹’å¯¼è‡´æ­»äº¡ï¼Œæœ‰å­•å¦‡æ±‚åŒ»è¢«æ‹’å¯¼è‡´æµäº§ï¼Œæ­¤åè¿™ç±»è’å”çš„äº‹æƒ…è¿˜ä¼šåœ¨å…¶ä»–åœ°æ–¹ä¸æ–­ä¸Šæ¼”ï¼Œä½ æ­»äº†æ²¡äº‹ï¼Œå¦‚æœå‡ºç°ç–«æƒ…å°±æ˜¯æˆ‘çš„é—®é¢˜ï¼Œè¿™å°±æ˜¯å…¶ä¸­å¯ç¬‘çš„é€»è¾‘ã€‚\nåˆ°äº† 2022 å¹´ 1 æœˆï¼Œæ·±åœ³å¼€å§‹å‡ºç°æ–°å† ç—…ä¾‹ï¼Œåˆ°äº†äºŒä¸‰æœˆæ„ŸæŸ“è€…è¶Šæ¥è¶Šå¤šï¼Œå¾ˆå¤šå°åŒºå¼€å§‹å°é”ï¼Œååœ°é“å’Œè¿›åŠå…¬æ¥¼ä¹Ÿå¼€å§‹è¦æ±‚æä¾› 24 å°æ—¶æˆ– 48 å°æ—¶æ ¸é…¸æ£€æµ‹è¯æ˜ï¼Œ3 æœˆä»½çš„æ—¶å€™ï¼Œæ·±åœ³ç”šè‡³æœ‰ä¸€å‘¨æŒ‰ä¸‹æš‚åœé”®ï¼Œåœ°é“å…¬äº¤åœè¿ï¼Œæ‰€æœ‰äººå±…å®¶åŠå…¬ä¸€å‘¨ã€‚ä» 2 æœˆä»½å¼€å§‹åšæ ¸é…¸æ£€æµ‹ï¼Œå°±æ²¡æœ‰åœè¿‡äº†ï¼Œç–«æƒ…æ”¾æ¾çš„æ—¶å€™ï¼Œè¦æ±‚ 72 å°æ—¶æ ¸é…¸ï¼ˆä¸ºäº†é˜²æ­¢å¥åº·ç è¿‡æœŸæ¥ä¸ä¸Šï¼Œå®é™…ä¸Šè¿˜æ˜¯ä¼šä¸¤å¤©åšä¸€æ¬¡æ ¸é…¸ï¼‰ï¼Œç–«æƒ…ç´§å¼ çš„æ—¶å€™ï¼Œå°±å¼€å§‹è¦æ±‚ 24 å°æ—¶æ ¸é…¸ã€‚ç¤¾åŒºåœ¨ä¸åŒåœ°æ–¹è®¾æœ‰æ ¸é…¸æ£€æµ‹ç‚¹ï¼Œå°çš„æ£€æµ‹ç‚¹åªæœ‰ä¸¤ä¸ªæ£€æµ‹ä½ï¼Œå¤§çš„æ£€æµ‹ç‚¹å¯èƒ½æœ‰ 4ã€5 ä¸ªæ£€æµ‹ä½ï¼Œæ’é˜Ÿæ£€æµ‹æœ€é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œæ¥è¿‘ 1 ä¸ªå°æ—¶ã€‚æ ¸é…¸æ£€æµ‹è¦æ±‚åœ¨ 2022 å¹´ 12 æœˆç¬¬äºŒå‘¨è¢«å®£å¸ƒæ”¾å¼ƒï¼Œæˆ‘åœ¨é‚£ä¸€å‘¨æ²¡æœ‰åšä¸€æ¬¡æ ¸é…¸æ£€æµ‹ã€‚\næ”¿åºœå¯¹æ²»ç–—æ„Ÿå†’å‘çƒ­è¯å“çš„æ§åˆ¶ä¹Ÿå¾ˆä¸¥æ ¼ï¼Œæ„Ÿå†’å‘çƒ§äº†ï¼Œä¹°è¯ä¹Ÿå¿…é¡»å®åè´­ä¹°8ï¼Œæˆ–è€…å»ç‰¹å®šçš„å‘çƒ­é—¨è¯Šæ‰èƒ½å¾—åˆ°æ²»ç–—ï¼Œè€Œä¸”éœ€è¦åšæ ¸é…¸æ£€æµ‹ï¼Œç¡®å®šç»“æœæ˜¯é˜´æ€§æ‰å¯ä»¥èµ°ã€‚ä¸€æœˆå¤šæˆ‘æœ‰æ¬¡æ™šä¸Šæ²¡ç©¿ä¸Šè¡£çœ‹ä¹¦ï¼Œç»“æœæœ‰ç‚¹æ„Ÿå†’å‘çƒ§ï¼Œæƒ³åˆ°å»åŒ»é™¢é‚£ä¹ˆéº»çƒ¦ï¼Œå¹²è„†ä¸å»äº†ï¼Œè‡ªå·±åœ¨å®¶é‡Œå‘†äº†ä¸‰å¤©ï¼Œåƒäº†ç‚¹è¯ï¼Œæ‰›äº†è¿‡å»ã€‚\néƒ¨åˆ†ç”±äºç–«æƒ…ç®¡æ§çš„å½±å“ï¼Œè¿™åŠå¹´å›½å†…çš„å°±ä¸šå¸‚åœºå°±æ€¥è½¬ç›´ä¸‹äº†ï¼Œæ—¶ä¸æ—¶ä¼ å‡ºå„å¤§å…¬å¸è£å‘˜çš„æ¶ˆæ¯ï¼ŒåŒæ—¶ä¹Ÿçœ‹åˆ°ä¸åŒå…¬å¸å¼€å§‹å‡å°‘æˆ–è€…åœæ­¢æ‹›äººçš„ä¿¡æ¯ã€‚æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œè§‚å¯Ÿåˆ°è¡—è¾¹çš„ä¸€äº›é¤é¥®ã€æœè£…åº—é“ºå·²ç»æ’‘ä¸ä½å…³é—¨äº†ï¼Œåœ¨æˆ‘ä½çš„é™„è¿‘ï¼Œçœ‹åˆ°äº† 3 å®¶ä»¥ä¸Šå…³é—¨çš„åº—é“ºã€‚\n2022 å¹´ 8 æœˆï¼Œæµ·å—å²›å‡ºç°å¤§é‡æ–°å† æ„ŸæŸ“è€…9ï¼Œå…¨å²›å°é—­ï¼Œæ–°é—»æŠ¥é“æœ‰ 8 ä¸‡äººè¢«å›°åœ¨æµ·å—å²›ï¼Œå®é™…æ•°å­—å¯èƒ½ä¸æ­¢ 8 ä¸‡ï¼Œæœ‰çš„é…’åº—å¼€å§‹ååœ°èµ·ä»·ï¼Œæ®ä¼ ä¸€å®¶å‡ å£äººä¸€å¤©çš„é…’åº—èŠ±è´¹å°±è¦ 1 ä¸‡å¤šã€‚\nä¸Šæµ·å°åŸä¸æ¶¦å­¦å…´èµ· # ä¸ŠåŠå¹´å½±å“æœ€å¤§çš„äº‹ä»¶ï¼Œè¿˜æ˜¯ä¸Šæµ·å°åŸï¼Œå‡ºç°äº†å¤ªå¤šé­”å¹»çš„äº‹æƒ…ï¼Œåœ¨ 2020 å¹´ä»£ï¼Œæœ‰äººå› ä¸ºæ²¡æœ‰æ ¸é…¸è¯æ˜ï¼Œæ‰€ä»¥æ— æ³•åŠæ—¶å°±åŒ»è€Œæ­»å»ï¼Œæœ‰äººåˆ©ç”¨è¿™ä¸ªæ—¶æœºå–é«˜ä»·èœï¼Œæœ‰äººä¸ºäº†é€ƒç¦»ä¸Šæµ·ï¼Œä»˜å¤©ä»·å‡ºç§Ÿè½¦è´¹ï¼Œæœ‰äººæµæµªåœ¨ä¸Šæµ·çš„æœºåœºå’Œç«è½¦ç«™æ— æ³•ç¦»å¼€ã€‚æœ¬æ¥æ‰“ç®—ä»…ä»…æŒç»­ä¸¤å‘¨çš„å°é”ï¼Œå˜æˆäº†è¶…è¿‡ 1 ä¸ªæœˆçš„å°é”ã€‚ç²¾å‡†æŠ—ç–«çš„ä¼˜ç­‰ç”Ÿä¸Šæµ·ï¼Œæ­¤æ—¶æˆäº†å˜²ç¬‘å’Œå¿ƒé…¸çš„å¯¹è±¡ã€‚ã€Šå››æœˆä¹‹å£°ã€‹10çš„å„ç§ç‰ˆæœ¬åœ¨å¾®ä¿¡æœ‹å‹åœˆç–¯ä¼ ï¼Œäººä»¬é»˜é»˜è¡¨è¾¾è‡ªå·±çš„ä¸æ»¡ï¼Œå¾ˆå¿«è¿™ä¸ªè§†é¢‘å°±è¢«å¾®ä¿¡å…¨é¢å°æ€ã€‚å½“ç„¶ï¼Œè¿˜æœ‰é‚£ä¸ªæŒ¯è‹å‘è©çš„ ã€Œæˆ‘ä»¬æ˜¯æœ€åä¸€ä»£ã€11ã€‚\nä¸æ­¤åŒæ—¶ï¼Œã€Œæ¶¦å­¦ã€ä¹Ÿæˆä¸ºäº†çƒ­é—¨è¯é¢˜ï¼Œã€Œæ¶¦ã€è¿™ä¸ªå­—ä¹Ÿå±•ç¤ºäº†ä¸­å›½ç½‘æ°‘ä¸€ç§é»‘è‰²çš„å¹½é»˜ï¼Œå®ƒæ˜¯è‹±è¯­å•è¯ run çš„ä¸­æ–‡å‘éŸ³ï¼Œä¸ä¹‹ç›¸å…³çš„åè¯è¿˜æœ‰ã€Œåæ¶¦ä¸‡å®¶ã€12ï¼Œä½ ä¸å¾—ä¸ä½©æœä¸­å›½ç½‘æ°‘çš„è¯™è°ä¸æ™ºæ…§ã€‚æœ‰äººåœ¨ GitHub ä¸Šåˆ›å»ºäº† æ¶¦å­¦ä»“åº“ï¼Œåˆ†äº«ç»éªŒã€‚\nå¥åº·ç ä¸è¡Œç¨‹å¡ # å¥åº·ç ä¹Ÿæ˜¯æ­¤æ¬¡æ–°å† ç–«æƒ…çš„ã€Œå‘æ˜ã€ï¼Œã€Œç»¿ç ã€ä»£è¡¨å®˜æ–¹æ•°æ®åº“è®¤ä¸ºä½ æ˜¯å¥åº·çš„ï¼Œåªè¦æ­£å¸¸åšæ ¸é…¸ï¼Œå¯ä»¥è‡ªç”±å‡ºå…¥å…¬å…±åœºæ‰€ï¼Œã€Œé»„ç ã€ä»£è¡¨å®˜æ–¹æ•°æ®åº“è®¤ä¸ºä½ å’ŒæŸäº›æ–°å† æ„ŸæŸ“è€…æˆ–è€…å¯†åˆ‡æ¥è§¦è€…å‡ºç°çš„åœ°æ–¹æœ‰æ‰€äº¤é›†13ï¼Œã€Œçº¢ç ã€äººå‘˜å®šä¹‰14ï¼š\nç¡®è¯Šç—…ä¾‹å’Œæ— ç—‡çŠ¶æ„ŸæŸ“è€…ã€ç–‘ä¼¼ç—…ä¾‹ã€å¯†åˆ‡æ¥è§¦è€…ã€å¯†åˆ‡æ¥è§¦è€…çš„å¯†åˆ‡æ¥è§¦è€…ã€é›†ä¸­éš”ç¦»äººå‘˜ã€å±…å®¶éš”ç¦»äººå‘˜ã€å¤–çœå¥åº·ç çº¢ç äººå‘˜\næœ‰äº†é»„ç ä»¥åç®€ç›´æ˜¯å¯¸æ­¥éš¾è¡Œï¼Œæ— æ³•åå…¬äº¤ã€åœ°é“ï¼Œåœ¨å°åŒºé—¨å£ä¹Ÿåƒåšè´¼ä¸€æ ·ï¼Œå®³æ€•è‡ªå·±è¢«æ‹’ç»è¿›å…¥å°åŒºï¼Œä»Šå¹´æˆ‘å·²ç» ã€Œæœ‰å¹¸ã€3 æ¬¡è¢«èµ‹äºˆé»„ç ã€‚\n6 æœˆä¸­æ—¬ï¼Œç”±äºå…¬å¸æ‰€åœ¨çš„å†™å­—æ¥¼å‡ºç°ç–«æƒ…ï¼Œæˆ‘çš„å¥åº·ç è¢«èµ‹é»„ç ï¼Œé»„ç äººå‘˜éœ€è¦å»ä¸“é—¨çš„åŒ»é™¢çª—å£æ‰èƒ½æ£€æµ‹ï¼Œæ™®é€šçš„æ ¸é…¸æ£€æµ‹ç‚¹æ— æ³•æµ‹è¯•ã€‚ 8 æœˆä¸‹æ—¬ç›ç”°å‡ºç°ç–«æƒ…ï¼Œæˆ‘åˆä¸€æ¬¡è¢«èµ‹äºˆé»„ç ï¼Œé¡¶ç€å¤§çƒ­å¤©å»é»„ç æ£€æµ‹ç‚¹åšæ ¸é…¸ã€‚ 9 æœˆä¸­æ—¬ï¼Œç¦ç”°å»æ¢…æ—è¡—é“ï¼Œæˆ‘ç¬¬ä¸‰æ¬¡è¢«èµ‹äºˆé»„ç ï¼Œæ²¡æœ‰ä»»ä½•é€šçŸ¥ï¼Œè‡ªå·±å»åšæ ¸é…¸æ£€æµ‹çš„æ—¶å€™ï¼Œæ‰å‘ç°é»„ç äº†ã€‚ å¥åº·ç å°±åƒä¸ªç”µå­é•£é“ï¼Œä¸€æ—¦ä½ æœ‰äº†çº¢ç /é»„ç ï¼Œç®€ç›´å¯¸æ­¥éš¾è¡Œï¼Œåˆ°å“ªéƒ½ä¼šè¢«æ‹’ç»ï¼Œè¿™å¯æ¯”æ–‡é©æ—¶ä»£çš„ä»‹ç»ä¿¡æˆ–è€…è¯æ˜ä¿¡å‰å®³å¤šäº†ï¼Œæ‰€ä»¥å°±æœ‰äº†æ²³å—æ‘é•‡é“¶è¡Œå‚¨æˆ·è¢«ã€Œä¸å°å¿ƒã€çº¢ç çš„æˆç å‡ºç°15ã€‚åé¢ç”šè‡³è¿˜æœ‰æ‰€è°“é­”å¹»çš„ã€Œæ—¶ç©ºä¼´éšè€…ã€16ï¼Œä¸­å›½åœ¨åšè¿™ç§æ— ç”¨åŠŸæ–¹é¢çš„åŠªåŠ›ä¸åˆ›æ–°æ€»æ˜¯è®©äººæ•¬ä½©ã€‚\né€šä¿¡è¡Œç¨‹å¡17æ˜¯æœ¬æ¬¡æ–°å† ç–«æƒ…åˆä¸€å¤§â€œå‘æ˜â€ï¼Œé€šè¿‡æ‰‹æœºé€šä¿¡ï¼ŒAPP ä½¿ç”¨ç­‰ç­‰å¤§æ•°æ®ä¿¡æ¯ï¼Œè‡ªåŠ¨è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä½ ç»è¿‡æ–°å† é«˜é£é™©åœ°åŒºï¼Œè¡Œç¨‹å¡å°±ä¼šå¸¦æ˜Ÿï¼Œæœ‰æ˜Ÿä»¥ååœ¨å›½å†…æ—…è¡Œå°±ä¼šå¼‚å¸¸è‰°éš¾18.\næ–°å† æ­§è§† # ä»Šå¹´çœ‹åˆ°çš„å¦å¤–ä¸€ä»¶äº‹æ˜¯å¯¹æ–°å† æ„ŸæŸ“è€…çš„æ­§è§†ï¼Œä¸€äº›å…¬å¸åœ¨æ‹›äººæ—¶æ˜ç¡®ä¸è¦æ›¾ç»æ„ŸæŸ“æ–°å† çš„äºº19ï¼Œæœ‰çš„äººå› ä¸ºæ›¾ç»æ„ŸæŸ“è¿‡æ–°å† ï¼Œå³ä½¿å·²ç»åº·å¤äº†ï¼Œä¹Ÿæ— æ³•æ‰¾åˆ°åˆé€‚çš„å·¥ä½œã€‚\næ¬¡ç”Ÿç¾å®³ # ç–«æƒ…çš„ç®¡åˆ¶ï¼Œä¹Ÿå¸¦æ¥äº†å¾ˆå¤šã€Œæ¬¡ç”Ÿç¾å®³ã€,ä»¥ä¸‹æ˜¯ä¸å®Œå…¨è®°å½•ã€‚\n2022 å¹´ 9 æœˆ 18 æ—¥ï¼Œè´µå·çœè´µé˜³å¸‚éƒ¨åˆ†å±…æ°‘åœ¨ä¹˜åç–«æƒ…è½¬è¿å¤§å·´æ—¶ï¼Œå¤§å·´å‘ç”Ÿäº‹æ•…ï¼Œå¯¼è‡´ 27 äººæ­»äº¡ï¼Œå¦æœ‰å¤šäººå—ä¼¤20ã€‚ 2022 å¹´ 10 æœˆï¼Œå¤§é‡éƒ‘å·å¯Œå£«åº·å‘˜å·¥ç”±äºå¯Œå£«åº·å›­åŒºç–«æƒ…ï¼Œé€ƒç¦»éƒ‘å·å¯Œå£«åº·ï¼Œå¾’æ­¥è·‹æ¶‰å‡ åå…¬é‡Œå›å®¶21ã€‚ 2022 å¹´ 11 æœˆ 2 æ—¥ï¼Œå…°å·ä¸€ä½ 3 å²å„¿ç«¥ï¼Œæ„å¤–ä¸€æ°§åŒ–ç¢³ä¸­æ¯’ï¼Œç”±äºç–«æƒ…ç®¡åˆ¶ï¼Œæœªèƒ½å¾—åˆ°åŠæ—¶æ•‘æ²»è€Œæ­»äº¡22ã€‚ 2022 å¹´ 11 æœˆ 24 æ—¥ï¼Œæ–°ç–†ä¸€ä½å®…å°åŒºå‘ç”Ÿç«ç¾ï¼Œç”±äºæ¶ˆé˜²é€šé“è¢«é˜»å¡ï¼Œå°åŒºå•å…ƒé—¨è¢«å°é”ç­‰åŸå› ï¼Œå¤§ç«å¯¼è‡´åäººæ­»äº¡23ã€‚ æŠ—è®®ä¸æ”¾å¼€ # æ— ä¼‘æ— æ­¢çš„å¤§é¢ç§¯å°é”äºéš”ç¦»ï¼Œä»¥åŠåŠ¨æ€æ¸…é›¶å¸¦æ¥çš„æ¬¡ç”Ÿç¾å®³ï¼Œç»ˆäºåœ¨ 2022 å¹´ 11 æœˆåº•å¼•èµ·äº†æƒ…ç»ªå¤§çˆ†å‘ï¼Œå…ˆæ˜¯æ–°ç–†éƒ¨åˆ†äººæ°‘èµ°ä¸Šè¡—å¤´ï¼ŒæŠ—è®®å°æ§ï¼Œåæœ‰ä¸Šæµ·æ°‘ä¼—èšé›†åœ¨ ã€Œä¹Œé²æœ¨é½ä¸­è·¯ã€çºªå¿µæ–°ç–†å¤§ç«æ­»å»åŒèƒï¼ŒæŠ—è®®ä¸åˆç†å°æ§ï¼Œåæ¥åˆæœ‰åŒ—äº¬ï¼Œå—äº¬ç­‰åŸå¸‚çˆ†å‘æŠ—è®®æ´»åŠ¨ã€‚\nä¸­å›½æ”¿æ²»çš„é«˜å±‚è¿ä½œä¸€å‘æ˜¯é»‘ç®±æ“ä½œï¼Œä½†æ˜¯è¿™äº›æŠ—è®®ä¸€å®šç»™ä¸Šå±‚å¸¦æ¥äº†è§¦åŠ¨ï¼Œå› ä¸ºæ²¡è¿‡å¤šä¹…ï¼Œæˆ‘ä»¬å°±è¿æ¥äº†æ‰€è°“ ã€Œæ–°åæ¡ã€24:\næ”¾å¼ƒå¼ºåˆ¶é›†ä¸­éš”ç¦»ã€å…è®¸è½»ç—‡åŠæ— ç—‡çŠ¶æ‚£è€…æœ‰æ¡ä»¶å±…å®¶éš”ç¦»ï¼Œä¸å†å±•å¼€å¤§èŒƒåœå…¨å‘˜æ ¸é…¸æ£€æµ‹ï¼ŒåŒæ—¶è¦æ±‚ä¸å¾—é‡‡å–å„ç§å½¢å¼çš„ä¸´æ—¶å°æ§ã€ä¸å†å¯¹è·¨åŒºæµåŠ¨äººå‘˜æŸ¥éªŒæ ¸é…¸é˜´æ€§è¯æ˜å’Œå¥åº·ç ã€‚\nè½¬å‘ä¹‹å¿«ï¼Œä»¤æ‰€æœ‰äººç ç›®ç»“èˆŒï¼Œå› ä¸ºä¸ä¹…ä¹‹å‰ï¼Œå®˜æ–¹è¿˜åœ¨ç†ç›´æ°”å£®å¼ºè°ƒä¸€å®šè¦ ã€ŒåŠ¨æ€æ¸…é›¶ã€ã€‚ä¸“å®¶èˆ†è®ºä¹Ÿå¾ˆå¿«è½¬å‘ï¼Œå¼€å§‹å¹é£ omicron å¹¶ä¸å¯æ€•ï¼Œæ¯”æµæ„Ÿå±å®³è¿˜å°ï¼ŒåŒæ ·çš„ä¸“å®¶åœ¨åŠå¹´å¤šä»¥å‰å¯æ˜¯ä¸€ç›´åœ¨å®£ä¼  omicron çš„ åé—ç—‡çš„ã€‚ä¸€äº›å¤§ v ä¹Ÿå¼€å§‹å…¬å¸ƒè‡ªå·±å¾—äº†æ–°å† ï¼Œå¹¶ä¸”å¼€å§‹åˆ†äº«å…·ä½“çš„è¿‡ç¨‹å’Œæ„Ÿå—ã€‚\néšç€æ–°åæ¡å…¬å¸ƒï¼Œæ ¸é…¸æ£€æµ‹åŸºæœ¬ä¸Šç§°ä¸ºè¿‡å»å¼ï¼Œéå¸ƒæ·±åœ³çš„æ ¸é…¸æ£€æµ‹äº­åŸºæœ¬ä¸Šè¢«æ’¤æ‰äº†ï¼Œæˆ‘ä»¬åŠå…¬æ¥¼å’Œå°åŒºé—¨å£çš„ã€Œç”µå­å“¨å…µã€ä¹Ÿè¢«æ‚„æ‚„æ’¤èµ°æˆ–è€…å…³é—­ã€‚\nå¤§æ„ŸæŸ“ä¸å¼€æ”¾å›½é—¨ # åœ¨ 2022 å¹´ 12 æœˆåˆçš„å¼€æ”¾ä¹‹åï¼Œæ–°å† çš„æµè¡Œå·²ç»æ˜¯æ¿ä¸Šé’‰é’‰ï¼Œæœ€å¼€å§‹å¤§è§„æ¨¡æ„ŸæŸ“çš„æ˜¯åŒ—äº¬ï¼Œæœ‹å‹åœˆé‡Œå¾ˆå¤šåœ¨åŒ—äº¬çš„äººéƒ½æœ€å…ˆè¢«æ„ŸæŸ“ã€‚åˆ°äº† 12 æœˆä¸­æ—¬ï¼Œæ·±åœ³ä¹Ÿå¼€å§‹äº†å¤§æµè¡Œï¼Œç”±äºä¹‹å‰æ„šè ¢çš„é›†ä¸­æ”¶æ²»ä¸ç¦æ­¢æ°‘ä¼—è‡ªå·±æ²»ç–—è‡ªå·±çš„æ”¿ç­–ï¼Œä»¥åŠæ”¿ç­–çš„çªç„¶ 180 åº¦å¤§è½¬å˜ï¼Œæ‰€æœ‰çš„å‡†å¤‡æªæ–½éƒ½æ²¡åšï¼Œæ‰€æœ‰å’Œæ„Ÿå†’å‘çƒ§ç›¸å…³çš„è¯å“éƒ½æåº¦ç´§ç¼ºï¼Œå¸ƒæ´›èŠ¬ï¼Œå¯¹ä¹™é…°èƒºåŸºé…šç­‰æ²»ç–—æ„Ÿå†’å‘çƒ§çš„è¯å“åœ¨è¯åº—åŸºæœ¬ä¸Šå·²ç»ä¹°ä¸åˆ°äº†ï¼Œè¿æ¸©åº¦è®¡éƒ½ä¸å¥½ä¹°åˆ°äº†ã€‚\næˆ‘åœ¨ 2022 å¹´ 12 æœˆ 18 æ—¥å·¦å³è¢«æ„ŸæŸ“ï¼Œä¸è¿‡ç—‡çŠ¶æ¯”è¾ƒè½»å¾®ï¼Œå‘çƒ§ 2-3 å¤©ï¼Œåƒäº†å‡ ç‰‡è¯å°±é€€çƒ§äº†ï¼Œåç»­æœ‰ä¸€äº›å’³å—½å’Œé¼»å¡ï¼Œå¹¶ä¸”å—…è§‰å’Œå‘³è§‰æœ‰ä¸€å®šç¨‹åº¦çš„ä¸§å¤±ã€‚\nè™½ç„¶æ„ŸæŸ“äººæ•°åœ¨ä¸æ–­å¢åŠ ï¼Œä¸­å›½å®˜æ–¹å…¬å¸ƒçš„æ„ŸæŸ“è€…ä»¥åŠæ–°å† æ­»äº¡äººæ•°å´ç»´æŒæä½æ°´å¹³ï¼Œåé¢å¹²è„†ä¸å…¬å¸ƒæ•°æ®äº†ã€‚ç„¶è€Œå„ç§æ•°æ®éƒ½è¡¨æ˜ï¼Œè¿™æ¬¡çš„ omicron ç—…æ¯’æµè¡Œï¼Œä»æœ‰å¤§æ‰¹è€å¹´äººæ­»äº¡ï¼ŒåŒ—äº¬å¤§å­¦å’Œæ¸…åå¤§å­¦çš„è®£å‘Šç›¸å¯¹äºå¾€å¹´éƒ½å¤šäº†èµ·æ¥25ï¼Œç”šè‡³æ®¡ä»ªé¦†ç«åŒ–éƒ½è¦ç­‰å¾…æ‰èƒ½æ’ä¸Šä½ç½®26ã€‚\n2022 å¹´ 12 æœˆ 26 æ—¥æ™šï¼Œä¸­å›½å®£å¸ƒå°†äº 2023 å¹´ 1 æœˆ 8 æ—¥èµ·ï¼Œå–æ¶ˆå…¥å¢ƒéš”ç¦»æ”¿ç­–ï¼Œæ¥ååªéœ€ 48 å°æ—¶æ ¸é…¸é˜´æ€§å³å¯27ã€‚\nå‚è€ƒ # æ·±åœ³å¸‚å«å¥å§”ï¼šhttp://wjw.sz.gov.cn/yqxx/index_45.html https://rfi.my/5uVU\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://zh.wikipedia.org/wiki/%E6%9D%8E%E6%96%87%E4%BA%AE\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://www.gov.cn/zhengce/content/2020-01/27/content_5472352.htm\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://www.gov.cn/xinwen/2021-01/30/content_5583680.htm\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.rfa.org/mandarin/yataibaodao/huanjing/sc-04142022163928.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.rfa.org/mandarin/Xinwen/3-11262022091617.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://zh.m.wikipedia.org/zh-sg/2021%EF%BC%8D2022%E5%B9%B4%E8%A5%BF%E5%AE%89%E5%B8%822019%E5%86%A0%E7%8A%B6%E7%97%85%E6%AF%92%E7%97%85%E8%81%9A%E9%9B%86%E6%80%A7%E7%96%AB%E6%83%85\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.chinanews.com.cn/cj/2021/10-24/9594024.shtml\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.rfa.org/mandarin/yataibaodao/huanjing/cm-08092022133502.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.youtube.com/watch?v=38_thLXNHY8\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://rfi.my/8Pbq\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://jikipedia.com/definition/64018647\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nè¿™é‡Œæœ‰å¹¿å·æ”¿åºœçš„æƒå¨è§£è¯»ï¼šhttps://web.archive.org/web/20220824030630/https://www.gz.gov.cn/zt/qlyfdyyqfkyz/gzzxd/content/post_8208969.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://zfsg.gd.gov.cn/hdjl/yss/content/post_3911010.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://web.archive.org/web/20220622132102/http://henan.people.com.cn/n2/2022/0622/c351638-40006688.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.yueyang.gov.cn/ztxx/63082/66503/content_1923716.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://zh.wikipedia.org/wiki/%E9%80%9A%E4%BF%A1%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%A1%8C%E7%A8%8B%E5%8D%A1\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://web.archive.org/web/20220907034831/http://www.163.com/dy/article/HB23I7FR0518TVP7.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://p.dw.com/p/4FPll\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://zh.wikipedia.org/zh-hk/2022%E5%B9%B4%E8%B4%B5%E5%B7%9E%E7%9C%81%E4%B8%89%E9%83%BD%E5%8E%BF%E5%AE%A2%E8%BD%A6%E4%BE%A7%E7%BF%BB%E4%BA%8B%E6%95%85\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://p.dw.com/p/4ItYI\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://p.dw.com/p/4IxiL\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.bbc.com/zhongwen/simp/chinese-news-63755840\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://p.dw.com/p/4Kesb\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://redian.news/wxnews/191594\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://rfi.my/8zhN\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://rfi.my/91CB\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"25 July 2022","externalUrl":null,"permalink":"/2022/07/25/under_the_shadow_of_covid/","section":"Posts","summary":"\u003cp\u003eåºï¼šæœ‰æ„Ÿäºæ— ä¼‘æ— æ­¢çš„æ ¸é…¸æ£€æµ‹ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å†™ç‚¹ä»€ä¹ˆï¼Œè®°å½•ä¸‹æ­£åœ¨å‘ç”Ÿçš„å’Œå·²ç»å‘ç”Ÿçš„å†å²ã€‚\u003c/p\u003e\n\u003cp\u003eå¾ˆå¤šå¹´åï¼Œå›è¿‡å¤´çœ‹ 2020 å¹´ 1 æœˆï¼Œæˆ‘ä»¬æ— æ³•é¢„æ–™åˆ° Covid19 ç«Ÿç„¶å¯¹äººç±»ç¤¾ä¼šé€ æˆäº†å¦‚æ­¤å¤§çš„å½±å“ã€‚\u003c/p\u003e","title":"åœ¨ç–«æƒ…çš„é˜´å½±ä¸‹ (My Life under the Shadow of Covid19)","type":"posts"},{"content":"å·¥ä½œçš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ\nå·¥ä½œä¸ºäº†ä»€ä¹ˆï¼Œé’±å½“ç„¶æ˜¯é‡è¦çš„ï¼Œä½†ä¹Ÿä¸æ˜¯å”¯ä¸€çš„ï¼Œé’±å¤šä¹Ÿä¸ä¸€å®šä¼šåœ¨å…¬å¸å¾…çš„èˆ’æœï¼Œæˆ‘ä¼šè§‰å¾—æˆå°±æ„Ÿå’Œåˆä½œæ„Ÿä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼Œå¦‚æœå’ŒåŒäº‹åˆä½œåšä¸€ä¸ªé¡¹ç›®ï¼Œç»å¸¸æœ‰è®¨è®ºï¼Œå…±åŒæ¥å®Œæˆä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘è§‰å¾—ä¹Ÿæ˜¯å¾ˆå¼€å¿ƒçš„ï¼Œè®¨åŒé‚£ç§å•äººé¡¹ç›®ï¼Œé¡¹ç›®ä¸­æ‰€æœ‰çš„ä¸œè¥¿å’Œå†³å®šéƒ½æ˜¯è‡ªå·±æ¥å®Œæˆï¼Œåšä¸ªå¯‚å¯ï¼Ÿ\nçæƒœè‡ªå·±çš„æ—¶é—´ã€‚ä¸è¦è¢«æ´—è„‘ï¼Œè§‰å¾—åªè¦å‹¤å¥‹å·¥ä½œå°±è¡Œäº†ï¼Œä½æ•ˆçš„åŠ ç­åªä¼šè®©å¤§è„‘ç–²æƒ«ï¼Œå¹¶ä¸ä¼šå¢åŠ ä½ çš„æ™ºæ…§ï¼Œä¸è¦ä¸€ç›´åšé‡å¤åŠ³åŠ¨å’Œä½“åŠ›åŠ³åŠ¨ã€‚äººçš„å¤§è„‘æ˜¯éœ€è¦ä¼‘æ¯çš„ï¼Œé•¿æœŸåŠ ç­åªä¼šè®©æˆ‘ä»¬å¤„äºéº»æœ¨ï¼Œé€æ¸ä¸§å¤±æ€è€ƒï¼Œç”šè‡³äº§ç”Ÿå¯¹ç”Ÿæ´»çš„åŒå€¦ï¼Œå¯¹ä»€ä¹ˆéƒ½æä¸èµ·å…´è¶£ã€‚è¿™æ ·ä¸‹æ¥ï¼Œæˆ‘ä»¬å·¥ä½œçš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼ŒåƒçŒªä¸€æ ·æ´»ç€å—ï¼Ÿ\næˆ‘æ‚²å“€åœ°å‘ç°è‡ªå·±å·²ç»è¢«åŠ ç­çš„æ–‡åŒ–å½»åº•æ´—è„‘ï¼Œå½“è‡ªå·±æ¯å¤©æ—©èµ°çš„æ—¶å€™ï¼Œéƒ½åƒåšè´¼ä¸€æ ·ï¼Œå¥½åƒæˆ‘åšäº†ä¸€ä»¶åäº‹ï¼Œè¿™æ˜¯å¤šä¹ˆå¯æ€œçš„äº‹æƒ…ã€‚å½“ä¸€ä¸ªå…¬å¸ä¸€ç›´å‘ä½ å¼ºè°ƒä½ è¦ä»˜å‡ºï¼Œä½ è¦åŠªåŠ›ï¼Œä¸€å®šä¸è¦è¢«æ¬ºéª—ï¼Œé—®é—®è‡ªå·±ï¼Œä½ æ˜¯å¿«ä¹çš„å—ï¼Ÿä½ æ˜¯å¦æ„¿æ„è¿™æ ·ä¸‹å»ï¼Ÿ\næ¯è¿‡ä¸€æ®µæ—¶é—´ï¼Œé—®é—®è‡ªå·±ï¼Œä½ æ˜¯å¦ä¸ºè‡ªå·±æ‰€åšçš„ä¸œè¥¿æ„Ÿåˆ°è‡ªè±ªå’Œæœ‰æˆå°±æ„Ÿï¼Ÿç›®å‰çš„å·¥ä½œæ˜¯å¦è®©ä½ æ„Ÿè§‰å¼€å¿ƒï¼Ÿå¦‚æœä½ ä¸åœ¨æœ€ä½³çŠ¶æ€ï¼Œä½ èƒ½åˆ›é€ å‡ºä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿ\næˆ‘å¿ƒä¸­çš„â€œå¥½å…¬å¸â€ï¼š\nå·¥ä½œæ—¶é—´çµæ´»ï¼Œä¸ä¼šè€—åœ¨å…¬å¸å‡è£…åŠªåŠ› å…³å¿ƒå‘˜å·¥çš„èŒä¸šå‘å±•ï¼Œä¸ä¼šæ‹¼å‘½å‹æ¦¨ æœ‰æ—¶é—´å»å­¦ä¹ æ–°ä¸œè¥¿ï¼Œå»æˆé•¿ï¼Œä¸ä¼šä¸€ç›´å¿™äºä¸šåŠ¡ å¼€ä¼šè¦å°‘ï¼Œå¾ˆå¤šä¼šé•¿æ—¶é—´æµªè´¹å‚ä¸è€…æ—¶é—´ï¼Œæ²¡æœ‰ä»»ä½•ç”¨ è–ªæ°´è¾¾åˆ°å¹³å‡æ°´å¹³ï¼Œä¸ä¸€å®šæœ€é«˜ References # work is not your friend: https://www.youtube.com/watch?v=52pdPQHDKho ","date":"7 July 2022","externalUrl":null,"permalink":"/2022/07/07/thought_on_working/","section":"Posts","summary":"\u003cp\u003eå·¥ä½œçš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ\u003c/p\u003e","title":"æˆ‘ä»¬ä¸ºä½•å·¥ä½œï¼Ÿ","type":"posts"},{"content":"Recently the nvim 0.7.2 version is released following the 0.7.0 release two months ago. Here are some of the updates in 0.7.0.\nPython 2 support is removed # Python 2 support is dropped since nvim 0.7.0. So command :py and :py3 works the same now.\nMappings # there is a new vim.keymap.set() interface, where you can set mapping for multiple modes at the same time. support desc field for mappings, which is used to describe what the mapping does. Check this commit. Easier inspection of lua table # we can use :lua =expr: quickly print the value of an expression, e.g., :lua =vim will print the vim table. The function vim.pretty_print() can print lua tables nicely. Use vim.pretty_print() to show the content of a lua object Autocmd in lua # You can now use native lua function to create autocmd in Lua, no more vim.cmd() hack. See :h nvim_create_automcmd for the details.\nCreate command in lua # You can now create command in lua via function nvim_create_user_command().\nFiletype.lua # The old way of detecting filetypes from vim is slow. So the new filetype.lua is introduced to reduce the time. TL;DR, add the following config to init.vim\n\u0026#34; use filetype.lua instead of filetype.vim let g:do_filetype_lua = 1 let g:did_load_filetypes = 0 or use\nvim.g.do_filetype_lua = 1 vimg.did_load_filetypes = 0 if you use init.lua.\nGlobal statusline # Want to use a single statusline for all the windows? Now it is possible, with the following setting:\nset laststatus=3 References # https://neovim.io/news/2022/04 https://gpanders.com/blog/whats-new-in-neovim-0-7/ Hacker News discussion: https://news.ycombinator.com/item?id=31039569 ","date":"29 June 2022","externalUrl":null,"permalink":"/2022/06/29/nvim_v07-release/","section":"Posts","summary":"\u003cp\u003eRecently the \u003ca href=\"https://github.com/neovim/neovim/commit/e8ee6733926db83ef216497a1d660a173184ff39\" target=\"_blank\"\u003envim 0.7.2 version\u003c/a\u003e is released following the \u003ca href=\"https://github.com/neovim/neovim/releases/tag/v0.7.0\" target=\"_blank\"\u003e0.7.0 release\u003c/a\u003e two months ago.\nHere are some of the updates in 0.7.0.\u003c/p\u003e","title":"Nvim 0.7.2 Released","type":"posts"},{"content":" update log 2022-10-12: add fake data generation website. 2022-10-11: add TUI client for MySQL and Postgres. 2022-09-24: add sample database we can try. In this post, I will talk about setting up SQL databases and also the tools needed to write SQL queries.\nInstall and set up SQL # MySQL install and setup # Install using HomeBrew:\nbrew install mysql Start and stop the MySQL server:\nbrew services start mysql brew services stop mysql Connect to MySQL server in macOS # Host: localhost Port: 3306 Username: root Postgres install # Install using HomeBrew:\nbrew install postgresql Start and stop the postgres server:\nbrew services start postgresql brew services stop postgresql Connect to postgres server in macOS # Host: localhost Database: postgres Username: jdhao No password is needed.\nTry sql online # If you do not want to install and just want to experiment with different SQL databases, there some several website where you can use the databases online:\nhttps://dbfiddle.uk/ (very good site, you can run multiple SQL queries at the same time) db-fiddle: https://www.db-fiddle.com/ sqliteonline: https://sqliteonline.com/ (supports SQLite, MariaDB, PostgreSQL, MS SQL) w3school: https://www.w3schools.com/Sql/trysql.asp?filename=trysql_select_like_not (it provides some sample tables to try sql) Database to play with # Sample database # There are some sample databases with multiple tables so that we can toy with them easily.\nnorthwind database: https://github.com/dalers/mywind https://github.com/harryho/db-samples sakila database: https://github.com/ivanceras/sakila chinook database: https://github.com/lerocha/chinook-database Ref:\nmentioned sqliteonline and chinook database: https://www.youtube.com/watch?v=DVllkQtabNE Generate fake data # We can also use some online data generation tool to generate fake data:\nmockaroo: https://www.mockaroo.com/ https://generatedata.com/ I tried both and they work well.\nTUI client # You can use the MySQL and PostgreSQL executable to interact with databases on the command line. However, they do not support autocompletion or syntax highlighting. There are some 3rd party SQL client with auto-completion and syntax highlighting features:\nmycli: TUI client for MySQL. pgcli: TUI client for Postgres. GUI client # Most people will probably choose a GUI client to work with the databases.\nMysql workbench # Mysql workbench is a GUI application to help us manage mysql server more easily.\nPgadmin # If you use PostgreSQL, you can try Pgadmin 4, which is specifically built for Postgres. However, some people say the UX sucks.\nPostico # Postico is a lightweight tool built for Postgres. Simple interface, non-free, no auto-completion.\nDatagrip # Datagrip is developed my JetBrains and it is not free. It has support for all kinds of databases.\nIt has autocompletion for SQL keywords, functions, table names, and column names etc. Highly recommended, intelligent and very good user experience.\nDBeaver # DBeaver is an open source database client.\nIt also has autocompletion, but it is not as powerful as Datagrip.\nChange keyword case in DBeaver: https://stackoverflow.com/a/60854946/6064933\nBeeKeeper Studio # BeeKeeper is another database client.\nNo autocompletion, very simple GUI, less features than DBeaver and Datagrip. Not recommended.\nTable plus # Table plus is a commercial product that supports a lot of databases. The interface is clean and easy to use.\nRequires a license, otherwise very limited feature available.\n","date":"4 June 2022","externalUrl":null,"permalink":"/2022/06/04/sql_from_scratch_for_ml_s2/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-10-12: add fake data generation website.\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-10-11: add TUI client for MySQL and Postgres.\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-09-24: add sample database we can try.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I will talk about setting up SQL databases and also the tools needed to write SQL queries.\u003c/p\u003e","title":"Learning SQL from Scratch(2): Setup and Preparations","type":"posts"},{"content":"As a machine learning engineer who mainly deals with vision-based projects, I have little opportunity in my work to actually use SQL (Structured Query Language.). Even when I need it, I often just ask the data engineers for a favor.\nHowever, I thought it would be an essential skill to learn even if I do not need it for now.\nWhy do machine learning engineers needs SQL? # It really depends on what kind of data you are dealing with. If you are doing traditional machine learning, for example, recommendation, ranking, the raw data will probably be stored in databases, and you will need SQL for data wrangling.\nIf you are working on computer vision, audio signal recognition etc., you may not need to know SQL, but it depends.\nRef:\nhttps://www.quora.com/Is-learning-SQL-necessary-for-machine-learning https://www.quora.com/Why-did-Google-name-SQL-the-number-one-skill-for-machine-learning-engineers https://www.quora.com/How-much-SQL-do-you-need-as-an-AI-engineer Which SQL databases should we use? # When it comes to the actual SQL databases, there are a lot of SQL databases out there.\nMySQL: It is a client-server RDBMS. It has more features than sqlite. Now development led by people from Oracle. PostgresSQL: Another RDMBS. It has more advanced feature and it is open source. SQLite: It is an embeddable DBMS. It is small and use local files. Can not handle large-scale requests and tera-bytes of data. Microsoft SQL server: It is a commercial software. Oracle SQL: It is also a commercial software. All these different databases support some of the common SQL syntax, but they may have their own extended syntax.\nIf you like open source, PostgreSQL and MySQL is a good choice. According to the DB ranking, Postgres and MySQL are ranked 4th and 2nd in the RDBMS. Postgresql seems to support more standard SQL syntax than mysql, but much of the knowledge is transferable between the two.\nPractically, we can learn MySQL or PostgreSQL, but it seems that Postgres have more detailed documentations. I also give some links discussing the differences between different databases below.\nref:\nhttps://www.digitalocean.com/community/tutorials/sqlite-vs-mysql-vs-postgresql-a-comparison-of-relational-database-management-systems MySql vs sqlite: https://stackoverflow.com/q/4813890/6064933 sqlite faster than Mysql? https://stackoverflow.com/q/29452110/6064933 Mysql vs postgresql: https://stackoverflow.com/a/4059569/6064933 https://www.reddit.com/r/learnprogramming/comments/pbzrjp/which_db_should_i_learn_mysql_or_postgresql/ https://www.ibm.com/cloud/blog/postgresql-vs-mysql-whats-the-difference ","date":"4 June 2022","externalUrl":null,"permalink":"/2022/06/04/sql_from_scratch_for_ml_s1/","section":"Posts","summary":"\u003cp\u003eAs a machine learning engineer who mainly deals with vision-based projects,\nI have little opportunity in my work to actually use SQL (Structured Query Language.).\nEven when I need it, I often just ask the data engineers for a favor.\u003c/p\u003e\n\u003cp\u003eHowever, I thought it would be an essential skill to learn even if I do not need it for now.\u003c/p\u003e","title":"Learning SQL from Scratch(1): Do We Even Need to Start?","type":"posts"},{"content":"I saw a post from stackoverflow asking why his logger does not work as expect? The code is like:\nimport logging logger = logging.getLogger() logger.info(\u0026#34;some message\u0026#34;) There is no message coming out. Okay, let\u0026rsquo;s check the level of this logger:\nprint(logger.level) # output is 30 (logging.WARNING) Then we can just change its level to DEBUG, it will certain work, right?\nlogger.setLevel(logging.DEBUG) However, still no output! W*F, what happened?\nAccording to official doc, if you do not set an explicit handler for the logger, a special handler called lastResort will be used. See the code here. By default the logging level of lastResort (it is stream handler) is 30. We can change its level to output info message.\n# setting both the logger and handler\u0026#39;s level will work as expected. logger.setLevel(logging.DEBUG) logging.lastResort.setLevel(logging.DEBUG) However, this is like a hack and never an encouraged solution.\nUsing logging.basicConfig() # If we want to do logging real quick, we can use the method logging.basicConfig.\nlogging.basicConfig(level=logging.DEBUG) This will create the logger. The logger.level will be the level we set here. Without a level param, the default level for root logger is WARNING.\nA stream handler will be also created, with level NOTSET. This can be verified by printing the logger\u0026rsquo;s handlers:\nprint(logger.handlers) # you will see: [\u0026lt;StreamHandler \u0026lt;stderr\u0026gt; (NOTSET)\u0026gt;] reference # logger logging without handler: https://stackoverflow.com/q/64570918/6064933 ","date":"27 May 2022","externalUrl":null,"permalink":"/2022/05/27/logging_without_handlers_python/","section":"Posts","summary":"\u003cp\u003eI saw a post from stackoverflow asking why his logger does not work as expect?\nThe code is like:\u003c/p\u003e","title":"What Happened When Logging without Handlers in Python","type":"posts"},{"content":"","date":"26 May 2022","externalUrl":null,"permalink":"/tags/3d/","section":"Tags","summary":"","title":"3D","type":"tags"},{"content":"In this post, I want to share how to generate ply files in Python.\nOpen3D # We can use open3d. We can use pip to install it:\npip install open3d For CentOS 7, I met error when installing the latest version:\n/lib64/libc.so.6: version `GLIBC_2.18\u0026rsquo; not found\nA workaround is to use older versions:\npip install open3d==0.9.0 See also issue here for more discussions.\nBelow is is a simple snippet showing to read and write ply files using open3d.\nimport numpy as np import open3d as o3d def main(): pts = np.random.randint(0, 100, (100, 3)) # whether to write in binary or text format write_text = True # use open3d use_o3d(pts, write_text) def use_o3d(pts, write_text): pcd = o3d.geometry.PointCloud() # the method Vector3dVector() will convert numpy array of shape (n, 3) to Open3D format. # see http://www.open3d.org/docs/release/python_api/open3d.utility.Vector3dVector.html#open3d.utility.Vector3dVector pcd.points = o3d.utility.Vector3dVector(pts) # http://www.open3d.org/docs/release/python_api/open3d.io.write_point_cloud.html#open3d.io.write_point_cloud o3d.io.write_point_cloud(\u0026#34;my_pts.ply\u0026#34;, pcd, write_ascii=write_text) # read ply file pcd = o3d.io.read_point_cloud(\u0026#39;my_pts.ply\u0026#39;) # visualize # o3d.visualization.draw_geometries([pcd]) Summary: powerful features and good documentation.\nRef:\nCreate ply using open3d https://stackoverflow.com/a/62989523/6064933 https://stackoverflow.com/q/71233749/6064933 Pyntcloud # We can also use pyntcloud:\npip install pyntcloud Unlike open3d, for Pyntcloud, we need to convert Numpy array to Pandas data frames. Here is an example how to use Pyntcloud:\nimport pandas as pd from pyntcloud import PyntCloud def use_pyntcloud(pts, write_text): # ref: https://pyntcloud.readthedocs.io/en/latest/io.html # the doc is scarce and not complete n = len(pts) # The points must be written as a dataframe, # ref: https://stackoverflow.com/q/70304087/6064933 data = {\u0026#39;x\u0026#39;: pts[:, 0], \u0026#39;y\u0026#39;: pts[:, 1], \u0026#39;z\u0026#39;: pts[:, 2], \u0026#39;red\u0026#39;: np.random.rand(n), \u0026#39;blue\u0026#39;: np.random.rand(n), \u0026#39;green\u0026#39;: np.random.rand(n) } # build a cloud cloud = PyntCloud(pd.DataFrame(data)) # the argument for writing ply file can be found in # https://github.com/daavoo/pyntcloud/blob/7dcf5441c3b9cec5bbbfb0c71be32728d74666fe/pyntcloud/io/ply.py#L173 cloud.to_file(\u0026#39;my_pts2.ply\u0026#39;, as_text=write_text) # read file cloud = PyntCloud.from_file(\u0026#39;my_pts2.ply\u0026#39;) # print(cloud) Summary: the documentation is terrible and lacking.\nPython-plyfile # Another package is called Python-plyfile (pip install plyfile). Here is how to use it:\nfrom plyfile import PlyData, PlyElement # use python-plyfile use_plyfile(pts, write_text) def use_plyfile(pts, write_text): x, y, z = pts[:, 0], pts[:, 1], pts[:, 2] pts = list(zip(x, y, z)) # the vertex are required to a 1-d list vertex = np.array(pts, dtype=[(\u0026#39;x\u0026#39;, \u0026#39;f4\u0026#39;), (\u0026#39;y\u0026#39;, \u0026#39;f4\u0026#39;), (\u0026#39;z\u0026#39;, \u0026#39;f4\u0026#39;)]) el = PlyElement.describe(vertex, \u0026#39;vertex\u0026#39;) PlyData([el], text=write_text).write(\u0026#39;my_pts3.ply\u0026#39;) Summary: Not intuitive API design, at least for writing a ply file.\nMeshio # Meshio (pip install meshio) can also do this:\nimport numpy as np import meshio vertices = np.random.rand(100, 3) meshio.write(\u0026#34;test.ply\u0026#34;, mesh=meshio.Mesh(points=vertices, cells = []), binary=False) Summary: no doc, hard to use. I need to check source code to know its parameters.\nReferences # Python plyfile vs pymesh: https://stackoverflow.com/q/36920562/6064933 ","date":"26 May 2022","externalUrl":null,"permalink":"/2022/05/26/read_write_ply_file_python/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how to generate \u003ca href=\"https://en.wikipedia.org/wiki/PLY_%28file_format%29\" target=\"_blank\"\u003eply files\u003c/a\u003e in Python.\u003c/p\u003e","title":"How To Read and Write ply File in Python","type":"posts"},{"content":"As a long time nvim user, I am learning Lua and slowly transition my nvim config to lua. In this script, I will share some tips and lessons I have learned the hard way.\nThe colon operator # In Lua code, we may see the colon operator followed by some object method. For example, if we have a string x and want to find the length of this string. In Python, we do x.len(), but this will be an error in Lua:\nError stdin:1: bad argument #1 to 'len' (string expected, got no value) stack traceback: [C]: in function 'string.len' stdin:1: in main chunk [C]: in ? In Lua, we need to use x:len() (or you can use string.len(x) like len(x) in Python):\nx = \u0026#39;foo bar\u0026#39; x.len() --\u0026gt; this is an error x:len() --\u0026gt; works without errors x is of type string, when we use x.len(), if it does not exist, lua will look at the metatable of x and find the __index key. The metatable of x is like this:\n{ __index = { byte = \u0026lt;function 1\u0026gt;, char = \u0026lt;function 2\u0026gt;, dump = \u0026lt;function 3\u0026gt;, find = \u0026lt;function 4\u0026gt;, format = \u0026lt;function 5\u0026gt;, gmatch = \u0026lt;function 6\u0026gt;, gsub = \u0026lt;function 7\u0026gt;, len = \u0026lt;function 8\u0026gt;, lower = \u0026lt;function 9\u0026gt;, match = \u0026lt;function 10\u0026gt;, rep = \u0026lt;function 11\u0026gt;, reverse = \u0026lt;function 12\u0026gt;, sub = \u0026lt;function 13\u0026gt;, upper = \u0026lt;function 14\u0026gt; } } It will then execute the function corresponding to key len. However, since function len() requires an argument, so we get the above error.\nIf we instead use x:len(), we are implicitly pass x itself as the first argument:\nA call v:name(args) is syntactic sugar for v.name(v,args), except that v is evaluated only once.\nSo we are actually using x.len(x). In fact, if we use x.len(x), it works perfectly fine.\nRef:\nLua has no class but dot operator?: https://stackoverflow.com/q/44522241/6064933 Lua: When is it possible to use colon syntax?: https://stackoverflow.com/q/33052241/6064933 https://docs.coronalabs.com/tutorial/basics/colonDotOperators/index.html The difference between defining function with colon and dot # As discussed in the above section, when we use colon operator in Lua, we are implicitly passing the object itself (called self) to the function.\nSuppose we want to implement a string function to concatenate two strings, we can use both the dot and colon operators. But the function signature will be a little different:\nlocal x = \u0026#34;hello world\u0026#34; function string.add1(str1, str2) print(string.format(\u0026#34;str1: %s, str2: %s\u0026#34;, str1, str2)) return string.format(\u0026#34;%s%s\u0026#34;, str1, str2) end function string:add2(s) print(string.format(\u0026#34;str1: %s, str2: %s\u0026#34;, self, s)) return string.format(\u0026#34;%s%s\u0026#34;, self, s) end print(x:add1(\u0026#34;abc\u0026#34;)) print(x:add2(\u0026#34;abc\u0026#34;)) In this example, if we use dot operator, we must explicitly provide the two parameters. For the colon operator, the first string is implicitly provided as self, which you can access in the function body. So this function has only one parameter.\nIf you run the code, their result will be exactly the same.\nRef:\nLua: colon notation, \u0026lsquo;self\u0026rsquo; and function definition vs. call: https://stackoverflow.com/q/32080972/6064933 The weirdness of Lua REPL # If we have the following code in test.lua:\nlocal x = 1 print(x) it will print out 1, not nil. Expected result, nothing special.\nIn the Lua REPL, if we type the following command:\n\u0026gt; local x = 1 \u0026gt; print(x) the output is surprisingly nil, not 1! Crazy, isn\u0026rsquo;t it?\nThe reason is that in Lua REPL, each line is treated as a block. Basically, a block is an area where a variable is visible. Local variables only work in that block. For example, the following works:\n\u0026gt; local x = 1; print(x) This is because when lua execute a file, it treat the file as a block, so local variable x does not expire in the next line. Actually we can manually create a block in lua file with do ... end (see doc here).\nIt is a little weird, but that is how lua REPL works.\nRef:\nhttps://stackoverflow.com/a/33155461/6064933 https://stackoverflow.com/a/2835433/6064933 In Lua, both 0 and empty string is true # Unlike Python and other programming languages, both 0 and empty string is considered true in lua1, which is weird. In Lua, only false and nil is considered false.\nif \u0026#39;\u0026#39; then print(\u0026#39;empty str is true\u0026#39;) else print(\u0026#39;empty str is false\u0026#39;) end if 0 then print(\u0026#39;zero is true\u0026#39;) else print(\u0026#39;zero is false\u0026#39;) end If you run the above code, you will get the following output:\nempty str is true zero is true Lua table index starts from 1, not 0 # This feature trips me really hard and I ended up debugging my code for nearly half of an hour. So if we have a table local a = {1, 2, 3}, the first element will be a[1] not a[0].\nI have repeated forgotten this and made mistakes.\nRef:\nhttps://stackoverflow.com/q/2785704/6064933 http://www.cs.utexas.edu/~EWD/ewd08xx/EWD831.PDF Why use parentheses around literal strings when call its method? # If you use a literal string and want to call string method, you need to wrap the string with parentheses. This is how the Lua syntax works.\nRight: print((\u0026quot;hello\u0026quot;):len()) Wrong: print(\u0026quot;hello\u0026quot;:len()) Ref:\nhttps://stackoverflow.com/q/48143667/6064933 https://www.lua.org/pil/2.2.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 May 2022","externalUrl":null,"permalink":"/2022/05/21/lua-learning-for-nvim/","section":"Posts","summary":"\u003cp\u003eAs a long time nvim user, I am learning Lua and slowly transition my nvim config to lua.\nIn this script, I will share some tips and lessons I have learned the hard way.\u003c/p\u003e","title":"Lua Learning Notes","type":"posts"},{"content":"When running apt-get update inside Ubuntu 18.04, I have the following error:\nW: GPG error: https://developer.download.nvidia.cn/compute/cuda/repos/ubuntu1804/x86_64 InRelease: The following signatures couldn\u0026rsquo;t be verified because the public key is not available: NO_PUBKEY A4B469963BF863CC\nE: The repository \u0026lsquo;https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64 InRelease\u0026rsquo; is no longer signed.\nN: Updating from such a repository can\u0026rsquo;t be done securely, and is therefore disabled by default.\nN: See apt-secure(8) manpage for repository creation and user configuration details.\nThis is because Nvidia is changing their public keys for their repositories, see the details here. The instructions in the original post does not work for me. I still see errors after running the command. Since I am building a Docker image, I followed the instructions here and it works:\nRUN rm /etc/apt/sources.list.d/cuda.list RUN rm /etc/apt/sources.list.d/nvidia-ml.list RUN apt-key del 7fa2af80 RUN apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86_64/3bf863cc.pub RUN apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1804/x86_64/7fa2af80.pub The two rm commands are crucial to fix the issue. The directory /etc/apt/sources.list.d/ stores the apt repository list for some packages, so that you do not need to touch the main source list file /etc/apt/sources.list. Files under this directory has the same format as the main sources.list file, and they are usually added by automated tools.\nThe command apt-key del 7fa2af80 will delete the old public key for Nvidia. The apt-key adv --fetch-keys commands is used to add the new public keys for Nvidia.\nreferences # The use of directory sources.list.d https://stackoverflow.com/a/26021071/6064933 https://stackoverflow.com/a/22969010/6064933 update public key using apt-key: https://askubuntu.com/a/865494/768311 apt-key doc: http://manpages.ubuntu.com/manpages/bionic/man8/apt-key.8.html ","date":"5 May 2022","externalUrl":null,"permalink":"/2022/05/05/nvidia-apt-repo-public-key-error-fix/","section":"Posts","summary":"\u003cp\u003eWhen running \u003ccode\u003eapt-get update\u003c/code\u003e inside Ubuntu 18.04, I have the following error:\u003c/p\u003e","title":"Fix Nvidia Apt Repository Public Key Error","type":"posts"},{"content":"","date":"5 May 2022","externalUrl":null,"permalink":"/categories/linux/","section":"Categories","summary":"","title":"Linux","type":"categories"},{"content":"ä»Šå¤©æ€»ç»“ä¸€ä¸‹â€œè±†è§’ç„–é¢â€çš„åšæ³•ã€‚\nææ–™ # å››å­£è±†ï¼Œäº”èŠ±è‚‰æˆ–ç˜¦è‚‰ï¼Œå¤§æ–™ï¼Œå¤§è’œï¼Œå§œï¼Œé’æ¤’ï¼Œäº”é¦™ç²‰ï¼Œé…±æ²¹ï¼Œè€æŠ½ï¼Œæ–™é…’ï¼Œé²œé¢æ¡\næ­¥éª¤ # å››å­£è±†æ´—å‡€ï¼Œæ–œåˆ‡æˆæ®µï¼Œäº”èŠ±è‚‰æ´—å‡€ï¼Œåˆ‡æˆç»†æ¡ 3-4 ä¸ªå¤§è’œï¼Œä¸¤ç‰‡å§œï¼Œåˆ‡æˆç¢æœ«ï¼Œä¸€ä¸ªé’æ¤’ï¼Œåˆ‡ä¸ è’¸é”…åŠ æ°´çƒ§å¼€ï¼Œæ”¾å…¥é¢æ¡è’¸ 8 åˆ†é’Ÿï¼ŒæŠŠé¢æ¡è’¸ç†Ÿï¼Œå…³ç«åç”¨ç­·å­æŠŠé¢æ¡æŠ–æ•£ï¼Œé˜²æ­¢ç²˜åœ¨è’¸ç¬¼ä¸Š å›½å†…å€’å…¥å°‘é‡æ²¹ï¼Œä¸ç”¨ç­‰æ²¹å†’çƒŸï¼Œä¸‹å…¥äº”èŠ±è‚‰ç…¸ç‚’ï¼ŒåŠ å…¥ä¸¤é¢—å¤§æ–™ï¼ŒæŠŠè‚¥è‚‰ä¸­è‚‰ç…¸ç‚’å‡ºæ¥ï¼Œå¾…è‚‰å˜é»„ï¼ŒåŠ å…¥å§œè’œï¼Œé’æ¤’ï¼Œç¿»ç‚’ï¼Œç„¶ååŠ å…¥é€‚é‡æ–™é…’å»è…¥ åŠ å…¥åˆ‡å¥½çš„å››å­£è±†ï¼Œä¸­å¤§ç«ï¼Œç»§ç»­ç¿»ç‚’ä¸¤åˆ†é’Ÿ åŠ å…¥é€‚é‡é£Ÿç›ï¼Œç”ŸæŠ½ï¼Œäº”é¦™ç²‰ï¼Œèƒ¡æ¤’ç²‰ç­‰è°ƒå‘³å“ï¼Œç¿»ç‚’ é”…å†…åŠ å…¥é€‚é‡æ¸…æ°´ï¼Œç¨å¾®åŸ‹ä½èœå³å¯ï¼Œä¸è¦å¤ªå¤šï¼ŒåŠ å…¥å°‘é‡è€æŠ½ä¸Šè‰²ï¼Œå¦‚æœå‘³é“å¤ªæ·¡ï¼ŒåŠ å…¥é£Ÿç›ï¼Œå¤§ç«çƒ§å¼€ï¼Œè½¬ä¸­å°ç«ï¼Œç›–é”…ç›–ç…® 8 åˆ†é’Ÿï¼Œæ³¨æ„è§‚å¯Ÿæ°´é‡ æ”¾å…¥è’¸å¥½çš„é¢æ¡ï¼Œç»§ç»­ä¸­å°ç«è’¸3~5åˆ†é’Ÿï¼Œæ³¨æ„è§‚å¯Ÿæ°´é‡ï¼Œç­‰æ°´åŸºæœ¬ä¸Šå¹²äº†ä»¥åï¼Œä»»ä½•èœæ…æ‹Œå‡åŒ€ï¼Œå–œæ¬¢åƒè’œçš„è¯ï¼Œå†æ’’ä¸Šä¸€äº›è’œæœ«ï¼Œå°±å¯ä»¥å‡ºé”…äº†ã€‚ ","date":"1 May 2022","externalUrl":null,"permalink":"/2022/05/01/doujiao_menmian/","section":"Posts","summary":"\u003cp\u003eä»Šå¤©æ€»ç»“ä¸€ä¸‹â€œè±†è§’ç„–é¢â€çš„åšæ³•ã€‚\u003c/p\u003e\n\n\n\u003ch1 class=\"relative group\"\u003eææ–™ \n    \u003cdiv id=\"%E6%9D%90%E6%96%99\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#%E6%9D%90%E6%96%99\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eå››å­£è±†ï¼Œäº”èŠ±è‚‰æˆ–ç˜¦è‚‰ï¼Œå¤§æ–™ï¼Œå¤§è’œï¼Œå§œï¼Œé’æ¤’ï¼Œäº”é¦™ç²‰ï¼Œé…±æ²¹ï¼Œè€æŠ½ï¼Œæ–™é…’ï¼Œé²œé¢æ¡\u003c/p\u003e","title":"è±†è§’ç„–é¢åˆ¶ä½œ","type":"posts"},{"content":"Background # The thing is that I have a Logitech pebble and mx keys mini keyboard, and I use Bluetooth to connect them to my mac, but they randomly lost connection when I was using them, especially for the mx keys mini keyboard, this occurred on a daily basis.\nTo pair the keyboard with mac, I had to press some 6-digit numbers each time and I was bored with this shit. So I decided to give the unifying receiver a try.\nLogitech options # Logitech options is the software you need to use to connect to your computer to your devices with unifying receiver. Just download the package and install it as instructed.\nConnect your device to computer # Make sure the receiver type is right # First, make sure you have the right receiver, because there are actually three different types of receivers. They mainly differ in the logo.\nDifferent devices may come with different receivers, e.g. the Logitech pebble mouse comes with a simple 2.4G receiver, which is not a unifying receiver. So if you connect this simple receiver to your mac, the Logitech options app can not detect it.\nFortunately, I have also a M590 mouse which has a unifying receiver enclosed in it. It works perfectly fine and can be detected by Logitech options.\nHow to connect # Open Logitech options, click ADD DEVICES, we enter the add/remove device interface. Select the left most options for unifying devices and following the instructions.\nUsually, we need to turn off and then turn on the device. Then the device can be detected successfully.\nAs for the mx keys mini keyboard, it seems that it only supports the Logitech bolt receiver, which needs to be purchased separately, WTF??\nReferences # connect logitech keyboard to macOS: https://www.youtube.com/watch?v=d--WnVW2Zsc ","date":"30 April 2022","externalUrl":null,"permalink":"/2022/04/30/fix_logitech_bluetooth_shit_use_unifying_receiver/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eBackground \n    \u003cdiv id=\"background\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#background\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eThe thing is that I have a Logitech pebble and mx keys mini keyboard, and I use Bluetooth to connect them to my mac,\nbut they randomly lost connection when I was using them, especially for the mx keys mini keyboard, this occurred on a daily basis.\u003c/p\u003e","title":"Fix the Logitech Bluetooth Shit and Use Unifying Receiver","type":"posts"},{"content":"I saw an interesting question that how to get square root of x without using builtin function from your language. There are different ways to approach this problem.\nBabylonian method There is a method called Babylonian method to calculate the square root. See this Wikipedia page for the details.\nThe code is as follows:\ndef sqrt(x): if x == 0: return 0 res = x/2.0 eps = 1e-7 while res - x/res \u0026gt; eps: res = (res + x/res) * 0.5 return res This method is very fast, it can calculate \\(sqrt(5)\\) is less than 5 iterations.\nNewton method We can also use newtonâ€™s method to find the square root of \\(num\\). Basically, we have the following \\(f(x)\\):\n\\[f(x) = x^2 - num\\]\nWe can get the square root of \\(num\\) iteratively via:\n\\[x_{n+1} = x_n - \\frac{f(x_n)}{f\u0026#39;(x_n)}\\]\nThe code is like this:\ndef newton_sqrt(num): cur = num / 2.0 eps = 1e-7 while abs(get_next(cur, num) - cur) \u0026gt; eps: cur = get_next(cur, num) return cur def get_next(x, num): return x - f_val(x, num)/df(x) def f_val(x, num): return x*x - num def df(x): return 2*x def main(): num = 5 res = newton_sqrt(num) print(f\u0026quot;res: {res}\u0026quot;) if __name__ == \u0026quot;__main__\u0026quot;: main() Newtonâ€™s method also works pretty quickly to find the root square of a num.\nGradient descent Apart from the Babylonian method, I thought we can also solve this problem with gradient descent easily.\nl1 loss Suppose that square root of \\(x\\) is \\(w\\), then our loss function will be the difference between \\(x\\) and \\(w^2\\). Our objective is minimize the loss.\nHere is my sample code to solve this problem:\nimport random import matplotlib.pyplot as plt import numpy as np def main(): x = 5 w = random.uniform(1, x) print(f\u0026quot;initial w: {w}\u0026quot;) loss_type = \u0026quot;l2\u0026quot; n_iter = 200 lr = 0.01 eps = 0.00001 losses = [] for i in range(n_iter): lr = exp_decay_lr_scheduler(lr, i, n_iter) # lr = step_lr_scheduler(lr, i, n_iter) if loss_type == \u0026#39;l1\u0026#39;: dl_dw = get_dl_dw(w, x) else: dl_dw = get_dl_dw2(w, x) w -= (lr * dl_dw) if loss_type == \u0026#39;l1\u0026#39;: loss = abs(x - w**2) else: loss =(x - w**2)**2 print(f\u0026quot;step: {i}, lr: {lr}, w: {w}, loss: {loss}\u0026quot;) losses.append(loss) if loss \u0026lt; eps: break print(f\u0026quot;final w: {w}\u0026quot;) ax = plt.subplot() x = range(len(losses)) ax.plot(x, losses) ax.set_xlabel(\u0026quot;iteration\u0026quot;) ax.set_ylabel(\u0026quot;loss\u0026quot;) plt.show() def step_lr_scheduler(lr, i, n_iter): lr_factor = 5 step = 20 if i != 0 and i % step == 0: lr = lr / lr_factor return lr def exp_decay_lr_scheduler(lr, i, n_iter): alpha = 1.0 return lr * np.exp(-alpha * i / n_iter) def get_dl_dw(w, x): if w*w \u0026gt;= x: return 2*w else: return -2*w def get_dl_dw2(w, x): return 4*w**3 - 4*w*x if __name__ == \u0026quot;__main__\u0026quot;: main() There are two points worth noting.\nFirst, it is how we calculate the loss. Initially I made the mistake of defining the loss as \\(x - w^2\\). Since we want to minimize the difference between \\(x\\) and \\(w^2\\), the loss should be defined as \\(\\Vert x - w^2 \\Vert\\). Otherwise, we can never learn a proper value for \\(w\\). The derivative of loss w.r.t \\(w\\) is:\n\\[\\frac{\\partial l}{\\partial w} = \\begin{cases} -2w \u0026amp; w^2 \u0026lt; x\\\\ 2w \u0026amp; w^2 \u0026gt;= x \\end{cases}\\]\nAnother point is the learning rate schedule. When \\(w\\) is close to its real value, we should use a small learning rate. Otherwise, we will see oscillation of the training curve: the loss will bump up and down. I first tried with step policy for learning rate, i.e., reducing the learning rate after the specified steps. With this policy, I found that the loss curve will oscillates and is not smooth, and we can not get a loss significantly small than 0.001.\nI tried with the exponentially decaying policy, where we decay the learning rate smoothly with the following factor:\n\\[\\exp(-\\alpha * \\frac{i}{N})\\]\n\\(N\\) is the total number of iterations, and \\(i\\) is the current iteration. With this policy, we can approximate \\(\\sqrt{x}\\) with precision as high as \\(1*10^{-5}\\) with fewer iterations.\nUsing l2 loss Aside from using l1 loss, we can also use l2 loss: \\((x - w^2)^2\\). The derivative of loss w.r.t \\(w\\) is:\n\\[\\frac{\\partial l}{\\partial w} = 4w^3 - 4xw\\]\nIn the above code, we can change loss_type to l2 to try the l2 loss. Using l2 loss often leads to faster convergence than l1 loss.\nConclusion Both the Babylonian method and Newtonâ€™s method converge much faster than gradient descent. However, using gradient descent to solve this problem is fun and provides a new perspective.\n","date":"28 April 2022","externalUrl":null,"permalink":"/2022/04/28/sqrt_without_using_builtin_sqrt/","section":"Posts","summary":"\u003cp\u003eI saw an interesting question that how to get square root of x\nwithout using builtin function from your language. There are different\nways to approach this problem.\u003c/p\u003e","title":"How to Calculate Square Root without Using sqrt()?","type":"posts"},{"content":"","date":"28 April 2022","externalUrl":null,"permalink":"/tags/math/","section":"Tags","summary":"","title":"Math","type":"tags"},{"content":"","date":"28 April 2022","externalUrl":null,"permalink":"/tags/optimization/","section":"Tags","summary":"","title":"Optimization","type":"tags"},{"content":"","date":"28 April 2022","externalUrl":null,"permalink":"/categories/programming/","section":"Categories","summary":"","title":"Programming","type":"categories"},{"content":"A short note on how to match non-greedily in Nvim/Vim.\nVim\u0026rsquo;s regex is slightly different from the usal regex we see. Vim use - to indicate non-greedy match, for example, to match non-greedily for a.*c, we can use the following search:\n\\va.{-}c Note that \\v is used to simplify the code. Otherwise, the command will become ugly and error-prone.\nHere is a list of non-greedy syntax (the following assumes that \\v is added):\n{-n,m}: match n to m previous pattern, non-greedy {-n,}: match at least n of previous pattern, non-greedy {-,m}: match 0 to m of previous pattern, non-greedy {-}: match 0 or more of previous pattern, non-greedy (non-greedy version of *) For more info, read :h non-greedy inside Vim.\n","date":"27 April 2022","externalUrl":null,"permalink":"/2022/04/27/nvim_non_greedy_match/","section":"Posts","summary":"\u003cp\u003eA short note on how to match \u003ca href=\"https://blog.finxter.com/python-regex-greedy-vs-non-greedy-quantifiers/\" target=\"_blank\"\u003enon-greedily\u003c/a\u003e in Nvim/Vim.\u003c/p\u003e","title":"How to Match Non-greedily in Nvim/Vim","type":"posts"},{"content":"","date":"23 April 2022","externalUrl":null,"permalink":"/tags/github/","section":"Tags","summary":"","title":"GitHub","type":"tags"},{"content":"To promote security, starting from Aug. 2021, many GitHub operations require use of personal access tokens (PAT).\nGenerate personal access token # Go to https://github.com/settings/tokens and click Generate new token. Follow the guidelines. Usually the token will expire after the specified time, unless you make it a permanent token, which is not advised by GitHub.\nAfter this, when you push to GitHub repos, you must use the generated token as password.\nUpdate tokens # After an old token expires, we need to generate a new token. Then we need to remove the old token and use the new token. The process may vary depending on your system.\nmacOS # command line # We need to erase the old token, run the following command:\nsecurity delete-internet-password -l github.com Then run your git operation as usual and you will be prompted to enter your new token. Once your new token is entered and verified, it will be updated to the Keychain app automatically.\nKeychain app # You may also directly update the token via the Keychain Access app. Open the app and search for github. Then open the searched item for github and directly update your access token there.\nReferences # https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ update GitHub access token on mac: https://gist.github.com/jonjack/bf295d4170edeb00e96fb158f9b1ba3c ","date":"23 April 2022","externalUrl":null,"permalink":"/2022/04/23/github_access_token/","section":"Posts","summary":"\u003cp\u003eTo promote security, starting from Aug. 2021, many GitHub operations require use of personal access tokens (PAT).\u003c/p\u003e","title":"Push to GitHub with Personal Access Token (PAT)","type":"posts"},{"content":"This is a brief note on how to use Tensorboard in PyTorch.\nInstall # First we need to install tensorboard:\npip install tensorboard SummaryWriter # The main interface we use is SummaryWriter. It has many builtin functions, such as add_scalar, add_image, add_graph (for torch models) etc.\nFor most use cases, we just need to use add_scalar().\nimport numpy as np import os from torch.utils.tensorboard import SummaryWriter def main(): log_dir = \u0026#34;exp_log\u0026#34; if not os.path.exists(log_dir): os.makedirs(log_dir) writer = SummaryWriter(log_dir=log_dir) for i in range(50): writer.add_scalar(\u0026#34;my curve\u0026#34;, np.random.random(), i) # need to close the writer after training writer.close() The first argument is the tag given to this value series.\nGroup plots # We can also group the plot like this:\nfor n_iter in range(100): writer.add_scalar(\u0026#39;Loss/train\u0026#39;, np.random.random(), n_iter) writer.add_scalar(\u0026#39;Loss/test\u0026#39;, np.random.random(), n_iter) writer.add_scalar(\u0026#39;Accuracy/train\u0026#39;, np.random.random(), n_iter) writer.add_scalar(\u0026#39;Accuracy/test\u0026#39;, np.random.random(), n_iter) In the visualization, we will get two groups, one for Loss and one for Accuracy. Each group has two plots, for train and test respectively.\nCompare stats in the same plot # Often we want to show/compare several curves on the same plot. This can be achieved with add_scalars():\nfor n_iter in range(100): writer.add_scalars(\u0026#39;Loss\u0026#39;, {\u0026#39;train\u0026#39;: np.random.random(), \u0026#39;test\u0026#39;: np.random.random()}, n_iter) writer.add_scalars(\u0026#39;Accuracy\u0026#39;, {\u0026#39;train\u0026#39;: np.random.random(), \u0026#39;test\u0026#39;: np.random.random()}, n_iter) In the above code, we have two groups, and each group has one plot showing both train and test stats.\nChange the axis scale? # Sometimes the scale for x and y axis may not be right. The first thing you can do is to disable outlier removal, since it is enabled by default.\nOr we can manually select a region using the mouse to only show that region. After tensorboard version 2.5, you can set axis range in the tensorboard web interface interactively, thanks to the work of this pr.\nref:\nhttps://stackoverflow.com/questions/37144211/rescale-tensorboard-summaries-plot https://github.com/tensorflow/tensorboard/issues/273 Visualize the plot # To actually show the visualizations, we can run the following command:\ntensorboard --logdir=exp_log The argument --logdir should be followed one of valid tensorboard logs you have written during your experiment. Then you can open the browser and check the plots.\nReferences # Tensorboard tutorial: https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html PyTorch Tensorboard doc: https://pytorch.org/docs/stable/tensorboard.html ","date":"20 April 2022","externalUrl":null,"permalink":"/2022/04/20/pytorch-tensorboard-use/","section":"Posts","summary":"\u003cp\u003eThis is a brief note on how to use \u003ca href=\"https://github.com/tensorflow/tensorboard\" target=\"_blank\"\u003eTensorboard\u003c/a\u003e in PyTorch.\u003c/p\u003e","title":"How to Use Tensorboard in Pytorch","type":"posts"},{"content":"","date":"20 April 2022","externalUrl":null,"permalink":"/tags/pytorch/","section":"Tags","summary":"","title":"PyTorch","type":"tags"},{"content":" In this post, I would like to share how to add color emoji to image with Python.\nUse Pillow # We can use Pillow directly to draw color emoji with color emoji fonts. Some of the available fonts are:\nNotoColorEmoji: developed by Google and open source AppleColorEmoji: developed by Apple and used on Apple devices. Not free. Microsoft segoe ui color emoji: developed by Microsoft, not free. twemoji: developed by Twitter. You can view the twemoji here1. Symbola is also a emoji font, but it seems that it does not have color.\nHere is a simple script to try those fonts:\nfrom PIL import Image, ImageDraw, ImageFont back_ground_color = (50, 50, 50) # unicode_text = \u0026#34;some test\\U0001f602\u0026#34; unicode_text = \u0026#34;\\U0001f602\u0026#34; im = Image.new(\u0026#34;RGB\u0026#34;, (500, 500), back_ground_color) draw = ImageDraw.Draw(im) # noto emoji, bit-map based, src: https://github.com/googlefonts/noto-emoji/blob/main/fonts/NotoColorEmoji.ttf # apple emoji, bit-map based, src: https://github.com/samuelngs/apple-emoji-linux/releases # segoe ui emoji, vector-based, works with different font size, font from here: https://fontsdata.com/132714/segoeuiemoji.htm (for test only) font_info = {\u0026#39;symbola\u0026#39;: [r\u0026#34;E:\\symbola-font\\Symbola-AjYx.ttf\u0026#34;, 30], \u0026#39;notoemoji\u0026#39;: [r\u0026#34;E:\\NotoColorEmoji.ttf\u0026#34;, 109], \u0026#39;appleemoji\u0026#39;: [r\u0026#34;E:\\AppleColorEmoji.ttf\u0026#34;, 137], \u0026#39;segoeuiemoji\u0026#39;: [r\u0026#34;E:\\segoeuiemoji\\seguiemj.ttf\u0026#34;, 50]} pos = [(100, 10), (50, 40), (50, 160), (100, 320)] for i, item in enumerate(font_info.items()): path, size = item[1] font = ImageFont.truetype(path, size) draw.text(pos[i], unicode_text, font=font, embedded_color=True) im.show() Note that for bit-map font, you need to specify the exact font size embedded in it. Examples are shown in this PR. Otherwise, you will get invalid pixel size error. For vector format color emoji font, you can use different font sizes just like using a normal font.\nspecial note on Apple Color Emoji # In the above script, I used apple color emoji for linux, which is not the same as Apple Color Emoji provided on macOS. Based on my experimentation, it only embed one resolution for emoji: 137. However, the original Apple Color Emoji has several resolutions: 20, 32, 40, 48, 64, 96 and 160.\nFor example, the following works for me on macOS with font size 64:\nfrom PIL import Image, ImageDraw, ImageFont back_ground_color = (50, 50, 50) im = Image.new(\u0026#34;RGB\u0026#34;, (500, 200), back_ground_color) draw = ImageDraw.Draw(im) font = ImageFont.truetype(\u0026#39;/System/Library/Fonts/Apple Color Emoji.ttc\u0026#39;, 64) unicode_text = \u0026#34;\\U0001f602\\u2764\\U0001f639\\U0001f335\\U0001f525\\U0001f992\\u3297\u0026#34; draw.text((10, 100), unicode_text, font=font, embedded_color=True) im.show() Disadvantages # With this method, you can not mix text and emoji since these emoji font does not support normal text. You need to write extra code to mix text and emoji naturally, which is no easy task.\nUse package Augly # Augly from Facebook also supports add emoji to image. It can randomly add an emoji to your image.\nimport os from PIL import Image from augly.utils.base_paths import EMOJI_DIR import augly.image as imaugs def main(): im_path = \u0026#34;./test.jpg\u0026#34; im = Image.open(im_path).convert(\u0026#39;RGB\u0026#39;) emoji_category = [\u0026#39;activity\u0026#39;, \u0026#39;alphanumeric\u0026#39;, \u0026#39;animals_and_nature\u0026#39;, \u0026#39;flags\u0026#39;, \u0026#39;food_and_drink\u0026#39;, \u0026#39;objects\u0026#39;, \u0026#39;people\u0026#39;, \u0026#39;smileys\u0026#39;, \u0026#39;symbols\u0026#39;, \u0026#39;travel_and_places\u0026#39;] x, y = (0.8, 0.8) opacity = 0.7 emoji_size = 0.2 for c in emoji_category: emoji_dir = os.path.join(EMOJI_DIR, c) emoji_aug = imaugs.RandomEmojiOverlay(emoji_directory=emoji_dir, opacity=opacity, emoji_size=emoji_size, x_pos=x, y_pos=y) new_im = emoji_aug(im) new_im.save(f\u0026#39;cat-emoji-{c}.jpg\u0026#39;) if __name__ == \u0026#34;__main__\u0026#34;: main() Augly also has a OverlayEmoji class to apply a specific emoji to image. However, the emoji must be in PNG format, so it means you have to use png supplied by Augly, which is not flexible.\nUse package pilmoji # Pilmoji supports multiple source of emoji and also supports mixing emoji and regular text. Note that it requires Python 3.8 or higher.\nfrom pilmoji import Pilmoji from PIL import Image, ImageFont im = Image.new(\u0026#39;RGB\u0026#39;, (1024, 768)) drawer = Pilmoji(im) FONT_PATH = \u0026#39;./NotoSansSC-Regular.otf\u0026#39; font_size = 30 font = ImageFont.truetype(FONT_PATH, size=font_size) text = \u0026#34;Hello, world! ğŸ‘‹ Here are some emojis: ğŸ¨ ğŸŒŠ ğŸ˜\u0026#34; drawer((10, 10), text, font=font) im.show() Under the hood, it downloads the emoji in PNG format and composite them to the original image.\nPilmoji is easy to use and has done all the heavy lifting of mixing text and emoji for you. It may be the best choice if we want to mix text and emoji and show them on image.\nReferences # https://en.wikipedia.org/wiki/Implementation_of_emojis Insert colorful emoji into an image(Python) There is twemoji-color-font here, but it is in SVGinOT format, which is not supported in Pillow yet.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"3 April 2022","externalUrl":null,"permalink":"/2022/04/03/add_color_emoji_to_image_in_python/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202204031210116.png\" width=\"500\"\u003e\n\u003c/p\u003e\n\u003cp\u003eIn this post, I would like to share how to add \u003ca href=\"https://en.wikipedia.org/wiki/Emoji\" target=\"_blank\"\u003ecolor emoji\u003c/a\u003e to image with Python.\u003c/p\u003e","title":"How to Add Color Emoji to Image in Python","type":"posts"},{"content":"","date":"3 April 2022","externalUrl":null,"permalink":"/tags/pil/","section":"Tags","summary":"","title":"PIL","type":"tags"},{"content":" What is alpha-compositing If you have two images A and B, you alpha-composite A over B, it will create an effect that you can see both image A and B in the resulting image, as if A has transparency and you can see through A and also see B.\nHow does alpha-compositing work? Suppose a is the src image, b is the destination image, we composite a over b. The equation for alpha value and pixel value of the generated image are:\n\\[\\alpha = \\alpha_a + \\alpha_b (1-\\alpha_a)\\]\n\\[\\begin{aligned} v \u0026amp;= \\frac{ \\alpha_a v_a + \\alpha_b (1-\\alpha_a) v_b}{\\alpha_a + \\alpha_b (1-\\alpha_a)}\\\\ \u0026amp;= \\frac{\\alpha_a}{\\alpha_a + \\alpha_b (1-\\alpha_a)} v_a + \\frac{\\alpha_b (1-\\alpha_a)}{\\alpha_a + \\alpha_b (1-\\alpha_a)} v_b \\end{aligned}\\]\nSo it is easy to see that the resulting pixel value is a linear combination of pixel value from a and b.\nFor RGB images, this is done for per-channel per-pixel.\nNote that in Pillow, the alpha value is rescaled from \\([0, 1.0]\\) to \\([0, 255]\\). So in the following text, I will use the range \\([0, 255]\\) and it should not cause any confusion.\nimport numpy as np from PIL import Image def main(): # alpha for im1 is 0.5 (rescaled in [0, 1.0] range) im1 = Image.new(\u0026#39;RGBA\u0026#39;, (100, 100), (200, 0, 0, 128)) # alpha for im2 is also 0.5 im2 = Image.new(\u0026#39;RGBA\u0026#39;, (100, 100), (0, 100, 0, 128)) # im1.show() # im2.show() im1.alpha_composite(im2) im1.show() r, g, b, a = im1.split() print(np.array(g)) if __name__ == \u0026quot;__main__\u0026quot;: main() To test the correctness of the above equations, use the above script. After alpha compositing, the value for channel R and G of im1 should be all 67, for channel B should be all 0, and for alpha channel should be all 192 (without rescale, it should be 0.75).\nComposite two JPEG images So if we have a large image A and we want to overlay a small image B onto it. How do we do it correctly? Suppose A and B are just JPEG images with no alpha channels.\nWe should first add an alpha channel with value 255 for image A. This is the crucial step for correct alpha-compositing. This will not affect the region in A that do not have overlap with image B. Otherwise, you will get a opaque look for those regions.\nThen we should set proper alpha for image B, depending on how you want to composite. In this case, the pixel value for the resulting image becomes simply:\n\\[v = \\alpha v_a + (1-\\alpha) v_b\\]\nYou can change \\(\\alpha\\) to control the contribution of A and B to the result image. For example, if you want B to completely dominate the overlapping region, you can set alpha to 255. If you want to show partial A and B, you can set alpha to a value between 0 and 255. The larger alpha gets, the less you will see the underlying part of image A.\nimport numpy as np from PIL import Image, ImageFilter def main(): im = Image.open(\u0026#39;./cat.jpg\u0026#39;) im.putalpha(255) em_im = Image.open(\u0026#39;./fish.jpg\u0026#39;) em_im.putalpha(150) dst_coord = (360, 310) src_coord = (0, 0) im.alpha_composite(em_im, dst_coord, src_coord) im.save(\u0026#39;cat-and-fish.png\u0026#39;) if __name__ == \u0026quot;__main__\u0026quot;: main() In the title image, I show the generated image using three different alpha values for image B. The transparency decreases as we increase the value of alpha.\nReferences https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.alpha_composite ","date":"1 April 2022","externalUrl":null,"permalink":"/2022/04/01/image_alpha_composite_pillow/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202204020034075.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003ch1 id=\"what-is-alpha-compositing\"\u003eWhat is alpha-compositing\u003c/h1\u003e\n\u003cp\u003eIf you have two images A and B, you \u003ca\nhref=\"https://en.wikipedia.org/wiki/Alpha_compositing\"\u003ealpha-composite\u003c/a\u003e\nA over B, it will create an effect that you can see both image A and B\nin the resulting image, as if A has transparency and you can\n\u003cem\u003esee\u003c/em\u003e through A and also see B.\u003c/p\u003e","title":"How to Do Image Alpha-compositing in Pillow","type":"posts"},{"content":" ä»Šå¤©ä»‹ç»å¦å¤–ä¸€ç§é£æ ¼çš„ç‚¸é…±åˆ¶ä½œï¼ŒåŒºåˆ«äºä¹‹å‰å†™è¿‡çš„ è€åŒ—äº¬ç‚¸é…±.\nåŸæ–™ # äº”èŠ±è‚‰ï¼Œå¹²é¦™è‡ï¼Œå¤§è‘±ï¼Œæ´‹è‘±ï¼Œå§œï¼Œå¤§è’œï¼Œé»„é…’ï¼Œå¹²é»„é…±ï¼Œé»„è±†é…±ï¼Œäº”é¦™ç²‰ï¼Œèšæ²¹\nåˆ¶ä½œæ­¥éª¤ # å¹²é¦™è‡ç”¨æ°´æ“æ´—ï¼Œå»é™¤æ‚è´¨ï¼Œæ´—å¹²å‡€ï¼Œç„¶åç”¨æ°´æ³¡å‘ï¼Œæå‰å‡ ä¸ªå°æ—¶æ³¡ï¼Œæ³¡å¥½ä»¥åï¼ŒæŠŠé¦™è‡åˆ‡æˆå°ä¸ï¼Œæ³¡é¦™è‡æ°´åˆ«å€’æ‰ï¼Œåç»­æœ‰ç”¨ã€‚\näº”èŠ±è‚‰å‡†å¤‡ï¼Œäº”èŠ±è‚‰æ´—å¹²å‡€ï¼Œå»çš®ï¼Œåˆ‡å°å—ï¼Œç”¨ç»è‚‰æœºæ…ç¢ï¼Œå–œæ¬¢ç¢ä¸€ç‚¹å°±å¤šç»ä¸€ä¼šå„¿\nå‡†å¤‡é€‚é‡è‘±ç™½ï¼Œåˆ‡ç¢å¤‡ç”¨ï¼Œå‡†å¤‡é€‚é‡å¤§è‘±ï¼Œåˆ‡ä¸ï¼ŒåŠä¸ªæ´‹è‘±ï¼Œåˆ‡ä¸å¤‡ç”¨ï¼Œé€‚é‡å¤§è’œå’Œå§œï¼Œåˆ‡ç¢å¤‡ç”¨\né”…å†…å¤šå€’ç‚¹æ²¹ï¼Œä¸­å°ç«ï¼Œä¸€å®šä¸èƒ½å¤§ç«ï¼Œæ²¹å¾®çƒ­ï¼Œå€’å…¥å¤§è‘±ä¸å’Œæ´‹è‘±ä¸ï¼Œä¸æ–­æ…æ‹Œï¼Œå¾…æ´‹è‘±å˜æˆç„¦é»„å˜å¹²ï¼Œæå‡ºå¤§è‘±å’Œæ´‹è‘±\nä¸­ç«ï¼Œæ²¹é”…å†…ä¸‹å…¥ç»ç¢çš„äº”èŠ±è‚‰ï¼Œä¸æ–­ç¿»ç‚’ç…¸ç‚’ï¼ŒåŠ å…¥åˆ‡å¥½çš„å§œè’œæ²«ï¼ŒåŠ å…¥é€‚é‡é»„é…’å»è…¥ï¼Œä¸æ–­ç¿»ç‚’ï¼Œç›´åˆ°è‚‰æ²«æ¯”è¾ƒå¹²ï¼Œé¢—ç²’æ„Ÿæ¯”è¾ƒåˆ†æ˜ï¼Œè‚¥è‚‰å¼€å§‹è¢«ç†¬å‡ºæ²¹\né”…ä¸­åŠ å…¥ 1/3 å°ç¢—çš„å¹²é»„é…±å’Œé»„è±†é…±(æ¯”ä¾‹å·®ä¸å¤š 1:1)ï¼Œç»§ç»­ç¿»ç‚’å‡åŒ€ï¼Œè®©è‚‰æ²«å‡åŒ€æŸ“è‰²ï¼Œå˜æˆæ·±è‰²ã€‚\né”…å†…åŠ å…¥æ³¡é¦™è‡çš„æ°´ï¼Œæ²¡è¿‡çŒªè‚‰ï¼Œä¸å¤Ÿçš„è¯ï¼Œå†åŠ ç‚¹æ°´ï¼Œå¤§ç«æŠŠæ°´çƒ§å¼€ï¼Œç„¶åä¸­å°ç«ç†¬åˆ¶ã€‚\nå¾…æ°´ç†¬çš„å¿«å®Œæ—¶ï¼Œå°å‘³é“ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œäº”é¦™ç²‰ï¼ŒèŠ±æ¤’ç²‰ï¼Œå‘³ç²¾ï¼Œèšæ²¹ï¼Œæ…æ‹Œå‡åŒ€ï¼Œæœ€ååŠ å…¥è‘±èŠ±ï¼Œå…³ç«ï¼Œç¨å¾®æ…æ‹Œå‡åŒ€å³å¯ã€‚\nå‚è€ƒ # https://m.youtube.com/watch?v=NQD-n0q2SjI\u0026list=PLc3vYMi812YcFjUdCgTsxV_7hDKGfaKyr\u0026index=1 ","date":"28 March 2022","externalUrl":null,"permalink":"/2022/03/28/how_to_make_zhajiang2/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202203280008836.jpg\" width=\"200\"\u003e\n\u003c/p\u003e\n\u003cp\u003eä»Šå¤©ä»‹ç»å¦å¤–ä¸€ç§é£æ ¼çš„ç‚¸é…±åˆ¶ä½œï¼ŒåŒºåˆ«äºä¹‹å‰å†™è¿‡çš„ \u003ca href=\"https://jdhao.github.io/2021/09/05/how_to_make_zhajiang_noodles/\" target=\"_blank\"\u003eè€åŒ—äº¬ç‚¸é…±\u003c/a\u003e.\u003c/p\u003e","title":"åœ°é“ç¾å‘³ç‚¸é…±åˆ¶ä½œæ–¹æ³•","type":"posts"},{"content":"","date":"27 March 2022","externalUrl":null,"permalink":"/categories/machine-learning/","section":"Categories","summary":"","title":"Machine-Learning","type":"categories"},{"content":" Non-linear activations are important in deep neural networks. It is important in the sense that without non-linear activation functions, even if you have many linear layers, the end results is like you have only one linear layer, and the approximation ability of the network is very limited1. Some of most commonly-used nonlinear activation functions are Sigmoid, ReLU and Tanh.\nNonlinear activations and their derivatives Sigmoid Sigmoid function, also known as logistic function, has the following form:\n\\[f(x) = \\frac{1}{1+e^{-x}}\\]\nThe derivative of sigmoid is:\n\\[\\begin{aligned}\\frac{df}{dx} \u0026amp;= \\frac{e^{-x}}{(1+e^{-x})^2}\\\\ \u0026amp;= \\frac{1}{1+e^{-x}}(1- \\frac{1}{1+e^{-x}})\\\\ \u0026amp;= f(x)(1-f(x)) \\end{aligned}\\]\nTanh Tanh function\n\\[f(x) = \\frac{e^{2x}-1}{e^{2x}+1}\\]\nThe derivative of Tanh is:\n\\[\\frac{df}{dx} = \\frac{4e^{2x}}{(e^{2x} + 1)^2} = 1 - {f(x)}^2\\]\nReLU ReLU, called rectified linear unit, has the following form:\n\\[f(x) = \\max(0, x)\\]\nWe can also write ReLU as:\n\\[f(x) = \\begin{cases} x \u0026amp; x \\geq 0 \\\\ 0 \u0026amp; x \u0026lt; 0 \\end{cases}\\]\nThe derivate of ReLU is quite simple, it is 1 for \\(x \u0026gt; 0\\) and 0 otherwise.\nThere are also variants of ReLU, such as Leaky ReLU, PReLU (parametric ReLU), and RReLU (randomized ReLU). In Empirical Evaluation of Rectified Activations in Convolutional Network, the author claimed that PReLU and RReLU works better than ReLU in small scale datasets such as CIFAR10, CIFAR100 and Kaggle NDSB.\nVanishing gradient I show the plot of different activation functions and their derivatives in the title image.\nClick to show the code for visualization. import matplotlib.pyplot as plt import numpy as np def main(): x = np.linspace(-5, 5, 100) r = [relu(v) for v in x] sig = [sigmoid(v) for v in x] d_sig = [sigmoid(v)*(1 - sigmoid(v)) for v in x] t = [tanh(v) for v in x] d_tanh = [1 - tanh(v)**2 for v in x] fig = plt.figure(figsize=[6, 3]) ax = fig.add_subplot(111) ax.plot(x, r, \u0026#39;#66c2a5\u0026#39;, label=\u0026#39;ReLU\u0026#39;) ax.plot(x, sig, \u0026#39;#fc8d62\u0026#39;, label=\u0026#39;sigmoid\u0026#39;) ax.plot(x, d_sig, \u0026#39;#8da0cb\u0026#39;, label=\u0026#39;sigmoid derivative\u0026#39;) ax.plot(x, t, \u0026#39;#e78ac3\u0026#39;, label=\u0026#39;tanh\u0026#39;) ax.plot(x, d_tanh, \u0026#39;#a6d854\u0026#39;, label=\u0026#39;tanh derivative\u0026#39;) ax.legend() plt.savefig(\u0026#39;activation-curve.png\u0026#39;, dpi=96, bbox_inches=\u0026#39;tight\u0026#39;) def relu(x): if x \u0026gt;=0: return x return 0 def sigmoid(x): return 1/(1 + np.exp(-x)) def tanh(x): return (np.exp(x)**2 - 1)/(np.exp(x)**2 + 1) if __name__ == \u0026quot;__main__\u0026quot;: main() The derivative of sigmoid is relatively small, and its largest value is only 0.25 (when \\(x = 0\\)). When \\(x\\) is large, the derivative is near zero. Tanh has a similar issue: it has a low gradient, and maximum gradient is only 1 (\\(x=0\\)).\nThis will cause the vanishing gradient problem, because in order to calculate the derivative of loss w.r.t the weight of earlier layers in the network, we need to multiply the gradient in the later layers. When you multiply several values below 0.25, the result goes down to zero quickly, so the network weight in earlier layers get updated slowly. In other words, the learning process will converge much slower than using ReLU, and we might need much more epochs to get a satisfactory result.\nAnother advantage of ReLU is that it is computationally cheap compared to sigmoid, both in terms of forward and backward operation.\nTry it yourself interactively To gain more insight into this, we can use minist on convenet.js and change the activation function to see how the train goes. We can see that training process under tanh and sigmoid activation is much slower than ReLU. Sigmoid is slowest among the three.\nWe can also play with different activations functions real quick with TensorFlow playground.\nReferences https://en.wikipedia.org/wiki/Rectifier_(neural_networks) A list of activation functions: https://en.wikipedia.org/wiki/Activation_function ReLU vs Sigmoid: https://stats.stackexchange.com/q/126238/140049 See this post and also this one for more detailed discussions.â†©ï¸\n","date":"27 March 2022","externalUrl":null,"permalink":"/2022/03/27/neural-network-nonlinear-activation/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202203271740705.png\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eNon-linear activations are important in deep neural networks. It is\nimportant in the sense that without non-linear activation functions,\neven if you have many linear layers, the end results is like you have\nonly one linear layer, and the approximation ability of the network is\nvery limited\u003ca href=\"#fn1\" class=\"footnote-ref\" id=\"fnref1\"\nrole=\"doc-noteref\"\u003e\u003csup\u003e1\u003c/sup\u003e\u003c/a\u003e. Some of most commonly-used\nnonlinear activation functions are Sigmoid, ReLU and Tanh.\u003c/p\u003e","title":"Nonlinear Activations for Neural Networks","type":"posts"},{"content":"I have a web service where the images come in a batch so I have to do inference for several images in PIL format at a time. Initially, I use a naive approach and just transform the images one by one, then combine them to form a single tensor and do the inference. The inference becomes really slow when I have a batch with more than 30 images. The inference time is about 1-2 seconds per batch.\nShould we set cudnn.benchmark to True? # Some blog posts have recommend an easy way to speed your inference: setting torch.backends.cudnn.benchmark to True. By setting this option to True, cudnn will try to find the fastest convolution algorithm for your input shape. However, this only works when the input shape to the model does not change. If the input shape changes, the time cost will actually be worse1.\nDataset and DataLoader for inference # After some debugging, I found that data transformation may be the bottleneck. In the naive approach, the data processing for the images are done sequentially, sometime like this:\nprocessed_imgs = [transform(im) for im in pil_imgs] Actually we can use DataLoader from torch to accelerate the image processing speed. We need to define a Dataset and DataLoader for the inference.\nclass InferDataset(torch.utils.data.Dataset): def __init__(self, pil_imgs): super(InferDataset, self,).__init__() self.pil_imgs = pil_imgs self.transform = make_transform() # some infer transform def __len__(self): return len(self.pil_imgs) def __getitem__(self, idx): img = self.pil_imgs[idx] return self.transform(img) infer_data = InferDataset(pil_imgs) infer_loader = torch.utils.data.DataLoader(infer_data, batch_size=64, shuffle=False, num_workers=4, pin_memory=True) with torch.no_grad(): for data in infer_loader: data = data.cuda() output = model(data) # ... more processing Use torch.cuda.synchronize() for correct benchmarking # Note that the torch cuda operations are asynchronous, which will return without waiting to finish. To time a cuda operation correctly, we need to use torch.cuda.synchronize() to wait for the operation to finish. So the timing code should be like this:\ntorch.cuda.synchronize() start = time.time() # your cuda operations go here, for example, out = mode(input) torch.cuda.synchronize() end = time.time() print(f\u0026#34;elapse: {end-start}\u0026#34;) Important parameters # The parameters that impact the speed most are batch_size and num_workers.\nIf GPU memory permits, using a large batch size will be faster since we have fewer iterations to run. The exact value for batch size should be benchmarked on your system.\nThe parameter num_worker means the number of worker processes used for fetching data. When it is 0, only the main processes will be used, which will be slow. However, it does not mean more workers will definitely lead to faster processing speed. We need to benchmark and choose a suitable value. Generally, it should not exceed the number of CPU cores we have. For example, I found that setting num_workers to 1 works the fastest for me.\nThe parameter pin_memory=True will reduce the time cost for transferring data from your CPU to GPU (detail here), thus accelerating data processing. So in generally, it should be always used.\nConclusion # With all these optimizations, I was able to reduce the batched image inference time from 2 seconds to about 100 ms.\nReferences # https://www.willprice.dev/2021/03/27/debugging-pytorch-performance-bottlenecks.html https://leimao.github.io/blog/PyTorch-Benchmark/ https://auro-227.medium.com/timing-your-pytorch-code-fragments-e1a556e81f2 See also discussion here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 March 2022","externalUrl":null,"permalink":"/2022/03/18/torch_accelerate_batch_inference/","section":"Posts","summary":"\u003cp\u003eI have a web service where the images come in a batch so I have to do inference for several images in PIL format at a time.\nInitially, I use a naive approach and just transform the images one by one,\nthen combine them to form a single tensor and do the inference.\nThe inference becomes really slow when I have a batch with more than 30 images.\nThe inference time is about 1-2 seconds per batch.\u003c/p\u003e","title":"Accelerate Batched Image Inference in PyTorch","type":"posts"},{"content":"Like other programming languages, the best way to to use a value multiple times in LaTeX is to define a variable for it. Later when you want to change the value, you only need to change it once. Here is how to do it.\nUse \\newcommand # We can use \\newcommand to define a new command for the text like this:\n\\newcommand{\\toyCommand}{some text} In the main, to insert the text, we can call this command:\nWe can use \\toyCommand{} like this. Or we can use \\toyCommand\\ like this. Note that the double bracket {} or escaped space \\ after the custom command is necessary, without which, the inserted text and text after it will stick together with no space.\nIf we just want to use \\toyCommand, we can use xspace package and add space when defining the command:\n\\usepackage{xspace} \\newcommand{\\toyCommand}{some text\\xspace} Note that xspace do have some drawbacks, see discussion here.\nUse \\def # We can also use \\def to define a variable and use it later1.\n\\def \\myVar {some text} We can use \\myVar{} like this. Note that {} is also required to add a literal sapce after the inserted text.\nReferences # Space after LaTeX commands: https://tex.stackexchange.com/q/31091/114857 Is there any way I can define a variable in LaTeX: https://stackoverflow.com/q/1211888/6064933 It may override existing macro without warning, so use it with care.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 March 2022","externalUrl":null,"permalink":"/2022/03/14/latex_define_string_variable/","section":"Posts","summary":"\u003cp\u003eLike other programming languages, the best way to to use a value multiple times in LaTeX is to define a variable for it.\nLater when you want to change the value, you only need to change it once. Here is how to do it.\u003c/p\u003e","title":"Define A String Variable in LaTeX","type":"posts"},{"content":"","date":"14 March 2022","externalUrl":null,"permalink":"/categories/latex/","section":"Categories","summary":"","title":"LaTeX","type":"categories"},{"content":" When merging branches, the most direct way we can use is to git merge. However, with git-merge, the commit history and graph will be messy if there are a lot of branches.\nWe can also use git rebase to merge branches to make the commit history cleaner. Suppose we have a feat branch and master branch, and they share a common base commit.\n-----A------B----C------D(master) \\ \\---E---F (feat) To merge the two branches using git-rebase, run the following command:\ngit checkout feat git rebase -i master Note that after running the above step, we may get merge conflict. We need to fix the conflict, then use git add some_file to mark that conflict for some_file has been resolved. Use git rebase --continue to fix conflict in other files, or finish the rebasing process (when there is no conflict anymore).\nAfter the above step, we have the following commit graph:\n(master) ---A------C------D------E\u0026#39;---F\u0026#39;(feat) In order to move master to tip of the commit, we can run the following command:\ngit checkout master git merge --ff feat The -ff option for git-merge will ascend the master to the same commit as the feat branch.\n---A------C------D------E\u0026#39;---F\u0026#39;(feat) \\ \\(master) To delete the feat branch, run the following command:\ngit branch -d feat Now, you have succeed in merging the two branches using git rebasing.\n","date":"7 March 2022","externalUrl":null,"permalink":"/2022/03/07/git_merge_branch_with_rebase/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202021114754.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eWhen merging branches, the most direct way we can use is to \u003ccode\u003egit merge\u003c/code\u003e.\nHowever, with git-merge, the commit history and graph will be messy if there are a lot of branches.\u003c/p\u003e","title":"Merging Branches with Git Rebase","type":"posts"},{"content":"","date":"27 February 2022","externalUrl":null,"permalink":"/tags/softmax/","section":"Tags","summary":"","title":"Softmax","type":"tags"},{"content":" Softmax function is commonly used in classification tasks. Suppose that we have an input vector \\([z_1, z_2, \\ldots, z_N]\\), after softmax, each element becomes:\n\\[p_i = \\frac{\\exp(z_i)}{\\sum_{j=1}^{N}\\exp(z_j)}\\]\nThe denominator term normalize each element so that their sum is 1. The original vector is transformed into a probability distribution, and the index that corresponds to the highest probability is the chosen class.\nIn practice, we often see softmax with temperature, which is a slight modification of softmax:\n\\[p_i = \\frac{\\exp(x_i/\\tau)}{\\sum_{j=1}^{N}\\exp(x_j/\\tau)}\\]\nThe parameter \\(\\tau\\) is called the temperature parameter1, and it is used to control the softness of the probability distribution. When \\(\\tau\\) gets lower, the biggest value in \\(x\\) get more probability, when \\(\\tau\\) gets larger, the probability will be split more evenly on different elements. Consider the extreme cases where \\(\\tau\\) approaches zero, the probability for the largest element will approach 1, while when \\(\\tau\\) approaches infinity, the probability for each element will be the same.\nimport math def softmax(vec, temperature): \u0026quot;\u0026quot;\u0026quot; turn vec into normalized probability \u0026quot;\u0026quot;\u0026quot; sum_exp = sum(math.exp(x/temperature) for x in vec) return [math.exp(x/temperature)/sum_exp for x in vec] def main(): vec = [1, 5, 7, 10] ts = [0.1, 1, 10, 100, 10000] for t in ts: print(t, softmax(vec, t)) if __name__ == \u0026quot;__main__\u0026quot;: main() With different values of t, the output probability is (also check the title image):\n0.1 [8.194012623989748e-40, 1.928749847963737e-22, 9.357622968839298e-14, 0.9999999999999064] 1 [0.00011679362893736733, 0.006376716075637758, 0.0471179128098403, 0.9463885774855847] 10 [0.14763314666550595, 0.2202427743860977, 0.26900513210002774, 0.3631189468483686] 100 [0.23827555570657363, 0.24799976560608047, 0.25300969319764466, 0.2607149854897012] 10000 [0.2498812648459304, 0.2499812373450356, 0.2500312385924627, 0.2501062592165714] According to this post, the name softmax is kind of misleading, it should be softargmax, especially when you have a very small \\(\\tau\\) value.\nFor example, for vec = [1, 5, 7, 10], argmax result should be 3. If we express it as one-hot encoding, the result is [0, 0, 0, 1], which is pretty close to the result of softmax when \\(\\tau = 0.1\\).\nApplications In Distilling the Knowledge in a Neural Network, they also used temperature parameter in softmax:\nUsing a higher value for T produces a softer probability distribution over classes.\nSupervised contrastive learning In the MoCo paper, softmax loss with temperature is used (it is a slightly modified version of InfoNCE loss):\n\\[Loss = -\\log\\frac{exp(q\\cdot k_+/\\tau)}{\\sum_{i=0}^{K} exp(q\\cdot k_i/ \\tau)}\\]\nIn that paper, \\(\\tau\\) is set to a very small value 0.07. If we do not use the temperature parameter, suppose that the dot product of negative pairs are -1, and dot product of positive pair is 1, and we have K = 1024, in this case, the model has separated the positive and negative pairs perfectly, but the softmax loss is still too large:\n\\[-log\\frac{e}{e + 1023e^{-1}} = 4.94\\]\nIf we use a parameter of \\(\\tau = 0.07\\), however, the loss will now become literally 0.0. So using a small \\(\\tau\\) helps collapse the probability distribution to the positive pair and reduces loss.\nMoCo borrows this value from Unsupervised Feature Learning via Non-Parametric Instance Discrimination, in which the authors say:\nÏ„ is important for supervised feature learning [43], and also necessary for tuning the concentration of v on our unit sphere.\nRef 43 refers to paper NormFace: L2 Hypersphere Embedding for Face Verification. In NormFace Sec. 3.3, the authors show theoretically why it is necessary to use a scaling factor2 in softmax loss. Basically, if we do not use a scaling factor, the lower bound for the loss is high, and we can not learn a good representation of image features.\nReferences Why should we use Temperature in softmax? What is Temperature in LSTM (and neural networks generally)? https://stats.stackexchange.com/questions/527080/what-is-the-role-of-temperature-in-softmax Understanding the Behaviour of Contrastive Loss: https://arxiv.org/abs/2012.09740 https://ogunlao.github.io/2020/04/26/you_dont_really_know_softmax.html https://www.reddit.com/r/MachineLearning/comments/n1qk8w/d_temperature_term_in_simclr_or_moco_papers/ The name temperature may come from Boltzmann distribution, where it has similar formulation and a temperature parameter.â†©ï¸\nIn NormFace, they use \\(s=1/\\tau\\) as the scaling factor and multiply it, instead of dividing \\(\\tau\\) directly.â†©ï¸\n","date":"27 February 2022","externalUrl":null,"permalink":"/2022/02/27/temperature_in_softmax/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202271549378.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eSoftmax function is commonly used in classification tasks. Suppose\nthat we have an input vector \u003cspan class=\"math inline\"\u003e\\([z_1, z_2,\n\\ldots, z_N]\\)\u003c/span\u003e, after softmax, each element becomes:\u003c/p\u003e","title":"Softmax with Temperature Explained","type":"posts"},{"content":"File explorer is one of the most widely-used types of plugin for Vim/Nvim. Below are my curated list of file explorers for Nvim. Some of these plugins are specifically written for Nvim and will not work for Vim.\nnerdtree # vim or Neovim: both platform: Windows, Linux, macOS feature: rich feature with a lot of mappings speed: slow for large directory fern.vim # vim or nvim: both platform: Windows, Linux, macOS feature: rich feature speed: implemented in vim script, asynchronous operation so maybe fast vim-dirvish # vim or nvim: both platform: Windows, Linux, macOS feature: not very rich, concise without many decoration speed: nvim-tree.lua # vim or nvim: nvim only platform: macOS, Linux, Windows feature: seems complete speed: quite fast, but for large number of files, there will be some delays. tree.nvim # vim or nvim: nvim platform: Linux, macOS (author claims to support Windows, but no install script available) feature: medium feature speed: haven\u0026rsquo;t tried, written in C++, maybe very fast defx.nvim # vim or nvim: both platform: Linux, macOS and Windows feature: very rich speed: haven\u0026rsquo;t tried, but may be fast due to python implementation. chadTree # written in Python (requires at least Python 3.8.2)\nvim or nvim: nvim only platform: Linux, macOS and Windows feature: very rich speed: asynchronous and fast lir.nvim # vim or nvim: nvim only (written in lua) telescope-file-browser.nvim # vim or nvim: nvim only platform: Linux, macOS and Windows speed: asynchronous and fast (seems to be faster than nvim-tree.lua, I have tested both on a directory with 100000 files) misc: It is an unconventional file explorer. It uses telescope floating window for file management. Neo-tree.nvim # vim or nvim: nvim only platform: Linux, macOS and Windows feature: seems complete speed: may be fast, haven\u0026rsquo;t tried. ","date":"27 February 2022","externalUrl":null,"permalink":"/2022/02/27/nvim_file_tree_explorer/","section":"Posts","summary":"\u003cp\u003eFile explorer is one of the most widely-used types of plugin for Vim/Nvim.\nBelow are my curated list of file explorers for Nvim.\nSome of these plugins are specifically written for Nvim and will not work for Vim.\u003c/p\u003e","title":"A Curated List of File Explorers for Nvim","type":"posts"},{"content":"","date":"21 February 2022","externalUrl":null,"permalink":"/categories/thought/","section":"Categories","summary":"","title":"Thought","type":"categories"},{"content":"æœ‰ä¸ªäºº A åœ¨ Vim tg ç¾¤ï¼Œé—®äº†ä¸€ä¸ªç®€å•çš„ vim é—®é¢˜ï¼Œå¦å¤–ä¸€ä½ç¾¤å‹ B ç»™äº†é—´æ¥çš„å›ç­”ï¼Œå‘Šè¯‰ä»–åº”è¯¥å¤šæœç´¢ä¸€ä¸‹ã€‚ç»“æœå¼•å‘äº†å¤§è®¨è®ºï¼Œæœ‰äººè®¤ä¸ºç›´æ¥å›ç­”å°±å¥½ï¼Œæ²¡å¿…è¦æŒ‡æ•™åˆ«äººï¼Œæ²¡å¿…è¦é‚£ä¹ˆå‚²æ…¢ï¼Œå±…é«˜ä¸´ä¸‹ï¼Œå°±ç‚¸é”…äº†ï¼Œå¼•å‘äº†å¤§è®¨è®ºï¼Œè¿˜å¯¼è‡´å‡ ä¸ªäººé€€ç¾¤ã€‚\nå­¦ä¼šæŠ€æœ¯æé—® # åœ¨æŠ€æœ¯ä¸–ç•Œé‡Œï¼Œå¾ˆå¤šäººä¸€ç›´çŠ¯çš„ä¸€ä¸ªé”™è¯¯ï¼Œå°±æ˜¯ä¸ä¼šæé—®ï¼Œé—®ä¸€äº›å¾ˆç®€å•èƒ½å¤Ÿå¾ˆå¿«æœç´¢åˆ°çš„é—®é¢˜ï¼Œæˆ–è€…é—®ä¸€äº›å¤ªè¿‡äºå®½æ³›ã€æ— æ³•é’ˆå¯¹æ€§å›ç­”çš„é—®é¢˜ã€‚ä¸ºä»€ä¹ˆä¼šæå‡ºã€Œåé—®é¢˜ã€ï¼Ÿä¸€èˆ¬æœ‰ä¸¤ä¸ªåŸå› ï¼š\nä¸€ä¸ªå¯èƒ½æ˜¯ç¡®å®æ²¡æœ‰æ„è¯†åˆ°ï¼Œè¿™æ ·çš„æé—®ä¸åˆé€‚ï¼Œå¦‚æœæœ‰äººæŒ‡æ­£ä»¥åä»–ä¼šä¿®æ­£è‡ªå·±æé—®çš„æ–¹å¼ å¦å¤–ä¸€ä¸ªå°±æ˜¯ä¸æ„¿æ„èŠ±è´¹æ—¶é—´æ·±åº¦æ€è€ƒï¼ŒæœŸå¾…å…¶ä»–äººç»™å‡ºå®Œæ•´çš„è§£ç­”ï¼Œä¹Ÿå°±æ˜¯æ€æƒ³ä¸Šçš„æ‡’æƒ° å…³äºå¦‚ä½•ææŠ€æœ¯é—®é¢˜ï¼Œå¾ˆç»å…¸çš„æ–‡ç« æ˜¯ How to Ask Questions The Smart Way. å®ƒä¸å…‰æ˜¯è®²å¦‚ä½•æé—®ï¼Œä¹Ÿæ¶‰åŠåˆ°äº†å¦‚ä½•å»è§£å†³è‡ªå·±çš„é—®é¢˜. å½“ä½ æäº†ä¸€ä¸ªå¥½é—®é¢˜ï¼Œç»è¿‡è‡ªå·±çš„ä¸æ–­æ€è€ƒï¼Œå¯èƒ½å°±è‡ªå·±è§£å†³äº†ï¼Œä¸éœ€è¦æé—®äº†.\nç»ç’ƒå¿ƒæ˜¯å¥½çš„å—ï¼Ÿ # æˆå¹´äººçš„ä¸–ç•Œæ˜¯åœ†æ»‘çš„ï¼Œå¦‚æœæœ‰äººæ„¿æ„ç»™ä½ å»ºè®®ï¼Œè¯´ä¸€äº›ä½ ä¸æ„¿æ„å¬ä½†æ˜¯å¯¹ä½ æœ‰å¸®åŠ©çš„è¯,è¿™æ˜¯å¾ˆéš¾å¾—çš„ã€‚ä½ ä»¬æ²¡æœ‰ä»»ä½•çš„åˆ©ç›Šå…³ç³»ï¼Œä»–çº¯ç²¹æ˜¯å‡ºäºä¸ªäººå…´è¶£å¸®åŠ©ä½ ã€‚ä¸è¦è¿™æ ·ç»ç’ƒå¿ƒï¼Œè§‰å¾—åˆ«äººä¿¯è§†ä½ ï¼Œå±…é«˜ä¸´ä¸‹ï¼Œç¬¬ä¸€åˆ«äººå¯èƒ½å¹¶æ²¡æœ‰è¿™æ ·ï¼Œç¬¬äºŒå°±ç®—åˆ«äººå¯èƒ½æœ‰ç‚¹å‚²æ…¢ï¼Œæƒ³æƒ³ä»–ç»™ä½ æçš„å»ºè®®æ˜¯å¦æœ‰ç”¨ï¼Œè¿™æ‰æ˜¯æœ€å…³é”®çš„ï¼Œåˆ†æ¸…ä»€ä¹ˆæ˜¯é‡è¦çš„ï¼Œä»€ä¹ˆæ˜¯ä¸é‡è¦çš„ã€‚\nå›åˆ°åˆšæ‰çš„äº‹ä»¶ï¼ŒçŸ­æœŸæ¥çœ‹ç›´æ¥è§£ç­”åˆ«äººçš„æé—®ï¼Œå¯èƒ½æ˜¯å¯¹ä»–æœ‰ç”¨çš„ã€‚é•¿æœŸæ¥çœ‹ï¼Œå‘Šè¯‰ä»–æ–¹æ³•è®ºï¼Œæ‰æ˜¯çœŸæ­£å¯¹ä»–çš„å‘å±•æœ‰å¸®åŠ©çš„ã€‚çŸ­è§†çš„äººï¼Œå¸¸å¸¸ç”±äºåˆ«äººæ²¡æœ‰ç›´æ¥å›ç­”ä»–çš„é—®é¢˜è€Œæ¼æ€’ï¼Œè¿™æ ·çš„äººä¸å€¼å¾—å¸®åŠ©ï¼Œä¸å€¼å¾—æµªè´¹æ—¶é—´ã€‚\nWhat have you tried é‚£ç¯‡æ–‡ç« å…¶å®è®²çš„å°±æ˜¯è¿™æ ·çš„é—®é¢˜ã€‚å½“åˆ«äººæå‡ºé—®é¢˜ï¼Œä¸è¦åƒä¸ª loser ä¸€æ ·æŠ±æ€¨åˆ«äººä¸å°Šé‡ä½ .å¦‚æœä½ å±•ç°å‡ºæ¥ï¼Œä¸ºäº†è§£ç­”è¿™ä¸ªé—®é¢˜ï¼Œä½ ä»˜å‡ºäº†è‡ªå·±çš„åŠªåŠ›ï¼Œé‚£ä¹ˆåˆ«äººæ˜¯æ„¿æ„æ— å¿å¸®åŠ©ä½ çš„ï¼Œå¦åˆ™ä½ è‡ªå·±éƒ½ä¸æ„¿æ„èŠ±è´¹æ—¶é—´å»è§£å†³é—®é¢˜ï¼Œé™Œç”Ÿäººä¸ºä»€ä¹ˆè¦èŠ±è´¹å¤§é‡æ—¶é—´å»å¸®åŠ©ä½ ï¼Ÿ\nå½“ä½ ä¸åœ¨æ„åˆ«äººçš„æ—¶é—´ï¼Œåˆ«äººä¹Ÿä¸ä¼šåœ¨æ„ä½ çš„é—®é¢˜ã€‚æ‰€ä»¥å½“æˆ‘ä»¬é‡åˆ°è¿™æ ·çš„äººè¯¥å¹²å˜›ï¼Ÿå¿½ç•¥å°±å¥½äº†ã€‚\nRelated # å¦‚ä½•é«˜æ•ˆä½¿ç”¨æœç´¢å¼•æ“æ‰¾åˆ°æŠ€æœ¯é—®é¢˜çš„ç­”æ¡ˆ ä¸ºä»€ä¹ˆè¦ç”¨è‹±è¯­ä»¥åŠè°·æ­Œï¼Ÿ Getting answers: https://www.mikeash.com/getting_answers.html#guide_begin ","date":"21 February 2022","externalUrl":null,"permalink":"/2022/02/21/on_asking_tech_questions/","section":"Posts","summary":"\u003cp\u003eæœ‰ä¸ªäºº A åœ¨ \u003ca href=\"https://t.me/vimzh_real\" target=\"_blank\"\u003eVim tg ç¾¤\u003c/a\u003eï¼Œé—®äº†ä¸€ä¸ªç®€å•çš„ vim é—®é¢˜ï¼Œå¦å¤–ä¸€ä½ç¾¤å‹ B ç»™äº†é—´æ¥çš„å›ç­”ï¼Œå‘Šè¯‰ä»–åº”è¯¥å¤šæœç´¢ä¸€ä¸‹ã€‚ç»“æœå¼•å‘äº†å¤§è®¨è®ºï¼Œæœ‰äººè®¤ä¸ºç›´æ¥å›ç­”å°±å¥½ï¼Œæ²¡å¿…è¦æŒ‡æ•™åˆ«äººï¼Œæ²¡å¿…è¦é‚£ä¹ˆå‚²æ…¢ï¼Œå±…é«˜ä¸´ä¸‹ï¼Œå°±ç‚¸é”…äº†ï¼Œå¼•å‘äº†å¤§è®¨è®ºï¼Œè¿˜å¯¼è‡´å‡ ä¸ªäººé€€ç¾¤ã€‚\u003c/p\u003e","title":"å…³äºæ­£ç¡®æé—®æŠ€æœ¯é—®é¢˜","type":"posts"},{"content":"","date":"11 February 2022","externalUrl":null,"permalink":"/tags/ffmpeg/","section":"Tags","summary":"","title":"Ffmpeg","type":"tags"},{"content":"Building a usable Docker image with all the packages living peacefully is hard. Here is how to install pyav using Docker.\nEnvironment:\nsystem: Ubuntu 18.04 python: 3.6.9 pip: 20.3 change apt source # First, a not-necessary but huge time saver is to change the apt source used. Here in China, the official debian apt source is really slow. We can change it to aliyun or tsinghua. Their access speed is quite high in China.\nHere is the relevant snippet to change apt resource.\nARG APT_FILE=/etc/apt/sources.list # change apt repo source RUN mv $APT_FILE $APT_FILE.bak \u0026amp;\u0026amp; \\ touch $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE \u0026amp;\u0026amp; \\ echo \u0026#34;deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\u0026#34; \u0026gt;\u0026gt; $APT_FILE Install dependency packages # Second, we need to install necessary packages:\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y python-dev pkg-config Note that installation instructions given in pyav doc here does not work. It seems that the installed version of libavformat and other libs are too old. If we use that, we will see error message like this (also reported here and here):\nError building 'av.codec.codec' extension creating build/temp.linux-x86_64-3.6/src/av/codec x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python3.6m -Iinclude -I/usr/include/x86_64-linux-gnu -Ibuild/temp.linux-x86_64-3.6/include -I/usr/include/python3.6m -Ibuild/temp.linux-x86_64-3.6/include -c src/av/codec/codec.c -o build/temp.linux-x86_64-3.6/src/av/codec/codec.o src/av/codec/codec.c: In function â€˜__pyx_pymod_exec_codecâ€™: src/av/codec/codec.c:6061:36: error: â€˜AV_CODEC_CAP_HARDWAREâ€™ undeclared (first use in this function); did you mean â€˜AV_CODEC_CAP_DR1â€™? __pyx_t_7 = __Pyx_PyInt_From_int(AV_CODEC_CAP_HARDWARE); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 124, __pyx_L1_error) ^~~~~~~~~~~~~~~~~~~~~ AV_CODEC_CAP_DR1 src/av/codec/codec.c:6061:36: note: each undeclared identifier is reported only once for each function it appears in src/av/codec/codec.c:6082:36: error: â€˜AV_CODEC_CAP_HYBRIDâ€™ undeclared (first use in this function); did you mean â€˜AV_CODEC_CAP_DR1â€™? __pyx_t_7 = __Pyx_PyInt_From_int(AV_CODEC_CAP_HYBRID); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 128, __pyx_L1_error) ^~~~~~~~~~~~~~~~~~~ AV_CODEC_CAP_DR1 error: command 'x86_64-linux-gnu-gcc' failed with exit status 1 ---------------------------------------- Failed building wheel for av Running setup.py clean for av Failed to build av Add apt source for libav # Instead, we need to install the ffmpeg-4 apt source:\n# add a new ffmpeg source, the builtin is too old RUN apt-get update \u0026amp;\u0026amp; apt-get install -y software-properties-common \u0026amp;\u0026amp;\\ add-apt-repository -y ppa:jonathonf/ffmpeg-4 After that, install the dependency lib for pyav:\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y \\ ffmpeg \\ libavformat-dev \\ libavcodec-dev \\ libavdevice-dev \\ libavutil-dev \\ libswscale-dev \\ libswresample-dev \\ libavfilter-dev Finally, use pip to install pyav, it should be fine to install:\nRUN pip install -i https://pypi.tuna.tsinghua.edu.cn/simple av Ref # Official installation guide: https://pyav.org/docs/develop/overview/installation.html#installation ","date":"11 February 2022","externalUrl":null,"permalink":"/2022/02/11/pyav_install_docker/","section":"Posts","summary":"\u003cp\u003eBuilding a usable Docker image with all the packages living peacefully is hard.\nHere is how to install \u003ca href=\"https://github.com/PyAV-Org/PyAV\" target=\"_blank\"\u003epyav\u003c/a\u003e using Docker.\u003c/p\u003e","title":"Install pyav inside Ubuntu Docker","type":"posts"},{"content":"","date":"11 February 2022","externalUrl":null,"permalink":"/tags/pyav/","section":"Tags","summary":"","title":"Pyav","type":"tags"},{"content":"In order to for PyTorch to use host GPU inside a Docker container, their versions must match.\nUse correct nvidia-cuda docker as base image # First, in order to use GPU, we can not just use a regular docker image as the base image, we need to use images provided by nvidia/cuda. For example, to use CUDA 10.1 as the base image:\nFROM nvidia/cuda:10.1-cudnn7-devel-ubuntu18.04 #... other build steps follows Otherwise, even if you have installed PyTorch inside the container, torch.cuda.is_available() is still False.\nPyTorch and torchvision versions # Another point to remember is to install the right version of PyTorch that supports your CUDA versions. If you install PyTorch without specifying the version, the latest one is installed. It will have higher requirement for CUDA version. If you try to use CUDA, then you see error like this:\npytorch the nvidia driver on your system is too old (found version 10010) To check which version of CUDA torch is built with, use torch.version.cuda (source here).\nFind suitable PyTorch version # To find the PyTorch version built with CUDA 10.1, in the PyTorch stable release page, search cu101. We know that there is v1.6.0 built with CUDA 10.1, then we can run the following command to install v1.6.0:\npip install torch==1.6.0+cu101 -f https://download.pytorch.org/whl/torch_stable.html Match torchvision with torch version # The torchvision package version should also match version of torch. In this page, we can see a table of version correspondence. For example, for torch 1.6.0, torchvision 0.7.0 is fine. So our final install command:\npip install torch==1.6.0+cu101 torchvision==0.7.0 -f https://download.pytorch.org/whl/torch_stable.html Ref # https://pytorch.org/get-started/previous-versions/\n","date":"9 February 2022","externalUrl":null,"permalink":"/2022/02/09/dependency-hell-build-torch-gpu-docker-container/","section":"Posts","summary":"\u003cp\u003eIn order to for PyTorch to use host GPU inside a Docker container, their versions must match.\u003c/p\u003e","title":"Dependency Hell When Building A PyTorch GPU Docker Image","type":"posts"},{"content":"Today I upgrade Hugo from v0.75 to the latest version (v0.92). When I run the deployment script to build the site and push, I saw the following error:\nerror: Error building site: \u0026ldquo;/Users/jdhao/Blog/content/post/back-propagation-in-mlp-explained.pdc:1:1\u0026rdquo;: access denied: \u0026ldquo;pandoc\u0026rdquo; is not whitelisted in policy \u0026ldquo;security.exec.allow\u0026rdquo;;\nThe cause # From the release note of v0.91, we can find the reason (the part about New Security Configuration).\nThis release also adds some new security hardening measures for the Hugo build runtime in the form of a new security configuration. There are some rarely used features in Hugo that would be good to have disabled by default. One example would be the \u0026ldquo;external helpers\u0026rdquo;.\nSo Hugo v0.91 introduces a set of security config meant to harden the building environment. If we use external tools like pandoc (as the Markdown renderer), nvim or emacs (as the new content editor), we now need to allow them explicitly in our configuration. Otherwise, they are not allowed to run.\nSolution # The solution is simple. Edit the config.toml under site root, and add the following security section:\n[security] enableInlineShortcodes = false [security.exec] allow = [\u0026#39;^dart-sass-embedded$\u0026#39;, \u0026#39;^go$\u0026#39;, \u0026#39;^npx$\u0026#39;, \u0026#39;^postcss$\u0026#39;, \u0026#39;^pandoc$\u0026#39;, \u0026#39;^nvim$\u0026#39;] osEnv = [\u0026#39;(?i)^(PATH|PATHEXT|APPDATA|TMP|TEMP|TERM)$\u0026#39;] [security.funcs] getenv = [\u0026#39;^HUGO_\u0026#39;] [security.http] methods = [\u0026#39;(?i)GET|POST\u0026#39;] urls = [\u0026#39;.*\u0026#39;] Add the needed executable to the security.exec.allow white list. After that, the error should disappear.\nReferences # security issues: https://github.com/gohugoio/hugo/issues/9315 https://github.com/gohugoio/hugo/issues/9420 ","date":"2 February 2022","externalUrl":null,"permalink":"/2022/02/02/executable_not_allowed_to_run_in_hugo/","section":"Posts","summary":"\u003cp\u003eToday I upgrade \u003ca href=\"https://github.com/gohugoio/hugo\" target=\"_blank\"\u003eHugo\u003c/a\u003e from v0.75 to the latest version (v0.92).\nWhen I run the deployment script to build the site and push, I saw the following error:\u003c/p\u003e","title":"External Executable Not Allowed to Run after Hugo v0.91?","type":"posts"},{"content":"","date":"2 February 2022","externalUrl":null,"permalink":"/tags/hugo/","section":"Tags","summary":"","title":"Hugo","type":"tags"},{"content":"å‡‰èœä¸‡èƒ½è°ƒæ–™æ±åˆ¶ä½œæ–¹æ³•ã€‚\nåŸæ–™ # å¤§è’œğŸ§„ï¼Œå°è‘±ï¼Œç”Ÿå§œï¼Œç›ï¼Œç™½ç³–ï¼Œè€é™ˆé†‹ï¼Œç”ŸæŠ½\nå¯é€‰ï¼šå°ç±³è¾£ï¼Œè¾£æ¤’ç²‰ï¼Œé¦™èœ\nåˆ¶ä½œæ­¥éª¤ # å¤§è’œæ‹æ‰åˆ‡ç¢æˆè’œæœ«ï¼Œå°è‘±åˆ‡ç¢ï¼Œå–é€‚é‡å§œåˆ‡æˆå§œæœ«ï¼Œæ”¾å…¥ç¢—ä¸­ï¼Œå–œæ¬¢åƒè¾£çš„ï¼Œå†åŠ å…¥é€‚é‡è¾£æ¤’ç²‰å’Œåˆ‡æˆæ®µçš„å°ç±³è¾£ å›½å†…çƒ­å°‘é‡æ²¹ï¼Œå¾…æ²¹å¼€å§‹è½»å¾®å†’çƒŸï¼Œæ¸©åº¦åˆé€‚ï¼Œåˆ†æ¬¡åŠ å…¥åˆ°ç¢—ä¸­ï¼Œæ¯æ¬¡åŠ å…¥æ²¹æ…æ‹Œä¸€ä¸‹ï¼Œä½¿æ²¹å……åˆ†ä¸åŸæ–™æ··åˆ åŠ å…¥é€‚é‡ç›ï¼Œç™½ç³–ï¼Œç”ŸæŠ½ï¼Œè€é™ˆé†‹ï¼Œæ…æ‹Œå‡åŒ€å³å¯ï¼ˆé†‹çš„æ¯”ä¾‹æ ¹æ®å£å‘³æ¥æ§åˆ¶ï¼‰ å–œæ¬¢åƒé¦™èœï¼Œå¯ä»¥åˆ‡å°‘é‡é¦™èœï¼Œæœ€ååŠ å…¥è°ƒæ–™æ±æ‹ŒåŒ€ å‚è€ƒ # https://www.youtube.com/watch?v=e1BQ8bsalG0 ","date":"1 February 2022","externalUrl":null,"permalink":"/2022/02/01/make_sauce_for_cold_dish/","section":"Posts","summary":"\u003cp\u003eå‡‰èœä¸‡èƒ½è°ƒæ–™æ±åˆ¶ä½œæ–¹æ³•ã€‚\u003c/p\u003e","title":"å‡‰èœè°ƒå‘³æ±åˆ¶ä½œæ–¹æ³•","type":"posts"},{"content":" å®¶å¸¸ç‰ˆè’œè“‰ç‚’è™¾ğŸ¦åˆ¶ä½œæ–¹æ³•ã€‚\nåŸæ–™ # è‘±ï¼Œå§œï¼Œè’œï¼Œæ–™é…’ï¼Œç”ŸæŠ½ï¼Œç™½ç³–ï¼Œèšæ²¹ï¼Œç‰ç±³/çº¢è–¯æ·€ç²‰ï¼Œæ´»è™¾ğŸ¦ï¼Œ\nåŸæ–™å‡†å¤‡ # å‡†å¤‡è‘±å§œåˆ‡ä¸æˆ–è€…ç‰‡ å‡†å¤‡è™¾ï¼šå»é™¤å†…è„å’Œè™¾çº¿ï¼Œå‰ªæ‰é•¿é¡»ï¼Œæ¸…æ´—å¹²å‡€ è…Œåˆ¶è™¾ï¼šæŠŠè™¾ï¼Œè‘±å§œï¼Œå°‘é‡æ–™é…’æ”¾å…¥ç¢—ä¸­ï¼Œç”¨æ‰‹æŠ“å‡ éï¼Œä¿è¯æ··åˆå‡åŒ€ï¼Œè…Œåˆ¶ 10 åˆ†é’Ÿ å‡†å¤‡å¤§é‡ç”Ÿè’œï¼Œåˆ‡æˆè’œæ³¥å¤‡ç”¨ï¼Œé€‚é‡å°è‘±ï¼Œåˆ‡è‘±èŠ±å¤‡ç”¨ã€‚ å‡†å¤‡æ·€ç²‰æ°´(å°‘é‡æ°´ï¼ŒåŠ å…¥é€‚é‡æ·€ç²‰ï¼Œåˆ«å¤ªå¤š) åˆ¶ä½œæ­¥éª¤ # é”…å†…åŠ å…¥çƒ­æ²¹ï¼Œä¸‹å…¥è…Œåˆ¶å¥½çš„è™¾ï¼ŒæŠŠè™¾ç‚’åˆ°è™¾çš®å˜çº¢ï¼Œæå‡ºã€‚ å€’å…¥ç”Ÿè’œæ³¥ï¼Œç¿»ç‚’ï¼ŒåŠ å…¥è™¾ç•¥å¾®ç¿»ç‚’ï¼Œå¼€å§‹è°ƒå‘³ï¼ŒåŠ å…¥é€‚é‡é£Ÿç›ï¼Œç”ŸæŠ½ï¼Œç™½ç³–ï¼Œèšæ²¹ï¼Œç¿»ç‚’å‡åŒ€ã€‚ é”…ä¸­å€’å…¥å°‘é‡å¼€æ°´ï¼Œä¸­å°ç«ç…® 3-5 åˆ†é’Ÿï¼ŒåŠ å…¥é”…ä¸­å‹¾èŠ¡ï¼Œå¼€å¤§ç«æ”¶æ±(æ³¨æ„ç¿»ç‚’ä»¥é˜²ç³Šé”…ï¼‰ï¼Œå¾…æ±¤æ±ç²˜ç¨ ï¼ŒåŠ å…¥è‘±èŠ±å³å¯å‡ºé”…è£…ç›˜ã€‚ å‚è€ƒ # https://m.youtube.com/watch?v=XxOdHaNSsAg ","date":"1 February 2022","externalUrl":null,"permalink":"/2022/02/01/stir-fried-shrimp-with-garlic/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202012330649.jpg\" width=\"400\"\u003e\n\u003c/p\u003e\n\u003cp\u003eå®¶å¸¸ç‰ˆè’œè“‰ç‚’è™¾ğŸ¦åˆ¶ä½œæ–¹æ³•ã€‚\u003c/p\u003e","title":"èœè°±ï¼šè’œè“‰ç‚’è™¾","type":"posts"},{"content":"Saving and loading PyTorch models # Models in PyTorch are a subclass of torch.nn.Module. To save the model parameters, we use model.state_dict() to get all the model parameters:\nstate = model.state_dict() Then save the model parameter using torch.save():\ntorch.save(state, \u0026#39;my-model.pth\u0026#39;) Loading error when using torch.load to load model trained on GPU # When we load a model trained on GPU in a machine with no GPU using torch.load(model_path), we often get the following error:\nRuntimeError: Attempting to deserialize object on a CUDA device but torch.cuda.is_available() is False. If you are running on a CPU-only machine, please use torch.load with map_location=torch.device(\u0026lsquo;cpu\u0026rsquo;) to map your storages to the CPU.\nThe cause # This is because when we use torch.save() to save an object, torch will also store the location of original data (called location tag, check code here). torch.save() also keeps the view relationship between tensors unchanged, see here.\nBased on code here, it seems that PyTorch will save the GPU tensor as CPU.\nWhen we use torch.load(), since the tensor location has been recorded, torch will load the tensor first to CPU, then moves it to the GPU indicated by the location tag. If that GPU is missing or we are using a CPU machine, the above error will occur.\nLoad the model correctly # A better way to load a model is to move it to CPU using the map_location parameter of torch.load(). Load the model to CPU, then load the model parameter into the model, finally, move the model to GPU:\n# move the model parameter to cpu state = torch.load(\u0026#39;my-model.pth\u0026#39;, map_location=torch.device(\u0026#39;cpu\u0026#39;)) model.load_state_dict(state) # now move the model parameter to a GPU device of your choice model.to(torch.device(\u0026#39;cuda:0\u0026#39;)) ref # saving and loading models: https://pytorch.org/tutorials/recipes/recipes/save_load_across_devices.html#saving-and-loading-models-across-devices-in-pytorch ","date":"28 January 2022","externalUrl":null,"permalink":"/2022/01/28/pytorch_model_load_error/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eSaving and loading PyTorch models \n    \u003cdiv id=\"saving-and-loading-pytorch-models\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#saving-and-loading-pytorch-models\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eModels in PyTorch are a subclass of \u003ccode\u003etorch.nn.Module\u003c/code\u003e. To save the model parameters,\nwe use \u003ccode\u003emodel.state_dict()\u003c/code\u003e to get all the model parameters:\u003c/p\u003e","title":"A Dig into PyTorch Model Loading","type":"posts"},{"content":" I took the LinkedIn Git assessment and got a certificate1, but found that I am not super clear on some of the questions. Here is an analysis of some of the questions and their answers.\ndifferent ways of git add and their meaning # I have written about this in this post.\ngit reset: soft vs mixed vs hard # When using git-reset, there three different types of reset, in term of disruptiveness:\n--soft: moves HEAD to specified commit, and changes in the reset commits are squashed and kept in the staging area. --mixed: moves HEAD to specified commit, changes in the reset commits as well as changes in staging areas are moved to working tree. This is the default reset behaviour. --hard: moves HEAD to the specified commit, but all the changes (changes in the reset commit, in staging area , as well as changes in working tree) are discarded. Ref:\nsoft vs mixed vs hard: https://stackoverflow.com/a/50022436/6064933 what does git reset do: https://stackoverflow.com/q/2530060/6064933 What the following command do: # git checkout master git cherry-pick kj2342134 It pick the commit kj2342134 and apply it on master, i.e., it will try to patch master branch with commit kj2342134.\nNote we are likely to meet merge conflict. We need to resolve the conflict and then git add conflict_file, then run git cherry-pick --continue.\nRef:\nwhat does cherry-pick do? https://stackoverflow.com/q/9339429/6064933 show changes in files via git diff-tree # git diff-tree --no-commit-id --name-status -r \u0026lt;SHA\u0026gt; The output may look like this:\nD autocommands.vim A core/autocommands.vim A core/mappings.vim A core/options.vim A core/plugins.vim A core/ui.vim A core/variables.vim M init.vim D mappings.vim D options.vim D plugins.vim D ui.vim D variables.vim Ref\nhttps://stackoverflow.com/a/24819616/6064933\nwhat does git commit -a do? # It will stage modified and deleted files (but not new files) to staging area and commit them to index. So it is equivalent to the following two commands:\ngit add -u git commit Ref:\nhttps://stackoverflow.com/a/6840337/6064933 Status after modifying staged files # Why do you see the following git status output?\nOn branch master Changes to be committed: (use \u0026#34;git restore --staged \u0026lt;file\u0026gt;...\u0026#34; to unstage) modified: test.txt Changes not staged for commit: (use \u0026#34;git add \u0026lt;file\u0026gt;...\u0026#34; to update what will be committed) (use \u0026#34;git restore \u0026lt;file\u0026gt;...\u0026#34; to discard changes in working directory) modified: test.txt It means that after test.txt is added to staging area, and you have changed it.\nwhat does the following command do: # git fetch --all git reset --hard origin/master It will fetch the remote changes, then discard all local changes and move HEAD to remote master. This will effectively make your local master the same as your remote master.\nRef:\nDifference between git pull and git fetch: https://stackoverflow.com/q/292357/6064933 Does git push push all tags to remote by default? # No, if you create a tag locally, they are not pushed to remote by default when you do git push. To push a certain tag to remote, use:\ngit push origin {some-tag} To push all tags to remote:\ngit push origin --tags Ref:\nhttps://jdhao.github.io/2021/05/08/git_tag_notes/#push-tags-to-remote check the help for a git subcommand # For example, we want to check doc for git reset, how do we do it on command line? There are two ways:\ngit help reset man git-reset How do we restore to original state if we meet a merge conflict and decided to discard the changes? # Use git merge --abort .\nRef:\nabort a merge: https://stackoverflow.com/a/2534968/6064933 Show branches that has been merged by current branch? # Use git branch --merged\nClean untracked file in a repo? # We can use git clean -f (-f means with force) to clean untracked files in a git repo.\nNote that this will not remove untracked directories by default. To also remove untracked directories (be careful if you really want to), add -d option: git clean -d -f.\nTo see the dry-run result (do not actually delete the files), use --dry-run or -n.\ndifference between git fetch and git pull # You can think of git-pull as a two step operation: first we use git fetch, then we use git merge to merge the remote tracking branch.\nShow what is in a git stash without applying it # First, use git stash list to list a list of stashes. The output is like this:\nstash@{0}: WIP on feat: c6c7af1 4 and 5 stash@{1}: WIP on feat: c6c7af1 4 and 5 stash@{2}: WIP on feat: c6c7af1 4 and 5 Then, to see the changes in first stash, use git stash show -p stash@{0}. We can think of stash as a stack, where top is your most recent stashed changes.\nYou need to be the top 30% to get one.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 January 2022","externalUrl":null,"permalink":"/2022/01/14/linkedin_git_assessment/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202012337737.jpg\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eI took the \u003ca href=\"https://github.com/Ebazhanov/linkedin-skill-assessments-quizzes/tree/master/git\" target=\"_blank\"\u003eLinkedIn Git assessment\u003c/a\u003e and got a certificate\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e, but found that I am not super clear on some of the questions.\nHere is an analysis of some of the questions and their answers.\u003c/p\u003e","title":"Selected Questions from LinkedIn Git Assessment","type":"posts"},{"content":" LogSumExp is often used in machine learning. It has the following form:\n\\[\\begin{equation} LSE(x_1, x_2, \\ldots, x_n) = \\log\\sum_{i=1}^{N}\\exp(x_i) \\end{equation}\\]\nLSE as an upper bound for max() LSE is an upper bound for \\(max(x_1, x_2, \\ldots, x_n)\\) (The equality establishes only when \\(n=1\\)). We have the following inequality:\n\\[\\begin{equation} max(x_1, x_2, \\ldots, x_n) \u0026lt;= \\log\\sum_{i=1}^{N}\\exp(x_i) \\end{equation}\\]\nTo verify this, I have drawn a graph comparing LSE vs max for 2D data in the range of [-1, 1]. The graph is shown in the title image. It clear that LSE is indeed an uppber bound for max.\nclick here to check the code used to generate the title image import matplotlib.pyplot as plt import numpy as np def main(): fig = plt.figure() ax = fig.add_subplot(projection=\u0026#39;3d\u0026#39;) N = 200 x1 = np.linspace(-1, 1, N) x2 = np.linspace(-1, 1, N) X1, X2 = np.meshgrid(x1, x2) Y = np.log(np.exp(X1) + np.exp(X2)) surf = ax.plot_surface(X1, X2, Y, color=\u0026#39;red\u0026#39;) Y_up = np.max(np.stack([X1, X2], axis=0), axis=0) surf2 = ax.plot_surface(X1, X2, Y_up, color=\u0026#39;blue\u0026#39;) # y = np.log(np.exp(x1) + np.exp(x2)) # ax.plot_trisurf(x1, x2, y, color=\u0026#39;red\u0026#39;) # y_up = np.max(np.stack([x1, x2], axis=1), axis=1) # ax.plot_trisurf(x1, x2, y_up, color=\u0026#39;green\u0026#39;) ax.set_xlabel(\u0026quot;X1\u0026quot;) ax.set_ylabel(\u0026quot;X2\u0026quot;) ax.set_zlabel(\u0026quot;Z\u0026quot;) # change the 3D plot angel and dist, https://stackoverflow.com/q/12904912/6064933 ax.view_init(elev=11, azim=-46) ax.dist = 10 # plt.show() plt.savefig(\u0026quot;log_sum_exp_vs_max.pdf\u0026quot;, bbox_inches=\u0026#39;tight\u0026#39;) if __name__ == \u0026quot;__main__\u0026quot;: main() How is this information useful? Well, we can use it to transform the optimization target. For example, you may want to optimize \\(max(x_1, x_2)\\), which is not differentiable. Then we can optimize \\(LSE(x_1, x_2)\\) instead.\nIn Lifted structure loss, they used this trick to transform equation 3 to equation 4. Without this knowledge, you will find it difficult to understand how they arrive at equation 4.\nLSE for numerical stability When we use softmax function to normalize a vector and the vector contains large or small values, we will encounter numerical issues (overflow or underflow). We need to use LSE to alleviate this issue.\nThis post explains how it works in detail.\nReferences https://en.wikipedia.org/wiki/LogSumExp matplotlib plot_trisurf ","date":"9 January 2022","externalUrl":null,"permalink":"/2022/01/09/log_sum_exp_in_machine_learning/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202201092324184.jpg\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eLogSumExp is often used in machine learning. It has the following\nform:\u003c/p\u003e","title":"Why do We Use LogSumExp in Machine Learning?","type":"posts"},{"content":"We often need to squash several related commits to make the commit history cleaner. There are several different ways to achieve this.\nHere, suppose we want to squash last 2 commits.\nUsing git rebase # I have covered this method in my previous post, so I won\u0026rsquo;t repeat it here.\nsoft reset, then commit # First, we run the soft reset command:\ngit reset --soft HEAD~2 This will reset last two commits, but keep their changes. If you run git status command, you will see that you have uncommitted changes. These changes are a combination of changes in last two commits.\nNow, you just commit again and write the new commit message:\ngit commit -m \u0026#34;some msg blah blah blah\u0026#34; hard reset, then merge \u0026ndash;squash # First, we run the hard reset command:\ngit reset --hard HEAD~2 This will discard changes in the recent two commits, but there are actually not lost. HEAD@{1} represents where your HEAD was before you use hard reset. HEAD@{2} represents your HEAD two moves ago. So HEAD@{} variable logs your HEAD movement. We can check the HEAD movement using git reflog. An example output is like this:\n0073058 (HEAD -\u0026gt; master) HEAD@{0}: commit: 9th 618c9fd HEAD@{1}: commit: 8th ed79391 HEAD@{2}: commit: Squashed commit of the following: f0fb17b HEAD@{3}: reset: moving to HEAD~2 b2ee13a HEAD@{4}: reset: moving to HEAD b2ee13a HEAD@{5}: reset: moving to HEAD b2ee13a HEAD@{6}: reset: moving to HEAD b2ee13a HEAD@{7}: reset: moving to HEAD b2ee13a HEAD@{8}: reset: moving to HEAD b2ee13a HEAD@{9}: reset: moving to HEAD b2ee13a HEAD@{10}: reset: moving to HEAD b2ee13a HEAD@{11}: commit: 7th 004a853 HEAD@{12}: commit: sixth f0fb17b HEAD@{13}: commit: fifth d9f10ed HEAD@{14}: commit: fourth 774b308 HEAD@{15}: commit: thrid ad2fb58 HEAD@{16}: commit: second efe6902 HEAD@{17}: commit (initial): first Now, we will run git merge --squash HEAD@{1} to squash the recent two commits. The merge window should be pre-populated with the commit message of recent two commits.\nReferences # Squash my last X commits together using Git Meaning of HEAD@{N} notation: https://stackoverflow.com/a/21911246/6064933 Difference between merge --squash and rebase: https://stackoverflow.com/q/2427238/6064933 ","date":"9 January 2022","externalUrl":null,"permalink":"/2022/01/09/git_squash_last_n_commits/","section":"Posts","summary":"\u003cp\u003eWe often need to squash several related commits to make the commit history cleaner.\nThere are several different ways to achieve this.\u003c/p\u003e","title":"How to Squash Last N Commits in Git?","type":"posts"},{"content":" update log 2022-08-21: add section on profile visitor stat 2022-04-09: add section on Stack Overflow stats card. In this post, I will share how to customize your GitHub profile page, and you can find the end result here.\nGitHub allows us to show README content on top of our profile page: https://github.com/{user_name}.\nCreate a special repo # First, we need to create a special repo that has the same name as our user name. For example, my GitHub name is jdhao, so the new repo name will be jdhao.\nCreate a README # In the new repo, add a file named README.md. All content inside this file will be rendered and displayed on your profile.\nCustomization # Show latest blog post # We can use this blog-post-workflow GitHub action to update the README with the latest post from our blog site.\nFirst, edit the README.md and add the following section:\n# Latest blog posts \u0026lt;!-- BLOG-POST-LIST:START --\u0026gt; \u0026lt;!-- BLOG-POST-LIST:END --\u0026gt; Then in the personal repo https://github.com/jdhao/jdhao, create folder .github/workflows. In this folder, add blog-post-workflow.yml:\nname: Latest blog post workflow on: schedule: # Run workflow automatically - cron: \u0026#39;30 23 * * *\u0026#39; # Runs every day on 23:30 workflow_dispatch: # Run workflow manually (without waiting for the cron to be called), through the Github Actions Workflow page directly jobs: update-readme-with-blog: name: Update this repo\u0026#39;s README with latest blog posts runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 - name: Pull in my blog posts uses: gautamkrishnar/blog-post-workflow@master with: feed_list: \u0026#34;https://jdhao.github.io/index.xml\u0026#34; This action will be run periodically (every day on 23:30). Check here for the GitHub action cron syntax.\nNote the feed link for feed_list field should be replaced with your own blog feed.\nPush the changes to your personal repo. To trigger the action manually, go to Actions, click the workflow, and then click Run workflow.\nThis action will update your README automatically.\nShow GitHub stats # With the help of project github-readme-stats, we can display our GitHub stats easily:\n\u0026lt;p align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://github-readme-stats.vercel.app/api?username=jdhao\u0026amp;show_icons=true\u0026amp;count_private=true\u0026amp;theme=solarized-light\u0026amp;hide_border=true\u0026#34; width=\u0026#34;600\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; The result is:\nShow GitHub streak stats # The project github-readme-streak-stats can help to show your contributions and streak stats.\n\u0026lt;img alt=\u0026#34;jdhao\u0026#39;s GitHub Streak\u0026#34; src=\u0026#34;https://github-readme-streak-stats.herokuapp.com?user=jdhao\u0026amp;theme=solarized-light\u0026amp;hide_border=true\u0026#34; width=\u0026#34;60%\u0026#34;\u0026gt; The result is like this:\nShow Stack Overflow stats # With the help of project stackoverflow-card, we can easily create a card for our Stack Overflow account:\n[![jdhao\u0026#39;s stackoverflow profile](https://stackoverflow-card.vercel.app/?userID=6064933\u0026amp;theme=solarized-light)](https://stackoverflow.com/users/6064933/jdhao) The result is like this:\nShow profile view stats # The project github-profile-views-counter will help you count the number of visitors to your profile page. Add a link like this to your profile README:\n\u0026lt;img src=\u0026#34;https://gpvc.arturio.dev/jdhao\u0026#34; alt=\u0026#34;Profile views\u0026#34;/\u0026gt; The result is like this:\nReferences # https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/about-your-profile Create GitHub profile: https://www.youtube.com/watch?v=ECuqb5Tv9qI https://aboutmonica.com/blog/how-to-create-a-github-profile-readme/ collections of Markdown badges: https://github.com/Ileriayo/markdown-badges https://github.com/progfay/shields-with-icon https://github.com/alexandresanlim/Badges4-README.md-Profile https://home.aveek.io/GitHub-Profile-Badges/ ","date":"3 January 2022","externalUrl":null,"permalink":"/2022/01/03/github_profile_readme/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-08-21: add section on profile visitor stat\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-04-09: add section on Stack Overflow stats card.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I will share how to customize your GitHub profile page,\nand you can find the end result \u003ca href=\"https://github.com/jdhao\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/p\u003e","title":"How to Make An Impressive and Beautiful GitHub Profile","type":"posts"},{"content":" I started using Neovim (nvim for short) about three years ago, in Sep. 2018. At that time, nvim had just released v0.3.1. Over the years, I have been a staunch nvim user, constantly learning new knowledge, and sharing tips, tricks and interesting plugins in my blog posts.\nHow I started with Neovim # Back when I was still in university, I had dabbled in Vim a little bit. I remember that in those days, most posts on the Internet recommended a plugin manager called vundle. As for auto-completion, ycm was the most popular plugin at the time. However, it is difficult to install and configure, and I never succeeded in installing it. I copied some basic config from various posts and did not really know what they mean. Vim script seemed weird and hard to understand. So my first trial of Vim didn\u0026rsquo;t really take off. I learned the basic motions and know how to save and quit a file, but no fancy and advanced features such as text objects. I was still using PyCharm and Sublime Text for serious project development.\nAfter I graduated and started working, since we need to run the code on a remote server with no GUI support, I was forced to make choices:\nDevelop on the server without GUI, which implies using a TUI editor. Vim is apparently the choice. Develop on my local PC and sync the code to remote via Git or other tools. I find choice one more elegant, since I do not need to set up dev environment on my local machine, and I can run my code directly on the server (running the code requires GPU and there is no GPU on my local machine). At the time, I came to know the Neovim project. I choose Nvim because it is easily installable. It provides binary releases, so I do not need to compile from source myself. I also like its development model more than Vim\u0026rsquo;s. Nvim uses GitHub and other modern dev tools for better collaboration, while Vim is still using google groups1 for dev communications.\nFinally, I was on the Neovim boat and started my journey.\nMy learning story # The initial learning curve of nvim was indeed quite steep. I needed to constantly check the documentation or search on the Internet, then tweak the config to do what I want. Sometimes, a small setting may waste a lot of time, since I needed to understand what it does and how it works. I also spent a lot time tweaking the settings of various plugins to fit my need.\nMy way of learning Nvim is to add the features and plugins I need incrementally. At the start, I only added the settings I wanted most, like autocompletion, linting, file explorer etc. I searched intensively on the Internet for the state of the art plugins for a particular need. I will try several similar plugins, and only keep the one that best suits me. The most important point to remember is that never rush to master Vim in a few days. Vim has so many hidden features and settings, and it is impossible to master it quickly.\nAfter about three or four months of rapid learning process, I was at ease using Nvim for my development work. I published a post on how to configure Nvim for Python development.\nAfter building a usable config, when I want to do something, I always check if there is a better way to do it. I searched on the Internet and learned new tricks, and perfected those skills through practicing. Notice that not all tricks on the Internet are good and written by advanced Vim users. We need to constantly learn new Vim knowledge and update our existing settings.\nAnother great learning resource is the configurations of other people. We can find numerous dotfile repos on GitHub and learn from them little tips and tricks that we do not know yet. I have always advised against copying the config of others without knowing what you are doing. At the very least, we should read the documentation and understand what a particular setting does. If we copy other\u0026rsquo;s config blindly, it may cause endless pains afterwards when we spend hours debugging misbehaving Nvim.\nAs I became more proficient in Vim, I started learning more advanced features such as text objects. I also created some custom text objects for my own use. I have always wanted to write my own plugin and contribute to the Vim community. After learning enough about Vim script, I wrote a plugin called better-escape.vim in Dec. 2020. The goal is to help users escape insert mode quicker without lagging caused by timeoutlen option.\nThis year (2021), I have been learning Lua and migrating some of my config to pure Lua.\nEvolution of my configuration # I didn\u0026rsquo;t create a repo to store my nvim config at first. I just stored it in a gist. It wasn\u0026rsquo;t until April 2019 that I created a repo for my nvim config.\nInitially, all my config is stored in a single file init.vim, which in its peak exceeded 2000 lines. Later, as I learned more about how Vim works (autoload, ftplugin, after folder etc.)2, I started splitting my config into different directories and files for better maintainability.\nMy config has been all vim script for a long time. Since nvim is adding more lua support and using lua to implement its builtin LSP support, I have also been updating my config and adding a little lua. I have slowly moved my completion system to the builtin LSP3. After that, part of my configuration is moved to lua/ directoryã€‚\nWith the release of Nvim v0.5, there has been a burst of lua-based plugins. I have also replaced some of the viml plugins to their lua-based counterparts4 this year.\nWhat remains, what has changed, and some new plugins # I am not a Vim purist5, so plugins have always been an essential part in using Vim/Nvim. Since there is no central plugin marketplace like Emacs MELPA, finding good plugins is not always easy.\nThat a plugin is popular and has more stars does not mean that it is better or it suits you6. Over the course of three years, I have always tried to find better alternatives for my existing plugins. Admittedly, trying a new plugin and adapting to it is a time-consuming process, especially when a plugin does not work out of the box and requires some degree of customization. However, the efficiency boost brought by a well-designed plugin can be huge.\nWhat remains # A few plugins still remain:\ngit gutter plugin: I still use vim-signify, but gitsigns.nvim seems more powerful and promising. snippet plugin: I am still using ultisnips due to its powerful interpolation features. There are also many lua-based snippet engines worth trying. git plugins: still use vim-fugitive. I have also tried gina, but find it too complicated. There are also lua-based git plugins such as neogit, which aims to replicate the functionality of magit. markdown plugins: vim-markdown for editing and markdown-preview.nvim for preview. What has changed # I have also updated a large part of my plugins during the process:\nplugin manager: from vim-plug to packer.nvim. I switched to packer.nvim middle this year, because it allows all sort of crazy lazy loading and brings package management to a whole new level. autocompletion plugins: from deoplete + deoplete-jedi to vim-lsp + deoplete to nvim-lsp + nvim-compe to nvim-lsp + nvim-cmp. Nvim-cmp is light-weight, well-designed and awesome. pair management: from vim-surround to vim-sandwich. Vim-sandwich is well-designed and has better UX than vim-surround, though it is less popular than vim-surround. comment plugin: from nerdcommenter to commentary.vim. I like commentary\u0026rsquo;s feature of commenting code via motion. file explorer: from nerdtree to none. I use fuzzy file finder instead. If I need to explore a project, I check it in another tmux pane. statusline plugin: from vim-airline to lualine. Vim-airline is great, but it is also bloated with too many 3rd-party plugin integrations. Lualine is simple, faster, and easy to customize. change of linting: from Neomake to ALE to nvim-lsp auto-pair plugin: from auto-pairs to delimitMate. DelimitMate has saner behaviour for pair insertion than auto-pairs. in-buffer jump: from vim-sneak to hop.nvim. Vim-sneak has been a great plugin. I changed to hop.nvim because it may support jumping via pinyin (PR here), which is convenient for Chinese users. search item indexing: from vim-anzu to nvim-hlslens. Nvim-hlslens is a lua plugin that provides better UX for search indexing using virtual text feature of Nvim. clear search highlight automatically: from vim-cool to nvim-hlslens format plugin: from Neoformat to none (using LSP for formatting). multiple cursors: from vim-multiple-cursors to none. I now use gn mostly. vim-visual-multi may be a good replacement (also recommended by author of vim-multiple-cursors). yank highlight: from vim-highlightedyank to nvim builtin, see this post for the detail. fuzzy finder: from fzf.vim to LeaderF. LeaderF works fast and reliably across different systems. startup screen: from vim-startify to alpha-nvim. tabline plugin: from vim-airline to bufferline.nvim. indent line plugin: from indentLine to indent-blankline.nvim. Indent-blankline uses the virtual text feature to make indent line flawless even on blank lines. auto save plugin: from vim-auto-save to AutoSave.nvim. showing tags: from tagbar to vista. Vista is better at displaying symbols. New plugins # I have also added some new and interesting plugins:\nnvim-treesitter: more accurate syntax highlighting, text object and more. nvim-notify: show notifications via floating windows. unicode.vim: check, search and insert unicode characters. asyncrun.vim: run code asynchronously in the background and show results in quick fix window. firenvim: run neovim inside text area in the browser and use it for quicker editing. vim-oscyank: yank text from remote server directly to the clipboard of your local machine. wilder.nvim: fancy autocompletion in command line for Nvim. whichkey.nvim: show key mappings and register contents etc. automatically for you. My thoughts on several topics # Vim or Neovim? # This is a question that gets asked almost monthly by mainly beginners (e.g., see this post). The short and unbiased answer is that it does not really matter for novice.\nSince Nvim is a fork of Vim and merges patches from Vim regularly, the basic features are almost the same. There are some subtle differences (see vim-differences), but that is largely irrelevant for beginners. If you are a beginner, you can pick either one and learn the basics7. Later when you become a proficient user, you can choose a side, or make your config compatible with both Vim and Nvim.\nIt is a sad truth that Vim and Nvim are going on quite different paths: Neovim is investing more on Lua, and its Lua plugin system is thriving, while Vim is trying hard implement the vim9 script, a completely new and incompatible version of viml. There might be more incompatible changes happening on both sides. It might be getting harder to port Vim patches to Neovim. Personally, I doubt whether the amount of effort put into building vim9 script will ever pay off. Considering that a lot of vim plugins are still trying to support Vim 7.xxx, I doubt how many of these plugin authors are willing to rewrite their plugins in vim9 script, especially when their plugins have very large code bases.\nPersonally, I will stick to Neovim and migrate to all-lua config some day.\ninit.vim vs init.lua? # Since nvim has added support for init.lua, many users have moved from viml-based to lua-based config completely. Currently, my config is still a mix of vim script and lua script due to several reasons:\nLua support in Nvim is still not complete and mature enough. For example, sometimes we still need to use vim.cmd() to run vim command. We still need to learn how to use Vim script. Some viml command is more concise to write, and lua tends to be more verbose, e.g., when defining mappings or setting an option. I am still using quite a few vim script plugins, and it makes sense to configure these plugins in vim script. Should I use a pre-made config distribution? # There are several Vim/Nvim distributions, which aim at providing IDE-like and out-of-the-box experience. Some of the most popular distributions are LunarVim and NvChad, AstroNvim.\nPeople ask frequently on r/neovim and r/vim whether they should use a vim/Nvim distribution. If you are serious about Vim and want to learn how to use it properly and eventually master it, I think it is better to avoid those distributions and build your own config from scratch:\nThose distributions may add their own configuration layer and complicate things. Users end up learning too much distribution-specific config without learning real Vim stuff. Even if you use those distributions, when you want to customize certain things, you still need to learn how Vim/Nvim works under the hood. Otherwise, you can only count on other developers to implement the feature for you. When you meet issues with those distributions, you may have a hard time debugging it, since they all include various configurations. However, this does not mean that you can not learn from these distributions, e.g., how they configure, how they organize their directory structure. You can even steal some configs for your own use.\nConcluding remarks # Looking back, I think I have made the right choice to learn Vim/Nvim. It has been a rewarding journey for me. I am so used to vim\u0026rsquo;s style editing that Vim becomes second nature.\nI am thankful to all the contributors of Vim/Nvim for building and maintaining such a great editor. I am grateful for the efforts that plugin authors put into in building those great plugins.\nI am not saying that Vim\u0026rsquo;s development model is worse, I just like Nvim\u0026rsquo;s development model more.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAn excellent article on how to split your config is from .vimrc to .vim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nI used deoplete with deoplete-jedi for over two years. Then I moved to vim-lsp + deoplete for several month, before moving to nvim-lsp.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nA good resource for finding lua plugins is awesome neovim. Neovimcraft also collects some lua-based neovim plugins and config distributions.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nVim purist refers to people who use little or no external plugins.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nOne such example is vim-surround vs vim-sandwich. Vim-sandwich has much lesser stars than vim-surround, but I find it more user-friendly and switched to it in 2020.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf you decide to go all Lua and use init.lua, then you should definitely use Neovim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"31 December 2021","externalUrl":null,"permalink":"/2021/12/31/using_nvim_after_three_years/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202031428905.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eI started using \u003ca href=\"https://neovim.io/\" target=\"_blank\"\u003eNeovim\u003c/a\u003e (nvim for short) about three years ago, in Sep. 2018.\nAt that time, nvim had just released \u003ca href=\"https://github.com/neovim/neovim/releases/tag/v0.3.1\" target=\"_blank\"\u003ev0.3.1\u003c/a\u003e. Over the years, I have been a staunch nvim user,\nconstantly learning new knowledge, and sharing tips, tricks and interesting plugins in \u003ca href=\"https://jdhao.github.io/categories/Nvim/\" target=\"_blank\"\u003emy blog posts\u003c/a\u003e.\u003c/p\u003e","title":"Using Neovim after Three Years -- A Retrospect","type":"posts"},{"content":"In order to get enough information from videos, we often need to extract video frames. However, we do not want to extract every frame from a video due to:\ninformation redundancy in successive video frames. huge storage space needed by these video frames. In this post, I want to share how to extract key frames from video to reduce the storage, but still capture enough information from a video.\nExtract I-frame using ffmpeg # In video compression, they use the so-called IPB frames to reduce storage space:\nI frames (Intra picture): a complete picture P frames (predictive picture): p frames stores difference between current frame and previous frame. B frames (Bidirectionally predicted picture): b-frame stores difference between current frame and previous frame and later frame. So we can extract I-frames only to get a fair amount of information from the video and reduce the extracted frame number.\nTo extract I-frames, we can run the following command:\nffmpeg -skip_frame nokey -i test.mp4 -vsync vfr -frame_pts true out-%02d.jpeg -vsync vfr: discard the unused frames -frame_pts true: use the frame index for image names, otherwise, the index starts from 1 and increments 1 each time We can also use the filter syntax to extract keyframes:\nffmpeg -i test.mp4 -vf \u0026#34;select=\u0026#39;eq(pict_type,I)\u0026#39;\u0026#34; -vsync vfr out-%02d.jpeg The produced results from the two commands are the same.\nExtract scene-changing frames # If we only want to retain enough info from the video, extracting I-frames only may not be enough. The extracted key frames may still exhibit too much information redundancy. For example, if you have a slow-changing video, the difference between a frame and its subsequent frames will be negligible. To further reduce the number of images generated, we can also use scene filter to select frames that are likely to be a scene-changing frame.\nIt works like this:\nffmpeg -i input.mp4 -vf \u0026#34;select=\u0026#39;gt(scene,0.4)\u0026#39;\u0026#34; -vsync vfr frame-%2d.jpg The value for scene is between 0 and 1, which measures the pixel level difference between current frame and previous frame. We can tweak this value to generate different number of output images. Intuitively, the smaller the value, the larger number of images we will extract. Typically, a value of 0.3 or 0.4 may be enough.\nIn order to extract suitable number of frames from the video, for videos with fast-changing frames, we should set this value high, and for videos with mostly still frames, we should set this value low (maybe 0.1 or even less depending on the video content).\nReferences # How to extract I frames: https://superuser.com/a/1421195/736190 https://superuser.com/a/669733/736190 How to extract scene-changing frames: https://stackoverflow.com/q/35675529/6064933 ","date":"25 December 2021","externalUrl":null,"permalink":"/2021/12/25/ffmpeg-extract-key-frame-video/","section":"Posts","summary":"\u003cp\u003eIn order to get enough information from videos, we often need to extract video frames.\nHowever, we do not want to extract every frame from a video due to:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003einformation redundancy in successive video frames.\u003c/li\u003e\n\u003cli\u003ehuge storage space needed by these video frames.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn this post, I want to share how to extract \u003cem\u003ekey\u003c/em\u003e frames from video to reduce the storage,\nbut still capture enough information from a video.\u003c/p\u003e","title":"How to Extract Key Frames from A Video with FFmpeg","type":"posts"},{"content":"","date":"25 December 2021","externalUrl":null,"permalink":"/tags/video/","section":"Tags","summary":"","title":"Video","type":"tags"},{"content":"When downloading files using Safari browser in iPad, the files will be saved on your iCloud drive. For me, I want to download the files locally without filling up my iCloud space.\nThe download location can be changed easily. Open Settings -\u0026gt; Safari. In the GENERAL section, click Downloads settings. Change STORE DOWNLOADED FILES ON option to On My iPad.\nAfter that, all the downloaded files will be saved locally instead of on iCloud.\n","date":"25 December 2021","externalUrl":null,"permalink":"/2021/12/25/ipad-download-file-to-local-storage/","section":"Posts","summary":"\u003cp\u003eWhen downloading files using Safari browser in iPad, the files will be saved on your iCloud drive.\nFor me, I want to download the files locally without filling up my iCloud space.\u003c/p\u003e","title":"Download Files to Local Storage in iPad","type":"posts"},{"content":"","date":"25 December 2021","externalUrl":null,"permalink":"/tags/ipad/","section":"Tags","summary":"","title":"IPad","type":"tags"},{"content":"","date":"23 December 2021","externalUrl":null,"permalink":"/tags/c++/","section":"Tags","summary":"","title":"C++","type":"tags"},{"content":"","date":"23 December 2021","externalUrl":null,"permalink":"/tags/make/","section":"Tags","summary":"","title":"Make","type":"tags"},{"content":"","date":"23 December 2021","externalUrl":null,"permalink":"/tags/pybind11/","section":"Tags","summary":"","title":"Pybind11","type":"tags"},{"content":"In my old post, I have shared how to use pybind11 to accelerate execution of Python code.\nIn this post, I will introduce how to use STL containers in exported functions.\nIf we want to use STL containers for pybind11-exported functions, We need to include the pybind11 stl headers:\n#include \u0026#34;pybind11/stl.h\u0026#34; Otherwise, we will see the following error messages:\nDid you forget to #include \u0026lt;pybind11/stl.h\u0026gt;? Or \u0026lt;pybind11/complex.h\u0026gt;, \u0026lt;pybind11/functional.h\u0026gt;, \u0026lt;pybind11/chrono.h\u0026gt;, etc. Some automatic conversions are optional and require extra headers to be included when compiling your pybind11 module.\nHere is the content of a test cpp file pybind_stl.cc:\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026#34;pybind11/pybind11.h\u0026#34; #include \u0026#34;pybind11/stl.h\u0026#34; namespace py = pybind11; using std::string; using std::vector; using std::map; int lcs(string s1, string s2) { int N1 = s1.size(); int N2 = s2.size(); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; dp(N1 + 1, vector\u0026lt;int\u0026gt;(N2 + 1, 0)); for (int i = 1; i \u0026lt;= N1; i++) { for (int j = 1; j \u0026lt;= N2; j++) { if (s1[i - 1] == s2[j - 1]) { dp[i][j] = dp[i - 1][j - 1] + 1; } else { dp[i][j] = std::max(dp[i - 1][j], dp[i][j - 1]); } } } return dp[N1][N2]; } int demo(map\u0026lt;int, int\u0026gt; freq){ int max = -1; for (auto \u0026amp; item: freq){ if (item.second \u0026gt; max){ max = item.second; } } return max; } PYBIND11_MODULE(stl_demo, m) { m.doc() = \u0026#34;LCS calculation\u0026#34;; // optional module docstring m.def(\u0026#34;lcs\u0026#34;, \u0026amp;lcs, \u0026#34;lcs cal\u0026#34;, py::arg(\u0026#34;s1\u0026#34;), py::arg(\u0026#34;s2\u0026#34;)); m.def(\u0026#34;demo\u0026#34;, \u0026amp;demo, \u0026#34;demo\u0026#34;, py::arg(\u0026#34;freq\u0026#34;)); } To convert the C++ source file to shared object that can be imported by Python, I also created a Makefile to simplify code development. The content of Makefile is:\n.PHONY: test clean CC := g++ FLAGS := -Wall -std=c++11 -shared -fPIC INC := $(shell python3 -m pybind11 --include) SUFFIX := $(shell python3-config --extension-suffix) CC_FILE := pybind_stl.cc OBJ := stl_demo$(SUFFIX) $(OBJ): $(CC_FILE) $(CC) $(FLAGS) $(INC) $\u0026lt; -o $(OBJ) test: $(OBJ) python test.py clean: rm *.so We use the following test.py to check if the cpp code works as expected:\nfrom stl_demo import lcs, demo def main(): s1 = \u0026#34;afb\u0026#34; s2 = \u0026#34;acfb\u0026#34; print(f\u0026#34;lcs len: {lcs(s1, s2)}\u0026#34;) freq = {2: 3, 1: 4, 3: 5} max_cnt = demo(freq) print(f\u0026#34;max cnt: {max_cnt}\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: main() To test the demo code, simply run:\nmake test If everything works correctly, we will get the following result:\nlcs len: 3\nmax cnt: 5\n","date":"23 December 2021","externalUrl":null,"permalink":"/2021/12/23/pybind11_stl_vector/","section":"Posts","summary":"\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2021/08/17/pybind11_first_impression/\" target=\"_blank\"\u003eold post\u003c/a\u003e, I have shared how to use \u003ca href=\"https://pybind11.readthedocs.io/\" target=\"_blank\"\u003epybind11\u003c/a\u003e to accelerate execution of Python code.\u003c/p\u003e","title":"Using STL Containers with pybind11","type":"posts"},{"content":"I have a file where each line has several comma-separated items. I want to sort the lines, based on a certain column. How do we do it inside Vim/Nvim?\nThere are two different ways to achieve this.\nUsing external sort # The first is via external tool sort and the vim filter feature (see :help filter). The syntax is:\n:{range}!{filter} Lines in the given {range} are sent to external program and are replaced with the output of external command.\nFor example, to sort the following lines based on the 3rd column:\nadf,adf,0.56 dkkdf,iwer,0.23 uywe,qwe,0.4 mckdf,adfj,0.35 we can use the following vim command:\n:%!sort -t, -k3 \u0026#34; or use the following \u0026#34; :1,$!sort -t, -k3 Using :sort command # The second method is to use the vim builtin :sort command (see :h :sort for the details).\n:sort f /\\v^(.{-},){2}/ Explanation of the command:\n:sort: you can prefix it with a range, like 1,3sort. Without a range, the whole buffer is used (i.e., %sort). f: we are going to sort float numbers. We can also use x (hex number), b (binary number), o (octal number) etc. /\\v^(.{-},){2}/: the pattern we are going to skip during sort, i.e., content after the pattern will be sorted. The default is to sort the lines in ascending order. To sort the lines in descending order, add a ! after :sort (i.e., use :sort!).\nReferences # https://vi.stackexchange.com/a/5837/15292 https://vi.stackexchange.com/a/7189/15292 ","date":"21 December 2021","externalUrl":null,"permalink":"/2021/12/21/sort_lines_based_on_a_column_nvim/","section":"Posts","summary":"\u003cp\u003eI have a file where each line has several comma-separated items. I want to sort\nthe lines, based on a certain column. How do we do it inside Vim/Nvim?\u003c/p\u003e","title":"Sort lines based on a column in Vim/Nvim","type":"posts"},{"content":"","date":"21 December 2021","externalUrl":null,"permalink":"/tags/sorting/","section":"Tags","summary":"","title":"Sorting","type":"tags"},{"content":"","date":"21 December 2021","externalUrl":null,"permalink":"/tags/vim/","section":"Tags","summary":"","title":"Vim","type":"tags"},{"content":"When dealing with videos, we may want to process video in a specific time range, for example, to only process video from 50 seconds to 70 seconds. How do we specify the time range in ffmpeg?\nTo specify the start position, use -ss option. This option can be used as an input option (before -i) or output option (after -i). When used as an input option, ffmpeg will directly seek the video file to that position. When used as an output option, ffmpeg will still decode frames before that position, but discards those frames. So using -ss as an input option may accelerate the processing speed dramatically.\nTo specify the end position, we can use -to option1. Another way is to use -t to specify a time duration.\nThe format for time can be found here:\nThere are two accepted syntaxes for expressing time duration. [-][HH:]MM:SS[.m...] HH expresses the number of hours, MM the number of minutes for a maximum of 2 digits, and SS the number of seconds for a maximum of 2 digits. The m at the end expresses decimal value for SS. _or_ [-]S+[.m...][s|ms|us] S expresses the number of seconds, with the optional decimal part m. The optional literal suffixes â€˜sâ€™, â€˜msâ€™ or â€˜usâ€™ indicate to interpret the value as seconds, milliseconds or microseconds, respectively. In both expressions, the optional â€˜-â€™ indicates negative duration. So to extract frame from 50 seconds to 70 seconds, we can use either of the following commands:\nffmpeg -ss 00:00:50 -to 00:01:10 -i input.mp4 -r 1 out-%2d.jpg ffmpeg -ss 00:00:50 -t 20 -i input.mp4 -r 1 out-%2d.jpg ffmpeg -ss 50 -t 20 -i input.mp4 -r 1 out-%2d.jpg References # ffmpeg seeking: https://trac.ffmpeg.org/wiki/Seeking ffmpeg does not recognize -to as input option https://askubuntu.com/q/1181319/768311 https://stackoverflow.com/q/66876561/6064933 Note that use -to as an input option, you need to use ffmpeg v4.0+.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 December 2021","externalUrl":null,"permalink":"/2021/12/16/ffmpeg-process-video-in-a-time-range/","section":"Posts","summary":"\u003cp\u003eWhen dealing with videos, we may want to process video in a specific time range,\nfor example, to only process video from 50 seconds to 70 seconds. How do we\nspecify the time range in ffmpeg?\u003c/p\u003e","title":"Process video in a certain time range with FFmpeg?","type":"posts"},{"content":"ç§‘æŠ€å‘å±•çš„è¿™æ ·å¿«ï¼Œå¸¸å¸¸è®©æˆ‘ä»¬å¿˜äº†ä»¥å‰æ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ‰‹æœºç°åœ¨å·²æˆäº†ç°ä»£äººçš„ä¸€éƒ¨åˆ†ï¼Œé¡»è‡¾ç¦»ä¸å¼€äº†ï¼Œåå‡ å¹´å‰è¿˜ä¸æ˜¯è¿™æ ·ã€‚æœ‰æ—¶å€™æˆ‘ååœ¨åœ°é“ä¸Šï¼Œçœ‹ç€ä½å¤´è®¤çœŸæ»‘æ‰‹æœºçš„äººä»¬ï¼Œå°±åœ¨æƒ³æ²¡æœ‰æ‰‹æœºä¹‹å‰å¤§å®¶çš„ç”Ÿæ´»éƒ½æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç«Ÿç„¶æƒ³ä¸èµ·æ¥äº†ã€‚\næˆ‘è®°å¾—æˆ‘ç¬¬ä¸€æ¬¡è§åˆ°æ‰‹æœºæ˜¯åˆä¸­çš„æ—¶å€™ (2006 å¹´ä»¥å‰)ï¼Œçˆ¸çˆ¸ä»å¤–åœ°å›å®¶ï¼Œå¸¦å›æ¥ä¸€ä¸ªæ‰‹æœºï¼Œæ˜¯é‚£ç§ç¿»ç›–æ‰‹æœºï¼Œéæ™ºèƒ½æœºã€‚å±å¹•å¾ˆå°ï¼Œä¼¼ä¹ä¹Ÿæ²¡æœ‰æ‹ç…§åŠŸèƒ½ï¼Œä¸Šé¢æœ‰ä¸€äº›è‡ªå¸¦çš„å°æ¸¸æˆï¼Œæˆ‘ä¹Ÿç©çš„ä¸äº¦ä¹ä¹ã€‚\nåˆ°äº†é«˜ä¸­ï¼Œæˆ‘ä»¬çš„é«˜ä¸­æ˜¯å¸‚é‡Œæœ€å¥½çš„ä¸­å­¦ï¼Œè‡ªç„¶ä¸ä¹å¯Œå®¶å­å¼Ÿï¼ŒåŒç­åŒå­¦å°±æœ‰ä¸€äº›äººå¼€å§‹ç”¨æ‰‹æœºäº†ï¼Œæˆ‘å°è±¡æœ€æ·±çš„æ˜¯æœ‰ä¸¤ä¸ªåŒå­¦ï¼Œç”¨çš„æ˜¯ä¸‰æ˜Ÿ Anycallï¼Œçº¢è‰²æœºèº«ï¼Œæ»‘ç›–é€ å‹ï¼Œå½“æ—¶å°±è§‰å¾—å¥½ç‚«é…·ã€‚\nåˆ°äº†é«˜ä¸­åæœŸï¼Œå°±æœ‰åŒå­¦å¼€å§‹ç”¨è¯ºåŸºäºšçš„æ™ºèƒ½æ‰‹æœºäº†ï¼Œå½“æ—¶è§¦å±æ‰‹æœºè¿˜éå¸¸å°‘ï¼Œè®°å¾—æœ‰ä¸ªåŒå­¦æ‹¿äº†ä¸€å°è¯ºåŸºäºš N97ï¼Œé‡‡ç”¨ä¾§è¾¹æ»‘ç›–è®¾è®¡ï¼Œå¸¦æœ‰å®ä½“é”®ç›˜ï¼Œé‡‡ç”¨å¡ç­ s60 v5 ç³»ç»Ÿã€‚æ­¤æ—¶çš„è¯ºåŸºäºšè¿˜æ­£å¤„äºå¦‚æ—¥ä¸­å¤©çš„åœ°æ­¥ï¼Œéšéšçš„å±æœºå´å·²ç»æ˜¾ç°äº†ï¼Œiphone äºä¸¤å¹´å‰å‡ºç°äº†ï¼Œä½†è¿˜æœªæˆå¤§æ°”å€™ï¼ŒAndroid ç³»ç»Ÿä¹Ÿäº 2008 å¹´å‘å¸ƒï¼Œå¤„äºæœ€åˆçš„æˆé•¿é˜¶æ®µã€‚\nä¸Šå¤§å­¦å‰(2010 å¹´)ä¹°äº†è¯ºåŸºäºš 6120 (ä»·æ ¼ 1000 å·¦å³)ï¼Œå¡ç­ s60 v3 ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥å®‰è£…ç¨‹åºï¼Œè®°å¾—å½“æ—¶ä»å„ç§è®ºå›ä¸‹è½½å„ç§ç ´è§£è½¯ä»¶ï¼Œä¹Ÿç©çš„å¾ˆå¼€å¿ƒã€‚å½“æ—¶çš„æ™ºèƒ½æ‰‹æœºè™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯åº”ç”¨å¹¶ä¸ç‰¹åˆ«ä¸°å¯Œï¼Œé—²æš‡çš„ç”Ÿæ´»å¹¶ä¸åƒç°åœ¨ï¼Œè¢«æ‰‹æœºæ‰€å æ®ã€‚åˆ°äº† 12ã€13 å¹´ï¼Œå°ç±³æ‰‹æœºå·²ç»åœ¨å›½å†…æ‰“å‡ºäº†åæ°”ï¼Œç”±äºäº§é‡è·Ÿä¸ä¸Šéœ€æ±‚ï¼Œå‡ºç°äº†æŠ¢è´­é£æ½®ï¼Œè‡³ä»Šä»æ—¶æ—¶è¢«å˜²è®½ä¸ºè€çŒ´ï¼Œé›·å†›ä¹Ÿè¢«æˆç§°ä¸º\u0026quot;çŒ´ç‹\u0026quot;ã€‚\néšç€è‹¹æœæ‰‹æœºå’Œå®‰å“æ‰‹æœºå¼ºåŠ¿å´›èµ·ï¼Œè¯ºåŸºäºšè¿™ä¸ªæ‰‹æœºå·¨äººåœ¨çŸ­çŸ­ä¸¤ä¸‰å¹´ä¹‹é—´å°±å´©å¡Œäº†ï¼Œæ­¤æ—¶å¾®è½¯ä¸ºäº†æŠ—è¡¡è‹¹æœå’Œè°·æ­Œï¼Œä¹Ÿæ¨å‡ºäº† Windows phone æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”å’Œè¯ºåŸºäºšç»“ç›Ÿã€‚ä¸å¾—ä¸è¯´ç¬¬ä¸€æ¬¡è§åˆ° windows phone ç³»ç»Ÿé‚£æ–¹å—ç£é“ç•Œé¢æ—¶ï¼Œè¿˜æ˜¯éå¸¸æƒŠè‰³çš„ã€‚ä½œä¸ºä¸€åè½¯ç²‰ï¼Œæˆ‘åœ¨å¤§å››ä¸‹å­¦æœŸæŠŠæ‰‹æœºæ¢æˆäº†è¯ºåŸºäºš Lumia 925 (wp8 ç³»ç»Ÿï¼Œä»·æ ¼ 1999)ï¼Œå½“æ—¶è¿˜ä¹°äº† windows phone logo çš„ t-shirtã€‚å½“æ—¶è¿˜æœ‰éå¸¸æƒŠè‰³çš„ Lumia 1020 å‡ºæ¥ï¼Œåé¢æœ‰ä¸ªè¶…å¤§æ ‡å¿—æ€§ 4100 ä¸‡åƒç´ é•œå¤´ï¼Œä»£è¡¨äº†å½“æ—¶æœ€é«˜æ°´å‡†ã€‚è‡³ä»Šè¿˜èƒ½æƒ³èµ·æ¥è‡ªå·±æ›´æ–° windows mobile 10 é¢„è§ˆç‰ˆçš„å…´å¥‹ã€‚\nç”±äºå¾®è½¯è„‘æ®‹çš„è®¾è®¡ï¼Œwindows æ¯ä¸€ä»£å‡çº§åˆ°ä¸‹ä¸€ä»£éƒ½å¾ˆå›°éš¾ï¼Œwp7 æ— æ³•å‡çº§ wp8ï¼Œwp8 å¾ˆå¤šæ‰‹æœºæ— æ³•å‡çº§ windows mobile 10ï¼Œç»™æœ¬æ¥å°±è„†å¼±çš„ windows phone ç”Ÿæ€ä»¥æ²‰é‡æ‰“å‡»ã€‚å°è±¡æœ€æ·±çš„å°±æ˜¯ 2015 å¹´çš„æ”¯ä»˜å©Šäº‹ä»¶ï¼Œå¾®åšä¸Šä¼—å¤šç½‘å‹å£°è®¨æ”¯ä»˜å®ï¼Œå¸Œæœ›èƒ½æ”¯æŒ windows phone ç³»ç»Ÿï¼Œç»“æœæœ€åä¹Ÿä¸äº†äº†ä¹‹ï¼Œå°ç³»ç»Ÿæ˜¯æ²¡æœ‰äººæƒçš„ï¼ŒåŠ ä¸Šå¾®è½¯çŒªé˜Ÿå‹ï¼Œwp å°±é€æ¸è¡°è½äº†ï¼Œå¾®è½¯åé¢ä¹Ÿå½»åº•æ”¾å¼ƒäº†è‡ªå·±çš„ windows mobile ç³»ç»Ÿã€‚\nç ”ä¸€ä¸‹å­¦æœŸå®åœ¨å¿ä¸äº† wp åŒ®ä¹çš„ç”Ÿæ€ï¼Œå…¥æ‰‹äº†é­…æ— mx4 (å…¥æ‰‹ä»· 1499)ï¼Œé‚£äº›å¹´çš„é­…æ—è¿˜æ²¡æœ‰é‚£ä¹ˆå°ä¼—ï¼Œåœ¨æ‰‹æœºå¸‚åœºè¿˜å æœ‰ä¸€å®šå¸­ä½ï¼Œåæ¥é­…æ—å‡ºäº†å„ç§é­…è“äº§å“ï¼Œç”±äºäº§å“å®šä½ï¼Œç³»ç»Ÿæ‹‰å®,ä¸‡å¹´è”å‘ç§‘ç­‰å„ç§åŸå› ï¼Œæ…¢æ…¢å°±ä¸è¡Œäº†ã€‚æˆ‘çš„ mx4 ç”¨äº†å·®ä¸å¤šä¸¤å¹´ï¼Œåˆ°åé¢ç³»ç»Ÿæ¯”è¾ƒå¡ï¼Œæ‰‹æœºå‘çƒ­ï¼Œæ›´å¤¸å¼ çš„æ˜¯ç”µæ± éƒ½é¼“åŒ…äº†ï¼ŒæŠŠå¡‘æ–™åå£³é¡¶äº†èµ·æ¥ã€‚\näºæ˜¯ä¹åˆæ¢äº†ä¸€åŠ  3T(å…¥æ‰‹ä»· 2699)ï¼Œä¸€åŠ ä¹Ÿæ˜¯åœ¨å›½å†…ç›¸å¯¹å°ä¼—çš„å“ç‰Œï¼Œä¸è¿‡æ‰‹æœºé…ç½®ä¸é”™ï¼Œç³»ç»Ÿé‡‡ç”¨ç±»è°·æ­ŒåŸç”Ÿçš„é£æ ¼(è¯´å¥½å¬æ˜¯ç®€æ´ï¼Œè¯´éš¾å¬å°±æ˜¯ç®€é™‹ï¼Œå›½äº§åŒ–åŠŸèƒ½æ¯”è¾ƒå°‘)ã€‚\nä¸€åŠ æ‰‹æœºä¹Ÿç”¨äº†å·®ä¸å¤šä¸¤å¹´ï¼Œç”µé‡å°±ä¸è¡Œäº†ï¼Œè¿˜ç»å¸¸å‘çƒ­ã€‚æŠŠæ‰‹æœºæ¢æˆäº†å°ç±³ 9 (å…¥æ‰‹ä»· 3299)ï¼Œå°ç±³æ‰‹æœºç”±äºå¹¿å‘Šç­‰åŸå› åœ¨ç½‘ä¸Šè¢«é»‘çš„æ¯”è¾ƒæƒ¨ï¼Œå¯¹æ¯”å…¶ä»–ç³»ç»Ÿ(åä¸ºï¼Œvivoï¼Œä¸€åŠ ç­‰ç³»ç»Ÿ)ï¼Œä¸ªäººè§‰å¾—ç®—æ˜¯å›½äº§å®‰å“ç³»ç»Ÿæœ€å¥½ç”¨çš„ï¼Œç”¨äº†ä¸¤å¹´å¤šï¼Œä»ç„¶æµç•…ï¼Œå”¯ä¸€ä¸è¶³æ˜¯ç”µæ± å®¹é‡å¤ªå°äº†ï¼Œåªæœ‰ 3300 mAhï¼Œå¯¹æ¯”ç°åœ¨åŠ¨è¾„ 4500 mAh çš„æ——èˆ°æœºç»­èˆªå·®äº†å¾ˆå¤šã€‚\næ—¶è‡³ä»Šæ—¥ï¼Œæ‰‹æœºçš„å‘å±•é™·å…¥ç“¶é¢ˆï¼Œå„å®¶æ‰‹æœºéƒ½åœ¨å±å¹•ï¼Œæ‘„åƒå¤´ï¼Œæ‰€è°“çš„æ–°åŠŸèƒ½ä¸Šå‘åŠ›ï¼Œæ¯”æ‹¼å‚æ•°ï¼Œæ²¡æœ‰åƒå½“åˆç»™äººä»¬å¸¦æ¥äº†å¦‚æ­¤å¤šçš„æƒŠå–œï¼Œå›ä¸è§è¿ iPhone ä¹Ÿé™·å…¥äº†å¹³æ·¡,è¢«æ‰¹è¯„æ¯«æ— åˆ›æ„ã€‚æˆ–è®¸ä¸‹ä¸€ä¸ªé©å‘½æ€§çš„è®¾å¤‡å°±åœ¨æ‚„æ‚„é…é…¿å‘¢ï¼Œé©æ™ºèƒ½æ‰‹æœºæ‰‹æœºçš„å‘½ï¼Œå½»åº•å˜é©äººä»¬çš„ç”Ÿæ´»ï¼Œåœ¨ä¸è¿œçš„æœªæ¥æ‰‹æœºå°±åƒç¬”è®°æœ¬ç”µè„‘ä¸€æ ·ï¼Œå˜å¾—ä¸é‚£ä¹ˆæ€§æ„Ÿäº†ï¼Œä¸å†æˆä¸ºå¤§å®¶å…³æ³¨çš„ç„¦ç‚¹ã€‚\n","date":"12 December 2021","externalUrl":null,"permalink":"/2021/12/12/mobilephone_and_me_a_retrospect/","section":"Posts","summary":"\u003cp\u003eç§‘æŠ€å‘å±•çš„è¿™æ ·å¿«ï¼Œå¸¸å¸¸è®©æˆ‘ä»¬å¿˜äº†ä»¥å‰æ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ‰‹æœºç°åœ¨å·²æˆäº†ç°ä»£äººçš„ä¸€éƒ¨åˆ†ï¼Œé¡»è‡¾ç¦»ä¸å¼€äº†ï¼Œåå‡ å¹´å‰è¿˜ä¸æ˜¯è¿™æ ·ã€‚æœ‰æ—¶å€™æˆ‘ååœ¨åœ°é“ä¸Šï¼Œçœ‹ç€ä½å¤´è®¤çœŸæ»‘æ‰‹æœºçš„äººä»¬ï¼Œå°±åœ¨æƒ³æ²¡æœ‰æ‰‹æœºä¹‹å‰å¤§å®¶çš„ç”Ÿæ´»éƒ½æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç«Ÿç„¶æƒ³ä¸èµ·æ¥äº†ã€‚\u003c/p\u003e","title":"å›é¡¾æˆ‘çš„æ‰‹æœºæ¢ä»£å²","type":"posts"},{"content":"åœ¨è‹¹æœç³»ç»Ÿä¸Šå®‰è£…ä¸€ä¸ªå·¥å…·çœŸéº»çƒ¦ï¼Œç®€å•æ€»ç»“å¦‚ä½•åœ¨ iPad ä¸Šå®‰è£… Shadowrocket å°ç«ç®­ã€‚\nShadowrocket åœ¨ä¸­å›½åŒº App Store ä¸‹æ¶ï¼Œæ— æ³•ä¸‹è½½ã€‚iPad ä¹Ÿæ— æ³•åƒå®‰å“ä¸€æ ·ï¼Œæ–¹ä¾¿ç›´æ¥å®‰è£…ç¬¬ä¸‰æ–¹ Appï¼Œå¯¼è‡´å®‰è£…ä¸€ä¸ª Shadowrocket éå¸¸éº»çƒ¦ã€‚\näº²æµ‹å¯è¡Œçš„æ–¹æ³• # ç¬¬ä¸€æ­¥ï¼ŒæŠŠ apple id åœ°å€æ”¹ä¸ºç¾å›½ (åœ°å€å†™ä¸ª fake åœ°å€ï¼Œå¯ä»¥ç”¨ è¿™ä¸ªå¸®ä½ ç”Ÿæˆ )ï¼Œå…³äºå¦‚ä½•æ›´æ”¹åœ°åŒºï¼Œä¹Ÿå¯ä»¥å‚è€ƒ å®˜æ–¹æ•™ç¨‹ æˆ–è€… è¿™é‡Œ\nç¬¬äºŒæ­¥ï¼Œåœ¨ apple ç¾å›½å®˜ç½‘1ï¼Œè´­ä¹° gift cardï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå³å¯ï¼Œäº²æµ‹å›½å†…çš„ visa å¡ä¹Ÿèƒ½æ”¯ä»˜æˆåŠŸï¼Œæ³¨æ„é€‰æ‹© email é‚®å¯„\nç¬¬ä¸‰æ­¥ï¼Œæ‰“å¼€ app store å……å€¼ï¼Œæˆ‘ç”¨ iPad çš„ App store ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸è¡Œï¼Œä¸€ç›´æç¤º\nthis card must be redeemed in us storefront\nåé¢ç”¨ MacBook å†æ‰“å¼€é‚®ä»¶ï¼Œç„¶åç‚¹å‡» redeem åœ¨ç”µè„‘ä¸Šå……å€¼æˆåŠŸ\nç¬¬å››æ­¥ï¼Œè´­ä¹°åº”ç”¨ï¼Œä¼šè‡ªåŠ¨ä»ç¤¼å“å¡æ‰£æ¬¾\nä¸€äº›ç»è¿‡éªŒè¯å¹¶ä¸å¯è¡Œçš„æ–¹æ³• # ä» GitHub ä¸‹è½½äº†åˆ«äººæå–å¥½çš„ Shadowrocket ipa æ–‡ä»¶ï¼Œé€šè¿‡çˆ±æ€åŠ©æ‰‹ç›´æ¥å®‰è£… ipaï¼Œæ‰“å¼€åº”ç”¨ä»¥åï¼Œæç¤ºè¦è¾“å…¥è´­ä¹°åº”ç”¨æ—¶å€™ç”¨çš„ apple id å’Œå¯†ç ï¼Œæˆ‘è‚¯å®šæ²¡æœ‰å•Šï¼Œè¿™ç§æ–¹æ³•ä¸è¡Œã€‚ ä½¿ç”¨ç½‘ä¸Šæä¾›çš„æ‰€è°“è´­ä¹°è¿‡ Shadowrocket çš„ç¾åŒº id å’Œå¯†ç ï¼ŒApp store é€€å‡ºè‡ªå·±çš„è´¦å·ï¼Œç”¨è¯¥è´¦å·å¯†ç ç™»é™†ï¼Œç›´æ¥éªŒè¯ä¸é€šè¿‡ï¼Œæ€€ç–‘å·²ç»è¢«å°äº†ã€‚ æŠŠ apple id æ”¹ä¸ºç¾åŒºï¼Œç”¨å›½å†…çš„ visa å¡æ”¯ä»˜ä¹Ÿä¸è¡Œï¼Œæ”¯ä»˜çš„æ—¶å€™æ— æ³•æ”¯ä»˜ï¼Œæ®è¯´æ˜¯å› ä¸ºå›½å†…é“¶è¡Œçš„ visa å¡ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯å›½å†…ä¿¡ç”¨å¡ï¼Œæ‰€ä»¥ä¸è¡Œã€‚ åœ¨è¿™é‡Œ https://www.apple.com/choose-your-country æŠŠåœ°åŒºåˆ‡æ¢ä¸º United States\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"12 December 2021","externalUrl":null,"permalink":"/2021/12/12/ipad_shadowrocket_install/","section":"Posts","summary":"\u003cp\u003eåœ¨è‹¹æœç³»ç»Ÿä¸Šå®‰è£…ä¸€ä¸ªå·¥å…·çœŸéº»çƒ¦ï¼Œç®€å•æ€»ç»“å¦‚ä½•åœ¨ iPad ä¸Šå®‰è£… Shadowrocket å°ç«ç®­ã€‚\u003c/p\u003e","title":"ã€2021 å¹´ã€‘iPad å®‰è£… Shadowrocket","type":"posts"},{"content":"About five months ago, the biggest update of Nvim comes with its v0.5.0 release. With v0.5, we finally get the official LSP support in Nvim core and better Lua support, among other features and bug fixes1.\nTL;DR: My LSP-related config can be found here.\nThis Tuesday, the Nvim v0.6.0 version is released. During the five months, the LSP module has been revamped and enhanced, though with some breaking changes.\nBelow are some the changes we need or can make based on this release.\nDiagnostics and LSP changes # Initially, diagnostic module is part of vim.lsp module. In order to support external plugins such as null-ls.nvim, the nvim team has refactor the diagnostic module to its module vim.diagnostic. So we need to change our config accordingly.\nvim.lsp.diagnostic.show_line_diagnostics() has been changed to vim.diagnostic.open_float(). Previously, there is no easy to show diagnostic source unless with some hack, you can now show source in diagnostics in open_float() easily:\nvim.diagnostic.open_float(nil, { source = \u0026#39;always\u0026#39; }) vim.lsp.diagnostic.goto_prev() and vim.lsp.diagnostic.goto_next() has been renamed to vim.diagnostic.goto_prev() and vim.diagnostic.goto_next() respectively.\nvim.lsp.diagnostic.set_loclist() and vim.lsp.diagnostic.set_qflist() has been renamed to vim.diagnostic.setloclist() and vim.diagnostic.setqflist() instead.\nDiagnostics signs has been renamed, for example (old \u0026ndash;\u0026gt; new):\nLspDiagnosticsSignError \u0026ndash;\u0026gt; DiagnosticSignError (Lsp is removed, Diagnostics is changed to singular from Diagnostic) LspDiagnosticsSignWarning \u0026ndash;\u0026gt; DiagnosticSignWarn LspDiagnosticsSignInformation \u0026ndash;\u0026gt; DiagnosticSignInfo LspDiagnosticsSignHint \u0026ndash;\u0026gt; DiagnosticSignHint Also, related highlight has been renamed too:\nDiagnosticsDefaultError \u0026ndash;\u0026gt; DiagnosticSignError DiagnosticsDefaultWarning \u0026ndash;\u0026gt; DiagnosticSignWarn DiagnosticsDefaultInformation \u0026ndash;\u0026gt; DiagnosticSignInfo DiagnosticsDefaultHint \u0026ndash;\u0026gt; DiagnosticSignHint Now, we can use the following lua snippet to change diagnostic signs:\nvim.fn.sign_define(\u0026#34;DiagnosticSignError\u0026#34;, { text = \u0026#34;âœ—\u0026#34;, texthl = \u0026#34;DiagnosticSignError\u0026#34; }) vim.fn.sign_define(\u0026#34;DiagnosticSignWarn\u0026#34;, { text = \u0026#34;!\u0026#34;, texthl = \u0026#34;DiagnosticSignWarn\u0026#34; }) vim.fn.sign_define(\u0026#34;DiagnosticSignInformation\u0026#34;, { text = \u0026#34;ï„©\u0026#34;, texthl = \u0026#34;DiagnosticSignInfo\u0026#34; }) vim.fn.sign_define(\u0026#34;DiagnosticSignHint\u0026#34;, { text = \u0026#34;ï ´\u0026#34;, texthl = \u0026#34;DiagnosticSignHint\u0026#34; }) For more details on diagnostic change, see this commit.\nChanges to the default # There are also changes to options and mappings that you might be interested.\nOption default value changes:\nbackupdir can now be created automatically and double backslash is used, see this commit. option inccommand is set to nosplit set nojoinspaces by default Mapping changes:\n\u0026lt;C-L\u0026gt; now defaults to nohlsearch and diffupdate, see this commit. In normal mode, Y is mapped to y$, see this commit, no need for nnoremap Y y$ anymore. The nvim 0.5 release note is here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"1 December 2021","externalUrl":null,"permalink":"/2021/12/01/nvim_v06_released/","section":"Posts","summary":"\u003cp\u003eAbout five months ago, the biggest update of Nvim comes with its \u003ca href=\"https://github.com/neovim/neovim/releases/tag/v0.5.0\" target=\"_blank\"\u003ev0.5.0\nrelease\u003c/a\u003e. With v0.5, we finally get the official LSP support in Nvim core and\nbetter Lua support, among other features and bug fixes\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\u003c/p\u003e\n\u003cp\u003eTL;DR: My LSP-related config can be found \u003ca href=\"https://github.com/jdhao/nvim-config/blob/master/lua/config/lsp.lua\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/p\u003e","title":"Migration from Nvim 0.5.1 to Nvim 0.6.0","type":"posts"},{"content":"In this post-web2.0 age, people seem to blog less and less, and blogs seem to be dying slowly. People are separated in different Apps where the content is not searchable by search engines.\nHowever, I still prefer to write using a blog. In this post, I want to share how I manage my blog.\nWhy I blog? # I run this blog site because I enjoy sharing knowledges or techniques I have learned. A lot of these knowledges are from blog posts of others, GitHub or Stack Overflow. Since I get these knowledges for free, I have a strong motivation to make what I have learned free for others. In a bigger sense, free exchange and access of ideas and knowledge makes the world a better place. This is also what FOSS is about.\nAlthough some of the blog posts may only be helpful to myself, but who knows, I hope they will be helpful to someone else in some day.\nWhat I write? # I usually share what I have learned during my work or my spare time. I write anything I am interested.\nOccasionally, I also write about what I am reading, what I thought, etc.\nWhen I write # I often save some notes about a topic or an idea in my free time. Later, when I have time, I will expand the notes to a full blog post. This way, I do not need to worry what to write. I always have something to share when I want to.\nTools I use for writing # All my blog posts are written in Markdown format with the help of the greatest editor neovim1. I use neovim because it is a highly configurable editor that no other editors can compete with.\nI use snippet plugins to make writing posts quicker. For previewing, I use markdown-preview.nvim, which is the best previewer for Neovim. I have shared how I write and preview Markdown efficiently in this post.\nI rarely insert images into my blog post since image links tend to break easily. So I try to explain things without using images as much as I can. If I need to use images in a post, I store the image in a cloud service and use the generated image links.\nStatic blog generator # I generate my blog using a static blog generator. Back in 2017 when I started this blog, I use Hexo. In Oct. 2018, I switched to Hugo for its high performance.\nFor comment system, I used Disqus for a long time. Recently, I have switched to use utterances, which is a lightweight comment system based on GitHub issues. You get all the power of GitHub issues for your blog comment.\nBlog site hosting # For blog hosting, I am using the good-old GitHub pages service. I have not purchased a personal domain for my blog because I think that is irrelevant. It is the content of the blog that matters most. People often get a fancy domain for their blog, and they get tired and stop writing anything.\nPost backup # In case that the post sources get lost, I have been backing up my posts periodically. Since all the blog posts are written in Markdown, I created a private GitHub repo to store the Markdown source files. I have created a backup script post_backup.sh under the Hugo blog site root to ease the operation:\n#!/bin/bash msg=\u0026#34;backup `date`\u0026#34; if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi echo -e \u0026#34;\\033[0;32mBackup posts to GitHub...\\033[0m\u0026#34; cd content/post # here we start to add and commit the blog to github git add . git commit -m \u0026#34;$msg\u0026#34; # push source to github git push echo -e \u0026#34;\\033[0;32mBackup done...\\033[0m\u0026#34; # come back to blog root cd ../.. Then I can run ./post_backup.sh to back up all my post sources.\nMy nvim config is stored in this repo. If you use Hugo, you can set up the default content editor when running hugo new post content/xxx.md.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"28 November 2021","externalUrl":null,"permalink":"/2021/11/28/how_i_write_blog/","section":"Posts","summary":"\u003cp\u003eIn this post-web2.0 age, people seem to blog less and less, and blogs seem to \u003ca href=\"https://www.google.com/search?q=blogs\u0026#43;are\u0026#43;dying\" target=\"_blank\"\u003ebe dying slowly\u003c/a\u003e.\nPeople are separated in different Apps where the content is not searchable by search engines.\u003c/p\u003e\n\u003cp\u003eHowever, I still prefer to write using a blog. In this post, I want to share how I manage my blog.\u003c/p\u003e","title":"How I Manage My Personal Blog","type":"posts"},{"content":"My Git learning notes.\nGenerate patch and apply it # Sometimes, we need to develop the same project in different places, and in some place, we may not be convenient to push directly to the remote repo. We can generate a patch instead and apply the patch somewhere else.\nFirst, run git diff \u0026gt; mypatch to generate a patch for the repo. To apply the patch somewhere, run git apply mypatch.\nRef:\nhttps://gist.github.com/nepsilon/22bc62a23f785716705c https://stackoverflow.com/q/5159185/6064933 Git: how to get out of detached head state # In git, when we check out to a specific commit using git checkout \u0026lt;commit_id\u0026gt;, git warns us that:\nYou are in \u0026#39;detached HEAD\u0026#39; state. You can look around, make experimental changes and commit them, and you can discard any commits you make in this state without impacting any branches by performing another checkout. If you want to create a new branch to retain commits you create, you may do so (now or later) by using -b with the checkout command again. Example: git checkout -b new_branch_name HEAD is now at 132ba1b... {some commit message} Detached head means that we are current in no branch. To return to the previous branch we are in, use git checkout - or git checkout original_branch_name if you know the branch name.\nRef:\nhttps://stackoverflow.com/q/11801071/6064933 https://stackoverflow.com/q/2304087/6064933 git: show commit that changes a specific file # To show all commit that changes a specific file, use git log --follow -- file_path. --follow will track the commit that changes the file before its renaming, so it is highly recommended to include this option.\nRef:\nhttps://stackoverflow.com/q/3701404/6064933 use a git mirror site for cloning # Due to access issues, sometimes we may want to use a github mirror service like fastgit. However, manually change the repo url from github.com to fastgit is not efficient enough. Fortunately, we can utilize the git url rewrite feature to achieve this globally. Run the following command:\ngit config --global url.\u0026#34;https://hub.fastgit.xyz\u0026#34;.insteadOf https://github.com After that, when you clone a github repo, the actually url used will be the corresponding fastgit repo.\nRef:\nhttps://gist.github.com/Kovrinic/ea5e7123ab5c97d451804ea222ecd78a How to convert git: urls to http: urls Ignore a specific commit when blaming? # Some commit may only change the format of a file, when doing git-blame, we may want to ignore such commits. We can use git blame --ignore-rev \u0026lt;commit-hash\u0026gt; to ignore a commit. Or, use git blame --ignore-revs-file ignore-file.txt, where ignore-file.txt contains a list of commits we want to ignore.\nRef:\nhttps://akrabat.com/ignoring-revisions-with-git-blame/ https://stackoverflow.com/q/34957237/6064933 ","date":"27 November 2021","externalUrl":null,"permalink":"/2021/11/27/git_notes_s4/","section":"Posts","summary":"\u003cp\u003eMy Git learning notes.\u003c/p\u003e","title":"Git Learning Notes (4)","type":"posts"},{"content":"This is the 11th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ Move lines matching a pattern together? # Use command :g/pattern/normal ddGp.\nHere we use the :global command. It will apply the command :normal ddGp (which is deleting current line and paste it at the bottom) for each line matching pattern.\nAnother way to do this is to use :move together with :global command:\n:[range]m[ove] {address} *:m* *:mo* *:move* *E134* Move the lines given by [range] to below the line given by {address}. Now the complete command to do this task is :g/pattern/m$ ($ means the last line of a buffer).\nAt the end, all lines matching pattern will be moved to the end of the buffer.\nRef:\nhttps://stackoverflow.com/q/6553963/6064933 Show trailing whitespace # We need to first define a highlight group for it and then match a pattern to use this highlight group:\nhighlight TrailingWhitespace ctermbg=red guibg=red call matchadd(\u0026#34;TrailingWhitespace\u0026#34;, \u0026#39;\\v\\s+$\u0026#39;) We\u0026rsquo;d better use single quote pattern to avoid backslash hell, otherwise, escaping the pattern will be a pain. If we use double quote, \\s won\u0026rsquo;t work, we have to escape backslash, see also :h literal-string.\nFlip a 01 string quickly # To flip a 01 string (i.e., turn 0 to 1 and turn 1 to 0), we can use sub-replace-expression which is really powerful:\n:s/\\v(0|1)/\\=submatch(0)==0?1:0/g Or we can also use this (source here):\n:s/\\v(0|1)\\=1-submatch(0)/g Ref:\nhttps://stackoverflow.com/a/69748382/6064933 Search lines not starting with a pattern # This is a perfect example where using look around regex solves it neatly. For example, to search for lines not starting with foo, use the following search expression:\n/\\v^(foo)@! A teardown of this expression:\n\\v: magic regex in vim, see also :h \\v. We use \\v to simplify writing regex in vim and make it more like PCRE. ^: start of a line (foo)@!: @! is the vim syntax for negative lookahead. This expression means that the previous expression should not be followed by foo, we group foo in Vim using parentheses. Ref:\nhttps://stackoverflow.com/q/1456061/6064933 ","date":"22 November 2021","externalUrl":null,"permalink":"/2021/11/22/nifty_nvim_techniques_s11/","section":"Posts","summary":"\u003cp\u003eThis is the 11th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 11","type":"posts"},{"content":" During my work, I use multiple Tmux sessions to manage different projects. When I create a new session, I usually give it unique name so that I know that the project is about via the session name.\nswitching between sessions \u0026ndash; the basic way # Tmux has a builtin subcommand called choose-session. Initially, I add a key binding for this command in my .tmux.conf:\nbind-key S choose-session It works by showing a list of sessions, and you can switch between these sessions by using Ctrl-N and Ctrl-P (check the title image).\nOne disadvantage with this method is that we can only switch between different session one at a time. When I have multiple sessions, switching between them is a pain.\nfuzzy-switching sessions with fzf # A more advanced way is to use fzf to filter sessions by their name and then switch to the selected session.\nFirst, we create a shell script ~/.tmux/tmux-switch-session.sh1:\n#!/bin/bash tmuxsessions=$(tmux list-sessions -F \u0026#34;#{session_name}\u0026#34;) tmux_switch_to_session() { session=\u0026#34;$1\u0026#34; if [[ $tmuxsessions = *\u0026#34;$session\u0026#34;* ]]; then tmux switch-client -t \u0026#34;$session\u0026#34; fi } choice=$(sort -rfu \u0026lt;\u0026lt;\u0026lt; \u0026#34;$tmuxsessions\u0026#34; \\ | fzf-tmux \\ | tr -d \u0026#39;\\n\u0026#39;) tmux_switch_to_session \u0026#34;$choice\u0026#34; We need to give this script execution rights (solution found here):\nchmod +x ~/.tmux/tmux-switch-session.sh Otherwise, when trying to run this script using key bindings, we get the following error:\n/home/jdhao/.tmux/tmux_switch_to_session returned 126\nThen add the following config to tmux conf:\nbind-key S run-shell -b \u0026#34;~/.tmux/tmux-switch-session.sh\u0026#34; Note that -b option for run-shell subcommand is important, without which, tmux will stuck and freeze forever, see also this issue.\nswitching tmux sessions with menu # This post shows how to switch sessions using a menu, which is also cool.\nFirst, we create a script ~/.tmux/session-menu (do not forget to give it execution rights):\n#!/usr/bin/env bash # See https://qmacro.org/autodidactics/2021/08/12/session-switching-with-the-tmux-menu/ tmux list-sessions -F \u0026#39;#S\u0026#39; \\ | awk \u0026#39;BEGIN {ORS=\u0026#34; \u0026#34;} {print $1, NR, \u0026#34;\\\u0026#34;switch-client -t\u0026#34;, $1 \u0026#34;\\\u0026#34;\u0026#34;}\u0026#39; \\ | xargs tmux display-menu -T \u0026#34;Switch-session\u0026#34; Then we create a key binding for it in tmux conf:\nbind-key ` run-shell -b \u0026#34;~/.tmux/session-menu\u0026#34; It will show a small menu for you to switch between different sessions. Pressing a number will switch to that session.\nReferences # https://eioki.eu/2021/01/12/tmux-and-fzf-fuzzy-tmux-session-window-pane-switcher switch session using popup: https://dev.to/waylonwalker/jump-to-running-tmux-sessions-with-fzf-4p77 Source here: https://www.reddit.com/r/tmux/comments/9qluuf/comment/e8bml7m/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 November 2021","externalUrl":null,"permalink":"/2021/11/20/tmux_fuzzy_session_switch/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202111211332634.png\" width=\"400\"\u003e\n\u003c/p\u003e\n\u003cp\u003eDuring my work, I use multiple Tmux sessions to manage different projects. When\nI create a new session, I usually give it unique name so that I know that the\nproject is about via the session name.\u003c/p\u003e","title":"Fuzzy-switching Tmux Sessions with Ease","type":"posts"},{"content":"æˆ‘å¹³æ—¶ç”¨ chrome æµè§ˆå™¨ï¼Œæœ‰æ—¶å€™æŸ¥ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œå–œæ¬¢æŠŠæœ‰å…³ç³»çš„ç½‘é¡µéƒ½æ‰“å¼€ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±å¡æ»¡äº† tabï¼Œè¿™äº›å†…å®¹æˆ‘ä¸ä¸€å®šéƒ½æœ‰æ—¶é—´å»çœ‹ä¸€éï¼Œæ‰€ä»¥ tab å°±ä¸€ç›´ç•™åœ¨é‚£é‡Œï¼Œæœ‰æ—¶å€™ä¸å¾—å·²è¦é‡å¯æµè§ˆå™¨æˆ–è€…é‡å¯ç³»ç»Ÿï¼Œä¸æƒ³ä¸¢å¤±è¿™äº› tabï¼Œå°±ç”¨ supertabs æ’ä»¶æŠŠ tab ä¿å­˜ä¸‹æ¥ï¼ŒæœŸæœ›æœ‰æ—¶é—´äº†å†å»çœ‹ã€‚\nç°åœ¨å›å¤´çœ‹ï¼Œå¾ˆå¤šä¿å­˜çš„ tab å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šæœ‰æ—¶é—´çœ‹äº†ï¼Œä¾‹è¯ä¹‹ä¸€å°±æ˜¯ç°åœ¨æµè§ˆå™¨é‡Œè¿˜ä¿å­˜ç€ 2019 å¹´ 5 æœˆçš„ä¸€äº› tabï¼Œæˆ‘çš„å¿ƒé‡Œç«Ÿè¿˜å­˜æœ‰ä¸€ä¸å¸Œæœ›ï¼Œè§‰å¾—è‡ªå·±åœ¨æœªæ¥ä¼šæœ‰æ—¶é—´çœ‹å®ƒã€‚\näººç”Ÿæœ€å¤§çš„å¹»è±¡ä¹‹ä¸€å°±æ˜¯è§‰å¾—æœªæ¥è¿˜æœ‰æ—¶é—´ï¼Œå»åšç°åœ¨æ²¡æ—¶é—´å»åšçš„äº‹æƒ…ï¼Œç»“æœå¸¸å¸¸æ˜¯æ°¸è¿œä¸ä¼šå»åšäº†ï¼Œç„¶è€Œå¿ƒé‡Œè¿˜å­˜æœ‰ä¸€ä¸è™šå‡çš„å¸Œæœ›ã€‚\næˆ‘ä¹Ÿæ˜¯è¿™äº›å¹´æ‰è¶Šå‘æ„è¯†åˆ° now or neverï¼Œæƒ³åšçš„äº‹æƒ…å°±é©¬ä¸Šå»åšï¼Œä¸è¦æ‹–å»¶ã€‚Now or never ä¹Ÿè®©æˆ‘æ€è€ƒä¸€ä»¶äº‹çš„ä»·å€¼ï¼Œè®©æˆ‘å»å–èˆï¼Œä¸è¦æ‰€æœ‰ä¸œè¥¿éƒ½æƒ³è¦ã€‚\n","date":"17 November 2021","externalUrl":null,"permalink":"/2021/11/17/now-or-never/","section":"Posts","summary":"\u003cp\u003eæˆ‘å¹³æ—¶ç”¨ chrome æµè§ˆå™¨ï¼Œæœ‰æ—¶å€™æŸ¥ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œå–œæ¬¢æŠŠæœ‰å…³ç³»çš„ç½‘é¡µéƒ½æ‰“å¼€ï¼Œæ‰€ä»¥æµè§ˆå™¨å°±å¡æ»¡äº† tabï¼Œè¿™äº›å†…å®¹æˆ‘ä¸ä¸€å®šéƒ½æœ‰æ—¶é—´å»çœ‹ä¸€éï¼Œæ‰€ä»¥ tab å°±ä¸€ç›´ç•™åœ¨é‚£é‡Œï¼Œæœ‰æ—¶å€™ä¸å¾—å·²è¦é‡å¯æµè§ˆå™¨æˆ–è€…é‡å¯ç³»ç»Ÿï¼Œä¸æƒ³ä¸¢å¤±è¿™äº› tabï¼Œå°±ç”¨ supertabs æ’ä»¶æŠŠ tab ä¿å­˜ä¸‹æ¥ï¼ŒæœŸæœ›æœ‰æ—¶é—´äº†å†å»çœ‹ã€‚\u003c/p\u003e","title":"äº‹æƒ…ç»å¸¸æ˜¯ Now or Never","type":"posts"},{"content":"kindle voyage çœ‹ PDF æ ¼å¼ç”µå­ä¹¦ä½“éªŒå¤ªå·®ï¼Œæ­£å¥½å…«æœˆä»½å°ç±³å‘å¸ƒäº†å°ç±³å¹³æ¿ 5 proï¼Œå°ç±³å¹³æ¿ 5 é”€å”®è¿˜æŒºç«çˆ†çš„ï¼Œäº¬ä¸œä¸Šä¸€ç›´æ–­è´§ï¼Œéœ€è¦é¢„çº¦ï¼Œé‚ä»å°ç±³ä¹‹å®¶å…¥æ‰‹ä¸€å°ä½“éªŒ1ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨å°ç±³å¹³æ¿ 5 pro ä¸¤ä¸ªå¤šæœˆçš„ä½“éªŒã€‚\næ•´ä½“ä½“éªŒ # å°ç±³å¹³æ¿ 5 pro ä½¿ç”¨äº† MIUI 12.5 ç³»ç»Ÿï¼Œé’ˆå¯¹å¹³æ¿ä½¿ç”¨åšäº†ä¸€å®šä¼˜åŒ–å’Œé€‚é…ï¼Œæ•´ä½“ä½¿ç”¨ä½“éªŒè‰¯å¥½ã€‚\nå°ç±³å¹³æ¿ 5 Pro è£¸æœºçš„é‡é‡æ¯” ipad air4 é‡äº† 50gï¼Œè£¸æœºä¸ªäººè§‰å¾—é‡é‡é€‚ä¸­ã€‚å¦‚æœè¦åœ¨åœ°é“ä¸Šæ‰‹æŒå¹³æ¿çœ‹ä¹¦ï¼Œä¸è¦å¸¦ä¿æŠ¤å¥—ï¼Œæˆ´ä¸Šä¿æŠ¤å¥—ä»¥åé‡é‡é‡äº†å¾ˆå¤šï¼Œæ‰‹æŒçœ‹ä¹¦çš„ä½“éªŒä¸å¥½ï¼Œé•¿æ—¶é—´æ¡æŒä¼šå¯¹æ‰‹è…•æœ‰ä¸€å®šçš„å‹åŠ›ã€‚å¯ä»¥ä¹°ä¿æŠ¤å£³ï¼Œé‡é‡ç¨å¾®è½»ä¸€äº›ã€‚\nç”µæ± ç”µé‡å……è¶³ï¼Œå……ç”µä¸€æ¬¡ï¼Œæ—¥å¸¸çœ‹ä¹¦è½»åº¦ä½¿ç”¨å¯ä»¥ç”¨å¾ˆä¹…ï¼Œä¸ç”¨æ‹…å¿ƒç”µé‡é—®é¢˜ã€‚\nè§¦æ§ç¬”ä½“éªŒ # å¦‚æœéœ€è¦ç”¨å¹³æ¿ç”µè„‘å­¦ä¹ ï¼Œè§¦æ§ç¬”æ˜¯å¿…ä¸å¯å°‘çš„ã€‚å°ç±³å®˜æ–¹çš„çµæ„Ÿè§¦æ§ç¬”ä»·æ ¼ 349ï¼Œç›¸æ¯” Apple pencil ç¬¬äºŒä»£å·²ç»å¾ˆä¾¿å®œäº†ï¼Œä½¿ç”¨ä½“éªŒä¸Šä¹Ÿä¸é”™ï¼Œå»¶è¿Ÿä½ï¼Œä¹¦å†™æ•ˆæœä¹Ÿæ¯”è¾ƒç»†è…»ï¼Œä¸è¿‡è¿˜æ˜¯æ¯” Apple pencil çš„ä½“éªŒç¨å·®ï¼Œè‹¹æœåœ¨ç¡¬ä»¶å’Œè½¯ä»¶ä¸Šä¼˜åŠ¿è¿˜æ˜¯æœ‰çš„ã€‚\nä¸å»ºè®®è´­ä¹°æ·˜å®ä¸Šçš„ç¬¬ä¸‰æ–¹è§¦æ§ç¬”ï¼Œåˆšä¹°å¹³æ¿çš„æ—¶å€™ï¼Œä¹Ÿæƒ³çœé’±ï¼Œä¹°ä¸ªä¾¿å®œè§¦æ§ç¬”ã€‚ç¬¬ä¸‰æ–¹è§¦æ§ç¬”ä»·æ ¼è™½ç„¶å¾ˆä¾¿å®œï¼Œå¤§éƒ½ 100 ï¼Œæˆ‘åœ¨æ·˜å®ä¸Šä¹°äº† 4 æ¬¾è§¦æ§ç¬”ï¼Œå®£ä¼ çš„éƒ½å¾ˆå¥½ï¼Œå®é™…ä½“éªŒä¸‹æ¥å‘ç°å®Œå…¨æ²¡æ³•ä½¿ç”¨ã€‚é¦–å…ˆä¸æ”¯æŒé˜²è¯¯è§¦ï¼Œå¦å¤–ï¼Œä¹¦å†™çš„å»¶è¿Ÿå’Œä½¿ç”¨ä½“éªŒéƒ½éå¸¸ç³Ÿç³•ï¼Œæ¯”å®˜æ–¹ç¬”å·®å¤ªè¿œäº†ã€‚\nä¿æŠ¤å£³ # å…³äºä¿æŠ¤å¥—ä¸Šé¢å·²ç»è¯´äº†ï¼Œä¿æŠ¤å¥—ä¼šæ˜¾è‘—çš„å¢åŠ é‡é‡ï¼Œç§»åŠ¨çœ‹ä¹¦çš„ä½“éªŒä¸æ˜¯ç‰¹åˆ«å¥½ã€‚å½“ç„¶ï¼Œå¦‚æœä½ åªæ˜¯æŠŠå¹³æ¿æ”¾åœ¨æ¡Œé¢ä¸Šçœ‹ï¼Œä¿æŠ¤å¥—ä¹Ÿæ˜¯å¯ä»¥æˆ´çš„ã€‚\nå¦å¤–è¿˜æœ‰ä¸€ä¸ªå…³äºä¿æŠ¤å¥—çš„å‘ï¼Œéœ€è¦æ³¨æ„ã€‚æˆ‘åˆšå¼€å§‹ä¸ºäº†çœé’±ï¼Œåœ¨æ·˜å®ä¸Šä¹°äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ä¿æŠ¤å¥—ï¼Œä»·æ ¼å¤§æ¦‚ 50ã€‚ç„¶åè¯¡å¼‚çš„äº‹æƒ…å°±å‘ç”Ÿäº†,æœ‰æ—¶å€™ç”¨çµæ„Ÿè§¦æ§ç¬”åœ¨å¹³æ¿ä¸Šå†™å­—å†™ä¸å‡ºæ¥ï¼Œæˆ‘åˆšå¼€å§‹ä»¥ä¸ºæ˜¯çµæ„Ÿè§¦æ§ç¬”çš„é—®é¢˜ï¼Œéå¸¸æ°”æ„¤ï¼Œæƒ³è¦æŠŠçµæ„Ÿè§¦æ§ç¬”é€€æ‰ã€‚ç»“æœåé¢åœ¨å¾®åšä¸Šæœåˆ°äº†ä¸€ä½ç½‘å‹çš„å‘çš„å¾®åšï¼Œä»–è¯´å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹ç£å¸çš®å¥—çš„é—®é¢˜ï¼Œå½“ä½ æŠŠç£å¸çš®å¥—çš„åç›–æ¿æ”¾åœ¨äº†å¹³æ¿çš„èƒŒåçš„æ—¶å€™ï¼Œçµæ„Ÿè§¦æ§ç¬”ä¹¦å†™å°±ä¼šå‡ºç°é—®é¢˜ã€‚æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œå¦‚æœæŠŠç£å¸çš®å¥—çš„ç›–æ¿å¹³æ‘Šå¼€ï¼Œä¹¦å†™å°±æ²¡æœ‰é—®é¢˜ã€‚\nç”±äºéœ€è¦ç§»åŠ¨é˜…è¯»ï¼Œæ‰€ä»¥åé¢å…¥æ‰‹äº†å‡¯å¤«æ‹‰æè´¨ä¿æŠ¤å£³ï¼Œé‡é‡é€‚ä¸­ï¼Œé¢œå€¼ä¹Ÿå¾ˆé«˜ï¼Œæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚\né˜…è¯» # ä¹°å¹³æ¿ä¸»è¦ç›®çš„å°±æ˜¯é˜…è¯»ï¼Œä»äºšé©¬é€Šä¹°çš„å›¾ä¹¦ï¼Œä½¿ç”¨ Kindle å®‰å“ç‰ˆæ¥çœ‹ï¼Œæ•ˆæœä¸é”™ã€‚è‡ªå·±ä»ç½‘ä¸Šä¸‹è½½çš„ epubã€mobi ç­‰æ ¼å¼çš„ç”µå­ä¹¦ï¼Œä½¿ç”¨ ReadEra è¿™æ¬¾ç”µå­ä¹¦é˜…è¯»å™¨ã€‚\né˜…è¯» PDF æ ¼å¼çš„å›¾ä¹¦ï¼Œä½“éªŒæœ€å¥½æ˜¯ xodo è¿™æ¬¾ APPï¼Œè€Œä¸”å®ƒè¿˜å¯ä»¥å¯¹å›¾ä¹¦è¿›è¡Œæ‰¹æ³¨ã€‚\nç¬”è®° # ç›®å‰å°ç±³ç¬”è®°æ”¯æŒè§¦æ§ç¬”è¾“å…¥ï¼Œä¸è¿‡è‡ªå¸¦çš„ç¬”è®°åŠŸèƒ½è¾ƒä¸ºç®€é™‹ï¼Œæ¨èç”¨ç¬¬ä¸‰æ–¹ç¬”è®°åº”ç”¨ã€‚ç¬”è®° app è¯•ç”¨äº†éå¸¸å¤šæ¬¾ï¼Œæœ€åå‘ç°å‡ æ¬¾ä¸é”™çš„ï¼Œåˆ†åˆ«æ˜¯\näº«åšç¬”è®° noteshelf flexcil äº‘è®° è¿™å‡ æ¬¾ APP ä¹¦å†™ä½“éªŒéƒ½å¾ˆå¥½ï¼Œå»¶è¿Ÿä½ï¼Œå¦å¤–åŠŸèƒ½ä¸°å¯Œï¼ŒUI äº¤äº’ç•Œé¢è®¾è®¡ç›¸å¯¹åˆç†ã€‚\nå°ç±³ä¹‹å®¶ä¹°å¹³æ¿ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ï¼Œè®¢è´­ä»¥åæœ‰è´§åº—å‘˜ä¼šé€šçŸ¥ä»˜æ¬¾ï¼Œä¸ä¼šç­‰å¾ˆä¹…ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"13 November 2021","externalUrl":null,"permalink":"/2021/11/13/xiaomi_pad5_pro_handson/","section":"Posts","summary":"\u003cp\u003ekindle voyage çœ‹ PDF æ ¼å¼ç”µå­ä¹¦ä½“éªŒå¤ªå·®ï¼Œæ­£å¥½å…«æœˆä»½å°ç±³å‘å¸ƒäº†å°ç±³å¹³æ¿ 5 proï¼Œå°ç±³å¹³æ¿ 5 é”€å”®è¿˜æŒºç«çˆ†çš„ï¼Œäº¬ä¸œä¸Šä¸€ç›´æ–­è´§ï¼Œéœ€è¦é¢„çº¦ï¼Œé‚ä»å°ç±³ä¹‹å®¶å…¥æ‰‹ä¸€å°ä½“éªŒ\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨å°ç±³å¹³æ¿ 5 pro ä¸¤ä¸ªå¤šæœˆçš„ä½“éªŒã€‚\u003c/p\u003e","title":"å°ç±³å¹³æ¿ 5 Pro ä½“éªŒ","type":"posts"},{"content":"","date":"10 November 2021","externalUrl":null,"permalink":"/tags/audio/","section":"Tags","summary":"","title":"Audio","type":"tags"},{"content":"Collected tips on audio processing with FFmpeg.\nRemove audio from a video # To remove audio from a video file, i.e., muting the video, run the following command:\nffmpeg -i input.mp4 -c copy -an input-silent.mp4 Ref:\nhttps://superuser.com/q/268985/736190 Extract audio from FFmpeg # ffmpeg -i input.mp4 -vn -acodec copy out.acc -vn: do not use video -acodec copy: copy the audio stream (equivalent to -codec:a copy, see stream specifier) Extract audio in a time range # ffmpeg -i input.mp4 -vn -acodec copy -ss 00:01:00 -t 30 out.aac -ss: the start time to process the video, in above case, we start from 1 minute -t: the video duration to process, in this case, we process 30 seconds of video. There is also a -to option which specifies the stop time to process the video. So the above command can also be written as:\nffmpeg -i input.mp4 -vn -acodec copy -ss 00:01:00 -to 00:01:30 out.aac Ref:\nhttps://stackoverflow.com/q/55668539/6064933 https://stackoverflow.com/q/9913032/6064933 ffmpeg video duration format ","date":"10 November 2021","externalUrl":null,"permalink":"/2021/11/10/ffmpeg_audio_processing/","section":"Posts","summary":"\u003cp\u003eCollected tips on audio processing with FFmpeg.\u003c/p\u003e","title":"Audio Processing Using FFmpeg","type":"posts"},{"content":"ffmpeg is an excellent tool for video processing. However, using ffmpeg directly inside Python is not convenient enough. Previously, I have been using ffmpeg-python, which is a thin wrapper around the ffmpeg command line executable.\nThe main issue with ffmpeg-python is its slow speed in performance-critical applications, due to its nature as a simple wrapper package.\nThe PyAV is a more performant package providing ffmpeg library bindings1.\nTo install PyAV, run the following command:\npip install av Simple use case: extract frame every one second # Here is a code snippet for how to extract video frames every one second:\nimport os import av out_dir = \u0026#34;demo\u0026#34; if not os.path.exist(out_dir): os.makedirs(out_dir) fpath = \u0026#34;test.mp4\u0026#34; container = av.open(fpath) # take first video stream stream = container.streams.video[0] # get video fps average_fps = int(stream.average_rate) for idx, frame in enumerate(container.decode(stream)): if idx % average_fps != 0: continue frame.to_image.save(\u0026#34;frame-{idx}.jpg\u0026#34;) In the code snippet, we create a container, which contains all video and audio streams in the video.\nWe then use container.streams.video[0] to get the video stream. container.decode() is used to decode the stream into frames.\nSince videos may have variable fps, there are actually several frame rates. stream.average_rate is the average fps for video, and it works fine in our case. However, it is not a native type, we need to convert it to float or int before usage.\nSome of the other important information of a stream:\nvideo duration in seconds: float(stream.duration * stream.time_base) video frame number: stream.frames frame width and height: frame.width, frame.height References # video frames doc: https://pyav.org/docs/stable/api/video.html#module-av.video.frame It works by invoking the ffmpeg libraries directly, instead of using ffmpeg executable.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 November 2021","externalUrl":null,"permalink":"/2021/11/04/pyav-video-processing/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://www.ffmpeg.org/\" target=\"_blank\"\u003effmpeg\u003c/a\u003e is an excellent tool for video processing.\nHowever, using ffmpeg directly inside Python is not convenient enough.\nPreviously, I have been using \u003ca href=\"https://github.com/kkroening/ffmpeg-python\" target=\"_blank\"\u003effmpeg-python\u003c/a\u003e, which is a thin wrapper around the \u003ccode\u003effmpeg\u003c/code\u003e command line executable.\u003c/p\u003e","title":"PyAV for video processing","type":"posts"},{"content":"","date":"31 October 2021","externalUrl":null,"permalink":"/tags/non-fiction/","section":"Tags","summary":"","title":"Non-Fiction","type":"tags"},{"content":"","date":"31 October 2021","externalUrl":null,"permalink":"/categories/reading/","section":"Categories","summary":"","title":"Reading","type":"categories"},{"content":"èŠ±äº†ä¸€å‘¨çš„æ—¶é—´ï¼Œçœ‹å®Œäº†èŒ…æµ·å»ºçš„ã€Šå¤©æœçš„å´©æºƒã€‹ï¼Œè™½ç„¶ä¸­å­¦å†å²ä¹¦ä¸­ç®€ç•¥è®²è¿‡ç¬¬ä¸€æ¬¡é¸¦ç‰‡æˆ˜äº‰ï¼Œå¯¹è¿™æ®µå†å²äº†è§£å´ç”šå°‘ï¼Œæˆ‘ç”šè‡³å¤©çœŸåœ°ä»¥ä¸ºé¸¦ç‰‡æˆ˜äº‰å°±æ˜¯è™é—¨æˆ˜äº‰ä¹‹åå°±å’Œè°ˆäº†ï¼Œç„¶åç­¾è®¢äº†ã€Šå—äº¬æ¡çº¦ã€‹ã€‚\nè¿™æœ¬ä¹¦ç”¨éå¸¸è¯¦å®çš„ä¸­å¤–å²æ–™ï¼Œå®¢è§‚è®²è¿°äº† 1840-1842 å¹´é¸¦ç‰‡æˆ˜äº‰çš„ç»è¿‡ï¼Œç”¨å²æ–™é©³æ–¥äº†ä¸€äº›æµä¼ çš„è¯´æ³•ï¼Œå¦‚â€œç¦å–„å–å›½è®ºâ€ã€‚ä¹¦ä¸­è™½ç„¶å¼•è¿°äº†å¾ˆå¤šç¬¬ä¸€æ‰‹çš„å²æ–™ï¼ˆå¥æŠ˜ï¼Œå¾¡æ‰¹ï¼Œç§äººæ—¥è®°ï¼Œå¤–æ–‡èµ„æ–™ï¼‰ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å­¦ç©¶å‘³é“ï¼Œè¯»èµ·æ¥å¹¶ä¸æ¯ç‡¥ã€‚ä½œè€…æ—¶ä¸æ—¶çš„è¯„è®ºï¼Œæ›´æ˜¯ç”»é¾™ç‚¹ç›ï¼Œè§‚ç‚¹éå¸¸ç²¾è¾Ÿã€‚\nä»¥ä¸‹å¼•ç”¨æ–‡æœ¬çš†å‡ºè‡ªä¹¦ä¸­ï¼Œç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ã€‚\nç»ªè®º # é¸¦ç‰‡æˆ˜äº‰å‰çš„é€šå•†çŠ¶å†µï¼š\nç”±äºé¸¦ç‰‡æˆ˜äº‰å‰ï¼Œä¸­è‹±ä¹‹é—´å®é™…å­˜åœ¨çš„åªæ˜¯é€šå•†å…³ç³»ï¼›åˆç”±äºæ¸…æ”¿åºœå®˜å‘˜çš„è…è´¥ï¼Œè´¿èµ‚å’Œé™‹è§„å·²ç»æˆä¸ºç»´ç³»è¿™ç§å…³ç³»å»¶ç»­è¿ä½œçš„ä¸å¯ç¼ºå°‘çš„æ¶¦æ»‘å‰‚ï¼›å‡¡æ˜¯æ¶‰åŠè¿™ç§å•†åŠ¡è”ç³»çš„å®˜å‘˜ï¼Œæ— ä¸å—è´¿ï¼Œæ— ä¸å‘è´¢ï¼Œä¹…å·²è¢«è§†ä½œå®˜åœºä¸­çš„æ­£å¸¸ç°è±¡ã€‚\nå¤©æœå’Œè¥¿æ–¹çš„å…³ç³»ï¼Œä»¥åŠå¤©æœå¯¹å¤·çš„æ€åº¦\næ ¹æ®å„’å®¶çš„ç¤¼ä»ªï¼Œæ¸…ç‹æœæ‹’ç»ä¸è¿™äº›ä¸æ„¿æœè´¡çš„å›½å®¶ä½œæ­£å¼çš„å®˜æ–¹äº¤å¾€ï¼›åˆæ ¹æ®å„’å®¶â€œè™½ä¹‹å¤·ç‹„ï¼Œä¸å¯å¼ƒä¹Ÿâ€çš„æ•™ä¹‰ï¼Œæ¸…ç‹æœåˆå‡†è®¸è¿™äº›å›½å®¶é€šå•†ã€‚å°½ç®¡è¿™ç§é€šå•†åœ¨æ¸…åˆã€æ¸…ä¸­å¶æœ‰åˆ©äºä¸­å›½ï¼Œä¹Ÿç‰µç³»ç€æ²¿æµ·æ•°åä¸‡æ°‘ä¼—çš„ç”Ÿè®¡ï¼Œä½†ä¾ç…§â€œä»¥å†œä¸ºæœ¬â€çš„å¤è®­ï¼Œå…¼ä¹‹æœå»·åœ¨æ­¤ä¸­è·ç›Šä¸å¤šï¼Œ[17]æ¸…ç‹æœå¯¹æ­¤å¹¶ä¸é‡è§†ã€‚åœ¨ä»–ä»¬çš„å¿ƒç›®ä¸­ï¼Œé€šå•†æ˜¯â€œå¤©æœâ€æ–½äºâ€œè›®å¤·â€çš„ä¸€ç§æ©æƒ ï¼Œæ˜¯â€œæ€€æŸ”è¿œäººâ€çš„ä¸€ç§ç­–ç•¥ã€‚\n16ä¸–çºªè¥¿æ–¹äººåˆè‡³ï¼Œä¸­å›½ä¹ƒæ˜¯ä¸–ç•Œä¸Šæœ€å‘è¾¾çš„å›½å®¶ï¼›17ã€18ä¸–çºªä¹‹äº¤ï¼Œåº·ç†™å¤§å¸çš„æ–‡æ²»æ­¦åŠŸï¼Œä½¿ä¸­å›½è¿›å…¥ä¸€ä¸ªæ–°çš„â€œç››ä¸–â€ï¼›å³ä½¿æ˜¯åœ¨18ä¸–çºªè‹±å›½å·¥ä¸šé©å‘½å‰ï¼Œä¸­å›½çš„ç¤¾ä¼šç”Ÿäº§åŠ›ä»ä¸ä½äºè¥¿æ–¹å„å›½ï¼Œç”Ÿäº§æ€»é‡åˆ™è¿œè¿œè¶…è¿‡ä¹‹ã€‚è‡³é¸¦ç‰‡æˆ˜äº‰å‰å¤•ï¼Œä¸­å›½ç¡®ç¡®å®å®æ˜¯è½åäº†ã€‚ä½†æ˜¯ï¼Œç”±äºæ–‡åŒ–èƒŒæ™¯çš„ä¸åŒï¼Œè‹±å›½æœ€å…ˆè¿›çš„äº‹ç‰©ï¼Œç»è¿‡å„’å®¶æ•™ä¹‰çš„æŠ˜å…‰ï¼Œé¡¿æ—¶å˜ä¸ºæœ€è’è°¬ä¸å ªçš„ä¸œè¥¿ã€‚å›ä¸»ç«‹å®ªï¼Œåœ¨çš‡æƒè‡³ä¸Šé¢å‰ï¼Œæœ‰å¦‚å¤§è‡£æ“…æƒï¼›ç»å•†è´¸æ˜“ï¼Œåœ¨å†œæœ¬ä¸»ä¹‰é¢å‰ï¼Œæ˜¾ä¸ºèˆæœ¬æ±‚æœ«ï¼›è¿½é€åˆ©æ¶¦ï¼Œåœ¨æ€§ç†åæ•™é¢å‰ï¼Œåªæ˜¯å°äººä¹‹ä¸¾ï¼›è‡³äºå¥³ç‹ä¸»ä½ã€ç”·å¥³ä¸è¾¨ï¼Œæ›´æ˜¯ç‰é¸¡å¸æ™¨ä¹‹ç±»çš„â€œå¤·ä¿—â€ï¼›å³ä¾¿ä»¤äººå…´å¹çš„è¥¿æ–¹å™¨ç‰©ï¼ˆé’Ÿè¡¨ã€ç»ç’ƒã€å‘¢ç¾½ç­‰ï¼‰ï¼Œäº«ç”¨èµç©æ”¶è—ä¹‹ä½™ï¼Œä»å¯æ–¥ä¹‹ä¸ºâ€œåäººå¿ƒæœ¯â€çš„â€œå¥‡æŠ€æ·«å·§â€ã€‚æ— æ€ªä¹æµ·é€š200ä½™å¹´åï¼Œä¸­åœŸçš„å®˜åƒšå£«å­ä»¬å¹¶æœªæŠ˜æœäºè¥¿æ–¹ï¼Œååšä¿¡äºä¸­åæ–‡ç‰©åˆ¶åº¦è¿œèƒœäºâ€œè¥¿å¤·â€ï¼Œå°½ç®¡ä»–ä»¬åœ¨ä¸€ä¸ªäº‹å®æ–¹é¢å·²ç»è¾¾æˆäº†å…±è¯†ï¼šè¥¿æ–¹â€œèˆ¹åšç‚®åˆ©â€ã€‚\nå¤©æœå…³äºâ€œå¿ å¥¸â€çš„ç†è®ºï¼š\nåœ¨çš‡æƒè‡³ä¸Šçš„ç¤¾ä¼šä¸­ï¼Œå¤©å­è¢«è¯´æˆè‡³åœ£è‡³æ˜ï¼Œä¸å®¹è®¸ä¹Ÿä¸â€œåº”è¯¥â€çŠ¯ä»»ä½•é”™è¯¯ã€‚å°½ç®¡çš‡å¸æ¡æœ‰è¿‘ä¹æ— é™çš„æƒåŠ›ï¼Œå› è€Œå¯¹ä¸€åˆ‡äº‹ä»¶å‡åº”è¯¥è´Ÿæœ‰ç¨‹åº¦ä¸ä¸€çš„è´£ä»»ï¼›ä½†æ˜¯ï¼Œå½“æ—¶çš„äººä»¬å¯¹æ”¿æ²»çš„æ‰¹åˆ¤ï¼Œæœ€å¤šåªèƒ½åˆ°å¤§è‡£ä¸€çº§ã€‚ç”±æ­¤è€Œäº§ç”Ÿäº†ä¸­å›½ä¼ ç»Ÿå²å­¦ã€å“²å­¦ä¸­çš„â€œå¥¸è‡£æ¨¡å¼â€ï¼šâ€œå¥¸è‡£â€æ¬ºè’™å›ä¸»ï¼Œæ»¥ç”¨èŒæƒï¼Œç»“å…šè¥ç§ï¼Œæ–½æ¨ªä½œæ¶ï¼Œè‡´ä½¿å›½è¿è´¥è½ï¼›ä¸€æ—¦é™¤å»â€œå¥¸è‡£â€ï¼Œåœ£æ˜é‡å¼€ï¼Œä¸‡ä¼—æ¬¢è…¾ã€‚è¿™ä¸€ç±»æ¨¡å¼ä½¿çš‡å¸é¿å…äº†ç›´æ¥æ‰¿æ‹…åäº‹çš„è´£ä»»ï¼Œè‡³å¤šä¸è¿‡æ˜¯ç”¨äººä¸å‘¨ä¸å¯Ÿï¼Œè€Œè®©â€œå¥¸è‡£â€å»æ‰¿æ‹…è´£ä»»ï¼Œå……å½“æ›¿ç½ªç¾Šã€‚è‹¥éå¦‚æ­¤ï¼Œå°†ä¼šç›´æ¥æ‰¹åˆ¤åˆ°çš‡å¸ã€‚è¿™å°±å†²çŠ¯äº†å„’å®¶çš„â€œç¤¼â€ï¼Œæ˜¯å£«äººå­¦å­ä»¬ä¸ä¼šä¹Ÿä¸æ„¿å»åšçš„ã€‚\nåœ¨å½“æ—¶çš„æƒ…å†µä¸‹ï¼Œç»å¤§å¤šæ•°çš„å®˜åƒšå£«å­ä»¬ä¹‹æ‰€ä»¥åªæ‰¹åˆ¤ç¦å–„ï¼Œè€Œä¸æŒ‡è´£é“å…‰å¸ï¼Œå¹¶éå‡ºäºæ€æƒ³ä¸Šçš„å‹åˆ¶ï¼Œå´æ°æ°å‡ºäºæ€æƒ³ä¸Šçš„è‡ªè§‰ã€‚\nå¿ å¥¸çš„ç†è®ºæ‰€èƒ½å¾—å‡ºçš„ç›´æ¥ç»“è®ºæ˜¯ï¼Œä¸­å›½æ¬²å–å¾—æˆ˜äº‰çš„èƒœåˆ©ï¼Œåªéœ€ç½¢å…ç¦å–„åŠå…¶åŒå…šã€é‡ç”¨æ—åˆ™å¾åŠå…¶åŒå¿—å³å¯ï¼Œä¸å¿…è§¦åŠ¨ä¸­å›½çš„ç°çŠ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ¢å‡ ä¸ªäººå°±è¡Œï¼Œæ— é¡»è¿›è¡Œæ”¹é©ã€‚ å¿ å¥¸çš„ç†è®ºæ‰€èƒ½å¾—å‡ºçš„æœ€ç»ˆç»“è®ºæ˜¯ï¼Œä¸ºä½¿å¿ è‡£å¾—å¿—ï¼Œå¥¸è‡£ä¸ç”Ÿï¼Œå°±å¿…é¡»åŠ å¼ºä¸­å›½çš„çº²çºªä¼¦å¸¸ï¼Œå¼ºåŒ–ä¸­å›½çš„ä¼ ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé¸¦ç‰‡æˆ˜äº‰æ‰€æš´éœ²å‡ºæ¥çš„ï¼Œä¸æ˜¯â€œå¤©æœâ€çš„å¼Šé™‹ï¼Œä¸æ˜¯ä¸­åçš„è½ä¼ï¼›åè€Œæ˜¯è¯æ˜äº†ä¸­å›½çš„åœ£è´¤ç»å…¸ã€å¤©æœåˆ¶åº¦çš„æ­£ç¡®æ€§ï¼Œåå°±ååœ¨ä¸€éƒ¨åˆ†â€œå¥¸è‡£â€å¹¶æ²¡æœ‰ç…§æ­¤åŠç†ã€‚äºæ˜¯ï¼Œä¸­å›½æ­¤æ—¶çš„ä»»åŠ¡ï¼Œä¸æ˜¯æ”¹é©æ—§ä½“åˆ¶ï¼Œè€Œæ˜¯åŠ å¼ºæ—§ä½“åˆ¶ã€‚\nå¿ å¥¸ç†è®ºå’Œâ€œå¥¸è‡£æ¨¡å¼â€ï¼Œå¹¶éæ˜¯é¸¦ç‰‡æˆ˜äº‰å²ç‹¬æœ‰çš„ç°è±¡ï¼Œè€Œæ˜¯ä¸­å›½ä¼ ç»Ÿå²å­¦çš„å¸¸ç”¨æ–¹æ³•ã€‚æ­£æ˜¯å®ƒå…·æœ‰æ©æŠ¤å›ä¸»ã€æ©æŠ¤é“ç»Ÿçš„ç‰¹æ®ŠåŠŸèƒ½ï¼Œå› è€Œå±¡å±¡è¢«å®˜åƒšå£«å­ä»¬ç”¨æ¥è§£é‡Šé‚£äº›ä»–ä»¬ä¸èƒ½è§£é‡Šæˆ–ä¸æ„¿è§£é‡Šçš„å†å²ç°è±¡ã€‚\nä½œè€…æŒ‰ï¼š\nä¸€ä¸ªæ°‘æ—å¯¹è‡ªå·±å†å²çš„è‡ªæˆ‘æ‰¹åˆ¤ï¼Œæ­£æ˜¯å®ƒé¿å…é‡è¹ˆå†å²è¦†è¾™çš„åšå®ä¿è¯ã€‚\nå†›äº‹åŠ›é‡å¯¹æ¯” # æ¸…å†›ç«æªï¼Œç«ç‚®ï¼Œç«è¯çŠ¶æ€\nä¸è‹±å†›ç›¸æ¯”ï¼Œæ¸…å†›é¸Ÿæªåœ¨å‹åˆ¶ä¸Šçš„ç¼ºé™·æ˜¯ï¼šæªèº«å¤ªé•¿ï¼ˆè£…è¯ã€å¡«å¼¹å’Œå°„å‡»å‡ä¸ºä¸ä¾¿ï¼‰ï¼›ç‚¹ç«è£…ç½®è½åï¼ˆé£é›¨å¤©æ•ˆèƒ½æå·®ï¼‰ã€‚è€Œåœ¨æ€§èƒ½ä¸Šï¼Œåˆæœ‰ç€å°„é€Ÿæ…¢ã€å°„ç¨‹è¿‘è¿™ä¸¤å¤§è‡´å‘½ä¼¤ã€‚\næ­¤å¤–ï¼Œæ¸…å†›ç«ç‚®åœ¨ç®¡ç†ä¸Šäº¦åŒé¸Ÿæªï¼Œå¹¶æ— å®šæœŸé€ æ¢åˆ¶åº¦ã€‚ç”±äºå¹³å¸¸å¹¶ä¸ä½¿ç”¨ï¼Œè®¸å¤šéœ²å¤©æç½®åœ¨ç‚®å°ã€åŸå›ç­‰å¤„çš„ç«ç‚®ï¼Œæ—¥æ™’é›¨æ·‹ï¼Œç‚®èº«é”ˆèš€ã€‚è‡³é¸¦ç‰‡æˆ˜äº‰ï¼Œè¿™äº›ç«ç‚®çš„ä½¿ç”¨å¹´é™å¤§å¤šå·²ç»å¾ˆé•¿ï¼Œæ¸…åˆé“¸é€ çš„æ¯”æ¯”çš†æ˜¯ï¼Œæœ‰çš„ç”šè‡³æ˜¯å‰æ˜é—ç‰©ã€‚[12]è‹¥ä¸è’¸æ´—è¯•æ”¾ï¼Œè°ä¹Ÿä¸çŸ¥èƒ½å¦ä½¿ç”¨ã€‚\nå°½ç®¡ä¸­è‹±ç«ç‚®æ ·å¼å¤§ä½“ç›¸åŒï¼Œä½†å› è´¨é‡çš„å·®è·ï¼Œä½¿ä¹‹å…·æœ‰å°„ç¨‹è¿‘ã€å°„å‡»é€Ÿåº¦æ…¢ã€å°„å‡»èŒƒå›´å°ã€å°„å‡»ç²¾åº¦å·®ã€å°„ä¸­åç‚®å¼¹å¨åŠ›å¼±ç­‰ç¼ºé™·ã€‚è¿™äº›ç¼ºé™·ä¸­ï¼Œå“ªä¸€é¡¹ä¸æ˜¯è‡´å‘½ä¼¤ï¼Ÿ é¸¦ç‰‡æˆ˜äº‰ä¸­çš„ç»å¤§å¤šæ•°æˆ˜æ–—ï¼Œæ˜¯æ¸…å†›çš„å²¸ç‚®ä¸è‹±å†›çš„èˆ°ç‚®ä¹‹é—´çš„ç‚®æˆ˜ã€‚æŒ‰å¸¸ç†è¯´ï¼Œæµ·å²¸ç‚®ä¾æ‰˜åšå›ºçš„é™†åœ°ï¼Œå¯ä¸è®¡é‡é‡ã€åååŠ›ç­‰å› ç´ ï¼Œè€Œåˆ¶ä½œå¾—æ›´å¤§ï¼Œå°„ç¨‹æ›´è¿œï¼Œå¨åŠ›æ›´å¤§ã€‚å®é™…ä¸Šæ¸…å†›çš„å²¸ç‚®ä¸€èˆ¬ä¹Ÿé‡äºè‹±å†›çš„èˆ°ç‚®ã€‚ä½†æ˜¯ï¼Œåœ¨æˆ˜æ–—ä¸­ï¼ŒåŒæ–¹ç«ç‚®çš„å¨åŠ›å´å‘ç”Ÿäº†é€†è½¬ã€‚å½“æˆ˜åœºä¸Šç¡çƒŸæ•£å°½ä¹‹åï¼Œæˆ‘ä»¬ä¸å¾—ä¸æƒŠæ„•åœ°é¢å¯¹æ‚²æƒ¨çš„äº‹å®ï¼šæ¸…å†›åœ¨æˆ˜äº‰çš„å…¨è¿‡ç¨‹ä¸­æœªèƒ½å‡»æ²‰è‹±å†›çš„ä¸€è‰˜æˆ˜èˆ°æˆ–è½®èˆ¹ï¼Œè€Œè‡ªå·±çš„é˜µåœ°å´è¢«æ‰“å¾—åƒç–®ç™¾å­”ã€‚\næ‰‹å·¥ä¸šçš„ç”Ÿäº§æ–¹æ³•ï¼Œä½¿æ¸…æ–¹æ— æ³•æç‚¼å‡ºé«˜çº¯åº¦çš„ç¡å’Œç¡«ï¼Œè¯æ–™çš„æ‚è´¨æˆåˆ†é«˜ï¼›åˆæ— å…ˆè¿›çš„ç²‰ç¢ã€æ‹Œå’Œã€å‹åˆ¶ã€çƒ˜å¹²ã€ç£¨å…‰ç­‰å·¥è‰ºï¼Œåªæ˜¯é èˆ‚ç¢¾ï¼Œç»“æœç«è¯çš„é¢—ç²’ç²—ç³™ï¼Œå¤§å°ä¸ä¸€ï¼Œå¾€å¾€ä¸èƒ½å……åˆ†ç‡ƒçƒ§ã€‚[16] ç«è¯çš„è´¨é‡ï¼Œç›´æ¥å½±å“åˆ°æªã€ç‚®çš„å¨åŠ›ã€‚æ¸…å†›ä½¿ç”¨çš„ç²—åŠ£çš„ç«è¯ï¼Œä½¿å…¶åŸæœ¬è½åçš„æªã€ç‚®ï¼Œåœ¨å®æˆ˜ä¸­æ•ˆèƒ½æ›´å‡ã€‚\næ¸…å†›èˆ°èˆ¹ä¸è‹±å›½æµ·å†›èˆ°èˆ¹å¯¹æ¯”ï¼š\nè‹±å›½æµ·å†›ä¸ºå½“æ—¶ä¸–ç•Œä¹‹æœ€ï¼Œæ‹¥æœ‰å„ç±»èˆ°èˆ¹400ä½™è‰˜ã€‚å…¶ä¸»è¦ä½œæˆ˜å†›èˆ°ä»ä¸ºæœ¨åˆ¶é£å¸†åŠ¨åŠ›ï¼Œä¼¼ä¸æ¸…å†›åŒç±»ï¼Œä½†ç›¸è¾ƒä¹‹ä¸‹ï¼Œæœ‰ä¸‹åˆ—ç‰¹ç‚¹ï¼šä¸€ã€ç”¨åšå®æœ¨æ–™åˆ¶ä½œï¼Œèƒ½æŠ—é£æ¶›è€Œæ¶‰è¿œæ´‹ï¼›äºŒã€èˆ¹ä½“ä¸‹éƒ¨ä¸ºåŒå±‚ï¼ŒæŠ—æ²‰æ€§èƒ½å¥½ï¼ˆå½“æ—¶ä¸­å›½äººç§°â€œå¤¹æ¿èˆ¹â€ï¼‰ï¼Œä¸”ç”¨é“œç‰‡ç­‰é‡‘å±ææ–™åŒ…è£¹ï¼Œé˜²è›€é˜²æœ½é˜²ç«ï¼›ä¸‰ã€èˆ¹ä¸Šæœ‰ä¸¤æ¡…æˆ–ä¸‰æ¡…ï¼Œæ‚¬æŒ‚æ•°åå…·é£å¸†ï¼Œèƒ½åˆ©ç”¨å„ç§é£å‘èˆªè¡Œï¼›å››ã€å†›èˆ°è¾ƒå¤§ï¼Œæ’æ°´é‡ä»ç™¾ä½™å¨è‡³åƒä½™å¨ï¼›äº”ã€å®‰ç‚®è¾ƒå¤šï¼Œä»10è‡³120é—¨ä¸ç­‰ã€‚[17]æ­¤å¤–ï¼Œè¯ç”Ÿäºå·¥ä¸šé©å‘½æœ«æœŸçš„è’¸æ±½åŠ¨åŠ›é“å£³æ˜è½®èˆ¹ï¼Œä¹Ÿäº19ä¸–çºª30å¹´ä»£èµ·è£…å¤‡æµ·å†›ã€‚å°½ç®¡æ­¤æ—¶çš„è½®èˆ¹å¨ä½å°ï¼Œå®‰ç‚®å°‘ï¼Œåœ¨è¥¿æ–¹æ­£å¼æµ·æˆ˜ä¸­éš¾æœŸå¾—åŠ›ï¼Œåœ¨æµ·å†›ä¸­ä¹Ÿä¸å ä¸»å¯¼åœ°ä½ï¼›ä½†å› å…¶èˆªé€Ÿå¿«ã€æœºåŠ¨æ€§èƒ½å¼ºã€åƒæ°´æµ…ç­‰ç‰¹ç‚¹ï¼Œåœ¨æ­¦å™¨è£…å¤‡è½åçš„ä¸­å›½æ²¿æµ·å’Œå†…æ²³æ¨ªè¡Œè‚†è™ã€‚ ä»æ•°é‡ä¸Šè®²ï¼Œæ¸…å†›æ°´å¸ˆèˆ°èˆ¹ä¹Ÿæœ‰æ•°ç™¾è‰˜ä¹‹å¤šï¼›ä»ç§ç±»ä¸Šè®²ï¼Œæ¸…å†›æˆ˜èˆ¹æ ·å¼äº¦è¾¾æ•°åç§ï¼›ä½†æ˜¯ï¼Œå…¶æœ€åŸºæœ¬çš„ç‰¹ç‚¹å°±æ˜¯èˆ¹å°ã€‚æ¸…å†›æœ€å¤§ä¹‹æˆ˜èˆ¹ï¼Œå…¶å¨ä½å°šä¸å¦‚è‹±å†›ç­‰å¤–çº§å†›èˆ°ï¼Œæ¸…å†›å®‰ç‚®æœ€å¤šä¹‹æˆ˜èˆ¹ï¼Œå…¶ç«ç‚®æ•°é‡ä¹Ÿåªç›¸å½“äºè‹±å†›å®‰ç‚®æœ€å°‘ä¹‹å†›èˆ°ã€‚\nä¸­è‹±èˆ°èˆ¹æ°´å¹³çš„æ‚¬æ®Šå·®è·ï¼Œä½¿å¾—æ¸…å†›åœ¨é¸¦ç‰‡æˆ˜äº‰ä¸­æ ¹æœ¬ä¸æ•¢ä»¥æ°´å¸ˆå‡ºæµ·è¿æˆ˜è‹±å†›èˆ°é˜Ÿï¼Œè¿«ä½¿æ¸…å†›æ”¾å¼ƒæµ·ä¸Šäº¤é”‹è€Œä¸“æ³¨äºé™†åœ°ã€‚è¿™ç§ç”±è£…å¤‡è€Œé™å®šçš„æˆ˜ç•¥å†³ç­–ï¼Œå®é™…ä½¿æ¸…å†›ä¸§å¤±äº†æˆ˜äº‰çš„ä¸»åŠ¨æƒã€‚è‹±å†›å‡­å€Ÿå…¶å¼ºå¤§æµ·å†›ï¼Œæ¨ªè¡Œäºä¸­å›½æµ·é¢ï¼Œå†³å®šäº†æˆ˜å½¹æˆ˜æ–—çš„æ—¶é—´ã€åœ°ç‚¹ã€è§„æ¨¡ã€‚\næ¸…æœæ­¦å™¨åˆ¶é€ ä¸­çš„å·å·¥å‡æ–™ï¼š\nè‡ªåº·ç†™æœå¼€å§‹ï¼Œä¸­å›½çš„ç‰©ä»·ã€å·¥ä»·ä¸€ç›´å¤„äºä¸Šå‡è¶‹åŠ¿ï¼Œè€Œè¿™ç§ç®¡ç†ä½“åˆ¶å´ä½¿å…µå™¨åˆ¶é€ ç»è´¹å›ºå®šåŒ–ã€‚æ­¤åè™½æœ‰ä¸€äº›ä»·æ ¼è°ƒæ•´ï¼Œä½†ä¸Šæ¶¨çš„å¹…åº¦èµ¶ä¸ä¸Šå„åœ°ç‰©ä»·ã€å·¥ä»·çš„å®é™…æ°´å¹³ï¼Œæœ‰æ—¶ç”šè‡³å‡ºç°ä¸‹é™çš„åŠ¿å¤´ã€‚å¦‚ç«è¯ï¼Œé›æ­£æœä¸ºæ¯æ–¤é“¶2.6åˆ†ï¼Œå˜‰åº†æœæ¯æ–¤é“¶2.1åˆ†ã€‚è¿™å°±ä½¿å¾—å…µå™¨åˆ¶é€ è€…ä¸ä»…æ— åˆ©å¯å›¾ï¼Œåè€Œæ—¶å¸¸å¯èƒ½äºæŸã€‚å½“ç„¶ï¼Œè¿™å·²ä¸æ•·è¶³çš„å·¥ä»·ã€æ–™ä»·ä¸­ï¼Œè¿˜å¾—åŒ…æ‹¬é‚£ä¸ªæ—¶ä»£çŒ–ç—çš„æ‰¿åŠå®˜å‘˜çš„å±‚å±‚å…‹æ‰£å’ŒéªŒæ”¶å¼å…µçš„ç§ç§å‹’ç´¢ã€‚\nè§„å®šä»·æ ¼ä¸å®é™…é€ ä»·çš„èƒŒç¦»ï¼Œå¹¶ä¸ä¼šæ”¹å˜è¿½æ±‚åˆ©æ¶¦çš„ç»æµè§„å¾‹ã€‚ä»»ä½•ä¸€ä½åˆ¶é€ è€…ï¼Œä»æœ¬èƒ½ä¸Šå°±ç»ä¸ä¼šåšäºæœ¬ç”Ÿæ„ã€‚ä¸ºäº†é˜²æ­¢èµ”ç´¯ï¼Œå·å·¥å‡æ–™å°±æˆäº†å¿…ç„¶ä¹‹é€”ã€‚ä¸ºäº†èƒ½å¤Ÿå·å·¥å‡æ–™ï¼Œè´¿èµ‚éªŒæ”¶å®˜å¼åˆæˆäº†å…¬å¼€çš„ç§˜å¯†ã€‚\næ¸…å†›è°ƒå…µé€Ÿåº¦çš„ç¼“æ…¢ï¼š\nå¦‚æ­¤ç¼“æ…¢çš„è°ƒå…µé€Ÿåº¦ï¼Œä½¿æ¸…å†›ä¸§å¤±äº†æœ¬åœŸä½œæˆ˜çš„æœ‰åˆ©æ¡ä»¶ã€‚å½“æ—¶è‹±æµ·å†›èˆ°èˆ¹ä»å—éçš„å¼€æ™®æ•¦é©¶è‡³é¦™æ¸¯çº¦60å¤©ï¼Œä»å°åº¦å¼€æ¥çº¦30è‡³40å¤©ï¼Œå³ä½¿ä»è‹±å›½æœ¬åœŸå¼€æ¥ä¹Ÿä¸è¿‡4ä¸ªå¤šæœˆã€‚è’¸æ±½æœºçš„å‡ºç°ï¼Œè½®èˆ¹çš„ä½¿ç”¨ï¼Œåˆå¤§å¤§åŠ å¿«äº†è‹±å†›çš„é€Ÿåº¦ã€‚1841å¹´è‹±å…¨æƒä»£è¡¨ä»å­Ÿä¹°åˆ°æ¾³é—¨ä»…ç”¨äº†25å¤©ã€‚ç”±æ­¤æ¨ç®—ï¼Œè‹±å†›ä»æµ™æ±Ÿçš„èˆŸå±±æ´¾è½®èˆ¹è‡³å°åº¦è°ƒé›†æ´å†›æˆ–å†›éœ€å“ï¼Œæ¥å›æ—¶é—´å‡ ä¹ç›¸åŒäºæ¸…æ–¹ä»å››å·è°ƒå…µè‡³å¹¿ä¸œæˆ–ä»é™•ç”˜è°ƒå…µè‡³æµ™æ±Ÿã€‚æ–¹ä¾¿å¿«é€Ÿçš„èˆ°èˆ¹ç¼©çŸ­äº†è‹±å†›æ¼«é•¿çš„è¡¥ç»™çº¿ï¼Œè€Œè½åçš„äº¤é€šæ¡ä»¶åˆ™å»¶é•¿äº†æ¸…å†›å¢æ´çš„è·¯ç¨‹ã€‚\næ¸…å†›ä¸‹å±‚å£«å…µçš„ç©·å›°ï¼š\næ¸…å†›çš„ç²®é¥·æ ‡å‡†æ˜¯é¡ºæ²»æœåˆ¶å®šçš„ã€‚æ˜¯æ—¶ç»æµæ­£åœ¨æ¢å¤ï¼Œç‰©ä»·æä½ã€‚ç»åº·é›ä¹¾ä¸‰æœçš„å‘å±•ï¼Œé€šè´§è†¨æ¶¨å·²æœ‰ç›¸å½“å¹…åº¦ã€‚è€Œç²®é¥·æ ‡å‡†è™½æœ‰å¤šæ¬¡è°ƒæ•´ï¼Œä½†ä¸»è¦æ˜¯å†›å®˜éƒ¨åˆ†ï¼Œä¸”ä¹¾éš†åæœŸèµ·æ¸…æœè´¢æ”¿å·²é™·äºå›°å¢ƒï¼Œæ¸…å†›å£«å…µçš„æ”¶å…¥ä¸€ç›´æ²¡æœ‰ä¹Ÿä¸å¯èƒ½æœ‰å¤§çš„åŠ å¢ã€‚ æ”¶å…¥çš„ä½ä¸‹åªèƒ½é™ä½ç”Ÿæ´»æ°´å‡†è€Œä¸èƒ½ä¸ç”Ÿæ´»ï¼Œæ¸…å†›å£«å…µä¸ºç»´æŒç”Ÿè®¡ï¼Œé¡»å¾—åœ¨æ­£é¡¹æ”¶å…¥ä¹‹å¤–å¦è§…åˆ«é¡¹æ¥æºã€‚å› æ­¤ï¼Œæ›¿äººå¸®å·¥ã€ç§Ÿç§ç”°åœ°ã€åšå°æœ¬ç”Ÿæ„ç­‰ç­‰ï¼Œæˆä¸ºå½“æ—¶çš„æ™®éç°è±¡ï¼ŒçŠ¹å¦‚ä»Šæ—¥ä¹‹â€œç¬¬äºŒèŒä¸šâ€ä¸€èˆ¬çº¢ç«ã€‚\næ¸…æœè½åçš„æ­¦ä¸¾åˆ¶åº¦é€‰ä¸å‡ºåˆé€‚äººæ‰ï¼š\næ­£å¦‚è®¤ä¸ºå…«è‚¡æ–‡ç« å¯ä»¥æ²»å¤©ä¸‹ä¸€æ ·è’è°¬ï¼Œæ¸…ä»£æ­¦ç§‘ä¸¾çš„è€ƒè¯•é¡¹ç›®ä¸è¿‘ä»£æˆ˜äº‰çš„è¦æ±‚å—è¾•åŒ—è¾™ã€‚ä¸”ä¸è®ºã€Šæ­¦ç»ä¸ƒä¹¦ã€‹è¿™ç±»åé‡äºå“²ç†çš„å¤ä»£å…µä¹¦ä¸å®œä½œä¸ºåˆçº§å†›å®˜çš„æ•™ç§‘ä¹¦ï¼Œç„¶è¿™é¡¹ä»…æœ‰çš„ä¸è°‹ç•¥æœ‰å…³çš„å†…åœºè€ƒè¯•ï¼Œå› è€ƒç”Ÿä»¬é”™è¯¯ç™¾å‡ºï¼Œ[64]è€Œåœ¨å˜‰åº†å¹´é—´ç»Ÿç»Ÿæ”¹ä¸ºé»˜å†™ã€Šæ­¦ç»ã€‹ç™¾ä½™å­—ã€‚å†…åœºç”±æ­¤è€Œæˆè™šè®¾ï¼Œå¤–åœºæˆäº†çœŸæ­£çš„ç«äº‰åœºæ‰€ã€‚é“å…‰å¸æ›´æ˜¯æ˜ç¡®ä¸‹æ—¨ï¼šâ€œæ­¦ç§‘ä¹‹è®¾ï¼Œä»¥å¤–åœºä¸ºä¸»â€ï¼Œ[65]å°†æ­¦ç§‘ä¸¾çš„åæ¬¡é›†ä¸­äºä¸€é¡¹ï¼Œå³æ‹‰ç¡¬å¼“ã€‚ä»–ä»¬ä»¥è†‚åŠ›ä¸ºé€‰æ‹©å†›å®˜çš„æ ‡å‡†ï¼Œç«Ÿæœ‰ä¸­å¼è€…æ ¹æœ¬ä¸è¯†å­—ä¹‹äº‹ã€‚\nç”¨ä»Šæ—¥çœ¼å…‰è§‚ä¹‹ï¼Œè¿™ç§æ–¹æ³•æŒ‘é€‰å‡ºæ¥çš„ä¸è¿‡æ˜¯ä¸€åä¼˜ç§€çš„å£«å…µï¼Œè€Œä¸æ˜¯é¢†å…µä½œæˆ˜çš„å†›å®˜ã€‚åœ¨å†·å…µå™¨æ—¶ä»£ï¼Œå†›å®˜çš„éªå‹‡èº«å…ˆæœ‰ç€æå¤§çš„é¼“èˆåŠ›ï¼Œç«å™¨å‡ºç°ä¹‹åï¼Œè¿™ç§å‹‡çŒ›çš„ä½œé£å·²ç»é™åˆ°æ¬¡è¦çš„åœ°ä½ã€‚ä¸”ä¸è®ºä¸è‹±å†›è¿™æ”¯è¿‘ä»£åŒ–çš„å†›é˜Ÿç›¸å¯¹æŠ—ï¼Œå³ä¾¿ä¸æ­¤æœŸæ¸…æœä¼ ç»Ÿæ•Œäººçš„ä½œæˆ˜ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿä¸è¶³å–ã€‚\næ–‡å®˜ä½œä¸ºæœ€é«˜æŒ‡æŒ¥è€…å¹¶ä¸åˆé€‚ï¼š\nå„çœçš„ç»Ÿå…µå¤§å‘˜å®é™…ä¸Šæ˜¯ç£æŠšã€‚è¿™äº›æ–‡å®˜å‡ºèº«äºå…«è‚¡æ–‡ç« ï¼Œæ¸¸å†äºå®¦æµ·å®˜åœºï¼Œåœ¨æœªå‡è‡³ç£æŠšå‰ï¼Œå¹¶ä¸ç»Ÿå…µï¼Œæœªè°™å†›æ—…ï¼Œå…¶å†›äº‹çŸ¥è¯†å±€é™äºå‡ éƒ¨å¤ä¹¦ã€‚æ–‡å®˜å°†å…µï¼Œè¿™ç§ä¸åˆç†çš„æŒ‡æŒ¥ä½“åˆ¶ï¼ŒåˆæŠ˜å°„å‡ºæ­¦å¼ç´ è´¨ä½ä¸‹ã€‚\nå†›é˜Ÿæåº¦è…è´¥ï¼š\nå½“æƒåŠ›ä¸é‡‘é’±ä¸€æ ·ä¸Šå¸‚æµé€šä¹‹åï¼Œå³åˆ»äº§ç”Ÿå¨åŠ›æ— æ¯”çš„ç¤¾ä¼šè…èš€å‰‚ï¼Œå½“å†›é˜Ÿå°†è´¢ç¥åƒå¥‰ä¸ºæˆ˜æ——æ—¶ï¼Œè…è´¥å·²ä¸å¯é€†è½¬ã€‚ å› æ­¤ï¼Œå¯¹äºé¸¦ç‰‡æˆ˜äº‰çš„å¤±è´¥ï¼Œå½“æ—¶å’Œåæ¥çš„äººä»¬å¾—å‡ºäº†åŒæ ·çš„ç»“è®ºï¼šæ¸…å†›å·²ç»è…è´¥ã€‚ å¯æ˜¯ï¼Œçœ¼ä¸‹æµè¡Œçš„å„ç§é¸¦ç‰‡æˆ˜äº‰çš„è®ºè‘—ä¸­ï¼Œä¸€æ–¹é¢æ‰¿è®¤æ¸…å†›å·²ç»è…è´¥ï¼Œä¸€æ–¹é¢åˆä½¿ç”¨äº†æ—¢æ¨¡ç³Šåˆæ˜ç¡®çš„è¯´æ³•ï¼Œâ€œå¹¿å¤§çˆ±å›½å®˜å…µè‹±å‹‡å¥‹æˆ˜â€äº‘äº‘ï¼Œä¼¼ä¹åªæ˜¯ä¸€å°éƒ¨åˆ†ä¸Šå±‚äººå£«å¯¹æ­¤åº”è´Ÿè´£ä»»ï¼Œè€Œä¸‹å±‚å®˜å…µæ¯«æ— è´£ä»»å¯è¨€ã€‚ä»–ä»¬çš„ä¾‹è¯ï¼Œæ­£æ˜¯ä¸€å°éƒ¨åˆ†åœ¨æŠµæŠ—ä¸­ç‰ºç‰²çš„å°†å£«ã€‚ä¸”ä¸è®ºè¿™ç§ä»¥åæ¦‚å…¨çš„æ–¹æ³•åœ¨é€»è¾‘ä¸Šçš„é”™è¯¯ï¼Œå°±æ­¤ä¸€è¯´æ³•çš„å€¡å¯¼è€…çš„å¿ƒæ€è€Œè¨€ï¼Œå¤šå¤šå°‘å°‘åˆæœ‰ä¸€äº›é˜¿Qçš„å‘³é“ã€‚\néª¤ç„¶è€Œè‡³çš„æˆ˜äº‰ # ç¦çƒŸéš¾ç¦ï¼Œè…è´¥è´¿èµ‚ç››è¡Œï¼š\nå½“å°Šä¸¥çš„â€œå¤©æœâ€å±¡å±¡æ‹’ç»ä¸â€œè›®å¤·â€å¹³ç­‰ç›¸äº¤ä¹‹æ—¶ï¼Œæ¡€éªœä¸é©¯çš„å¤–å›½å•†äººä¹Ÿç¡®å®åƒâ€œè›®å¤·â€é‚£æ ·ï¼Œæ— è§†â€œå¤©æœâ€çš„æ³•ä»¤ã€‚åœ¨è¿™äº›äººçš„çœ¼ä¸­ï¼Œâ€œå¤©æœâ€çš„å¨ä¸¥åªä¸è¿‡æ˜¯æŒ‚åœ¨ç©ºä¸­é£˜è¡çš„å¹Œå­ï¼Œä¸€åˆ‡æ³•ä»¤è§„åˆ™çš„å…³èŠ‚åœ¨äºé™‹è§„å’Œè´¿èµ‚çš„æ•°é¢ï¼Œè¡Œå•†ä¹Ÿç½¢ï¼Œå®˜å‘˜ä¹Ÿç½¢ï¼Œåè¿‡æ¥å€’æˆäº†barbariansï¼ˆè›®å¤·ï¼‰ã€‚è¿œåœ¨äº¬å¸ˆçš„é“å…‰å¸ç»ä¸ä¼šæƒ³åˆ°ï¼Œå ‚å ‚â€œå¤©æœâ€å¯¹å¤–ä½“åˆ¶ï¼Œåœ¨è¿™äº›è´ªå©ªçš„è¡Œå•†ã€æ‰æ³•çš„å®˜åçš„æ“ä½œä¸‹ï¼Œç«Ÿä¼šå˜å¾—å¦‚æ­¤è’å”å’Œå‘ä¸‹ï¼Œä¿¨ä¿¨â€œå¤©æœâ€çš„â€œé˜²å¤·ç« ç¨‹â€ï¼Œç«Ÿä¼šæˆäº†æŒ‚ç¾Šå¤´å–ç‹—è‚‰çš„é“ºå­ã€‚\næ—åˆ™å¾åˆšå¼€å§‹è®¤ä¸ºä¸­è‹±ä¹‹é—´ä¸å¯èƒ½å¼€æˆ˜ï¼š\næ—åˆ™å¾åˆ°å¹¿å·åï¼Œåœ¨ç»™é“å…‰å¸çš„æœ€åˆå‡ é“å¥æŠ˜ä¸­ï¼Œå¹¶æ²¡æœ‰å…·ä½“è°ˆåˆ°è¾¹è¡…é—®é¢˜ã€‚1839å¹´6æœˆ4æ—¥ï¼Œä»–åœ¨å¥æŠ˜ä¸­è°ˆåˆ°ï¼Œå¯¹äºçªœçŠ¯æ²¿æµ·å„åœ°çš„èµ°ç§èˆ¹ï¼Œä¸â€œæœ‰ç‰Œç…§â€çš„å•†èˆ¹ä¸åŒï¼Œâ€œæªå‡»ç‚®è½°çš†å…¶è‡ªå–â€ï¼Œè€Œä¸”ï¼Œä¸ä½†æ°´å¸ˆèƒ½å¤Ÿå‰¿é™¤ï¼Œå°±æ˜¯é›‡å‹Ÿæ²¿æµ·æ°´æ‰‹ï¼Œåˆ©ç”¨ç«æ”»ä¹‹æ³•ï¼Œäº¦èƒ½è·èƒœã€‚[76]é“å…‰å¸å¯¹æ­¤å¾ˆæ„Ÿå…´è¶£ï¼Œè¦æ±‚æ—åˆ™å¾ç­‰â€œç›¸æœºç­¹åŠâ€ï¼Œå¹¶æŒ‡å‡ºâ€œåŠ¡ä½¿å¥¸å¤·é—»é£æ…‘æœï¼Œäº¦ä¸è‡³éª¤å¼€è¾¹è¡…ï¼Œæ–¹ä¸ºå¦¥å–„â€ã€‚[77]è¿™æ˜¯é“å…‰å¸è°•æ—¨ä¸­æ­£å¼è€Œæ˜ç¡®åœ°æå‡ºâ€œè¾¹è¡…â€é—®é¢˜ã€‚\nä»–æ­¤æ—¶è®¤ä¸ºï¼ŒæŒâ€œè¾¹è¡…â€è®ºè€…ï¼Œé™¤äº¬å¸ˆåŠå„åœ°ä¸€ç­åå¯¹ç¦çƒŸçš„äººå£«ä»¬ï¼Œè¿˜æœ‰ä¹‰å¾‹ç­‰äººã€‚äºæ˜¯ï¼Œä»–å°†æ¥è‡ªå¤–å›½äººçš„è‹±å†›ä¾µåçš„æ¶ˆæ¯ï¼Œçš†å½’ä¹‹äºä¹‰å¾‹çš„è°£è¨€æ«å“ä¸€ç±»ã€‚\næ—åˆ™å¾ä¹Ÿç¿»è¯‘äº†éƒ¨åˆ†è‹±æ–‡èµ„æ–™ï¼Œäº†è§£è‹±å›½ï¼š\nä»ç°å­˜æ—åˆ™å¾ç¿»è¯‘èµ„æ–™æ¥çœ‹ï¼ŒåŒ…ç½—ä¸‡è±¡ï¼Œå¯¹æ—åˆ™å¾çš„è¤’è´¬è¯„ä»·çš†æœ‰ï¼Œå¯¹æœªæ¥æˆ˜äº‰çš„æ˜¯å¦ä¼°è®¡ä¿±å­˜ï¼Œçœ‹ä¸å‡ºä¸€ä¸ªå€¾å‘æ€§çš„æ„è§æ¥ã€‚è¦ä»è¿™äº›èµ„æ–™ä¸­å¾—å‡ºæˆ˜äº‰ä¸å¯é¿å…çš„ç»“è®ºï¼Œéå¾—æ˜¯ä¸€ä¸ªç†Ÿè°™å›½é™…äº‹åŠ¡çš„è¡Œå®¶é‡Œæ‰‹ã€‚ä½†æ˜¯ï¼Œæ—åˆ™å¾æœ¬æ˜¯â€œå¤©æœâ€æ°›å›´ä¸­äººï¼Œåˆæ¶‰æ­¤é“ï¼›æƒ…æŠ¥æ¥æºä»…ä¸ºæŠ¥åˆŠä¹¦ç±ç­‰å…¬å¼€èµ„æ–™ï¼Œå¹¶æ— ç§˜å¯†æ¸ é“ï¼›æ›´ä½•å†µä¸€èˆ¬äººçš„å¿ƒç†æ´»åŠ¨è§„å¾‹æ˜¯å¯¹å·±æœ‰åˆ©çš„èµ„æ–™å°è±¡è¾ƒæ·±ï¼Œå¯¹å·±ä¸åˆ©çš„èµ„æ–™ä¸å—é‡è§†ã€‚ç§ç§æƒ…äº‹ï¼Œä½¿å¾—æ—åˆ™å¾çŠ¯é”™è¯¯çš„å¯èƒ½æ€§ï¼Œè¿œè¿œè¶…è¿‡ä¸çŠ¯é”™è¯¯çš„å¯èƒ½æ€§ã€‚\næ—åˆ™å¾çš„å¯¹ç­–æ˜¯çº¸ä¸Šè°ˆå…µï¼š\nä»æ—åˆ™å¾çš„è®¾æƒ³æ¥çœ‹ï¼Œå…¶æœ€é‡è¦çš„ä½œæˆ˜æ–¹æ³•æ˜¯ï¼Œä»¥æµ·å²¸åšå¼ºæ®ç‚¹ï¼Œå³ç‚®å°ï¼Œæ¥å¯¹æŠ—æ¥çŠ¯çš„è‹±èˆ°è‹±èˆ¹ã€‚\nä¸”ä¸è®ºè¿™ä¸¤åº§ç‚®å°èƒ½å¦ç»å—å¾—ä½è‹±èˆ°çš„çŒ›çƒˆç‚®ç«ï¼Œä¹Ÿä¸è®ºå®ƒä»¬æœå¦æƒ©è†ºæŠ˜å†²ï¼Œäºˆè‹±èˆ°ä»¥æ¯ç­æ€§çš„æ‰“å‡»ï¼Œç„¶è€Œï¼Œå®ƒä»¬æœ€åŸºæœ¬çš„å¼±ç‚¹æ˜¯ï¼Œæ— åŠ›é˜²å¾¡ç™»é™†è‹±å†›ä»ç‚®å°ä¾§åæ–¹å‘å‘èµ·çš„åœ°é¢è¿›æ”»ã€‚\næ—åˆ™å¾ç›¸ä¿¡è‹±äººè…¿æ— æ³•æ›²æŠ˜ï¼Œå› è€Œé™†æˆ˜ä¸å¦‚æ¸…å†›çš„è¯´æ³•ï¼š\nä»è¿™äº›è¯´æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ—åˆ™å¾ç­‰äººçš„å¿ƒæ€ã€‚ä»–ä»¬è®¤ä¸ºï¼Œè‹±å†›å°½ç®¡â€œèˆ¹åšç‚®åˆ©â€ï¼Œä½†æ¯«æ— é™†æˆ˜èƒ½åŠ›ï¼Œå› è€Œç»ä¸ä¼šèˆèˆŸç™»å²¸ï¼Œä»é™†ä¸Šå‘åŠ¨è¿›æ”»ï¼›å³ä¾¿æœ‰è¿™ç§æ”»å‡»ï¼Œä¹Ÿç»éæ¸…å†›çš„å¯¹æ‰‹ã€‚ä»–ä»¬æ­£æ˜¯æ®æ­¤è€Œæœªèƒ½å¯¹ç‚®å°çš„é™†è·¯é˜²å«ä½œæœ‰é’ˆå¯¹æ€§çš„æ”¹è¿›ã€‚\næ—åˆ™å¾è¢«ç¥è¯ï¼š\nå¤„åœ¨å¤±è´¥ä¸­çš„äººä»¬ï¼Œæ‰¾ä¸åˆ°èƒœåˆ©çš„è¿¹è±¡ï¼Œæœ€å®¹æ˜“äº§ç”ŸæŸç§å¸Œæœ›ã€‚æ—åˆ™å¾å°±æ˜¯è¿™ç§å¸Œæœ›ã€‚è€Œä¸”ï¼Œå±€åŠ¿è¶Šå±æ€¥ï¼Œæˆ˜äº‰è¶Šå¤±åˆ©ï¼Œè¿™ç§å¸Œæœ›ä¹‹ç«å°±è¶Šæ”¾å…‰èŠ’ã€‚ä¸€ä¸ªæ—åˆ™å¾ä¸å¯æˆ˜èƒœçš„ç¥è¯ï¼Œå æ®äº†å½“æ—¶è®¸å¤šäººçš„å¿ƒï¼Œå¹¶æµä¼ è‡³ä»Šã€‚\nå‰¿æŠšä¸å®š # å®šæµ·ä¹‹æˆ˜ï¼š\næ®è‹±æ–¹çš„è®°è½½ï¼Œ7æœˆ5æ—¥ä¸‹åˆ2æ—¶åŠå¼€å§‹çš„æˆ˜æ–—ï¼Œè‹±å†›èˆ°ç‚®ä»…ç”¨äº†9åˆ†é’Ÿï¼Œå°±åŸºæœ¬å‡»æ¯äº†æ’åˆ—åœ¨æ¸¯å£çš„æ¸…å†›æˆ˜èˆ¹å’Œå²¸ç‚®çš„è¿˜å‡»èƒ½åŠ›ã€‚æ¬¡æ—¥æ¸…æ™¨ï¼Œè‹±å†›å†æ¬¡æ”»å‡»ï¼Œè‡³åŸé—¨æ—¶ï¼Œå‘ç°å®ˆå†›å·²åœ¨å¤œé—´æºƒé€ƒã€‚æ¸…æ–¹çš„è®°è½½è™½æœ‰æ‰€ä¸åŒï¼Œä½†æ˜ç¡®æ‰¿è®¤äº†æ— å¯æŒ½å›çš„å¤±è´¥ã€‚ä»æœªè§è¿‡å¦‚æ­¤çŒ›çƒˆç‚®ç«çš„æ¸…å†›å£«å…µï¼Œä¸´é˜µäº§ç”Ÿææƒ§å¿ƒç†è€Œå¤§é‡æºƒé€ƒã€‚æ®è£•è°¦æˆ˜åè°ƒæŸ¥ï¼Œå‚æˆ˜çš„1540åå£«å…µä¸­ï¼Œæˆ˜æ­»ä»…13äººï¼Œå—ä¼¤13äººï¼Œæˆ˜æ­»çš„äººæ•°æ¯”å‡»æ¯çš„æˆ˜èˆ¹è¿˜è¦å°‘ã€‚\nèµ„è´¨å¹³å¹³çš„é“å…‰å¸ï¼š\nä»¥ä¸€ä¸ªäººçš„æ™ºæ…§ï¼Œåœ¨çŸ­æ—¶é—´å†…ï¼Œå¯¹å¤§å°æ”¿åŠ¡ä½œå‡ºå†³ç­–ï¼Œè¿™ä¸ä»…éœ€è¦é›„æ‰å¤§ç•¥ï¼Œè€Œä¸”éœ€è¦å‘¨å¯†ç²¾ç»†ã€‚æ­¤å¤–ï¼Œä½“åŠ›å’Œç²¾åŠ›çš„å……æ²›ä¹Ÿæ˜¯ååˆ†é‡è¦çš„ã€‚æ ¹æ®æ¡£æ¡ˆï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæ¸…ä»£çš‡å¸æ¯æ—¥é¡»æ‰¹é˜…ä¸Šä¸‡å­—çš„å¥ç« ï¼Œä½œå‡ºä¸€ç³»åˆ—ç›¸åº”çš„å†³ç­–ï¼Œç¨æœ‰ç–æ¼ï¼Œä¾¿ä¼šé“¸æˆå¤§é”™ã€‚ è¿™ç§ç©ºå‰çš„é«˜åº¦é›†æƒçš„æ–¹å¼ï¼Œå¯¹çš‡å¸çš„äººé€‰æå‡ºäº†æ¥è¿‘äºç¥çš„è¦æ±‚ï¼Œå®Œå…¨å¤±å»äº†åˆç†æ€§ã€‚æœå»·çš„å†³ç­–éš¾ä»¥åœ¨å…·ä½“åˆ†æå’Œç†æ€§æ¢è®¨çš„åŸºç¡€ä¸Šä½œå‡ºï¼Œå¾€å¾€è·Ÿç€å›ç‹ä¸€æ—¶çš„æ„Ÿè§‰èµ°ï¼Œå°½ç®¡è¿™ç§é›†æƒæ–¹å¼åœ¨çœŸæ­£çš„è‹±æ˜å›ä¸»æ“çºµä¸‹ï¼Œå¯èƒ½ä¼šæ›´æœ‰æ•ˆç‡ã€‚ ç„¶è€Œï¼Œæ­¤æ—¶æŸ„å›½çš„é“å…‰å¸ï¼Œå´æ˜¯ä¸€ä¸ªèµ„è´¨å¹³å¸¸çš„äººã€‚\næ™ºå•†å¹³å¸¸ä¸”ä¹èƒ†ç•¥çš„é“å…‰å¸ï¼Œç»ä¸ç¼ºä¹è‡ªä¿¡ï¼Œæ€»æ˜¯ä»¥ä¸ºä»–çš„æ¯ä¸€æ¬¡å†³ç­–éƒ½æ˜¯æœ€ä½³æ–¹æ¡ˆï¼Œå°½ç®¡åæ¥ä¸€å˜å†å˜ã€‚ä»–çš„é‚£ç§å¤´ç—›åŒ»å¤´ã€è„šç—›åŒ»è„šçš„ä¸€é“é“åœ£æ—¨ï¼Œæ˜¯å…¶ç›®å…‰çŸ­æµ…æ‰€é™ã€‚ä»–ä»æ¥å°±æ²¡æœ‰ä¸€ç§è¿œè·ç¦»ã€å®½è§†é‡çš„çœ¼å…‰ã€‚å°½ç®¡é“å…‰å¸æœ‰ç€ç§ç§ç¼ºé™·ï¼ˆæœ¬æ¥ä¸–ä¸Šä¹Ÿæ— å®Œäººï¼‰ï¼Œä½†è‹¥æœ‰æ™ºæ˜è¯†è¿œçš„å†›æœºå¤§è‡£ç›¸è¾…ï¼Œä»ä¸å¤±ä¸ºå®½çŒ›äº’æµã€‚å¯æ˜¯ä»ä¸è®¤ä¸ºè‡ªå·±å°šæœ‰ç¼ºé™·çš„é“å…‰å¸ï¼Œåœ¨å†›æœºçš„äººé€‰ä¸Šï¼Œåˆé‡‡ç”¨äº†æœ€æœ€å¯æ€•å¯æ¨çš„â€œè€å®å¬è¯â€çš„æ ‡å‡†\nåœ¨ä¸“åˆ¶ç¤¾ä¼šä¸­ï¼Œç‹¬è£è€…åŸæœ¬å¯ä¸ç”¨è®²é“ç†çš„ã€‚å› ä¸ºï¼Œæ‰€æœ‰çš„é“ç†éƒ½åœ¨ä»–ä¸€äººæ‰‹ä¸­ã€‚\nè´Ÿè´£æ”¶å¤å®šæµ·çš„ä¼Šé‡Œå¸ƒï¼š\nä¼Šé‡Œå¸ƒåŒæ‰€æœ‰çš„â€œå¤©æœâ€å¤§åä¸€æ ·ï¼Œåœ¨å¯¹ä»˜ä¾µç•¥è€…æ–¹é¢ï¼Œæ— è®ºåœ¨å¤–äº¤ä¸Šè¿˜æ˜¯å†›äº‹ä¸Šå‡æ— è¶³ä»¥ç§°é“çš„ç²¾æ˜ä¹‹å¤„ï¼›ä½†åœ¨å¯¹ä»˜é“å…‰å¸æ–¹é¢ï¼Œå´è¡¨ç°å‡ºé«˜äºå…¶ä»–â€œå¤©æœâ€å¤§åçš„ç†Ÿç»ƒæ‰åã€‚ä½œä¸ºå®˜åœºè€æ‰‹ï¼Œä»–æ·±è°™æ”¿æ²»è¿ä½œçš„çªé—¨ï¼Œæƒ¯ä½¿è¯¿è¿‡å åŠŸçš„æ‹›æœ¯ã€‚\nä¼Šé‡Œå¸ƒä¸ºä½•æ’’è°ï¼Ÿ\nåœ¨å…¶å¼€å§‹ï¼Œä¼Šé‡Œå¸ƒè¿˜æ˜¯è¯šå®çš„ï¼Œåæ¥å¥æŠ¥ä¸è‹±æ–¹çš„äº¤æ¶‰ï¼Œè™½ä¸ä¹â€œå¤©æœâ€çš„å¤§è¯ï¼Œä½†å¤§ä½“æƒ…èŠ‚ä»ä¸ºå¯é ã€‚éšç€é“å…‰å¸ä¸€é“é“æ”»å…‹èˆŸå±±çš„ä¸¥æ—¨ï¼Œä»–çš„å¥æŠ˜è¶Šæ¥è¶Šè¨€ä¸ç”±è¡·ï¼Œè€Œè·çŸ¥å…¶å·²è¢«å…å·®åï¼Œç«Ÿæ»¡çº¸è°è¨€ã€‚åœ¨å½“æ—¶çš„å®˜åœºä¸­ï¼Œæè°ç²‰é¥°ç››è¡Œæˆé£ã€‚è¿‡å»çš„äººä»¬å¾€å¾€ä»å¿ å›è§‚å¿µå‡ºå‘ï¼Œæ‰¹åˆ¤è‡£å­ä»¬çš„â€œæ¬ºå›â€è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œè‹¥å†·é™åœ°æƒ³ä¸€æƒ³ï¼Œé‚£ç§å®¹ä¸å¾—åŠç‚¹ä¸åŒæ„è§ã€å¼ºæ±‚ä¸€è‡´çš„æ”¿æ²»ä½“åˆ¶å’Œå›ä¸»ä½œé£ï¼Œåˆä½•æ›¾ä¸æ˜¯åœ¨å®¢è§‚ä¸Šå‚¬åŒ–ã€åŠ©é•¿è¿™ç§é£æ°”ï¼Ÿ\né“å¾·æ‰¹åˆ¤æ˜¯æ²¡ç”¨çš„ï¼š\né“å¾·çš„æ‰¹åˆ¤æœ€æ˜¯æ— æƒ…ã€‚è€Œæ‰¹åˆ¤ä¸€æ—¦å‡è‡³é“å¾·çš„å±‚é¢ï¼Œäº‹æƒ…çš„ç»†èŠ‚ä¾¿å¤±å»äº†åŸæœ‰çš„æ„ä¹‰ï¼Œè‡³äºç»†èŠ‚ä¹‹ä¸­æ‰€åŒ…å«çš„å„ç§ä¿¡æ¯ã€æ•™è®­æ›´æ˜¯æˆäº†æ¯«æ— ç”¨å¤„çš„åºŸç‰©ã€‚\nè™é—¨æˆ˜å½¹çš„å¤±è´¥ï¼š\nå°±æˆ˜æœ¯è€Œè¨€ï¼Œæ²™è§’ä¹‹æˆ˜åº”ä½¿æ¸…å†›å¤§å¼€çœ¼ç•Œã€‚è¿™äº›ç‹¡çŒ¾çš„â€œé€†å¤·â€ï¼Œç«Ÿç„¶ä¸ä½œå ‚å ‚æ­£æ­£çš„æ­£é¢æ”»å‡»ï¼Œåè€Œå·å·æ‘¸æ‘¸åœ°ç»•è¡Œåˆ°ç‚®å°çš„èƒŒåï¼Œå‡»æ‰“è‡ªå·±æ— é˜²æŠ¤çš„æŸ”è½¯çš„è…¹éƒ¨ã€‚ç„¶è€Œè‹±å†›è¿™ç§æˆ˜èˆ°æ”»å‡»æ­£é¢ã€é™†å†›æŠ„è¢­èƒŒåçš„æˆ˜æœ¯ï¼Œä½“ç°å‡ºæ¥çš„æ˜¯è¿‘ä»£çš„å†›äº‹å­¦æœ¯ã€‚\nè™é—¨æˆ˜è´¥ä¸ç¦å–„å½“å®¶æ— æ¶‰ï¼Œæ¢æ¸…ç‹æœä¸­çš„ä»»ä½•ä¸€ä¸ªäººæ¥ä¸»æŒï¼Œä¹Ÿæ”¹å˜ä¸äº†æˆ˜è´¥çš„å‘½è¿ã€‚è¿™å› ä¸ºï¼Œæˆ˜è´¥çš„åŸå› å‡ ä¹å…¨æ˜¯å†›äº‹çš„ï¼Œæ˜¯ç”±åŒæ–¹å†›äº‹åŠ›é‡çš„å¼ºå¼±ã€æŠ€æˆ˜æœ¯æ°´å‡†çš„é«˜ä¸‹å†³å®šçš„ã€‚\nå¹¿å·çš„æˆ˜å±€ # å…³äºæ°‘æ—ä¸»ä¹‰ï¼š\nä»¥å½“æ—¶çš„å®¢è§‚æ¡ä»¶ï¼Œå› æ— è¿‘ä»£é€šè®¯æ‰‹æ®µå’Œå¤§ä¼—åª’ä½“ï¼Œè®¸å¤šæ°‘ä¼—å¹¶ä¸çŸ¥æƒ…ï¼›æ°‘æ—ä¸»ä¹‰ï¼ˆæ— è®ºå±ä½•ç§ï¼‰ä»…å­˜åœ¨äºå£«ç»…é˜¶å±‚è€Œæœªæ·±å…¥ä¸‹å±‚æ°‘ä¼—ä¹‹å¿ƒï¼Œè®¸å¤šäººè¿˜æ„è¯†ä¸åˆ°æ°‘æ—åˆ©ç›Šã€å›½å®¶åˆ©ç›Šä¹‹å­˜åœ¨ï¼›ä»¥å°‘æ•°æ°‘æ—å…¥ä¸»ä¸­åŸçš„æ»¡æ¸…ç»Ÿæ²»è€…ï¼Œå¯¹æ±‰æ°‘æ—çš„æ°‘æ—æƒ…ç»ªï¼ˆè‹¥ä¸¥æ ¼æŒ‰å„’å®¶å­¦è¯´ï¼Œæ»¡æ¸…äº¦å±â€œå¤·â€ï¼‰ï¼Œè¿›è¡Œäº†é•¿è¾¾ä¸¤ä¸–çºªçš„å‹åˆ¶ï¼Œç­‰ç­‰ã€‚\nåœ¨æ•´ä¸ªé¸¦ç‰‡æˆ˜äº‰æœŸé—´ï¼Œè‹±å†›è™½æœ‰ä¸€æ—¶çš„ä¾›åº”ä¸è¶³ä¹‹è™ï¼Œä½†åœ¨æ€»ä½“ä¸Šä¸è§‰å›°éš¾ã€‚ä¸€äº›æ°‘ä¼—å‘ä»–ä»¬å‡ºå”®ç²®é£Ÿã€ç•œç¦½ã€æ·¡æ°´ï¼Œä»¥å›¾è·åˆ©ï¼Œå¦ä¸€äº›æ°‘ä¼—ä¸ºä»–ä»¬å……å½“è‹¦åŠ›ï¼Œä»äº‹è¿è¾“ï¼Œä»¥æ±‚å·¥å€¼ã€‚è¿™äº›è¢«æ¸…æ–¹æ–‡çŒ®æ–¥ä¸ºâ€œæ±‰å¥¸â€çš„æ°‘ä¼—ï¼Œåœ¨äº¤æˆ˜åœ°åŒºå‡ ä¹æ— å¤„ä¸æœ‰ã€‚è‡³äºè‹±å†›åœ¨è¡Œè¿›ç”šè‡³å¼€æˆ˜ä¹‹æ—¶ï¼Œæˆç¾¤çš„æ°‘ä¼—èº²åœ¨è¿œå¤„è§‚çœ‹è¿™éš¾å¾—ä¸€è§çš„â€œè¥¿æ´‹æ™¯â€ï¼Œæ›´æ˜¯åœ¨è‹±æ–¹æ–‡çŒ®ä¸­å±¡è§ä¸é²œã€‚\nä¸­å›½çš„å†å²é•¿è¾¾å‡ åƒå¹´ï¼Œä¸­å›½çš„è€ç™¾å§“åœ¨å†å²çš„å˜è¿ä¸­å¯¹è¯¸å¦‚æ”¹æœæ¢ä»£ä¹‹ç±»çš„é‡å¤§å˜åŠ¨éƒ½ä¹ ä»¥ä¸ºå¸¸ã€‚åªè¦ä¸è§¦åŠ¨ä»–ä»¬çš„çœ¼å‰åˆ©ç›Šï¼Œé€†æ¥é¡ºå—åˆæˆä¸ºå¦ä¸€ç§ä¼ ç»Ÿã€‚è°å½“çš‡ä¸Šå°±ç»™è°çº³ç²®ã€‚æ»¡æ¸…çš„çš‡å¸ä¹Ÿæœªå¿…æ¯”æµ®æµ·ä¸œæ¥çš„â€œçº¢æ¯›â€ç»Ÿæ²»è€…ï¼Œæ›´ä¸ºå¯äº²å¯çˆ±ã€‚åœ¨ä¸‰å…ƒé‡ŒæŠ—è‹±äº‹ä»¶ä¹‹å‰ï¼Œè‹±å†›æ›¾ç»Ÿæ²»èˆŸå±±é•¿è¾¾åŠå¹´ï¼Œè™½æœ‰ä¿˜è·å®‰çªå¾·çš„ä¹‰æ°‘ï¼Œè€Œç»å¤§å¤šæ•°è¿˜æ˜¯ä½œäº†é¡ºæ°‘ç”šè‡³â€œè‰¯æ°‘â€ã€‚\nä»¥é•‡å‹è€Œç»´æŒç»Ÿæ²»çš„æ¸…ç‹æœï¼Œæ°‘ä¼—å¹¶ä¸æ˜¯ä»–ä»¬çš„ä¾é åŠ›é‡ã€‚ä¸ºäº†æ¿€åŠæ°‘ä¼—å¥‹èµ·æŠ—è‹±ï¼Œä¿å«ä¸ä»–ä»¬çš„åˆ©ç›Šç›¸å¯¹ç«‹çš„ç¤¾ç¨·ï¼Œæ—åˆ™å¾ã€ä¹Œå°”æ­é¢ã€æ€¡è‰¯ã€å¥•å±±ä»¥åŠä¸‹ä¸€ç« å°†è¦ç™»åœºçš„è£•è°¦ï¼Œéƒ½å¼€åˆ—äº†å·¨é¢çš„èµæ ¼ï¼Œä»¥é‡‘é’±ä½œä¸ºå¯¼å‘ã€‚å‚åŠ ä¸‰å…ƒé‡ŒæŠ—è‹±çš„æ°‘ä¼—ä¸­ï¼Œäº¦æœ‰ä¸ºèµæ ¼è€Œå¿ƒåŠ¨è€…ã€‚\nåœ¨é¸¦ç‰‡æˆ˜äº‰ä»¥åŠåæ¥çš„è¯¸æ¬¡åˆ—å¼ºä¾µåæˆ˜äº‰ä¸­ï¼Œç»å¤§å¤šæ•°æ°‘ä¼—çš„åŸºæœ¬æ€åº¦ï¼Œæ˜¯ç½®èº«äº‹å¤–ã€‚ä¸­å›½è¿‘ä»£å…·æœ‰çœŸæ­£æ„ä¹‰çš„æ°‘æ—æˆ˜äº‰ã€å«å›½æˆ˜äº‰ï¼Œå®å§‹äºæœ¬ä¸–çºª30å¹´ä»£å‘ç”Ÿçš„æŠ—æ—¥æˆ˜äº‰ã€‚\nä¸‰å…ƒé‡ŒæŠ—è‹±æ˜¯æ°‘æ—ä¸»ä¹‰å—ï¼Ÿ\nä¸‰å…ƒé‡Œæ°‘ä¼—æŠ—è‹±æ–—äº‰ï¼Œæ— ç–‘æ˜¯ä¸€ä»¶å€¼å¾—ç™¾å¹´ç§°é¢‚çš„äº‹ä»¶ï¼Œä½†å°†ä¹‹æå‡è‡³æ°‘æ—ä¸»ä¹‰æˆ–çˆ±å›½ä¸»ä¹‰çš„ç²¾ç¥å±•ç¤ºï¼Œåˆ™è„±ç¦»äº†å½“æ—¶çš„æ—¶ä»£ã€‚\nç¦å»ºæµ™æ±Ÿæ±Ÿè‹æˆ˜å½¹ # ç”±é¢œä¼¯æ¶›è´Ÿè´£çš„å¦é—¨æˆ˜å½¹ï¼Œå’Œè£•è°¦è´Ÿè´£çš„å®šæµ·æˆ˜å½¹å‡ä»¥æ¸…å†›æƒ¨è´¥å‘Šç»ˆï¼Œè£•è°¦ç»æœ›è‡ªæ€ã€‚\nè‹±å›½å…ˆè¿›çš„è½®èˆ¹æŠ€æœ¯ä½¿å¾—è¿è¾“æ—¶é—´å¤§å¤§ç¼©çŸ­ï¼š\nä¼¦æ•¦åˆ°æ¾³é—¨ï¼Œç’é¼æŸ¥åœ¨é€”ä¸­ä»…ç”¨äº†67å¤©ã€‚è¿™ä¸€ç ´çºªå½•çš„é€Ÿåº¦ï¼Œä½¿å½“æ—¶åœ¨åçš„å•†èˆ¹ä¸»ä»¬å¤§ä¸ºåƒæƒŠã€‚å¾ˆå¯èƒ½ä¹‰å¾‹ä¹Ÿåœ¨åƒæƒŠçš„äººç¾¤ä¹‹ä¸­ã€‚ç’é¼æŸ¥çš„å¿«é€Ÿåˆ°è¾¾ï¼Œè¡¨æ˜äº†è‹±å›½æ­¤æ—¶åœ¨è½®èˆ¹æŠ€æœ¯ã€åœ°ç†çŸ¥è¯†å’Œæ®–æ°‘ä½“ç³»è¯¸æ–¹é¢çš„è¿›å±•ã€‚è¿™æ¯”èµ·æ—åˆ™å¾ç”±åŒ—äº¬åˆ°å¹¿å·èŠ±è´¹61å¤©ï¼Œç¦å–„çš„56å¤©ï¼Œå¥•å±±çš„57å¤©ï¼Œå¤šä¸äº†å‡ å¤©ã€‚è‹¥é™¤å»ç’é¼æŸ¥åœ¨å­Ÿä¹°åœç•™çš„10å¤©ï¼Œåæ˜¯è‹±æ–¹æ›´å¿«ã€‚ç§‘å­¦ç¼©çŸ­äº†ç©ºé—´çš„è·ç¦»ã€‚ä¸œã€è¥¿ä¸¤ä¸ªå¤§å›½è¶Šæ¥è¶Šè¿‘ã€‚æ¸…æœä»Šåå°†ä¼šè¶Šæ¥è¶Šå¿«ã€è¶Šæ¥è¶Šå¼ºåœ°æ‰¿å—åˆ°è¥¿æ–¹çš„å‹è¿«ã€‚\nå¦é—¨å½“æ—¶çš„çŠ¶å†µï¼š\né¸¦ç‰‡æˆ˜äº‰å‰ï¼Œå¦é—¨æ˜¯ä»…æ¬¡äºä¸Šæµ·ï¼ˆå›½å†…è´¸æ˜“ä¸ºä¸»ï¼‰å’Œå¹¿å·ï¼ˆå›½é™…è´¸æ˜“ä¸ºä¸»ï¼‰çš„ä¸­å›½ç¬¬ä¸‰å¤§èˆªè¿ä¸šä¸­å¿ƒï¼Œæˆä¸ºè‹±æ–¹æ‰€è°‹æ±‚çš„é€šå•†å£å²¸ã€‚æ¸…æœç¬¬ä¸€æ”¯å¤§å‹æµ·ä¸Šæ­¦è£…åŠ›é‡çš„æŒ‡æŒ¥éƒ¨â€”â€”ç¦å»ºæ°´å¸ˆæç£è¡™ç½²ï¼Œä¾¿è®¾åœ¨æ­¤åœ°ã€‚å¦é—¨åŠå…¶é™„è¿‘é©»æœ‰æ°´å¸ˆææ ‡å…±è®¡äº”è¥4300äººã€‚å¦é—¨è™½åªæ˜¯ä¸€ä¸ªé¢ç§¯ä»…æœ‰109å¹³æ–¹å…¬é‡Œçš„å²›å±¿ï¼Œéåºœéå·éå¿ï¼Œè¡Œæ”¿åŒºåˆ’ä¸Šéš¶å±äºåŒå®‰å¿ï¼Œä½†æ¸…æ”¿åºœå´æ´¾å…´æ³‰æ°¸é“ï¼ˆç®¡ç†å…´åŒ–åºœã€æ³‰å·åºœã€æ°¸æ˜¥å·ï¼‰é©»æ­¤ï¼Œå¹¶ä»¥æ³‰å·åºœçš„åŒçŸ¥åœ¨æ­¤å¼€ç½²ï¼Œç›´æ¥æ²»ç†æ­¤åœ°ï¼Œç§°å¦é—¨æµ·é˜²åŒçŸ¥ã€‚åŒå®‰çŸ¥å¿ä¸ºæ­£ä¸ƒå“ï¼Œå¦é˜²åŒçŸ¥ä¸ºæ­£äº”å“ï¼Œå¦é—¨åœ°å±åŒå®‰è€Œåœ°æ–¹å®˜å“ç§©é«˜äºåŒå®‰ï¼Œè¿™æ­£æ˜¯å¤ªå¤§çš„èº«èº¯éœ€è¦ç›¸åº”çš„è¡£è£³ã€‚äº‹å®ä¸Šï¼ŒåŒå®‰çŸ¥å¿ä¸€ç›´ç®¡ä¸äº†è¿™ä¸€åŒºåŸŸã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œå¦é—¨å¾ˆæ—©ä¾¿æ˜¯â€œç‰¹åŒºâ€ã€‚\nå¦é—¨æˆ˜å½¹å‡†å¤‡è€—èµ„ç”šå·¨ï¼š\né¢œä¼¯ç„˜ç»ä¸å¦‚æ­¤å°å®¶å­æ°”ã€‚ ä»–ä¸Šä»»æœªä¹…ï¼Œä¾¿å¥è¯·æˆ·éƒ¨æ‹¨é“¶ï¼Œç‹®å­å¼€å¤§å£ï¼Œä¸€è¦å°±æ˜¯100ä¸‡ã€‚è¿åŒå…ˆå‰çš„æ•°å­—ï¼Œç¦å»ºçš„å†›è´¹é“¶è¾¾åˆ°150ä¸‡ä¸¤ã€‚æ›´ä¸ºå‡ºæ ¼çš„æ˜¯ï¼Œä»–ä¸é¡¾æ¸…æœä»¥å¾€çš„æˆè§„ï¼Œè¦æ±‚å¢åŠ é˜²å…µçš„ç›èœå£ç²®é“¶ã€‚æŠ é—¨çš„é“å…‰å¸æç¦å»ºåˆ›ä¾‹ï¼Œå¹¿ä¸œã€æµ™æ±Ÿä¼šæ´å¼•ï¼Œä¾¿è®©å…¶â€œæ ¸å‡èŠ‚çœâ€ã€‚[35]å¯é¢œä¼¯ç„˜å±…ç„¶ä¸ä¹°è´¦ï¼Œä»åšæŒå·±è§ï¼Œç»“æœç”±å†›æœºå¤§è‡£ã€æˆ·éƒ¨å°šä¹¦åœ¨ä»–çš„è¦æ±‚ä¸Šæ‰“äº†ä¸ªæŠ˜æ‰£ï¼Œæ‰ç®—äº†äº‹ã€‚ é“å…‰å¸è§æ­¤ï¼Œåœ¨ä¸Šè°•ä¸­å¯¹é¢œä¼¯ç„˜å‘å‡ºè­¦å‘Šï¼Œè¦ä»–â€œåŠ›åŠ æ’™èŠ‚â€ã€‚[39]å¯è¿‡äº†æ²¡æœ‰å¤šä¹…ï¼Œ150ä¸‡ä¸¤é“¶å­å°†ç½„ï¼Œæ–°ä»»ç¦å»ºå·¡æŠšåˆ˜é¸¿ç¿±æ ¹æ®é¢œä¼¯ç„˜çš„æŒ‡ç¤ºï¼Œåœ¨å¦é—¨å¤±å®ˆåçš„ç¬¬7å¤©ï¼Œä¸Šå¥è¯·æ±‚å†æ‹¨å†›è´¹é“¶300ä¸‡ä¸¤ï¼\né¢œä¼¯æ¶›æœ‰ä¸­é¥±ç§å›Šå«Œç–‘ï¼š\nè¿™äº›é“¶å­æ˜¯å¦çœŸèŠ±äºå®é™…ï¼Œå´æ˜¯å¤§æœ‰ç–‘é—®ã€‚å†æ¥çš„å†›åŠ¡ã€æ²³å·¥ã€èµˆç¾ï¼Œéƒ½æ˜¯ç»æ‰‹å®˜å‘˜ä¸­é¥±ç§å›Šçš„æ¸Šè–®ã€‚è€Œé¢œä¼¯ç„˜äºæ­¤å«Œç–‘æœ€å¤§ã€‚é¢œä¼¯ç„˜äº1841å¹´2æœˆåˆ°ä»»ï¼Œæ¬¡å¹´1æœˆå…èŒã€‚åœ¨è¿™ä»…ä»…çš„ä¸€å¹´ä¸­ï¼Œè¾é‡å°±æœ‰å¦‚æ­¤è®¸å¤šï¼ˆå…¶ä¸­äº¦åŒ…æ‹¬åŒ…æ½å®¢å•†è´§ç‰©ï¼ŒåŠ¨ç”¨é©¿ç«™è½¦é©¬äººä¼•è€Œèµšé’±ç­‰æƒ…äº‹ï¼‰ï¼ŒçœŸå¯è°“æœåˆ®æœ‰é“æ— åº¦ã€‚å…¶ä¸­æœæ— å–ä¹‹æµ·é˜²é“¶ä¸¤è€…è€¶ï¼Ÿä¸è¿‡ï¼Œè¿˜åº”è¯´æ˜ï¼Œåœ¨å½“æ—¶çš„æ”¿æ²»æ“ä½œä¸­ï¼Œâ€œè´ªå®˜â€ä¸â€œå¿ è‡£â€å¹¶ä¸çŸ›ç›¾ã€‚é¢œä¼¯ç„˜çš„è¿™ç§è´ªå©ªï¼Œå¹¶ä¸å¦¨ç¢ä»–å¯¹æ¸…ç‹æœçš„å¿ è¯šã€‚\né¢œä¼¯æ¶›çš„æ´‹æ´‹è‡ªå¾—ä¸æƒ¨è´¥ï¼š\nè‹±å†›å†çŠ¯å¦é—¨ï¼Œæœ¬åœ¨é¢œä¼¯ç„˜çš„æ„æ–™ä¹‹ä¸­ã€‚ä»–å¹¶ä¸ä¸ºæ­¤è€Œæƒ§ï¼Œåè§‰æœ‰æœºä¼šç«‹åŠŸç–†åœºã€‚å¯¹äºå¦é—¨çš„é˜²åŠ¡ï¼Œä»–æåº¦è‡ªä¿¡ï¼Œè™½è¯´å¤–å›´å²›é“¾é˜²å¾¡å°šæœªéƒ¨ç½²å®Œæ¯•ï¼Œä½†å¦é—¨å²›ä¸€å¸¦å´å·²å›ºè‹¥é‡‘æ±¤ã€‚ä»–æ›¾ç»åœ¨ä¸€å¥æŠ˜ä¸­å¾—æ„æ´‹æ´‹åœ°å®£ç§°ï¼šâ€œè‹¥è¯¥å¤·è‡ªæŠ•æ­»åœ°ï¼ŒæƒŸæœ‰ç—›åŠ æ”»å‡»ï¼Œä½¿å…¶ç‰‡æ¿ä¸ç•™ï¼Œä¸€äººä¸æ´»ï¼Œä»¥ç”³å¤©è®¨è€Œå¿«äººå¿ƒã€‚â€[45]å±€åŠ¿å·²ç»æ˜¯ç«çƒ§å±è‚¡ï¼Œé¢œä¼¯ç„˜ä»æµ‘ç„¶ä¸è§‰ã€‚ä»–çš„è¿™ç§è‡ªä¿¡ï¼Œæ˜¯å› ä¸ºä»–ååœ¨æ— çŸ¥äºè¿‘ä»£å†›äº‹æŠ€æœ¯å’Œæˆ˜æœ¯çš„æ„šæ˜§çš„åšå«ä¸Šã€‚ çŸ¥è¯†ç»™äººä»¥åŠ›é‡ï¼Œæ„šæ˜§ä¹Ÿç»™äººä»¥åŠ›é‡ï¼Œæœ‰æ—¶ç”šè‡³æ˜¯æ›´å¤§çš„åŠ›é‡ã€‚ç„¶è€Œï¼Œæ„šæ˜§çš„åŠ›é‡å†å¼ºå¤§ï¼Œä»åªæ˜¯å¦„åŠ¨ï¼Œå¦„åŠ¨èƒ½äº§ç”Ÿä¸€ç§å¼ºå¤§çš„ç ´ååŠ›ï¼Œä½¿å›½å®¶å’Œæ°‘æ—è’™éš¾ï¼Œä½†å´ä¸èƒ½æˆ˜èƒœè¿‘ä»£åŒ–çš„æ•Œäººã€‚\nåé•‡ç£æˆ˜çš„é¢œä¼¯ç„˜ï¼Œç›®ç¹é”ä¸å¯æŒ¡çš„â€œé€†å¤·â€å‡¶ç„°ï¼Œå¿çœ‹è¿™åŠå¹´çš„ç§ç§åŠªåŠ›è½¬ç¬é—´åŒ–ä¸ºç°çƒ¬ï¼Œä¸å…´æ³‰æ°¸é“åˆ˜è€€æ¤¿â€œåŒå£°ä¸€å“­â€ã€‚åˆ°äº†æ­¤æ—¶ï¼Œä»–ç”±æˆ˜å‰çš„æåº¦è‡ªä¿¡è½¬ä¸ºæåº¦ææƒ§ï¼Œç‡é¢†æ–‡æ­¦å®˜å‘˜å¤œæ¸¡ï¼Œé€ƒå¾€åŒå®‰ã€‚å²›ä¸Šæ¸…å†›å¤±å»æŒ‡æŒ¥ï¼Œé™·äºæ··ä¹±ï¼Œçº·çº·æºƒæ•£ã€‚\nå¯ç¬‘çš„é“å…‰å¸ä¹Ÿä»¥ä¸ºæ´‹äººä¸å–„é™†æˆ˜ï¼š\næœ€æœ€ä»¤äººå“­ç¬‘ä¸å¾—çš„æ˜¯é“å…‰å¸ã€‚ä»–æ¥åˆ°é¢œä¼¯ç„˜å¦é—¨å¤±é™·çš„å¥æŠ˜ï¼Œè§æœ‰â€œä¼ªé™†è·¯æç£éƒ­â€çš„å­—æ ·ï¼Œ[58]ç«Ÿç„¶å‘ç°äº†æ–°å¤§é™†ï¼Œå³è‹±å†›ä¹Ÿä¼šé™†æˆ˜ï¼äºæ˜¯ï¼Œä»–ç«‹å³é€šä»¤æ²¿æµ·å„å°†å†›ç£æŠšï¼Œå¹¶ä¸‹ä»¤å„åœ°æ³¨é‡é™†è·¯é˜²å®ˆï¼šâ€œå€˜é€†å¤·ç«Ÿæ•¢ç‡ä¼—ç™»å²¸ï¼Œæ‰€æœ‰ç«ç‚®åŠä¸€åˆ‡è®¾ä¼æœºå®œï¼ŒåŠ¡å½“å…ˆäº‹é¢„å¤‡ï¼Œæ“å¿…èƒœä¹‹æƒï¼Œè¤«å¥¸å¤·ä¹‹èƒ†ã€‚â€æˆ˜äº‰å·²ç»è¿›è¡Œäº†ä¸€å¹´å¤šï¼Œé“å…‰å¸åœ¨å‰æ•Œä¸»å¸…ä»¬çš„æ¬ºè’™ä¸‹ï¼Œç›´è‡³æ­¤æ—¶æ–¹å¾—å‡ºè¿™ç§è®¤è¯†ï¼Œè™½ä¸ºæ—¶å·²æ™šï¼Œä»ä¸å¤±ä¸ºäº¡ç¾Šè¡¥ç‰¢ä¹‹è®¡ã€‚ä½†æ˜¯ï¼Œé“å…‰å¸å¯¹æ­¤è¿˜æ˜¯å°†ä¿¡å°†ç–‘ï¼Œä¼¼ä¹è¿˜ä¸è®¤ä¸ºè‹±å†›æœçœŸæœ‰èƒ½åœ¨é™†åœ°ä¸Šæ‰“ä»—è€Œä¸ä¼šæ‘”è·Ÿæ–—çš„å£«å…µ\nè£•è°¦å¯¹æˆ˜ä¿˜æå…¶æ®‹æš´ï¼š\nè€Œåˆ°äº†åæ¥å±€åŠ¿å±æ€¥æ—¶ï¼Œè£•è°¦çš„æ‰‹æ®µæ›´è‡³äºç™»å³°é€ æã€‚1841å¹´9æœˆï¼Œé•‡æµ·å†›æ°‘æ•è·ä¸¤åè‹±æ–¹ä¿˜è™ï¼Œä»–ç«Ÿå°†â€œå£®å£«é¥¥é¤èƒ¡è™è‚‰â€çš„è¯—åŒ–è¯­è¨€å˜ä¸ºå®é™…ï¼Œä¸‹ä»¤å¯¹ä¸€åç™½äººä¿˜è™â€œå…ˆå°†ä¸¤æ‰‹å¤§æŒ‡è¿ä¸¤è‡‚åŠè‚©èƒŒä¹‹çš®ç­‹ï¼Œå‰¥å–ä¸€æ¡â€ï¼Œåˆ¶ä½œä¸ºè‡ªå·±åéª‘çš„é©¬ç¼°ï¼Œç„¶åâ€œå‡Œè¿Ÿæ­ç¤ºâ€ï¼›å¯¹å¦ä¸€åé»‘äººä¿˜è™äº¦â€œæˆ®å–é¦–çº§ï¼Œå‰¥çš®æ­ç¤ºâ€ã€‚\nè£•è°¦æ”¾å‡ºçš„è¿™äº›æ‰‹æ®µï¼Œç”¨ä»Šå¤©çš„æ ‡å‡†æ¥è¡¡é‡ï¼Œä¼¼ä¸ºæ®‹å¿æ¯’è¾£ï¼Œä¸ä»–æ›¾ä¸­è¿‡è¿›å£«ã€å…¥è¿‡ç¿°æ—é™¢çš„å„’åå½¢è±¡äº¦ä¸å»åˆï¼Œå¥½åƒå˜äº†ä¸ªäººã€‚ä½†åœ¨å½“æ—¶ï¼ŒåŠ¿ä¸ä¸¤ç«‹çš„æ•Œå¿¾è‡´ä½¿äººä»¬çš„æƒ…ç»ªè¶‹å‘äºæš´çƒˆï¼Œè€Œä¸”æ‰‹æ®µè¶Šç‹ è¶Šå¤‡å—å–å½©ï¼Œé“å…‰å¸äº¦æ˜ç¡®è¡¨éœ²å‡ºæ¬£èµé¼“åŠ±çš„æ€åº¦ã€‚\nè£•è°¦ä¹Ÿæ˜¯æ´‹äººä¸å–„è®ºæˆ˜çš„é¼“å¹è€…ï¼Œæˆ˜å¤‡ä»æ³›å–„å¯é™ˆï¼š\nè£•è°¦è™½æœªäº²çœ¼è§è¿‡è‹±å†›ï¼Œå´æ˜¯è‹±å†›ä¸å–„é™†æˆ˜è®ºçš„æœ‰åŠ›é¼“å¹è€…ã€‚ä»–è®¤ä¸ºï¼Œè‹±å†›ä¸å–„é™†æˆ˜å¿…ç„¶ä¼šä»è·å¿åŸæœ€è¿‘çš„æµ·å²¸å‘èµ·è¿›æ”»ã€‚è£•è°¦çš„æ€æƒ³è¡¨æ˜ï¼Œå°½ç®¡æˆ˜äº‰å·²ç»å¼€å§‹äº†è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œå°½ç®¡æ¸…å†›åœ¨è™é—¨ç­‰å¤„ä¸€è´¥å†è´¥ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸€ç­ä¸»â€œå‰¿â€å®˜ç»…çš„å¿ƒç›®ä¸­ï¼Œå¯¹è‹±å†›çš„å®åŠ›ä¼°è®¡ä»æ˜¯æˆ˜å‰çš„æ¨¡ç³Šä¸æ¸…çš„æ¦‚å¿µï¼Œæ²¡æœ‰å°†è‹±å†›çš„ç§ç§ä¼˜é•¿ä¸€ä¸€è¾¨æ˜æ¸…æ¥šã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œè£•è°¦åœ¨å®šæµ·é˜²å¾¡ä¸Šå¹¶æ— ä»»ä½•åˆ›æ–°ï¼Œä»æ˜¯æˆ˜å‰ç”±æ—åˆ™å¾æ‰€å€¡å¯¼çš„é˜²å®ˆæ²¿æµ·åšå¼ºæ®ç‚¹å¯¹æŠ—è‹±å†›èˆ°èˆ¹æ”»å‡»çš„æˆ˜æ³•ã€‚\nä¼å›¾é å„’å­¦ç†å­¦æ¥æ‰“ä»—å–èƒœæ˜¯å¯ç¬‘çš„ï¼š\nå°½ç®¡åœ¨ç†å­¦å¤§å¸ˆçš„ç¬”ä¸‹ï¼Œæˆ‘ä»¬å¸¸å¸¸å¯ä»¥é¢†æ‚Ÿåˆ°è¿™ç§ç†è®ºçš„ç²¾å¦™ï¼Œä¹Ÿä¸ºå…¶æ·±é‚ƒçš„æ€ç´¢ã€ä¼˜ç¾çš„æ–‡ç¬”æ‰€æŠ˜æœï¼Œä½†åœ¨å®é™…æ”¿æ²»è¿ä½œä¸­ï¼Œç†å­¦æˆä¸ºå¯æ€•çš„æ•™æ¡ã€‚ç»“æœï¼Œåœ¨æ€§ç†åæ•™èµ°å‘å´‡é«˜ä¹‹åï¼Œäº‹å®çœŸæƒ…ï¼Œåæ˜¾å¾—ä¸é‚£ä¹ˆé‡è¦ï¼Œå¾€å¾€å¤„äºä»å±çš„åœ°ä½ã€‚ä¸€åˆ‡å†³ç­–çš„ä¾æ®ï¼Œä¼¼ä¹ä¸å†æ˜¯äº‹å®æœ¬èº«ï¼Œè€Œæ˜¯å…ˆå“²ä»¬çš„æ•™è¯²ã€‚åœ¨è¿™ç§æƒ…åŠ¿ä¸‹ï¼ŒæŒæ¡äº‹å®çœŸæƒ…çš„äººä»¬ï¼Œè¿œæ²¡æœ‰æŒæ¡ç†å­¦çœŸè°›çš„äººä»¬æœ‰åŠ›é‡ï¼Œè‹¥æ­£é¢äº¤é”‹ï¼Œå¿…ä¸å ªä¸€å‡»ã€‚\né•‡æµ·æˆ˜å½¹æƒ¨è´¥ï¼š\nå…ˆæ˜¯1842å¹´1æœˆ25æ—¥ï¼Œå¥•ç»ä¸å‚èµå¤§è‡£æ–‡è”šåœ¨æµ™æ±Ÿå˜‰å…´åŒæ—¶æ¢¦è§è‹±å†›æ‚‰å¼ƒé™†ç™»èˆŸï¼Œè”å¸†å‡ºæµ·ï¼Œå®æ³¢ç­‰ä¸‰åŸâ€œå·²ç»å¤·è¿¹â€ï¼Œåæ´¾äººå¯Ÿæ˜æœæœ‰è¿æ¢°å½’èˆ¹ä¹‹äº‹ï¼Œä»¥ä¸ºâ€œä½³å…†æ˜­è‘—â€ã€‚[168]åˆ2æœˆ10æ—¥ï¼Œå¥•ç»è‡³æ­å·ï¼Œå¾€æ®ç§°æœ€ä¸ºçµéªŒçš„è¥¿æ¹–å…³å¸åº™å ç­¾ï¼Œä¸­æœ‰â€œä¸é‡è™å¤´äººä¸€å”¤ï¼Œå…¨å®¶è°ä¿æ±å¹³å®‰â€ä¸€å¥ï¼Œä¸‰å¤©åï¼Œå››å·æ´å†›å¤§é‡‘å·åœŸå…µå¼€åˆ°ï¼Œå…µå¼çš†å¸¦è™çš®å¸½ï¼Œæ›´ä»¥ä¸ºâ€œæ”¶åŠŸå½“åœ¨æ­¤â€ã€‚[169]äºæ˜¯ï¼Œä»–é€‰å®šâ€œå››å¯…ä½³æœŸâ€ï¼ˆé“å…‰äºŒåäºŒå¹´æ­£æœˆäºŒåä¹æ—¥å››æ›´ï¼Œå³å£¬å¯…å¹´å£¬å¯…æœˆæˆŠå¯…æ—¥ç”²å¯…æ—¶ï¼Œ1842å¹´3æœˆ10æ—¥å‡Œæ™¨3è‡³5æ—¶ï¼‰ä¸ºè¿›æ”»æ—¶é—´ï¼Œåˆä»¥å¯…å¹´ï¼ˆè™å¹´ï¼‰å‡ºç”Ÿçš„è´µå·å®‰ä¹‰é•‡æ€»å…µæ®µæ°¸ç¦ä¸ºè¿›æ”»å®æ³¢çš„ä¸»å°†ï¼Œ[170]æ¥ä»–ä¸ªâ€œäº”è™åˆ¶æ•Œâ€ï¼\nè¿œåœ¨æ›¹å¨¥æ±Ÿä»¥è¥¿ä¸œå…³é•‡æ‰è¥çš„å¥•ç»ï¼Œé—»å‰æ–¹å†›æŠ¥ï¼ŒæƒŠé­‚åŠ¨é­„ï¼ŒäºŸæ€é€ƒè·‘ã€‚å¹•åƒšè‡§çº¡é’ç«­åŠ›åŠé˜»ï¼Œæ–¹åšæŒä¸€å¤œã€‚3æœˆ16æ—¥æ™šï¼Œæ–‡è”šé€ƒè‡³ä¸œå…³é•‡ï¼Œä»–å¾—çŸ¥æˆ˜å†µï¼Œå‘½æ–‡è”šé€€å®ˆç»å…´ï¼Œè€Œå…¶æœ¬äººç‡éƒ¨è¿å¤œè¥¿å¥”ï¼Œæ¸¡è¿‡é’±å¡˜æ±Ÿï¼Œä¸€ç›´é€€è‡³æ­å·ã€‚[183]è€Œä»–åæ¥å‘é“å…‰å¸é™ˆè¿°çš„ç†ç”±æ˜¯ï¼Œä»–æ­¤è¡Œçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†æ£€æŸ¥é’±å¡˜æ±ŸåŒ—å²¸çš„æµ·å®å°–å±±ä¸€å¸¦çš„é˜²åŠ¡ï¼\nç”±å‰¿è½¬æŠš # æŠšè®®å†èµ·ï¼š\nåœ¨ç¦å–„ã€ä¼Šé‡Œå¸ƒè¢«æ–¥é©åï¼Œâ€œæŠšâ€è®®å·²å¯æ¯ä¸€å¹´ï¼Œâ€œå‰¿â€æ„æ²¸è…¾ã€‚åœ¨è¿™ç§æƒ…åŠ¿ä¸‹å†å€¡â€œæŠšâ€è®®ï¼Œé¢‡æœ‰é£é™©ï¼Œä¸”ä¸è®ºåœ£æ„å¦‚ä½•ï¼Œå³æ˜¯è¨€è·¯ä¸Šçš„è°¤è®ºä¹Ÿè®©äººå—ä¸äº†ã€‚åˆ˜éŸµç‚ä¸æ„§ä¸ºæ˜¯ä¸€ä½å®˜åœºä¸­çš„é«˜æ‰‹ï¼Œä»–æ²¡æœ‰æ­£é¢æå‡ºâ€œæŠšâ€ï¼Œåè€Œåœ¨â€œå‰¿â€å­—ä¸Šä½œæ–‡ç« ï¼Œç§°æˆ˜äº‰è‹¥ç»§ç»­è¿›è¡Œï¼Œæœ‰åé¡¹â€œæ·±å±å¯å±â€çš„å› ç´ ã€‚æœ¬æ¥ï¼Œåªè¦è¯æ˜äº†â€œå‰¿â€ä¹‹ä¸å¯è¡Œï¼Œâ€œæŠšâ€ä¹Ÿå°±ç†æ‰€å½“ç„¶äº†ã€‚\nå®˜å‘˜è§‚å¿µçš„è½¬å˜ï¼š\nåŸæ¥ï¼Œæ‰€æœ‰çš„ä¸»â€œæŠšâ€å®˜å‘˜æ— ä¸ä»ä¸»â€œå‰¿â€è½¬å˜è€Œæ¥ã€‚åœ¨â€œå¤©æœâ€çš„å¯¹å¤–ä½“åˆ¶ä¸‹ï¼Œåœ¨â€œå¤·å¤â€è§‚å¿µçš„ç†æµ¸ä¸­ï¼Œæ¸…ç‹æœå®˜å‘˜å¯¹â€œé€†å¤·â€ä¸»å¼ â€œè¿›å‰¿â€ï¼Œå‡ ä¹æ˜¯å‡ºäºæœ¬èƒ½ï¼Œä¸åŠ æ€ç´¢ã€‚å› æ­¤ï¼Œæ¸…æœå®˜å‘˜åŸæ¥éƒ½æ˜¯â€œä¸»æˆ˜æ´¾â€ï¼Œæ— ä¸€ä¾‹å¤–ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œå¦‚æœè¯´æ¸…ç‹æœç»Ÿæ²»é›†å›¢å†…éƒ¨å­˜åœ¨ç€â€œä¸»æˆ˜â€ä¸â€œä¸»å’Œâ€çš„æ–—äº‰çš„è¯ï¼Œé‚£ä¹ˆï¼Œè¿™ç§æ–—äº‰çš„åœºåœ°ï¼Œä¸»è¦åœ¨äºé‚£äº›ç”±ä¸»â€œå‰¿â€è½¬å‘ä¸»â€œæŠšâ€çš„å®˜å‘˜çš„å¤´è„‘ï¼Œæ˜¯ä¸€ç§è‡ªæˆ‘çš„æ€æƒ³æ–—äº‰ã€‚ç°å®çš„åŠ›é‡ï¼Œæ¯•ç«Ÿå¤§äºâ€œä¹‰ç†â€çš„åŠ›é‡ã€‚\næ¸…æœå®˜æ°‘å…³ç³»ï¼š\nå°±å®˜ã€æ°‘å…³ç³»è€Œè¨€ï¼Œæ¸…ç‹æœçš„ç»Ÿæ²»å®è´¨ä¸Šæ˜¯ä¸€ç§å‹è¿«ï¼Œæ˜¯ä¸€ç§å¯¹ç«‹çš„å…³ç³»ã€‚å°±è¿ç»Ÿæ²»è€…æœ¬èº«å¯¹æ­¤äº¦æœ‰æ·±åº¦çš„è®¤è¯†ã€‚åœ¨æ­¤ç§æƒ…åŠ¿ä¸‹ï¼Œæ°‘ä¼—ä¸å¯èƒ½åœ¨è¿™åœºåä¾µç•¥æ€§è´¨çš„æˆ˜äº‰ä¸­å›¢èšåœ¨å®˜åºœçš„å‘¨å›´ï¼Œæˆä¸ºè‡ªè§‰çš„åŒç›Ÿå†›ã€‚æ¸…æœåœ¨æ°‘ä¼—å¿ƒç›®ä¸­ç¼ºä¹è¿™ç§å·å¬åŠ›ã€‚\né“å…‰å¸å¯¹ä¸–ç•Œç¼ºä¹è®¤è¯†ï¼š\nä»–ä¼¼ä¹å¹¶ä¸çŸ¥é“ï¼Œä»–æœ€ä¸ºå›°æƒ‘çš„åœ°ç†é—®é¢˜ï¼Œ[83]æ­£æ˜¯ä»–æœ€æœ‰èµ„æ ¼å›ç­”çš„ã€‚æˆ‘ä»¬ä»Šå¤©å°šèƒ½çœ‹åˆ°çš„ç”±ä¼ æ•™å£«å—æ€€ä»ä¸ºä»–é«˜ç¥–çˆ¶åº·ç†™å¸ç»˜åˆ¶çš„å½“æ—¶ä¸­å›½æœ€ç²¾ç¾çš„ä¸–ç•Œåœ°å›¾â€”â€”ã€Šå¤èˆ†å…¨å›¾ã€‹ï¼Œæ­¤æ—¶æ­£åœ¨ç´«ç¦åŸçš„åº“æˆ¿é‡Œç¡è§‰ã€‚\né•‡æ±Ÿæˆ˜å½¹æ˜¯é¸¦ç‰‡æˆ˜äº‰æœ€åä¸€æˆ˜ï¼š\né•‡æ±Ÿæ˜¯é¸¦ç‰‡æˆ˜äº‰ä¸­è‹±å†›æ”»å‡»è¯¸è¦ç‚¹è®¾é˜²æœ€ä¸ºè–„å¼±çš„ï¼Œè€Œé•‡æ±Ÿä¹‹æˆ˜å´æ˜¯é¸¦ç‰‡æˆ˜äº‰è¯¸æˆ˜æ–—ä¸­æŠµæŠ—æœ€ä¸ºæ¿€çƒˆçš„ã€‚è‹±å†›åœ¨é•‡æ±Ÿé­åˆ°é‡å¤§æŸå¤±çš„ä¸»è¦åŸå› åœ¨äºè½»æ•Œã€‚æˆ˜å‰çš„ä¾¦å¯Ÿä½¿ä»–ä»¬è¯¯ä»¥ä¸ºå¯ä»¥å…µä¸è¡€åˆƒåœ°å…¥æ®è¯¥åŸï¼Œé•‡æ±Ÿæ¿’ä¸´é•¿æ±Ÿï¼Œè‹±å†›çš„èˆ°ç‚®å®Œå…¨å¯ä»¥å°†ç‚®å¼¹å°„å…¥åŸå†…ï¼Œä½†ä»–ä»¬æ²¡æœ‰è¿™ä¹ˆåšï¼Œä»…æœ‰ä¸ªåˆ«æˆ˜èˆ°åœ¨æ©æŠ¤ç™»é™†æ—¶å¼€è¿‡å‡ ç‚®ã€‚è‹±å†›åœ¨é•‡æ±Ÿé­åˆ°é‡å¤§æŸå¤±çš„å¦ä¸€é‡è¦åŸå› æ˜¯å…«æ——å…µçš„åšå¼ºæŠ—å‡»ã€‚\né•‡æ±Ÿä¹‹æˆ˜æ˜¯é¸¦ç‰‡æˆ˜äº‰çš„æœ€åä¸€æˆ˜ï¼Œå°±å†›äº‹è§’åº¦è€Œè¨€ï¼Œæˆ˜äº‰å®é™…å·²ç»ç»“æŸäº†\u0026hellip;\nåŒæ–¹å¯¹â€œå…¨æƒâ€çš„çº ç»“ï¼š\nè€†è‹±ã€ä¼Šé‡Œå¸ƒä¸ç’é¼æŸ¥çš„äº¤æ¶‰ï¼Œä»åœ¨â€œå…¨æƒâ€ä¸€è¯ä¸Šå¡å£³ã€‚å°½ç®¡è€†ã€ä¼Šè§£é‡Šé“ï¼šâ€œæœ¬æœå‘æ— å…¨æƒå¤§è‡£å®˜åï¼Œå‡¡æœ‰é’¦å·®å¤§è‡£å­—æ ·ï¼Œå³ä¸è´µå›½å…¨æƒäºŒå­—ç›¸åŒâ€ï¼Œä½†ç’é¼æŸ¥å¯¹æ­¤ä¸ä»¥ä¸ºç„¶ã€‚\nä¼Šé‡Œå¸ƒçš„å®¶ä»†å¼ å–œåœ¨ä¸­è‹±è°ˆåˆ¤ä¸­å……å½“äº†ä»£è¡¨ï¼š\nä¸€åå¹¶éæœå»·å‘½å®˜â€œæš‚æˆ´â€äº”å“é¡¶æˆ´çš„å®¶ä»†ï¼Œå……å½“äº†ä¸€ä¸ªå¤§å›½åœ¨é‡å¤§äº‹ä»¶ä¸­çš„è¿›è¡Œå¤–äº¤è°ˆåˆ¤çš„æ­£å¼ä»£è¡¨ï¼\nè°ˆåˆ¤ç»“æœä»¤è‹±æ–¹æ»¡æ„ï¼š\nè¿™ä¸€åˆ‡ä½¿è‹±æ–¹å¤§ä¸ºæ»¡æ„ã€‚ä¸€è‹±å†›å†›å®˜åœ¨å…¶å›å¿†å½•çš„ç»“å°¾ï¼Œç”¨å¤§å†™å­—æ¯å†™äº†ä¸€å¥å¾—æ„çš„è¯ï¼š CHINA HAS BEEN CONQUERED BY A WOMAN.\nå†å²çš„è¯‰è¯´ # ä½çº§â€œçˆ±å›½â€æ˜¯æ²¡ç”¨çš„ï¼š\nä¸­å›½æ¬²æŠµå¾¡è¥¿æ–¹ï¼Œé¡»è‡ªèº«å¼ºå¤§ï¼Œå…¶å¿…ç”±ä¹‹é€”åœ¨äºå­¦ä¹ è¥¿æ–¹ï¼Œå¦‚åŒæ—¥æœ¬ä¸€æ ·ã€‚é‚£ç§å¼ºçƒˆçš„ä¸è¥¿æ–¹åŠ¿ä¸ä¸¤ç«‹çš„æƒ…ç»ªï¼Œè‡ªç„¶æœ‰å…¶äº§ç”Ÿå’Œå‘å±•çš„å……åˆ†ç†ç”±ï¼Œä½†ç”±æ­¤äº§ç”Ÿçš„å¯¹æŠ—ï¼Œè‡³å¤šä¹Ÿåªæ˜¯ä½çº§å½¢å¼çš„æ–—äº‰ï¼Œä¸”æ˜“ä½¿å½“æ—¶çš„äººä»¬çœ‹ä¸æ¸…çœŸæ­£çš„å†å²ä½¿å‘½å’Œæ°‘æ—å‰ç¨‹ã€‚\n","date":"31 October 2021","externalUrl":null,"permalink":"/2021/10/31/collapse_of_the_heavenly_dynasty/","section":"Posts","summary":"\u003cp\u003eèŠ±äº†ä¸€å‘¨çš„æ—¶é—´ï¼Œçœ‹å®Œäº†èŒ…æµ·å»ºçš„\u003ca href=\"https://book.douban.com/subject/1675478/\" target=\"_blank\"\u003eã€Šå¤©æœçš„å´©æºƒã€‹\u003c/a\u003eï¼Œè™½ç„¶ä¸­å­¦å†å²ä¹¦ä¸­ç®€ç•¥è®²è¿‡ç¬¬ä¸€æ¬¡é¸¦ç‰‡æˆ˜äº‰ï¼Œå¯¹è¿™æ®µå†å²äº†è§£å´ç”šå°‘ï¼Œæˆ‘ç”šè‡³å¤©çœŸåœ°ä»¥ä¸ºé¸¦ç‰‡æˆ˜äº‰å°±æ˜¯è™é—¨æˆ˜äº‰ä¹‹åå°±å’Œè°ˆäº†ï¼Œç„¶åç­¾è®¢äº†ã€Šå—äº¬æ¡çº¦ã€‹ã€‚\u003c/p\u003e","title":"èŒ…æµ·å»º ã€Šå¤©æœçš„å´©æºƒã€‹","type":"posts"},{"content":"","date":"24 October 2021","externalUrl":null,"permalink":"/tags/diff/","section":"Tags","summary":"","title":"Diff","type":"tags"},{"content":" Diff can be used to compare two versions of the same file to find the changes. If you use vim, you can use vimdiff to compare files:\nvimdiff file1 file2 Actually vimdiff is just a wrapper around vim executable, you can do the same thing with vim using option -d:\nvim -d file1 file2 So neovim just removed this bloat. To compare two files using neovim, run:\nnvim -d file1 file2 Previously, Vim has been using external diff tool for file diffs, since patch 8.1.0360, it beganto use libxdiff, which is much faster and has more features. According to discussion here, libxdiff is also used as a basis by Git as its internal diff library, that is when you use git diff inside a git repository.\nSince this commit, the vim patch has been ported to neovim too. You can activate the internal diff algorithm by update option diffopt:\nset diffopt+=internal The default diff algorithm is myers diff. Other supported diff algorithm is:\nalgorithm:{text} Use the specified diff algorithm with the internal diff engine. Currently supported algorithms are: myers the default algorithm minimal spend extra time to generate the smallest possible diff patience patience diff algorithm histogram histogram diff algorithm So to use histogram diff, add the following setting:\nset diffopt+=algorithm:histogram References # Removed features in Neovim. Is the git binary diff algorithm (delta storage) standardized? https://vimways.org/2018/the-power-of-diff/ (it has some links on how indent-heuristic works) ","date":"24 October 2021","externalUrl":null,"permalink":"/2021/10/24/diff_in_vim/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202020040611.jpg\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://man7.org/linux/man-pages/man1/diff.1.html\" target=\"_blank\"\u003eDiff\u003c/a\u003e can be used to compare two versions of the same file to find the changes.\nIf you use vim, you can use \u003ccode\u003evimdiff\u003c/code\u003e to compare files:\u003c/p\u003e","title":"Using Diffs in Vim","type":"posts"},{"content":"When we run git-diff, git uses its internal diff algorithm to generate diff for changed files.\nThe git internal diff algorithms # The default diff algorithm used by git-diff is myers diff. However, myers diff algorithm may not generate meaningful diffs for code changes. So the patience diff and histogram diff algorithm is also added later.\nThis post shows an example where myers diff does not make much sense and patience or histogram diff produce better diffs. It seems that histogram diff generally produces better diff.\nTo use patience or histogram diff in git diff, use the following command:\ngit diff --patience git diff --histogram However, this does not mean that histogram/patience diff always generate better diffs. An example is given here1.\nf1:\naaaaaa aaaaaa bbbbbb bbbbbb cccccc cccccc abc f2:\nabc aaaaaa aaaaaa bbbbbb bbbbbb cccccc cccccc The output of git diff --patience f1 f2 is:\ndiff --git a/f1 b/f2 index 3299d68..accc3bd 100644 --- a/f1 +++ b/f2 @@ -1,7 +1,7 @@ -aaaaaa -aaaaaa -bbbbbb -bbbbbb -cccccc -cccccc abc +aaaaaa +aaaaaa +bbbbbb +bbbbbb +cccccc +cccccc The output of git diff f1 f2 (remember that myers diff is used by default) is:\ndiff --git a/f1 b/f2 index 3299d68..accc3bd 100644 --- a/f1 +++ b/f2 @@ -1,7 +1,7 @@ +abc aaaaaa aaaaaa bbbbbb bbbbbb cccccc cccccc -abc In this case, result of myers diff make much more sense than that of patience diff.\nGit external diff tools # Git can also utilize external diff tool via git difftool command. Note that git difftool has nothing to do with git diff (its naming is a bit confusing since it may make the users believe that git difftool chooses which tool git-diff uses).\nYou can run command git difftool --tool-help to check a list of supported external diff tools. To select a certain tool, use git difftool --tool \u0026lt;my-diff-tool\u0026gt;. For example, to use vimdiff, run git difftool --tool vimdiff.\nRefs # What is the default git diff tool: https://stackoverflow.com/q/63985751/6064933 Original paper of the myers algorithm: https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927 https://news.ycombinator.com/item?id=23360223 patience vs histogram diff: https://stackoverflow.com/q/32365271/6064933 https://www.nathaniel.ai/myers-diff/ https://en.wikipedia.org/wiki/Diff https://fabiensanglard.net/git_code_review/diff.php The example compares patience against myers diff, but histogram diff generates the same result as patience diff in this case.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 October 2021","externalUrl":null,"permalink":"/2021/10/24/git_diff_setup/","section":"Posts","summary":"\u003cp\u003eWhen we run git-diff, git uses its internal diff algorithm to generate diff for\nchanged files.\u003c/p\u003e","title":"Git Diff Setup","type":"posts"},{"content":"Sometimes, we are interested in which font is used for the main text in a PDF. How do we find out?\nUse Adobe Acrobat PDF reader # Open the PDF in Adobe Acrobat and go to File --\u0026gt; Properties, under the Fonts tab page, a list of fonts embedded in in the document are listed there.\nHowever, there does not seem to be an option to view the font used by a specific text in the document.\nYou can check the fonts whose encoding is Custom and look them up on Google to see which one is what you want.\nUse pdffonts # We can also use pdffonts from the poppler package. First, we need to install poppler, I won\u0026rsquo;t go into detail here, check this post for the details.\nAfter that, we can run pdffonts to find the interested fonts. It helps to narrow to the page where the text occurs. For example, if we want to find font for page 2, run the following command:\n# -f: start page # -l: end page pdffonts -f 2 -l 2 test.pdf This will greatly narrow down the range of fonts. You can then quickly find which font the text uses.\nReferences # use pdfonts: https://superuser.com/a/628624/736190 Get PDF fonts info: https://stackoverflow.com/a/32426813/6064933 What is PDF: https://www.youtube.com/watch?v=GqEH8XvPZwM\u0026t=619s Difference between full embedded fonts and embedded subset ","date":"20 October 2021","externalUrl":null,"permalink":"/2021/10/20/find_font_used_in_pdf/","section":"Posts","summary":"\u003cp\u003eSometimes, we are interested in which font is used for the main text in a PDF.\nHow do we find out?\u003c/p\u003e","title":"Find Which Font is Used in A PDF","type":"posts"},{"content":"In Python, to run a task periodically, we can use the package apscheduler.\nTwo schedulers are provided in this package, BackgroundScheduler and BlockingScheduler. BackgroundScheduler will run in the background in a non-blocking fashion. On the other hand, BlockingScheduler will block until the job assigned is finished.\nHere is some demo code to showcase their usage:\nfrom datetime import datetime from apscheduler.schedulers.background import BackgroundScheduler, BlockingScheduler scheduler = BlockingScheduler() scheduler.add_job(func=my_job, trigger=\u0026#39;interval\u0026#39;, seconds=2, id=\u0026#39;my custom task\u0026#39;) scheduler.start() def my_job(): print(f\u0026#34;custom job called at {datetime.now()}\u0026#34;) In the above code, my_job is the task we want to run. We use the interval trigger. Trigger defines when we will run the given job. By using interval trigger, the job provided will be run periodically at the specified interval. For example, in the above code, the job will be run every two seconds, and we will observe output like the following:\ncustom job called at 2021-01-16 17:25:45.701729 custom job called at 2021-01-16 17:25:47.701612 custom job called at 2021-01-16 17:25:49.701627 custom job called at 2021-01-16 17:25:51.701584 We can use print_jobs() to print job info for this scheduler.\nThere is another cron trigger. Cron trigger will run the job if the given constraints is met. Here is an example of using the cron trigger:\nfrom datetime import datetime from apscheduler.schedulers.background import BackgroundScheduler, BlockingScheduler scheduler = BlockingScheduler() scheduler.add_job(func=my_job, trigger=\u0026#39;cron\u0026#39;, second=30, id=\u0026#39;my custom task\u0026#39;) scheduler.start() def my_job(): print(f\u0026#34;custom job called at {datetime.now()}\u0026#34;) In the above code, the job will run on every year, every month, every day, every hour, every minute, on the 30th second. An example output is like the following:\ncustom job called at 2021-01-16 17:39:30.001336 custom job called at 2021-01-16 17:40:30.001498 custom job called at 2021-01-16 17:41:30.001821 custom job called at 2021-01-16 17:42:30.001922 Another example:\nscheduler.add_job(func=my_job, trigger=\u0026#39;cron\u0026#39;, minute=0, second=30, id=\u0026#39;my custom task\u0026#39;) In the above code, the job will run on every year, every month, every day, every hour, on minute 0 and second 30. For example, it will run on 17:00:30, 18:00:30 etc. Output will be like the following:\ncustom job called at 2021-01-17 21:00:30.001602 custom job called at 2021-01-17 22:00:30.001254 custom job called at 2021-01-17 23:00:30.001562 custom job called at 2021-01-18 00:00:30.001559 custom job called at 2021-01-18 01:00:30.001399 Ref # apscheduler documentation: https://apscheduler.readthedocs.io/en/3.x/ ","date":"20 October 2021","externalUrl":null,"permalink":"/2021/10/20/python_apsscheduler_intro/","section":"Posts","summary":"\u003cp\u003eIn Python, to run a task periodically, we can use the package \u003ca href=\"https://github.com/agronholm/apscheduler\" target=\"_blank\"\u003eapscheduler\u003c/a\u003e.\u003c/p\u003e","title":"Scheduling Your Tasks with Apscheduler","type":"posts"},{"content":"","date":"16 October 2021","externalUrl":null,"permalink":"/categories/academic/","section":"Categories","summary":"","title":"Academic","type":"categories"},{"content":"","date":"16 October 2021","externalUrl":null,"permalink":"/tags/loss/","section":"Tags","summary":"","title":"Loss","type":"tags"},{"content":"In classification tasks, the de facto loss to use is the cross entropy loss.\nSuppose that we have 10 classes, we would like the network to predict the probabilities of current sample belonging to each of the 10 classes. However, the raw output from from a neural network is just floating point values. So the softmax function is used to normalize the output to fall in the range $(0, 1)$.\nAfter softmax, all output values are between 0 and 1 and their sum is 1. So the output now can be considered as the probability distribution over the predicted classes. The element with largest probability is the predicted class.\nNow, suppose we have a batch of N data samples and their class labels, from the point of maximum likelihood estimation (or MLE in short), we want to find the parameters of the neural network that can maximize the product of probabilities that each sample get in their ground truth class.\nFor example, if we have data sample x1, x2 and x3, and their class label is 1, 3, 5. Then we want to find network parameters that can maximize p{11} * p{23} * p{35}.\nThen according to theory of MLE, we need to do derivative stuff and find the parameter. However, the multiplication form is not suitable for calculating derivatives. That is why log() function used in this.\nWhy log function? Because:\nlog function is monotonic. Or our objective is the same. Maximizing the old objective is equivalent to maximizing the new objective. log(x * y) = log(x) + log(y), so that we can greatly simplify calculation of derivatives. Another question, why do we use the minus sign?\nBecause in machine learning, we always talk about minimizing the loss/cost, which is equivalent to maximize log likelihood. It is just a convention. By adding a minus sign, we transform the initial problem of maximizing likelihood to minimize the new loss function. They are essentially the same, but loss function is a more familiar jargon to machine learning practitioners.\nThe cross entropy loss is also called log loss.\nTo be continued\u0026hellip;\nReferences # https://stats.stackexchange.com/questions/436766/cross-entropy-with-log-softmax-activation https://stats.stackexchange.com/questions/366312/why-we-use-log-function-for-cross-entropy https://stats.stackexchange.com/questions/222585/what-are-the-impacts-of-choosing-different-loss-functions-in-classification-to-a On Loss Functions for Deep Neural Networks in Classification https://paperswithcode.com/paper/demystifying-loss-functions-for https://machinelearningmastery.com/how-to-choose-loss-functions-when-training-deep-learning-neural-networks/ ","date":"16 October 2021","externalUrl":null,"permalink":"/2021/10/16/why_cross_entropy_in_classification/","section":"Posts","summary":"\u003cp\u003eIn classification tasks, the de facto loss to use is the \u003ca href=\"https://pytorch.org/docs/stable/generated/torch.nn.CrossEntropyLoss.html\" target=\"_blank\"\u003ecross entropy loss\u003c/a\u003e.\u003c/p\u003e","title":"Why Use Cross Entropy in Classification Task?","type":"posts"},{"content":"","date":"6 October 2021","externalUrl":null,"permalink":"/categories/emacs/","section":"Categories","summary":"","title":"Emacs","type":"categories"},{"content":"Unlike Vim/Neovim, where there are snippet engines like ultisnips and other plugins. In Emacs, the de facto snippet engine is yasnippet.\nInstallation and setup # Like vim-snippets for ultisnips, yasnippet-snippets provides the actual snippets for yasnippet.\nYasnippet and yasnippet-snippets can be easily installed via straight.el:\n(straight-use-package \u0026#39;yasnippet) (straight-use-package \u0026#39;yasnippet-snippets) (yas-global-mode t) ;; activate yasnippet Check available snippets # To check the available snippets for the current mode, run command yas-visit-snippet-file and choose snippet to view. You can also run command yas-describe-tables, which will show a list of snippets and their trigger words in a separate buffer.\nThe trigger shortcut # By default, the shortcut to trigger the expansion of a snippet is Tab. It can be easily changed, e.g., to change the shortcut to Meta-z, add the following config to init.el:\n(define-key yas-minor-mode-map (kbd \u0026#34;M-z\u0026#34;) \u0026#39;yas-expand) Jump forward and backward # To jump forward and backward through the tabstop fields/positions, the default is to use Tab and Shift+Tab. You can customize via the following config:\n;; use Meta-j and Meta-k to jump between fields (define-key yas-keymap (kbd \u0026#34;M-j\u0026#34;) \u0026#39;yas-next-field-or-maybe-expand) (define-key yas-keymap (kbd \u0026#34;M-k\u0026#34;) \u0026#39;yas-prev-field) Create custom snippets # The snippets are usually organized into different modes, which is kinda like filetypes in Vim/Neovim. For custom snippets, we can put under the directory ~/.emacs.d/snippets.\nSnippet for a specific mode # To create a snippet for markdown-mode, create a directory markdown-mode under ~/.emacs.d/snippets and create a new file there (the file name does not really matter)1. To create a snippet for markdown front matter like what is done here using ultisnips, use the following snippet:\n# -*- mode: snippet -*- # name: meta data # contributor: jdhao \u0026lt;jdhao@hotmail.com\u0026gt; # key: meta # -- --- title: \u0026#34;${1:TITLE}\u0026#34; date: `(format-time-string \u0026#34;%Y-%m-%dT%H:%M:%S%:z\u0026#34;)` tags: [${2:TAG}] categories: [${3:CATEGORY}] --- $0 The key field is the trigger word for this snippet, i.e., you type meta and press the trigger key to expand the snippet. The string inside the two backtick will be interpreted by the Emacs lisp interpreter and the result will be inserted there.\nGeneral Snippets (fundamental-mode snippets) # To write a snippet applicable to different modes, we can put it under the directory named fundamental-mode.\nCheck here on how to write a snippet for yasnippet.\nOverride an existing snippet # To override an existing snippet provided by yas-snippets, create a new snippet for the same mode with the same name. For example, to override link, use the following snippet instead:\n# -*- mode: snippet -*- # name: Link # contributor: jdhao \u0026lt;jdhao@hotmail.com\u0026gt; # key: link # -- [${1:TEXT}](${2:URL}) The name field must be the same with the existing snippet you want to override.\nReferences # how to change key binding for yas-expand https://www.youtube.com/watch?v=YDuqSwyZvlY You can also run command yas-new-snippet to create a new snippet.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"6 October 2021","externalUrl":null,"permalink":"/2021/10/06/yasnippet_setup_emacs/","section":"Posts","summary":"\u003cp\u003eUnlike Vim/Neovim, where there are snippet engines like \u003ca href=\"https://github.com/SirVer/ultisnips\" target=\"_blank\"\u003eultisnips\u003c/a\u003e and \u003ca href=\"https://github.com/rockerBOO/awesome-neovim#snippet\" target=\"_blank\"\u003eother plugins\u003c/a\u003e. In Emacs, the de facto snippet engine is \u003ca href=\"https://github.com/joaotavora/yasnippet\" target=\"_blank\"\u003eyasnippet\u003c/a\u003e.\u003c/p\u003e","title":"Setting up Yasnippet for Emacs","type":"posts"},{"content":"","date":"6 October 2021","externalUrl":null,"permalink":"/tags/snippet/","section":"Tags","summary":"","title":"Snippet","type":"tags"},{"content":" A short note on how to set up a more beautiful tabline for Emacs.\nIn Emacs, to show the tabline in the top of the frame, add the following config:\n(global-tab-line-mode t) The default tabline is ugly, it also shows the button to create or delete a tab. To disable those button, add the following config:\n(setq tab-line-new-button-show nil) ;; do not show add-new button (setq tab-line-close-button-show nil) ;; do not show close button To change the separator between tabs, set the variable tab-line-separator:\n(setq tab-line-separator \u0026#34;\u0026#34;) ;; set it to empty To further customize the look of tabs, we can employ the powerline package:\n(defvar my/tab-height 22) (defvar my/tab-left (powerline-wave-right \u0026#39;tab-line nil my/tab-height)) (defvar my/tab-right (powerline-wave-left nil \u0026#39;tab-line my/tab-height)) (defun my/tab-line-tab-name-buffer (buffer \u0026amp;optional _buffers) (powerline-render (list my/tab-left (format \u0026#34;%s\u0026#34; (buffer-name buffer)) my/tab-right))) (setq tab-line-tab-name-function #\u0026#39;my/tab-line-tab-name-buffer) ;; tab color settings (set-face-attribute \u0026#39;tab-line nil ;; background behind tabs :background \u0026#34;gray40\u0026#34; :foreground \u0026#34;gray60\u0026#34; :distant-foreground \u0026#34;gray50\u0026#34; :height 1.0 :box nil) (set-face-attribute \u0026#39;tab-line-tab nil ;; active tab in another window :inherit \u0026#39;tab-line :foreground \u0026#34;gray70\u0026#34; :background \u0026#34;gray90\u0026#34; :box nil) (set-face-attribute \u0026#39;tab-line-tab-current nil ;; active tab in current window :background \u0026#34;#b34cb3\u0026#34; :foreground \u0026#34;white\u0026#34; :box nil) (set-face-attribute \u0026#39;tab-line-tab-inactive nil ;; inactive tab :background \u0026#34;gray60\u0026#34; :foreground \u0026#34;black\u0026#34; :box nil) (set-face-attribute \u0026#39;tab-line-highlight nil ;; mouseover :background \u0026#34;white\u0026#34; :foreground \u0026#39;unspecified) The produced tab is shown in the title image. If you want to change the style of tab from wave to vertical bar, you can use powerline-bar-right and powerline-bar-left instead.\nReferences # https://amitp.blogspot.com/2020/06/emacs-prettier-tab-line.html https://andreyorst.gitlab.io/posts/2020-05-10-making-emacs-tabs-look-like-in-atom/ ","date":"30 September 2021","externalUrl":null,"permalink":"/2021/09/30/emacs_custom_tabline/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202109300037148.jpg\" width=\"400\"\u003e\n\u003c/p\u003e\n\u003cp\u003eA short note on how to set up a more beautiful tabline for Emacs.\u003c/p\u003e","title":"Customize Tabline in Emacs","type":"posts"},{"content":"è¶ç€ä¸­ç§‹èŠ‚å°é•¿å‡ï¼Œå»é‡åº†å’Œè´µé˜³ç©äº†å‡ å¤©ã€‚\næ·±åœ³åˆ°é‡åº†åªæœ‰ä¸€è¶Ÿç›´è¾¾é«˜é“ï¼Œæ—¶é—´ä¸åˆé€‚ï¼Œæ‰€ä»¥å°±æ‰“ç®—ä»è´µé˜³è½¬è½¦ï¼Œé¡ºä¾¿çœ‹ä¸€ä¸‹è´µé˜³ï¼Œç»“æœå‡ºå‘å½“å¤©,æ·±åœ³åˆ°è´µé˜³è½¦æ¬¡è¢«å–æ¶ˆï¼Œæ‰€ä»¥ä»å¹¿å·è½¬è½¦åˆ°è´µé˜³ï¼Œä¸€è·¯ä¸Šéƒ½æ˜¯å—æ–¹å…¸å‹çš„æ™¯è‰²ï¼Œç»¿æ ‘é’å±±ï¼Œç©¿è¿‡äº†æ— æ•°çš„éš§é“ï¼Œä¸‹åˆå…­ç‚¹å¤šåˆ°è¾¾è´µé˜³ã€‚\nè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥è´µé˜³ï¼Œç¬¬ä¸€çœ¼çš„å°è±¡è¿˜ä¸é”™ï¼Œè´µé˜³æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„åŸå¸‚ï¼Œé«˜æ¥¼ä¹Ÿä¸å°‘ï¼Œå¯èƒ½å’Œè´µé˜³è¿‘äº›å¹´åœ¨å‘å±•å¤§æ•°æ®äº§ä¸šæœ‰å…³ç³»ã€‚\nåœ¨åœ°å›¾ä¸ŠæŸ¥åˆ°é™„è¿‘æœ‰ä¸€ä¸ªè´µé˜³æ°‘ä¿—æ–‡åŒ–ç¾é£ŸåŸï¼Œä»¥ä¸ºæ˜¯å„ç§å°åƒæ±‡èšçš„å°åƒè¡—ï¼Œå°±åƒæ·±åœ³çš„ä¸œé—¨å°åƒè¡—é‚£æ ·ï¼Œç»“æœå°±æ˜¯ä¸€äº›é¥­åº—çš„é›†åˆï¼Œå¤±æœ›è€Œå½’ã€‚åœ¨ä½çš„é…’åº—é™„è¿‘åƒäº†ä¸€å®¶\u0026quot;å‡¯ä¿šé…¸æ±¤é±¼\u0026quot;ï¼Œé±¼é€‰çš„æ˜¯é»„è¾£ä¸ï¼Œè¿˜ç‚¹äº†ä¸å¨ƒå¨ƒï¼Œç±³è±†è…ï¼Œé…¸æ±¤é±¼ä¸ªäººè§‰å¾—å‘³é“ä¸€èˆ¬ï¼Œä¸å¨ƒå¨ƒå¯ä»¥ç†è§£ä¸ºæ˜¥å·ï¼Œé¢çš®é‡Œé¢å·ä¸€äº›èœï¼Œå”¯ä¸€å¥½åƒçš„æ˜¯å‡‰æ‹Œç±³è±†è…ï¼Œé¦™è¾£å‘³é“ï¼Œè¾£æ¤’æ²¹å¾ˆé¦™ã€‚ç¬¬äºŒå¤©ä¸Šåˆç¦»å¼€è´µé˜³å‰å»äº†å¦å¤–ä¸€ä¸ªäºŒä¸ƒè·¯å°åƒè¡—ï¼Œé‡Œé¢æœ‰å¾ˆé•¿ä¸€æ’å–å°åƒçš„ï¼Œä¹°äº†æ´‹èŠ‹é¥¼ï¼Œå‘³é“è¿˜ä¸é”™ï¼Œç‚¹äº†ä¸€ä»½è±†è…è„‘ï¼Œå»çš„æœ‰ç‚¹æ—©ï¼Œå¾ˆå¤šå•†å®¶åˆšå¼€å¼ ï¼Œæ²¡æœ‰åƒåˆ°ç‰¹åˆ«æƒŠè‰³çš„ç¾é£Ÿã€‚\nä»å°åƒè¡—å‡ºæ¥ï¼Œåˆå»ä¸€å®¶\u0026ldquo;è€äº”é¸¡ä¸è±†èŠ±é¢\u0026rdquo;ï¼Œç‚¹äº†ä¸€ä»½é¢ï¼Œé‡Œé¢æœ‰è±†èŠ±ï¼Œé¸¡ä¸å’Œè„†å“¨(å°±æ˜¯æ²¹ç‚¸çš„çŒªè‚‰)ï¼Œé‡Œé¢çš„é¢æ˜¯é¸¡è›‹é¢ï¼Œç±»ä¼¼æ–¹ä¾¿é¢ï¼Œä½†æ˜¯æ¯”æ–¹ä¾¿é¢ç¡¬ï¼Œä¸ªäººè§‰å¾—å‘³é“ä¸€èˆ¬ã€‚\nè´µé˜³åŸå¸‚å»ºè®¾è¿˜å¯ä»¥ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒæ–°ï¼Œå¹¶ä¸åƒåŒ—æ–¹è®¸å¤šåŸå¸‚é‚£ä¹ˆç°åœŸåœŸçš„ï¼Œè´µé˜³åœ°é“æ¯”è¾ƒå°‘ï¼Œå…¬äº¤çº¿è·¯ä¹Ÿä¸ç®—å‘è¾¾ï¼Œæ‰€ä»¥è¿™æ¬¡å‡ºè¡Œä»¥æ‰“è½¦ä¸ºä¸»ï¼Œå¥½åœ¨å‡ºç§Ÿè½¦ä»·æ ¼ä¸è´µã€‚\nä¸‹åˆä¹˜åé«˜é“ç¦»å¼€è´µé˜³ï¼Œç»è¿‡ä¸¤ä¸ªå¤šå°æ—¶åˆ°è¾¾é‡åº†ï¼Œä½åœ¨ä¸€å·çº¿ä¸¤è·¯å£åœ°é“ç«™é™„è¿‘ï¼Œé…’åº—ä½äºé‡åº†æœ‰åçš„çš‡å† å¤§æ‰¶æ¢¯é™„è¿‘ï¼Œéœ€è¦åæ‰¶æ¢¯ä¸‹å»ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡åé‚£ä¹ˆé•¿çš„æ‰¶æ¢¯ï¼Œæœç„¶ä¸æ„§æ˜¯å±±åŸå’Œé­”å¹»8DåŸå¸‚ã€‚åˆ°äº†é…’åº—æ”¾ä¸‹è¡Œæå°±å»æ‰¾åƒçš„ï¼Œæ‰¾äº†é™„è¿‘ä¸€å®¶å°é¢åº—ï¼Œåœ°å›¾è·ç¦»åªæœ‰å‡ ç™¾ç±³ï¼Œæ²¡æƒ³åˆ°è¦çˆ¬å¡ï¼Œç»è¿‡èœ¿èœ’è€Œä¸Šçš„å…¬è·¯ï¼Œåˆçˆ¬äº†ä¸€æ®µå°é˜¶ï¼Œæ‰æ‰¾åˆ°å°åº—ï¼Œç‚¹äº†ä¸€ç¢—è±Œæ‚é¢ï¼Œå‘³é“å¾ˆå¥½ï¼Œæ–™å¾ˆè¶³ï¼Œæœ‰è‚‰é…±ï¼Œç©ºå¿ƒèœï¼Œ12 å—ä¸€ä»½ï¼Œè¯´å®è¯ç§’æ€æ·±åœ³ 18 å—çš„è±Œæ‚é¢ã€‚\næ™šä¸Šå»æœå¤©é—¨ç å¤´å’Œæ´ªå´–æ´é€›äº†ä¸€åœˆï¼Œæœå¤©é—¨ç å¤´æ­£åœ¨æ•´ä¿®ï¼Œæ²¡æœ‰è¿›å»ï¼Œé™„è¿‘å°±æ˜¯ 19 å¹´å¼€ä¸šçš„æ¥ç¦å£«å¹¿åœºå…«æ ‹æ¥¼ï¼Œå®Œå…¨æŒ¡ä½äº†åé¢çš„å»ºç­‘ã€‚ã€‚æ´ªå´–æ´è·ç¦»æœå¤©é—¨ç å¤´ç›¸å½“è¿‘ï¼Œæ­¥è¡Œå‡ ç™¾ç±³å³å¯åˆ°è¾¾ï¼Œåœ¨ç¯å…‰è£…é¥°ä¸‹ï¼Œæ˜¾å¾—é‡‘ç¢§è¾‰ç…Œï¼Œä¸€è·¯ä¸Šæœ‰è®¸å¤šæ‹ç…§çš„ç¾å¥³ï¼Œå¹´è½»äººå±…å¤šã€‚\nç¬¬äºŒå¤©ä¸Šåˆå»é€›äº†è§£æ”¾ç¢‘ï¼Œåœ¨å…«ä¸€å¥½åƒè¡—åˆåƒäº†ä¸€äº›å°åƒï¼Œæå‰ä¹Ÿåšäº†ä¸€äº›åŠŸè¯¾ï¼Œç‚¹äº†\u0026quot;é™é¾™çˆªçˆª\u0026quot;é‡Œé¢çš„å†¬é˜´åŠŸå‘³é¸¡çˆªï¼Œéå¸¸è½¯ç³¯ï¼Œè¿˜ç‚¹äº†é¸³é¸¯åŒ…å­(é…±è‚‰å‘³)ï¼Œä¹Ÿä¸é”™ã€‚å°å¼ è¿˜ä¹°äº†çƒ¤è‹•çš®åŠ é‡Œè„Š(å…¶å®å°±æ˜¯çº¢è–¯ç²‰)ï¼Œåƒèµ·æ¥æœ‰ç‚¹ç¡¬ï¼Œå‘³é“å¾ˆä¸€èˆ¬ã€‚ä¹°äº†ä¸€ä»½é…’é…¿å†°ç²‰ï¼Œ12 ä¸€ä»½ï¼Œé‡Œé¢åŠ äº†çº¢æ£å¹²ï¼Œè‘¡è„å¹²ï¼Œç³ç²‘ï¼Œå‘³é“ä¸é”™ï¼Œæ¯”åœ¨ç«é”…åº—åƒçš„æ­£å®—è®¸å¤šã€‚\nday3 ä¸Šåˆï¼Œå»åƒäº†\u0026ldquo;å´è®°è±†èŠ±é¢\u0026rdquo;ï¼Œè±†èŠ±è¦†ç›–åœ¨é¢ä¸Šï¼Œæµ‡ä¸Šè‚‰é…±ï¼Œå‘³é“éå¸¸å¥½ è™½ç„¶è¾£æ¤’æ²¹å¾ˆå¤šï¼Œä½†æ˜¯ä¸»è¦æ˜¯é¦™ï¼Œå¹¶ä¸å¾ˆè¾£ã€‚åƒç¢—é¢ï¼Œå»å—å²¸åé•¿æ±Ÿç´¢é“ï¼Œä¹‹æ‰€ä»¥åœ¨å—å²¸åæ˜¯å› ä¸ºå—å²¸äººå°‘ï¼Œæ¸¸å®¢ä»¬æ™®éåœ¨åŒ—å²¸å°ä»€å­—æ’é˜Ÿã€‚åå®Œç¼†è½¦ï¼Œåˆ°äº†åŒ—å²¸å°ä»€å­—ï¼Œåˆå»è§£æ”¾ç¢‘é€›äº†ä¸€åœˆã€‚åœ¨è·¯ä¸Šé‡åˆ°äº†ä¸€ä¸ªæ‹…ç€æ‹…å­ï¼Œå–ä¸€ç§çº¢æœæœçš„é˜¿å§¨ï¼Œé‚£æœå­é¢œè‰²çº¢çš„ä¸å¤ªæ­£å¸¸ï¼Œé—®å¥¹ï¼Œå¥¹è¯´æ˜¯ä»æ ‘ä¸Šç»“çš„ï¼Œå°å¼ ä¹°äº†ä¸€ç‚¹ï¼Œç»“æœä¸€å°å‘ç°å…¶å®å°±æ˜¯ç›æ´¥æœå­ï¼Œåœ¨é‡åº†é‡åˆ°äº†ä¸¤ä¸ªå–è¿™ç§çº¢æœçš„éª—å­ã€‚ä¸‹åˆå»äº†æ±ŸåŒ—åŒºçš„è§‚éŸ³æ¡¥æ­¥è¡Œè¡—ï¼Œé€›äº†è§‚éŸ³æ¡¥å¥½åƒè¡—ï¼Œå°åƒè¡—åœ¨ä¸€ä¸ªå•†åœºçš„ä¸€æ¥¼ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå°æ¡£å£å–å°åƒï¼Œé‡Œé¢éå¸¸åµï¼Œäººå±±äººæµ·ï¼Œä¸å¤§å£°è¯´è¯æ ¹æœ¬å¬ä¸æ¸…ï¼Œä½“éªŒå¾ˆå·®ã€‚åœ¨é‡Œé¢åˆä¹°äº†ä¸€äº›å°åƒï¼Œå’Œå…«ä¸€å°åƒè¡—æ¯”è¾ƒç±»ä¼¼ã€‚\næ•´ä½“è€Œè¨€ï¼Œé‡åº†äº¤é€šæ–¹ä¾¿ï¼ˆåœ°é“çº¿è·¯å¤šï¼‰ï¼Œç¾é£Ÿä¹Ÿå¾ˆä¸é”™ï¼Œå€¼å¾—å†å»ä¸€æ¬¡ã€‚\n","date":"22 September 2021","externalUrl":null,"permalink":"/2021/09/22/chongqing_guiyang_travel/","section":"Posts","summary":"\u003cp\u003eè¶ç€ä¸­ç§‹èŠ‚å°é•¿å‡ï¼Œå»é‡åº†å’Œè´µé˜³ç©äº†å‡ å¤©ã€‚\u003c/p\u003e","title":"ä¸­ç§‹è´µé˜³é‡åº†è¡Œ","type":"posts"},{"content":" update log 2022-02-08: update fastgit URL I am using straight.el to manage my Emacs packages. However, due to GitHub access issues, the bootstrap snippet can not be downloaded successfully and run. After staring Emacs, it hangs forever with high CPU usage.\nHere is what is working for me. After following these steps, I can install packages without issue.\nGo to ~/.emacs.d, the directory varies based on your system1.\nClone the straight.el repo:\ngit clone https://github.com/raxod502/straight.el.git straight/repos/straight.el Change the git default url using the following command as per guide here.\ngit config --global url.\u0026#34;https://hub.fastgit.xyz/\u0026#34;.insteadOf \u0026#34;https://github.com/\u0026#34; git config protocol.https.allow always Remove the straight.el bootstrap snippet from init.el.\nRestart Emacs and just wait. All my packages are installed and built successfully.\nReferences # https://github.com/raxod502/straight.el/issues/665 https://github.com/raxod502/straight.el/issues/750 https://github.com/raxod502/straight.el/issues/842 https://github.com/raxod502/straight.el/issues/302 Check here for the actual path.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 September 2021","externalUrl":null,"permalink":"/2021/09/15/emacs_straight-el_bootstrap_install_issue/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-02-08: update fastgit URL\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eI am using \u003ca href=\"https://github.com/raxod502/straight.el\" target=\"_blank\"\u003estraight.el\u003c/a\u003e to manage my Emacs packages.\nHowever, due to GitHub access issues, the \u003ca href=\"https://github.com/raxod502/straight.el#getting-started\" target=\"_blank\"\u003ebootstrap snippet\u003c/a\u003e can not be downloaded successfully and run.\nAfter staring Emacs, it hangs forever with high CPU usage.\u003c/p\u003e","title":"Straight.el Bootstrap and Package Install Issue","type":"posts"},{"content":" update log 2021-11-24: Add more detailed instructions for installing doom-modeline.\nI have been using Neovim for over three years and I have been constantly hearing the greatness of its rival editor Emacs. So today I am gonna to try it and see if it is truly great.\nEdit: My final Emacs conf is here.\nInstall # Check here: https://www.gnu.org/software/emacs/download.html\nFor Windows, go to this mirror site, and download emacs-27.2-x86_64.zip and extract it.\nFor macOS, use homebrew to install Emacs-plus1:\nbrew tap d12frosted/emacs-plus brew install emacs-plus How to Run? # Windows: Go to extracted folder, run bin/runemacs.exe. macOS: Run emacs from command line or search Emacs.app and run it. Note to run emacs in maximized window, add following config to emacs config file:\n(add-to-list \u0026#39;initial-frame-alist \u0026#39;(fullscreen . maximized)) Ref:\nRun in maximized window: https://emacs.stackexchange.com/a/3017/23435 Config file # Emacs uses~/.emacs.d/init.el as its startup file (~/.config/emacs/init.el is also supported). Its configuration is written via a dialect of Lisp language called Emacs Lisp, or Elisp in short.\nTo check config file path, run C-H v user-init-file RET (RET is return key).\nReload config: note that it is not possible to entirely reload config, the best way is to restart your emacs. Open init.el, and run m-x eval-buffer.\nRef:\nhttps://www.gnu.org/software/emacs/manual/html_node/emacs/Find-Init.html https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html Show conf file path: https://stackoverflow.com/a/192097/6064933 Reload config without quit: https://stackoverflow.com/a/167719/6064933 Install packages # I am not a purist guy which only uses the built-in features of and editor and refuses to add plugins or packages.\nPackage is to Emacs what plugin is to Vim.\nThe built-in way # To install packages, run M-x package-install, we are prompted to type the package name we want to install. Type the package name, and the package shall be installed.\nSometimes, due to bad network connection, emacs hangs forever when trying to connect to its package repo, and we see the following message:\nContacting host: elpa.gnu.org:443\nIn this case, we can change the package repo URL (add it to init.el)\n;; this is just an example (setq package-archives \u0026#39;((\u0026#34;gnu\u0026#34; . \u0026#34;http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/\u0026#34;) (\u0026#34;melpa\u0026#34; . \u0026#34;http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/\u0026#34;))) One disadvantage of using built-in package management is that it can not install a package automatically if its hasn\u0026rsquo;t been installed. We need to write a few lines of code in config file.\nUsing 3rd party package manager # Aside from the built-in way to install packages, we can also use 3rd party package managers, for example, straight.el.\nTo install straight.el, just put the following script to init.el:\n(defvar bootstrap-version) (let ((bootstrap-file (expand-file-name \u0026#34;straight/repos/straight.el/bootstrap.el\u0026#34; user-emacs-directory)) (bootstrap-version 5)) (unless (file-exists-p bootstrap-file) (with-current-buffer (url-retrieve-synchronously \u0026#34;https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el\u0026#34; \u0026#39;silent \u0026#39;inhibit-cookies) (goto-char (point-max)) (eval-print-last-sexp))) (load bootstrap-file nil \u0026#39;nomessage)) To install a package, add the following statement to init.el:\n(straight-use-package \u0026#39;some-package) ;; for example, to install company-mode, use the following (straight-use-package \u0026#39;company) Straight.el will install a package if it has not been installed yet.\nColor, theme, modeline # We can surly customize the look of Emacs via handcraft, e.g., change background color and foreground color:\n(add-to-list \u0026#39;default-frame-alist \u0026#39;(foreground-color . \u0026#34;#E0DFDB\u0026#34;)) (add-to-list \u0026#39;default-frame-alist \u0026#39;(background-color . \u0026#34;#102372\u0026#34;)) More advanced way to customize color is to use or install a color theme. Emacs comes with several built-in themes.\nTo find good themes, MELPA is a good place to start. A good theme package is doom-themes. It comes with a lot of themes.\nTo load a theme, type A-x load-theme, and then type a theme name, for example, doom-one, or we can add to config:\n(load-theme \u0026#39;doom-gruvbox t nil) To show currently enabled themes, run c-h v and type custom-enabled-themes to check.\nFile editing # Delete a line: C-S-Backspace. Go to line beginning and end: C-a and c-e. Yank selected text and paste: M-w and c-y. Evil mode # I find the editing experience in Emacs highly inferior to that of Vim. So We can use emacs-evil:\n(straight-use-package \u0026#39;evil) ;; enable evil mode (evil-mode 1) There is in fact a built-in viper-mode for Emacs, but it is not complete as compared to evil.\nRef:\nDifference between viper, vimpulse, evil for emacs: https://stackoverflow.com/q/14291260/6064933 delete a line: https://stackoverflow.com/a/3958568/6064933 Emacs evil guide: https://github.com/noctuid/evil-guide Window and buffer # open a horizontal split: c-x 2 open a vertical split: c-x 3 close a buffer: c-x k close a window: c-x 0 open a file: c-x c-f create a new file: same as c-x c-f save a file: c-x c-s quit emacs: c-x c-c Open a buffer: c-x b To show config file path, run M-:, then type (buffer-file-name) to show config path. Ref:\nclose buffer: https://stackoverflow.com/q/207510/6064933 close a windows: https://stackoverflow.com/q/17961449/6064933 show file path: https://stackoverflow.com/a/17415557/6064933 Help system # c-h ? gives an overview of the help system.\nCheck the value of a variable: c-h v \u0026lt;variable-name\u0026gt; Check function doc: c-h f Check which command a key binds to: c-h c Ref:\nhttps://www.gnu.org/software/emacs/manual/html_node/eintr/See-variable-current-value.html https://nyk.ma/posts/emacs-intro/ Tab completion # Add the following to your emacs conf:\n(setq completion-cycle-threshold 1) Ref:\nhttps://emacs.stackexchange.com/a/17118/23435 UI # disable toolbar, menu bar, scrollbar # Toolbar, menu bar and scrollbar are ugly and take precious space. Let\u0026rsquo;s disable them all together:\n(menu-bar-mode -1) (toggle-scroll-bar -1) (tool-bar-mode -1) Ref:\nhttp://kb.mit.edu/confluence/display/istcontrib/Disabling+the+Emacs+menubar%2C+toolbar%2C+or+scrollbar Show line number and relative number # Like what vim does:\n(global-display-line-numbers-mode) (setq display-line-numbers-type \u0026#39;relative) Ref:\nhttps://stackoverflow.com/q/6874516/6064933 https://emacs.stackexchange.com/a/280/23435 https://emacs.stackexchange.com/q/45604/23435 Modeline # What we call statusline in Vim, they call it modeline in Emacs. IMO, they are very similar concepts. We can use doom-modeline to help use customize the modeline.\nFirst, we need to install some special icon that doom-modeline uses. We need to install package all-the-icons to install the fonts needed:\n(straight-use-package \u0026#39;all-the-icons) Run M-x all-the-icons-install-fonts to install the icon fonts.\nThen install doom-modeline:\n(straight-use-package \u0026#39;doom-modeline) Ref:\nhttps://stackoverflow.com/a/11419691/6064933 check current themes: https://superuser.com/a/320289/736190 Tabline # For Emacs 27, add the following setting to init.el:\n(global-tab-line-mode t) show trailing white space # Add following config:\n(setq-default show-trailing-whitespace t) Ref:\nhttps://stackoverflow.com/a/34589105/6064933\nAuto-completion # We can use package company to enable auto-completion for functions and options etc. Add the following setting to init.el:\n;; enable company mode in all buffers (add-hook \u0026#39;after-init-hook \u0026#39;global-company-mode) ;; use tab and s-tab to cycle forward and backward completion items (add-hook \u0026#39;after-init-hook \u0026#39;company-tng-mode) The company-tng-mode is used to make Tab and SHIFT-Tab to move forward and backward in the auto-completion menu, for more details see issue here and PR here.\nfuzzy search # If you have used Vim, you may be familiar with fzf.vim or LeaderF or telescope.nvim, depending which Vim distribution you are using. In Emacs, we can use ivy.\nHere is a minimal config:\n(straight-use-package \u0026#39;ivy) (straight-use-package \u0026#39;counsel) ;; enable ivy mode by default (ivy-mode 1) Then ivy will be automatically enabled when you open file/buffer or run commands. Note that the default fuzzy search behavior of ivy is different from that of LeaderF or fzf. For example, to search package-install in ivy, you can type pac ins, but not pacins, the space between is important.\nParentheses: highlight and insert # To highlight matching parentheses, add the following config:\n;; show matching parentheses (show-paren-mode t) ;; the style for matching parentheses (set-face-background \u0026#39;show-paren-match \u0026#34;#ff0000\u0026#34;) (set-face-attribute \u0026#39;show-paren-match nil :weight \u0026#39;bold :underline t :overline nil :slant \u0026#39;normal) To insert matching parentheses automatically, install package smartparens:\n(straight-use-package \u0026#39;smartparens) ;; enable smartparens mode (smartparens-global-mode t) To change, delete, add matching pairs easily, there is also evil-surround, mimicking the behavior of vim-surround by Tpope.\nRef:\nshow matching parentheses https://www.emacswiki.org/emacs/ShowParenMode https://emacs.stackexchange.com/q/47795/23435 Issues # custom-set-faces is added automatically to init.el # After installing packages, init.el is automatically updated and include custom-set-faces. We can use the following setting to disable this behavior:\n(setq custom-file (locate-user-emacs-file \u0026#34;custom.el\u0026#34;)) (load custom-file) Ref:\nhttps://stackoverflow.com/q/5052088/6064933 Change backup directory # By default, Emacs saves a backup file in the same directory as the current file, which pollutes the current working directory. We can move the backup directory to a centralized directory:\n;; change backup settings (setq backup-directory-alist \u0026#39;((\u0026#34;.\u0026#34; . \u0026#34;~/.cache/emacs-backups\u0026#34;))) Conclusion # After learning and trying Emacs for one day, I would say that Emacs is truly a great GUI editor which has some really cool features. For example, in Emacs, you can set different font style (size, bold, italic, font family etc.) to different texts in the same buffer, which org-mode used for beautiful type-setting inside Emacs2. You can also get the vscode-like experience via customize groups.\nHowever, when it comes to editting text and navigation, I think Vim/Nvim is still the king, the proof of which is apparent since we have got evil-mode in Emacs.\nReferences # https://github.com/emacs-tw/emacs-101-beginner-survival-guide awesome emacs: https://github.com/emacs-tw/awesome-emacs Emacs 101: https://github.com/emacs-tw/emacs-101-beginner-survival-guide Emacs for the rest of us: http://iqss.github.io/IQSS.emacs/ For macOS, there is emacs-mac.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSadly, I do not think any Nvim GUI can do this or come even close to org-mode.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"12 September 2021","externalUrl":null,"permalink":"/2021/09/12/learning_emacs_in_one_day/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cp\u003e\u003cfont color=\"blue\"\u003e2021-11-24: Add more detailed instructions for installing doom-modeline.\u003c/font\u003e\u003c/p\u003e\n\u003c/details\u003e\n\u003cp\u003eI have been using \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003e for over three\nyears and I have been constantly hearing the greatness of its rival editor\n\u003ca href=\"https://www.gnu.org/s/emacs/\" target=\"_blank\"\u003eEmacs\u003c/a\u003e. So today I am gonna to try it and see if\nit is truly great.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eEdit: My final Emacs conf is \u003ca href=\"https://github.com/jdhao/emacs-conf\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/strong\u003e\u003c/p\u003e","title":"Learning Emacs as A Nvimmer in One Day","type":"posts"},{"content":"If you are not accustomed to typing git commands on the command line, there are also some TUI clients for easing the use of git.\nlazygit # lazygit is a git tui client written in go. To install it on Linux:\nwget https://github.com/jesseduffield/lazygit/releases/download/v0.28.2/lazygit_0.28.2_Linux_x86_64.tar.gz mkdir -p $HOME/tools/lazygit tar --directory=$HOME/tools/lazygit -xvf lazygit_0.28.2_Linux_x86_64.tar.gz Add it to PATH:\nexport PATH=$HOME/tools/lazygit:$PATH Lazygit comes with rich features and extensive key bindings.\ngitui # gitui is a similar git tui written in rust, which boasts excellent performance against other git tui clients. Install it on Linux:\nwget https://github.com/extrawurst/gitui/releases/download/v0.16.2/gitui-linux-musl.tar.gz mkdir -p $HOME/local/bin tar --directory=$HOME/local/bin -xvf gitui-linux-musl.tar.gz export PATH=$HOME/loca/bin:$PATH gitui also has rich features. One issue to note is that it does not support using j and k to select next and previous item, which is a bit clusmy for Vim users like me.\ntig # tig is tiny tools written in C, which provides a git tui with basic features. We can install it from source:\nwget https://github.com/jonas/tig/releases/download/tig-2.5.4/tig-2.5.4.tar.gz tar xvf tig-2.5.4.tar.gz cd tig-2.5.4 ./configure --prefix=$HOME/local make -j 8 \u0026amp;\u0026amp; make install tig will be installed under $HOME/local/bin.\nTig is tiny and quite powerful and suitable for simple use cases.\n","date":"11 September 2021","externalUrl":null,"permalink":"/2021/09/11/git_tui_clients_hands_on/","section":"Posts","summary":"\u003cp\u003eIf you are not accustomed to typing git commands on the command line, there are\nalso some TUI clients for easing the use of git.\u003c/p\u003e","title":"Hands on with Three Git TUI Clients","type":"posts"},{"content":" In Neovim, we can use the virtual text feature to place virtual text anywhere in the current buffer, which is not possible with normal text.\nA bit of history # Initially, the Nvim core dev bfredl introduced nvim_buf_set_virtual_text() to add virtual text to a buffer in this PR.\nOver the time, the code is refactored and deprecated, in favor of the new API function nvim_buf_set_extmark()1.\nPlugins utilizing virtual text # Plugins have been using virtual text feature to do various things. Here is a non-exhaustive list:\nIndentBlankLine.nvim: Show indent guides even on blank lines. Previously, it is not possible to place text on blank lines. So there will be a gap in indent lines when there is a blank line, see this issue. nvim-cmp: show function signature using virtual text. nvim-hlslens: Show search count and index at EOL, an excellent alternative to vim-anzu and the likes. blamer.nvim: Show line blame messages at EOL2. Nvim-lspconfig: Show diagnostics as virtual text in the end of a line. virt-column.nvim: replace option colorcolumn using virtual text. virtual-type.nvim: show variable type using virtual text. Extmark-toy.nvim: Showing cool visual effects. Using extmarks # The nvim_buf_set_extmark() function has a lot of parameters, and some of them can be confusing for users due to the conciseness of its documentation.\nHere is a working example to demonstrate its usage:\nlocal api = vim.api local bnr = vim.fn.bufnr(\u0026#39;%\u0026#39;) local ns_id = api.nvim_create_namespace(\u0026#39;demo\u0026#39;) local line_num = 5 local col_num = 5 local opts = { end_line = 10, id = 1, virt_text = {{\u0026#34;demo\u0026#34;, \u0026#34;IncSearch\u0026#34;}}, virt_text_pos = \u0026#39;overlay\u0026#39;, -- virt_text_win_col = 20, } local mark_id = api.nvim_buf_set_extmark(bnr, ns_id, line_num, col_num, opts) In the above, line_num specifies which line we want to put the virtual text. col_num specifies which column we want to put virtual text (but this is actually only half true, since we can put virtual text at any position). col_num shouldn\u0026rsquo;t exceed the actual column number of the line indicated by line_num. Otherwise, we get the following error message:\nE5113: Error while calling lua chunk: test.lua:17: col value outside range\nIn the opts parameter, there are more options to change the behavior of this function. virt_text is a table of table, where each sub-table contains some text and the highlight group for it.\nThe option virt_text_pos has three possible values:\noverlay: overlay the virtual text on the column specified with col_num, this is actually the only case where col_num really works. eol: virtual text is placed at the end of the line (col_num does not take effect). right_align: virtual text is placed on the right of current line (col_num does not take effect). Check the title image for a comparison between the three position method.\nTo actually put virtual text on any column, we should use virt_text_win_col in the opts table. If we use virt_text_win_col, virt_text_pos does not take effect any more.\nTo delete a virtual text, use API function nvim_buf_del_extmark(bnr, ns_id, id), where id is the id used in opts.\nReferences # https://www.reddit.com/r/neovim/comments/lppnvn/indent_blankline_can_now_display_indent_guides_on/ In fact, extmark is more than virtual text, see :h api-extended-marks for the details.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAs of writing of this post, this plugin is still using the old API.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"9 September 2021","externalUrl":null,"permalink":"/2021/09/09/nvim_use_virtual_text/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202109150127349.png\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eIn Neovim, we can use the \u003ccode\u003evirtual text\u003c/code\u003e feature to place virtual text anywhere in the current buffer,\nwhich is not possible with normal text.\u003c/p\u003e","title":"Using Virtual Text in Neovim","type":"posts"},{"content":"æ€»ç»“ä¸€ä¸‹è€åŒ—äº¬ç‚¸é…±é¢çš„åˆ¶ä½œè¿‡ç¨‹ï¼Œå¤‡å¿˜ã€‚\nåŸæ–™ # äº”èŠ±è‚‰ï¼ˆè‚¥ç˜¦å‡åŒ€ï¼‰ å¹²é»„é…±ï¼ˆæ²¡æœ‰çš„è¯é»„è±†é…±ä¹Ÿå¯ï¼‰ï¼Œæå‰åŠ æ¸©æ°´æ³„å¥½ã€‚ å¤§æ–™ï¼Œå¤§è‘±ï¼Œå§œï¼Œå†°ç³– å•¤é…’ï¼Œæ–™é…’ é¢æ¡ï¼ˆè¦åŠ²é“ä¸€äº›çš„ï¼Œå¦åˆ™ç…®é¢ä»¥åé¢å®¹æ˜“ç²˜è¿ï¼‰ é»„ç“œï¼Œè±†èŠ½ï¼Œé’èœï¼ˆé’èœæ²¡æœ‰é™åˆ¶ï¼Œè‡ªå·±å–œæ¬¢çš„å‡å¯ï¼‰ åˆ¶ä½œæ­¥éª¤ # 1ã€äº”èŠ±è‚‰å»çš®ï¼Œåˆ‡æˆå†°ç³–å¤§å°çš„å‡åŒ€å°å—ï¼ŒåŠ å…¥ä¸€ç‚¹æ·€ç²‰æ‹ŒåŒ€ã€‚\n2ã€çƒ­é”…å†·æ²¹ï¼Œå¾…æ²¹çƒ§çƒ­ï¼ŒåŠ å…¥éƒ¨åˆ†çš„åˆ‡å¥½çš„å¤§è‘±ï¼Œä¸€ç‚¹å¤§æ–™ï¼Œç¨å¾®ç‚’åˆ¶ã€‚\n3ã€åŠ å…¥åˆ‡å¥½çš„äº”èŠ±è‚‰ï¼Œç¿»ç‚’ï¼ŒæŠŠè‚¥è‚‰çš„æ²¹ç‚’å‡ºæ¥ï¼ŒåŠ å…¥åˆ‡å¥½çš„å§œæœ«å’Œæ–™é…’ï¼Œå†ç¿»ç‚’ä¸€ä¼šï¼ŒæœŸé—´è¿˜å¯ä»¥åŠ å…¥ä¸€äº›å†°ç³–ï¼ˆå†°ç³–ä¼šè®©è‚‰é¢œè‰²å‘äº®ï¼‰ã€‚\n4ã€åˆ†ä¸¤ä¸‰æ¬¡åŠ å…¥æ³„å¥½çš„å¹²é»„é…±ï¼Œç„¶åä¸­å°ç«ä¸æ–­ç¿»ç‚’ï¼Œå°å¿ƒç³Šé”…ã€‚\n5ã€ä¸€ç‚¹ä¸€ç‚¹åŠ å…¥å•¤é…’ï¼Œè®°å¾—ä¸æ–­ç¿»ç‚’ï¼ŒæŒç»­åå‡ åˆ†é’Ÿã€‚\n6ã€å°ç«ç„–ä¸€ä¸‹è‚‰ï¼Œç«ä¸èƒ½å¤§ï¼Œå¦åˆ™ä¼šç³Šã€‚å¼€ç›–ï¼ŒåŠ å…¥å‰©ä¸‹çš„å¤§è‘±ï¼Œç»§ç»­ç¿»ç‚’ï¼Œç«ç¨å¾®å¤§ä¸€äº›æ”¶æ±ã€‚\nåšå¥½çš„ç‚¸é…±åº”è¯¥æ˜¯è‚‰é…±å’Œæ²¹åˆ†ç¦»çš„ã€‚\nç…®é¢æ¡ # ä¸‹é¢å°±æ˜¯ç…®é¢æ¡ï¼Œç…®é’èœï¼Œé»„ç“œåˆ‡ä¸ã€‚é¢ç…®å¥½ä»¥åï¼Œæå‡ºè¿‡å‡‰æ°´ï¼Œç„¶ååŠ å…¥ç‚¸é…±ï¼Œé’èœï¼Œé»„ç“œä¸ï¼Œæ‹ŒåŒ€å³å¯é£Ÿç”¨ï¼Œå–œæ¬¢åƒè’œçš„ï¼Œä¸€å®šè¦æ¥ä¸€ç“£å¤§è’œï¼Œé…åˆç‚¸é…±é¢åƒæ˜¯ä¸€ç»ã€‚\nä¹‹å‰åœ¨å¾®åšä¸Šå…³æ³¨çš„@éº»é»‘æµ®äº‘ éº»å”å†™è¿‡å¾ˆå¤šç¾é£Ÿçš„åˆ¶ä½œæ–¹æ³•ï¼Œä¸è¿‡åé¢é€€å‡ºå¾®åšäº†ï¼Œå¾ˆå¤šèœå•ä¹Ÿä¸¢å¤±äº†ã€‚ä»–ä¹Ÿå†™è¿‡ç‚¸é…±é¢çš„åˆ¶ä½œæµç¨‹ï¼Œæˆ‘ä¿ç•™äº†ä¸‹æ¥ï¼Œæ‘˜å½•å¦‚ä¸‹ï¼ˆç‰ˆæƒå±äºéº»å”ï¼‰ï¼š\nç‚¸é…±é¢æ˜¯åŒ—äº¬çš„åœŸåƒï¼ŒåŒ—äº¬èœæœ¬è´¨ä¸Šå°±æ˜¯å¤šåŠå±±ä¸œèœåŠ å°‘åŠå›æ°‘èœã€‚è‘±ï¼Œä¸€å®šè¦ç”¨å±±ä¸œå¯¿å…‰å¤§è‘±ï¼Œè’œä¹Ÿè¦ç”¨å±±ä¸œå¤§è’œã€‚å±±ä¸œåŸ¹åœŸçš„å¤§è‘±çš®è€èŠ¯å«©ï¼Œè¾£ä¸­ç”œï¼Œè¿‡æ²¹è‘±é¦™åè¶³ã€‚æ²¹ç”¨èŠ±ç”Ÿæ²¹ï¼Œä¹Ÿæ˜¯å±±ä¸œèŠ±ç”Ÿæ¦¨çš„ï¼Œé²èŠ±ä»€ä¹ˆçš„ã€‚è‚‰æœ€å¥½å°±æ˜¯ç»†äº”èŠ±ï¼Œè¿‡å»ç©·è®²ç©¶çš„äººåƒç‚¸é…±é¢ä¸“é—¨ä¹°è¿™ç§äº”èŠ±ï¼Œä¸ºä»€ä¹ˆ?å› ä¸ºè¿™ç§è‚‰åˆ‡å®Œäº†è‚¥ç˜¦å‡åŒ€å‡ºç°ï¼Œè‚‰å—åˆ‡çš„è¦å¤§äº›ï¼ŒåŒ—äº¬äººåƒç‚¸é…±é¢ä¿—ç§°å°ç‚–è‚‰ï¼ŒåŸºæœ¬ä¸Šè¦å¤ªå¦ƒç³–é‚£ä¹ˆå¤§çš„å—ï¼Œè¿™æ ·å¦‚æœæ˜¯ç»†äº”èŠ±è‚‰ï¼Œè‚¥ç˜¦éƒ½å‡åŒ€ï¼Œä¸ä¼šå‡ºç°ä¸€å—è‚‰ä¸Šä¸€åŠè‚¥ä¸€åŠç˜¦æˆ–è€…å¹²è„†ä¸€æ•´å—è‚¥è‚‰çš„åœºé¢ï¼Œä¸è®²ç©¶ã€‚é…±åæ­£å°±ç”¨å…­å¿…å±…çš„å¹²é»„é…±ï¼Œæ¸©æ°´æ³„å¼€ï¼Œè¦æ³„ä¸€å¤§ç¢—é‚£ä¹ˆå¤šã€‚ä¸€é¢—å¤§æ–™ä¸Šæ°ä¸‹æ¥ä¸€è§’ï¼Œå¤§æ–™å‘³å¤§å¤šäº†å¤ºå‘³ã€‚è‚‰å’Œå¹²é…±å·®ä¸å¤š6:4çš„æ¯”ä¾‹ï¼Œè‘±å¤šåˆ‡ã€‚\nè‚‰åˆ‡å¥½ç ä¸€ç‚¹ç”Ÿç²‰ï¼Œç„¶åå€’å•¤é…’è¦å€’çš„æ¯”è¾ƒå¤šï¼Œæ²¡è¿‡è‚‰ï¼Œä¸€å»è…¥äºŒæ´—è¡€æ°´ï¼Œæ³¡äº”åˆ†é’Ÿï¼ŒæŠŠå•¤é…’å€’æ‰ã€‚è¿™æ—¶å€™é”…ä¸Šæ²¹ï¼Œæ²¹è¦æ¯”å¹³æ—¶ç‚’èœå¤šä¸€å€ï¼Œå› ä¸ºæ²¹è¿˜ä¼šç‚¸å‡ºæ¥ï¼Œä¸ä¼šåƒè¿›å»ï¼Œå¤šæ”¾æ˜¯ç‚¸é…±çš„è¦æ±‚ã€‚çƒ­é”…å‡‰æ²¹ï¼Œä¸‹ä¸€å¤šåŠè‘±ã€‚ä¾¯å®æ—çš„ç‚¸é…±é¢å…ˆä¸‹è‚‰ï¼Œåæ”¾è‘±ï¼Œå› ä¸ºæ€•æ²¹çƒ­åšçš„æ—¶é—´é•¿è‘±å‘³æ²¡äº†ï¼Œå«å€’å‘›é”…ã€‚æˆ‘ä¸ªäººå–œæ¬¢å‰ååŒå‘›é”…æ‰€ä»¥å…ˆä¸‹ä¸€å¤šåŠè‘±ï¼Œä¸è¦åˆ‡å¤ªç¢äº†ï¼Œç‚¸é…±é‡Œé¢å¤§æ¡çš„è‘±å¾ˆé¦™ï¼Œå¤§ç«è‘±å¾®å˜è‰²åŠ å¤§æ–™ä¸€è§’ï¼Œç„¶åå€’è‚‰ï¼Œè‚‰å˜è‰²å€’æ–™é…’ï¼Œç‚ŠçƒŸè¢…è¢…é‚£ä¸ªç‚ŠçƒŸå…¶å®å°±æ˜¯æ–™é…’å‘›é”…çš„å‘³é“ï¼Œæˆ‘ä¸“é—¨è€ƒè¯è¿‡ï¼Œè¿™ä¸ªä¼ ç»Ÿå¥½åƒå®‹æœå°±æœ‰äº†ï¼Œä¸è¿‡é‚£æ—¶é…’å¾ˆè´µï¼Œç”¨é…’å‘›é”…çš„éƒ½æ˜¯æœ‰é’±äººã€‚ç„¶åä¸‹æ³„çš„å¾ˆç¨€çš„é»„é…±ï¼Œæ‹ŒåŒ€ï¼Œæ­£å¼å¼€å§‹å°ç‚–è‚‰ï¼Œè¿™æ—¶å€™è®²ç©¶çš„äººä¼šæŠŠå¤§æ–™æŒ‘å‡ºæ¥æ‰”äº†ï¼Œå®ƒçš„ä»»åŠ¡å·²ç»å®Œæˆï¼Œä½†æ˜¯å¦‚æœç•™åœ¨é”…é‡Œåƒçš„æ—¶å€™åˆ†ä¸æ¸…è°ä¸€ä¸ç•™ç¥åƒè¿›å»ï¼Œå¤ºå‘³ï¼Œæ‰«å…´ï¼Œå¿…ç„¶ä¸ç¬¦åˆç©·è®²ç©¶çš„è¦æ±‚ã€‚æˆ‘ä¸€èˆ¬éƒ½æ‰”äº†å®ƒè¿™æ—¶å€™ã€‚åŒæ—¶åŠ å†°ç³–ï¼Œå†°ç³–ç‚’å‡ºæ¥ä¸œè¥¿äº®ï¼Œè¿™æ—¶å€™è¦ç”¨æœ¨é“²å­ä¸æ–­ç¿»ç‚’ï¼Œé…±å¾ˆå®¹æ˜“ç‚’ç³Šäº†ï¼Œç„¶åè¿™æ—¶å€™è¦ç‚’å‡ºæ²¹æ¥çš„è¦ç‚¹å°±æ˜¯ä¸­å°ç«ä¸æ–­ç”¨å‹ºåŠ æ°´ï¼Œç‚’ä¸€åˆ†é’ŸåŠ ä¸€ç‚¹ï¼Œæ€»ä½“ç§¯ä¸å˜ï¼Œè¿˜æ˜¯å¾ˆç¨€ï¼Œè¿™æ˜¯ç‚–è‚‰å‘¢ï¼Œè‚‰å‘³è¦ç‚–å‡ºæ¥æ‰è¡Œã€‚è¿™æ ·è‡³å°‘10åˆ†é’Ÿï¼Œå› æ­¤è¦ä¸æ–­åŠ æ°´ï¼Œå¦åˆ™å¹²é”…ã€‚æˆ‘ä¸€èˆ¬éƒ½åŠ é’å²›å•¤é…’ï¼Œä¸€å¬åŠ å®Œï¼Œç„¶åæ‰å¼€å§‹æ”¶æ±ï¼Œå¼€å§‹ä¸­ç«ä¸æ–­ç¿»åŠ¨ï¼Œç„¶åæ”¹å°ç«ï¼Œè¿™æ—¶å€™ä¹Ÿè¦ä¸æ–­ç¿»åŠ¨ï¼Œè¿™æ—¶å€™å°±ç†¬å‡ºæ²¹æ¥äº†ï¼Œç‚¹ç¯ç†¬æ²¹ä¸€æ ·ï¼Œä¸è¿‡é‚£æ˜¯ç†¬çš„å¤§æ²¹è¿™æ˜¯æŠŠä¹‹å‰åŠ çš„èŠ±ç”Ÿæ²¹ç†¬å‡ºæ¥ï¼Œè¿™æ—¶æ‹¿ä¸€ç­·å­æ‰ä¸‹å»ï¼Œç­·å­ä¸Šé…±é¡ºç€æ²¹éƒ½æµä¸‹å»çš„æ—¶å€™å°±å·®ä¸å¤šäº†ï¼ŒåŠ å‰©ä¸‹çš„è‘±èŠ±ï¼Œå¯ä»¥æŒ¤ä¸€ç‚¹ç ”ç£¨é»‘èƒ¡æ¤’ï¼Œå†æ”¶ä¸€æ”¶ï¼Œä¸è¦ç³Šé”…ï¼Œç„¶åå‡ºé”…ï¼Œå€’ç¢—é‡Œï¼Œä¸€ä¼šæ²¹å°±æå‡ºæ¥ä¸€å±‚å°åœ¨é…±ä¸Šï¼Œè¿™å°±æ˜¯å°ç¢—å¹²ç‚¸çš„æ•ˆæœã€‚\né¢ç çœ‹ä¸ªäººå¿ƒæƒ…ï¼Œä¸€èˆ¬å¾…å®¢åæ­£é¢ç è¶Šå¤šè¶Šéš†é‡ï¼Œè¿™ä¹Ÿæ˜¯ç©·è®²ç©¶çš„åœ°æ–¹ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½å–œæ¬¢è±†èŠ½èœå’Œé’è±†è¿˜æœ‰è·å…°è±†è¿˜æœ‰å«©èŠ¹èœå¶ç­‰ã€‚é¢è¦æ‰‹æ“€é¢ï¼Œç¢±å¤§ä¸€äº›çš„ï¼Œç…®å®Œäº†åŠ²é“ï¼Œè€Œä¸”è†¨èƒ€ç‡é«˜ï¼Œè†¨èƒ€ç‡é«˜ä¸ä»…ä»…æ˜¯å£æ„Ÿå¥½ï¼Œè€Œä¸”è¿˜ä¼šæœ‰ä¸€ç§å¼¯å¼¯æ›²æ›²çš„å½¢çŠ¶ï¼Œä¸è±¡åˆ‡é¢æ˜¯çš„ï¼Œåˆ‡é¢ç…®å®Œè·Ÿä¸€æŠŠé‡‘é’ˆè‡æ˜¯çš„ï¼Œä¸è®²ç©¶ã€‚è¿™ä¸ªæ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºå¼¯å¼¯æ›²æ›²çš„æ‰‹æ“€é¢æ¯”è¾ƒçªé…±ï¼Œå°±æ˜¯èƒ½è®©é¢å’Œé…±è¿˜æœ‰é¢ç æ··åˆçš„æ¯”è¾ƒå‡åŒ€ï¼Œå¦‚æœæ˜¯åˆ‡é¢ï¼Œé¢æŒ¨ç€é¢ï¼Œä¸€å¨è¿‡æ°´çƒ‚çƒ™é¥¼æ˜¯çš„ï¼Œä¸å¥½ã€‚æœ€åè¿˜æœ‰å¤§è’œé»„ç“œï¼Œæœ‰ç‚¹è¾£æ¤’æ²¹æ›´å¥½ã€‚åƒå®Œæ¯”è¾ƒå’¸ï¼Œåƒç‚¹è±Œè±†é»„å‹ä¸€å‹ã€‚ç„¶åå†åƒæ ¹é»„ç“œï¼Œè¿™æ‰ç®—å®Œäº‹ã€‚\n","date":"5 September 2021","externalUrl":null,"permalink":"/2021/09/05/how_to_make_zhajiang_noodles/","section":"Posts","summary":"\u003cp\u003eæ€»ç»“ä¸€ä¸‹è€åŒ—äº¬ç‚¸é…±é¢çš„åˆ¶ä½œè¿‡ç¨‹ï¼Œå¤‡å¿˜ã€‚\u003c/p\u003e","title":"è€åŒ—äº¬ç‚¸é…±é¢åˆ¶ä½œ","type":"posts"},{"content":"I want to print the largest number that unsigned int can represent, which is 2^32 - 1. I use the following code:\nunsigned int n = 2147483647 + 1 + 2147483647; std::cout \u0026lt;\u0026lt; n \u0026lt;\u0026lt; std::endl; However, I get an overflow warning from clangd:\noverflow in expression; result is -2147483648 with type \u0026lsquo;int\u0026rsquo;\nAccording to post here, the expression 2147483647 + 1 overflows because both number are treated as int type. The compiler will choose from int, long, long long in that order to find if a type can fit the number. The maximum positive integer an int type can represent is 2147483647. So the type chosen for 2147483647 is int, not long or long long. Thus we get the overflow warning when we add 1 to it. If you use 2147483648 directly, the compiler will choose long type for this number, which will also not overflow.\nThe variable type on the left side of the assignment does not impact the choose integer type for the variable on the right side. It only decides whether type conversion will happen when assigning the result to this variable. In this case, although we want to the assign the final result to an unsigned int type, 2147483647 is not converted to unsigned int automatically.\nTo fix issue, we can explicitly tell the compiler that we want an unsigned int instead of int:\nunsigned int n = (unsigned int)2147483647 + 1 + 2147483647; // or use the following unsigned int n = 2147483647u + 1 + 2147483647; By converting one number to unsigned int, the other number will also be elevated to unsigned int and no overflow occurs in this case.\nReferences # C++ literal integer type: https://stackoverflow.com/q/42892227/6064933 Integer literal: https://en.cppreference.com/w/cpp/language/integer_literal http://www.c-faq.com/expr/intoverflow1.html ","date":"3 September 2021","externalUrl":null,"permalink":"/2021/09/03/cpp_integer_overflow/","section":"Posts","summary":"\u003cp\u003eI want to print the largest number that \u003ccode\u003eunsigned int\u003c/code\u003e can represent, which is\n\u003ccode\u003e2^32 - 1\u003c/code\u003e. I use the following code:\u003c/p\u003e","title":"Integer Literal Type and Overflow In C++","type":"posts"},{"content":"GNU Make is a build automation tool typically used on Linux systems1. Below I will summarize a list of FAQs, which explain how Make works and how to use Make.\nGeneral questions # Why do we need Make? # Suppose that we want to build an executable or a library with multiple source and header files. To build it, we often need to run quite a few commands. During the development cycle, we need to repeatedly run these commands to build the project. Of course we can do it manually, but it would be time-consuming and error-prone.\nWith Make, we can run repeating build tasks easily without having to type the build commands manually.\nHow is Make different from CMake? # Make is build tool that uses Makefile to build a project. CMake is a meta-build tools, in that it can produce a Makefile or other build files such as build.ninja for Ninja.\nWhat name should we use for Makefile? # Make usually looks for makefile or Makefile in the current directory. The convention is to use Makefile. However, makefile also works fine.\nWhat is a target, recipe? # A rule is a bunch of commands we want to run together to build a target, e.g., building a certain object file. The format is like:\nTarget_name: dependency # \u0026lt;--\u0026gt; indicates a TAB character. \u0026lt;--\u0026gt;command1 \u0026lt;--\u0026gt;command2 ... These commands are called recipe for this target. Each command must start with a TAB, though it can be changed in newer versions of make.\nA target is the result of executing the rule.\nHow does make work generally? # Make is smart. It will not blindly build all the target each time you run it. Since each target may have some dependencies, and each dependency in turn will have their own dependencies. In the end, when we make a target, there is a dependency tree. If you change a source file, make will only compile its parent target and other targets that depend on its parent target recursively. Specifically, make will check the last-modify time of a target\u0026rsquo;s dependency, if the time stamp is newer than the target itself, it means that this target should be rebuilt to make it up-to-date.\nIn summary, make is smart enough to only build a target that needs to be rebuilt, reducing compilation time significantly.\nRef:\nhttps://stackoverflow.com/q/22630756/6064933 What is the default target for Make? # When we simply type make, it can build some target. By default, if we do not specify the target to build, make will pick the first target that does not start with . in its name. So we may use a default target (the name does not really matter) as the first target, to do the default action if the user does not specify one.\nRef:\nhttps://stackoverflow.com/q/2057689/6064933 Usage question # Difference between @echo and echo # By default, make will print a command before executing it. Adding @ before a command will suppress its printing before execution.\nRef:\nhttps://www.gnu.org/software/make/manual/html_node/Echoing.html https://stackoverflow.com/a/29576870/6064933 Difference between := and = for assignment? # Variables defined using := get its value when it is defined. Variables defined using = get its value when it is used. There is a risk that the variable value may change if it depends on the value of other variables.\nRef:\nhttps://www.gnu.org/software/make/manual/html_node/Flavors.html#Flavors https://stackoverflow.com/q/4879592/6064933 https://stackoverflow.com/q/448910/6064933 What is a .PHONY target and why is it needed? # PHONY target is a target that does not produce a file. Typically, a target name is the corresponding file to generate. However, for certain target, we only want to run some command and do not want to generate a target of the same name.\nIf you do not mark the target as phony, make will first check if there is file of the same name that has been updated. If there is a file of the same name that has been updated, make will not build that target, which is not what we want.\nFor example, if you have the following Makefile:\nfoo: @echo \u0026#34;hello, this is target foo\u0026#34; If there is a file named foo in the directory, when you run make foo, you get the following message:\nmake: \u0026#39;foo\u0026#39; is up to date So we mark this target as phony (i.e., we do not want to generate file foo):\n.PHONY: target_name By doing this, we make sure that this target will always be build, ignoring a file with the same name. Another example of phony target is the clean target, where we want to remove the generated executable and object files:\n.PHONY: clean clean: rm *.o main Ref:\nPurpose of .PHONY in Makefile: https://stackoverflow.com/q/2145590/6064933 Special variables used in Makefile # We can use special variable to simplify the writing of Makefile:\n$@: the target name $\u0026lt;: the first dependency $^: all the dependencies main: foo.o bar.o g++ -o main foo.o bar.o In the above example, $@ would be main. $\u0026lt; would be foo.o and $^ would be foo.o bar.o.\nRef:\nhttps://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html#Automatic-Variables Assign command output to a variable # Sometimes, we want to assign the output of some command to a variable. We can use the shell builtin to get the shell command output:\nVIM_PATH := $(shell which vim) Ref:\nhttps://stackoverflow.com/q/2019989/6064933 References # https://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/ (finished) https://web.mit.edu/gnu/doc/html/make_3.html https://makefiletutorial.com/ https://www.cs.swarthmore.edu/~newhall/unixhelp/howto_makefiles.html https://www.ruanyifeng.com/blog/2015/02/make.html https://github.com/edhowland/Exploring_make_and_Makefiles https://github.com/unix-tools/tutorial-makefiles https://github.com/weetmuts/MakeTutorial https://github.com/vampy/Makefile Technically, Make can also be used on Windows, see here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 August 2021","externalUrl":null,"permalink":"/2021/08/29/gnu_make_learn_and_faq/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://www.gnu.org/software/make/\" target=\"_blank\"\u003eGNU Make\u003c/a\u003e is a \u003ca href=\"https://en.wikipedia.org/wiki/Build_automation\" target=\"_blank\"\u003ebuild\u003c/a\u003e \u003ca href=\"https://en.wikipedia.org/wiki/List_of_build_automation_software\" target=\"_blank\"\u003eautomation\u003c/a\u003e tool typically used on Linux systems\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\nBelow I will summarize a list of FAQs, which explain how Make works and how to use Make.\u003c/p\u003e","title":"GNU Make FAQ","type":"posts"},{"content":"ä¸€ä»¶å…³äºæ€ç»´çš„å°äº‹ï¼Œå€¼å¾—è®°å½•ã€‚\nåœ¨ Vim ä¸­æ–‡ç¾¤ è®¨è®ºï¼Œå‘ç°è‡ªå·±æŸä¸ªå›å¤æœ‰é—®é¢˜ï¼Œæƒ³è¦åˆ’æ‰åŸæ¥çš„å›ç­”ã€‚æˆ‘è®°å¾— telegram æ˜¯æ”¯æŒç®€å• Markdown è¯­æ³•çš„ï¼Œä¹Ÿçœ‹åˆ°æœ‰ç”¨æˆ·ä½¿ç”¨è¿‡ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œç¡®å®æ˜¯æ”¯æŒçš„1ã€‚ä¸è¿‡å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘é‡æ–°ç¼–è¾‘äº†é‚£æ¡å›å¤ï¼Œæƒ³ç”¨ ~~ æ¥ç”Ÿæˆåˆ æ‰çš„æ–‡å­—æ•ˆæœï¼Œç»“æœå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼š~~ ç›´æ¥è¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œformat å¤±è´¥ã€‚æˆ‘è¯•ç€åœ¨ä¸€æ¡æ–°çš„æ¶ˆæ¯ï¼ˆä¸æ˜¯å›å¤åˆ«äººçš„æ¶ˆæ¯ï¼‰é‡Œé¢ä½¿ç”¨åŒæ ·çš„è¯­æ³•ï¼Œç»“æœç”Ÿæ•ˆäº†ã€‚äºæ˜¯æˆ‘å¾ˆè‰ç‡çš„å¾—å‡ºäº†ä¸€ä¸ªé”™è¯¯çš„ç»“è®ºï¼šå›å¤åˆ«äººæ¶ˆæ¯çš„æ—¶å€™ï¼Œä¸èƒ½ä½¿ç”¨ Markdown çš„åˆ é™¤æ–‡å­—è¯­æ³•ï¼Œå•ç‹¬çš„ä¸€æ¡æ¶ˆæ¯é‡Œé¢æ‰èƒ½ç”Ÿæ•ˆã€‚\nåé¢æœ‰äººæŒ‡å‡ºï¼Œ~~ ä¹‹æ‰€ä»¥åœ¨å›å¤æ¶ˆæ¯é‡Œé¢æ²¡æœ‰ç”Ÿæ•ˆï¼Œæ˜¯å› ä¸ºå®ƒå‰é¢ç´§è´´éç©ºæ ¼å­—ç¬¦ï¼Œå¦‚æœå®ƒå‰é¢æ˜¯ç©ºæ ¼ï¼Œé‚£ä¹ˆåˆ é™¤è¯­æ³•å¯ä»¥ç”Ÿæ•ˆã€‚æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œç¡®å®æ˜¯å¯ä»¥çš„ã€‚åˆšæ‰å•ç‹¬æ¶ˆæ¯é‡Œé¢åˆ é™¤è¯­æ³•ä¹‹æ‰€ä»¥ç”Ÿæ•ˆï¼Œä¹Ÿæ˜¯å®ƒå‰é¢æ²¡æœ‰éç©ºæ ¼å­—ç¬¦å¯¼è‡´ï¼Œå¹¶ä¸æ˜¯å› ä¸ºæˆ‘å‘äº†ä¸€æ¡å•ç‹¬æ¶ˆæ¯ã€‚æˆ‘å¯¹äº‹æƒ…çš„åŸå› è¿›è¡Œäº†é”™è¯¯çš„åˆ†æå’Œå½’å› ã€‚\né—®é¢˜çš„æ ¹æºæ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¾ˆé‡è¦ã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜å¦‚æ­¤é‡è¦ï¼Ÿè¶ŠçŸ¥é“æ ¹æºï¼Œæˆ‘ä»¬è¶Šã€Œè‡ªç”±ã€ã€‚å¦‚æœæˆ‘æŠŠåˆ é™¤è¯­æ³•ä¸ç”Ÿæ•ˆå½’å› ä¸ºæˆ‘åœ¨å›å¤åˆ«äººæ¶ˆæ¯ï¼Œæˆ‘å¯èƒ½ä»¥åå†ä¹Ÿä¸ä¼šåœ¨å›å¤åˆ«äººæ¶ˆæ¯çš„æ—¶å€™ä½¿ç”¨ Markdown è¯­æ³•ï¼Œæˆ‘é”™è¯¯åœ°ä»¥ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒMarkdown è¯­æ³•æ— æ³•ç”Ÿæ•ˆã€‚é”™è¯¯çš„å½’å› ï¼Œé™åˆ¶äº†æˆ‘èƒ½ä½¿ç”¨çš„å·¥å…·/æ–¹æ³•ï¼Œæˆ‘ä¼šå› æ­¤è€Œå—é™ã€‚\nå‚è€ƒ # https://sendpulse.com/blog/telegram-text-formatting è¯¦æƒ…è§è¿™é‡Œï¼šhttps://core.telegram.org/api/entities\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 August 2021","externalUrl":null,"permalink":"/2021/08/20/the_root_cause/","section":"Posts","summary":"\u003cp\u003eä¸€ä»¶å…³äºæ€ç»´çš„å°äº‹ï¼Œå€¼å¾—è®°å½•ã€‚\u003c/p\u003e","title":"é—®é¢˜æ ¹æºæ˜¯ä»€ä¹ˆï¼Ÿ","type":"posts"},{"content":"To accelerate the execution of some performance critical code, we can write the code in C++ with the help of pybind11 and export the C++ code as shared library1. Then we can import the shared library as a module and enjoy speed boost.\nInstall pybind11:\npython3 -m pip install pybind11 A simple code using pybind11 # A simple example using pybind11 is shown below:\n// include pybind11 header files so that we can use PYBIND11_MODULE macro #include \u0026lt;pybind11/pybind11.h\u0026gt; namespace py = pybind11; int sum(int start, int end){ // calculate sum from i to j if (start \u0026gt; end) return 0; int sum = 0; for (int i = start; i \u0026lt;= end; i++){ sum += i; } return sum; } PYBIND11_MODULE(demo, m) { m.doc() = \u0026#34;pybind11 demo plugin\u0026#34;; // optional module docstring m.def(\u0026#34;sum\u0026#34;, \u0026amp;sum, \u0026#34;calculate sum from start to end\u0026#34;, py::arg(\u0026#34;start\u0026#34;) = 1, py::arg(\u0026#34;end\u0026#34;) = 1000); } In the above code, we use macro PYBIND11_MODULE to define a module, whose name is demo and represented as m. m.def() is used to register function to this module:\nThe first parameter is the function name you want to use. It does not need to be the same with the C++ function name. Second parameter is the function address (\u0026amp;sum). Third parameter is the function documentation. py:arg() is used to add keyword argument and its default values to the function. Compile the C++ code # On the command line # We can directory compile the code on the command line:\nc++ -O3 -Wall -shared -std=c++11 -fPIC -I$(python3 -m pybind11 --includes) demo.cc -o demo$(pyton3-config --extension-suffix) In the above command, python3 -m pybind11 --includes is used to get the relevant include path for pybind11. On my system, the output is like the following:\n-I/Users/jdhao/tools/miniconda3/include/python3.9 -I/Users/jdhao/tools/miniconda3/lib/python3.9/site-packages/pybind11/include\nThe command python3-config --extension-suffix is used to get the proper suffix for shared library based on current system.\nCompile using Makefile # It would be tedious to type the above command each time to compile the code. We can write a simple Makefile to simplify the work:\nINCLUDE := $(shell python3 -m pybind11 --includes) FLAG := -O3 -Wall -shared -std=c++11 -fPIC SUFFIX := $(shell python3-config --extension-suffix) demo: c++ $(FLAG) $(INCLUDE) demo.cc -o demo$(SUFFIX) Then use make demo to compile.\nImport and run the code # Open a Python interpreter and we can use the module just like other Python modules:\nimport demo print(demo.sum()) # use the default parameter value print(demo.sum(start=1, end=100)) References # Official doc: https://pybind11.readthedocs.io/en/latest/basics.html Of course, there are other ways to run C++ code in Python.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 August 2021","externalUrl":null,"permalink":"/2021/08/17/pybind11_first_impression/","section":"Posts","summary":"\u003cp\u003eTo accelerate the execution of some performance critical code, we can write the\ncode in C++ with the help of \u003ca href=\"https://github.com/pybind/pybind11\" target=\"_blank\"\u003epybind11\u003c/a\u003e and\nexport the C++ code as shared library\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e. Then we can import the shared\nlibrary as a module and enjoy speed boost.\u003c/p\u003e","title":"Pybind11 hands on","type":"posts"},{"content":"å»ºç«‹åšå®¢ä»¥æ¥ï¼Œè¯•ç”¨äº†å¤šæ¬¾è¯„è®ºç³»ç»Ÿï¼Œä¸è¿‡æœ€ç»ˆè¿˜æ˜¯ç”¨äº† disqusï¼Œä½†æ˜¯ disqus ä»¤äººè®¨åŒçš„æ˜¯é»˜è®¤æ·»åŠ å¾ˆå¤šçƒ¦äººçš„å¹¿å‘Šï¼Œç‰›çš®ç™£ä¸€æ ·ï¼Œè€Œä¸”åœ¨å›½å†…æ— æ³•åŠ è½½ï¼Œå¿…é¡»ç¿»å¢™æ‰èƒ½æ˜¾ç¤ºã€‚utterances æ˜¯ä¸€æ¬¾åŸºäº github issues çš„è¯„è®ºç³»ç»Ÿï¼Œç®€æ´ï¼Œé¿å…äº† disqus çš„å¹¿å‘Šä»¥åŠåŠ è½½é—®é¢˜ã€‚è¿™ç¯‡æ–‡ç« æ€»ç»“å¦‚ä½•ç»™ Hugo-even ä¸»é¢˜æ·»åŠ  utterances è¯„è®ºç³»ç»Ÿã€‚\næˆ‘ä»¬éœ€è¦è¿›è¡Œä»¥ä¸‹å‡ æ­¥æ“ä½œï¼š\nå»ºç«‹ä¸€ä¸ª public GitHub ä»“åº“ï¼Œè¿™ä¸ªä»“åº“çš„ issue ç”¨æ¥å­˜æ”¾åšå®¢è¯„è®ºï¼šå¦‚æœè‡ªå·±çš„åšå®¢å°±æ˜¯ç”¨ GitHub pages å»ºç«‹çš„ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é¢å¤–å»ºç«‹ä»“åº“äº†ï¼Œå°±ç”¨åšå®¢çš„ä»“åº“ä¹Ÿå¯ä»¥ã€‚ä¾‹å¦‚æˆ‘çš„åšå®¢æ”¾åœ¨ jdhao/jdhao.github.ioè¿™ä¸ªä»“åº“ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªä»“åº“å­˜æ”¾åšå®¢çš„è¯„è®ºã€‚\nå®‰è£… utterances çš„ appï¼šinstall ä»¥åï¼Œåœ¨ Repository accessï¼Œé€‰æ‹© Only select repositoriesï¼Œç„¶åé€‰æ‹©è‡ªå·±å»ºç«‹çš„ç”¨æ¥å­˜æ”¾è¯„è®ºçš„ä»“åº“å³å¯ã€‚è¿™æ—¶ï¼Œè¿›å…¥åˆ°å¯¹åº”ä»“åº“çš„è®¾ç½®ç•Œé¢ï¼Œç‚¹å‡» Integrationsï¼Œä¼šçœ‹åˆ° utterances çš„ appã€‚\nHugo even å¯¹åº”çš„è®¾ç½®ï¼ševen ä¸»é¢˜å·²ç»æ”¯æŒäº† utterancesï¼Œå…ˆæŠŠ even æ›´æ–°åˆ°æœ€æ–°ç‰ˆï¼Œç„¶ååœ¨åšå®¢çš„ config.toml é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ä¸‹é¢çš„é…ç½®ï¼š\n# owner å¡«è‡ªå·±çš„ github è´¦å·ï¼Œrepo å¡«ç”¨æ¥å­˜æ”¾è¯„è®ºçš„ä»“åº“åå­— [params.utterances] owner = \u0026#34;jdhao\u0026#34; repo = \u0026#34;jdhao.github.io\u0026#34; é‡æ–° deploy Hugo åšå®¢ï¼Œç­‰åšå®¢æ›´æ–°ä»¥åï¼Œutterances è¯„è®ºç³»ç»Ÿå³å¯ç”Ÿæ•ˆã€‚\nè¦åœ¨åšå®¢æ–‡ç« ä¸‹é¢è¯„è®ºï¼Œåªéœ€è¦ç™»å½•è‡ªå·±çš„ GitHub è´¦å·å³å¯ã€‚\nReferences # https://github.com/olOwOlo/hugo-theme-even/pull/156 https://blog.eric7.site/2020/01/05/comment/ ","date":"15 August 2021","externalUrl":null,"permalink":"/2021/08/15/hugo_even_add_utterance/","section":"Posts","summary":"\u003cp\u003eå»ºç«‹åšå®¢ä»¥æ¥ï¼Œè¯•ç”¨äº†å¤šæ¬¾è¯„è®ºç³»ç»Ÿï¼Œä¸è¿‡æœ€ç»ˆè¿˜æ˜¯ç”¨äº† disqusï¼Œä½†æ˜¯ disqus ä»¤äººè®¨åŒçš„æ˜¯é»˜è®¤æ·»åŠ å¾ˆå¤šçƒ¦äººçš„å¹¿å‘Šï¼Œç‰›çš®ç™£ä¸€æ ·ï¼Œè€Œä¸”åœ¨å›½å†…æ— æ³•åŠ è½½ï¼Œå¿…é¡»ç¿»å¢™æ‰èƒ½æ˜¾ç¤ºã€‚\u003ca href=\"https://utteranc.es/\" target=\"_blank\"\u003eutterances\u003c/a\u003e æ˜¯ä¸€æ¬¾åŸºäº github issues çš„è¯„è®ºç³»ç»Ÿï¼Œç®€æ´ï¼Œé¿å…äº† disqus çš„å¹¿å‘Šä»¥åŠåŠ è½½é—®é¢˜ã€‚è¿™ç¯‡æ–‡ç« æ€»ç»“å¦‚ä½•ç»™ \u003ca href=\"https://github.com/olOwOlo/hugo-theme-even\" target=\"_blank\"\u003eHugo-even\u003c/a\u003e ä¸»é¢˜æ·»åŠ  utterances è¯„è®ºç³»ç»Ÿã€‚\u003c/p\u003e","title":"ç»™ Hugo even ä¸»é¢˜æ·»åŠ  utterances è¯„è®ºç³»ç»Ÿ","type":"posts"},{"content":"Some permission related issue on macOS.\nFile lock issue # For some time, when I open kitty terminal on macOS, I always see the following warning message:\nzsh: locking failed for /Users/jdhao/.histfile: operation not permitted: reading anyway\nThis may be because the HOME directory is locked (for me, this is the case). To unlock the directory, open the Finder and click the $HOME directory, press Command + i to get the file info. Under the General section, make sure that the Locked button is unchecked.\nTo change the file lock state on the command line, use chflag:\nchflag -R nouchg /path/to/directory After restarting the terminal emulator, the issue should be gone.\nOperation permission issue # Another issue I often get is that when I use ls or rm on some files, I often get a message like the following:\nls ~/Library/Messages ls: Messages: Operation not permitted\nThis is due to the disk access issue. Open macOS Security \u0026amp; Privacy settings and go to Privacy tab. Give your terminal emulator Full Disk Access.\nRestart your terminal and the issue will be fixed.\nReferences # https://superuser.com/questions/279235/why-does-chown-report-operation-not-permitted-on-os-x File lock issue: https://www.macworld.com/article/231333/macos-file-settings-the-difference-between-locked-and-sharing-permissions.html Change lock state on command line: https://superuser.com/q/40749/736190 https://www.jeffgeerling.com/tutorial/2008-12-02/dealing-locked-files-mac Operation not permitted: https://osxdaily.com/2018/10/09/fix-operation-not-permitted-terminal-error-macos/ ","date":"15 August 2021","externalUrl":null,"permalink":"/2021/08/15/mac_operation_not_permitted/","section":"Posts","summary":"\u003cp\u003eSome permission related issue on macOS.\u003c/p\u003e","title":"macOS Operation Not Permitted?","type":"posts"},{"content":" Update log 2022-08-13: update nvim lsp config for lua-language-server. In this post, I will share how to set up sumneko lua for nvim-lspconfig.\nInstall sumneko lua # Install using package manager # From macOS, we can install lua-language-server directly using HomeBrew:\nbrew install lua-language-server Install using releases # Now lua-language-server provides binary release for Windows, macOS and Linux, download it from its release page.\nInstall from source # We can also build it from source. First, we need to install its dependency packages.\nninja # On Linux, install ninja from its binary release:\nwget https://hub.fastgit.xyz/ninja-build/ninja/releases/download/v1.10.2/ninja-linux.zip mkdir -p $HOME/local/bin unzip ninja-linux.zip -d $HOME/local/bin On macOS, install ninja via homebrew:\nbrew install ninja C++ compiler # We need to install a cpp compile that support c++ 17, gcc-7.3 is fine. Clang 12.0 is also fine.\nbuild # Build lua-language-server:\nmkdir -p $HOME/tools/ \u0026amp;\u0026amp; cd $HOME/tools git clone --depth=1 https://hub.fastgit.xyz/sumneko/lua-language-server cd lua-language-server # if the cloning speed is too slow, edit .gitmodules and replace github.com # with hub.fastgit.org, which should be faster than github. git submodule update --init --recursive # build on Linux cd 3rd/luamake compile/install.sh cd ../.. ./3rd/luamake/luamake rebuild After that, we should add the path to lua-language-server to PATH:\n# For macOS export PATH=\u0026#34;$HOME/tools/lua-language-server/bin/macOS:$PATH\u0026#34; # For Linux export PATH=\u0026#34;$HOME/tools/lua-language-server/bin/Linux:$PATH\u0026#34; Config for nvim-lspconfig # Following the instructions on the nvim-lspconfig repo, it is pretty straight forward to config sumneko-lua for Nvim. Here is a working config for me:\nlocal runtime_path = vim.split(package.path, \u0026#34;;\u0026#34;) table.insert(runtime_path, \u0026#34;lua/?.lua\u0026#34;) table.insert(runtime_path, \u0026#34;lua/?/init.lua\u0026#34;) lspconfig.sumneko_lua.setup({ on_attach = custom_attach, settings = { Lua = { runtime = { -- Tell the language server which version of Lua you\u0026#39;re using (most likely LuaJIT in the case of Neovim) version = \u0026#34;LuaJIT\u0026#34;, -- Setup your lua path path = runtime_path, }, diagnostics = { -- Get the language server to recognize the `vim` global globals = { \u0026#34;vim\u0026#34; }, }, workspace = { -- Make the server aware of Neovim runtime files library = api.nvim_get_runtime_file(\u0026#34;\u0026#34;, true), }, -- Do not send telemetry data containing a randomized but unique identifier telemetry = { enable = false, }, }, }, }) For the complete config for lsp, check my config here.\nReferences # https://github.com/sumneko/lua-language-server/wiki/Build-and-Run-(Standalone) ","date":"12 August 2021","externalUrl":null,"permalink":"/2021/08/12/nvim_sumneko_lua_conf/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202020047792.jpg\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-08-13: update nvim lsp config for lua-language-server.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I will share how to set up \u003ca href=\"https://github.com/sumneko/lua-language-server\" target=\"_blank\"\u003esumneko lua\u003c/a\u003e for \u003ca href=\"https://github.com/neovim/nvim-lspconfig\" target=\"_blank\"\u003envim-lspconfig\u003c/a\u003e.\u003c/p\u003e","title":"Setting up Sumneko Lua Language Server for Nvim-lsp","type":"posts"},{"content":"update:\nOn 2021-11-28, we expericence another GitHub outage which lasts more than two hours, see here. On 2021-08-10 23:30 CST, I observed that I cannot push to my GitHub repo even with --force. After checking the GitHub status site, it seems that the GitHub API is down1.\nIt is not the first time that GitHub is down. There has been several failure reports last year (2020), due to MySQL and other issues.\nAt this moment, I have realized how much I and other developers around world are relying on this free service.\nReferences # The official site for GitHub status: https://www.githubstatus.com/ Has GitHub been down more since its acquisition by Microsoft?: https://news.ycombinator.com/item?id=23676199 https://statusgator.com/blog/2020/06/04/has-github-been-down-more-since-its-acquisition-by-microsoft/ Post-mortems: https://github.com/danluu/post-mortems On 2021-08-10 23:57 CST, GitHub is back to its normal state. Git-push works fine now.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 August 2021","externalUrl":null,"permalink":"/2021/08/11/is_github_down/","section":"Posts","summary":"update:\nOn 2021-11-28, we expericence another GitHub outage which lasts more than two hours, see here. On 2021-08-10 23:30 CST, I observed that I cannot push to my GitHub repo even with --force. After checking the GitHub status site, it seems that the GitHub API is down1.\nIt is not the first time that GitHub is down. There has been several failure reports last year (2020), due to MySQL and other issues.","title":"Is GitHub Down Today?","type":"posts"},{"content":" ç‚¹å‡»æŸ¥çœ‹æ›´æ–°è®°å½• 2022-03-07ï¼šå¢åŠ  shotrr 2022-02-10: å¢åŠ  wezterm ä»‹ç» è®°å½•æˆ‘åœ¨ macOS ä¸‹å¸¸ç”¨åˆ°çš„å·¥å…·ã€‚\næŒ‰é”®æ˜¾ç¤º(keystroke displaying) # å¹³æ—¶å½•ä¸€äº› Neovim æˆ–è€…å…¶ä»–å·¥å…·/è½¯ä»¶æ“ä½œè§†é¢‘ï¼ŒæŠŠæŒ‰é”®è®°å½•ä¸‹æ¥ä¼šæ›´æ–¹ä¾¿è¯»è€…ç†è§£ä½ å¹²äº†ç‚¹å•¥ã€‚å¯ä»¥ä½¿ç”¨å¼€æºçš„ KeyCastrã€‚\næ³¨æ„ï¼šå®‰è£…ä»¥åï¼Œè¦æƒ³æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œæ‰“å¼€ã€ŒSecurity \u0026amp; Privacyã€ï¼Œè¿›å…¥ Privacy éƒ¨åˆ†ï¼Œéœ€è¦åœ¨ ã€ŒAccessibilityã€å’Œ ã€ŒInput Monitoringã€æŠŠ KeyCastr åŠ ä¸Šï¼Œå¦åˆ™è¯¥ App æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚\né”®ç›˜æŒ‰é”®æ˜ å°„ # åŠŸèƒ½å¼ºå¤§çš„æŒ‰é”®æ˜ å°„å·¥å…·ï¼Œå½“ç„¶æ˜¯ Karabiner Elementsã€‚\næˆªå›¾ # å¼€æºçš„å¯ä»¥ä½¿ç”¨éå¸¸æœ‰åçš„ Snipasteã€‚å¦å¤– iShot ä»¥åŠ xnip ä¹Ÿä¸é”™ï¼Œè¿™ä¿©æ˜¯æ”¶è´¹çš„ï¼Œä¸è¿‡ä¹Ÿæœ‰å…è´¹ä½¿ç”¨åŠŸèƒ½ã€‚\nshottr æ˜¯å¦å¤–ä¸€æ¬¾æˆªå›¾å·¥å…·ï¼Œå…è´¹ã€‚\nå½•åˆ¶è§†é¢‘/GIF # ç»å¸¸ç”¨ LICEcapï¼Œä½“ç§¯å°å·§ï¼Œç”¨èµ·æ¥æ–¹ä¾¿ã€‚kap ä¹Ÿæ˜¯ä¸€æ¬¾ç±»ä¼¼çš„å¼€æºå·¥å…·ï¼ˆå®‰è£…åŒ…çœŸå¤§ï¼bloat wareï¼‰ã€‚\nå›¾åºŠä¸Šä¼  # ä¸€ç›´åœ¨ç”¨ PicGoï¼Œå¼€æºå…è´¹ï¼Œç®€å•å¥½ç”¨ï¼Œæ”¯æŒä¸»æµäº‘æœåŠ¡ï¼ŒGitHubï¼ŒGitee ç­‰ã€‚å…¶ä»–å¥½ç”¨çš„ä¼¼ä¹éƒ½è¦ä»˜è´¹ä½¿ç”¨ã€‚\né¼ æ ‡å¹³æ»‘æ»šåŠ¨ # mac ä¸Šé¼ æ ‡æ»šåŠ¨æ–¹å‘å’Œ Windows ä¸åŒï¼Œç”¨èµ·æ¥æœ‰ç‚¹éš¾å—ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ mos å¸®åŠ©æˆ‘ä»¬å®ç°æ›´å¹³æ»‘çš„é¼ æ ‡æ»šåŠ¨å’Œåå‘æ»šåŠ¨ï¼ˆè¿™æ · mac é¼ æ ‡å’Œ Windows æ“ä½œå°±ç»Ÿä¸€äº†ï¼‰ã€‚\nç»ˆç«¯æ¨¡æ‹Ÿå™¨ # ä¸€ç›´åœ¨ä½¿ç”¨ kittyï¼Œç®€æ´è€Œå¼ºå¤§ï¼Œæ”¯æŒå¤š tabã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ„Ÿè§‰ iterm2 ç•¥æ˜¾ç¬¨é‡ã€‚Alacritty ä¸æ”¯æŒå¤š tab å°±æ›´ä¸è€ƒè™‘äº†ã€‚\nåœ¨ kitty é‡Œé¢ï¼Œæ‰“å¼€ Neovimï¼Œè¾“å…¥æ±‰å­—çš„æ—¶å€™ï¼Œæ˜¾ç¤ºä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œæœ€è¿‘æ¢åˆ°äº† weztermï¼ŒåŠŸèƒ½æ²¡æœ‰ kitty å…¨é¢ï¼Œä¸è¿‡å¯¹æ±‰å­—è¾“å…¥æ”¯æŒä¼¼ä¹æ›´å¥½ä¸€äº›ï¼Œå°±å…ˆç”¨å®ƒäº†ã€‚æˆ‘çš„ wezterm é…ç½®å‚è§ è¿™é‡Œ ã€‚\nAPP åˆ é™¤æ¸…ç† # åœ¨ç”¨ appcleanerï¼ŒåŠŸèƒ½ç®€å•å¥½ç”¨ã€‚\nå›¾ç‰‡æŸ¥çœ‹ # ç›®å‰åœ¨ç”¨ XnViewMPã€‚\nå›¾ç‰‡å‹ç¼© # å‹ç¼©å›¾ç‰‡ï¼Œå¾€å›¾åºŠä¸Šä¼ æ—¶èŠ‚çœç©ºé—´ï¼Œåœ¨ç”¨ ImageOptimã€‚\nTinyPNG4Mac is also an interesting project.\nè§†é¢‘æ’­æ”¾ # ä½¿ç”¨ IINAï¼ŒåŸºäº mpv å¼€å‘ã€‚\nè§†é¢‘å­—å¹•åˆ¶ä½œ # ArcTime æ˜¯ä¸€æ¬¾ä¸é”™çš„å·¥å…·ï¼Œæ›¾ç”¨å®ƒåˆ¶ä½œè¿‡ Bram åœ¨ vimconf 2018 ä¸Šçš„æ¼”è®²å­—å¹•ã€‚\nçª—å£ç®¡ç†ï¼ˆwindow managerï¼‰ # æœ‰æ—¶å€™éœ€è¦è®©ä¸¤ä¸ªçª—å£å¹¶æ’æ˜¾ç¤ºï¼Œä¾¿äºå‚ç…§å’Œå¯¹æ¯”ï¼Œæ‰‹å·¥æ’æ”¾çª—å£ä½ç½®è°ƒæ•´å¤§å°æ¯”è¾ƒç—›è‹¦ï¼Œå°±éœ€è¦ç”¨åˆ°çª—å£ç®¡ç†å·¥å…·ï¼Œç›®å‰åœ¨ç”¨ rectangleï¼Œä¹Ÿæ˜¯çœ‹åˆ°åˆ«äººæ¨èæ‰ç”¨çš„ï¼Œæ•ˆæœè¿˜ä¸é”™ï¼Œæ»¡è¶³æˆ‘çš„ç®€å•éœ€æ±‚ã€‚\nå‚è€ƒ # awesome mac: https://github.com/jaywcjlove/awesome-mac https://blog.skk.moe/post/mac-software/ ","date":"9 August 2021","externalUrl":null,"permalink":"/2021/08/09/macos_work_tools/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eç‚¹å‡»æŸ¥çœ‹æ›´æ–°è®°å½•\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e2022-03-07ï¼šå¢åŠ  shotrr\u003c/li\u003e\n\u003cli\u003e2022-02-10: å¢åŠ  wezterm ä»‹ç»\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eè®°å½•æˆ‘åœ¨ macOS ä¸‹å¸¸ç”¨åˆ°çš„å·¥å…·ã€‚\u003c/p\u003e","title":"macOS ä¸Šå¸¸ç”¨å·¥å…·","type":"posts"},{"content":"After updating my Windows system to the latest version, I can finally use the new Windows Terminal.\nHow to install? # Directly install from GitHub binary release, link here.\nUse git-bash in Windows Terminal # Install git for Windows. During installation, there is an option to create a profile for Windows terminal. Remember to tick it on.\nGo check windows terminal settings, and choose Git Bash as the default profile.\nRemove annoying flash # When I use Git-bash and press backspace, the whole screen flashes which is really annoying. Based on discussion here, we can add following conf to ~/.inputrc:\nset bell-style none Mouse does not work? # Update: 2022-08-26\nI have noticed that when I ssh to remote server under git-bash in Windows Terminal, the mouse does not work. In the remote server, if I open a nvim instance, I can not use mouse to scroll even if I have enabled mouse support (set mouse=a). However, if I use PowerShell, everything works fine, not sure if related to this issue.\nKey binding issues # How to Ctrl-c and Ctrl-v for copy and paste # Disable Ctrl-c and Ctrl-v for copy and paste\nBy default, Windows Terminal use these two key bindings for copy and paste text, which is annoying for Vim users, as they have different use cases in Vim.\nTo disable the default bindings for these two, press Ctrl + , to open the settings, and then click Open JSON file to open its config. In the action part, just use different key bindings for paste and copy or just delete the two settings:\n{\u0026#34;command\u0026#34;: { \u0026#34;action\u0026#34;: \u0026#34;copy\u0026#34;, \u0026#34;singleLine\u0026#34;: false }, \u0026#34;keys\u0026#34;: \u0026#34;ctrl+c\u0026#34; }, { \u0026#34;command\u0026#34;: \u0026#34;paste\u0026#34;, \u0026#34;keys\u0026#34;: \u0026#34;ctrl+v\u0026#34; } Disable F11 for toggle full screen mode # By default, F11 is used by windows terminal to toggle full screen mode. To disable it, add the following to your action setting in the config JSON file:\n{ \u0026#34;command\u0026#34;: null, \u0026#34;keys\u0026#34;: \u0026#34;f11\u0026#34; } Ref:\nHow can I remove a default key binding in Windows Terminal: https://superuser.com/q/1558490/736190 Unable to load a font? # I have set up JetBrainsMono NF as my default font. However, when I open Windows Terminal for the first time, it warns:\nUnable to find the selected font \u0026ldquo;JetBrainsMono NF\u0026rdquo;\nSimilar issue has been reported here. The solution is to re-install the font and install it for every user instead of the current user.\nAdd a new colorscheme # This site contains a lot of custom colorschemes for windows Terminal. Press Get Theme to copy the theme configuration.\nThen open Terminal config, and paste the theme config to the schemes section and restart Terminal.\nThere are also some themes here.\n","date":"6 August 2021","externalUrl":null,"permalink":"/2021/08/06/microsoft_windows_terminal_conf/","section":"Posts","summary":"\u003cp\u003eAfter updating my Windows system to the latest version, I can finally use the new \u003ca href=\"https://github.com/microsoft/terminal\" target=\"_blank\"\u003eWindows Terminal\u003c/a\u003e.\u003c/p\u003e","title":"Configure Windows Terminal in 2021","type":"posts"},{"content":"Google introduced the content ID system in 2007 to cope with the unauthorized use of copyrighted music and video content. The content ID system has successfully helped the copyright owners to find the pirated content and paid billions of dollars to the copyright owners1.\nHow content ID works # The copyright owners can submit the audio and video content they want to protect to YouTube. When a user uploads new content to YouTube, the new content will be compared to the files in the database to check their similarity.\nHow do we compare the similarity between audio or video files? We need audio and video fingerprinting technology. Generally speaking, we can extract fingerprints (i.e., features or vectors) from the audio and video files and store them in the database. When a new content arrives, we extract its fingerprints and compare it with the fingerprints in the database. Then we can calculate the similarity between the new content and the content in the database. If the similarity is above a threshold, we can assume that the uploaded content is a pirated content.\nThere is little resource online talking about which methods Google use for fingerprinting audio and videos.\nAudio fingerprinting # The YouTube audio fingerprinting technology is quite advanced. As pointed out by videos here and here, it can spots audio piracy even if you distort the music significantly (by adding noise or change speed etc.).\nThis paper from Google research shows a method for audio fingerprinting. It may be used by content ID. However, this paper is quite old. YouTube may have improved its algorithms over the years.\nVideo fingerprinting # For video fingerprinting, we would guess that YouTube extract frames from videos and use deep-neural nets to extract features from video frames. Those features are the so-called fingerprints for the video. The similarity between videos can be compared frame by frame and aggregated in some way, for example, by calculating how many similar frames two videos share in common.\nThis above guess is partially verified by post here. Apart from that, I can not seem to find resource on what methods YouTube actually use for video fingerprinting.\nCounter-attack techs # Since fingerprinting uses machine learning methods for finding pirated content, we can forge adversarial content to fool the content ID system: the pirated content can be altered in a subtle way so that the system can not detect it is a pirated content.\nThere are some research papers on this, for example, see here and here.\nReferences # https://www.blog.google/outreach-initiatives/public-policy/protecting-what-we-love-about-internet-our-efforts-stop-online-piracy/ https://www.streamingmedia.com/Articles/ReadArticle.aspx?ArticleID=78358 YouTube content identification technology?: https://stackoverflow.com/q/649116/6064933 Manipulating the YouTube Algorithm: https://www.youtube.com/watch?v=1PGm8LslEb4 Source here: https://www.tubefilter.com/2018/11/07/youtube-payouts-content-id/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 August 2021","externalUrl":null,"permalink":"/2021/08/02/the_youtube_content_id_system/","section":"Posts","summary":"\u003cp\u003eGoogle introduced the \u003ca href=\"https://support.google.com/youtube/answer/2797370?hl=en\" target=\"_blank\"\u003econtent ID system\u003c/a\u003e in 2007 to cope with the\nunauthorized use of copyrighted music and video content. The content ID system\nhas successfully helped the copyright owners to find the pirated content and\npaid billions of dollars to the copyright owners\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\u003c/p\u003e","title":"How Does The YouTube Content ID System Work?","type":"posts"},{"content":"","date":"2 August 2021","externalUrl":null,"permalink":"/tags/youtube/","section":"Tags","summary":"","title":"YouTube","type":"tags"},{"content":"","date":"24 July 2021","externalUrl":null,"permalink":"/tags/retrieval/","section":"Tags","summary":"","title":"Retrieval","type":"tags"},{"content":"åŸºäºå†…å®¹çš„è§†é¢‘æ£€ç´¢ï¼ˆæˆ–è§†é¢‘æŒ‡çº¹ï¼‰ï¼Œæ˜¯æŒ‡æ ¹æ®è§†é¢‘å†…å®¹ï¼Œä»æ•°æ®åº“ä¸­æ‰¾åˆ°å’Œå½“å‰è§†é¢‘åœ¨ç”»é¢ä¸Šé‡å¤é«˜çš„è§†é¢‘ã€‚\nä¸»è¦åº”ç”¨åœºæ™¯ï¼š\nç‰ˆæƒä¿æŠ¤ç›¸å…³ï¼šç”¨äºä¿æŠ¤åŸåˆ›è§†é¢‘å†…å®¹ï¼ŒåŠæ—¶å‘ç°è‡ªå·±çš„è§†é¢‘æ˜¯å¦è¢«ç¬¬ä¸‰æ–¹ç›—ç”¨ï¼Œæ·˜å®1ï¼ŒYouTube2ï¼ŒæŠ–éŸ³3ç­‰éƒ½æœ‰ç›¸å…³çš„åŠŸèƒ½ è§†é¢‘å»é‡ï¼šå¤šç”¨äºæ¨èæˆ–è€…ä¿¡æ¯æµåœºæ™¯ï¼Œå»æ‰é‡å¤çš„è§†é¢‘ï¼›äº‘å­˜å‚¨æä¾›å•†ï¼Œé€šè¿‡è§†é¢‘å»é‡ï¼Œä¹Ÿèƒ½èŠ‚çœå­˜å‚¨èµ„æºï¼ˆä¾‹å¦‚ä¸åŒç”¨æˆ·ä¸Šä¼ äº†åŒä¸€æ®µè§†é¢‘ï¼Œå¦‚æœ A æ˜¯ B çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ä¸ç”¨å­˜å‚¨ Aï¼‰ å¹¿å‘Šæ•ˆæœè¿½è¸ªï¼šå¹¿å‘Šç±»çš„è§†é¢‘ï¼Œå‘å¸ƒè€…å¸Œæœ›ä¼ æ’­çš„è¶Šå¹¿è¶Šå¥½ï¼Œé€šè¿‡è§†é¢‘æŒ‡çº¹ï¼Œå¹¿å‘ŠåŸåˆ›è€…å¯ä»¥è¿½è¸ªè§†é¢‘å·²ç»åˆ°è¾¾äº†å“ªäº›å—ä¼—ï¼Œè¿›è¡Œæ•ˆæœä¼ æ’­åˆ†æ è§†é¢‘æº¯æºï¼šé€šè¿‡æ‰¾åˆ°ç›¸ä¼¼è§†é¢‘ï¼Œæ‰¾å‡ºè§†é¢‘åœ¨äº’è”ç½‘ä¸Šæµè½¬çš„è·¯å¾„æœ‰å“ªï¼Œæ‰¾åˆ°è§†é¢‘å‘å¸ƒè€…æˆ–è€…è§†é¢‘æºå¤´ äº’åŠ¨åª’ä½“ï¼šé€šè¿‡è§†é¢‘æŒ‡çº¹ï¼Œç”µè§†èƒ½å¤Ÿæ£€æµ‹å½“å‰æ’­æ”¾çš„è§†é¢‘ï¼Œæ ¹æ®ç¼–ç¨‹ï¼Œæä¾›ä¸ªæ€§åŒ–æœåŠ¡ æ‰“å‡»çŠ¯ç½ªï¼šç”¨äºè¿½è¸ªä¸€äº›è¿æ³•å†…å®¹çš„ä¼ æ’­ï¼Œä¾‹å¦‚ææ€–ä¸»ä¹‰å†…å®¹ï¼Œå„¿ç«¥è‰²æƒ…è§†é¢‘ç­‰ã€‚ å‚è€ƒ # https://en.wikipedia.org/wiki/Digital_video_fingerprinting è°·æ­Œåœ¨ content ID ä¸ŠæŠ•å…¥è¶… 1 äº¿ç¾å…ƒï¼šhttps://www.blog.google/outreach-initiatives/public-policy/protecting-what-we-love-about-internet-our-efforts-stop-online-piracy/ YouTube content ID intro: https://support.google.com/youtube/answer/2797370?hl=en content ID turns three: https://blog.youtube/news-and-events/content-id-turns-three å­—èŠ‚è·³åŠ¨â€œçµè¯†ç³»ç»Ÿâ€ï¼šhttps://smart.huanqiu.com/article/9CaKrnKfmL2 å­—èŠ‚è·³åŠ¨ï¼Œä»¥ç®—æ³•æ¨åŠ¨çš„åª’ä½“è¿›é˜¶ä¹‹è·¯: https://www.jingpt.com/article/41663b6b-3dbb-4efe-bfd0-86a5c947b5c8 è§†é¢‘ä¹Ÿèƒ½æå–â€œæŒ‡çº¹â€ äººå·¥æ™ºèƒ½ç ´è§£è¡Œä¸šç›—ç‰ˆéš¾é¢˜ ï¼ˆäº”åˆ†é’Ÿè§†é¢‘ 10 s å†…å®Œæˆç‰¹å¾æå–ï¼‰ aliyun è§†é¢‘æ£€ç´¢ https://ai.aliyun.com/vi/dna https://www.aliyun.com/activity/intelligent/media-ai-portal?spm=5176.cnmultimediaai.0.0.592e2a51KFBlJf#/videoFingerprinting ç™¾åº¦äº‘è§†é¢‘æ£€ç´¢ï¼šhttps://cloud.baidu.com/product/aimms.html æ•°åä¸‡å•†å“çŸ­è§†é¢‘æ’é˜Ÿç›–æˆ³ é˜¿é‡Œæ¨â€œè§†é¢‘æŒ‡çº¹â€æŠ€æœ¯ä¿æŠ¤å•†å®¶\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nYouTube ç‰ˆæƒä¿æŠ¤ç³»ç»Ÿåä¸º content IDï¼Œå…·ä½“å‚è€ƒ è¿™é‡Œ å’Œ è¿™é‡Œ.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nçŸ­è§†é¢‘ç‰ˆæƒæ˜¯éå¤šï¼ŒæŠ€æœ¯å‡ºæ‰‹æ¥æŠ¤å«\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 July 2021","externalUrl":null,"permalink":"/2021/07/24/application_of_duplicate_video_retrieval/","section":"Posts","summary":"\u003cp\u003eåŸºäºå†…å®¹çš„è§†é¢‘æ£€ç´¢ï¼ˆæˆ–è§†é¢‘æŒ‡çº¹ï¼‰ï¼Œæ˜¯æŒ‡æ ¹æ®è§†é¢‘å†…å®¹ï¼Œä»æ•°æ®åº“ä¸­æ‰¾åˆ°å’Œå½“å‰è§†é¢‘åœ¨ç”»é¢ä¸Šé‡å¤é«˜çš„è§†é¢‘ã€‚\u003c/p\u003e","title":"åŸºäºå†…å®¹çš„è§†é¢‘æ£€ç´¢/è§†é¢‘æŒ‡çº¹çš„åº”ç”¨","type":"posts"},{"content":"","date":"24 July 2021","externalUrl":null,"permalink":"/tags/search/","section":"Tags","summary":"","title":"Search","type":"tags"},{"content":"æ— è®ºæ˜¯æ¨èè¿˜æ˜¯æ£€ç´¢ä»»åŠ¡ï¼Œéƒ½ç¦»ä¸å¼€å‘é‡æ£€ç´¢å¼•æ“ï¼Œå½“å‘é‡æ•°é‡å·¨å¤§(ä¸Šåƒä¸‡æˆ–è€…ä¸Šäº¿è§„æ¨¡)çš„æ—¶å€™ï¼Œä½¿ç”¨ç²¾ç¡®æœç´¢(exhaustive search)çš„æ—¶é—´æˆæœ¬å¯¹äºç”¨æˆ·æ¥è¯´æ— æ³•æ¥å—ï¼Œè¿™æ—¶æˆ‘ä»¬å¿…é¡»ç”¨åˆ°è¿‘ä¼¼æœ€é‚»è¿‘æœç´¢ï¼ˆapproximate nearest neighbor, ç®€ç§° ANN)ã€‚æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§çš„å®ç°äº† ANN æœç´¢çš„å‘é‡æœç´¢å¼•æ“/å·¥å…·ã€‚\nå…³äºä¸»æµå‘é‡æœç´¢å¼•æ“/åº“çš„è¯„æµ‹ï¼Œå¯ä»¥å‚è€ƒ ANN benchmarkã€‚\nå‘é‡æœç´¢åº“å’Œå¼•æ“çš„åŒºåˆ«ï¼Ÿ # ç®€å•ç†è§£ï¼Œå‘é‡æœç´¢åº“æ›´è½»é‡åŒ–ï¼Œå¯èƒ½ä¸æ”¯æŒåˆ†å¸ƒå¼ï¼Œä»…ä»…æ˜¯ä½œä¸º Library å­˜åœ¨ï¼Œå‘é‡æœç´¢å¼•æ“å®ç°äº†ä¸€æ•´å¥—ç‰¹å¾å­˜å‚¨ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼Œåˆ†å¸ƒå¼ç­‰ç‰¹æ€§ï¼Œè€Œä¸”å‘é‡æœç´¢å¼•æ“åº•å±‚å¯èƒ½ä¼šç”¨åˆ°è¿™äº›å‘é‡æœç´¢åº“ï¼Œè­¬å¦‚ vearch ä¼šç”¨åˆ° FAISSï¼ŒMilvus ä¹Ÿä¼šç”¨åˆ° FAISS, nmslib ç­‰ã€‚\nå‘é‡æœç´¢åº“ # FLANN # FLANN æ˜¯ SIFT å‘æ˜è€… Lowe å¼€å‘çš„è¿‘ä¼¼æœç´¢åº“ã€‚\nAnnoy # Annoy æ˜¯ spotify å¼€æºçš„ä¸€æ¬¾è¿‘ä¼¼æœç´¢å·¥å…·ï¼Œä¸æ”¯æŒåˆ†å¸ƒå¼æœç´¢ã€‚\nFaiss # Faiss æ˜¯ Facebook AI Research å¼€æºçš„ä¸€æ¬¾å‘é‡æœç´¢åº“1ï¼Œå®ç°äº†å¤šç§å‘é‡ç´¢å¼•ç®—æ³•ã€‚ä¸è¿‡ Faiss ä¸æ”¯æŒåˆ†å¸ƒå¼æœç´¢ï¼Œå¦‚æœå‘é‡æ•°æ®é‡å¾ˆå¤§ï¼ŒFaiss å°±ä¸åˆé€‚äº†ã€‚\nFaiss åŸå§‹è®ºæ–‡ã€ŒBillion-scale similarity search with GPUsã€è§ è¿™é‡Œã€‚\nScaNN # ScaNN æ˜¯è°·æ­Œåœ¨ 2020 å¹´å‘å¸ƒçš„ä¸€æ¬¾å‘é‡æ£€ç´¢å·¥å…·2ï¼ŒåŸºäºè°·æ­Œåœ¨ ICML 2020 ä¸Šå‘è¡¨çš„ä¸€ç¯‡æ–‡ç«  Accelerating Large-Scale Inference with Anisotropic Vector Quantizationã€‚\nå¿«æ‰‹æ¨èä¸­å°åœ¨ä½¿ç”¨ ScaNN ä½œä¸º ANN æœç´¢å·¥å…·3ã€‚\nNMSLIB # nmslib æ˜¯ä¸€æ¬¾è¿‘ä¼¼æœç´¢å·¥å…·ï¼Œå®ç°äº†ä¸€äº›è¿‘ä¼¼æœç´¢ç®—æ³•ï¼Œå¦‚ HNSWã€‚\nhora # Hora æ˜¯ä¸€æ¬¾ç”¨ Rust å®ç°çš„ ANN æœç´¢åº“ï¼Œå®ç°äº†å¤šç§ index å’Œå¤šç§è·ç¦»åº¦é‡ã€‚\nå‘é‡æœç´¢å¼•æ“ # Vearch # Vearch æ˜¯äº¬ä¸œå¼€æºçš„å‘é‡æœç´¢æ¡†æ¶ï¼ŒåŸºäº Faiss å¼€å‘ï¼Œæˆ‘ä»¬ç›®å‰ç”¨çš„å‘é‡æœç´¢å¼•æ“å°±æ˜¯ vearchï¼Œæ”¯æŒåˆ†å¸ƒå¼æœç´¢ã€‚\nä¼˜ç‚¹ï¼šVearch æ”¯æŒçš„è·ç¦»æœ‰ä¸¤ç§ï¼ŒL2 è·ç¦»å’Œå†…ç§¯ï¼ˆå¦‚æœæ˜¯å½’ä¸€åŒ–çš„å‘é‡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ï¼Œä¹Ÿæ”¯æŒæ ¹æ®æ ‡é‡å­—æ®µè¿›è¡Œè¿‡æ»¤ï¼Œæ€»çš„æ¥è¯´åŠŸèƒ½è¿˜æ˜¯å¯ä»¥çš„ã€‚\nç¼ºç‚¹ï¼šæ„Ÿè§‰ vearch ä¸æ˜¯å¾ˆç¨³å®šï¼Œæ–‡æ¡£å†™çš„ä¹Ÿå¾ˆçƒ‚ï¼ˆéå¸¸ç®€ç•¥ï¼‰ï¼Œå¦å¤– vearch è™½ç„¶åœ¨ç»´æŠ¤ä¸­ï¼Œå¼€å‘ä¸æ˜¯å¾ˆæ´»è·ƒã€‚\nMilvus # Milvus æ˜¯è¿‘ä¸¤å¹´æ–°å¼€æºçš„ä¸€æ¬¾å…¨æ–°çš„å‘é‡æœç´¢å¼•æ“ï¼Œå¼€å‘å¾ˆæ´»è·ƒï¼Œæ„Ÿè§‰æœªæ¥å¾ˆæœ‰å¸Œæœ›ã€‚ç›®å‰ Milvus 2.0 è¿˜åœ¨ rc é˜¶æ®µï¼Œæ”¯æŒäº†æ ‡é‡å­—æ®µè¿‡æ»¤åŠŸèƒ½ï¼ŒåŠŸèƒ½è¿˜ä¸å®Œå–„ï¼Œä¾‹å¦‚ç°åœ¨è¿˜ä¸æ”¯æŒåˆ é™¤ç‰¹å¾æ“ä½œï¼Œæ€»ä½“åŠŸèƒ½ä¸å¦‚ vearch ä¸°å¯Œã€‚\nMilvus æœç´¢ç­–ç•¥ï¼Œä¸åœ¨ index çš„å‘é‡ brute forceï¼Œåœ¨ index çš„å‘é‡æ˜¯è¿‘ä¼¼æœç´¢ï¼Œæœ€åä¸¤è€…èåˆï¼Œå‚è€ƒè¿™é‡Œè®¨è®ºã€‚\nMilvus ç³»ç»Ÿè®¾è®¡è®ºæ–‡ï¼Œè¢« ACM SIGMOD 21 æ¥æ”¶ï¼Œè§è¿™é‡Œ.\nSPTAG # SPTAG (Space Partion Tree And Graph) æ˜¯å¾®è½¯å‘å¸ƒçš„ä¸€æ¬¾åˆ†å¸ƒå¼å‘é‡æœç´¢å·¥å…·ï¼ŒçŸ¥ååº¦ä¸æ˜¯å¾ˆé«˜ï¼Œæ²¡æ€ä¹ˆå¬è¯´æœ‰å“ªä¸ªå…¬å¸åœ¨ç”¨ï¼Ÿ\nVald # Vald æ˜¯ Go è¯­è¨€å®ç°çš„åˆ†å¸ƒå¼å‘é‡æ£€ç´¢ç³»ç»Ÿï¼Œä¸»è¦ç”±æ—¥æœ¬å¼€å‘äººå‘˜å¼€å‘ï¼Œé›…è™æ—¥æœ¬åœ¨ä½¿ç”¨ï¼Œå…¶ä»–åœ°æ–¹æœªçœ‹åˆ°ä½¿ç”¨æ¡ˆä¾‹ã€‚\nProxima # Proxima æ˜¯é˜¿é‡Œå·´å·´å¼€å‘çš„å‘é‡æœç´¢å¼•æ“ï¼Œä»‹ç»å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œä¸è¿‡å®ƒæ²¡æœ‰å¼€æºï¼Œä»ä»‹ç»æ–‡ç« ä¸Šæ¥çœ‹å¾ˆç‰›é€¼ï¼Œæ€§èƒ½è¶…è¿‡ FAISSï¼Œå…·ä½“å¦‚ä½•ä¸å¤ªæ¸…æ¥šã€‚\nå‚è€ƒèµ„æ–™ # https://github.com/currentsapi/awesome-vector-search Milvus åœ¨ hacker news ä¸Šå¸–å­ï¼šhttps://news.ycombinator.com/item?id=22012300 Proxima æ·±åº¦æ­ç§˜è¾¾æ‘©é™¢å‘é‡æ£€ç´¢å¼•æ“Proximaï¼šhttps://www.sohu.com/a/454661346_612370 å¤§æ•°æ®æœç´¢æŠ€æœ¯ä¸‹ä¸€ç«™ï¼šæµ…è°ˆå‘é‡æ£€ç´¢çš„ç°çŠ¶ã€æŒ‘æˆ˜å’Œæœªæ¥ï¼šhttps://www.infoq.cn/article/j3vvye0uhlfdpnc8uyrs https://www.slidestalk.com/u45737/7Proxima72523 https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\næ¶ˆæ¯æ¥æºï¼šhttps://www.pojan.cn/kuaishou/6118.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 July 2021","externalUrl":null,"permalink":"/2021/07/24/vector_search_tools/","section":"Posts","summary":"\u003cp\u003eæ— è®ºæ˜¯æ¨èè¿˜æ˜¯æ£€ç´¢ä»»åŠ¡ï¼Œéƒ½ç¦»ä¸å¼€å‘é‡æ£€ç´¢å¼•æ“ï¼Œå½“å‘é‡æ•°é‡å·¨å¤§(ä¸Šåƒä¸‡æˆ–è€…ä¸Šäº¿è§„æ¨¡)çš„æ—¶å€™ï¼Œä½¿ç”¨ç²¾ç¡®æœç´¢(exhaustive search)çš„æ—¶é—´æˆæœ¬å¯¹äºç”¨æˆ·æ¥è¯´æ— æ³•æ¥å—ï¼Œè¿™æ—¶æˆ‘ä»¬å¿…é¡»ç”¨åˆ°è¿‘ä¼¼æœ€é‚»è¿‘æœç´¢ï¼ˆapproximate nearest neighbor, ç®€ç§° ANN)ã€‚æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§çš„å®ç°äº† ANN æœç´¢çš„å‘é‡æœç´¢å¼•æ“/å·¥å…·ã€‚\u003c/p\u003e","title":"å‘é‡æœç´¢å¼•æ“/å·¥å…·","type":"posts"},{"content":" I saw on YouTube a video made by TJ DeVries on how to contribute to the neovim project. There is a scene where he commit via git commit, and whoa, a Neovim instance appeared with three split, with top left the commit message area, top right the git-status area, and on the right the git-diff info, which is really cool.\nA little background, the default git commit only shows status info without the diff info. For commit related to changes in several files, it is difficult to remember all the diffs and summarize them in the commit message.\nI searched a bit and figured out how to do it in Neovim.\nNative git options # First, make sure that commit message editor is set to Vim or Neovim:\ngit config --global core.editor nvim We can add --verbose/-v option when commiting to show the diff info:\ngit commit -v Better, to set it permanently (for Git version above 2.9.0):\ngit config --global commit.verbose true With the above config, the diff info will be shown below the status info. For short diffs, it is acceptable, while for longer diffs, it is still not easy to check.\nUsing a plugin # committia.vim is a plugin that re-arrange the commit window for easier writing of commit messages. When you run git commit, it will automatically show a three-split window like what is shown in the title image.\nReferences # git commit -v by default: https://stackoverflow.com/q/5875275/6064933 How do I make commit diff appear in commit message while I\u0026rsquo;m editing it (with Vim)?: https://stackoverflow.com/a/26457364/6064933 https://gist.github.com/aroben/d54d002269d9c39f0d5c89d910f7307e https://vimways.org/2018/vim-and-git/ ","date":"24 July 2021","externalUrl":null,"permalink":"/2021/07/24/git_show_diff_when_commiting/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20210724122638.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eI saw on YouTube \u003ca href=\"https://www.youtube.com/watch?v=xv9cp7NyK5Y\" target=\"_blank\"\u003ea video\u003c/a\u003e made by\n\u003ca href=\"https://github.com/tjdevries\" target=\"_blank\"\u003eTJ DeVries\u003c/a\u003e on how to contribute to the \u003ca href=\"https://neovim.io/\" target=\"_blank\"\u003eneovim\nproject\u003c/a\u003e. There is a scene where he commit via \u003ccode\u003egit commit\u003c/code\u003e,\nand whoa, a Neovim instance appeared with three split, with top left the commit\nmessage area, top right the git-status area, and on the right the git-diff info,\nwhich is really cool.\u003c/p\u003e","title":"Show Git Diff When Doing Git Commit","type":"posts"},{"content":"We have a Python web service where we store some key-val pairs in redis. Occasionally, I want to delete some of the keys matching a certain pattern. Current, we are using redis-py-cluster for redis-related operations.\nWe can use scan_iter() method to search such keys and delete them. The first parameter to scan_iter() is the matching pattern. The code looks roughly like this:\nfor k in redis_client.scan_iter(\u0026#34;prefix:*\u0026#34;): redis_client.delete(k) The above code kinda works, but it is awfully slow. We can add the count option to accelerate deletion. Option count specify how many keys per scan will return. According to here, the default count is 10, which is rather small.\nbatch_size = 500 keys = [] for k in redis_client.scan_iter(\u0026#34;prefix:*\u0026#34;, count=batch_size): keys.append(k) if len(keys) \u0026gt;= batch_size: redis_client.delete(*keys) keys = [] if len(keys) \u0026gt; 0: redis_client.delete(*keys) Using a large count will speed up the deletion process significantly. I have benchmarked on about 20000 keys. Here is what I have found:\nbatch size Time taken (seconds) 100 929 500 260 1000 175 2000 133 4000 107 5000 106 10000 93 Refs # https://gist.github.com/dingmaotu/b465509f5c5d54dceacf5a2eb985c739 ","date":"20 July 2021","externalUrl":null,"permalink":"/2021/07/20/py_redis_cluster_delete_key_with_pattern/","section":"Posts","summary":"\u003cp\u003eWe have a Python web service where we store some \u003ccode\u003ekey-val\u003c/code\u003e pairs in redis.\nOccasionally, I want to delete some of the keys matching a certain pattern.\nCurrent, we are using \u003ca href=\"https://github.com/Grokzen/redis-py-cluster\" target=\"_blank\"\u003eredis-py-cluster\u003c/a\u003e for redis-related operations.\u003c/p\u003e","title":"Delete Keys Matching A Pattern with py-redis-cluster","type":"posts"},{"content":"","date":"20 July 2021","externalUrl":null,"permalink":"/tags/redis/","section":"Tags","summary":"","title":"Redis","type":"tags"},{"content":" Update log 2022-03-27: fix a typo in requiring lua modules 2022-02-08: change fastgit URL 2022-02-05: add new autocmd for auto-running command PackerCompile. Over the past two years, I have been using vim-plug as my plugin manager for Nvim. Vim-plug is powerful, fast and amazing, especially considering that all its features are contained in a single vim script. It uses the old way to manage plugins, i.e., it will manage the loading of plugins directly.\nPackages in Vim # In Vim/Nvim, we also have another way to manage plugins, that is, by using packages. It is a new way of organizing plugins. We can split plugins into two types, opt plugins and start plugins. If we put plugins in opt directory under a package, the plugins will not be loaded during initialization. If we want to use plugin foo later, we use :packadd foo to load it. For plugins under start directory, they will be loaded1 automatically after initialization.\nFor opt plugin foo, Vim will look for pack/xxx/opt/foo under paths in the option packpath. For start plugins, Vim will look for them under pack/xxx/start/ directory under paths in packpath.\nNow enter packer.nvim! # Actually, there are several plugin managers that use the package feature, for example, minpac and vim-packager, both of which are written in pure vim script.\nWith the release of the long overdue Nvim 0.5.0 and increasing importance of Lua in configuring and developing Nvim. I would like to try a plugin manager written in Lua, which also supports packages. After some survey, I decide to give packer.nvim a try, which is by far the most powerful and feature-rich2.\nI use the following script to install packer.nvim in my computer:\nvim.g.package_home = fn.stdpath(\u0026#34;data\u0026#34;) .. \u0026#34;/site/pack/packer/\u0026#34; local packer_install_dir = vim.g.package_home .. \u0026#34;/opt/packer.nvim\u0026#34; local plug_url_format = \u0026#34;\u0026#34; if vim.g.is_linux then plug_url_format = \u0026#34;https://hub.fastgit.xyz/%s\u0026#34; else plug_url_format = \u0026#34;https://github.com/%s\u0026#34; end local packer_repo = string.format(plug_url_format, \u0026#34;wbthomason/packer.nvim\u0026#34;) local install_cmd = string.format(\u0026#34;10split |term git clone --depth=1 %s %s\u0026#34;, packer_repo, packer_install_dir) -- Auto-install packer in case it hasn\u0026#39;t been installed. if fn.glob(packer_install_dir) == \u0026#34;\u0026#34; then vim.api.nvim_echo({ { \u0026#34;Installing packer.nvim\u0026#34;, \u0026#34;Type\u0026#34; } }, true, {}) vim.cmd(install_cmd) end -- Load packer.nvim vim.cmd(\u0026#34;packadd packer.nvim\u0026#34;) -- the plugin install follows from here -- .... I put it under ~/.config/nvim/lua/plugins.lua and in my init.vim, I can require it like this: lua require('plugins'). With the above script, packer will be automatically installed if it hasn\u0026rsquo;t.\nSome issues I met during transition # Issues for lazy-loaded plugins # Packer\u0026rsquo;s lazy loading of plugins based on conditions is really cool, but is also error-prone for newbies. All lazy-loaded plugins are put under opt directory. They are only added to runtimepath by packer when the specified conditions are met. This is the root cause of many issues related to missing function or modules, etc.\nFor example, if we use nvim-compe and lazy-load it, but we require its config during Nvim initialization, we will see errors during nvim startup:\nmodule \u0026lsquo;compe\u0026rsquo; not found.\nOne way to fix this is to use config key after the plugin has been loaded. See for example here.\nuse { \u0026#39;hrsh7th/nvim-compe\u0026#39;, event = \u0026#39;InsertEnter *\u0026#39;, config = [[require(\u0026#39;config.compe\u0026#39;)]] } The code for config is executed once when the plugin is loaded by packer.\nForget to run PackerCompile after changing plugin settings # After changing plugin configuration, we must run :PackerCompile. It will generate a file named packer_compiled.vim or packer_compile.lua under the directory ~/.config/nvim/plugin by default.\nWhen something went wrong, always check if you have run :PackerCompile and restarted nvim. 90% of the time, the issue will go.\nTo fix the issue once and for all, I created the following autocmd:\naugroup packer_auto_compile autocmd! autocmd BufWritePost */nvim/lua/plugins.lua source \u0026lt;afile\u0026gt; | PackerCompile augroup END After plugin configuration is changed, command PackerCompile will run automatically.\nNo way to retry plugins that failed during installation # Unlike vim-plug, when plugin installation fails, there is no re-try mechanism. We have to manually run :PackerInstall to re-install the failed plugins.\nPlugin loading order # When we want to load plugin A after B and they are both lazy-loaded, there is no need to use event for plugin A, using after condition is enough:\nuse {\u0026#39;foo/bar\u0026#39;, event = \u0026#39;VimEnter\u0026#39;} use {\u0026#39;foo/baz\u0026#39;, after = \u0026#39;bar\u0026#39;} Due to the firing of autocmd event, if we use event for both foo/bar and foo/baz, foo/baz may not be loaded after foo/bar. See also this issue.\nIssues related to lazy-loaded remote plugins # For nvim remote plugins, we need to run command :UpdateRemotePlugins to make them work properly. By running this command, a manifest file called rplugin.vim will be generated under ~/.local/share/nvim/, which records what kinds of commands a plugin provides (also see :h remote-plugin).\nFor example, for remote plugin semshi, my initial setup is:\nuse {\u0026#39;numirias/semshi\u0026#39;, run = \u0026#39;:UpdateRemotePlugins\u0026#39;, ft = \u0026#39;python\u0026#39;} It does not work well. When we run :PackerUpdate (it will run : UpdateRemotePlugins every time we update plugins), semshi may not be in runtimepath. So semshi-related command will be missing in rplugin.vim. Afterwards, when we open a Python file, we see errors that command Semshi enable is not available.\nThe correct way is to run :UpdateRemotePlugins after semshi is loaded:\nuse {\u0026#39;numirias/semshi\u0026#39;, ft = \u0026#39;python\u0026#39;, config = \u0026#39;vim.cmd [[UpdateRemotePlugins]]\u0026#39;} This way, we insure that semshi will work properly.\nSpecify the plugin url format # By default, when we use use 'aaa/bbb', packer will try to clone https://github.com/aaa/bbb.git. However, due to issue accessing github in certain areas, the user may want to use a mirror site of GitHub, for example, fastgit. Fortunately, this feature has been added recently, under the request of me ğŸ˜ƒ.\nNow, you can do the following:\nrequire(\u0026#39;packer\u0026#39;).startup( { function(use) use \u0026#39;aaa/bbb\u0026#39; use \u0026#39;foo/bar\u0026#39; end, config = { max_jobs = 16, git = { default_url_format = \u0026#39;https://hub.fastgit.xyz/%s\u0026#39; } } }) All your plugins will be cloned from fastgit instead of GitHub.\nConclusion # Although there are small issues when switching from vim-plug to packer, it is mainly because I am new to its lazy-loading feature. Overall, packer.nvim is a great choice if you want to manage plugins in lua. Considering that packer is a young plugin and the active development happening in its repo, I am sure that it will be maturer in short time.\nBTW, my packer.nvim config can be found here.\nReferences # https://github.com/wbthomason/dotfiles/blob/linux/neovim/.config/nvim/lua/plugins.lua Plugin not found issue: https://github.com/lervag/vimtex/issues/1785 Plugin functions not available in init.vim: https://github.com/wbthomason/packer.nvim/issues/4 Here, loaded means the plugin directory will be added the runtimepath.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf you want to minimal plugin manager in lua, try paq.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 July 2021","externalUrl":null,"permalink":"/2021/07/11/from_vim_plug_to_packer/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-03-27: fix a typo in requiring lua modules\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-02-08: change fastgit URL\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-02-05: add new autocmd for auto-running command \u003ccode\u003ePackerCompile\u003c/code\u003e.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eOver the past two years, I have been using \u003ca href=\"https://github.com/junegunn/vim-plug\" target=\"_blank\"\u003evim-plug\u003c/a\u003e as my plugin manager for Nvim.\nVim-plug is powerful, fast and amazing, especially considering that all its features are contained in a single vim script.\nIt uses the old way to manage plugins, i.e., it will manage the loading of plugins directly.\u003c/p\u003e","title":"Migrating from vim-plug to Packer.nvim","type":"posts"},{"content":"å¿«æ’æ˜¯ä¸€ç§å¿«é€Ÿæ’åºç®—æ³•ï¼ŒåŸç†æ˜¯ä»æ•°ç»„ä¸­é€‰æ‹©ä¸€ä¸ª pivotï¼Œæ•°ç»„ä¸­å°äºç­‰äº pivot çš„å…ƒç´ æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äº pivot çš„å…ƒç´ æ”¾åˆ°å³è¾¹ã€‚ç„¶åå¯¹å·¦è¾¹å’Œå³è¾¹æ•°ç»„åˆ†åˆ«é€’å½’è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæœ€åæ•´ä¸ªæ•°ç»„å°±æˆä¸ºæ’åºå¥½çš„æ•°ç»„ã€‚\néåŸåœ°ç®—æ³• # ä¸‹é¢æ˜¯ quicksort çš„ä¸€ç§å®ç°æ–¹æ³•ï¼ŒéåŸåœ°æ“ä½œï¼Œæ¯æ¬¡ä¼šç”³è¯·é¢å¤–çš„ç©ºé—´å­˜æ”¾å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„ï¼Œä½†æ˜¯ç†è§£ä¸Šéå¸¸ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•éš¾ç†è§£çš„åœ°æ–¹ï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;random\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;ctime\u0026gt; using std::random_device; using std::cout; using std::endl; using std::vector; using std::string; void printList(vector\u0026lt;int\u0026gt;\u0026amp;, const string\u0026amp;); vector\u0026lt;int\u0026gt; quickSort(vector\u0026lt;int\u0026gt; arr){ if (arr.size() \u0026lt;= 1){ return arr; } int N = arr.size(); // arr[mid] æ˜¯ pivot int mid = (N-1) / 2; vector\u0026lt;int\u0026gt; left; vector\u0026lt;int\u0026gt; right; for (int i = 0; i \u0026lt; N; i++){ if (i == mid) continue; // å¯¹äºåŸå§‹æ•°ç»„ï¼Œå°äºç­‰äº pivot çš„å…ƒç´ æ”¾å·¦å­æ•°ç»„ï¼Œå¤§äº pivot çš„å…ƒç´ æ”¾å³å­æ•°ç»„ if (arr[i] \u0026lt;= arr[mid]){ left.push_back(arr[i]); } else{ right.push_back(arr[i]); } } // å¯¹å·¦å³å­æ•°ç»„ï¼Œå†åˆ†åˆ«è¿›è¡Œå¿«æ’ left = quickSort(left); right = quickSort(right); vector\u0026lt;int\u0026gt; new_arr; for (auto \u0026amp; x: left){ new_arr.push_back(x); } new_arr.push_back(arr[mid]); for (auto \u0026amp; x: right){ new_arr.push_back(x); } return new_arr; } // Generate a random sequence of length len, in range(low, high) (inclusive). // need to #include\u0026lt;random\u0026gt; vector\u0026lt;int\u0026gt; genRandom(int low, int high, int len){ std::random_device rd; std::mt19937 gen(rd()); std::uniform_int_distribution\u0026lt;int\u0026gt; distribution(low, high); vector\u0026lt;int\u0026gt; arr(len, 0); for (int i = 0; i != len; ++i){ arr[i] = distribution(gen); } return arr; } void printList(vector\u0026lt;int\u0026gt;\u0026amp; arr, const string\u0026amp; desc){ cout \u0026lt;\u0026lt; desc \u0026lt;\u0026lt; \u0026#34;: \u0026#34;; for (auto it = arr.begin(); it != arr.end(); it++){ cout \u0026lt;\u0026lt; *it \u0026lt;\u0026lt; ((it != arr.end()-1) ? \u0026#39; \u0026#39; : \u0026#39;\\n\u0026#39;); } } int main() { vector\u0026lt;int\u0026gt; arr = genRandom(1, 1000, 10); cout \u0026lt;\u0026lt; \u0026#34;Before quick sort\\n\u0026#34;; printList(arr, \u0026#34;arr\u0026#34;); auto arr1 = quickSort(arr); cout \u0026lt;\u0026lt; \u0026#34;After quick sort\\n\u0026#34;; printList(arr1, \u0026#34;arr1\u0026#34;); return 0; } å¿«æ’å®ç°ä¸€ä¸ªå‘ï¼Œå¦‚æœæŠŠæ•°åˆ—ä¸­é—´å…ƒç´ ä½œä¸º pivotï¼Œpivot ä¸èƒ½åˆå¹¶åˆ°å·¦è¾¹çš„æ•°ç»„é‡Œé¢ï¼Œå¦åˆ™ä¼šé€ æˆæ— é™å¾ªç¯ï¼Œpivot å¿…é¡»å•ç‹¬æ‹¿å‡ºæ¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æ•°ç»„ä¸º arr = {2, 1}, pivot æ˜¯ arr[0],å¦‚æœæŠŠå°äºç­‰äº pivot çš„å…ƒç´ æ”¾åœ¨å·¦è¾¹æ•°ç»„ï¼ŒæŠŠå¤§äº pivot çš„å…ƒç´ æ”¾åœ¨å³è¾¹æ•°ç»„ï¼Œç»“æœä¼šæ˜¯å·¦è¾¹ {2, 1}, å³è¾¹ {}, ç„¶åå·¦å³ä¸¤è¾¹æ•°ç»„åˆè°ƒç”¨ quickSort()ï¼ŒquickSort ç»ˆæ­¢æ¡ä»¶æ˜¯ arr.size() \u0026lt;= 1ï¼Œå·¦è¾¹çš„æ•°ç»„ä¼šç»§ç»­é‡å¤ä¸Šè¿°çš„è¿‡ç¨‹ï¼Œæ°¸è¿œå¾ªç¯ä¸‹å»ã€‚\næ­£ç¡®çš„åšæ³•æ˜¯æŠŠ pivot å•ç‹¬æ‹¿å‡ºæ¥ï¼Œç„¶åå¯¹å·¦è¾¹æ•°ç»„è¿›è¡Œ quickSort é€’å½’ï¼Œå†å¯¹å³è¾¹æ•°ç»„è¿›è¡Œ quickSort é€’å½’ï¼Œç„¶åæŠŠæ’åºå¥½çš„å·¦æ•°ç»„ï¼Œpivotï¼Œæ’åºå¥½çš„å³æ•°ç»„åˆå¹¶èµ·æ¥ã€‚è¿˜ä»¥ä¸Šé¢ case ä¸ºä¾‹ï¼Œpivot æ˜¯ arr[0]ï¼Œå·¦è¾¹æ•°ç»„ {1}, å³è¾¹æ•°ç»„ {}, å·¦å³æ•°ç»„éƒ½è¾¾åˆ°ç»ˆæ­¢æ¡ä»¶è¿”å›ï¼Œç„¶åæŠŠå·¦æ•°ç»„ï¼Œpivotï¼Œå³æ•°ç»„æ‹¼èµ·æ¥ï¼Œæ’åºå¥½çš„æ•°ç»„å°±æ˜¯ {1, 2}ã€‚\nåŸåœ°ç®—æ³• # è¿˜æœ‰ä¸€ç§åŸåœ°å®ç°çš„ç®—æ³•ï¼Œä¸éœ€è¦å¼€è¾Ÿé¢å¤–çš„ç©ºé—´ï¼Œä¸è¿‡æ²¡æœ‰ä¸Šé¢çš„å®ç°é‚£ä¹ˆç›´è§‚å®¹æ˜“ç†è§£ã€‚\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;random\u0026gt; using namespace std; // Generate a random sequence of length len, in range(low, high) (inclusive). // need to #include\u0026lt;random\u0026gt; vector\u0026lt;int\u0026gt; genRandom(int low, int high, int len){ std::random_device rd; std::mt19937 gen(rd()); std::uniform_int_distribution\u0026lt;int\u0026gt; distribution(low, high); vector\u0026lt;int\u0026gt; arr(len, 0); for (int i = 0; i != len; ++i){ arr[i] = distribution(gen); } return arr; } int partion(vector\u0026lt;int\u0026gt; \u0026amp;arr, int low, int high) { int pivot = arr[low]; int i = low; for (int j = low+1; j \u0026lt; high; j++){ if (arr[j] \u0026lt;= pivot){ i++; swap(arr[i], arr[j]); } } // ç»è¿‡ä¸Šè¿° for å¾ªç¯ï¼Œ i ä»¥åŠ i å·¦è¾¹éƒ½æ˜¯å°äºç­‰äº pivot çš„å…ƒç´ ï¼Œæœ€åæŠŠ arr[i] å’Œ // pivot å…ƒç´ ä½ç½®è°ƒæ¢ä¸€ä¸‹å³å¯ã€‚å³å¯ä¿è¯æˆ‘ä»¬å®Œæˆäº† partion swap(arr[i], arr[low]); return i; } void quickSort(vector\u0026lt;int\u0026gt;\u0026amp; arr, int low, int high){ // low \u0026lt; highï¼Œæ‰éœ€è¦æ’åº if (low \u0026lt; high){ int r = partion(arr, low, high); quickSort(arr, low, r); quickSort(arr, r+1, high); } } int main() { vector\u0026lt;int\u0026gt; arr = genRandom(1, 100, 5); for(auto e: arr) cout\u0026lt;\u0026lt; e \u0026lt;\u0026lt;\u0026#34; \u0026#34;; cout\u0026lt;\u0026lt; endl; int N = arr.size(); quickSort(arr, 0, N); for(auto e: arr) cout\u0026lt;\u0026lt; e \u0026lt;\u0026lt;\u0026#34; \u0026#34;; cout\u0026lt;\u0026lt; endl; return 0; } ä¸Šè¿°å®ç°ä¸­ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯ partion() å‡½æ•°ï¼Œpartion å‡½æ•°é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸º pivotï¼Œç„¶åæŠŠ pivot ç§»åŠ¨åˆ°æœ€ç»ˆå®ƒåº”è¯¥åœ¨çš„ä½ç½®ï¼Œå¹¶ä¿è¯è¯¥ä½ç½®å·¦è¾¹éƒ½æ˜¯å°äºç­‰äº pivot çš„å…ƒç´ ï¼Œå³è¾¹éƒ½æ˜¯å¤§äº pivot çš„å…ƒç´ ï¼Œæœ€åè¿”å› pivot å…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ã€‚pivot ä¸ä¸€å®šéè¦é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé€»è¾‘å¯¹åº”æ”¹åŠ¨å³å¯ã€‚å…¶å® pivot ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–å…ƒç´ ï¼Œä¸è¿‡å®ç°èµ·æ¥æ„Ÿè§‰æ¯”è¾ƒéº»çƒ¦ï¼Œæƒ³äº†å¾ˆä¹…ï¼Œä¹Ÿæ²¡å®ç°å¯¹ï¼Œæ€»æœ‰ä¸€äº› edge case æ²¡å¤„ç†æ­£ç¡®ã€‚\nå‚è€ƒ # https://stackoverflow.com/a/22505710/6064933 ","date":"10 July 2021","externalUrl":null,"permalink":"/2021/07/10/quick_sort_impl/","section":"Posts","summary":"\u003cp\u003eå¿«æ’æ˜¯ä¸€ç§å¿«é€Ÿæ’åºç®—æ³•ï¼ŒåŸç†æ˜¯ä»æ•°ç»„ä¸­é€‰æ‹©ä¸€ä¸ª pivotï¼Œæ•°ç»„ä¸­å°äºç­‰äº pivot çš„å…ƒç´ æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äº pivot çš„å…ƒç´ æ”¾åˆ°å³è¾¹ã€‚ç„¶åå¯¹å·¦è¾¹å’Œå³è¾¹æ•°ç»„åˆ†åˆ«é€’å½’è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæœ€åæ•´ä¸ªæ•°ç»„å°±æˆä¸ºæ’åºå¥½çš„æ•°ç»„ã€‚\u003c/p\u003e","title":"å¿«æ’(quick sort) C++ å®ç°","type":"posts"},{"content":"I use Python in my work, and rarely need C++. So I need to compile this C++ cheatsheet for common STL containers/adapters, just in case I need them.\nvector # Define a 1D vector: vector\u0026lt;int\u0026gt; arr = {1, 2, 3}; Define a 2D vector: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; mat = {{1, 2, 3}, {4, 5}}; Define a 2D vector of size 3x4: vector\u0026lt;vector\u0026lt;int\u0026gt; \u0026gt; mat(3, vector\u0026lt;int\u0026gt;(4, 0)); Add an element: arr.push_back(2); Insert an element: arr.insert(arr.begin(), -1); Insert another vector: vector\u0026lt;int\u0026gt; another = {1, 2, 3}; arr.insert(arr.begin(), another.begin(), another.end()); Check its size: cout \u0026lt;\u0026lt; arr.size(); Check if vector is empty: cout \u0026lt;\u0026lt; arr.empty(); Slice a vector, i.e., get a sub-vector from an existing vector: vector\u0026lt;int\u0026gt; arr(10, 1); vector\u0026lt;int\u0026gt; new_vec(arr.begin(), arr.begin()+3); (this is end-exclusive, so the resulting vector has 3 elements) Sort a vector: In ascending order (the default): std::sort(arr.begin(), arr.end()); In descending order (we need to use custom compare function): std::sort(arr.begin(), arr.end(), std::greater\u0026lt;int\u0026gt;()); Ref:\nBest way to extract a sub-vector from a vector?: https://stackoverflow.com/q/421573/6064933 string # Define a string: string myStr = \u0026quot;hello\u0026quot;; Get string size: myStr.size() Get sub-string: myStr.substr(0, 2) (Get the substring starting at index 0 and with length 2, end-exclusive style) Get sub-string: myStr.substr(1) (Get substring starting at index 1 till the end) Check if string is empty: myStr.empty(); Generate a string with n same character ch: string(n, ch); Reverse a string: use std::reverse, std::reverse(myStr.begin(), myStr.end()). Ref:\nRepeat string n times: https://stackoverflow.com/q/166630/6064933 set (works like a Python set) # set in C++ is typically implemented using balanced binary search tree.\nDefine a set: set\u0026lt;int\u0026gt; x = {1, 2, 3}; Add an element: x.insert(5); Check size: x.size() Check if set is empty: x.empty(); Check if set contains a key: x.find(2) != x.end(); or x.count(2) != 0 Initialize set from a vector of int: vector\u0026lt;int\u0026gt; arr = {1, 2, 1, 3}; set\u0026lt;int\u0026gt; my_set(arr.begin(), arr.end()); There is also unordered_set, which is different from set:\nThe underlying implementation for set is binary search tree (BST), while the underlying implementation for unordered_set is hash table. The element in set is sorted so that their order is guaranteed, while for unordered_set, there is no guarantee for the element order. set requires less memory than unordered_set (unordered_set has to store a hash table). Search time is at most O(log(n)) for set, while for unordered_set, the search time is on average O(1), but may be O(n) in worst case (highly unlikely) map (works like a Python dict) # Typically implemented using balanced binary search tree.\nDefine an empty map: map\u0026lt;int, string\u0026gt; items;\nDefine a constant map: map\u0026lt;int, string\u0026gt; num2str = {{1, \u0026quot;ab\u0026quot;}, {2, \u0026quot;cd\u0026quot;}, {3, \u0026quot;ef\u0026quot;}};\nAdd an element: items.insert({1, \u0026quot;apple\u0026quot;}); or items[1] = \u0026quot;apple\u0026quot;;\nRemove an element: items.erase(\u0026quot;apple\u0026quot;);\nAccess a key (no check): cout \u0026lt;\u0026lt; items[1] \u0026lt;\u0026lt; endl; (we have to make sure the key exists, otherwise it will be inserted silently)\nAccess a key (with check): cout \u0026lt;\u0026lt; items.at(4); (will error out)\nShow map element key and value:\nfor (auto item: items){ cout \u0026lt;\u0026lt; item.first \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; item.second \u0026lt;\u0026lt; endl; } ref:\ndefine constant map: https://stackoverflow.com/a/8688615/6064933 Check if map contains a key: bool has_key = items.find(2) != items.end(); or items.count(2) != 0 There is also unordered_map. The different between map and unordered_map is similar to the difference between set and unordered_set. So I will not elaborate on this.\nNote that when map is defined using the const modifier, you can not access map element with operator [], since it is possible to alter map value when accessing map element like this, check this post for more details.\nqueue # Queue is a data structure that provides FIFO (first in first out) feature. Element that is added first will also be removed first.\nGet queue size: queue\u0026lt;int\u0026gt; q; cout \u0026lt;\u0026lt; q.size() \u0026lt;\u0026lt; endl; Check if queue is empty: use q.empty() or q.size() == 0 Get front element of queue: cout \u0026lt;\u0026lt; q.front() \u0026lt;\u0026lt; endl; Add element to queue: q.push(4); Pop up front element: q.pop(); stack # Stack is the opposite of queue. It provides a LIFO (last in first out) data structure. Element that is added last will be removed first.\nGet stack size: stack\u0026lt;int\u0026gt; s; cout \u0026lt;\u0026lt; s.size() \u0026lt;\u0026lt; endl; Check if stack is empty: s.empty() or s.size() == 0 Get top element from stack: cout \u0026lt;\u0026lt; s.top() \u0026lt;\u0026lt; endl; (note that getting top element when stack is empty leads to errors!) Add element to stack: s.push(1); Pop up element from stack: s.pop(); tuple # Tuple can be used to different types of data.\nCreate a tuple: std::make_tuple(\u0026quot;abc\u0026quot;, 2, 3); Get tuple element: std:get\u0026lt;0\u0026gt;(some_tuple); (get first element, really weird and unintuitive syntax!) pair # Pair can be used to hold two different data types conveniently.\nCreate a pair: pair\u0026lt;int, string\u0026gt; my_pair = std::make_pair(2, \u0026quot;abc\u0026quot;) Get pair element: my_pair.first and my_pair.second Ref:\nGet tuple element: https://stackoverflow.com/q/32606464/6064933 References # Sort vector in descending order: https://stackoverflow.com/q/9025084/6064933 Why would anyone use set instead of unordered_set?: https://stackoverflow.com/q/1349734/6064933 How to choose between map and unordered_map?: https://stackoverflow.com/q/13799593/6064933 Is there any advantage of using map over unordered_map in case of trivial keys?: https://stackoverflow.com/q/2196995/6064933 ","date":"4 July 2021","externalUrl":null,"permalink":"/2021/07/04/cpp_container_cheatsheet/","section":"Posts","summary":"\u003cp\u003eI use Python in my work, and rarely need C++.\nSo I need to compile this C++ cheatsheet for common STL containers/adapters, just in case I need them.\u003c/p\u003e","title":"A CheatSheet of C++ Container/Adapter and Common Structure","type":"posts"},{"content":"In C++, we can build a library either statically or dynamically. In this post, I want to summarize how to build a static and a shared/dynamic library1.\nBuild a static and dynamic library # Suppose we have the following source and header files.\nfoo.h:\n#ifndef _FOO_H #define _FOO_H void foo(); #endif foo.cpp:\n#include \u0026#34;foo.h\u0026#34; #include \u0026lt;iostream\u0026gt; void foo(){ std::cout \u0026lt;\u0026lt; \u0026#34;This is foo\u0026#34; \u0026lt;\u0026lt; std::endl; } main.cpp:\n#include \u0026#34;foo.h\u0026#34; int main() { foo(); return 0; } Here is how to build a dynamic and static library:\ng++ -fPIC -c foo.cpp # build a shared library g++ -shared -fPIC -o libfoo.so foo.o # build a static library ar rvs libfoo.a foo.o # build main.o object file g++ -c main.cpp Use a static and dynamic library # To link the static library and main.o to produce an executable, we use:\ng++ main.o libfoo.a -o main The order of object file and library file matters. The following won\u0026rsquo;t work for static library:\ng++ libfoo.a main.o -o main It will result in the following error:\nmain.o: In function main': main.cpp:(.text+0x5): undefined reference to foo()' collect2: error: ld returned 1 exit status\nIt is because the linker process the files from left to right. If we put static library before the object file, there is no unresolved symbols yet, all symbol in the static lib will be dropped. When the object file is processed, the symbol foo() can be resolved since it is the last object that is processed.\nAccording to here, if you pass --start-group to linker via -Wl,--start-group, the linker will search all libraries for unresolved symbol. So the following works:\ng++ -Wl,--start-group libfoo.a main.o -o main_static If we link the dynamic library with main.o, things are different. The following two commands both work:\ng++ libfoo.so main.o -o main g++ main.o libfoo.so -o main In this case, the order of library and the object file does not matter. According to answer here, if we pass --as-needed option to linker via -Wl,--as-needed, then the library file must follow the object file that depend on it.\ng++ -Wl,--as-needed libfoo.so main.o -o main_shared # will fail with undefined reference error References # Undefined reference error when using static library https://stackoverflow.com/a/23748443/6064933 https://stackoverflow.com/a/2487723/6064933 https://stackoverflow.com/q/1517138/6064933 https://stackoverflow.com/q/23748372/6064933 https://stackoverflow.com/a/4623410/6064933 link order: https://www.linuxtopia.org/online_books/an_introduction_to_gcc/gccintro_18.html https://cgold.readthedocs.io/en/latest/tutorials/libraries/symbols/link-order.html#link-order https://eli.thegreenplace.net/2013/07/09/library-order-in-static-linking For the pros and cons of using static VS dynamic library, see this post.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 July 2021","externalUrl":null,"permalink":"/2021/07/04/static_and_dynamic_linking_cpp/","section":"Posts","summary":"\u003cp\u003eIn C++, we can build a library either statically or dynamically. In this post,\nI want to summarize how to build a static and a shared/dynamic library\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\u003c/p\u003e","title":"Static and Dynamic Linkage in C++","type":"posts"},{"content":"Although std::cout in C++ is powerful, it lacks the ease of use of format string in Python. Fortunately, the 3rd party package fmt provides a similar feature for C++.\nBuild fmt # To use the fmt package, we need to build it:\ngit clone --depth 1 https://github.com/fmtlib/fmt.git cd fmt mkdir build \u0026amp;\u0026amp; cd build cmake -G \u0026#34;Unix Makefiles\u0026#34; -DCMAKE_INSTALL_PREFIX=~/tools/fmt -DCMAKE_BUILD_TYPE=Release .. make -j 8 make install This will build the static version of fmt and install it under $HOME/tools/fmt.\nTo build a dynamic library, use the following cmake command instead:\ncmake -G \u0026#34;Unix Makefiles\u0026#34; -DCMAKE_INSTALL_PREFIX=~/tools/fmt -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=TRUE .. How to use # Here is a short snippet to test it:\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;fmt/ranges.h\u0026gt; #include \u0026lt;fmt/core.h\u0026gt; using std::vector; int main() { vector\u0026lt;int\u0026gt; arr = {1, 2, 3}; fmt::print(\u0026#34;arr is {}\u0026#34;, arr); fmt::print(\u0026#34;The price of {} is {} Yuan/kg\u0026#34;, \u0026#34;apple\u0026#34;, 4.2); return 0; } Use the following comamnd to build against the static version of fmt:\ng++ -L$HOME/tools/fmt/lib64/ -I$HOME/tools/fmt/include/ test.cc -l:libfmt.a -o test_static And the following command to build against the dynamic version of fmt:\ng++ -L$HOME/tools/fmt/lib64/ -I$HOME/tools/fmt/include/ test.cc -lfmt -o test_shared To run the dynamic executable, you need to set up the env variable LD_LIBRARY_PATH properly:\nLD_LIBRARY_PATH=$HOME/tools/fmt/lib64:$LD_LIBRARY_PATH ./test_shared The size differs significantly between the static and dynamic executable files:\n32K test_shared 220K test_static References # Building fmt: https://fmt.dev/latest/usage.html#building Link library statically https://stackoverflow.com/a/20728782/6064933 https://stackoverflow.com/a/3701129/6064933 https://stackoverflow.com/q/3698321/6064933 Use a cpp package: https://stackoverflow.com/a/1656679/6064933 https://stackoverflow.com/a/46905510/6064933 https://stackoverflow.com/a/10358977/6064933 ","date":"4 July 2021","externalUrl":null,"permalink":"/2021/07/04/pretty_fmt_in_cpp/","section":"Posts","summary":"\u003cp\u003eAlthough \u003ccode\u003estd::cout\u003c/code\u003e in C++ is powerful, it lacks the ease of use of \u003ca href=\"https://docs.python.org/3/tutorial/inputoutput.html#the-string-format-method\" target=\"_blank\"\u003eformat\nstring\u003c/a\u003e in Python. Fortunately, the 3rd party package \u003ca href=\"https://github.com/fmtlib/fmt\" target=\"_blank\"\u003efmt\u003c/a\u003e\nprovides a similar feature for C++.\u003c/p\u003e","title":"Pretty Output Format in C++","type":"posts"},{"content":"","date":"3 July 2021","externalUrl":null,"permalink":"/tags/clang/","section":"Tags","summary":"","title":"Clang","type":"tags"},{"content":"Clangd is a language server for C++/C etc. I try to use clangd 12 for C++ code auto-completion on CentOS 7.\nMy failed attempt to use clang binary release # Clangd can be easily installed via its binary release. However, when I run clangd --version, I see the following error:\nclangd_12.0.0/bin/clangd: /lib64/libc.so.6: version `GLIBC_2.18\u0026rsquo; not found (required by clangd_12.0.0/bin/clangd)\nThe reason is that libc.so on CentOS 7 is too old for clangd to run. We need to use a newer version of glibc (at least glibc-2.18).\nI tried to clone glibc repo and build version 2.20 from scratch:\ngit clone https://mirrors.tuna.tsinghua.edu.cn/git/glibc.git cd glibc git checkout glibc-2.20 cd .. # Note that glibc requires out-source building, i.e., we are forbidden to build glibc inside its source directory. mkdir glibc-build ../glibc/configure --prefix=$HOME/local make -j 16 make install After that, I added $HOME/local/lib to LD_LIBRARY_PATH. Then things went badly wrong: every executable I use segfaults immediately! For example, when I run ls, I got an error from the shell:\nzsh: segmentation fault (core dumped) ls -F \u0026ndash;color=auto\nAccording to this post, this is due to version mismatch: the glibc version required to run the executable is different from what is provided right now.\nI tried the glibc-6.18 release tarball downloaded from here. The same errors happens when I add $HOME/local/lib to LD_LIBRARY_PATH and run clang.\nBuilding clangd from source: success # I also tried to build llvm project from scratch to use clangd. Here is how to compile llvm from source:\ngit clone --depth=1 https://github.com/llvm/llvm-project.git cd llvm-project mkdir build \u0026amp;\u0026amp; cd build cmake -G \u0026#34;Unix Makefiles\u0026#34; -DLLVM_ENABLE_PROJECTS=\u0026#34;clang;clang-tools-extra\u0026#34; -DCMAKE_INSTALL_PREFIX=~/tools/llvm -DCMAKE_BUILD_TYPE=Release ../llvm make -j 16 make install Some explanation about the options used:\n-DLLVM_ENABLE_PROJECTS=\u0026quot;clang;clang-tools-extra\u0026quot;: it specifies which targets we want to build. To use clangd and clang-tidy, clang-tools-extra is a must. -DCMAKE_INSTALL_PREFIX=~/tools/llvm: it specifies where we want to install llvm, in this case, we install it under ~/tools/llvm. -DCMAKE_BUILD_TYPE=Release: it specifies the build type. Release type will be smaller than Debug. For more details about Cmake options on building llvm, check here.\nSince llvm is a huge project, it may take quite a while to build. FYI, It takes about 37 minutes to build on my server with 16 parallel processes.\nAfter installing llvm, do not forget to add llvm binary to your PATH variable. This time, clangd runs without any error.\nHow to use clangd # According to clangd documentation, you can either generate a compile_commands.json file for your project or use compile_flags.txt.\nFor simple project, using compile_flags.txt is sufficient. Your compile flags are written one per line. A sample compile_flags.txt looks like this:\n-Wall -std=c++11 -L/usr/local/lib -I/usr/local/include -lfmt References # glibc segfaults issue: https://unix.stackexchange.com/q/272606/221410 https://stackoverflow.com/q/19709932/6064933 Build clangd: https://github.com/llvm/llvm-project/tree/main/clang-tools-extra/clangd#building-and-testing-clangd ","date":"3 July 2021","externalUrl":null,"permalink":"/2021/07/03/install_clangd_on_linux/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://clangd.llvm.org/\" target=\"_blank\"\u003eClangd\u003c/a\u003e is a language server for C++/C etc.\nI try to use clangd 12 for C++ code auto-completion on CentOS 7.\u003c/p\u003e","title":"Install LLVM/Clangd from Source on CentOS 7","type":"posts"},{"content":"When I want to build glibc using the provided configure script (./configure --prefix=xxx), I saw the following error message:\nconfigure: error: *** LD_LIBRARY_PATH shouldn\u0026rsquo;t contain the current directory when *** building glibc. Please change the environment variable *** and run configure again.\nHow could my LD_LIBRARY_PATH contains the current directory? Upon inspecting the env variable, I see a spurious :: inside the value of LD_LIBRARY_PATH, which means an empty item. An empty item is interpreted by ld as the current working directory. As a result, as a result, ld may load library from the current working directory, causing unintended effects, or even security vulnerability if an attacker puts some harmful library in the current directory.\nThe :: in my LD_LIBRARY_PATH is caused by the initial empty LD_LIBRARY_PATH. For example, if we use export LD_LIBRARY_PATH=/home/xxx/local/lib: $LD_LIBRARY_PATH while LD_LIBRARY_PATH is empty, it actually becomes /home/xxx/local/lib:.\nTo fix this issue, we need to check if the value of LD_LIBRARY_PATH is empty before using it:\nif [-z $LD_LIBRARY_PATH]; then export LD_LIBRARY_PATH=/home/xxx/local/lib else export LD_LIBRARY_PATH=/home/xxx/local/lib:$LD_LIBRARY_PATH fi References # https://github.com/rust-lang/cargo/issues/5796 https://bugzilla.redhat.com/show_bug.cgi?id=638365 https://www.openwall.com/lists/oss-security/2010/09/29/1 https://joshumax.github.io/general/2017/06/08/how-torch-broke-ls.html https://github.com/Linuxbrew/legacy-linuxbrew/issues/807 ","date":"3 July 2021","externalUrl":null,"permalink":"/2021/07/03/ld_library_path_empty_item/","section":"Posts","summary":"\u003cp\u003eWhen I want to build glibc using the provided configure script (\u003ccode\u003e./configure --prefix=xxx\u003c/code\u003e),\nI saw the following error message:\u003c/p\u003e","title":"Empty Entry in LD_LIBRARY_PATH May Lead to Security Issues","type":"posts"},{"content":"In this post, I would like to share how to squash commits using git-rebase.\nSquash several commits with rebase # I have a git repo with the following commit history:\n0022f04 - (HEAD -\u0026gt; master) demo 2 (2021-06-28 16:48:30 +0800) \u0026lt;jdhao\u0026gt; e4072cf - demo 1 (2021-06-28 15:49:51 +0800) \u0026lt;jdhao\u0026gt; da88b72 - line 3 (2021-06-28 14:47:43 +0800) \u0026lt;jdhao\u0026gt; 08b0518 - line 2 (2021-06-28 14:46:55 +0800) \u0026lt;jdhao\u0026gt; ac0bd14 - line 1 (2021-06-28 14:46:33 +0800) \u0026lt;jdhao\u0026gt; Since the most recent two commits are related, I want to squash them into one commit, i.e., combining commit 0022f04 and e4072cf into one. How should I do it?\nWe can use git-rebase to achieve this. First, run the following command:\n# rebase the recent two commits git rebase -i HEAD~2 Here HEAD~2 refers to commit da88b72. So we are rebasing the most recent two commits against it.\nAfter using this command, git will open the vim editor and show the following interface:\npick e4072cf demo 1 pick 0022f04 demo 2 # Rebase da88b72..0022f04 onto da88b72 (2 commands) # # Commands: # p, pick \u0026lt;commit\u0026gt; = use commit # r, reword \u0026lt;commit\u0026gt; = use commit, but edit the commit message # e, edit \u0026lt;commit\u0026gt; = use commit, but stop for amending # s, squash \u0026lt;commit\u0026gt; = use commit, but meld into previous commit # f, fixup \u0026lt;commit\u0026gt; = like \u0026#34;squash\u0026#34;, but discard this commit\u0026#39;s log message # x, exec \u0026lt;command\u0026gt; = run command (the rest of the line) using shell # b, break = stop here (continue rebase later with \u0026#39;git rebase --continue\u0026#39;) # d, drop \u0026lt;commit\u0026gt; = remove commit # l, label \u0026lt;label\u0026gt; = label current HEAD with a name # t, reset \u0026lt;label\u0026gt; = reset HEAD to a label # m, merge [-C \u0026lt;commit\u0026gt; | -c \u0026lt;commit\u0026gt;] \u0026lt;label\u0026gt; [# \u0026lt;oneline\u0026gt;] # . create a merge commit using the original merge commit\u0026#39;s # . message (or the oneline, if no original merge commit was # . specified). Use -c \u0026lt;commit\u0026gt; to reword the commit message. # # These lines can be re-ordered; they are executed from top to bottom. # # If you remove a line here THAT COMMIT WILL BE LOST. # # However, if you remove everything, the rebase will be aborted. # The two commits we want to squash are shown inversely, compared to their position in git-log output. In the interface, each line shows a specific commit. The format is \u0026lt;command\u0026gt; \u0026lt;commit-hash\u0026gt; \u0026lt;commit-msg\u0026gt;.\nFor squashing, a commit is squashed against previous commit, i.e., the line before it. Note we can not squash first commit, since there is no previous line. You will see errors if you try to do so:\nerror: cannot \u0026#39;squash\u0026#39; without a previous commit You can fix this with \u0026#39;git rebase --edit-todo\u0026#39; and then run \u0026#39;git rebase --continue\u0026#39;. Or you can abort the rebase with \u0026#39;git rebase --abort\u0026#39;. Okay, back to the rebase interface, we then edit this file and change pick in the lines after first line to squash.\npick e4072cf demo 1 squash 0022f04 demo 2 Then we use command :wq to save the edit and quit Vim. Git will automatically open another interface \u0026mdash; this time for editing the commit message of the squashed commits. It will pre-populate the file with commit messages of the squashed commits. You can keep it as is or write a new and unified message. Save the file and quit. Git will squash commit 0022f04 onto e4072cf, creating a new commit. Now, git log shows the following message:\nadc8ebd - (HEAD -\u0026gt; master) Demo 1 and 2 (2021-06-28 17:41:16 +0800) \u0026lt;jdhao\u0026gt; da88b72 - line 3 (2021-06-28 14:47:43 +0800) \u0026lt;jdhao\u0026gt; 08b0518 - line 2 (2021-06-28 14:46:55 +0800) \u0026lt;jdhao\u0026gt; ac0bd14 - line 1 (2021-06-28 14:46:33 +0800) \u0026lt;jdhao\u0026gt; How to abort rebase when we are inside vim? # If we want to abort the rebase process when we are inside Vim, how do we do it? Based on answer here, we should use command :cq to quit Vim.\nSquash commits onto first commit # If we want to squash the first three commits into one, things become a little tricky, since first commit is literally the root of all your commits, so there is no commit before it. In this case, we need to use the --root option:\ngit rebase -i --root master We have the following rebase interface:\npick ac0bd14 line 1 pick 08b0518 line 2 pick da88b72 line 3 pick adc8ebd Demo 1 and 2 # Rebase adc8ebd onto bcc1018 (4 commands) # We need to squash commit 08b0518 and da88b72 onto commit ac0bd14. So we edit the file to become the following:\npick ac0bd14 line 1 squash 08b0518 line 2 squash da88b72 line 3 pick adc8ebd Demo 1 and 2 Follow the instructions and complete the rebase process. Now we only have two commits left:\ndc5d518 - (HEAD -\u0026gt; master) Demo 1 and 2 (2021-06-28 20:07:19 +0800) \u0026lt;jdhao\u0026gt; 5452bfe - Line 1, 2 and 3 (2021-06-28 20:07:04 +0800) \u0026lt;jdhao\u0026gt; Note that if we change the parent commit, the hash of any following commits also changes. The commit has for Demo 1 and 2 changes from adc8ebd to 5452bfe.\nAvoid squashing commits that have been pushed to remote # It is now rather clear that rebasing will change the commit history. If you are collaborating with other people and have pushed some commits to the remote, and your co-workers have already check out those commits, it is best to avoid rebasing those commits. Otherwise, your co-workers would be in serious trouble!\nReferences # squash the first two commits in git: https://stackoverflow.com/a/598788/6064933 Git squash older commits: https://stackoverflow.com/a/56262851/6064933 Git merging vs rebasing: https://www.atlassian.com/git/tutorials/merging-vs-rebasing ","date":"28 June 2021","externalUrl":null,"permalink":"/2021/06/28/squash_commits_with_git_rebase/","section":"Posts","summary":"\u003cp\u003eIn this post, I would like to share how to squash commits using \u003ca href=\"https://git-scm.com/book/en/v2/Git-Branching-Rebasing\" target=\"_blank\"\u003egit-rebase\u003c/a\u003e.\u003c/p\u003e","title":"A Guide on Squashing Commits with git-rebase","type":"posts"},{"content":"æœ€è¿‘æ›´æ–°åˆ°äº† MIUI 12.5 ç³»ç»Ÿï¼Œæ™šä¸Šæ‰‹æœºçªç„¶å¼€å§‹ä¸åœé‡å¯ï¼ˆbootloopï¼‰ï¼Œæ‰‹æœºåœ¨ä¸åœé‡å¯ï¼Œè¿›å…¥ MIUI logoï¼Œç„¶ååˆå¼€å§‹é‡å¯ï¼Œæœ‰æ—¶å€™èƒ½è¿›å…¥åˆ°ç³»ç»Ÿï¼Œä½†æ˜¯è¿˜æ²¡ç­‰åˆ°æˆ‘å¼€å§‹è®¾ç½®ï¼Œåˆå¼€å§‹é‡å¯äº†ã€‚\nåŒæ—¶æŒ‰ç”µæºå’ŒéŸ³é‡åŠ ï¼Œè¿›å…¥ recovery æ¨¡å¼ï¼Œæ˜¾ç¤ºæœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š\né‡å¯ ï¼ˆrebootï¼‰ æ¸…é™¤æ•°æ®ï¼ˆwipe out data) è¿æ¥å°ç±³æ‰‹æœºåŠ©æ‰‹ ä¸è¿‡è¿™æ—¶å€™åªèƒ½æŒ‰éŸ³é‡é”®é€‰æ‹©é€‰é¡¹ï¼Œä½†æ˜¯æŒ‰ç”µæºé”®ç¡®è®¤ä¸èµ·ä½œç”¨ï¼Œæ‰‹æœºä¼šè‡ªåŠ¨è¿›å…¥é€‰æ‹©çš„é€‰é¡¹ï¼Œå¯¼è‡´ä¸å°å¿ƒæ‰‹æœºè¿›å…¥äº†æ¸…é™¤æ•°æ®æ¨¡å¼ï¼Œæ•°æ®å…¨éƒ¨è¢«æ¸…é™¤äº†ã€‚\nåæ¥ç»è¿‡å‡ æ¬¡é‡å¯ï¼Œæ‰‹æœºå¥‡è¿¹èˆ¬æ¢å¤äº†æ­£å¸¸ï¼ŒæœŸé—´æˆ‘æ‹¿æ‰äº† sim å¡ï¼Œä¸çŸ¥é“æ˜¯å¦å’Œè¿™ä¸ªæœ‰å…³ç³»ã€‚\nä»ç½‘ä¸Šä¹Ÿæ²¡æ‰¾åˆ°é è°±çš„è§£å†³åŠæ³•ï¼Œæœ‰äººè¯´ç­‰ç”µæ± è€—å°½ï¼Œç„¶åæ’ä¸Šç”µæºï¼Œé‡å¯å°±å¥½äº†ï¼›ä¹Ÿæœ‰äººåƒæˆ‘ä¸€æ ·ï¼Œé‡å¯å¤šæ¬¡ä»¥åï¼Œå¥‡è¿¹èˆ¬åˆæ¢å¤äº†æ­£å¸¸ã€‚ä½¿ç”¨ä¸¤å¹´å¤š MIUIï¼Œç¬¬ä¸€æ¬¡é‡åˆ°äº†è¿™ç§é—®é¢˜ï¼Œæ‰‹æœºé‡Œé¢çš„ç…§ç‰‡å’Œ app æ•°æ®éƒ½è¢«æ¸…ç©ºäº†ï¼Œåˆè¦é‡æ–°é…ç½®ä¸€éã€‚\nå‚è€ƒ # https://www.reddit.com/r/Xiaomi/comments/mvilwk/miui_12_stable_update_keeps_restarting_cant/ https://www.reddit.com/r/Xiaomi/comments/k3dylc/mi_9_stuck_on_infinite_boot_loop_out_of_nowhere/ https://forum.xda-developers.com/t/mi-9-stuck-loop-boot-no-fastboot-no-hard-reset.4060119/ ä¸€æ ·çš„é—®é¢˜ï¼šhttps://www.bilibili.com/video/BV1hp4y1U7ai?spm_id_from=333.905.b_7570566964656f.3 ","date":"24 June 2021","externalUrl":null,"permalink":"/2021/06/24/xiaomi9_inifite_reboot/","section":"Posts","summary":"æœ€è¿‘æ›´æ–°åˆ°äº† MIUI 12.5 ç³»ç»Ÿï¼Œæ™šä¸Šæ‰‹æœºçªç„¶å¼€å§‹ä¸åœé‡å¯ï¼ˆbootloopï¼‰ï¼Œæ‰‹æœºåœ¨ä¸åœé‡å¯ï¼Œè¿›å…¥ MIUI logoï¼Œç„¶ååˆå¼€å§‹é‡å¯ï¼Œæœ‰æ—¶å€™èƒ½è¿›å…¥åˆ°ç³»ç»Ÿï¼Œä½†æ˜¯","title":"å°ç±³9 MIUI 12 ç³»ç»Ÿå¼€æœºç•Œé¢æ— é™é‡å¯","type":"posts"},{"content":"","date":"20 June 2021","externalUrl":null,"permalink":"/tags/%E7%94%B5%E8%A7%86%E7%9B%92%E5%AD%90/","section":"Tags","summary":"","title":"ç”µè§†ç›’å­","type":"tags"},{"content":"åœ¨ ä¹‹å‰çš„æ–‡ç«  ä¸­ï¼Œæˆ‘ä»‹ç»äº†å‡ æ¬¾è¯•ç”¨çš„å®‰å“å¤–è´¸ç›’å­ï¼Œç”±äºåšå·¥ä»¥åŠè¯•ç”¨ä¸­å‘ç°çš„é—®é¢˜ï¼Œæœ€ç»ˆéƒ½æ²¡æœ‰å…¥æ‰‹ã€‚å…¶å®å“ç‰Œç”µè§†ç›’å­ï¼Œä¹Ÿæœ‰ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå°±æ˜¯å½“è´ B3 Proï¼Œè¶ç€äº¬ä¸œ 6.18 æ´»åŠ¨ï¼Œæœ€ç»ˆä»¥ 699 ä»·æ ¼å…¥æ‰‹äº†è¿™æ¬¾ç›’å­ã€‚\nå½“è´ B3 Pro é‡‡ç”¨æ™¶æ™¨ s922x å¤„ç†å™¨1ï¼Œ4G å†…å­˜+64G å­˜å‚¨ï¼Œç›’å­å…¨èº«é‡‡ç”¨æ­£æ–¹ä½“çš„è®¾è®¡ï¼Œè‡ªå¸¦ USB 3.0 æ¥å£2ï¼Œåƒå…†ç½‘å£ï¼ŒHDMI 2.1 æ¥å£ä»¥åŠä¸€ä¸ªç”µæºæ¥å£ï¼ŒåŸºäºå®‰å“ 9.0 ç³»ç»Ÿå®šåˆ¶ï¼Œéƒ½æ˜¯ç›®å‰çš„é¡¶çº§é…ç½®ï¼Œæ›´å¤šçš„å‚æ•°è§ è¿™é‡Œã€‚å®é™…ä½“éªŒä¸‹æ¥ï¼Œç³»ç»Ÿéå¸¸æµç•…ï¼Œä½“éªŒå¾ˆå¥½ã€‚\nå¸¸ç”¨è½¯ä»¶åŠè®¾ç½® # å¦‚ä½•å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨ # è¦å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œé¦–å…ˆéœ€è¦è§£é™¤åº”ç”¨å®‰è£…é™åˆ¶ï¼Œåœ¨ã€Œè®¾ç½® \u0026ndash;\u0026gt; é€šç”¨è®¾ç½®ã€æ¨¡å—ï¼Œæ‰“å¼€ã€Œå…è®¸ç¬¬ä¸‰æ–¹åº”ç”¨å®‰è£…ã€å³å¯ã€‚\nç”±äºå½“è´ç³»ç»Ÿæ˜¯åŸºäºå®‰å“ 9.0ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å®‰å“åº”ç”¨éƒ½å¯ä»¥æ­£å¸¸å®‰è£…ä½¿ç”¨ã€‚å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨æœ‰ä¸¤ç§æ–¹æ³•ï¼š\nå…ˆæŠŠåº”ç”¨ä¸‹è½½åˆ° U ç›˜ï¼Œç„¶å U ç›˜æ’å…¥ç›’å­ï¼Œç›’å­ä¼šè‡ªåŠ¨æç¤ºæ˜¯å¦æ‰“å¼€ U ç›˜ï¼Œæ‰“å¼€ä»¥åï¼Œæ‰¾åˆ°åº”ç”¨çš„ apkï¼Œç‚¹å‡»å®‰è£…å³å¯ é€šè¿‡ä¸‹é¢ä»‹ç»çš„èš‚èšå¸‚åœºè¿œç¨‹æ¨é€åº”ç”¨å®‰è£… åº”ç”¨å¸‚åœº # å½“è´è‡ªå¸¦äº†ä¸€ä¸ªåº”ç”¨å¸‚åœºï¼Œä¸è¿‡æˆ‘å‘ç°äº†ä¸€ä¸ªæ›´å¥½ç”¨çš„åº”ç”¨å¸‚åœº èš‚èšå¸‚åœº3ã€‚èš‚èšå¸‚åœºé‡Œé¢å¯ä»¥ä¸‹è½½ã€æ›´æ–°ã€åˆ é™¤åº”ç”¨ï¼ŒåŒæ—¶å®ƒè¿˜æœ‰ä¸€ä¸ªã€Œè¿œç¨‹æ¨é€ã€åŠŸèƒ½ï¼Œå¯ä»¥æ–¹ä¾¿å®‰è£…è‡ªå·±ä¸‹è½½çš„ç¬¬ä¸‰æ–¹ apkã€‚ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\né¦–å…ˆç¡®ä¿æ‰‹æœºå’Œç›’å­åœ¨åŒä¸€ä¸ªæ— çº¿ç½‘ç»œï¼ˆè¿åŒä¸€ä¸ª WiFi å³å¯ï¼‰ï¼Œåœ¨æ‰‹æœºä¸Šä¸‹è½½å¥½è¦å®‰è£…çš„åº”ç”¨ apk æ–‡ä»¶ åœ¨ç”µè§†ä¸Šæ‰“å¼€èš‚èšå¸‚åœºï¼Œè¿›å…¥ ã€Œè¿œç¨‹æ¨é€ã€ç•Œé¢ï¼Œç„¶åç”¨æ‰‹æœºçš„æµè§ˆå™¨æ‰«ææ˜¾ç¤ºçš„äºŒç»´ç ï¼Œé€‰æ‹©æ‰‹æœºä¸Šçš„ apk æ–‡ä»¶ ç¨ç­‰ç‰‡åˆ»ï¼Œapk ä¼šè¢«æ¨é€åˆ°ç›’å­ï¼Œç‚¹å‡»æ‰“å¼€å®‰è£… è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ä¸ç”¨ä½¿ç”¨ U ç›˜ä½œä¸ºä¸­ä»‹ï¼Œæƒ³è¦å®‰è£…å“ªä¸ªåº”ç”¨ï¼Œç›´æ¥ä¸‹è½½ï¼Œæ¨é€åˆ°ç›’å­ï¼Œç„¶åå®‰è£…å³å¯ã€‚\nç›´æ’­åº”ç”¨ # å¦‚æœå–œæ¬¢çœ‹å„ä¸ªå«è§†çš„ç›´æ’­ï¼Œåœ¨èš‚èšå¸‚åœºï¼Œå¯ä»¥å®‰è£…å¤šæ¬¾ç›´æ’­è½¯ä»¶ï¼Œè¿™äº›è½¯ä»¶éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œæ ¹æ®ä¸ªäººå–œå¥½å®‰è£…å³å¯ã€‚æ¯”è¾ƒä¸é”™çš„æœ‰ç”µè§†å®¶ï¼Œäº¿å®¶ç›´æ’­ã€‚\næ–‡ä»¶ç®¡ç†åº”ç”¨ # å½“è´ç³»ç»Ÿè‡ªå¸¦äº†ä¸€ä¸ªæ–‡ä»¶ç®¡ç†å™¨ï¼Œä¸è¿‡åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œä¸æ˜¯å¾ˆä¸°å¯Œï¼ˆä¾‹å¦‚è¿æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶ä¹Ÿä¸æ”¯æŒï¼‰ï¼Œæ¨èå®‰è£… x-ploreï¼Œå®‰è£…åŒ…å¾ˆå°ï¼ŒåŠŸèƒ½å´å¾ˆå¼ºå¤§ã€‚\nç¿»å¢™å·¥å…· # å¦‚æœéœ€è¦çœ‹ YouTubeï¼Œéœ€è¦å®‰è£…ç¿»å¢™å·¥å…·ï¼Œæ¨èä½¿ç”¨ Clash for Androidã€‚Clash çš„é…ç½®æ”¯æŒé€šè¿‡è®¢é˜…é“¾æ¥ä¸€æ¬¡æ€§å¯¼å…¥å¤§é‡èŠ‚ç‚¹ï¼Œéå¸¸æ–¹ä¾¿ã€‚Clash å®‰è£…å¾ˆç®€å•ï¼Œå¯ä»¥é€šè¿‡èš‚èšå¸‚åœºå®‰è£…ï¼Œä½†æ˜¯é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºç”µè§†çš„é¥æ§å™¨è¦è¾“å…¥é•¿é•¿çš„é…ç½®é“¾æ¥éå¸¸å›°éš¾ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚æ¨èä½¿ç”¨ä¸‹é¢çš„å¤åˆ¶é“¾æ¥çš„æ–¹å¼ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š\næ‰¾ä¸€ä¸ªè“ç‰™é¼ æ ‡ï¼Œæ‰“å¼€ç›’å­çš„è“ç‰™è®¾ç½®ï¼ŒæŠŠé¼ æ ‡å’Œç›’å­é…å¯¹ï¼Œåç»­å¤åˆ¶ã€ç²˜è´´é“¾æ¥ç”¨é¼ æ ‡æ“ä½œä¼šå¾ˆæ–¹ä¾¿ åœ¨è‡ªå·±çš„æœºåœºï¼Œæ‰¾åˆ°å¯¹åº”çš„ Clash è®¢é˜…é“¾æ¥ï¼Œå¤åˆ¶é“¾æ¥ï¼Œä¿å­˜åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œå‘½åä¸º clash_conf.txt)ï¼ŒæŠŠé…ç½®æ–‡ä»¶æ‹·è´åˆ° U ç›˜ï¼Œæ’å…¥ç›’å­ æ‰“å¼€ x-ploreï¼Œè¿›å…¥ U ç›˜ï¼Œæ‰“å¼€ clash_conf.txt, ç„¶åç”¨é¼ æ ‡æ“ä½œï¼Œç‚¹å‡»å³ä¸Šè§’çš„ç¼–è¾‘ï¼Œç”¨é¼ æ ‡é€‰ä¸­æ•´ä¸ªé“¾æ¥ï¼Œå¤åˆ¶é“¾æ¥ æ‰“å¼€ Clashï¼Œç‚¹å‡»ã€Œè®¾ç½®ã€ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’â•ï¼Œæ·»åŠ æ–°é…ç½®ï¼Œé€‰æ‹© ã€Œä»URL å¯¼å…¥ã€,ç„¶åç»™é…ç½®å‘½åï¼Œé“¾æ¥çš„ä½ç½®ï¼Œå•å‡»é¼ æ ‡å³é”®ï¼Œç²˜è´´åˆšæ‰å¤åˆ¶çš„é“¾æ¥ï¼Œä¿å­˜é…ç½®ï¼Œå¹¶é€‰ä¸­è¿™ä¸ªé…ç½® è¦å¯åŠ¨ Clashï¼Œç‚¹å‡»æœ€ä¸Šé¢çš„ç°è‰²å¯åŠ¨æ¡å³å¯å¯åŠ¨ã€‚å¦å¤–æ³¨æ„ Clash å¿…é¡»ä¿æŒåœ¨åå°è¿è¡Œï¼Œä¸èƒ½è¢«æ€æ­»ï¼šæ‰“å¼€å½“è´ç³»ç»Ÿè®¾ç½®ï¼Œæ‰¾åˆ°ã€åå°åº”ç”¨é™åˆ¶ã€‘ï¼Œè¿›å…¥ä»¥åï¼Œå…³é—­å¯¹ Clash for Android çš„é™åˆ¶ã€‚\né…ç½® Clash çš„æ—¶å€™ï¼Œè¿˜é‡åˆ°ä¸€ä¸ªå‘ï¼Œæ‰“å¼€ Clash çš„è®¾ç½®ä»¥åï¼Œçœ‹ä¸åˆ°æ·»åŠ é…ç½®çš„â•ï¼ŒåŸå› æ˜¯è¿™ä¸ªåº”ç”¨æ˜¯ä¸ºæ‰‹æœºç¼–å†™çš„ï¼Œç”±äºç¼©æ”¾åŸå› ï¼Œæ‰€ä»¥ç•Œé¢æœ‰ä¸€éƒ¨åˆ†åœ¨ç”µè§†ä¸Šæ²¡æ˜¾ç¤ºå‡ºæ¥ã€‚è§£å†³åŠæ³•ï¼šè¿›å…¥å½“è´ç³»ç»Ÿçš„è®¾ç½®ï¼Œé€‰æ‹©ã€æ˜¾ç¤ºè®¾ç½®ã€‘ï¼Œç‚¹å‡»ã€å±å¹•ç¼©æ”¾ã€‘ï¼Œæ”¹å˜ç¼©æ”¾æ¯”ä¾‹ï¼Œå³å¯çœ‹åˆ° app çš„å®Œæ•´ç•Œé¢ã€‚è¿™ä¸ªé—®é¢˜æµªè´¹äº†æˆ‘ä¸å°‘æ—¶é—´ã€‚\nYouTube # è§‚çœ‹ YouTubeï¼Œä¸å»ºè®®ä½¿ç”¨ YouTube å®˜æ–¹çš„ appï¼Œä¸€æ–¹é¢å› ä¸ºæœ‰çš„ç”µè§†æ²¡æœ‰è°·æ­Œæ¡†æ¶ï¼Œä½¿ç”¨å®˜æ–¹ app æ— æ³•ç™»é™†ï¼ŒåŒæ­¥è§‚çœ‹ä¿¡æ¯ï¼Œå¦å¤–ä¹Ÿæ— æ³•å»å¹¿å‘Šã€‚ä¸€äº›æ¯”è¾ƒæ—§çš„æ•™ç¨‹æˆ–è€…åšå®¢è¿˜åœ¨æ¨è Smart YouTube TVï¼Œä¸è¿‡è¿™æ¬¾åº”ç”¨çš„ GitHub å·²ç»ä¸å†æ›´æ–°äº†ï¼ŒåŸä½œè€…æ–°å¼€å‘ä¸€ä¸ª SmartTubeNext ä½œä¸ºå®ƒçš„æ›¿ä»£å“ï¼ˆä¸‹è½½åœ°å€ è¿™é‡Œï¼‰ï¼Œä½“éªŒäº†ä¸€ä¸‹ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè®¾ç½®é¡¹ä¹Ÿéå¸¸å¤šã€‚\nSmartYouTubeTV æ˜¯æ”¯æŒç™»é™†è°·æ­Œè´¦å·çš„ï¼Œåœ¨ app ä¸Šç‚¹å‡»ç™»å½•ï¼Œä¼šå‡ºç°ä¸€ä¸²éªŒè¯å­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨æ‰‹æœºæˆ–è€…ç”µè„‘ï¼Œç™»é™† https://youtube.com/activate, è¾“å…¥éªŒè¯å­—ç¬¦ï¼Œç„¶åæ ¹æ®æç¤ºæ“ä½œå³å¯ã€‚ä¸€åˆ‡æ“ä½œå®Œæˆä¹‹åï¼Œè‡ªå·±åœ¨ YouTube ä¸Šçš„è®¢é˜…ä¿¡æ¯ä»¥åŠè§‚çœ‹å†å²è®°å½•ä¼šè‡ªåŠ¨åŒæ­¥è¿‡æ¥ã€‚\næœ¬åœ°è§†é¢‘è§‚çœ‹ # è¦è§‚çœ‹ U ç›˜ä¸Šçš„æœ¬åœ°è§†é¢‘ï¼Œå¯ä»¥é€‰æ‹©å½“è´ç³»ç»Ÿè‡ªå¸¦çš„è§†é¢‘æ’­æ”¾å™¨ï¼Œè‡ªæµ‹æ•ˆæœä¸é”™ï¼Œç›®å‰è§‚çœ‹çš„è§†é¢‘éƒ½å¯ä»¥æ­£å¸¸è§£ç æ’­æ”¾ã€‚é™¤äº†è‡ªå¸¦çš„æ’­æ”¾å™¨ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¤§åé¼é¼çš„ kodiã€‚\nå‚è€ƒ # æ‚Ÿç©ºçš„æ—¥å¸¸å…³äºç”µè§†ç›’å­ç‹¬ç«‹ç¿»å¢™è§†é¢‘ï¼šhttps://www.youtube.com/watch?v=ywWBrytTeyE æ‚Ÿç©ºçš„æ—¥å¸¸å¯¹å½“è´ B3 Pro è¯„æµ‹ï¼šhttps://www.youtube.com/watch?v=bTkS8ONbA7Q ç§‘æŠ€å®…å“å¯¹å½“è´ B3 Pro è¯„æµ‹ï¼šhttps://www.youtube.com/watch?v=pVv3JVmkrFM æ›´å¤šä¿¡æ¯ï¼šhttps://androidpctv.com/comparative-amlogic-s922x/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\næœ‰ä¸€ä¸ªé—®é¢˜æ˜¯å››ä¸ªæ¥å£éƒ½åœ¨ç›’å­åæ–¹ï¼Œå¯¼è‡´å„ä¸ªæ¥å£ä¹‹é—´çš„è·ç¦»æ¯”è¾ƒè¿‘ï¼Œæ‰€ä»¥ USB 3.0 æ¥å£æ’æ‹” U ç›˜ä¸æ–¹ä¾¿ï¼Œæˆ‘ä¸“é—¨è´­ä¹°äº†äº† USB è½¬æ¥å£æ¥æ’ U ç›˜ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå®‰è£…æ•™ç¨‹ï¼šhttps://bbs.mayiapk.com/thread/17\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 June 2021","externalUrl":null,"permalink":"/2021/06/20/dangbei_b3_pro_hands_on/","section":"Posts","summary":"\u003cp\u003eåœ¨ \u003ca href=\"https://jdhao.github.io/2021/06/13/android_tv_box_reviews/\" target=\"_blank\"\u003eä¹‹å‰çš„æ–‡ç« \u003c/a\u003e ä¸­ï¼Œæˆ‘ä»‹ç»äº†å‡ æ¬¾è¯•ç”¨çš„å®‰å“å¤–è´¸ç›’å­ï¼Œç”±äºåšå·¥ä»¥åŠè¯•ç”¨ä¸­å‘ç°çš„é—®é¢˜ï¼Œæœ€ç»ˆéƒ½æ²¡æœ‰å…¥æ‰‹ã€‚å…¶å®å“ç‰Œç”µè§†ç›’å­ï¼Œä¹Ÿæœ‰ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå°±æ˜¯å½“è´ B3 Proï¼Œè¶ç€äº¬ä¸œ 6.18 æ´»åŠ¨ï¼Œæœ€ç»ˆä»¥ 699 ä»·æ ¼å…¥æ‰‹äº†è¿™æ¬¾ç›’å­ã€‚\u003c/p\u003e","title":"ç”µè§†ç›’å­ï¼šå½“è´ B3 Pro ä½¿ç”¨ä½“éªŒ","type":"posts"},{"content":"This is the 10th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ Equal sign (=) is recognized as part of file name # I have a config file where it has a line like file_path=path/to/file.txt. When the cursor is after the = sign, I tried to use gf to open the file path/to/file.txt. I got the following error:\nE447: Can\u0026rsquo;t find file \u0026ldquo;file_path=path/to/file.txt\u0026rdquo; in path.\nApparently, Vim thinks that = is part of the file name and tries to open the wrong file. It turns out that gf is using the option isfname to decide which character is valid for a file name. So we need to remove = from this option.\nset isfname-== Open a buffer in vertical split # There are several ways to do this:\n:vsplit +b{count}: {count} represents the buffer number, as shown by :ls or :buffers command. :vsplit #{count}: {count} has the same meaning as above. :vert sb {count}: {count} has the same meaning as above. :vert sb {buf_name}: {buf_name} represents the path to a file. It supports completion for buffer names, i.e., you only need to type part of the path and then press \u0026lt;Tab\u0026gt; for completion. Ref:\nhttps://vi.stackexchange.com/q/76/15292 https://vi.stackexchange.com/q/8122/15292 Disable syntax highlighting for a particular filetype # When we open a YAML file using Neovim, if the file has thousands of lines, cursor movement will be slowed down considerably due to Vim\u0026rsquo;s slow syntax highlighting feature. In this case, we may want to turn syntax highlight off for YAML based on its line numbers. We can use FileType autocmd to detect the file type and set the syntax option to disable syntax highlighting.\naugroup yaml_syntax_off autocmd! autocmd FileType yaml if line(\u0026#39;$\u0026#39;) \u0026gt; 500 | setlocal syntax=OFF | endif augroup END Note that we use setlocal syntax=OFF instead of syntax off, because syntax off will turn off syntax highlight for all the buffers currently opened, which is not what we want.\nRef:\nhttps://vi.stackexchange.com/q/298/15292 https://stackoverflow.com/q/51658852/6064933 I get error when I try to call a plugin function in init.vim? # I want to call a plugin\u0026rsquo;s function in my init.vim, but I get an error that the function does not exist? However, when nvim is opened, I call the function without any errors. What happened?\nThe called function is in a script under plugin directory. This is because the plugin has not been properly initialized. We can call the plugin function after VimEnter event:\nautocmd VimEnter * call my_plugin_func() Ref:\nhttps://vi.stackexchange.com/q/14907/15292 https://vi.stackexchange.com/q/23264/15292 https://groups.google.com/g/vim_use/c/i2HWD_9V-28?pli=1 https://github.com/wbthomason/packer.nvim/issues/4#issuecomment-662262954 Generate a list of incrementing numbers one per line # I would like to generate a list of incrementing numbers:\n1 2 3 4 5 How do we do it in Vim? First, generate a list of same numbers. Input 0 in the first line, press yy and then press 4p to generate five zeros:\n0 0 0 0 0 Then move the cursor to first 0, and press Ctrl-V, followed by 4j to visual select this block. Finally, press g, followed by pressing Ctrl-A. We will get what we want.\nAnother way is to use :put command: :put =range(1, 5), which is more concise.\nRef:\nhttps://vi.stackexchange.com/q/12/15292 ","date":"17 June 2021","externalUrl":null,"permalink":"/2021/06/17/nifty_nvim_techniques_s10/","section":"Posts","summary":"\u003cp\u003eThis is the 10th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 10","type":"posts"},{"content":"å®¶é‡Œæœ‰ä¸€å°é—²ç½®çš„ç”µè§†ï¼Œæƒ³å¹³æ—¶ç”¨æ¥çœ‹ YouTubeï¼Œçœ‹ç”µå½±ï¼Œäºæ˜¯å†³å®šå…¥æ‰‹ä¸€æ¬¾ç”µè§†ç›’å­ã€‚è¯•ç”¨äº†å‡ æ¬¾ä»·æ ¼æ¯”è¾ƒä½çš„å“ç‰Œç”µè§†ç›’å­ï¼ˆå°ç±³ã€å½“è´ï¼‰ï¼Œå‘ç°éƒ½æ— æ³•è½»æ¾è§‚çœ‹ YouTubeï¼Œå®‰è£…å®‰å“åº”ç”¨ä¹Ÿç»å¸¸è£…ä¸äº†ã€‚åœ¨å¯»æ‰¾åˆé€‚çš„ç”µè§†ç›’å­è¿‡ç¨‹ä¸­äº†è§£åˆ°å¤–è´¸ç›’å­è¿™ç§å“ç±»ï¼Œå¤–è´¸ç›’å­çš„ç‰¹ç‚¹æ˜¯é…ç½®é«˜ï¼Œä½†æ˜¯é€šå¸¸åšå·¥ä¸€èˆ¬ã€‚æœ€è¿‘ä¸€ä¸ªæœˆä¹Ÿè¯•ç”¨äº†ä¸¤æ¬¾ç”µè§†ç›’å­ï¼Œå®é™…ä¸Šæ‰‹ä½“éªŒçš„ç¡®ä¸ä½³ã€‚\nå¤–è´¸ç›’å­åŸºæœ¬çŸ¥è¯† # ç›®å‰å›½å†…æœ‰ç§ç±»ç¹å¤šçš„å¤–è´¸ç”µè§†ç›’å­ï¼Œè‰¯è ä¸é½ï¼Œè¦ä¹°ä¸€æ¬¾ç¬¦åˆéœ€æ±‚çš„ç”µè§†ç›’å­å¹¶ä¸å®¹æ˜“ã€‚æˆ‘æœ€å…³æ³¨çš„å‡ ä¸ªæ–¹é¢ï¼š\nå†…å­˜+å­˜å‚¨ç©ºé—´ï¼ˆå¯ä»¥å®‰è£…å¾ˆå¤šè‡ªå·±å–œæ¬¢çš„åº”ç”¨ï¼Œä¸ç”¨æ‹…å¿ƒè¿è¡Œå¡é¡¿ï¼‰ å®‰å“ç³»ç»Ÿç‰ˆæœ¬ï¼ˆç³»ç»Ÿå¤ªè€çš„è¯ï¼Œå¾ˆå¤šå®‰å“åº”ç”¨éƒ½æ˜¯æ— æ³•å®‰è£…çš„ï¼‰ åšå·¥ï¼ˆæœ‰çš„å®‰å“ç›’å­åšå·¥å·®åŠ²ï¼Œæ¥å£å¯èƒ½éƒ½æœ‰é—®é¢˜ï¼Œå¦å¤–æ•£çƒ­ä¹Ÿä¸è¡Œï¼‰ ä»·æ ¼ï¼ˆä¸€èˆ¬æ¥è¯´å¤–è´¸ç›’å­ä¼šæ¯”åŒç­‰é…ç½®çš„å“ç‰Œç›’å­ä¾¿å®œï¼‰ ç”±äºå¤–è´¸ç›’å­å‹å·å®åœ¨å¤ªå¤šï¼Œç»è¿‡å¤§é‡æœé›†ï¼Œæˆ‘æ€»ç»“äº†ç›®å‰åœ¨æ·˜å®æˆ–æ‹¼å¤šå¤šä¸Šèƒ½å¤Ÿä¹°åˆ°çš„ä¸€äº›å¤–è´¸ç›’å­ç›¸å…³ä¿¡æ¯ï¼š\nå‹å· CPU å†…å­˜+å­˜å‚¨ ç³»ç»Ÿ ä»·æ ¼ å¤‡æ³¨ h9x3 s905x3 4+64 å®‰å“ 9.0 260+ h96 max x3 s905x3 4+64 å®‰å“ 9.0 270+ tox1 s905x3 4+32 å®‰å“ 9.0 280 tanix tx3 s905x3 4+64 å®‰å“ 9.0 270 hk1 box s905x3 4+64 å®‰å“ 9.0 260 åšå·¥ä¸å¥½ x96 max plus s905x3 4+64 å®‰å“ 9.0 300+ åšå·¥ä¸è¡Œæ•£çƒ­å·® mecool KM2 s905x2 2+8 å®‰å“ 10.0 370+ éœ€è¦å¯Œå¼ºç¯å¢ƒæ¿€æ´» mecool KM1 s905x3 4+64 å®‰å“ 10.0 500+ éœ€è¦å¯Œå¼ºç¯å¢ƒæ¿€æ´» mecool KM6 s905x4 4+64 å®‰å“ 10.0 500+ éœ€è¦å¯Œå¼ºç¯å¢ƒæ¿€æ´» ugoos x3 plus s905x3 4+64 å®‰å“ 9.0 500+ ugoos am6 plus s922x-J 4+32 å®‰å“ 9.0 900+ gt king s922x 4+64 å®‰å“ 9.0 650 gt king pro s922x-H 4+64 å®‰å“ 9.0 830+ ä¸åŒäºæ‰‹æœºå¸¸ç”¨çš„é«˜é€šæ­é¾™ CPUï¼Œç”µè§†ç›’å­æ™®éä½¿ç”¨æ™¶æ™¨åŠå¯¼ä½“ï¼ˆAmlogicï¼‰å¼€å‘çš„ CPUï¼Œä¸‹é¢æ˜¯å„ä¸ª CPU å‹å·ä¹‹é—´çš„ä¸€äº›åŒºåˆ«ï¼š\ns905x2 vs s905x3: x3 å¢åŠ äº†ç¥ç»ç½‘ç»œåŠ é€Ÿå™¨ï¼Œæ›´é«˜çš„ DDR4 é¢‘ç‡æ”¯æŒï¼Œå…¶ä»–åŒºåˆ«ä¸å¤§ s905x4 ç‰¹æ€§: æ”¯æŒ h.265ï¼Œvp9 è§†é¢‘ï¼Œç›¸å¯¹äº s905x3ï¼Œå¢åŠ æ”¯æŒ av1 codec(ä½†è¿™ä¸ªæ ¼å¼ç›®å‰æ”¯æŒè¿˜ä¸å¹¿æ³›) s922x: æ™¶æ™¨æœ€æ–°æ——èˆ°å¤„ç†å™¨ï¼Œæ€§èƒ½å¼ºï¼Œä»·æ ¼è´µ å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ‰çš„å¤–è´¸ç›’å­é‡‡ç”¨åŸç”Ÿå®‰å“ TV ç³»ç»Ÿï¼Œæ¿€æ´»éœ€è¦å¤–ç½‘ç¯å¢ƒï¼Œä¹°ä¹‹å‰ä¸€å®šè¦å’Œå•†å®¶ç¡®å®šä¸€ä¸‹æ˜¯å¦å·²ç»æ¿€æ´»äº†ï¼Œå¦åˆ™ä¹°å›æ¥æ²¡å¯Œå¼ºç¯å¢ƒå°±æ— æ³•æ¿€æ´»ï¼Œæ— æ³•ä½¿ç”¨ã€‚\nè¿™é‡Œä¹Ÿæœ‰æ›´å¤šçš„ç”µè§†ç›’å­æ’è¡Œä¿¡æ¯ï¼šhttps://tvboxstop.com/tv-box-rank-chart-2020/\nç”µè§†ç›’å­ä½“éªŒ # ç”±äºç”µè§†ç›’å­å‹å·å®åœ¨å¤ªå¤šï¼Œçœ‹å¾—æˆ‘çœ¼èŠ±ç¼­ä¹±ï¼Œä¸çŸ¥å¦‚ä½•ä¸‹æ‰‹ã€‚çœ‹äº† YouTube ä¸Šåšä¸»çš„æ¨èï¼Œä¸€å¼€å§‹å…¥æ‰‹äº† tox1 è¿™æ¬¾ç”µè§†ç›’å­ã€‚tox1 å…¨å¡‘æ–™å¤–å£³ï¼Œå¸¦æœ‰ä¸€æ ¹å¤©çº¿ï¼Œåšå·¥ä¸€èˆ¬ï¼Œæ¥å£å€’æ˜¯æ¯”è¾ƒä¸°å¯Œï¼Œä½¿ç”¨çš„æ˜¯å®‰å“ 9.0 ç³»ç»Ÿï¼Œæ¡Œé¢ä¸æ˜¯å¾ˆå¥½ç”¨ã€‚å¦å¤–ç»è¿‡è¯•ç”¨ï¼Œå‘ç°é…çš„ä¸¤ä¸ª USB æ¥å£ï¼Œå…¶ä¸­çš„ USB 3.0 æ¥å£æ’å…¥ U ç›˜æ— ååº”ï¼Œæœæ–­é€€æ‰äº†ã€‚\nåé¢åˆå…¥æ‰‹äº†æ›´è´µçš„çš„ ugoos x3 plusï¼Œå‘ç°ä¹Ÿæ˜¯å¾ˆå‘ï¼Œé¦–å…ˆï¼Œhdmi è¿æ¥çº¿ç‰¹åˆ«çŸ­ï¼Œåªèƒ½æ‰åœ¨ç”µè§†åé¢ï¼Œå¦å¤–ï¼Œå…³æœºå†ç”¨é¥æ§å™¨å¼€æœºéå¸¸ä¸çµæ•(æœ‰å¯èƒ½æ˜¯è‡ªå¸¦çš„é¥æ§å™¨å¤ªåƒåœ¾)ï¼ŒæŒ‰å¼€æœºé”®åŠå¤©æ²¡ååº”ï¼ŒHDMI è¿˜æ˜¯æ˜¾ç¤ºæ— ä¿¡å·ï¼Œç¬¬ä¸‰ç‚¹ï¼Œæ¥æ”¶çº¢å¤–ä¿¡æ¯è¿˜éœ€è¦å¦å¤–æ’ä¸€ä¸ªçº¢å¤–è¿æ¥çº¿ï¼Œæœ€åï¼Œè™½ç„¶é…ç½®å¾ˆé«˜ï¼Œä½†æ˜¯ä½¿ç”¨ kodi æ’­æ”¾ U ç›˜ä¸Šçš„æ–‡ä»¶å¾ˆåƒåŠ›ï¼Œç»å¸¸å¡é¡¿ï¼Œæ’­æ”¾è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¹Ÿç»å¸¸å‡ºç°æ— å“åº”çš„æç¤ºï¼Œä½“éªŒéå¸¸ä¸å¥½ï¼Œå¯ä»¥çœ‹å‡ºç³»ç»ŸåŸºæœ¬æ²¡æœ‰å¤ªå¤šçš„ä¼˜åŒ–ã€‚æ€»ä¹‹ï¼Œç»™äººçš„ä½¿ç”¨ä½“éªŒå¾ˆç³Ÿç³•ï¼Œæœ€åä¹Ÿæ— å¥ˆé€€æ‰äº†ã€‚\nç”¨äº†ä¸¤æ¬¾å¤–è´¸ç›’å­ä»¥åï¼Œå¯¹å¤–è´¸ç›’å­çš„å¿ƒå‡‰äº†å¤§åŠï¼Œæœ¬æ¥æ‰“ç®—ä¹° gtking proï¼Œçœ‹è¯„æµ‹è¿™æ¬¾ç›’å­è´¨é‡ä¸é”™ï¼Œä¸è¿‡éª·é«…å¤´æ­£é¢æœ‰ç‚¹åŠé€€ï¼Œè¿™ä¸ªä»·æ ¼å®Œå…¨å¯ä»¥è´­ä¹°å½“è´ B3 Pro äº†ï¼Œæ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯æ²¡å…¥æ‰‹ã€‚\nå¦å¤–ä¸€æ¬¾æ®è¯´ä¸é”™çš„å¤–è´¸ç›’å­æ˜¯ ugoos am6 plus, é…ç½®å¼ºæ‚ï¼Œå…¨é‡‘å±æœºèº«ï¼Œæ¥å£ä¸°å¯Œï¼Œé¡¶çº§ CPU é…ç½®ï¼Œå½“ç„¶ä»·æ ¼ä¹Ÿå¾ˆé«˜ï¼Œæ‰€ä»¥å°±æ²¡æœ‰å°è¯•äº†ã€‚\nç”µè§†ç›’å­è½¯ä»¶ # ç”±äºå¤–è´¸ç›’å­æ­è½½çš„æ˜¯å®‰å“ç³»ç»Ÿï¼Œç†è®ºä¸Šå¤§éƒ¨åˆ†å®‰å“åº”ç”¨éƒ½å¯ä»¥åœ¨å¤–è´¸ç›’å­ä¸Šå®‰è£…ä½¿ç”¨ï¼Œåªä¸è¿‡æœ‰çš„åº”ç”¨æ²¡æœ‰é’ˆå¯¹ TV ç•Œé¢è¿›è¡Œä¼˜åŒ–ï¼Œä½¿ç”¨é¥æ§å™¨æ“ä½œä¼šæ¯”è¾ƒè´¹åŠ²ã€‚\nå¤–è´¸ç›’å­è‡ªå¸¦çš„æ¡Œé¢ï¼ˆlauncherï¼‰ä¸€èˆ¬éƒ½æ¯”è¾ƒä¸‘é™‹ï¼Œä¸€æ¬¾ä¸é”™çš„æ›¿ä»£å“æ˜¯ atv launcherã€‚\nç”µè§†/ç›’å­/æ‰‹æœºç›´æ’­åº”ç”¨åˆé›†ï¼š https://apphot.cc/27447.html\nå¦‚æœè¦è§‚çœ‹ YouTubeï¼Œä¸å»ºè®®ä½¿ç”¨ YouTube å®˜æ–¹çš„ appï¼Œä¸€æ–¹é¢å› ä¸ºæœ‰çš„ç”µè§†æ²¡æœ‰è°·æ­Œæ¡†æ¶ï¼Œä½¿ç”¨å®˜æ–¹ app æ— æ³•ç™»é™†ï¼ŒåŒæ­¥è§‚çœ‹ä¿¡æ¯ï¼Œå¦å¤–å®˜æ–¹ APP æ— æ³•å»å¹¿å‘Šã€‚ä¸€äº›æ¯”è¾ƒæ—§çš„æ•™ç¨‹æˆ–è€…åšå®¢è¿˜åœ¨æ¨èè¯»è€…ä½¿ç”¨ Smart YouTube TVï¼Œå…¶å®è¿™æ¬¾åº”ç”¨çš„ GitHub å·²ç»ä¸å†æ›´æ–°äº†ï¼ŒåŸä½œè€…å¼€å‘äº† SmartTubeNext ä½œä¸ºå®ƒçš„æ›¿ä»£å“ï¼Œä½“éªŒäº†ä¸€ä¸‹ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè®¾ç½®é¡¹ä¹Ÿéå¸¸å¤šï¼Œæ¨èä½¿ç”¨ã€‚\nå‚è€ƒ # æ™¶æ™¨åŠå¯¼ä½“ CPU ä¹‹é—´çš„å¯¹æ¯” https://androidpctv.com/comparative-amlogic-s905x4/ https://androidtvbox.eu/s905x2-vs-s905x3-functional-comparison-of-tv-boxes-chipsets/?amp=1 https://www.znds.com/tv-1183183-1-1.html https://n.znds.com/article/49882.html https://en.wikipedia.org/wiki/Amlogic#Comparison_table https://androidpctv.com/comparative-amlogic-s922x/ tanix tx3 ä»‹ç»ï¼š https://post.m.smzdm.com/p/alx7z03e/ å®‰å“æ¡Œé¢ launcher https://zhuanlan.zhihu.com/p/152081213 https://beebom.com/best-android-tv-launchers/ ","date":"13 June 2021","externalUrl":null,"permalink":"/2021/06/13/android_tv_box_reviews/","section":"Posts","summary":"\u003cp\u003eå®¶é‡Œæœ‰ä¸€å°é—²ç½®çš„ç”µè§†ï¼Œæƒ³å¹³æ—¶ç”¨æ¥çœ‹ YouTubeï¼Œçœ‹ç”µå½±ï¼Œäºæ˜¯å†³å®šå…¥æ‰‹ä¸€æ¬¾ç”µè§†ç›’å­ã€‚è¯•ç”¨äº†å‡ æ¬¾ä»·æ ¼æ¯”è¾ƒä½çš„å“ç‰Œç”µè§†ç›’å­ï¼ˆå°ç±³ã€å½“è´ï¼‰ï¼Œå‘ç°éƒ½æ— æ³•è½»æ¾è§‚çœ‹ YouTubeï¼Œå®‰è£…å®‰å“åº”ç”¨ä¹Ÿç»å¸¸è£…ä¸äº†ã€‚åœ¨å¯»æ‰¾åˆé€‚çš„ç”µè§†ç›’å­è¿‡ç¨‹ä¸­äº†è§£åˆ°å¤–è´¸ç›’å­è¿™ç§å“ç±»ï¼Œå¤–è´¸ç›’å­çš„ç‰¹ç‚¹æ˜¯é…ç½®é«˜ï¼Œä½†æ˜¯é€šå¸¸åšå·¥ä¸€èˆ¬ã€‚æœ€è¿‘ä¸€ä¸ªæœˆä¹Ÿè¯•ç”¨äº†ä¸¤æ¬¾ç”µè§†ç›’å­ï¼Œå®é™…ä¸Šæ‰‹ä½“éªŒçš„ç¡®ä¸ä½³ã€‚\u003c/p\u003e","title":"å®‰å“å¤–è´¸ç”µè§†ç›’å­ä½“éªŒ","type":"posts"},{"content":"We have set up a server to convert pptx files to pdf files using LibreOffice (version: 6.0.7.3 ). Libreoffice is started using subprocess.run() command in Python. The external command I use is something like the following1:\nsoffice --headless --convert-to pdf test.pptx If the client requests this service concurrently, some of the request will fail with no result. The weird part is that subprocess.run() will not report any errors. It is just that we can not convert pptx to pdf. If the client only request the service one pptx file after another, there is no error in getting the result. It seems that libreoffice can not handle multiple concurrent requests gracefully.\nI captured the stdout and stderr from the external command:\nsubprocess.run(command_list, timeout=5, stdout=subprocess.PIPE, stderr=subprocess.PIPE) I find that although the command is executed without error (r.check_status() runs without error), r.stdout and r.stderr will be empty when no pdf is generated.\nSo I add a retry strategy. If the r.stdout is empty, we will try at most three times to re-run the subprocess command. This reduces the failure numbers for concurrent requests, but there are still quite a lot of failures.\nSince one instance of libreoffice is limited in its concurrent handling of requests, why not deploy multiple instances of libreoffice? So we isolate the relevant code to generate from pptx to pdf as a separate service and deploy it in multiple docker containers. When new requests comes, it will be distributed evenly to different instances of this services. To handle more concurrent requests, we just need to deploy more docker containers. After this step, the failure rates drops to negligible count.\nIt seems that there is another way to solve this issue by spawning multiple LibreOffice instances in the same server, as documented here.\nRefs # https://ask.libreoffice.org/en/question/82515/how-can-i-run-multiple-instances-of-soffice-under-linux/ https://github.com/thecodingmachine/gotenberg/issues/94 https://github.com/algoo/preview-generator/issues/186 there are more discussions on how to convert pptx to pdf here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 June 2021","externalUrl":null,"permalink":"/2021/06/11/libreoffice_concurrent_requests/","section":"Posts","summary":"\u003cp\u003eWe have set up a server to convert pptx files to pdf files using LibreOffice\n(version: 6.0.7.3 ). Libreoffice is started using \u003ccode\u003esubprocess.run()\u003c/code\u003e command in\nPython. The external command I use is something like the following\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e:\u003c/p\u003e","title":"Serving Concurrent Requests for LibreOffice Service","type":"posts"},{"content":"A brief summary of how to read and write excel files using Pandas package.\nFirst we need to install pandas and pre-requisite:\npip install pandas pip install openpyxl # in order to read xlsx files pip install xlrd Read xlsx files # Note that in order to read xlsx files, we need to install openpyxl and use it like this:\nimport pandas as pd df = pd.read_excel(\u0026#39;test.xlsx\u0026#39;, sheet_name=0, engine=\u0026#39;openpyxl\u0026#39;) For param sheet_name, either the literal sheet name or the sheet index is okay. sheet_name=0 means to read the 1st sheet.\nConvert text in each cell to string type # When the sheet contains date and numbers, read_excel() will convert it to Timestamps and numbers by default, if we would like to convert all text to strings, we can use the dtype parameter:\ndf = pd.read_excel(\u0026#39;test.xlsx\u0026#39;, sheet_name=0, dtype=str, engine=\u0026#39;openpyxl\u0026#39;) Read empty cell as empty string # It seems that pandas will by default read empty cell as NAN values. To read empty cell as empty string, use keep_default_na=False when reading excel:\ndf = pd.read_excel(\u0026#39;test.xlsx\u0026#39;, sheet_name=0, dtype=str, engine=\u0026#39;openpyxl\u0026#39;, keep_default_na=False) Or after reading the sheet, use fillna() to replace the nan values with empty string:\ndf = pd.read_excel(\u0026#39;test.xlsx\u0026#39;, sheet_name=0, dtype=str, engine=\u0026#39;openpyxl\u0026#39;).fillna(\u0026#39;\u0026#39;) Convert panda data frame to numpy array # Use to_numpy():\ndf = pd.read_excel(\u0026#39;test.xlsx\u0026#39;, sheet_name=0, dtype=str, engine=\u0026#39;openpyxl\u0026#39;).fillna(\u0026#39;\u0026#39;) data = df.to_numpy() # data is now numpy array Convert list to excel files # To convert a list of list (each sub-list has the same number of elements) to excel files, use to_excel():\nimport pandas as pd my_list = [[1, 2, 3], [4, 5, 6]] df = pd.DataFrame(my_list) df.to_excel(\u0026#39;my_list.xlsx\u0026#39;) To remove row index, use index=False:\ndf.to_excel(\u0026#39;my_list.xlsx\u0026#39;, index=False) To add header for each column, we can provide a list of strings for each column using header parameter.\nimport pandas as pd my_list = [[1, 2, 3], [4, 5, 6]] df = pd.DataFrame(my_list) header = [\u0026#39;c1\u0026#39;, \u0026#39;c2\u0026#39;, \u0026#39;c3\u0026#39;] df.to_excel(\u0026#39;my_list.xlsx\u0026#39;, index=False, header=header) References # pandas can not open xlsx files: https://stackoverflow.com/q/65250207/6064933 pandas replace nan with blank: https://stackoverflow.com/q/45148292/6064933 https://stackoverflow.com/q/10867028/6064933 pandas how to read cell value as string: https://stackoverflow.com/q/32591466/6064933 Remove row index: https://stackoverflow.com/q/22089317/6064933 ","date":"11 June 2021","externalUrl":null,"permalink":"/2021/06/11/pandas_read_write_excel/","section":"Posts","summary":"\u003cp\u003eA brief summary of how to read and write excel files using Pandas package.\u003c/p\u003e","title":"Excel Processing using Pandas","type":"posts"},{"content":"","date":"11 June 2021","externalUrl":null,"permalink":"/tags/pandas/","section":"Tags","summary":"","title":"Pandas","type":"tags"},{"content":"I have several PDF files that I want to merge to one file. Each page in the PDF is actually an image. Here is what works best for me.\nUse pdfunite from poppler-utils package: # Pdfunite provided by package poppler-utils can be used to achieve our goal:\npdfunite a.pdf b.pdf output.pdf The size of produced PDF file is small (about the sum of size of a.pdf and b.pdf). The image quality is well preserved.\nUse convert from imagemagick: # convert a.pdf b.pdf output.pdf The images in the produced pdf have very poor quality and is blurred to be hardly recognizable. We can use -desnity option to increase the image quality:\nconvert -density 200 a.pdf b.pdf output.pdf This time, the image quality improves greatly, but the size of produced file also increases greatly (significantly larger that what is produce by pdfunite).\nOverall, using pdfunite is the best choice.\nRefs # Merge / convert multiple PDF files into one PDF How to merge pdf:s using Imagemagick (resolution problem): https://superuser.com/q/54041/736190 ","date":"31 May 2021","externalUrl":null,"permalink":"/2021/05/31/how_to_merge_pdfs/","section":"Posts","summary":"\u003cp\u003eI have several PDF files that I want to merge to one file. Each page in the PDF\nis actually an image. Here is what works best for me.\u003c/p\u003e","title":"How to Merge PDF Files","type":"posts"},{"content":"åŠ å…¥å…¬å¸å¿«ä¸‰å¹´äº†ï¼Œå½“åˆä¸€èµ·å…¥èŒçš„åŒäº‹æœ€è¿‘å‡ ä¸ªæœˆèµ°äº†è®¸å¤šï¼Œæˆ‘ä»¬ç»„ä¹Ÿæœ‰å‡ ä½åŒäº‹ç¦»èŒäº†ï¼Œé¢‘ç¹çš„äººäº‹åŠ¨è¡å¤šå°‘ä¹Ÿç»™å…¶ä»–äººå¸¦æ¥äº†å†²å‡»ï¼Œæ­£å¥½æ¥è°ˆè°ˆæœ€è¿‘ä¸€ç›´åœ¨æ€è€ƒçš„å…¬å¸å¦‚ä½•å¯¹å¾…å‘˜å·¥çš„é—®é¢˜ã€‚\nä¹”å¸ƒæ–¯è¯´è¿‡ä¸€ä¸ªç‰›é€¼çš„å·¥ç¨‹å¸ˆæ•ˆç‡æ˜¯æ™®é€šå·¥ç¨‹å¸ˆæ•ˆç‡çš„æˆç™¾ä¸Šåƒå€1ï¼š\nNow, in software, and it used to be the case in hardware, the difference between the average software developer and the best is 50:1; Maybe even 100:1.\nå…¬å¸åº”è¯¥å¯¹å‘˜å·¥å¤§æ–¹ä¸€äº›ï¼Œä¸è¦åå•¬ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæŠ€æœ¯äººå‘˜ï¼Œé…å¤‡çš„å¹²æ´»å·¥å…·åº”è¯¥å¥½ä¸€ç‚¹ï¼Œä¸è¦æ€»æ˜¯æŠ æŠ ç¼©ç¼©ã€‚å¦‚æœå·¥å…·ä¸è¡Œï¼Œæœ€ç»ˆå½±å“çš„è¿˜æ˜¯äººçš„å·¥ä½œæ•ˆç‡ï¼Œæœ€åä¸ºæ­¤ä¹°å•çš„è¿˜æ˜¯å…¬å¸ã€‚ä¸€å°ç¬”è®°æœ¬æˆ–è€…å°å¼ç”µè„‘æ‰èƒ½å€¼å¤šå°‘é’±ï¼Ÿä¸€ä¸ªå¥½çš„æ˜¾ç¤ºå™¨èƒ½å¤šå°‘é’±ï¼Ÿè¿ä¸€ä¸ªæŠ€æœ¯äººå‘˜ä¸€ä¸ªæœˆçš„å·¥èµ„éƒ½ä¸åˆ°ã€‚\nå¦‚æœä¸€ä¸ªäººç¦»èŒï¼Œé‚£ä»–ç¦»èŒå‰çš„ä¸€ä¸ªæœˆç”šè‡³æ›´é•¿æ—¶é—´ï¼Œå¹¶ä¸ä¼šç»™å…¬å¸åˆ›é€ å¤šå¤§ä»·å€¼äº†ï¼Œå…¬å¸è¿˜è¦è¡¥å¿ç¦»èŒè¡¥è´´ã€‚å¦å¤–ï¼Œä¸€ä¸ªå‘˜å·¥ç¦»èŒï¼Œå…¬å¸éœ€è¦æ‰¾å…¶ä»–äººæ¥ç†Ÿæ‚‰ä»–è´Ÿè´£çš„ä¸œè¥¿ï¼Œåˆšç†Ÿæ‚‰è¿™ä¸ªä¸œè¥¿çš„äººï¼Œæœ‰ä¸€æ®µæ—¶é—´æ˜¯æ²¡æœ‰äº§å‡ºçš„ï¼Œåˆæ˜¯å¾ˆå¤§çš„ä¸€ç¬”å¼€é”€ï¼Œè¿™æ ·ç®—ä¸‹æ¥å…¬å¸çš„æŸå¤±æ›´å¤§ã€‚ä½œä¸ºå…¬å¸çš„ç®¡ç†è€…ï¼Œæ€»æ˜¯å»ç®—å°è´¦æ˜¯å¾ˆç³Ÿç³•çš„ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œå¯¹å‘˜å·¥å¥½ï¼Œå¯¹å…¬å¸æœ‰å¥½å¤„ï¼Œæœ‰åˆ©äºå…¬å¸çš„å‘å±•ã€‚\n2020 å¹´ï¼Œã€Œæ‰“å·¥äººã€è¿™ä¸ªè¯ä¹Ÿç«äº†èµ·æ¥ï¼Œ996 å¯¹äºæŠ€æœ¯å‹å…¬å¸çœŸçš„å¥½å—ï¼Ÿè€æ¿æ€»ä»¥ä¸ºè®©æ‰“å·¥äººå¤šå‘†åœ¨å…¬å¸ï¼Œå°±æ˜¯èµšåˆ°äº†ï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Œæœ‰è¿œè§çš„ç®¡ç†è€…éƒ½åº”è¯¥æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚æ¯ä¸ªäººæ¯å¤©æœ‰æ•ˆç‡çš„æ—¶é—´ä¸æ˜¯æ— é™çš„ï¼Œå°±ç®—è®©å‘˜å·¥å¾…åœ¨å…¬å¸ï¼Œä»–ä¹Ÿå¹¶ä¸èƒ½æé«˜ç”Ÿäº§åŠ›ã€‚å¾ˆå¤šæ—¶é—´å…¶å®æ˜¯æµªè´¹äº†ï¼Œè¦ä¹ˆæ‘¸é±¼ã€çœ‹æ‰‹æœºï¼Œè¦ä¹ˆä¸Šå•æ‰€å–æ°´ï¼ŒçœŸæ­£åœ¨å¹²æ´»çš„æ—¶é—´èƒ½æœ‰å¤šå°‘ï¼Ÿé•¿æ—¶é—´çš„å·¥ä½œä¼šæ¶ˆç£¨äººçš„çƒ­æƒ…ï¼Œé™ä½äººçš„æ•ˆç‡ï¼Œè¿˜ä¼šè®©å‘˜å·¥äº§ç”Ÿä¸€ç§ç†æ‰€åº”å½“çš„æ‘¸é±¼çš„å¿ƒæ€ï¼šåæ­£ä¸‹ç­èµ°ä¸äº†ï¼Œä¸å¦‚æ…¢æ…¢å¹²æˆ–è€…æ‰¾æ—¶é—´ä¼‘æ¯ä¸€ä¸‹ï¼Œçœ‹çœ‹æ‰‹æœºã€‚é•¿æ­¤ä»¥å¾€å¯¹äºå…¬å¸å¹¶æ²¡æœ‰å¥½å¤„ï¼Œåªä¼šé™·å…¥æ­£å¸¸æ—¶é—´å¹²æ´»æ•ˆç‡ä½ï¼ŒåŠ ç­æ¥åšå·¥ä½œçš„æ€ªåœˆï¼Œåšå‡ºæ¥çš„ä¸œè¥¿è´¨é‡èƒ½é«˜åˆ°å“ªé‡Œå»å‘¢ï¼Ÿæé«˜å‘˜å·¥å¹²æ´»çš„æ•ˆç‡ï¼Œè®©å‘˜å·¥å°½æ—©ä¸‹ç­æ‰æ˜¯æ›´å¥½çš„æ–¹å¼ã€‚\næ¥æºï¼šhttp://www.geekmind.net/2012/07/steve-jobs-on-average-vs-best-software.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"23 May 2021","externalUrl":null,"permalink":"/2021/05/23/how_company_should_treat_its_employee/","section":"Posts","summary":"\u003cp\u003eåŠ å…¥å…¬å¸å¿«ä¸‰å¹´äº†ï¼Œå½“åˆä¸€èµ·å…¥èŒçš„åŒäº‹æœ€è¿‘å‡ ä¸ªæœˆèµ°äº†è®¸å¤šï¼Œæˆ‘ä»¬ç»„ä¹Ÿæœ‰å‡ ä½åŒäº‹ç¦»èŒäº†ï¼Œé¢‘ç¹çš„äººäº‹åŠ¨è¡å¤šå°‘ä¹Ÿç»™å…¶ä»–äººå¸¦æ¥äº†å†²å‡»ï¼Œæ­£å¥½æ¥è°ˆè°ˆæœ€è¿‘ä¸€ç›´åœ¨æ€è€ƒçš„å…¬å¸å¦‚ä½•å¯¹å¾…å‘˜å·¥çš„é—®é¢˜ã€‚\u003c/p\u003e","title":"å¥åº·çš„å…¬å¸å’Œå‘˜å·¥å…³ç³»","type":"posts"},{"content":"ç»™è€å®¶çš„ç”µè§†é…äº†ä¸€ä¸ªå°ç±³ç›’å­ 4s(å®‰å“ 6.0 ç³»ç»Ÿï¼Œ2gå†…å­˜+8gå­˜å‚¨ï¼Œå‚è€ƒè¿™é‡Œ)ï¼Œæ„Ÿè§‰å¯ä»¥ï¼Œå›æ·±ä»¥åä¹Ÿæƒ³ç»™è¿™è¾¹çš„ç”µè§†é…ä¸€ä¸ªç›’å­ã€‚äº¬ä¸œä¸Šå½“è´ç›’å­ H1 çš„è¯„ä»·ä¸é”™ï¼Œå°±å…¥æ‰‹äº†å½“è´ç›’å­ H1ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ä½¿ç”¨æ„Ÿå—ã€‚\nå½“è´ç›’å­ H1 åšå·¥ä¸é”™ï¼Œæ¯”å°ç±³ç›’å­ 4s è¦æ²‰ï¼Œç¡¬ä»¶æ–¹é¢ï¼Œä½¿ç”¨çš„åä¸ºæµ·æ€å¤„ç†å™¨ï¼Œé…ç½®äº† 2G å†…å­˜ + 16G å­˜å‚¨ï¼Œç³»ç»Ÿé‡‡ç”¨è‡ªå®¶çš„å½“è´ OSï¼Œæ¯”è¾ƒç®€æ´ï¼Œå¯ä»¥è‡ªå®šä¹‰ç•Œé¢ï¼Œä½†æ˜¯å‘çˆ¹çš„åœ°æ–¹åœ¨äºç³»ç»ŸåŸºäºéå¸¸è€æ—§çš„ Android 4.0 å®šåˆ¶ï¼Œå¹¶ä¸”æ— æ³•å‡çº§1ã€‚åœ¨æ‰‹æœºå®‰å“ç³»ç»Ÿéƒ½è¦è¿›å…¥ 11.0 çš„æ—¶ä»£ï¼Œä¸æ˜ç™½å½“è´ä¸ºä»€ä¹ˆè¿˜ç»™ç›’å­å¼„ä¸€ä¸ªå¦‚æ­¤è€æ—§çš„ç³»ç»Ÿã€‚äººå®¶å°ç±³çš„ç›’å­ 4S å¥½æ­¹ä¹Ÿæ˜¯å®‰å“ 6.0 ä»¥ä¸Šçš„ç³»ç»Ÿã€‚\nå½“è´ç›’å­å¯ä»¥æ­£å¸¸å®‰è£…å’Œä½¿ç”¨å½“è´å¸‚åœºï¼Œç”µè§†å®¶ç­‰å¸¸ç”¨çš„åº”ç”¨ï¼Œä½†æ˜¯ç”±äºç³»ç»Ÿç‰ˆæœ¬çš„ç¼ºé™·ï¼Œå¯¼è‡´å¾ˆå¤šç¬¬ä¸‰æ–¹åº”ç”¨æ— æ³•å®‰è£…ï¼Œæˆ–è€…å®‰è£…ä»¥åæ— æ³•æ‰“å¼€ï¼Œæˆ–è€…å®‰è£…ä»¥åå¯ä»¥æ‰“å¼€ä½†æ˜¯åŠŸèƒ½è¿è¡Œä¸æ­£å¸¸ã€‚æˆ‘ä¸ºäº†åœ¨ç›’å­ä¸Šè§‚çœ‹ youtube è§†é¢‘ï¼Œæƒ³è¦å®‰è£… Clash å®‰å“ç‰ˆï¼Œç»“æœç›´æ¥å®‰è£…ä¸ä¸Šï¼Œä¹Ÿè¯•äº† SSR æˆ–è€… v2rayNG ç­‰å¤šæ¬¾å¯Œå¼ºè½¯ä»¶ï¼Œéƒ½ä¸èƒ½å®‰è£…æˆ–æ— æ³•æ­£å¸¸å·¥ä½œã€‚æœ¬åœ°æ’­æ”¾è§†é¢‘è½¯ä»¶ Kodi æœ€æ–°ç‰ˆä¹Ÿæ— æ³•åœ¨å½“è´ç›’å­ H1 ä¸Šå®‰è£…ã€‚æ‰€ä»¥å¦‚æœæƒ³å¯¹ç”µè§†ç›’å­è¿›è¡Œæ›´å¤šçš„é…ç½®æˆ–è€…å®‰è£…æ–°çš„åº”ç”¨ï¼Œè¿™æ¬¾ç›’å­éå¸¸ç³Ÿç³•ï¼Œå®Œå…¨ä¸å€¼å¾—ä¹°ï¼Œå¦‚æœåªæ˜¯çœ‹ä¸€äº›å›½å†…çš„èŠ‚ç›®ï¼Œè¿™æ¬¾ç›’å­è¿˜è¡Œã€‚\nå½“è´ H1 ä¸è¡Œï¼Œå½“è´å…¶ä»–æ›´é«˜ç«¯çš„ç›’å­è¿˜æ˜¯å¯ä»¥çš„ï¼Œè­¬å¦‚å½“è´B1 Pro å’Œå½“è´ B3 Pro é…ç½®çš„ç³»ç»Ÿåˆ†åˆ«ä¸ºå®‰å“ 7.1 å’Œå®‰å“ 9.0ï¼Œåº”è¯¥èƒ½æ»¡è¶³ç”¨æˆ·æŠ˜è…¾çš„éœ€æ±‚äº†ã€‚ä¸è¿‡è¿™ä¿©ç›’å­çš„ä»·æ ¼ä¹Ÿä¸ä¾¿å®œï¼Œä¸€ä¸ª 579ï¼Œä¸€ä¸ª 829ã€‚æœ‰è¿™ä¸ªä»·æ ¼ï¼Œä¹°ä¸ªå¤–è´¸ç›’å­ä¸é¦™å—2ï¼Œé…ç½®é«˜ï¼Œä»·æ ¼è¿˜æ²¡è¿™ä¹ˆè´µ (è¿™ç¯‡æ–‡ç« å‘å‡ºåçš„ä¸€æ®µæ—¶é—´ï¼Œè¯•ç”¨äº†å‡ æ¬¾å¤–è´¸ç›’å­ï¼Œå‘ç°å¤–è´¸ç›’å­å¹¶æ²¡æœ‰é‚£ä¹ˆé¦™)ã€‚\nçœ‹ç½‘ä¸Šçš„è¯„è®ºï¼Œæœ‰äººè¯´æ˜¯å› ä¸ºé‡‡ç”¨çš„æ˜¯åä¸ºçš„æµ·æ€å¤„ç†å™¨ï¼Œæ‰€ä»¥æ— æ³•å‡çº§ç³»ç»Ÿï¼Œä¸çŸ¥é“æ˜¯å¦æ˜¯è¿™æ ·ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nç”¨äº†å‡ æ¬¾å¤–è´¸ç›’å­ï¼Œå‘ç°äº†å„ç§å‘ï¼Œçœ‹æ¥å¤–è´¸ç›’å­ä¹Ÿä¸æ˜¯é‚£ä¹ˆé¦™çš„ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"9 May 2021","externalUrl":null,"permalink":"/2021/05/09/dangbei_h1_hands_on_experience/","section":"Posts","summary":"\u003cp\u003eç»™è€å®¶çš„ç”µè§†é…äº†ä¸€ä¸ªå°ç±³ç›’å­ 4s(å®‰å“ 6.0 ç³»ç»Ÿï¼Œ2gå†…å­˜+8gå­˜å‚¨ï¼Œå‚è€ƒ\u003ca href=\"https://m.mi.com/commodity/detail/12924\" target=\"_blank\"\u003eè¿™é‡Œ\u003c/a\u003e)ï¼Œæ„Ÿè§‰å¯ä»¥ï¼Œå›æ·±ä»¥åä¹Ÿæƒ³ç»™è¿™è¾¹çš„ç”µè§†é…ä¸€ä¸ªç›’å­ã€‚äº¬ä¸œä¸Šå½“è´ç›’å­ H1 çš„è¯„ä»·ä¸é”™ï¼Œå°±å…¥æ‰‹äº†å½“è´ç›’å­ H1ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ä½¿ç”¨æ„Ÿå—ã€‚\u003c/p\u003e","title":"å½“è´ç›’å­ H1 ä½¿ç”¨ä½“éªŒ","type":"posts"},{"content":"My notes on using tag feature of Git.\nWe can use git-tag to create a memorable name for a specific commit, for example, v1.0, v2.0.\nCreate tags # Lightweight and annotated tags # There are two different types of tag: lightweight and annotated tag.\nTo create lightweight tags, do not use -a option:\ngit tag v0.5 To create annotated tags, use -a option and -m (for tag message):\ngit tag -a v0.5 -m \u0026#34;some info about this commit\u0026#34; For annotated tags, when we use git show {tag-name}, the tag message will also be displayed.\nTag a specific commit # To tag a specific commit, we can provide its commit hash:\n# in this example, 8a5cbc4 is the commit hash. git tag -a v1.2 8a5cbc4 -m \u0026#34;some information related to this tag\u0026#34; List tags # To list tags, use git tag -l or just git tag.\nGit-tag also supports globing for tags matching a pattern. For example, to list all tags in version 1.1 series, use git tag -l \u0026quot;v1.1.*\u0026quot;.\nShow a tag # To show a tag, use git show {tag_name}, for example, git show v1.0.\nPush tags to remote # To push a tag to remote repo, we have to explicitly push it. git push origin {branch-name} does not work in this case.\n# this will push tag v1.2 to origin git push oirgin v1.2 To push all tags to remote, use command git push origin --tags.\nDelete a tag # To delete a tag, use git tag -d {tag-name}, for example, to delete tag v1.2, we use git tag -d v1.2.\nTo delete a tag in remote repo, use git push {remote-name} -d {tag-name}.\nReferences # https://git-scm.com/book/en/v2/Git-Basics-Tagging https://git-scm.com/book/en/v2/Git-Basics-Tagging annotated vs non-annotated tags: https://stackoverflow.com/a/11514139/6064933 ","date":"8 May 2021","externalUrl":null,"permalink":"/2021/05/08/git_tag_notes/","section":"Posts","summary":"\u003cp\u003eMy notes on using tag feature of Git.\u003c/p\u003e","title":"How to Use The Git-tag Feature","type":"posts"},{"content":"å°ç±³ç›’å­ 4s æ˜¯å°ç±³åœ¨ 2020 å¹´æ¨å‡ºçš„æœ€æ–°æ¬¾ç›’å­äº§å“ï¼Œé¢œå€¼é«˜ï¼Œä½¿ç”¨èµ·æ¥æ•ˆæœä¹Ÿä¸é”™ã€‚\nåˆæ¬¡è®¾ç½® # æ¥å¥½ç”µæºï¼Œç”¨é™„å¸¦çš„ hdmi çº¿æ¥åˆ°ç”µè§†çš„ hdmi æ¥å£(æ–°ç”µè§†ä¸€èˆ¬éƒ½ä¼šæœ‰ hdmi æ¥å£)ï¼Œä½¿ç”¨ç”µè§†é¥æ§å™¨åˆ‡æ¢ä¿¡å·æºï¼Œåˆ‡æ¢åˆ° HDMI å³å¯æ˜¾ç¤ºç›’å­ç•Œé¢ã€‚æŒ‰ç…§æç¤ºï¼Œä¸€æ­¥ä¸€æ­¥è®¾ç½®å³å¯ã€‚\næ€»çš„ä½“éªŒ # å°ç±³ç›’å­ç•Œé¢åŸºäº Android ç³»ç»Ÿï¼Œæ•´ä½“ç•Œé¢ä¸é”™ï¼ŒUI ä¹Ÿæ¼‚äº®ã€‚ä¸è¿‡é»˜è®¤çš„æ ‡å‡†æ¨¡å¼æ ç›®å¤ªå¤šï¼Œä¸æ˜¯å¾ˆæ–¹é¢ï¼Œæˆ‘ç›´æ¥æŠŠæ¨¡å¼åˆ‡æ¢æˆäº†â€œè€äººæ¨¡å¼â€ï¼Œæ„Ÿè§‰æ›´ç®€æ´å¥½ç”¨ã€‚\nå®‰è£…å½“è´å¸‚åœº # æŒ‰ç›’å­é¥æ§å™¨çš„ä¸Šé”®ï¼Œç§»åŠ¨åˆ°è®¾ç½®ï¼Œè¿›å…¥\u0026quot;è´¦å·ä¸å®‰å…¨\u0026quot;è®¾ç½®ï¼ŒæŠŠ\u0026quot;å®‰è£…æœªçŸ¥æ¥æºçš„åº”ç”¨\u0026quot;è®¾å®šä¸ºå…è®¸ã€‚\nç”¨å°ç±³æ‰‹æœºè‡ªå¸¦çš„æµè§ˆå™¨ä¸‹è½½å½“è´å¸‚åœºï¼Œç”¨å…¶å®ƒæµè§ˆå™¨ä¸‹è½½ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯è¦æ‰¾åˆ°æ–‡ä»¶å…·ä½“ä½ç½®ï¼ŒæŠŠæ–‡ä»¶ç§»åŠ¨åˆ°å­˜å‚¨æ ¹ç›®å½•ï¼Œè¦ä¸ç„¶ç­‰ä¼šå°ç±³ç”µè§†åŠ©æ‰‹æ— æ³•æ‰¾åˆ°ä¸‹è½½çš„ apkã€‚ä¸è¦å®‰è£…è¯¥ apkï¼Œè¿™æ˜¯ä¸ºç”µè§†ç³»ç»Ÿå®šåˆ¶çš„ apkã€‚\nä»åº”ç”¨å•†åº—ä¸‹è½½å°ç±³ç”µè§†åŠ©æ‰‹ï¼Œå®‰è£…å¥½ä»¥åï¼Œè¿›å…¥åº”ç”¨ï¼Œä¼šè‡ªåŠ¨æç¤ºæ˜¯å¦è¿æ¥å°ç±³ç›’å­ 4sï¼Œç‚¹å‡»è¿æ¥å³å¯ã€‚ç„¶åï¼Œç‚¹å‡»æœ¬åœ°åº”ç”¨ï¼Œä¼šçœ‹åˆ°åˆšæ‰ä¸‹è½½çš„å½“è´åº”ç”¨å¸‚åœºï¼Œå³è¾¹æœ‰\u0026quot;å®‰è£…åˆ°ç”µè§†\u0026quot;çš„é€‰é¡¹ï¼Œé€‰æ‹©ä»¥åï¼Œç­‰å¾…ä¸€ä¼šï¼Œå½“è´å¸‚åœºå°±å®‰è£…å¥½äº†ã€‚\nå›åˆ°å°ç±³ç›’å­ä¸»ç•Œé¢ï¼Œç§»åŠ¨åˆ°å³è¾¹çš„\u0026quot;åº”ç”¨\u0026quot;æ ç›®ï¼Œæ‰“å¼€\u0026quot;æˆ‘çš„åº”ç”¨\u0026quot;ï¼Œåœ¨é‡Œé¢å¯ä»¥çœ‹åˆ°ä¸‹è½½çš„å½“è´å¸‚åœºï¼Œç‚¹å‡»æ‰“å¼€ï¼Œç„¶åå¯ä»¥æœç´¢ä¸‹è½½æƒ³è¦å®‰è£…çš„åº”ç”¨ã€‚\nå®ç”¨åº”ç”¨ # çœ‹ç”µè§†çš„è¯ï¼Œå¯ä»¥åœ¨å½“è´å¸‚åœºä¸‹è½½\u0026quot;ç”µè§†å®¶3.0\u0026quot;ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œé¢‘é“å¾ˆå¤šã€‚\nç”µå½±çš„è¯ï¼Œå¯ä»¥ä¸‹è½½ æå…‰å½±é™¢tvç‰ˆæœ¬ã€‚\nå‚è€ƒ # https://www.znds.com/jc/waparticle/706036.html https://hi-andy.com/note/Android_TV/ https://www.sharerw.com/a/ziyuan/ ","date":"30 April 2021","externalUrl":null,"permalink":"/2021/04/30/xiaomi_mi_box_setup/","section":"Posts","summary":"\u003cp\u003eå°ç±³ç›’å­ 4s æ˜¯å°ç±³åœ¨ 2020 å¹´æ¨å‡ºçš„æœ€æ–°æ¬¾ç›’å­äº§å“ï¼Œé¢œå€¼é«˜ï¼Œä½¿ç”¨èµ·æ¥æ•ˆæœä¹Ÿä¸é”™ã€‚\u003c/p\u003e","title":"å°ç±³ç›’å­ 4s åˆä½“éªŒ","type":"posts"},{"content":"åœ¨å‘¨æœ«è·Ÿç€å›¢é˜Ÿæ¥å¹¿å·å›¢å»ºï¼Œç¬¬äºŒæ¬¡æ¥å¹¿å·ç©ã€‚\nåœ¨å¹¿å·èåˆ›é›ªä¸–ç•Œæ»‘é›ªï¼Œåœ¨åŒ—äº¬çš„æ—¶å€™æ»‘è¿‡ä¸€æ¬¡ï¼Œä¸è¿‡å·²ç»å…¨å¿˜äº†è¿‡å»çš„ç»éªŒï¼Œä»¥è‡³äºåœ¨åˆšå¼€çš„ä¸€å°æ—¶è‰°éš¾è¡ŒåŠ¨ï¼Œæµªè´¹äº†æ—¶é—´ã€‚ç´¢æ€§ç›´æ¥ä¸Šç»ƒä¹ èµ›é“å¼€å§‹æ»‘ï¼Œæ‘”äº†ä¸€æ¬¡ä¹‹åï¼Œå°±æ²¡æœ‰å†æ‘”äº†ã€‚é‡è¦çš„æ˜¯è¦å…‹æœææƒ§çš„å¿ƒç†ï¼Œå†åŠ ä¸€äº›åŸºæœ¬çš„æŠ€å·§å°±å¯ä»¥æ»‘äº†ã€‚\nç¬¬äºŒå¤©çš„å¨±é›ªé¡¹ç›®åˆ™æ¯”è¾ƒå°å„¿ç§‘ï¼Œä¸‹åˆçš„æ¸¸ä¹å›­æ´»åŠ¨ä¹Ÿæ¯”è¾ƒä¼‘é—²ï¼Œä½“éªŒäº†å‡ ä¸ªé¡¹ç›®ä¹‹åä¾¿ç»“æŸäº†ã€‚\nä¸‹åˆå»å¸‚åŒºè§äº†å¥½å‡ å¹´æ²¡è§çš„åŒå­¦ï¼Œä¸€èµ·åœ¨ç æ±Ÿè¾¹èµ°äº†èµ°ï¼ŒèŠäº†å·¥ä½œå’Œç”Ÿæ´»ï¼Œäººäººæœ‰æœ¬éš¾å¿µçš„ç»ã€‚æ™šä¸Šå»åƒäº†å¹¿å·çš„é™¶é™¶å±…ï¼Œå’Œç‚¹éƒ½å¾·ä¸€æ ·éƒ½æ˜¯ä¸»è¥å¹¿å¼èŒ¶ç‚¹ï¼Œå‘³é“è¿˜ä¸é”™ã€‚\næ™šä¸Šåä¸‰å·çº¿ä½“éªŒåˆ°äº†æ— ä¸ä¼¦æ¯”çš„æ‹¥æŒ¤ï¼Œå¤§æ¦‚åªæœ‰åœ¨åŒ—äº¬æ—¶å€™å 10 å·çº¿å»åŒ—äº¬å—ç«™ä½“éªŒè¿‡ã€‚ä¸‰å·çº¿çš„åœ°é“é‡Œåˆæ½®æ¹¿ï¼Œåˆé—·çƒ­ï¼Œä½“éªŒæå·®ï¼ŒçœŸæ˜¯ç³Ÿç³•çš„ä½“éªŒã€‚å¹¿å·å’Œæ·±åœ³ä¸€æ ·ï¼Œå¹´è½»äººå¤šï¼Œèµ°åœ¨è¡—ä¸Šæ˜ å…¥çœ¼å¸˜åŸºæœ¬éƒ½æ˜¯å¹´è½»äººï¼Œè¿™ä¹Ÿæ˜¯åŸå¸‚æ´»åŠ›æ¥æºã€‚å¹¿å·çš„ç¾é£Ÿä¹Ÿå¤šï¼ŒèŒ¶ç‚¹ï¼Œå„ç§è‚ ç²‰ã€äº‘åé¢ã€ç…²ä»”é¥­ã€ç‰›æ‚ã€ç…é¥ºç­‰ç­‰ï¼Œéƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚\nå‘†çš„æ—¶é—´çŸ­ï¼Œå¯¹å¹¿å·ä¹Ÿæ˜¯æµ®å…‰æ å½±çš„ä½“éªŒï¼Œä¸­åˆå°±ååŸé™…å›åˆ°äº†ç†Ÿæ‚‰çš„æ·±åœ³ã€‚\n","date":"18 April 2021","externalUrl":null,"permalink":"/2021/04/18/guangzhou_tour_202104/","section":"Posts","summary":"\u003cp\u003eåœ¨å‘¨æœ«è·Ÿç€å›¢é˜Ÿæ¥å¹¿å·å›¢å»ºï¼Œç¬¬äºŒæ¬¡æ¥å¹¿å·ç©ã€‚\u003c/p\u003e","title":"å¹¿å·ä¹‹è¡Œ","type":"posts"},{"content":"Install ffmpeg # If we have root rights, we can install FFmpeg via package manager. On CentOS 7, run the following command:\nyum install epel-release yum localinstall --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm yum install ffmpeg ffmpeg-devel If you want to download binary releases, this site can help you. It has binary release for FFmpeg, ffprobe for different systems. It seems that the provided ffmpeg is statically linked, so all you need is that one file to get to work.\nThis site also provides binary release for FFmpeg.\nRun command ffmpeg -version to verify that FFmpeg has been correctly installed. You will see the following output:\nffmpeg version 3.4.8 Copyright (c) 2000-2020 the FFmpeg developers built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-39) configuration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --docdir=/usr/share/doc/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --optflags=\u0026#39;-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic\u0026#39; --extra-ldflags=\u0026#39;-Wl,-z,relro \u0026#39; --extra-cflags=\u0026#39; \u0026#39; --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libvo-amrwbenc --enable-version3 --enable-bzlib --disable-crystalhd --enable-fontconfig --enable-gcrypt --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libcdio --enable-libdrm --enable-indev=jack --enable-libfreetype --enable-libfribidi --enable-libgsm --enable-libmp3lame --enable-nvenc --enable-openal --enable-opencl --enable-opengl --enable-libopenjpeg --enable-libopus --disable-encoder=libopus --enable-libpulse --enable-librsvg --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libv4l2 --enable-libvidstab --enable-libvpx --enable-libx264 --enable-libx265 --enable-libxvid --enable-libzvbi --enable-avfilter --enable-avresample --enable-libmodplug --enable-postproc --enable-pthreads --disable-static --enable-shared --enable-gpl --disable-debug --disable-stripping --shlibdir=/usr/lib64 --enable-libmfx --enable-runtime-cpudetect libavutil 55. 78.100 / 55. 78.100 libavcodec 57.107.100 / 57.107.100 libavformat 57. 83.100 / 57. 83.100 libavdevice 57. 10.100 / 57. 10.100 libavfilter 6.107.100 / 6.107.100 libavresample 3. 7. 0 / 3. 7. 0 libswscale 4. 8.100 / 4. 8.100 libswresample 2. 9.100 / 2. 9.100 libpostproc 54. 7.100 / 54. 7.100 Ref:\nhttps://linuxize.com/post/how-to-install-ffmpeg-on-centos-7/ Suppress excessive logging # Every time I run ffmpeg command, its version, compilation configuration and library info is printed on the command line. This can be disabled using -hide_banner option:\nffmpeg -hide_banner ... We can also use -loglevel option to specify the verbosity of logging.\nffmpeg -loglevel warning ... ffmpeg -loglevel info The log level quiet will silence any logging. In case you use -loglevel, it is useful to specify -stats to print some running stats for ffmpeg.\nRef:\nhttps://superuser.com/q/555289/736190 https://superuser.com/q/326629/736190 Extract a frame every N seconds # How do we extract a frame from a video every 5 seconds?\nffmpeg -i input.mp4 -vf \u0026#34;fps=1/5\u0026#34; output_%3d.jpg or\n# we use 0.2, since 0.2 = 1/5 ffmpeg -i input.mp4 -r 0.2 output_%3d.jpg Ref:\nhttps://superuser.com/q/135117/736190 https://trac.ffmpeg.org/wiki/Create%20a%20thumbnail%20image%20every%20X%20seconds%20of%20the%20video https://stackoverflow.com/q/51143100/6064933 https://superuser.com/q/584760/736190 Extract all frames from a video # If you do not provide the -r option, ffmpeg will extract all frame from the video.\nffmpeg -i test.mp4 output/img_%4d.jpg Extract audio from video file # Run the following command to extract audio from a video file:\nffmpeg -i input.mp4 -vn -acodec copy output.aac If we use this command, we need to know the audio format (i.e., acc, or other formats). Use ffprobe to get the audio format. The output contains something like the following:\nStream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default) Other option to use to extract audio from video:\nffmpeg -i input.mp4 -map a output.mp3 or\nffmpeg -i input.mp4 -map a output.aac Ref:\nhttps://stackoverflow.com/q/9913032/6064933 Download m3u8 videos # Just try the following command:\n# -c copy means to copy the video without re-encoding the video and audio stream ffmpeg -i \u0026#34;url_here\u0026#34; -c copy output.mp4 Ref:\nhttps://superuser.com/a/1260862/736190 https://gist.github.com/tzmartin/fb1f4a8e95ef5fb79596bd4719671b5d#gistcomment-3914739 ","date":"16 April 2021","externalUrl":null,"permalink":"/2021/04/16/ffmpeg_notes_1/","section":"Posts","summary":"Install ffmpeg # If we have root rights, we can install FFmpeg via package manager. On CentOS 7, run the following command:\nyum install epel-release yum localinstall --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm yum install ffmpeg ffmpeg-devel If you want to download binary releases, this site can help you. It has binary release for FFmpeg, ffprobe for different systems. It seems that the provided ffmpeg is statically linked, so all you need is that one file to get to work.","title":"Notes on FFmpeg (1)","type":"posts"},{"content":"","date":"8 April 2021","externalUrl":null,"permalink":"/tags/flask/","section":"Tags","summary":"","title":"Flask","type":"tags"},{"content":"In this post, I will share how to post complex data and decode it in the server side in Python.\nThe problem # To post a simple Python dict with no nested structure to the server, we may use the below code:\npayload = {\u0026#39;name\u0026#39;: \u0026#39;john smith\u0026#39;, \u0026#39;age\u0026#39;: 20} r = requests.post(\u0026#34;https://httpbin.org/post\u0026#34;, data=payload) By default, when we use requests.post(url, data=payload) to post payload to the server. We can check the header of the HTTP request via the following command:\nprint(r.request.header) The Content-Type of this HTTP request will be application/x-www-form-urlencoded by default. To decode the posted dict, if we use Flask, we can use the following code:\nfrom flask import Flask, request user_request = request.form.to_dict() When the data structure is simple, it is fine to use the default options. Once there are nested structure in your Python dictionary, the server can not decode the message properly if the client is using this Content-Type, for example, when we have nested dictionary (a 2-D list):\npayload = {\u0026#39;matrix\u0026#39;: [[1, 2, 3], [4, 5, 6]], \u0026#39;msg\u0026#39;: \u0026#39;hello\u0026#39;} In this case, you will lost the data structure since application/x-www-form-urlencoded can note keep the data structure.\nSolution # There are two solutions here.\nSerialize data as json string # First, we can encode the complex dictionary into string using json:\n# Note that payload must be json-serializable, or you will meet an error. payload = json.dumps(payload) r = requests.post(url, data=payload) On the server side (suppose that we are using Flask), we can decode the string to get the original dict:\nimport json from flask import request # decodes the string into original dictionary user_request = json.loads(request.data) Use application/json as Content-Type # Second, we can directly tell the server that we are sending data in json format using requests:\npayload = {\u0026#39;matrix\u0026#39;: [[1, 2, 3], [4, 5, 6]], \u0026#39;msg\u0026#39;: \u0026#39;hello\u0026#39;} r = requests.post(url, json=payload) In this case, the request header will be something like the following:\n{\u0026#39;User-Agent\u0026#39;: \u0026#39;python-requests/2.22.0\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;*/*\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;keep-alive\u0026#39;, \u0026#39;Content-Length\u0026#39;: \u0026#39;2705\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;} The Content-Type field will be application/json, in which we tell the server that we are sending JSON data.\nOn the server side (suppose you are using flask), we can retrieve that data using the following script:\nfrom flask import request # directly decodes the request body as JSON. user_request = request.get_json() Ref # What are the differences between application/json and application/x-www-form-urlencoded https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type ","date":"8 April 2021","externalUrl":null,"permalink":"/2021/04/08/send_complex_data_in_python_requests/","section":"Posts","summary":"\u003cp\u003eIn this post, I will share how to post complex data and decode it in the server\nside in Python.\u003c/p\u003e","title":"Post Nested Data Structure to the Server Using Requests","type":"posts"},{"content":"","date":"8 April 2021","externalUrl":null,"permalink":"/tags/requests/","section":"Tags","summary":"","title":"Requests","type":"tags"},{"content":"å°‘æ²¹ç‰ˆèŒ„å­è‚‰æ²« # åŸæ–™ # èŒ„å­ï¼Œå°ç±³è¾£ï¼Œé’æ¤’ï¼ŒçŒªè‚‰æœ«ï¼Œè’œï¼Œå§œï¼Œç”ŸæŠ½ï¼Œé…±æ²¹ï¼Œé†‹ï¼Œç™½ç³–\næ­¥éª¤ # 1ï¼ŒèŒ„å­åˆ‡æˆ 3-4 cm æ¡çŠ¶ï¼Œè£…ç›˜ï¼Œå¥—ä¸Šä¿é²œè¢‹(ç•™ç¼åˆ«å°æ­»)ï¼Œåœ¨å¾®æ³¢ç‚‰é«˜ç«æ‰“ä¸‰åˆ†é’Ÿã€‚\n2ï¼Œå‡†å¤‡é€‚é‡å§œè’œåˆ‡æœ«ï¼Œå°ç±³è¾£å°‘è®¸(åƒä¸äº†å¯ä»¥ä¸æ”¾)ï¼Œé’æ¤’å°‘è®¸åˆ‡ç¢ã€‚\n3ï¼Œé…è°ƒæ–™æ±ï¼šå–å°ç¢—ï¼ŒåŠ å…¥é€‚é‡é…±æ²¹ï¼Œé†‹ï¼Œç™½ç³–ï¼Œé£Ÿç›ï¼Œé¸¡ç²¾ï¼Œæ¸…æ°´ï¼Œæ·€ç²‰å°‘é‡ï¼Œæ…æ‹Œå‡åŒ€å¤‡ç”¨ã€‚\n4ï¼Œé”…å†…çƒ­æ²¹ï¼ŒåŠ å…¥å§œè’œæœ«ï¼Œå°ç±³è¾£ï¼Œé’æ¤’ï¼Œç‚’é¦™ï¼Œç„¶ååŠ å…¥å¾®æ³¢ç‚‰æ‰“å¥½çš„èŒ„å­ï¼Œç¿»ç‚’2åˆ†é’Ÿ\n5ï¼ŒåŠ å…¥è°ƒé…å¥½çš„è°ƒæ–™æ±ï¼Œå¤§ç«çƒ§å¼€ï¼Œç„¶åè½¬ä¸­ç«å¼€å§‹æ”¶æ±ï¼Œç­‰æ°´åˆ†å˜å°‘ï¼Œå˜å¾—æ¯”è¾ƒç²˜ç¨ çš„æ—¶å€™å³å¯å‡ºé”…è£…ç›˜ã€‚\nç³–é†‹æ’éª¨ # åŸæ–™ # æ’éª¨ï¼Œå†°ç³–ï¼Œé†‹ï¼Œå¤§è‘±ï¼Œå§œï¼Œè’œ\næ­¥éª¤ # 1ã€æ’éª¨åˆ‡æˆå°æ®µï¼Œæ¸…æ°´æ´—å¹²å‡€ï¼Œé”…å†…çƒ§æ°´ï¼ŒæŠŠæ’éª¨ç„¯ä¸€ä¸‹ã€‚\n2ã€å§œåˆ‡ç‰‡ï¼Œå¤§è‘±åˆ‡æ®µ 2 -3 æ®µå³å¯ï¼Œè’œåˆ‡æˆå¤§ç²’ã€‚\n3ã€é”…å†…çƒ­æ²¹ä¸­å°ç«ï¼ŒåŠ å…¥å†°ç³– 7-8 é¢—ï¼Œå¼€å§‹ç‚’ç³–è‰²ï¼Œæ³¨æ„è¦ä¸æ–­æ…æ‹Œï¼Œç­‰å†°ç³–å®Œå…¨èåŒ–å¹¶å˜è‰²çš„æ—¶å€™å³å¯ã€‚åŠ å…¥ç„¯æ°´çš„æ’éª¨ï¼Œç¿»ç‚’ï¼ŒåŠ å…¥å§œç‰‡ï¼Œç¿»ç‚’ï¼Œç„¶ååŠ å…¥å¤§è‘±å’Œè’œï¼Œç»§ç»­ç¿»ç‚’ã€‚\n4ã€å–é€‚é‡é¦™é†‹ï¼ˆé‡è¦å¤šä¸€äº›ï¼‰ï¼ŒåŠ æ°´ï¼ŒåŠ é€‚é‡ç›ï¼Œå€’å…¥é”…ä¸­ï¼Œç¡®ä¿æ°´æ²¡è¿‡æ’éª¨ï¼Œæ°´ä¸­åŠ å…¥å°‘è®¸é…±æ²¹å¢è‰²ï¼Œå¤§ç«æŠŠæ°´çƒ§å¼€ï¼Œç„¶åä¸­å°æ°´ç…® 40 åˆ†é’Ÿã€‚\n5ã€40 åˆ†é’Ÿåï¼ŒæŠŠè‘±ã€å§œã€è’œç­‰è¾…æ–™æèµ°ï¼Œç­‰æ°´å¿«ç†¬å¹²ï¼Œä¸­ç«ä¸æ–­æ…æ‹Œï¼Œæ”¶æ±å‡ºé”…å³å¯ã€‚\n","date":"5 April 2021","externalUrl":null,"permalink":"/2021/04/05/my_recipe_20210405/","section":"Posts","summary":"å°‘æ²¹ç‰ˆèŒ„å­è‚‰æ²« # åŸæ–™ # èŒ„å­ï¼Œå°ç±³è¾£ï¼Œé’æ¤’ï¼ŒçŒªè‚‰æœ«ï¼Œè’œï¼Œå§œï¼Œç”ŸæŠ½ï¼Œé…±æ²¹ï¼Œé†‹ï¼Œç™½ç³– æ­¥éª¤ # 1ï¼ŒèŒ„å­åˆ‡æˆ 3-4 cm æ¡çŠ¶ï¼Œè£…ç›˜ï¼Œå¥—ä¸Šä¿é²œè¢‹(ç•™ç¼åˆ«å°æ­»)ï¼Œåœ¨","title":"èœè°±: èŒ„å­è‚‰æ²«ï¼Œç³–é†‹æ’éª¨","type":"posts"},{"content":"In my project, I use the Python logging package for logging service.\nMy setup looks like this:\nimport logging logger = logging.getLogger(\u0026#39;demo project\u0026#39;) formatter = logging.Formatter( \u0026#34;[%(asctime)s][%(name)s][%(levelname)s] %(message)s\u0026#34;, \u0026#34;%Y-%m-%d %H:%M:%S\u0026#34; ) stream_handler = logging.StreamHandler() stream_handler.setFormatter(formatter) stream_handler.setLevel(logging.INFO) # stream_handler.setLevel(logging.DEBUG) logger.addHandler(stream_handler) logger.setLevel(logging.INFO) logger.info(\u0026#34;info message\u0026#34;) Missing log message # This works well when I show info messages. Later, I want to show some debug messages via my logger. So I set the logger\u0026rsquo;s logging level to DEBUG, and use logger.debug() to print the debug message:\nlogger.setLevel(logging.DEBUG) logger.debug(\u0026#34;some debug info\u0026#34;) Unfortunately, this does not work as intended. When I run my code, no debugging message is shown. Why?\nSeparate logging levels: logger vs handler # It has something to do how the logging messages are actually logged. Remember that in our first code snippet, we set the logging level both for the logger and the handler (in this case, a stream handler).\nThe levels we use for logger and the handler together decide which message can be logged and which should be rejected. The logger\u0026rsquo;s level is like the first gate/filter, and the handler\u0026rsquo;s level is like the second filter.\nWhen a logging message comes, it first passes the logger, and then the handler. If the logging message\u0026rsquo;s level is no less than the logger\u0026rsquo;s level, it then goes to the handler. If its level is also no less than handler\u0026rsquo;s level, the message gets logged.\nTake the snippet in the second code snippet as an example, the logger\u0026rsquo;s level is DEBUG, and the handler\u0026rsquo;s level is INFO. When we want to log some debug messages, it has the same level as logger\u0026rsquo;s level. However, its level is below the handler\u0026rsquo;s level (DEBUG vs INFO), so it gets rejected by the handler (i.e., the handler will not log it, we see nothing on the terminal output). On the other hand, if we use a high level for logger, for example ERROR, and use a low level for handler, e.g., DEBUG, only error loggings will be logged, since all other logging messages will be rejected by the logger.\nThe Python doc also has a nice diagram showing the workflow of logging processing, which is much more detailed.\nThe usefulness of separate logging levels # What is the benefit of separate logging level of logger and handler? With this, we can achieve flexible logging plans. For example, we may want to log all messages on the stream handler, but only want to log error messages on the file handler to save storage space.\nstream_handler = logging.StreamHandler() stream_handler.setFormatter(formatter) stream_handler.setLevel(logging.DEBUG) logger.addHandler(stream_handler) file_handler = logging.FileHandler(\u0026#39;demo-project.log\u0026#39;) file_handler.setFormatter(formatter) file_handler.setLevel(logging.ERROR) logger.addHandler(file_handler) logger.setLevel(logging.DEBUG) logger.debug(\u0026#34;debug message\u0026#34;) logger.info(\u0026#34;info message\u0026#34;) logger.warning(\u0026#34;warning message\u0026#34;) logger.error(\u0026#34;error message\u0026#34;) If we run the above code, we can see that all logging messages are shown on the terminal, but only the error message is logged in demo-project.log.\nReferences # What is the point of setLevel in a python logging handler? Log level of file handler vs. that of logger ","date":"1 April 2021","externalUrl":null,"permalink":"/2021/04/01/python_log_message_missing/","section":"Posts","summary":"\u003cp\u003eIn my project, I use the \u003ca href=\"https://docs.python.org/3/library/logging.html\" target=\"_blank\"\u003ePython logging package\u003c/a\u003e for logging service.\u003c/p\u003e","title":"Why Are Some Logging Messages Missing in Python?","type":"posts"},{"content":"","date":"31 March 2021","externalUrl":null,"permalink":"/tags/bash/","section":"Tags","summary":"","title":"Bash","type":"tags"},{"content":" This post summarize how to change the Bash shell prompt to a better look. The end result is shown in the title image.\nBash Special escape sequence # To change the bash prompt, we can directly change PS1 variable. Some special escape sequences1 are predefined by Bash to have special meaning, e.g., \\u means the current user name.\nSet PS1 to [\\u@\\h \\w] and start bash, the prompt looks like the following:\n[jdhao@jdhao-MBP ~/Projects/trial_error] Using colors # Colors are important for us to create beautiful prompts. For example, echo -e \u0026quot;\\033[4;32mtest\\033[0m\u0026quot; will print green test with underline effect. In this command, \\033 is the octal representation of ESCAPE control character, which starts an ANSI escape code to control the terminal behavior. You can also use \\x1b, which is the hex value of ESCAPE control character. See this post on how to use colors in terminal.\nA little trick I learned is to define a color for easier reuse:\nGREEN=\u0026#34;\\e[0;32m\u0026#34; COLOR_NONE=\u0026#34;\\e[0m\u0026#34; When we want to use a color, we can now use the new name instead of the lengthy and obscure escape code.\nGREEN=\u0026#34;\\e[0;32m\u0026#34; COLOR_NONE=\u0026#34;\\e[0m\u0026#34; printf \u0026#34;${GREEN}Green text${COLOR_NONE}\u0026#34; Putting all together \u0026ndash; the use of PROMPT_COMMAND # We can of course write all the logic to set the PS1 variable in one command, but it could be messy and unreadable. Instead, we can set PS1 via the env variable PROMPT_COMMAND. The value of PROMPT_COMMAND will be executed by Bash as command each time before Bash tries to show the actual prompt.\nThe following Bash script shows my final working prompt configuration:\nGRAY=\u0026#34;\\e[2;37m\u0026#34; GREEN=\u0026#34;\\e[0;32m\u0026#34; PURPLE=\u0026#34;\\e[1;35m\u0026#34; COLOR_NONE=\u0026#34;\\e[0m\u0026#34; # Detect whether the current directory is a git repository. function is_git_repository() { git branch \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 } function set_git_branch () { # Note that for new repo without commit, git rev-parse --abbrev-ref HEAD # will error out. if git rev-parse --abbrev-ref HEAD \u0026gt; /dev/null 2\u0026gt;\u0026amp;1; then BRANCH=$(git rev-parse --abbrev-ref HEAD) else BRANCH=\u0026#34;bare repo!\u0026#34; fi } function set_bash_prompt () { if is_git_repository; then set_git_branch else BRANCH=\u0026#39;\u0026#39; fi PS1=\u0026#34;\u0026#34; # set up user and host PS1+=\u0026#34;${GRAY}\\u@\\h${COLOR_NONE} \u0026#34; # set up working directory PS1+=\u0026#34;${GREEN}\\w${COLOR_NONE} \u0026#34; # set up git branch PS1+=\u0026#34;${GRAY}${BRANCH}${COLOR_NONE}\\n\u0026#34; # set up prompt character PS1+=\u0026#34;${PURPLE}\u0026gt;${COLOR_NONE} \u0026#34; } export PROMPT_COMMAND=set_bash_prompt Ref:\nhttps://wiki.archlinux.org/index.php/Bash/Prompt_customization#Prompts List of ANSI color escape sequences Pretty Colored Bash Prompt: https://gist.github.com/milyord/4108547 Git current git branch name: https://stackoverflow.com/q/6245570/6064933 Check if we are in git repo: https://stackoverflow.com/q/2180270/6064933 A list of escape sequences and their meanings can be found here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"31 March 2021","externalUrl":null,"permalink":"/2021/03/31/bash_prompt_config/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20210331231139.jpg\" width=\"400\"\u003e\n\u003c/p\u003e\n\u003cp\u003eThis post summarize how to change the Bash shell prompt to a better look. The\nend result is shown in the title image.\u003c/p\u003e","title":"Creating Beautiful Bash Prompts","type":"posts"},{"content":" Update log 2021-12-10: update endpoint rpm link for git\nThe version of the default git bundled with the Linux system is often too old, and lacks certain features, which may break some tools. This post summarizes how to install newer versions of Git on Linux.\nInstall via package manager # CentOS # If you have root rights, you can install new version of git via yum.\n# https://ius.io/setup yum install \\ https://repo.ius.io/ius-release-el7.rpm \\ https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm yum remove git yum install git224 The version of git installed is 2.24.4.\nThe following also work:\nyum -y install https://packages.endpointdev.com/rhel/7/os/x86_64/endpoint-repo.x86_64.rpm yum remove git yum install git Compile and install git from source # First, we need to install some dependency packages. Note that if we use https protocol for git, we need to install curl development package:\nyum install libcurl-devel Otherwise, when you git clone using a https url: git clone https://xxx.xx.xx, you get an error:\ngit: \u0026lsquo;remote-https\u0026rsquo; is not a git command. See \u0026lsquo;git \u0026ndash;help\u0026rsquo;.\nIf you do not have root rights, you can also build curl from source.\nThen, run the following script to build git from source:\nwget https://github.com/git/git/archive/refs/tags/v2.31.1.tar.gz -O git.tar.gz tar xvf git.tar.gz cd git-* mkdir -p $HOME/local make configure ./configure --prefix=$HOME/local make -j \u0026amp;\u0026amp; make install git will be installed under $HOME/local/bin. Then, add $HOME/local/bin to your PATH:\nexport PATH=\u0026#34;$HOME/local/bin:$PATH\u0026#34; Run git --version to check the git version.\nRef:\nInstall git via yum: https://serverfault.com/q/709433/435975 Install git from source: https://github.com/git/git/blob/master/INSTALL https://www.digitalocean.com/community/tutorials/how-to-install-git-on-centos-7 git: \u0026lsquo;remote-https\u0026rsquo; is not a git command? ","date":"27 March 2021","externalUrl":null,"permalink":"/2021/03/27/upgrade_git_on_linux/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cp\u003e\u003cfont color=\"blue\"\u003e2021-12-10: update endpoint rpm link for git\u003c/font\u003e\u003c/p\u003e\n\u003c/details\u003e\n\u003cp\u003eThe version of the default git bundled with the Linux system is often too old,\nand lacks certain features, which may \u003ca href=\"https://github.com/lewis6991/gitsigns.nvim/issues/103\" target=\"_blank\"\u003ebreak some tools\u003c/a\u003e.\nThis post summarizes how to install newer versions of Git on Linux.\u003c/p\u003e","title":"How To Install Latest Version of Git on Linux","type":"posts"},{"content":"Personal notes on docker usage.\ndocker: permission denied when pushing # When I run the docker command, I got the following error:\ndocker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.35/containers/create: dial unix /var/run/docker.sock: connect: permission denied.See \u0026lsquo;docker run \u0026ndash;help\u0026rsquo;.\nThis is because docker normally requires root right to run. We can create a docker group and add current user to this group:\nsudo groupadd docker sudo usermod -aG docker $USER Restart to make the change take effect. Now we should be able to run docker command without errors.\nRef:\nHow to fix docker: Got permission denied issue How do I push a container to another remote repo # Suppose we have a local container and we want to push it to another remote repository, how do we do it?\nFirst, we need to tag it:\ndocker tag IMAGE:[tag] remote_repo_address/user/name:tag Instead of using names, you can also use CONTAINER ID or NAMES in the output docker ps. The all refer to the same container.\nThen we can push to the remote repo:\ndocker push remote_repo_address/user/name:tag Ref:\nHow to push a docker image to a private repository how to map multiple ports # In using docker, we can use -p \u0026lt;host_port\u0026gt;:\u0026lt;container_port\u0026gt; to expose container port to host port. If we need to expose multiple ports, we simply need to use multiple -p followed by port mappings.\ndocker run -it -p \u0026lt;host_port1\u0026gt;:\u0026lt;container_port1\u0026gt; -p \u0026lt;host_port2\u0026gt;:\u0026lt;container_port2\u0026gt; Ref:\nHow can I expose more than 1 port with Docker? Docker logging file # By default, docker will record the output to stdout and stderr in a container. The log file is stored on the host machine. The log file location for a container is:\n/var/lib/docker/containers/\u0026lt;container-id\u0026gt;/\u0026lt;container-id\u0026gt;-json.log or you can directory find the log location for a container using the following command:\ndocker inspect \u0026lt;container-id\u0026gt; |grep LogPath Each line in the log file is in JSON format, recording the log message, stream, and time, like this:\n{\u0026#34;log\u0026#34;:\u0026#34;echo test\\r\\n\u0026#34;,\u0026#34;stream\u0026#34;:\u0026#34;stdout\u0026#34;,\u0026#34;time\u0026#34;:\u0026#34;2021-03-23T06:32:05.401925782Z\u0026#34;} Note that the time shown above is neither the time on your host machine nor your container. Based on issue here and post here, it seems that docker is using UTC time zone. So the time shown in the log file may not be the time on your host machine or docker container.\nTo show the incoming logs in a container, use docker logs -f \u0026lt;container-id\u0026gt; (like what tail -f does).\nRef\nWhere is a log file with logs from a container? https://sematext.com/blog/docker-logs-location/ name or rename a docker container # By default, when we use docker run to start a container, docker will use a random name for this container. We can also use a custom name by using the --name option:\ndocker run -it --name my_service ... We can also rename a running container:\n# rename container with the name foo to bar docker rename foo bar Ref:\nhttps://www.tecmint.com/name-docker-containers/ Add zsh completion for docker command # Adding subcommand and option completion for docker command would be very helpful. Here is how to do it with the help of zinit.\n# use docker completion script provided by Oh-my-zsh: https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/docker zinit ice as\u0026#34;completion\u0026#34; zinit snippet OMZ::plugins/docker/_docker autoload -Uz compinit \u0026amp;\u0026amp; compinit -i ","date":"25 March 2021","externalUrl":null,"permalink":"/2021/03/25/docker_knowledge_s3/","section":"Posts","summary":"\u003cp\u003ePersonal notes on docker usage.\u003c/p\u003e","title":"Notes on Docker -- s3","type":"posts"},{"content":"My notes on setting up history-related features for zsh.\nHistory settings # Some env variable controlling the behaviour of history feature:\n# the detailed meaning of the below three variable can be found in `man zshparam`. export HISTFILE=~/.histfile export HISTSIZE=1000000 # the number of items for the internal history list export SAVEHIST=1000000 # maximum number of items for the history file # The meaning of these options can be found in man page of `zshoptions`. setopt HIST_IGNORE_ALL_DUPS # do not put duplicated command into history list setopt HIST_SAVE_NO_DUPS # do not save duplicated command setopt HIST_REDUCE_BLANKS # remove unnecessary blanks setopt INC_APPEND_HISTORY_TIME # append command to history file immediately after execution setopt EXTENDED_HISTORY # record command start time In the above config, option EXTENDED_HISTORY makes sure that zsh record the time that a certain command is executed. By default, command typed in a shell session are saved in the internal command history list. When the shell exits, commands in the internal history list will be written to HISTFILE. Option INC_APPEND_HISTORY_TIME changes this behavior: right after you have executed some command, it will be written to the history file, along with the time spent to execute it. Refer to man zshoptions for more details.\nRef:\nhttps://www.soberkoder.com/better-zsh-history/ (note that HISTTIMEFORMAT mentioned is not supported by zsh, it is Bash specific) history command shows only 16 items? # In zsh, if I use history command, only 16 items are shown, which is far less than the actual command history stored in HISTFILE. Why? According to the doc (man zshbuiltins), history command is just an alias to fc -l. The doc for fc command says:\nfc -l [ -LI ] [ -nrdfEiD ] [ -t timefmt ] [ -m match ] [ old=new \u0026hellip; ] [ first [ last ] ]\nIf first is not specified, it will be set to -1 (the most recent event), or to -16 if the -l flag is given. If last is not specified, it will be set to first, or to -1 if the -l flag is given.\nSo when we use command history, what we actually use is fc -l -16 -1, so the most recent 16 items in history are shown.\nWe can create an alias to change this:\n# show all the history stored. alias history=\u0026#34;fc -l 1\u0026#34; Ref:\nzsh history is too short ZSH only displaying last 16 or so commands with history. HISTSIZE \u0026amp; SAVEHIST are 500 ZSH - output whole history? Search history command more effectively? # As programmers, we sometimes use a command with long options and parameters. Later on, when we want to run that command again or modify it a bit, it would be time-consuming to type it all over. I know that we can use Ctrl-R to search the command history. However, its features are limited.\nI find fzf works better for this task, which supports fuzzy-search your command history. To install fzf, run the following command:\ngit clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf # say yes to its install prompts ~/.fzf/install Restart the shell, you should get a far better experience searching your history commands (the shortcut is still Ctrl-R). To navigate the search results, use Ctrl-N and Ctrl-P.\nReplace part of last command and re-execute # In Bash, we can use fc -s old=new to replace string old in the last command executed to new and execute it again. Bash built-in fc is different from zsh fc.\nFor fc in zsh, there is no -s option. The zsh equivalent is fc -e -. -e options can be found in man zshbuiltins.\nZsh also provides r command which is same as fc -e -. You do not need to define an alias for that any more.\nRef:\nAlternative to fc -s in zsh. zshbuiltins man page. ","date":"24 March 2021","externalUrl":null,"permalink":"/2021/03/24/zsh_history_setup/","section":"Posts","summary":"\u003cp\u003eMy notes on setting up history-related features for zsh.\u003c/p\u003e","title":"Better Zsh history","type":"posts"},{"content":"ä¸ªäººèœè°±å¤‡å¿˜ã€‚\nèŠ¹èœç‚’ç‰›è‚‰ğŸ¥© # åŸææ–™ï¼šç‰›è‚‰ğŸ‚ï¼Œé¦™èŠ¹ï¼Œå§œè’œğŸ§„ï¼Œé’çº¢è¾£æ¤’ğŸŒ¶ï¸ï¼Œé¸¡è›‹ğŸ¥šã€‚\n1ã€ç‰›è‚‰åˆ‡æˆç»†ä¸ï¼Œæ¸…æ°´æµ¸æ³¡ï¼ŒæŠ“æ´—ï¼ŒæŠŠè¡€æ°´æŠ“å‡ºæ¥ï¼Œæ¸…æ´—å¹²å‡€ï¼Œæ§å¹²æ°´åˆ†ã€‚åŠ å…¥ç›ã€èƒ¡æ¤’ç²‰ã€è€æŠ½é€‚é‡ï¼Œå†åŠ å…¥é€‚é‡è›‹æ¸…ã€æ…æ‹Œå‡åŒ€ï¼Œæœ€ååŠ å…¥é€‚é‡çš„æ·€ç²‰ï¼Œæ…æ‹Œè‡³æ··åˆå‡åŒ€ï¼Œå€’å…¥å°‘è®¸æ²¹ï¼ˆé˜²æ­¢ç‚’çš„æ—¶å€™è‚‰ç²˜æˆä¸€å›¢ï¼‰ã€‚\n2ã€å‡†å¤‡é¦™èŠ¹ä¸€æŠŠï¼Œåˆ‡æˆ 3 cm å°æ®µå¤‡ç”¨ã€‚\n3ã€é’çº¢è¾£æ¤’åˆ‡ä¸ï¼Œå§œã€è’œå°‘è®¸åˆ‡ç¢å¤‡ç”¨ã€‚\n4ã€é”…å†…çƒ§æ²¹ï¼Œæ²¹çƒ­ä¸‹ç‰›è‚‰ç¿»ç‚’ï¼Œå¾…ç‰›è‚‰å˜è‰²ï¼Œæå‡ºã€‚\n5ã€é”…å†…åŠ å…¥é€‚é‡æ²¹çƒ§çƒ­ï¼ŒåŠ å…¥åˆ‡å¥½çš„é’çº¢è¾£æ¤’ï¼Œå§œè’œæœ«ï¼Œç¿»ç‚’ï¼ŒåŠ å…¥åˆ‡å¥½çš„èŠ¹èœï¼Œå¤§ç«ç¿»ç‚’ï¼Œç‚’è‡³æ–­ç”Ÿï¼Œç„¶ååŠ å…¥è¶…å¥½çš„ç‰›è‚‰ï¼Œç»§ç»­ç¿»ç‚’ä¸€ä¼šã€‚\n6ã€è°ƒå‘³ï¼Œé”…å†…åŠ å…¥ç›ğŸ§‚ã€ç”ŸæŠ½ã€äº”é¦™ç²‰é€‚é‡ï¼Œç¿»ç‚’å‡åŒ€ï¼Œå³å¯å‡ºé”…è£…ç›˜ã€‚\nç‚’ç”ŸèœğŸ¥¬ # åŸæ–™ï¼šç”ŸèœğŸ¥¬ï¼Œå§œè’œğŸ§„ï¼Œå¹²è¾£æ¤’ğŸŒ¶ï¸ã€‚\n1ã€å‡†å¤‡å§œè’œæœ«ã€å¹²è¾£æ¤’åˆ‡æˆæ®µã€‚å–ä¸€å¤§æŠŠç”Ÿèœï¼ˆç”Ÿèœé‡å¯ä»¥å¤šä¸€äº›ï¼Œå››äº”ç™¾å…‹ï¼Œå› ä¸ºç”Ÿèœç‚’äº†ä»¥åç¼©æ°´ä¸¥é‡ï¼‰æ´—å‡€ï¼Œæ‘˜æˆä¸€ç‰‡ä¸€ç‰‡å¤‡ç”¨ã€‚\n2ã€é”…å†…åŠ å…¥æ²¹ï¼ˆé‡æ¯”å¹³æ—¶ç‚’èœå¤šä¸€äº›ï¼Œå®¹æ˜“ç‚’ç”Ÿèœï¼‰ï¼Œæ²¹çƒ­åŠ å…¥å§œè’œæœ«ï¼ŒåŠ å…¥å¹²è¾£æ¤’æ®µç‚’é¦™ï¼ŒåŠ å…¥ç”Ÿèœï¼Œå¤§ç«ğŸ”¥ç¿»ç‚’ã€‚\n3ã€ç”Ÿèœç‚’è‡³æ–­ç”Ÿï¼Œå¼€å§‹è°ƒå‘³ï¼ŒåŠ å…¥é€‚é‡ç›ã€äº”é¦™ç²‰ï¼Œå°‘è®¸ç”ŸæŠ½ï¼Œé€‚é‡é¦™é†‹ï¼Œå†ç¿»ç‚’ç¨è®¸å³å¯å‡ºé”…è£…ç›˜ï¼ˆç”Ÿèœå®¹æ˜“ç†Ÿï¼Œä¸ç”¨é•¿æ—¶é—´ç¿»ç‚’ï¼Œå¦åˆ™å˜è½¯ï¼Œé¢œè‰²ä¹Ÿä¸å¥½çœ‹ï¼‰ã€‚\n","date":"22 March 2021","externalUrl":null,"permalink":"/2021/03/22/my_recipe_20210321/","section":"Posts","summary":"\u003cp\u003eä¸ªäººèœè°±å¤‡å¿˜ã€‚\u003c/p\u003e","title":"èœè°±ï¼›èŠ¹èœç‰›è‚‰ï¼Œæ¸…ç‚’ç”Ÿèœ","type":"posts"},{"content":"In my daily work, I often ssh to a remote server using a terminal emulator. My local machine is a Windows 10 desktop. In this post, I want to share how to make true color work across terminal emulator, nvim and tmux.\nPick a suitable terminal emulator # Not all terminal emulators support true colors. First, we need to use a terminal emulator that supports true colors. Both zoc terminal and xshell can support this.\nTo test whether true color works or not, run the following script on the command line:\nawk \u0026#39;BEGIN{ s=\u0026#34;/\\\\/\\\\/\\\\/\\\\/\\\\\u0026#34;; s=s s s s s s s s; for (colnum = 0; colnum\u0026lt;77; colnum++) { r = 255-(colnum*255/76); g = (colnum*510/76); b = (colnum*255/76); if (g\u0026gt;255) g = 510-g; printf \u0026#34;\\033[48;2;%d;%d;%dm\u0026#34;, r,g,b; printf \u0026#34;\\033[38;2;%d;%d;%dm\u0026#34;, 255-r,255-g,255-b; printf \u0026#34;%s\\033[0m\u0026#34;, substr(s,colnum+1,1); } printf \u0026#34;\\n\u0026#34;; }\u0026#39; If you can see a smooth color band, then true color has been activated successfully.\nEnable true color in terminal emulator # In zoc terminal, true color support is enabled by default. Previously, true color support is missing in xshell. The latest version of xshell (xshell 7) has added support for true color, but this feature is disabled by default.\nTo enable true color support in xshell, go to Tools --\u0026gt; Options, click the Advanced Tab page, under Terminal section, check the box Use true color. We need to restart xshell to activate this feature. Open a source code file using nvim, you should see that true color is working properly.\nMake true color work with tmux and nvim # However, if we use nvim inside tmux, the colorscheme is still not right. In order to make true color work inside tmux, we need a few more configuration.\nSet TERM environment variable # The correct way to set the TERM variable is via the terminal emulators.\nFor zoc terminal, go to Options --\u0026gt; Edit Session Profile. Click Emulations, in the left, choose Xterm from the list of emulations. Check TERM box below, and set it to xterm-256color. On the right, also check the box 256 color support (TERM=xterm-256color).\nFor xshell, edit the properties of current session (File --\u0026gt; Current Session Properties). Click the Terminal category, and change Terminal Type to xterm-256color.\nRestart the current connection. Run command echo $TERM to verify that TERM varialbe has been correctly set to xterm-256color.\nConfigure tmux # Open tmux config (in $HOME/.tmux.conf) and add the following settings:\n# True color settings, see https://jdhao.github.io/2018/10/19/tmux_nvim_true_color/ for the details. set -g default-terminal \u0026#34;screen-256color\u0026#34; # If terminal supports true color, use the following options. set -ga terminal-overrides \u0026#34;,xterm-256color*:Tc\u0026#34; After these two steps, kill tmux server and start a new tmux session:\ntmux kill-server tmux new -s \u0026#34;test\u0026#34; Then start nvim, your colorscheme1 should work properly now.\nA good colorscheme to check is gruvbox, which has great support for true color.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 March 2021","externalUrl":null,"permalink":"/2021/03/17/nvim_truecolor_tmux_windows/","section":"Posts","summary":"\u003cp\u003eIn my daily work, I often ssh to a remote server using a terminal emulator. My\nlocal machine is a Windows 10 desktop. In this post, I want to share how to\nmake \u003ca href=\"https://gist.github.com/XVilka/8346728\" target=\"_blank\"\u003etrue color\u003c/a\u003e work across terminal emulator, nvim and tmux.\u003c/p\u003e","title":"Set up true color for nvim and tmux in Zoc terminal and xshell","type":"posts"},{"content":"","date":"16 March 2021","externalUrl":null,"permalink":"/tags/linux/","section":"Tags","summary":"","title":"Linux","type":"tags"},{"content":"When starting a long-running Python program, I often run it under nohup so I can redirect all the output to nohup.out for easier inspection. I use nohup python test.py\u0026amp; to run the process in the background. Then I can run tail -f nohup.out to monitor the output message from this program.\nOne strange issue I met is that all messages from the print() function are missing. To reproduce this issue, run the following test.py with command nohup python test.py\u0026amp;:\nimport time n = 20 for i in range(n): time.sleep(0.5) print(f\u0026#34;this is loop {i}\u0026#34;) Then use tail -f nohup.out to check the output. Notice that there is no output for some time. Then, all of a sudden, all the output is printed when the program exits.\nHowever, if we directly run this program (python test.py), to our expectations, the messages are indeed shown one at a time.\nDifferent buffering behaviors of sys.stdout and sys.stderr # This has something to do with the stream buffering behavior of Python. print() function in Python will print a message to the sys.stdout stream. When we print directly to the console, in this case, the stdout stream is used interactively, it will be line-buffered, i.e., the message will be shown in the terminal once a newline is met.\nIf we use nohup, stdout is redirected to a file (nohup.out), it will be block-buffered in this case, i.e., only when the size of the output reaches a certain limit, will they be put into the destination (nohup.out file). So we can not see each print message in a timely manner. When the program exits, all the output is flushed to nohup.out, that is when we see those messages.\nThis behavior of sys.stdout and sys.stderr is documented here:\nWhen interactive, stdout and stderr streams are line-buffered. Otherwise, they are block-buffered like regular text files.\nThis explains why the messages is not shown timely if we redirect stdout to nohup.out, since stdout is block buffered in this case. Block-buffered means that Python stores the output message in a buffer, and only when the buffer reaches a certain size and can not accommodate the incoming message, the message in this buffer will be flushed and reach its destination.\nIf we use sufficiently large message, it will also be shown immediately since the output buffer is full. It seems that buffer size for print is 81921. To verify this, we modify test.py a little bit:\nimport time n = 20 size = 2048 sleep_time = 1 for i in range(n): time.sleep(sleep_time) print(f\u0026#34;{i}\u0026#34; + \u0026#34;a\u0026#34; * size) If we run the above script with nohup python test.py \u0026amp; and then observe the output via tail -f nohub.out, we will find that it will print 4 lines at a time, i.e., lines starting with 0, 1, 2, and 3 will be printed out first, then lines starting with 4, 5, 6, and 7, etc.\nFor stderr, users may want to see the error messages immediately when they are produced even if it is redirected. In Python 3.9, the behavior of stderr is changed. The new doc is:\nWhen interactive, the stdout stream is line-buffered. Otherwise, it is block-buffered like regular text files. The stderr stream is line-buffered in both cases.\nThus, after Python 3.9, stderr will always be line-buffered, no matter how the error message is displayed, i.e., on the terminal or redirected to a file.\nShow the message without buffering # To show the printed message immediately, we may run Python in unbuffered mode with the -u flag:\n-u : force the stdout and stderr streams to be unbuffered\nnohup python -u test.py Another way is to add flush=True to print() function so that output will be flushed to its destination forcibly.\nprint(f\u0026#34;this is loop {i}\u0026#34;, flush=True) References # What does the different buffering behavior mean? https://www.oreilly.com/library/view/unix-filesystems-evolution/9780471456759/chap04-sec004.html What do fully buffered, line buffered and unbuffered mean in C? Python - nohup.out don\u0026rsquo;t show print statement Nohup is not writing log to output file Python bugs mailing list: Improve documentation of stdout/stderr buffering in Python 3.x How to flush output of print function? Disable output buffering Related to io.DEFAULT_BUFFER_SIZE.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 March 2021","externalUrl":null,"permalink":"/2021/03/16/std_stream_buffering_in_python/","section":"Posts","summary":"\u003cp\u003eWhen starting a long-running Python program,\nI often run it under \u003ca href=\"https://en.wikipedia.org/wiki/Nohup\" target=\"_blank\"\u003enohup\u003c/a\u003e so I can redirect all the output to \u003ccode\u003enohup.out\u003c/code\u003e for easier inspection.\nI use \u003ccode\u003enohup python test.py\u0026amp;\u003c/code\u003e to run the process in the background.\nThen I can run \u003ccode\u003etail -f nohup.out\u003c/code\u003e to monitor the output message from this program.\u003c/p\u003e","title":"print message not shown in nohup.out?","type":"posts"},{"content":"The other day, when I was updating the source code with the project running, I noticed that the exception stack trace printed is not right, i.e., the printed error line is actually not the line that is triggering the exception.\nWhy did this happen? Is it related to the modification to the source file? At first, I thought it absurd. Based on my knowledge, when Python runs the source code, it will load it into memory. Since it is executing the code in the memory, so it should print the offending line that is kept in the memory.\nTo figure it out, I write the following code (test.py):\nimport time time.sleep(10) print(1/0) I run it (python test.py), then add something below the time statement:\nimport time time.sleep(10) # some comment print(1/0) Then program reaches the print statement and printed the following exception:\nTraceback (most recent call last): File \u0026#34;test.py\u0026#34;, line 4, in \u0026lt;module\u0026gt; # some comment ZeroDivisionError: division by zero Surprisingly, the stack trace printed is the 4th line in the modified test.py, not the original 4th line (print(1/0)).\nSo my perception of how Python runs its code is not fully correct. I searched on the internet and found some explanation about this, for example, discussion here.\nWhen Python run a source code, it will first compile the source code into the so called bytecode. Then the bytecode is executed by the Python virtual machine.\nSo what is really running is the bytecode, not the original source code. We can use the dis package in standard library to inspect the bytecode produced by Python.\nimport dis my_str = \u0026#34;import time\\n\\ntime.sleep(10)\\nprint(1/0)\u0026#34; print(dis.dis(my_str)) It will show the bytecode along with other infos for the source code:\nâ”‚ 1 0 LOAD_CONST 0 (0) â”‚ 2 LOAD_CONST 1 (None) â”‚ 4 IMPORT_NAME 0 (time) â”‚ 6 STORE_NAME 0 (time) â”‚ â”‚ 3 8 LOAD_NAME 0 (time) â”‚ 10 LOAD_METHOD 1 (sleep) â”‚ 12 LOAD_CONST 2 (10) â”‚ 14 CALL_METHOD 1 â”‚ 16 POP_TOP â”‚ â”‚ 4 18 LOAD_NAME 2 (print) â”‚ 20 LOAD_CONST 3 (1) â”‚ 22 LOAD_CONST 0 (0) â”‚ 24 BINARY_TRUE_DIVIDE â”‚ 26 CALL_FUNCTION 1 â”‚ 28 POP_TOP â”‚ 30 LOAD_CONST 1 (None) â”‚ 32 RETURN_VALUE Number in the first column corresponds to the code line in the original script. For example, the first line (import time) is turned into 4 bytecode instructions.\nAs a result, the original source code is not kept by Python in the memory. When an exception happens, python will try to find the corresponding source file and print the exact line in this source file. It does not check whether the source file has been changed since running. Hence, the mismatch between the printed exception line and the actual exception line.\nSo this is just how Python works under the hood. There are discussion on changing this behaviour, but it seems that the Python core developers are not going to change it any time soon.\nReferences # Why does error traceback show edited script instead of what actually ran? What will happen if I modify a Python script while it\u0026rsquo;s running? See CPython run: Getting to know your Python interpreter: https://www.youtube.com/watch?v=tzYhv61piNY Python virtual machine: https://www.ics.uci.edu/~brgallar/week9_3.html python bytecode https://www.youtube.com/watch?v=cSSpnq362Bk https://nedbatchelder.com/blog/201803/is_python_interpreted_or_compiled_yes.html ","date":"13 March 2021","externalUrl":null,"permalink":"/2021/03/13/python_wrong_stack_printed/","section":"Posts","summary":"\u003cp\u003eThe other day, when I was updating the source code with the project running, I\nnoticed that the exception stack trace printed is not right, i.e., the printed\nerror line is actually not the line that is triggering the exception.\u003c/p\u003e","title":"Why is Wrong Stacktrace Printed for My Code?","type":"posts"},{"content":"æœ¬æ–‡æ€»ç»“ç®€æ˜“å®¶åº­ç‰ˆè…Šæ±è‚‰å¤¹é¦ä¸­çš„è…Šæ±è‚‰åˆ¶ä½œã€‚\nåŸæ–™ # äº”èŠ±è‚‰ğŸ–ï¼ˆè‚¥ç˜¦ç›¸é—´ï¼Œä¸‰åˆ†è‚¥ï¼Œä¸ƒåˆ†ç˜¦ï¼‰ å†°ç³–æˆ–ç™½ç ‚ç³–ã€æ–™é…’ã€é…±æ²¹ã€è€æŠ½ã€é£Ÿç› å°èŒ´é¦™ï¼ŒèŠ±æ¤’ï¼Œå…«è§’ã€æ¡‚çš®ã€ä¸é¦™ï¼Œè‰æœã€é¦™å¶ã€ç™½èŠ·ï¼Œè‚‰è”»ï¼Œç ‚ä»ï¼Œè‰æœï¼Œç™½èƒ¡æ¤’ï¼Œç”Ÿå§œã€å¤§è‘± åˆ¶ä½œæ­¥éª¤ # å–é€‚é‡æ¸…æ°´ï¼ŒåŠ å…¥èŠ±æ¤’ã€ç›é€‚é‡ï¼Œæ”¾å…¥äº”èŠ±è‚‰ï¼Œæ”¾åœ¨å†°ç®±å†·è—æµ¸æ³¡ä¸€å¤œï¼ŒæŠŠè‚‰é‡Œé¢çš„è¡€æ°´æ³¡å‡ºæ¥ã€‚ çŒªè‚‰å–å‡ºæ´—å‡€ï¼Œåˆ‡æˆå°ä¸€ç‚¹çš„å—ï¼Œé”…ä¸­çƒ§å¼€æ°´ï¼Œä¸‹çŒªè‚‰ï¼Œç¨å¾®ç…®ä¸€ä¸‹ï¼Œä¸è¦æ—¶é—´å¤ªé•¿ï¼Œå‡ åˆ†é’Ÿå³å¯ã€‚ é”…ä¸­çƒ­æ²¹ï¼Œå–åå‡ é¢—å†°ç³–ï¼Œæˆ–è€…é€‚é‡çš„ç™½ç ‚ç³–ï¼ŒåŠ å…¥é”…ä¸­ï¼ŒåŠ å…¥å‡ ç‰‡ç”Ÿå§œï¼Œæ³¨æ„æ²¹æ¸©ä¸è¦å¤ªé«˜ï¼Œä¸æ–­ç¿»ç‚’å†°ç³–ï¼Œç›´è‡³å†°ç³–å˜æˆç²˜ç¨ çš„æ¶²ä½“ï¼Œå¹¶å¾®å¾®èµ·æ³¡å‘ˆè¤è‰²ï¼Œæ³¨æ„ä¸€å®šè¦ä¸åœæ…åŠ¨ï¼Œä¸è¦è®©ç³–æ±ç³Šäº†ã€‚åŠ å…¥åˆšæ‰å¼€æ°´ä¸­ç…®å¥½çš„çŒªè‚‰ï¼Œç¿»ç‚’ç»™çŒªè‚‰å‡åŒ€ä¸Šç³–è‰²ï¼Œé”…ä¸­åŠ é€‚é‡çƒ­æ°´ï¼Œä¿è¯æ°´æ²¡è¿‡çŒªè‚‰ï¼ŒåŠ å…¥å…«è§’ã€æ¡‚çš®ã€é¦™å¶ã€è‰æœã€å­œç„¶ç²’ã€é™ˆçš®ã€ç”Ÿå§œç‰‡ã€å¤§è‘±ï¼Œå†æ”¾å…¥å‡ é¢—å†°ç³–ï¼Œå€’å…¥é€‚é‡çš„è€æŠ½ï¼ŒåŠ ç›ï¼ˆç›çš„é‡è¦å¤šä¸€äº›ï¼Œä¿è¯æ±¤æ¯”å¹³æ—¶åƒçš„è¦å’¸ä¸€äº›ï¼ŒçŒªè‚‰æ‰èƒ½å…¥å‘³ï¼‰ã€‚ å¤§ç«çƒ§å¼€ï¼Œç„¶åè½¬å°ç«æ…¢æ…¢ç†¬åˆ¶ 2 ä¸ªåŠå°æ—¶ä»¥ä¸Šï¼ˆä¹Ÿå¯ä»¥æ”¾åˆ°ç”µé¥­ç…²é‡Œé¢ç…®ï¼Œå®¹æ˜“æ§åˆ¶æ—¶é—´ï¼‰ï¼Œä¿è¯æœ€åç­·å­å¯ä»¥è½»æ¾ä»è‚‰ä¸­ç©¿è¿‡è‚‰å°±ç®—ç…®å¥½äº†ã€‚å–œæ¬¢åƒé¸¡è›‹çš„ï¼Œå¯ä»¥ä¸­é€”æ”¾å…¥å‡ ä¸ªé¸¡è›‹ï¼Œé¸¡è›‹ç…®ç†Ÿåï¼Œæ•²ç¢è›‹å£³ï¼Œåšä¸ªå¤è›‹å‘³é“ä¹Ÿæ˜¯æå¥½çš„ã€‚ ç…®å¥½çš„è‚‰ï¼Œè‚¥è‚‰è½¯ç³¯ï¼Œç˜¦è‚‰é…¥è½¯è€Œä¸æŸ´ï¼Œé¢œè‰²éå¸¸å¥½ã€‚\nå‚è€ƒ # é™•è¥¿ç¾å¨å¨˜ï¼šhttps://www.youtube.com/watch?v=WrzIOXC_zow å“è¯ºç‹è€å¸ˆï¼šhttps://www.youtube.com/watch?v=PVonFM-Dlhw\u0026t=135s å°é«˜å§ï¼šhttps://www.youtube.com/watch?v=Z1rNXs6Vtms ","date":"7 March 2021","externalUrl":null,"permalink":"/2021/03/07/how_to_make_la_zhi_rou/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“ç®€æ˜“å®¶åº­ç‰ˆè…Šæ±è‚‰å¤¹é¦ä¸­çš„è…Šæ±è‚‰åˆ¶ä½œã€‚\u003c/p\u003e","title":"è…Šæ±è‚‰åˆ¶ä½œ","type":"posts"},{"content":"ä½œä¸ºåŒ—æ–¹äºº and é¢é£Ÿçˆ±å¥½è€…ï¼Œå‘¨æœ«å°è¯•åšäº†å››å·ç¾é£Ÿè±Œæ‚é¢ï¼Œæœ¬æ–‡æ€»ç»“å®¶åº­ç‰ˆè±Œæ‚é¢çš„åˆ¶ä½œã€‚\néœ€è¦çš„åŸæ–™ # å¹²è±Œè±†æˆ–é’è±† å°è‘±ã€é¦™èœã€å¤§è’œã€ç”Ÿå§œ å¹²æœå¤©æ¤’ã€å¹²é’æ¤’ã€ç™½èŠéº» è‚¥ç˜¦çŒªè‚‰é¦… éƒ«å¿è±†ç“£é…± æ–™é…’/ç™½é…’ é»„è±†é…±æ²¹ã€é†‹ã€é¸¡ç²¾ã€èŠéº»é…±ã€å®œå®¾èŠ½èœ é’èœ(æ²¹éº¦èœï¼Œå°é’èœï¼Œç”Ÿèœç­‰å‡å¯) ç¢±é¢/ç»†é¢ è±Œè±†åˆ¶ä½œ # æœ‰å¹²è±Œè±†çš„è¯ï¼Œæå‰æ³¡å‘ï¼Œåœ¨é«˜å‹é”…å‹ä¸€ä¸‹ï¼Œä¸è¦å‹åŠ›å¤ªå¤§ï¼Œå¦åˆ™è±Œè±†å¤ªè½¯ï¼Œä¸€ç¢°å°±ç¢ã€‚æ²¡æœ‰è±Œè±†çš„è¯ï¼Œå¯ä»¥ç”¨é’è±†ä»£æ›¿ã€‚\nè¾£æ¤’æ²¹ï¼ŒèŠ±æ¤’æ²¹åˆ¶ä½œ # å¼€å°ç«ï¼Œé”…é‡Œæ”¾æœå¤©æ¤’ï¼Œä¸æ–­ç¿»æ…ï¼ŒæŠŠè¾£æ¤’ç‚’é¦™ï¼Œä¸è¦æŠŠè¾£æ¤’ç‚’çš„å¤ªè¿‡ï¼ˆå³è¾£æ¤’å‘é»‘äº†ï¼‰ã€‚ç‚’å¥½çš„è¾£æ¤’å‡ºé”…ï¼Œæ£ç¢ï¼Œæˆ–è€…ç”¨ç²‰ç¢æœºç²‰ç¢ã€‚\nåŒæ ·æ“ä½œï¼ŒæŠŠèŠ±æ¤’(é’èŠ±æ¤’å¥½ä¸€äº›ï¼Œæ²¡æœ‰å°±æ™®é€šèŠ±æ¤’)åœ¨é”…é‡Œç¨å¾®ç‚’ä¸€ä¸‹ï¼Œæ£ç¢ã€‚\né”…é‡Œçƒ­æ²¹(æ²¹ç¨å¾®è¦å¤šä¸€äº›)ï¼Œæ²¹æ¸©ä¸è¦å¤ªé«˜(å†’çƒŸçš„æ—¶å€™æ¸©åº¦å°±é«˜äº†)ï¼Œçƒ­æ²¹åˆ†åˆ«æ³¼åˆ°ç²‰ç¢å¥½çš„è¾£æ¤’å’ŒèŠ±æ¤’é¢é‡Œé¢ï¼Œæ…æ‹Œå‡åŒ€ã€‚\né”…å†…çƒ­æ²¹ï¼Œæ”¾ä¸€äº›ç™½èŠéº»ï¼Œæ³¼åˆ°åˆšæ‰çš„æ²¹è¾£æ¤’é‡Œé¢ï¼Œå¢é¦™ã€‚\nèŠ½èœåˆ¶ä½œ # ä½¿ç”¨å®œå®¾èŠ½èœï¼Œæå‰ç”¨æ²¹ç‚’åˆ¶ä¸€ä¸‹ã€‚æ²¡æœ‰èŠ½èœä¸æ”¾ä¹Ÿè¡Œï¼Œæˆ–è€…æ”¾ç‚¹åˆ‡ç¢çš„æ¦¨èœã€‚\nè‚‰é…±åˆ¶ä½œ # å–å°‘é‡éƒ«å¿è±†ç“£é…±ï¼Œç”¨åˆ€å‰ç¢ï¼Œé”…å†…çƒ­æ²¹ï¼Œå…ˆç‚’è±†ç“£é…±ï¼Œç„¶ååŠ å…¥è‚‰æ²«(ä¸‰è‚¥ä¸ƒç˜¦)ï¼ŒæŠŠè‚‰ç‚’è‡³å˜è‰²ï¼Œå†åŠ å…¥ä¸€äº›æ–™é…’æˆ–è€…ç™½é…’å»è…¥ï¼Œç¿»ç‚’ä»¥åï¼ŒåŠ å…¥é€‚é‡æ°´æ²’è¿‡è‚‰ï¼Œå¼€å¤§ç«çƒ§å¼€ï¼Œç„¶åè½¬å°ç«ç†¬åˆ¶ä¸€ä¸ªå°æ—¶å·¦å³ï¼ŒæŠŠæ°´ç†¬å¹²å³å¯ã€‚\nåº•æ–™åˆ¶ä½œ # ç¢—åº•æ”¾é€‚é‡è¾£æ¤’æ²¹ï¼ŒèŠ±æ¤’æ²¹ï¼Œé¸¡ç²¾ï¼Œå°‘é‡èŠéº»é…±(èŠéº»é…±å¤ªç¨ ï¼Œéœ€è¦ç”¨æ°´åŒ–å¼€ï¼ŒèŠéº»é…±é‡åˆ«å¤ªå¤š)ï¼ŒåŠ å…¥é€‚é‡ç”Ÿè’œæ²«å’Œç”Ÿå§œæ²«ï¼Œæœ€ååŠ å…¥é€‚é‡é»„è±†é…±æ²¹ï¼Œå°‘è®¸é†‹ã€‚\nç…®é¢ # çƒ§æ°´ç…®é¢ï¼Œé¢å¯ä»¥é€‰æ‹©ç¢±é¢ï¼Œæ²¡æœ‰å°±ç”¨ç»†é¢å³å¯ï¼Œæ²¡è¦æ±‚ï¼Œé¢å¿«ç…®ç†Ÿçš„æ—¶å€™ï¼ŒåŠ å…¥ä¸€äº›ç”Ÿèœæˆ–è€…å…¶ä»–é’èœï¼Œæœ‰ä»€ä¹ˆæ”¾ä»€ä¹ˆï¼Œä¸æ‹˜æ³¥å…·ä½“èœï¼Œç¢—åº•åŠ å…¥å°‘é‡é¢æ±¤ï¼ŒæŠŠåº•æ–™åŒ–å¼€ï¼Œ\næœ€åï¼Œæå‡ºé¢å’Œé’èœï¼ŒåŠ å…¥è±Œè±†ï¼Œè‚‰é…±ï¼Œå†åŠ å…¥é€‚é‡èŠ½èœï¼Œæ’’ä¸Šè‘±èŠ±å’Œé¦™èœæ²«ï¼Œæœ€åæ…æ‹Œå‡åŒ€ï¼Œä¸€ç¢—ç¾å‘³çš„è±Œæ‚é¢å°±åšæˆäº†ã€‚\nå‚è€ƒ # è€é¥­éª¨ YouTube é¢‘é“æ‚é…±é¢åˆ¶ä½œæ•™ç¨‹ ","date":"6 March 2021","externalUrl":null,"permalink":"/2021/03/06/how_to_make_wan_za_mian/","section":"Posts","summary":"\u003cp\u003eä½œä¸ºåŒ—æ–¹äºº and é¢é£Ÿçˆ±å¥½è€…ï¼Œå‘¨æœ«å°è¯•åšäº†å››å·ç¾é£Ÿè±Œæ‚é¢ï¼Œæœ¬æ–‡æ€»ç»“å®¶åº­ç‰ˆè±Œæ‚é¢çš„åˆ¶ä½œã€‚\u003c/p\u003e","title":"å¦‚ä½•åˆ¶ä½œä¸€ç¢—ç¾å‘³çš„è±Œæ‚é¢","type":"posts"},{"content":"","date":"26 February 2021","externalUrl":null,"permalink":"/tags/ime/","section":"Tags","summary":"","title":"IME","type":"tags"},{"content":"æ–‡æ¥ä¸Šå›ï¼ŒVim è™½ç„¶è´µä¸ºç¼–è¾‘å™¨ä¹‹ç¥ï¼Œæœ‰ä¸€ä¸ªæ²¡æœ‰è§£å†³å¥½çš„é—®é¢˜å°±æ˜¯è¾“å…¥ä¸­æ–‡ï¼Œä»¥åŠä¸­è‹±æ–‡çš„åˆ‡æ¢é—®é¢˜ã€‚æœ€è¿‘ä¹Ÿå°è¯•äº†ä¸€äº›è¯•å›¾åˆ©ç”¨ Vim æä¾›çš„åŠŸèƒ½ï¼Œåœ¨ Vim ä¸­å®ç°è¾“å…¥æ³•çš„æ’ä»¶ã€‚æœ¬æ–‡åšä¸€æ€»ç»“ç‚¹è¯„ã€‚\nVimIM # VimIM æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ—©å°è¯•åœ¨ Vim ä¸­å®ç°è¾“å…¥æ³•çš„æ’ä»¶ï¼Œå¯æƒœåœ¨ 2012 å¹´å°±åœæ­¢æ›´æ–°äº†ã€‚2012 å¹´æ­£æ˜¯ Vim çš„ç°æš—æ—¶æœŸï¼Œå½“æ—¶è¿ job api éƒ½æ²¡æœ‰å‡ºæ¥ï¼ŒVim ä¸­è°ƒç”¨å‡½æ•°åªèƒ½æ˜¯ blocking æ–¹å¼çš„ã€‚\nä½¿ç”¨æ–¹å¼ï¼Œé¦–å…ˆä¸‹è½½ VimIMï¼Œå¯ä»¥ç”¨æ’ä»¶ç®¡ç†å™¨æˆ–è€…æ‰‹åŠ¨ä¸‹è½½ã€‚\nPlug \u0026#39;vim-scripts/VimIM\u0026#39; ä½†æ˜¯è¿™ä¸ªä»“åº“åªåŒ…å«ä»£ç ï¼Œä¸åŒ…å«æ•°æ®ï¼Œä» è¿™é‡Œ å¯ä»¥ä¸‹è½½åˆ°å­—å…¸æ•°æ®ï¼ŒæŠŠ vimim.cjk.txtï¼Œ vimim.gbk.bsddb å’Œ vimim.txt æ”¾åˆ° VimIM æ’ä»¶çš„ plugin ç›®å½•ä¸‹ã€‚åœ¨æˆ‘çš„ç³»ç»Ÿä¸Šï¼ŒVimIM å®‰è£…ç›®å½•åœ¨ ~/.local/share/nvim/plugged/VimIM/plugin\nwget -P ~/.local/share/nvim/plugged/VimIM/plugin https://raw.fastgit.org/vimim/vimim/master/plugin/vimim.cjk.txt wget -P ~/.local/share/nvim/plugged/VimIM/plugin https://raw.fastgit.org/vimim/vimim/master/plugin/vimim.gbk.bsddb wget -P ~/.local/share/nvim/plugged/VimIM/plugin https://raw.fastgit.org/vimim/vimim/master/plugin/vimim.txt ä¸‹é¢æ˜¯æœ€å°çš„å¯è¿è¡Œé…ç½®ï¼š\nset runtimepath+=/home/haojiedong/.local/share/nvim/plugged/VimIM \u0026#34; å…³é—­äº‘è¾“å…¥ let g:Vimim_cloud=-1 æ‰“å¼€ Vimï¼Œè¿›å…¥ insert æ¨¡å¼ï¼Œä½¿ç”¨ Ctrl + Shift + / å¼€å¯ä¸­æ–‡è¾“å…¥ï¼ˆè¿™ä¸ªæ˜¯ä¸€ä¸ªå¼€å…³ï¼Œå†æŒ‰ä¸€æ¬¡å…³é—­ä¸­æ–‡è¾“å…¥ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å­—ç¬¦ï¼Œä¼šå‡ºç°å¼¹å‡ºèœå•ï¼ŒæŒ‰æ•°å­—å¯ä»¥é€‰æ‹©æ±‰å­—ã€‚\nä½“éªŒï¼šè¾“å…¥é€Ÿåº¦å¾ˆå¿«ï¼Œå¹¶ä¸”åŒ¹é…å¾ˆå‡†ï¼Œæ²¡æœ‰å»¶è¿Ÿçš„æ„Ÿè§‰ã€‚\næŒ‰ = å’Œ - å¯ä»¥å¾€åã€å¾€å‰ç¿»é¡µï¼ŒTab å¯ä»¥åœ¨ç»™å‡ºçš„å€™é€‰é¡¹ä¹‹é—´åˆ‡æ¢ï¼ŒæŒ‰ç©ºæ ¼å¯ä»¥è®©é€‰ä¸­çš„è¯è¯­ä¸Šå±ï¼ŒæŒ‰ Enter è¾“å…¥è‹±æ–‡å­—ç¬¦ã€‚\nåœ¨ Vim 7.4 ä¸­æµ‹è¯•å¯ä»¥è¿è¡Œï¼Œä½¿ç”¨ Neovim æ— æ³•å·¥ä½œï¼Œä¸æ¸…æ¥šå…·ä½“æ˜¯å“ªé‡Œæœ‰é—®é¢˜ï¼Œè¿™ä¸ªæ’ä»¶å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œå¯èƒ½æ˜¯ä¸å…¼å®¹äº†ã€‚\nå‚è€ƒ # https://shenyu.me/2016/01/03/vim-plugin-vimim.html https://www.vim.org/scripts/script.php?script_id=2506 https://code.google.com/archive/p/vimim/ https://github.com/howiefh/vimfiles/blob/master/vimfiles/doc/1_vimim.cnx ZFVimIM # ZFVimIM æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„ç”¨ Vim å®ç°çš„è¾“å…¥æ³•ã€‚\nä½¿ç”¨å¦‚ä¸‹çš„é…ç½®ï¼š\ncall plug#begin(expand(\u0026#39;~/.local/share/nvim/plugged\u0026#39;)) Plug \u0026#39;ZSaberLv0/ZFVimIM\u0026#39; Plug \u0026#39;ZSaberLv0/ZFVimJob\u0026#39; call plug#end() \u0026#34; ä½¿ç”¨æœ¬åœ° db çš„é…ç½® function! s:zfvimim_init() abort let db = ZFVimIM_dbInit({\u0026#39;name\u0026#39; : \u0026#39;jd_db\u0026#39;}) call ZFVimIM_cloudRegister({ \\ \u0026#39;mode\u0026#39; : \u0026#39;local\u0026#39;, \\ \u0026#39;dbId\u0026#39; : db[\u0026#39;dbId\u0026#39;], \\ \u0026#39;repoPath\u0026#39; : expand(\u0026#39;~/scratch_dir/\u0026#39;), \\ \u0026#39;dbFile\u0026#39; : \u0026#39;pinyin.txt\u0026#39;, \\ \u0026#39;dbCountFile\u0026#39; : \u0026#39;pinyin_count.txt\u0026#39;, \\ }) endfunction augroup zfvim_conf autocmd! autocmd VimEnter * call s:zfvimim_init() augroup END æ¥ä¸‹æ¥éœ€è¦ä¸‹è½½å­—å…¸ï¼Œä¹Ÿå°±æ˜¯ä½œè€…è¯´çš„ dbï¼Œä» è¿™é‡Œ ä¸‹è½½æ‹¼éŸ³æ–‡ä»¶ pinyin.txt å’Œ count æ–‡ä»¶ pinyin_count.txt,æ”¾åˆ°ä¸€ä¸ªæµ‹è¯•çš„ç›®å½•ï¼Œä¸Šé¢çš„é…ç½®ä¸­ï¼ŒrepoPath å¯¹åº”çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚\nç„¶åä½¿ç”¨ä¸Šè¿°é…ç½®æ‰“å¼€ Neovimï¼Œåœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ ;; æ‰“å¼€ä¸­æ–‡è¾“å…¥æ¨¡å¼ï¼Œå¼€å§‹è¾“å…¥å³å¯ã€‚ç”±äº pinyin.txt åªåŒ…å«å•ä¸ªå­—æ‹¼éŸ³çš„æ•°æ®ï¼Œæ‰€ä»¥ä¸€ç‚¹ä¹Ÿä¸æ™ºèƒ½ï¼Œè¾“å…¥æ‹¼éŸ³è¯ç»„ï¼Œéœ€è¦è‡ªå·±ä¸€ä¸ªä¸ªå»é€‰æ‹©æ•°å­—æ¥ç»„è¯ï¼Œæ‰€ä»¥é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ’ä»¶æä¾›çš„ IMAdd å‘½ä»¤æ·»åŠ ä¸ªäººè¯ç»„ã€‚ä¾‹å¦‚ï¼Œ :IMAdd äº‘æ·¡é£è½» yundanfengqingã€‚\nåŠ è½½ä¸€ä¸ªæ›´å¤§çš„è¯åº“ï¼Œèƒ½å¤Ÿç¼“è§£è¾“å…¥æ—¶éœ€è¦è‡ªå·±ç»„è¯çš„å°´å°¬ï¼Œå¯ä»¥ä½¿ç”¨ è¿™é‡Œ æä¾›çš„ pinyin_huge.txt å’Œ pinyin_huge_count.txt æµ‹è¯•ã€‚\nè¿™ä¸ªæ’ä»¶è¿˜æ”¯æŒäº‘è¾“å…¥æ¨¡å¼ï¼Œéœ€è¦æ·»åŠ ä¸‹é¢çš„æ’ä»¶å’Œé…ç½®ï¼š\n\u0026#34; æ’ä»¶åœ°å€ï¼šhttps://github.com/ZSaberLv0/ZFVimIM_openapi Plug \u0026#39;ZSaberLv0/ZFVimIM_openapi\u0026#39; let g:ZFVimIM_openapi_enable=1 ä½“éªŒï¼šæœ‰ä¸€äº›å»¶è¿Ÿå¡é¡¿ï¼Œä½†æ˜¯åœ¨ Neovim ä¸‹æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œäº‘è¾“å…¥æ³•æŒºå¥½ç”¨çš„ï¼Œæ¯”è¾ƒå‡†ç¡®ï¼ˆå‰ææ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ wget è¿›è¡Œè¯·æ±‚ï¼‰ã€‚\n","date":"26 February 2021","externalUrl":null,"permalink":"/2021/02/26/ime_inside_vim/","section":"Posts","summary":"\u003cp\u003eæ–‡æ¥\u003ca href=\"https://jdhao.github.io/2021/02/25/nvim_ime_mode_auto_switch/\" target=\"_blank\"\u003eä¸Šå›\u003c/a\u003eï¼ŒVim è™½ç„¶è´µä¸ºç¼–è¾‘å™¨ä¹‹ç¥ï¼Œæœ‰ä¸€ä¸ªæ²¡æœ‰è§£å†³å¥½çš„é—®é¢˜å°±æ˜¯è¾“å…¥ä¸­æ–‡ï¼Œä»¥åŠä¸­è‹±æ–‡çš„åˆ‡æ¢é—®é¢˜ã€‚æœ€è¿‘ä¹Ÿå°è¯•äº†ä¸€äº›è¯•å›¾åˆ©ç”¨ Vim æä¾›çš„åŠŸèƒ½ï¼Œåœ¨ Vim ä¸­å®ç°è¾“å…¥æ³•çš„æ’ä»¶ã€‚æœ¬æ–‡åšä¸€æ€»ç»“ç‚¹è¯„ã€‚\u003c/p\u003e","title":"Vim å®ç°çš„è¾“å…¥æ³•ä½“éªŒ","type":"posts"},{"content":" æ›´æ–°æ—¥å¿— 2023-06-18ï¼šå¢åŠ  macism ä»¥åŠ im-select.nvim ä½¿ç”¨ã€‚ 2022-11-07ï¼šé’ˆå¯¹ macbook M1 CPU è®¾ç½®æ·»åŠ è¯´æ˜ï¼Œæ·»åŠ  smartim æ’ä»¶ä½¿ç”¨ã€‚ Vim/Neovim ä¸‹è¾“å…¥ä¸­æ–‡æœ€å¤§çš„ç—›ï¼Œå°±æ˜¯åœ¨ Normal æ¨¡å¼ä¸‹ï¼Œéœ€è¦é¢‘ç¹ä»ä¸­æ–‡æ¨¡å¼åˆ‡æ¢åˆ°è‹±æ–‡æ¨¡å¼ï¼Œæ¥è¾“å…¥ Vim çš„å„ç§å‘½ä»¤ã€‚æœ¬æ–‡æ€»ç»“å‡ æ¬¾æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ macOSã€Windows ä¸‹ï¼Œè¿›å…¥ Normal æ¨¡å¼çš„æ—¶å€™è‡ªåŠ¨åˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥ã€‚\nmacOS # vim-barbaric # vim-barbaric æ˜¯ä¸€æ¬¾å¸®åŠ©ç”¨æˆ·è‡ªåŠ¨è®¾ç½®è¾“å…¥æ³•æ¨¡å¼çš„æ’ä»¶ã€‚\nå®‰è£…ä¾èµ– # åœ¨ macOS ä¸‹ï¼Œéœ€è¦é¢å¤–å®‰è£… xkbswitch-macosxï¼š\ncurl -o /usr/local/bin/xkbswitch https://raw.githubusercontent.com/myshov/xkbswitch-macosx/master/bin/xkbswitch åœ¨ macOS M1 èŠ¯ç‰‡ä¸‹ï¼Œä»¥ä¸Šé¢„ç¼–è¯‘çš„ binary æ–‡ä»¶æ— æ³•é€‚ç”¨ï¼ˆä»…é’ˆå¯¹ intel cpuï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ è¿™é‡Œ æä¾›çš„ forkï¼Œè‡ªè¡Œç¼–è¯‘ï¼Œç„¶åæ”¾åˆ° /usr/local/bin ç›®å½•ã€‚\næ’ä»¶å®‰è£…ä½¿ç”¨ # ç„¶åä½¿ç”¨æ’ä»¶ç®¡ç†å™¨å®‰è£…è¯¥æ’ä»¶å³å¯ï¼š\nPlug \u0026#39;rlue/vim-barbaric\u0026#39; è¯¥æ’ä»¶å¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚\nvim-xkbswitch # å¦å¤–ä¸€æ¬¾æ’ä»¶æ˜¯ vim-xkbswitchã€‚\nå®‰è£…ä¾èµ– # è¿™ä¸ªæ’ä»¶ä¹Ÿéœ€è¦å®‰è£… xkbswitch-macosxï¼Œå‚è€ƒä¸Šé¢çš„å®‰è£…æ­¥éª¤ã€‚å¦å¤–è¯¥æ’ä»¶ä¾èµ– libxkbswitch-macosxï¼Œéœ€è¦å®‰è£…è¯¥åº“ï¼š\ncurl -o /usr/local/lib/libxkbswitch.dylib https://github.com/myshov/libxkbswitch-macosx/raw/master/bin/libxkbswitch.dylib å¦‚æœä½¿ç”¨çš„ M1 èŠ¯ç‰‡çš„ macï¼Œåˆ™éœ€è¦è‡ªå·±ç¼–è¯‘ï¼Œå‚è€ƒ è¿™ä¸ª issueï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç¼–è¯‘ï¼š\ngcc -dynamiclib libxkbswitch.c -o bin/libxkbswitch.dylib æŠŠç”Ÿæˆçš„åŠ¨æ€åº“æ”¾åˆ° /usr/local/lib ä¸‹é¢:\ncp bin/libxkbswitch.dylib /usr/local/lib æ’ä»¶å®‰è£…ä½¿ç”¨ # é¦–å…ˆå®‰è£…è¯¥æ’ä»¶ï¼š\nPlug \u0026#39;lyokha/vim-xkbswitch\u0026#39; æœ€åï¼Œåœ¨ Neovim é…ç½®ä¸­åŠ å…¥ä¸‹é¢çš„è®¾ç½®å³å¯ï¼š\nlet g:XkbSwitchEnabled = 1 vim-macos-ime # ä¾èµ–å®‰è£… # é¦–å…ˆå®‰è£…è¿™æ¬¾æ’ä»¶çš„ä¾èµ– macismï¼š\nbrew tap laishulu/macism brew install macism ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ macism å‘½ä»¤ï¼Œå¯ä»¥æ’ä»¶å½“å‰æ­£åœ¨ä½¿ç”¨çš„è¾“å…¥æ³•çš„åç§°ï¼Œè¿™ä¼šåœ¨æ’ä»¶çš„è®¾ç½®ä¸­ç”¨åˆ°ã€‚\næ’ä»¶å®‰è£…ä½¿ç”¨ # ä½¿ç”¨ Packer.nvim çš„å®‰è£… vim-macos-ime æ–¹æ³•å¦‚ä¸‹ï¼š\nuse { \u0026#34;laishulu/vim-macos-ime\u0026#34;, config = function() vim.g.macosime_normal_ime = \u0026#39;com.apple.keylayout.ABC\u0026#39; vim.g.macosime_cjk_ime = \u0026#39;com.apple.inputmethod.SCIM.ITABC\u0026#39; end} å˜é‡ macosime_normal_ime ç”¨æ¥è®¾ç½® normal æ¨¡å¼ä¸‹çš„è‹±æ–‡è¾“å…¥æ³•ï¼Œå˜é‡ macosime_cjk_ime ç”¨æ¥è®¾ç½®ä¸­æ–‡è¾“å…¥æ³•ï¼Œè¿™ä¸¤ä¸ªå˜é‡ä¸€å®šè¦æ ¹æ®å®é™…æƒ…å†µè®¾ç½®æ­£ç¡®ï¼Œå¦åˆ™æ’ä»¶æ— æ³•å·¥ä½œã€‚\næœ‰äº†ä»¥ä¸Šçš„è®¾ç½®ï¼Œå®‰è£…æ’ä»¶ä»¥åï¼Œè¿›å…¥ insert æ¨¡å¼ï¼Œæ’ä»¶ä¼šæ ¹æ®å‰ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯ä¸­æ–‡åˆ¤æ–­åˆ‡æ¢åˆ°ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡è¾“å…¥æ³•ï¼Œè™½ç„¶è¿˜ä¸ç®—éå¸¸æ™ºèƒ½ï¼ˆæ— æ³•è®°å½•æ¨å‡º insert ä¹‹å‰ç”¨çš„ä»€ä¹ˆè¾“å…¥æ³•ï¼‰ï¼Œæ€»ä½“è¿˜å¯ç”¨ã€‚\nim-select.nvim # ä¾èµ–å®‰è£… # curl -LO https://github.com/daipeihust/im-select/raw/8080ad18f20218d1b6b5ef81d26cc5452d56b165/im-select-mac/out/apple/im-select chmod u+x im-select mv im-select /usr/local/bin ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦åœ¨ç³»ç»Ÿè®¾ç½® â€œPrivacy \u0026amp; Securityâ€ ç»™è¿™ä¸ªå¯æ‰§è¡Œç¨‹åºæƒé™ï¼Œå¦åˆ™æ— æ³•è¿è¡Œã€‚\næ’ä»¶å®‰è£…ä½¿ç”¨ # ä½¿ç”¨ Packer å®‰è£… im-select.nvim æ–¹æ³•å¦‚ä¸‹ï¼š\nuse { \u0026#39;keaising/im-select.nvim\u0026#39;, config = function() require(\u0026#39;im_select\u0026#39;).setup { default_im_select = \u0026#34;com.apple.keylayout.ABC\u0026#34; } end} default_im_select å‚æ•°è®¾å®š normal æ¨¡å¼ä¸‹è¾“å…¥æ³•ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„æƒ…å†µè®¾ç½®ã€‚è¿™æ¬¾æ’ä»¶å·¥ä½œè‰¯å¥½ï¼Œå¯ä»¥è®°å½•ä¸Šæ¬¡ç¦»å¼€ insert ä¹‹å‰ä½¿ç”¨çš„è¾“å…¥æ³•ï¼Œæ¯” vim-macos-ime æ™ºèƒ½ä¸€ç‚¹ã€‚\nsmartim # ä½¿ç”¨ packer.nvim å®‰è£… smartim å¦‚ä¸‹ï¼š\nuse { \u0026#34;ybian/smartim\u0026#34;, event = { \u0026#34;InsertEnter\u0026#34; }, config = function () -- default IME mode vim.g.smartim_default = \u0026#34;com.apple.keylayout.ABC\u0026#34; end} Note that we should set variable smartim_default based on our case. We can run the im-select executable without argument to get current mode:\n./plugin/im-select è¿™æ¬¾æ’ä»¶å’Œ im-select.nvim å…¶å®å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ä»¥æ¥ im-select ï¼Œåªä¸è¿‡è¿™ä¸ªæ’ä»¶æŠŠ im-select å¯æ‰§è¡Œæ–‡ä»¶é›†æˆåˆ°æ’ä»¶æœ¬èº«ï¼Œä¸éœ€è¦ç”¨æˆ·å•ç‹¬å®‰è£…äº†ã€‚ã€‚ã€‚å¹¶ä¸”æ’ä»¶åªæ”¯æŒäº† macOSã€‚\nWindows # ä»¥ä¸Šçš„ im-select.nvim, vim-xkbswitch ä¹Ÿå¯ä»¥åœ¨ Windows å·¥ä½œï¼Œæœ‰éœ€è¦å¯ä»¥å‚è€ƒå…·ä½“æ–‡æ¡£æ¥é…ç½®ã€‚\nneuims # Windows ä¸‹å¯ä»¥å®‰è£… neuims:\nif g:is_mac Plug \u0026#39;lyokha/vim-xkbswitch\u0026#39; elseif g:is_win Plug \u0026#39;Neur1n/neuims\u0026#39; endif ç„¶åä½¿ç”¨å‘½ä»¤ IMSToggle æ‰“å¼€è¿™ä¸ªæ’ä»¶çš„åŠŸèƒ½ã€‚æ‰“å¼€åŠŸèƒ½ä»¥åï¼Œä½¿ç”¨ ESC ç¦»å¼€æ’å…¥æ¨¡å¼ï¼Œè¾“å…¥æ³•ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ° US keyboard æ¨¡å¼ï¼Œé‡æ–°æŒ‰ i è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œä¼šåˆ‡æ¢åˆ°ä¹‹å‰çš„è¾“å…¥æ³• (æ³¨æ„æ˜¯åˆ‡æ¢åˆ°äº†è¾“å…¥æ³•çš„é»˜è®¤çŠ¶æ€ï¼Œå¦‚æœè¾“å…¥æ³•é»˜è®¤çŠ¶æ€æ˜¯è‹±æ–‡è¾“å…¥ï¼Œåœ¨ä¸­æ–‡è¾“å…¥çŠ¶æ€ï¼ŒæŒ‰ ESC ç¦»å¼€æ’å…¥æ¨¡å¼ï¼Œå†è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œè¾“å…¥æ³•å¤„äºè‹±æ–‡è¾“å…¥çŠ¶æ€ï¼Œç›®å‰ä¼¼ä¹è¿˜ä¸æ”¯æŒåˆ‡æ¢åˆ°è¾“å…¥æ³•ä¸Šæ¬¡ä½¿ç”¨çš„çŠ¶æ€ï¼Œä¸è¿‡è¿™å·²ç»æ¯”è¾ƒå¥½äº†)ã€‚\n","date":"25 February 2021","externalUrl":null,"permalink":"/2021/02/25/nvim_ime_mode_auto_switch/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eæ›´æ–°æ—¥å¿—\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2023-06-18ï¼šå¢åŠ  macism ä»¥åŠ im-select.nvim ä½¿ç”¨ã€‚\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-11-07ï¼šé’ˆå¯¹ macbook M1 CPU è®¾ç½®æ·»åŠ è¯´æ˜ï¼Œæ·»åŠ  smartim æ’ä»¶ä½¿ç”¨ã€‚\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eVim/Neovim ä¸‹è¾“å…¥ä¸­æ–‡æœ€å¤§çš„ç—›ï¼Œå°±æ˜¯åœ¨ Normal æ¨¡å¼ä¸‹ï¼Œéœ€è¦é¢‘ç¹ä»ä¸­æ–‡æ¨¡å¼åˆ‡æ¢åˆ°è‹±æ–‡æ¨¡å¼ï¼Œæ¥è¾“å…¥ Vim çš„å„ç§å‘½ä»¤ã€‚æœ¬æ–‡æ€»ç»“å‡ æ¬¾æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ macOSã€Windows ä¸‹ï¼Œè¿›å…¥ Normal æ¨¡å¼çš„æ—¶å€™è‡ªåŠ¨åˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥ã€‚\u003c/p\u003e","title":"å¦‚ä½•è®© Neovim ä¸­æ–‡è¾“å…¥æ—¶è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•","type":"posts"},{"content":"","date":"20 February 2021","externalUrl":null,"permalink":"/tags/latex/","section":"Tags","summary":"","title":"LaTeX","type":"tags"},{"content":"2022-01-19: With the release of VimTeX v2.8, all the hack here may not be needed anymore.\nUpdate log 2021-10-22: Update the script to write server name. 2021-10-10: Fix typo and minor tweak. Since --remote option hasn\u0026rsquo;t been restored by Neovim, it is actually not very straightforward to set up inverse search for PDF files when we are editing large LaTeX files with the help of VimTeX.\nI spend some time figuring out how to do it on both Windows and macOS and succeed. I thought it would be helpful for people looking for the solution.\nFirst step # Although Neovim removed the --remote option, it has a complete RPC api by which a client can talk to it and controls its behavior. When Neovim starts, it always starts a server1. The neovim-remote project utilizes the RPC api of neovim to mimic the --remote behavior and its friends. First, we need to install this package:\npip install neovim-remote It comes with an executable named nvr. To connect to a running Neovim instance and run a command, we can use the following command:\nnvr --servername server_address -c \u0026#34;echo \u0026#39;hello\u0026#39;\u0026#34; Option --servername specifies a valid Neovim server address (i.e., the value v:servername). Option -c means to run a command in the specified Neovim instance.\nSecond step # Each time we start a new neovim instance, the server address changes. It is cumbersome to copy this address when we want to communicate with this Neovim instance. We can write the server address to a temporary file and read the server address from that file when running the nvr command.\nAdd the following setting to nvim config:\nfunction! s:write_server_name() abort let nvim_server_file = (has(\u0026#39;win32\u0026#39;) ? $TEMP : \u0026#39;/tmp\u0026#39;) . \u0026#39;/vimtexserver.txt\u0026#39; call writefile([v:servername], nvim_server_file) endfunction augroup vimtex_common autocmd! autocmd FileType tex call s:write_server_name() augroup END When we open a LaTeX source file, the server name will be written to vimtexserver.txt so that we can later read it easily.\nThird step # Now we need to set up the corresponding PDF viewer to do inverse search. The setup differs based on your system and PDF viewer.\nSkim on macOS # Open Skim PDF viewer, open the Preferences menu (shortcut: Command+,) and go to Sync page. Set up the section PDF-Tex Sync support, use the following settings:\nPreset: Custom Command: nvr Arguments: --servername `cat /tmp/vimtexserver.txt` +\u0026quot;%line\u0026quot; \u0026quot;%file\u0026quot; To start inverse search, press Shift and Command, then click the text you want to inv-search.\nSumatra PDF on Windows # Open Sumatra PDF, go to Settings --\u0026gt; Options, in the bottom part, there is a section Set inverse search command-line, put the following command there:\ncmd /c for /F %i in (\u0026#39;type C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\vimtexserver.txt\u0026#39;) do nvr --servername %i -c \u0026#34;normal! zzzv\u0026#34; +\u0026#34;%l\u0026#34; \u0026#34;%f\u0026#34; The meaning of %f and %l:\n%f: tex source file path corresponding to current pdf. %l: line in the original tex file. I know the above command is complicated and looks super weird, but it\u0026rsquo;s the only way that works out of the numerous other ways I have tried. Note that cmd /c is needed, without which, Sumatra PDF will complain that the inverse search command is wrong:\nCan not start inverse search command. Please check the command line in the settings.\nDouble click somewhere in the PDF file, your cursor in nvim/nvim-qt should go to the corresponding line in the file buffer.\nI have also posted this setup on VimTeX repo, check this issue.\nConclusion # In this post, I give a summary on how to set up inverse search for Neovim on different platforms. After all these setup, inverse search should work out of the box without any manual labor.\nReferences # echo the content of a file to command line on Windows https://superuser.com/q/162713/736190 https://superuser.com/q/256651/736190 Batch/cmd equivalent of Bash backtick https://stackoverflow.com/q/2768608/6064933 https://superuser.com/q/289344/736190 You can find the name of the server by running command :echo v:servername inside Neovim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 February 2021","externalUrl":null,"permalink":"/2021/02/20/inverse_search_setup_neovim_vimtex/","section":"Posts","summary":"\u003cp\u003e\u003cfont size=\"5\" color=\"red\"\u003e2022-01-19: With the release of \u003ca href=\"https://github.com/lervag/vimtex/releases/tag/v2.8\" target=\"_blank\"\u003eVimTeX v2.8\u003c/a\u003e, all the hack here may not be needed anymore.\u003c/font\u003e\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-10-22: Update the script to write server name.\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-10-10: Fix typo and minor tweak.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eSince \u003ca href=\"https://github.com/neovim/neovim/issues/1750\" target=\"_blank\"\u003e\u003ccode\u003e--remote\u003c/code\u003e option hasn\u0026rsquo;t been restored by Neovim\u003c/a\u003e, it is actually not very\nstraightforward to set up inverse search for PDF files when we are editing\nlarge LaTeX files with the help of \u003ca href=\"https://github.com/lervag/vimtex\" target=\"_blank\"\u003eVimTeX\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eI spend some time figuring out how to do it on both Windows and macOS and\nsucceed. I thought it would be helpful for people looking for the solution.\u003c/p\u003e","title":"Set up Inverse Search for LaTeX with VimTeX and Neovim","type":"posts"},{"content":"Git learning notes.\nfatal: no files added # When I add files under a directory using git add some_folder/*, I see the following error message:\nThe following paths are ignored by one of your .gitignore files: ppt/__pycache__ Use -f if you really want to add them. fatal: no files added This is because * is interpreted by the system, so it will add all files under a directory. If some files under this directory are in the .gitignore, you will see the above error message.\nRef:\nhttps://stackoverflow.com/q/12084227/6064933 git ask for username and password each time I push # I cloned a remote repo using https protocol. Each time when I push to this repo, git asks me to enter my username and password. This is annoying.\nTo prevent from entering username each time, we can add username to remote repo url like this:\ngit remote set-url origin https://jdhao@github.com/jdhao/toy_project.git where jdhao is my username. In this way, we do not need to enter username when we push to remote. In fact, we can provide the password after the username like this:\ngit remote set-url origin https://jdhao:some_pwd@github.com/jdhao/toy_project.git However, it is not safe to do so, since your password are stored in plain text now.\nFor password, if we are in Linux, we can use the following settings:\ngit config --global credential.helper \u0026#39;cache --timeout=3600\u0026#39; The password will be cached in memory for 3600 seconds, which means that you do not need to input password for 1 hour. Tweak the time interval to suit your need.\nRef:\nhttps://docs.github.com/en/github/using-git/caching-your-github-credentials-in-git#platform-linux Is there a way to cache GitHub credentials for pushing commits? Compare same file from different branches # Sometimes, I want to see the difference of a file on different branches. For example, to find the difference for foo.py on master and dev branch. There are two slightly different ways to do this.\ngit diff master..dev path/to/foo.py git diff master dev -- path/to/foo.py or\ngit diff master:path/to/foo.py dev:path/to/foo.py Ref:\nHow to compare files from two different branches? Clone a git repository without history? # Due to slow networking speed or other reasons, we may want to clone a repository without its huge history. We can use --depth to restrict the number of history to include, --depth 1 will only clone the last commit, effectively meaning that no history is cloned.\ngit clone --depth 1 http://url/to/git/project Ref:\nhttps://git-scm.com/docs/git-clone#Documentation/git-clone.txt---depthltdepthgt Clone git repository without history? How to check last commit for a given line only? # By default, git-blame will print out the last commit info for each line in a file. What if we are only interested in a particular line range? In this case, we can use -L to restrict the line range. For example, if I want to blame line 4-5 for file options.vim, I can use the following command:\ngit blame -L 4,5 core/options.vim Ref:\nRetrieve the commit log for a specific line in a file? ","date":"17 February 2021","externalUrl":null,"permalink":"/2021/02/17/git_notes_s3/","section":"Posts","summary":"\u003cp\u003eGit learning notes.\u003c/p\u003e","title":"Git Learning Notes (3)","type":"posts"},{"content":"å¦‚ä½•åˆ¶ä½œç¾å‘³çš„é¥ºå­é¦…ã€‚\nåŠ é¸¡è›‹ç‰ˆæœ¬ # åŸæ–™ # äº”èŠ±è‚‰ï¼ˆè‚¥ç˜¦ 3:7ï¼‰ï¼Œè‘±å§œï¼ŒèŠ±æ¤’ï¼Œå…«è§’ï¼Œèƒ¡æ¤’ç²‰ï¼Œèšæ²¹ï¼Œç›ï¼Œç™½ç³–ï¼Œé¸¡è›‹ã€‚\nå¯é€‰ï¼šèƒ¡èåœï¼Œç‰ç±³ï¼ŒéŸ­èœç­‰è”¬èœã€‚\næ­¥éª¤ # é€‰ç”¨äº”èŠ±è‚‰ï¼Œé¥ºå­é¦…å¸¦æœ‰è‚¥è‚‰ä¼šå¥½åƒä¸€äº›ï¼Œå…¨ç˜¦è‚‰åšå‡ºæ¥çš„é¦…å¤ªå¹²ï¼Œè‚¥ç˜¦æ¯”ä¾‹ 4:6 æˆ–è€… 3:7ï¼ˆè‡ªå·±çœ‹ç€åŠï¼Œå–œæ¬¢ç˜¦çš„å°±ç˜¦è‚‰å¤šä¸€äº›ï¼‰ã€‚ç”¨åˆ€æˆ–è€…æ…æ‹ŒæœºæŠŠè‚‰å‰æˆé¦…ï¼Œä¸€å®šè¦å‰ç¢ï¼Œé¿å…æœ‰å¤§é¢—ç²’è‚‰ã€‚\nç”¨æ¸©æ°´ç‚®åˆ¶è‘±å§œæ°´ï¼ŒåŸæ–™ï¼šè‘±èŠ±ï¼Œå§œç‰‡ï¼ŒèŠ±æ¤’ï¼Œå…«è§’ã€‚è‘±å§œæ°´ä¸è¦å¤ªå¤šï¼Œå› ä¸ºè‚‰é¦…åé¢åŠ ä¸Šè”¬èœä»¥åè¿˜ä¼šå‡ºæ°´ï¼Œæ°´å¤ªå¤šï¼Œä¸å¥½åŒ…é¥ºå­ã€‚è‘±å§œæ°´æ³¡ååˆ†é’Ÿä»¥ä¸Šï¼Œè®©å‘³é“éƒ½æµ¸å…¥æ°´ä¸­ã€‚\nè‘±å§œæ°´åˆ†å¤šæ¬¡åŠ å…¥çŒªè‚‰é¦…ä¸­ï¼Œè¾¹åŠ è¾¹æ²¿ç€ä¸€ä¸ªæ–¹å‘æ…æ‹Œï¼Œæ…æ‹Œåˆ°çŒªè‚‰ä¸ŠåŠ²ï¼ˆä¹Ÿå°±æ˜¯æ…æ‹Œçš„æ—¶å€™æœ‰é˜»åŠ›ï¼Œç²˜ç¨ æ„Ÿï¼‰ã€‚\nåŠ å…¥èƒ¡æ¤’ç²‰ï¼Œç›ï¼Œèšæ²¹ï¼Œç”ŸæŠ½ï¼Œç™½ç³–é€‚é‡åˆ°è‚‰é¦…ä¸­ï¼Œè‚‰é¦…ä¸­å†æ‰“å…¥ä¸€ä¸ªé¸¡è›‹ï¼Œæ…æ‹Œå‡åŒ€ã€‚\nåˆ‡é€‚é‡çš„è‘±èŠ±ï¼Œé”…ä¸­çƒ­æ²¹ï¼ŒæŠŠè‘±èŠ±æ”¾è¿›å»ç…¸é¦™ï¼Œåˆ¶ä½œè‘±æ²¹ï¼Œå¾…è‘±èŠ±å˜é»‘å³å¯ã€‚è‘±æ²¹å€’è¿›è‚‰é¦…é‡Œï¼Œæ…æ‹Œå‡åŒ€ã€‚æƒ³è¦æ›´é¦™çš„å¯ä»¥å†æ”¾é€‚é‡çš„èŠéº»æ²¹ã€‚\næ ¹æ®ä¸ªäººçš„å–œå¥½ï¼ŒåŠ å…¥åˆ‡ç¢çš„é…èœï¼Œä¾‹å¦‚å¯ä»¥åŠ å…¥å¤§è‘±ï¼Œèƒ¡èåœï¼Œç‰ç±³ã€‚æƒ³è¦åƒéŸ­èœçŒªè‚‰ï¼Œå°±åŠ å…¥åˆ‡ç¢çš„éŸ­èœã€‚æ…æ‹Œå‡åŒ€å³å¯ã€‚\nè‡³æ­¤ï¼Œç¾å‘³çš„çŒªè‚‰é¦…å°±åˆ¶ä½œå®Œæˆäº†ã€‚\nå‚è€ƒ # https://www.youtube.com/watch?v=bYvQ6eUY0qI https://www.youtube.com/watch?v=OBZVkExf27I ä¸åŠ é¸¡è›‹ç‰ˆæœ¬ # åŸæ–™ # äº”èŠ±è‚‰(è‚¥ç˜¦æ¯”ä¾‹ 3:7)ï¼Œå¤§è‘±ï¼Œå§œï¼ŒèŠ±æ¤’ç²’ï¼Œå…«è§’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œè‰æœï¼Œå°èŒ´é¦™ï¼Œç”ŸæŠ½ï¼Œèšæ²¹\nåŸæ–™å‡†å¤‡ # çŒªè‚‰å»çš®ï¼Œåˆ‡æˆå°å—ï¼Œæ”¾å…¥æ…æ‹Œæœºç²‰ç¢ è‘±å§œæ°´åˆ¶ä½œï¼Œåˆ‡é€‚é‡è‘±å§œä¸ï¼Œæ”¾å…¥ç¢—é‡Œï¼ŒåŠ å…¥é€‚é‡èŠ±æ¤’ç²’ï¼ŒåŠ å…¥æ¸©æ°´æµ¸æ³¡20åˆ†é’Ÿ(æ¸©æ°´ç›–ä½è‘±å§œå³å¯ï¼Œæ°´åˆ«å¤ªå¤š)ï¼Œæ‰‹æŠ“ä¸€ä¸‹ï¼Œè®©åŸæ–™å‘³é“å……åˆ†æµ¸å…¥æ°´ä¸­ï¼Œè¿‡æ»¤åªç•™ä¸‹æ°´ã€‚ é¦™æ–™æ²¹åˆ¶ä½œï¼Œé”…ä¸­çƒ­æ²¹ï¼ŒåŠ å…¥å…«è§’ï¼Œæ¡‚çš®ï¼Œé¦™å¶ï¼Œè‰æœï¼Œå°èŒ´é¦™ï¼Œå……åˆ†ç‚’åˆ¶ï¼Œæ²¹æ¸©åˆ«å¤ªé«˜ï¼Œç‚’åˆ¶ä¸¤ä¸‰åˆ†é’Ÿï¼Œè®©é¦™æ–™å‘³é“è¿›å…¥æ²¹ä¸­ï¼Œå€’å…¥ç¢—é‡Œæ”¾å‡‰ã€‚ å‡†å¤‡è¾ƒå¤šçš„å¤§è‘±å’Œå§œï¼Œåˆ‡ç¢ï¼Œè¶Šç¢è¶Šå¥½ã€‚ åˆ¶ä½œ # çŒªè‚‰é¦…åˆ†æ‰¹åŠ å…¥è‘±å§œæ°´ï¼Œä¸æ–­æ…æ‹Œè‚‰é¦…è®©è‚‰é¦…ä¸ŠåŠ² åŠ å…¥é€‚é‡çš„ç›ï¼Œç”ŸæŠ½ï¼Œèšæ²¹ï¼Œç»§ç»­æ…æ‹Œå‡åŒ€è‚‰é¦…ã€‚ åŠ å…¥åˆ‡å¥½çš„è‘±å§œç¢åˆ°è‚‰é¦…ä¸­ï¼Œæ…æ‹Œå‡åŒ€å³å¯ã€‚ æ³¨ï¼šå¦‚æœä¸å–œæ¬¢å¤§è‘±é¦…ï¼Œå¤§è‘±ä¹Ÿå¯ä»¥æ¢æˆéŸ­èœï¼Œå°èŒ´é¦™æˆ–è€…è èœç­‰ï¼Œè”¬èœæœ€å¥½æ˜¯åŒ…é¥ºå­çš„æ—¶å€™å†æ”¾å…¥ å¦åˆ™å¯èƒ½ä¼šå‡ºæ°´ï¼Œå½±å“è‚‰é¦…è´¨æ„Ÿã€‚\nå‚è€ƒ # https://m.youtube.com/watch?v=6xeFCdR4Ync ","date":"13 February 2021","externalUrl":null,"permalink":"/2021/02/13/how_to_make_dumpling_filling/","section":"Posts","summary":"\u003cp\u003eå¦‚ä½•åˆ¶ä½œç¾å‘³çš„é¥ºå­é¦…ã€‚\u003c/p\u003e","title":"å¦‚ä½•åˆ¶ä½œé¥ºå­é¦…","type":"posts"},{"content":"","date":"11 February 2021","externalUrl":null,"permalink":"/tags/fiction/","section":"Tags","summary":"","title":"Fiction","type":"tags"},{"content":"ç”¨æ–‡å­—è®°å½•ç”Ÿæ´»ï¼Œç»™è‡ªå·±çš„ç”Ÿå‘½ç•™ä¸‹å°è¿¹ï¼Œæˆ‘çš„ 2020ã€‚\nå·¥ä½œ # 2020 å¹´æ˜¯æˆ‘åœ¨ vivo å·¥ä½œçš„ç¬¬äºŒå¹´ï¼Œç”±äºæ–°å† ï¼Œæ˜¥èŠ‚å‡æœŸæ¯”å¾€å¸¸å»¶é•¿ä¸€å‘¨ã€‚åˆšå¼€å§‹ä¸Šç­çš„ä¸€ä¸ªå¤šæœˆï¼Œå…¬å¸å…è®¸å‘˜å·¥åœ¨å®¶åŠå…¬ï¼Œæˆ‘ä»¬ç»„é‡‡ç”¨çš„æ˜¯è½®æµå»å…¬å¸çš„æ–¹å¼ï¼Œåˆ°äº†ä¸‰æœˆä¸­ä¸‹æ—¬ï¼Œä¸­å›½çš„ç–«æƒ…é€æ¸è¢«æ§åˆ¶ä½ï¼Œå¤§å®¶æ‰å¼€å§‹æ­£å¸¸å‰å¾€å…¬å¸ä¸Šç­ï¼Œä¸€åˆ‡åŸºæœ¬æ¢å¤äº†æ­£å¸¸ï¼Œåªæ˜¯ä¸Šç­éƒ½éœ€è¦æˆ´ç€å£ç½©ã€‚å¦å¤–ä¸€ä¸ªå˜åŒ–æ˜¯ä¼šè®®å¤§éƒ¨åˆ†å˜æˆäº†è§†é¢‘ä¼šè®®ï¼Œä¸å†éä¼šè®®å®¤ä¸å¯äº†ã€‚è¿™ä¸€å¹´ä¸»è¦è´Ÿè´£ä¸¤ä¸ªç®—æ³•é¡¹ç›®ï¼Œä¸€ä¸ªæ˜¯ vivo æ‰‹æœºä¸Šæ™ºæ…§è§†è§‰çš„â€œå›¾ç‰‡è½¬ PPTâ€ åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥æŠŠç”¨æˆ·ç”¨æ‰‹æœºæ‹æ‘„çš„ PPT å¹»ç¯ç‰‡ï¼Œæ¢å¤ä¸ºå¯ç¼–è¾‘çš„ PowerPoint ç”µå­æ–‡ä»¶ï¼Œåšåˆ°æ’ç‰ˆå’ŒåŸå›¾åŸºæœ¬ä¸€è‡´ï¼Œæ–‡å­—å’Œè¡¨æ ¼ç­‰å…ƒç´ å¯ç¼–è¾‘ã€‚å¦å¤–ä¸€ä¸ªè´Ÿè´£çš„é¡¹ç›®æ˜¯æ™ºæ…§è§†è§‰é‡Œé¢çš„â€œWi-Fi è¯†åˆ«â€ ï¼Œä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œåªéœ€æ‹æ‘„ä¸€å¼ å¸¦æœ‰ Wi-Fi è´¦å·å’Œå¯†ç çš„ç…§ç‰‡ï¼Œæ‰‹æœºå°±å¯ä»¥è‡ªåŠ¨æå–è´¦å·å’Œå¯†ç ä¿¡æ¯ï¼Œç”¨æˆ·è½»ç‚¹å³å¯è¿æ¥ Wi-Fiã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½éƒ½åœ¨ vivo å‘å¸ƒçš„ IQOO5 ä¸Šçº¿ã€‚å‚ä¸è¿™ä¸¤ä¸ªé¡¹ç›®ï¼Œä¹Ÿè®©æˆ‘å¯¹äº§å“æœ‰äº†ä¸€äº›æ€è€ƒï¼Œä¾‹å¦‚ Wi-Fi è¯†åˆ«åŠŸèƒ½ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨æ™ºæ…§è§†è§‰æ—¶ï¼Œä¸èƒ½æ˜æ˜¾çœ‹åˆ°è¿™ä¸ªåŠŸèƒ½çš„æç¤ºï¼Œæ‹æ‘„äº† Wi-Fi å›¾ç‰‡æ‰ä¼šè°ƒç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå¯¼è‡´å¾ˆå¤šç”¨æˆ·æ ¹æœ¬ä¸çŸ¥é“æœ‰è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™æ ·çš„äº§å“è®¾è®¡æ˜¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚\nå…¨é¢ä½¿ç”¨ Neovim å¤„ç†æ–‡æœ¬æ–‡ä»¶ç¼–è¾‘å·¥ä½œï¼ˆå†™ä»£ç ã€å†™æ–‡æ¡£ï¼‰è¶…è¿‡ä¸¤å¹´äº†ï¼Œ2020 å¹´å½“ç„¶æ˜¯ç»§ç»­ç²¾è¿›è‡ªå·±çš„ Vim æŠ€èƒ½ï¼Œå­¦ä¹ æ–°çš„ä¸œè¥¿ï¼Œå°è¯•ä½¿ç”¨æ–°çš„æ’ä»¶ã€‚è‡ªåŠ¨è¡¥å…¨å…¨é¢è½¬å‘ä½¿ç”¨ LSPï¼Œå…¨å¹´å‘æˆ‘çš„ Neovim é…ç½®ä»“åº“ æäº¤ commit 304 æ¬¡ï¼Œå†™äº† 24 ç¯‡å…³äº Vim æˆ–è€… Neovim ä½¿ç”¨çš„æ–‡ç« ã€‚æœ€é«˜å…´çš„äº‹æƒ…ï¼Œæ˜¯ 2020 å¹´ä¸‹åŠå¹´ï¼Œæˆ‘å†™äº†æœ‰ç”Ÿä»¥æ¥ç¬¬ä¸€ä¸ª Vim æ’ä»¶ï¼Œbetter-escape.vimï¼Œç”¨ä»¥è§£å†³ç¦»å¼€ Vim æ’å…¥æ¨¡å¼å­˜åœ¨çš„å°é—®é¢˜ï¼Œå¾ˆå¼€å¿ƒè‡ªå·±çš„ Vim çŸ¥è¯†ä¸æ–­å¢é•¿ï¼Œç»ˆäºåˆ°äº†å¯ä»¥ç‹¬ç«‹åˆ¶ä½œæ’ä»¶çš„ç¨‹åº¦ã€‚Vim å­¦ä¹ æ— æ­¢å¢ƒï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿å¾…æ¢ç´¢ã€‚\nè¯»ä¹¦ # 2020 å¹´è¯»ä¹¦æ•°é‡æ¯” 2019 å¹´è¦å°‘ï¼Œä¸ŠåŠå¹´éå¸¸å¿™ï¼Œçœ‹äº†å‡ æœ¬çŸ­å°çš„ä¹¦ï¼Œä¸‹åŠå¹´æ—¶é—´ç¨å¾®å®½è£•äº›ï¼Œä½†ä¹Ÿæ²¡çœ‹å¤ªå¤šçš„ä¹¦ï¼Œçœ‹å®Œã€ŠAmerican Prometheusã€‹ä»¥åä¸€æ®µæ—¶é—´ï¼Œæœ‰ç‚¹å€¦æ€ äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆæœ‰å…´è¶£çš„ä¹¦ï¼Œåé¢æœ‰ä¸€æ®µæ—¶é—´å°±æ²¡æ€ä¹ˆçœ‹ä¹¦ã€‚å¯¹è¯»è¿‡çš„ä¹¦ç¨ä½œæ€»ç»“å§:\nã€ŠOne Billion Customersã€‹: ä½œè€…ä¹‹å‰æ˜¯è·¯é€ç¤¾çš„è®°è€…ï¼Œåœ¨ä¹¦é‡Œè®²äº†ä¸€äº›å’Œä¸­å›½äººæ‰“äº¤é“çš„â€œæ½œè§„åˆ™â€ï¼Œé‡Œé¢æœ‰å¾ˆå¤šç¯‡,è®°å½•å‘ç”Ÿåœ¨ä¸­å›½ä¸Šä¸–çºªå…«ä¹åå¹´ä»£çš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œä¸­é‡‘å…¬å¸æ˜¯å¦‚ä½•æˆç«‹çš„ä»¥åŠåˆšå¼€å§‹çš„å‘å±•ï¼Œä½œè€…ä½œä¸ºä¸€ä¸ªå¤–å›½äººå´å†™å‡ºäº†å¾ˆå¤šä¸­å›½æ™®é€šäººéƒ½ä¸äº†è§£çš„æ•…äº‹ï¼Œå½“ç„¶è¿™æœ¬ä¹¦åœ¨å›½å†…ä¸Šæ¶ä¸äº†ã€‚é˜®ä¸€å³°æ›¾ç»ä¹Ÿå†™äº†ä¸€ç¯‡è¿™æœ¬ä¹¦çš„è§‚åæ„Ÿã€‚\nã€Šæ´»ç€å›æ¥çš„ç”·äººã€‹: ä½œè€…æ˜¯æ—¥æœ¬å†å²å­¦å®¶ï¼Œåœ¨ä¹¦ä¸­è®²è¿°äº†ä»–çš„çˆ¶äº²å°ç†Šè°¦äºŒçš„ä¸€ç”Ÿï¼Œç‰¹åˆ«æ˜¯ä»–çˆ¶äº²åœ¨äºŒæˆ˜æ—¥æœ¬æŠ•é™å‰å‡ å¤©å‰å¾€æˆ˜åœºï¼Œè¿˜æœªä¸Šé˜µå°±è¢«è‹è”ä¿˜è™ï¼Œå‰å¾€é›†ä¸­è¥çš„ç»å†ï¼Œä»¥åŠæˆ˜åéšç€æ—¥æœ¬ç»æµèµ·é£å¹´ä»£ï¼Œä½œè€…çš„çˆ¶äº²ä½œä¸ºæ™®é€šæ—¥æœ¬äººçš„ç”Ÿæ´»ï¼Œä»¥æ­¤æŠ˜å°„å‡ºæ—¥æœ¬ç¤¾ä¼šçš„å˜è¿ï¼Œéå¸¸æœ‰æ„æ€çš„ä¸€æœ¬ä¹¦ã€‚è®°å¾—å¾ˆæ¸…æ¥šçš„ä¸€ä¸ªæƒ…èŠ‚æ˜¯ä½œè€…çš„çˆ¶äº²åœ¨æˆ˜ååšä½“è‚²ç”¨å“ç”Ÿæ„ï¼Œåœ¨ 1960 å¹´ä»£å°±ç»™å®¶é‡Œæ·»ç½®äº†æ´—è¡£æœºç­‰è®¾å¤‡ï¼Œæ—¥æœ¬æ™®é€šäººçš„ç”Ÿæ´»åœ¨ 60 å¹´ä»£å°±è¾¾åˆ°äº†è¿™ç§ç¨‹åº¦ã€‚\nã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹: å†³å®šæŠ•èµ„åŸºé‡‘ä»¥åï¼Œçœ‹çš„å”¯ä¸€ä¸€æœ¬ç†è´¢ä¹¦ï¼Œæ–­æ–­ç»­ç»­çœ‹å®Œäº†ï¼Œäº†è§£äº†åŸºé‡‘çš„åŸºæœ¬çŸ¥è¯†ã€‚\nã€Šç¹èŠ±ã€‹: è¯„ä»·å¾ˆé«˜çš„ä¸€æœ¬æ²ªè¯­å°è¯´ï¼Œå†™äº†æ²ªç”Ÿï¼Œé˜¿å®ï¼Œå°æ¯›ç­‰äººä»ä¸Šä¸–çºª 60 å¹´ä»£åˆ° 90 å¹´ä»£çš„ç”Ÿæ´»ï¼Œæœ‰ä¸€ç§ä¸Šæµ·çš„å‘³é“ã€‚æˆ‘çœ‹è¿™æœ¬ä¹¦æ˜¯å› ä¸ºå…ˆå¬åˆ°äº†ä½œè€…é‡‘å®‡æ¾„åœ¨è®¸çŸ¥è¿œã€Šåä¸‰é‚€ã€‹ä¸­ï¼Œè°ˆåˆ°äº†ä»–å¯¹â€œæ¸£ç”·â€è¿™ä¸ªè¯çš„ç†è§£ï¼Œä»–è§‰å¾—è¿™æ˜¯ä¸€ä¸ªå¾ˆè‚¤æµ…çš„è¯ï¼Œç¼ºä¹æ€è€ƒï¼Œä¸€ä¸ªè¯æ€ä¹ˆèƒ½æ¦‚æ‹¬å¤æ‚çš„äººæ€§å‘¢1ã€‚\nã€ŠAmerican Prometheusã€‹: éå¸¸æ£’çš„ä¸€æœ¬ä¹¦ï¼Œè®²è¿°äº†åŸå­å¼¹ä¹‹çˆ¶ç½—ä¼¯ç‰¹Â·å¥¥æœ¬æµ·é»˜çš„ä¼ å¥‡ä¸€ç”Ÿï¼Œäº†è§£äº†å¾ˆå¤šæ­¤å‰ä¸çŸ¥é“çš„å†å²ï¼Œå¥¥æœ¬æµ·é»˜å¦‚æ­¤èªæ˜çš„äººï¼Œåœ¨åšå£«æœŸé—´æ›¾æœ‰è¿‡ä¸€æ®µç—›è‹¦æŠ‘éƒçš„ç”Ÿæ¶¯ã€‚ä¸“é—¨å†™äº†ä¸€ç¯‡åšæ–‡æ€»ç»“è¿™æœ¬ä¹¦ã€‚\nç†è´¢ # ä»¥å‰æœ‰ä¸€ä¸ªå¾ˆ naive çš„æƒ³æ³•ï¼Œè§‰å¾—é’±ä¸å¤šï¼Œç†è´¢æ²¡æœ‰æ„ä¹‰ï¼Œé™¤äº†æ”¾äº†ç‚¹åœ¨ä½™é¢å®é‡Œé¢ï¼Œå‰©ä¸‹çš„é’±å°±ä¸€ç›´æ”¾åœ¨é“¶è¡Œå¡é‡Œé¢æ²¡æœ‰è¿›è¡Œä»»ä½•æ“ä½œã€‚2020 å¹´å¼€å§‹è§‰å¾—ç†è´¢æ˜¯ä¸€ä¸ªäººå¿…é¡»å­¦ä¹ çš„ä¸€é¡¹æŠ€èƒ½ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åˆç†è§„åˆ’è‡ªå·±çš„é’±ã€‚ä» 5 æœˆä»½å¼€å§‹ï¼Œæˆ‘å°è¯•ä¹°å…¥äº†ä¸€äº›åŸºé‡‘ï¼Œå¼€å§‹å­¦ä¹ åŸºé‡‘çš„åŸºæœ¬çŸ¥è¯†ã€‚ç”±äºå¹´åˆç–«æƒ…çš„å½±å“ï¼Œå¤§éƒ¨åˆ†è‚¡ç¥¨å’ŒåŸºé‡‘éƒ½å¤„äºå†å²çš„ä½ä½ï¼Œ2020 å¹´è´­ä¹°çš„åŸºé‡‘éƒ½å¤„äºä¸Šæ¶¨çš„çŠ¶æ€ï¼Œæ²¡æœ‰äºæŸçš„ï¼Œåªæ˜¯ä¸Šæ¶¨å¹…åº¦çš„å·®å¼‚ã€‚æœ€æ˜æ˜¾çš„ä¸€æ”¯åŸºé‡‘æ˜¯æ‹›å•†ç™½é…’åŸºé‡‘ï¼Œä¸Šæ¶¨è¿…çŒ›ï¼Œ8 æœˆä»½æœ‰ä¸€æ®µæ—¶é—´åœ¨ä¸‹è·Œï¼Œå°±ç»™å–å‡ºäº†ï¼Œç»“æœåé¢åˆå¼€å§‹ä¸æ–­ä¸Šæ¶¨ã€‚ä¹‹å‰çœ‹åˆ°ä¸€å¥è¯ï¼Œè§‰å¾—å¾ˆæœ‰é“ç†ï¼Œè¯´çš„æ˜¯ä¸è¦è§‰å¾—è‡ªå·±å½“æ—¶å¦‚æœæ€ä¹ˆæ ·ï¼Œå°±ä¼šæ€ä¹ˆæ ·ï¼Œè‡ªå·±æ²¡æœ‰èµšåˆ°çš„é’±ï¼Œä¸è¦è§‰å¾—æƒ‹æƒœï¼Œæ›´é‡è¦çš„æ˜¯æå‡è‡ªå·±çš„è®¤çŸ¥ï¼Œèµšé’±çš„æœºä¼šæ€»æ˜¯å­˜åœ¨çš„ã€‚\nå¨±ä¹ä¸ç”Ÿæ´» # å¨±ä¹æ–¹é¢ï¼Œçœ‹äº†æ¼”ç»ç¾å›½åŸå­å¼¹ç ”åˆ¶çš„ ã€Šæ›¼å“ˆé¡¿è®¡åˆ’ã€‹ï¼Œå¾ˆå¥½çš„ä¸€éƒ¨ç¾å‰§ï¼Œåœ¨å‰§ä¸­å¥¥æœ¬æµ·é»˜æ˜¯ä¸€ä¸ªæ²‰é»˜å¯¡è¨€å’Œæ€ªç™–çš„äººç‰©ï¼Œå¼•å‘äº†æˆ‘å¯¹å¥¥æœ¬æµ·é»˜çš„å…´è¶£ï¼Œæ‰€ä»¥æ‰çœ‹äº†ã€ŠAmerican Prometheusã€‹ã€‚å›½åº†çš„æ—¶å€™çœ‹äº†çƒ­æ’­çš„ã€Šæ²‰é»˜çš„çœŸç›¸ã€‹ï¼Œé¡ºä¾¿è¡¥äº†ä»¥å‰æ²¡çœ‹è¿‡çš„ã€Šç™½å¤œè¿½å‡¶ã€‹ã€‚ä¸‹åŠå¹´ï¼Œçœ‹äº†ç¾å‰§ã€Šé»‘åƒé»‘ã€‹ã€‚ç”±äºç–«æƒ…çš„åŸå› ï¼Œå‡ ä¹æ²¡å»ç”µå½±é™¢çœ‹è¿‡ç”µå½±ï¼Œè‡ªå·±ä»ç½‘ä¸Šçœ‹äº†ä¸€äº›ä¸é”™çš„ç”µå½±ï¼Œã€Š1917ã€‹ï¼Œã€Šéšèº«äººã€‹ï¼Œã€Šé¥¥é¥¿ç«™å°ã€‹ç­‰ã€‚\né‡‘å®‡æ¾„çš„è¿™æ®µé‡‡è®¿è§è¿™é‡Œã€‚é‡‘å®‡æ¾„åœ¨ä¸€å¸­ä¹Ÿåšè¿‡ä¸€æ¬¡æ¼”è®²ï¼Œè§è¿™é‡Œã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 February 2021","externalUrl":null,"permalink":"/2021/02/11/life_in_2020/","section":"Posts","summary":"\u003cp\u003eç”¨æ–‡å­—è®°å½•ç”Ÿæ´»ï¼Œç»™è‡ªå·±çš„ç”Ÿå‘½ç•™ä¸‹å°è¿¹ï¼Œæˆ‘çš„ 2020ã€‚\u003c/p\u003e","title":"è®°å½•æˆ‘çš„ 2020","type":"posts"},{"content":"If we need to access the internet via a proxy server, we should set proxy properly when making HTTP/HTTPS requests using the Requests package.\nHere is a simple code sample:\nimport requests proxy = {\u0026#39;http\u0026#39;: \u0026#34;http://server_ip:port\u0026#34;, \u0026#39;https\u0026#39;: \u0026#34;https://server_ip:port\u0026#34;} r = requests.get(url, proxies=proxy) In the above code, we set the proxy used for http and https requests. However, when I run the above code, I see the following error:\n(Caused by SSLError(SSLError(1, \u0026lsquo;[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)\u0026rsquo;),))\nTo temporarily disable SSL verification (note that this is dangerous for production applications! Do this at your own risk!), we can add verify=False to the requests method:\nr = requests.get(url, proxies=proxy, verify=False) You will see the following warnings:\nInsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\nRefs # Proxies with Python \u0026lsquo;Requests\u0026rsquo; module https://2.python-requests.org/en/master/api/#main-interface https://2.python-requests.org/en/latest/user/advanced/#proxies Python Requests throwing SSLError How do I disable the security certificate check in Python requests ","date":"7 February 2021","externalUrl":null,"permalink":"/2021/02/07/python_requests_with_proxy/","section":"Posts","summary":"\u003cp\u003eIf we need to access the internet via a proxy server, we should set proxy\nproperly when making HTTP/HTTPS requests using the \u003ca href=\"https://requests.readthedocs.io/en/master/\" target=\"_blank\"\u003eRequests\u003c/a\u003e package.\u003c/p\u003e","title":"Using Proxy in Python Requests package","type":"posts"},{"content":"There are several Python packages by which we can get and set the system clipboard.\nTkinter # Use tkinter to get clipboard text.\nimport tkinter as tk root = tk.TK() root.withdraw() # keep the window from showing print(root.clipboard_get()) pywin32 # Use pywin32. It provides the win32clipboard module.\nimport win32clipboard # set the clipboard win32clipboard.OpenClipboard() win32clipboard.EmptyClipboard() win32clipboard.SetClipboardText(\u0026#39;just for a test\u0026#39;) win32clipboard.CloseClipboard() # get the clipboard text win32clipboard.OpenClipboard() data = win32clipboard.GetClipboardData() print(data) win32clipboard.CloseClipboard() pyperclip # Use pyperclip.\nimport pyperclip # set the clipboard pyperclip.copy(\u0026#39;some text\u0026#39;) # get the clipboard pyperclip.paste() Ref # How do I copy a string to the clipboard? How do I read text from the clipboard? ","date":"3 February 2021","externalUrl":null,"permalink":"/2021/02/03/get_or_set_system_clipboard_python/","section":"Posts","summary":"\u003cp\u003eThere are several Python packages by which we can get and set the system\nclipboard.\u003c/p\u003e","title":"How to Get or Set Clipboard Text in Python","type":"posts"},{"content":"A note on bracketed paste mode in terminal and Neovim.\nAnnoying character inserted when pasting text # I use ZOC terminal to connect to my remote server. Today, I noticed a strange issue when I copied text from elsewhere to the terminal shell command line. When I copied some text and pasted it in the terminal, I found that 0~ was added in the beginning of text, and 1~ was added in the end of text.\nI found a similar issue on stackexchange. It turns out that this has something to do with bracketed paste mode in terminal emulators.\nWhat is bracketed paste mode # Typically, when we paste code snippet into a terminal application, it can not tell whether we are typing the text or we are pasting it. This may have unintended side affects for some application. For example, Vim will auto-indent the code pasted into it when it sees a newline, breaking the code structure.\nHere comes the bracketed paste mode. When this feature is enabled, if we paste text into terminal, the terminal will add some special sequence in the beginning and end of the text (\\e[200~ in the beginning and \\e[201~ in the end).\nHow enable and disale it in terminal # To check if bracketed paste mode is on and supported, first use printf \u0026quot;\\e[?2004h\u0026quot; to turn on it. Then copy some text, run xxd, and paste some text into terminal. If you terminal supports bracketed paste mode, then you will see output like the following:\n^[[200~some test^[[201~ To disable this mode, use printf '\\e[?2004l'.\nWhy is it important? # But how is this even important? If a terminal program also supports bracketed paste mode, it can interpret the special terminal sequence and know that the user is pasting text instead of typing it.\nA noticeable example is when we paste multi-line code into Vim. Since the code have already been properly indented, we do not want Vim to alter it. Without this terminal ability, Vim does not know whether you are typing the text or paste it from the terminal. So when it meets a newline character, it will try to re-indent the following line, causing a complete mess. If Vim supports bracketed paste mode, when it see the special terminal sequence, it knows that the user is trying to paste text into it. It will not auto-indent your pasted text any more, thus you do not need to use set paste in order to paste something.\nEnable bracketed paste mode in Vim/Neovim # For plain Vim, see this post on how to enable bracketed paste mode. If you are using Neovim, bracketed paste mode in built-in, if your terminal supports it, you do not need to do any setup. Neovim will just work, see also :h bracketed-paste-mode inside Neovim.\nRef # https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard/issues/31 Getting strange characters when pasting into my iterm2 terminal How do I disable the weird characters from â€œbracketed paste modeâ€ on the Mac OS X default terminal? https://news.ycombinator.com/item?id=18329305 ","date":"1 February 2021","externalUrl":null,"permalink":"/2021/02/01/bracketed_paste_mode/","section":"Posts","summary":"\u003cp\u003eA note on bracketed paste mode in terminal and Neovim.\u003c/p\u003e","title":"Bracketed Paste Mode in Terminal","type":"posts"},{"content":"In this post, I collect some useful tips for using Tmux.\nIn the following text, \u0026lt;prefix\u0026gt; means the prefix key for Tmux. If you haven\u0026rsquo;t changed it, it will Ctrl-b by default.\nChange layout # To change the layout of panes in a Tmux windows, press \u0026lt;prefix\u0026gt;\u0026lt;space\u0026gt;. It will change between different layouts.\nWe may also use command select-layout (or selectl for short) instead. Possible layouts are: even-horizontal, even-vertical, main-horizontal, main-vertical, tiled.\nRef:\nHow to convert 2 horizontal panes to vertical panes in tmux? zoom a pane # To temporarily zoom in and zoom out a pane, press \u0026lt;prefix\u0026gt;z. It will toggle the zoom state of current pane.\nCreate a pane that spans window width # I have two vertical pane side by side in a window, and I want to create a new pane above these two panes, which will span the entire window width. Essentially, I want to change from the following layout:\n+--------------+--------------+ | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | +--------------+--------------+ to the below layout:\n+-----------------------------+ | | +--------------+--------------+ | | | | | | | | | | | | | | | | | | | | | | | | | | | +--------------+--------------+ By default, split-window command only spans the width of current pane. We can use the -f option to make the new pane span the entire window width. The help for -f says that:\n-f \u0026ndash; create new pane spanning full window width or height\nTo make the new pane created above, we need to use -b option:\n-b \u0026ndash; create new pane left of or above target pane\nCombining the two options, we can use the following command to create what we want:\n# run the command after pressing \u0026lt;prefix\u0026gt; :split-window -fbv Similarly, if we have two pane one on the other, we want to create a new pane, and get the following layout:\n+-----------------+-----------+ | | | | | | | | | +-----------------+ | | | | | | | | | | +-----------------+-----------+ we can use the following command:\n:split-window -fh Ref:\nHow to add a horizontal split to tmux window that spans the whole width of the parent window? swap two panes # To swap two panes in Tmux, first we need to check their index: press \u0026lt;prefix\u0026gt; + q to show the pane index. Then we can use the tmux command swap-pane to swap the two panes (tmux command mode are activated by pressing \u0026lt;prefix\u0026gt;, followed by :). For example, if we want to swap pane 0 with pane 2, use the following command:\nswap-pane -s 0 -t 2 Ref:\nHow does one swap two panes in Tmux? equalize two panes # To make two panes have the same width in side by side position, press \u0026lt;prefix\u0026gt; Alt-1 or run command select-layout even-horizontal. To make two panes have the same height and in top-down position, press \u0026lt;prefix\u0026gt; Alt-2 or run command: select-layout even-vertical.\nRef:\nHow do I equally balance tmux(1) split panes? ","date":"25 January 2021","externalUrl":null,"permalink":"/2021/01/25/tmux_cheatsheet/","section":"Posts","summary":"\u003cp\u003eIn this post, I collect some useful tips for using Tmux.\u003c/p\u003e","title":"Tmux Cheatsheet","type":"posts"},{"content":" Some of the settings to make git log better.\nDecorate commit # The --decorate option will show references to your commit. For example, where your HEAD is, where your master points to etc. To use --decorate by default:\ngit config --global log.decorate true Show short commit hash # By default, git shows long commit hash for each commit. To show a short commit hash, we can use the --abbrev-commit option. To use --abbrev-commit by default:\ngit config --global log.abbrevCommit true Show commit graph # To show a graphical representation of commit, which is handy when we have merged commit or multiple branches, we can use --graph option:\ngit log --graph Use color and format string for log output # We can also combine color and % escaped format string to format the log output. Check here for a list of format strings that you can use for log format. Some of most used format string:\n%h: the abbreviated commit hash %s: the commit message subject %b: the commit message body %d: ref names, like origin/master, origin/HEAD, tag: v0.8 %ci: commit date Use color to differentiate different part of log message. We can specify a color like this %C(red), %Creset will reset the color. For more details on the color format and which colors to use, check color for git pretty format.\nCombining the log format string and color, we can create beautiful log message.\ngit config format.pretty \u0026#34;%C(magenta)%h%Creset -%C(red)%d%Creset %s %C(green)(%cr) %C(cyan)\u0026lt;%an\u0026gt;%Creset\u0026#34; After this setup, git-log output will be like what is shown in the title image.\nReferences # make \u0026ndash;abbrev-commit default for git log make \u0026ndash;decorate default for git log A better git log ","date":"25 January 2021","externalUrl":null,"permalink":"/2021/01/25/better_git_log/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20210125233412.png\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eSome of the settings to make \u003ccode\u003egit log\u003c/code\u003e better.\u003c/p\u003e","title":"Better Git log","type":"posts"},{"content":"ä½¿ç”¨å›½å¤–çš„æºä¸‹è½½ Python å‘è¡Œç‰ˆå’Œå„ç§ Python åº“ï¼Œé€Ÿåº¦å®åœ¨æ˜¯å¤ªæ…¢äº†ğŸ˜­ğŸ˜ ï¼Œå›½å†…çš„æºé€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼Œæƒå®œä¹‹è®¡ã€‚\nAnaconda å›½å†…æº # åœ¨å›½å†…ï¼Œä» Anaconda æˆ–è€… Miniconda å®˜æ–¹åœ°å€ä¸‹è½½ Anaconda æˆ– miniconda å‘è¡Œç‰ˆéƒ½éå¸¸æ…¢ï¼Œè¿˜å¯èƒ½ä¼šæ–­æ‰ã€‚\nAnaconda å®‰è£…åŒ…æ¸…åæºåœ°å€ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/ Miniconda æ¸…åæºåœ°å€ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/ ä½¿ç”¨ conda å®‰è£… Python åº“çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¸…åæºï¼Œæ‰“å¼€ $HOME/.condarcï¼Œæ·»åŠ ä¸‹é¢çš„é…ç½®\nchannels: - defaults show_channel_urls: true default_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2 custom_channels: conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pip ä½¿ç”¨å›½å†…æº # pip ä¸‹è½½åº“çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨ pypi çš„å®˜æ–¹æºï¼Œé€Ÿåº¦ä¸ç†æƒ³ã€‚æŠŠ pip çš„æºä¹Ÿæ”¹ä¸ºæ¸…åæºï¼Œé€Ÿåº¦é£å¿«ã€‚\næ°¸ä¹…æ–¹æ¡ˆï¼š\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple ä¸´æ—¶æ–¹æ¡ˆï¼ˆä½¿ç”¨æ¸…åæºå®‰è£…æŸäº›åº“ï¼‰\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package å‚è€ƒ # https://docs.conda.io/projects/conda/en/latest/user-guide/configuration/use-condarc.html https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/ https://mirrors.tuna.tsinghua.edu.cn/help/pypi/ ","date":"17 January 2021","externalUrl":null,"permalink":"/2021/01/17/china_source_for_python/","section":"Posts","summary":"\u003cp\u003eä½¿ç”¨å›½å¤–çš„æºä¸‹è½½ Python å‘è¡Œç‰ˆå’Œå„ç§ Python åº“ï¼Œé€Ÿåº¦å®åœ¨æ˜¯å¤ªæ…¢äº†ğŸ˜­ğŸ˜ ï¼Œå›½å†…çš„æºé€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼Œæƒå®œä¹‹è®¡ã€‚\u003c/p\u003e","title":"Anaconda Python å’Œ pip å›½å†…æº/é•œåƒ","type":"posts"},{"content":"","date":"17 January 2021","externalUrl":null,"permalink":"/tags/pip/","section":"Tags","summary":"","title":"Pip","type":"tags"},{"content":"Build a Ubuntu docker with Python3 and pip support.\nI am using the official Ubuntu docker. The following is a minimum Dockerfile:\nFROM ubuntu:18.04 RUN apt-get update \u0026amp;\u0026amp; apt-get install -y software-properties-common gcc \u0026amp;\u0026amp; \\ add-apt-repository -y ppa:deadsnakes/ppa RUN apt-get update \u0026amp;\u0026amp; apt-get install -y python3.6 python3-distutils python3-pip python3-apt In order to install the more recent version of Python3, we use ppa from deadnakes. It has various Python versions from 3.1 to 3.10 for your need.\nThe command add-apt-repository is provided by package software-properties-common. It can be used to add a custom package repository. The -y option for add-apt-repository will say yes to all the prompts, like what -y for apt-getdoes.\nWe need to install gcc because some python packages requires building when installing via pip.\nAfter adding the ppa:deadsnakes/ppa repo, pip3 is not included by default. Initially, I tried to install pip via get-pip.py manually, and I get the error that No module named \u0026lsquo;distutils.util\u0026rsquo;. We need to install python3-pip, python3-distutils and python3-apt to install pip3. This is the easiest way I found.\nRef:\nhttps://phoenixnap.com/kb/how-to-install-python-3-ubuntu ","date":"17 January 2021","externalUrl":null,"permalink":"/2021/01/17/install_python3_in_ubuntu_docker/","section":"Posts","summary":"\u003cp\u003eBuild a Ubuntu docker with Python3 and pip support.\u003c/p\u003e","title":"Install Python3 in Ubuntu Docker","type":"posts"},{"content":"To cross the fucking firewall, we need some handy tools.\nTwo good clients for Mac:\nClashX Qv2ray ClashX # Add new subscription # ClashX is easy to set up. It supports subscription URL. To add a new subscription, click Config --\u0026gt; Remote Config --\u0026gt; Manage, click Add. In the popped up window, fill in the remote subscription URL, and give the config a name in the field Config Name. Click OK.\nCheck the proxy ports it provides # Click Help --\u0026gt; Ports, ClashX will show the HTTP and socks5 ports it provides.\nQv2ray # It requires more setup than ClashX since it is more configurable. First, we need to install Qv2ray.\nSet up v2ray core # To make it work for v2ray. We need also to install v2ray core ourselves since v2ray core is not packaged. We can download the binary release from its release page.\nExtract the compressed file. Then click Preferences and go to Kernel Settings page, set the V2ray Core Executable Path and V2ray Assets Directory (it contains the file geoip.dat and geosite.dat) to the file we just extracted.\nOn macOS, we can also use brew to install v2ray (brew install v2ray). The v2ray executable is /usr/local/bin/v2ray, and its resource is in /usr/local/share/v2ray.\nClick the button Check V2ray Core Settings. If everything is fine, a popup window occurs, and tells you that:\nV2Ray path configuration check passed.\nAdd a subscription URL # Click the Show menu, click Groups at the bottom. In the new Windows, click the icon Add new subscription on the bottom left. In the Subscription Settings page on the right, check the button This group is a subscription. Fill in the subscription URL in the field Subscription Address, and click the button Update Subscription to update the subscription.\nGo back to the previous Window where all groups are listed. Double click the group we have added, it will show all the connections for this group. Click a connection, and right click to bring up the context menu. Then click Connect to this.\nCheck the proxy ports # Click the Preferences menu, then click Inbound Settings in the Preferences window. In the SOCKS Settings and HTTP Settings part, we can set up the port to be used for SOCKS and HTTP.\nRef # https://tlanyan.me/v2ray-clients-download/ https://qv2ray.net/getting-started/ ","date":"10 January 2021","externalUrl":null,"permalink":"/2021/01/10/fuck_gfw_forever/","section":"Posts","summary":"\u003cp\u003eTo cross the fucking firewall, we need some handy tools.\u003c/p\u003e","title":"Cross the Wall","type":"posts"},{"content":" æ›´æ–°è®°å½• 2022-02-08ï¼š fasgit hub è¢« GFW å°äº†ï¼Œæ¢ä¸€ä¸ªåœ°å€ã€‚ GitHub è™½ç„¶æ²¡è¢«å°ï¼Œä½†æ˜¯é˜»æ–­ä¸¥é‡ï¼Œä¸‹è½½ GitHub èµ„æºé€Ÿåº¦å¥‡æ…¢æ— æ¯”ï¼Œæ€»ç»“ä¸€äº›éªŒè¯å¯è¡Œçš„æ–¹æ³•ã€‚\nåŠ é€Ÿä¸‹è½½ github.com èµ„æº # å¯ä»¥åˆ©ç”¨ fastgit åŠ é€Ÿ github.com çš„ä¸‹è½½ã€‚åŸæœ‰ä¸‹è½½å‘½ä»¤ï¼š\nwget https://github.com/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz æ–°å‘½ä»¤ï¼š\nwget \u0026#34;https://hub.fastgit.xyz/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz\u0026#34; æŠŠ github.com æ›¿æ¢ä¸º hub.fastgit.xyz å³å¯ï¼Œä¹Ÿæ”¯æŒ git clone åŠ é€Ÿã€‚\nä¸‹è½½ githubusercontent.com çš„å†…å®¹ # ä½¿ç”¨ fastgit # ä½¿ç”¨ä¸Šé¢æåˆ°çš„ fastgit ä¹Ÿå¯ä»¥åŠ é€Ÿä¸‹è½½ githubusercontent.com çš„å†…å®¹ã€‚åŸå§‹å‘½ä»¤ï¼š\nwget https://raw.githubusercontent.com/jdhao/nvim-config/master/docs/Nvim_setup.sh æ–°å‘½ä»¤ï¼š\nwget https://raw.fastgit.org/jdhao/nvim-config/master/docs/Nvim_setup.sh éœ€è¦æŠŠé“¾æ¥ä¸­ githubusercontent.com æ›¿æ¢ä¸º fastgit.orgã€‚\nä½¿ç”¨ jsdelivr # å¯ä»¥ä½¿ç”¨ jsdelivr çš„ cdn è®¿é—®å¯¹åº”çš„èµ„æºï¼Œäº²æµ‹å¯è¡Œã€‚éœ€è¦å¯¹æºåœ°å€è¿›è¡Œä¸€äº›æ”¹é€ ï¼Œæ¢æˆ jsdelivr ä¸Šå¯¹åº”çš„ URL å³å¯ã€‚ä¾‹å¦‚ï¼Œæºåœ°å€ï¼šhttps://raw.githubusercontent.com/jdhao/nvim-config/master/docs/Nvim_setup.sh å¯¹åº” jsdelivr åœ°å€ï¼šhttps://cdn.jsdelivr.net/gh/jdhao/nvim-config@master/docs/Nvim_setup.shã€‚@master åé¢è·Ÿçš„æ˜¯è¯¥æ–‡ä»¶å¯¹åº”çš„ master branchï¼Œå¦‚æœæ˜¯é»˜è®¤çš„ masterï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä¸ç”¨åŠ  @masterï¼Œå¦åˆ™éœ€è¦åŠ ä¸Šåˆ†æ”¯åç§°ã€‚\næ›´æ”¹ç³»ç»Ÿ hosts æ–‡ä»¶ # æ›´æ”¹ç³»ç»Ÿ hosts æ–‡ä»¶ (åœ¨ Linux ä¸Šéœ€è¦æœ‰ root æƒé™)ï¼Œç¼–è¾‘ /etc/hostsï¼Œ åŠ å…¥ä¸€æ¡ host è®°å½•ï¼š\n199.232.96.133 raw.githubusercontent.com ä¸Šé¢çš„ IP åœ°å€æ˜¯ githubusercontent.com å¯¹åº”çš„ ip åœ°å€ä¹‹ä¸€ï¼Œå¯ä»¥åœ¨ è¿™é‡Œ æŸ¥çœ‹ã€‚\nä½¿ç”¨ç¬¬ä¸‰æ–¹è¾…åŠ©å·¥å…· # dev-sidecar # dev-sidecarï¼Œç”¨ Electron å†™çš„ä¸€ä¸ªå·¥å…·ï¼Œ å¯ä»¥å¸®åŠ©ç”¨æˆ·åŠ é€Ÿ githubï¼Œstackoverflow ç­‰ç½‘ç«™çš„è®¿é—®ï¼Œå¯ä»¥ä¸€è¯•ã€‚\nå‚è€ƒ # https://www.wolfdan.cn/jsdelivr%E5%8A%A0%E9%80%9F%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD-raw-github%E8%A2%ABban%E4%B9%8B%E5%90%8E%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AEgithub%E8%B5%84%E6%BA%90/ ","date":"8 January 2021","externalUrl":null,"permalink":"/2021/01/08/github_access_issue_in_china/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eæ›´æ–°è®°å½•\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e2022-02-08ï¼š \u003ca href=\"https://t.me/fastgitchannel/81\" target=\"_blank\"\u003efasgit hub è¢« GFW å°äº†\u003c/a\u003eï¼Œæ¢ä¸€ä¸ªåœ°å€ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eGitHub è™½ç„¶æ²¡è¢«å°ï¼Œä½†æ˜¯é˜»æ–­ä¸¥é‡ï¼Œä¸‹è½½ GitHub èµ„æºé€Ÿåº¦å¥‡æ…¢æ— æ¯”ï¼Œæ€»ç»“ä¸€äº›éªŒè¯å¯è¡Œçš„æ–¹æ³•ã€‚\u003c/p\u003e","title":"è§£å†³ GitHub èµ„æºæ— æ³•ä¸‹è½½çš„é—®é¢˜","type":"posts"},{"content":"This is the 9th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ How do I return a key press from a function and use it in a mapping # I want to write a function to return \u0026lt;Tab\u0026gt; key or \u0026lt;Ctrl-N\u0026gt; based on whether completion menu is available, and use the return value in an insert mode mapping. The initial code is:\ninoremap \u0026lt;expr\u0026gt; \u0026lt;Tab\u0026gt; MyTabFun() function! MyTabFun() if pumvisible() return \u0026#34;\u0026lt;C-N\u0026gt;\u0026#34; else return \u0026#34;\u0026lt;Tab\u0026gt;\u0026#34; endif endfunction However, the function returns those characters literally instead of as key press. This is because Vim thinks that you want to insert those keys literally. To signal a key press, we need to escaped it. Like the following:\nreturn \u0026#34;\\\u0026lt;C-N\u0026gt;\u0026#34; \u0026#34; or \u0026#34; return \u0026#34;\\\u0026lt;Tab\u0026gt;\u0026#34; The relevant vim doc on this topic is :h expr-quote.\nRef:\nUsing a special key in function How to invoke the increment and decrement Normal-mode commands in Vimscript? Why do I need to use unicode for a control character in a mapping using and a function? Get character at a specific index in a multi-byte aware fashion # Unlike Python, in Vim script, string indexing uses byte index by default, not character indexing. Byte indexing works well for ASCII characters. Once your string contains multi-byte characters, things no long works as expected. For example, if we run the following code\nlet a = \u0026#39;ä½ å¥½å—\u0026#39; echo a[0] Vim prints \u0026lt;e4\u0026gt;, the first byte of ä½  in UTF-8 encoding (the binary representation for ä½  using UTF-8 encoding is \\xe4\\xbd\\xa0).\nHow to we get the character at a specific index? Using strcharpart() instead. For example,\nlet my_str = \u0026#39;ä½ å¥½å—\u0026#39; \u0026#34;result will be \u0026#39;ä½ \u0026#39;, the first char in my_str echo strcharpart(my_str, 0, 1) \u0026#34; result will be \u0026#39;å¥½\u0026#39;, the second char in my_str echo strcharpart(my_str, 1, 1) We can also use the following convenience function:\nfunction! CharAtIdx(str, idx) abort \u0026#34; Get char at idx from str. Note that this is based on character indexing \u0026#34; instead of the byte index. return strcharpart(a:str, a:idx, 1) endfunction Then, to get first char of a string, use CharAtIdx(my_str, 0).\nGet string length regardless of ASCII or not # This is related to the previous tip. There is function strlen() or len() in Vim, but they only calculates byte length of a string, instead of character length, like what len() in Python does. We can instead use the strchars() to get string length. I consider this one of the many hidden quirks of Vim. We just need to get used to it.\nUse neovim as git diff and merge tool # Here is how to set up neovim as a git diff and git merge tool. Add the following config to the file $HOME/.gitconfig:\n[diff] tool = nvimdiff [difftool] prompt = false [difftool \u0026#34;nvimdiff\u0026#34;] cmd = \u0026#34;nvim -d \\\u0026#34;$LOCAL\\\u0026#34; \\\u0026#34;$REMOTE\\\u0026#34;\u0026#34; [merge] tool = nvimdiff [mergetool] prompt = true [mergetool \u0026#34;nvimdiff\u0026#34;] cmd = \u0026#34;nvim -d \\\u0026#34;$LOCAL\\\u0026#34; \\\u0026#34;$REMOTE\\\u0026#34; \\\u0026#34;$MERGED\\\u0026#34; -c \u0026#39;wincmd w\u0026#39; -c \u0026#39;wincmd J\u0026#39;\u0026#34; Ref:\nhttps://gist.github.com/huytd/78c676a797f81eb08cdedf5400e1b6a3 https://oozou.com/til/use-neovim-as-a-git-difftool-57 https://github.com/neovim/neovim/issues/2377#issuecomment-126092442 Move the view horizontally # If we do not wrap the text and the line text length exceed the window size, some text will be hidden beyond the current view port. To move the view port horizontally, Vim has the following normal mode command:\n{count}zl: move the current view port {count} characters to the right, default is 1 if no {count} provided. {count}zh: move the current view port {count} characters to the left, default is 1 if no {count} provided. zL: move the current view port half screen width to the right. zH: move the current view port half screen width to the left. The default behavior for zL and zH is to move the view port half screen width, which may be too much. We can map these shortcuts to use smaller steps:\nnnoremap zL 10zl nnoremap zH 10zh Ref:\nHorizontal navigation in long lines ","date":"7 January 2021","externalUrl":null,"permalink":"/2021/01/07/nifty_nvim_techniques_s9/","section":"Posts","summary":"\u003cp\u003eThis is the 9th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 9","type":"posts"},{"content":"In my daily work, I usually log into a remote server via a terminal emulator and do my development work there. Sometimes, I need to copy text from remote server to my local machine\u0026rsquo;s clipboard. Previously, I use mouse to select and copy the text, which I find to be quite cumbersome.\nWhat is OSC 52 # Recently, I have found out the OSC 52 terminal sequence1, which is really useful when we want to copy text from remote to local clipboard.\nWe can use OSC 52 sequence to tell terminal emulator that we want to put some text into the clipboard of local machine. The actual text is base64 encoded. If the terminal emulator supports it, then it can decode the text and put it into the system clipboard.\nSet up OSC 52 support in Mintty terminal # On Windows, mintty terminal as old as version 2.6.1 supports this feature. Mintty config is in directory C: \\Users\\Administrator\\AppData\\Roaming\\mintty, and the name is config. Open the file and add the following option:\nAllowSetSelection=yes Restart mintty and this feature will take effect. To verify, log into the remote server using mintty terminal, and run the following command:\nprintf \u0026#34;\\033]52;c;$(printf \u0026#34;%s\u0026#34; \u0026#34;hello\u0026#34; | base64)\\a\u0026#34; Now your local clipboard content should become \u0026ldquo;hello\u0026rdquo;.\nEnable OSC 52 support in ZOC terminal # ZOC terminal has added support for OSC-52 terminal sequence in version 8.01.0, as indicated by its change log.\nTo enable this feature, go to Options --\u0026gt; Edit Session Profile, in the Advanced section, we need to activate the following option:\nActivate control sequences that enable remote hosts to execute commands locally.\nCurrently, osc-52 in ZOC only works for pure ASCII characters and does not work for non-ASCII characters. The dev said that it will be fixed in the next release.\nEnable OSC 52 in iterm2 # Open preferences, and go to General settings. Turn on the option Applications in terminal may access clipboard. It\u0026rsquo;s off by default for security reasons.\nCopy text inside Neovim to local clipboard # With terminal\u0026rsquo;s support for OSC 52, we can copy text from Neovim to our local clipboard directly.\nInstall vim-oscyank:\nPlug \u0026#39;ojroques/vim-oscyank\u0026#39; Select a text region and use command OSCYank to copy the text to your local clipboard.\nReferences # https://medium.com/free-code-camp/tmux-in-practice-integration-with-system-clipboard-bcd72c62ff7b https://mintty.github.io/mintty.1.html#CONFIGURATION https://github.com/mintty/mintty/issues/258#issuecomment-246123745 OSC 52 support in iterm2: https://gitlab.com/gnachman/iterm2/-/issues/6842 https://chromium.googlesource.com/apps/libapps/+/master/hterm/etc/osc52.vim OSC stands for Operating System Commands, see https://en.wikipedia.org/wiki/ANSI_escape_code#OSC\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"5 January 2021","externalUrl":null,"permalink":"/2021/01/05/nvim_copy_from_remote_via_osc52/","section":"Posts","summary":"\u003cp\u003eIn my daily work, I usually log into a remote server via a terminal emulator\nand do my development work there. Sometimes, I need to copy text from remote\nserver to my local machine\u0026rsquo;s clipboard. Previously, I use mouse to select and\ncopy the text, which I find to be quite cumbersome.\u003c/p\u003e","title":"Copy from Remote Server to Local Clipboard via OSC 52 in Neovim","type":"posts"},{"content":"","date":"5 January 2021","externalUrl":null,"permalink":"/tags/mintty/","section":"Tags","summary":"","title":"Mintty","type":"tags"},{"content":"My notes on using concurrent.futures in Python.\nThreadPoolExecutor or ProcessPoolExecutor? # concurrent.futures provides two convenient and high-level class ThreadPoolExecutor and ProcessPoolExecutor. You would want to use ThreadPoolExecutor when dealing with IO-bound tasks, for example, when you are making a lot of requests to a web service. You would want to use ProcessPoolExecutor if you are dealing with CPU intensive operations. The ProcessPoolExecutor allows users to utilize the multi-core power of the system and achieve significant speedup of the programs.\nThese two classes have almost the same interface, so it is easy to learn and use.\nexecutor.map() VS executor.submit() # There are mainly two different ways to use executor for parallel processing, the first is via executor.map(), and the second way is via executor.submit() combined with concurrent.futures.as_completed().\nHere is a simple example to demonstrate this:\nimport time from contextlib import contextmanager from concurrent.futures import ThreadPoolExecutor import concurrent.futures @contextmanager def report_time(des): start = time.time() yield end = time.time() print(f\u0026#34;Time for {des}: {end-start}\u0026#34;) def square(x): time.sleep(0.5) return x*x def main(): num = 10 with report_time(\u0026#34;using executor.map\u0026#34;): # with ThreadPoolExecutor(max_workers=10) as executor: with ThreadPoolExecutor() as executor: res = executor.map(square, range(num)) res = list(res) with report_time(\u0026#39;using executor.submit\u0026#39;): with ThreadPoolExecutor() as executor: my_futures = [executor.submit(square, x) for x in range(num)] res = [] for future in concurrent.futures.as_completed(my_futures): res.append(future.result()) print(res) if __name__ == \u0026#34;__main__\u0026#34;: main() Note that executor.map() will return an iterator instead of plain list, and the order of results corresponds to the order that arguments are provided for the function we want to run in parallel.\nIf we use executor.submit(), it will return a future object. We can later access the function return value via the future object. Unlike map(), we then use concurrent.futures.as_completed(my_futures) to make sure that the functions are actually executed and return the results. Any future that gets finished first will be returned first. So there is no guarantee of the result order anymore! For example, we may get the following result for res:\n[4, 9, 1, 16, 25, 49, 36, 0, 64, 81] max_worker # For ThreadPoolExecutor(), there is parameter max_worker to specify the max number of threads to use. According to the official doc, it is set to min(32, os.cpu_count() + 4) for Python 3.8 and os.cpu_count() * 5 for Python version below 3.8 and above 3.5.\nIn some cases, the default max_worker may be too large to cause serious issues. For example, when I use ThreadPoolExecutor() to request a web service with default parameters, my code runs for a few requests, then it hangs indefinitely without any progress. I have to reduce max_worker to about 50 to run the code smoothly. So in our real projects, we should tweak the value of max_workers to fit our needs.\nReferences # How does ThreadPoolExecutor().map differ from ThreadPoolExecutor().submit? Number of max_workers when using ThreadPoolExecutor from concurrent.futures? How does concurrent.futures.as_completed work? https://alexwlchan.net/2019/10/adventures-with-concurrent-futures/ ","date":"29 December 2020","externalUrl":null,"permalink":"/2020/12/29/python_concurrent_futures/","section":"Posts","summary":"\u003cp\u003eMy notes on using \u003ca href=\"https://docs.python.org/3/library/concurrent.futures.html\" target=\"_blank\"\u003e\u003ccode\u003econcurrent.futures\u003c/code\u003e\u003c/a\u003e in Python.\u003c/p\u003e","title":"Using Concurrent.futures in Python","type":"posts"},{"content":"Git has two option --git-dir and --work-tree. What is the use for them?\nUsually, when we create a project repository in dir ~/projects/foo via git init command. The git directory is ~/projects/foo/.git, where all the repository info is stored like the following:\n.git â”œâ”€â”€ branches â”œâ”€â”€ COMMIT_EDITMSG â”œâ”€â”€ config â”œâ”€â”€ description â”œâ”€â”€ HEAD â”œâ”€â”€ hooks â”‚ â”œâ”€â”€ applypatch-msg.sample â”‚ â”œâ”€â”€ commit-msg.sample â”‚ â”œâ”€â”€ post-update.sample â”‚ â”œâ”€â”€ pre-applypatch.sample â”‚ â”œâ”€â”€ pre-commit.sample â”‚ â”œâ”€â”€ prepare-commit-msg.sample â”‚ â”œâ”€â”€ pre-push.sample â”‚ â”œâ”€â”€ pre-rebase.sample â”‚ â””â”€â”€ update.sample â”œâ”€â”€ index â”œâ”€â”€ info â”‚ â””â”€â”€ exclude â”œâ”€â”€ logs â”‚ â”œâ”€â”€ HEAD â”‚ â””â”€â”€ refs â”‚ â””â”€â”€ heads â”‚ â””â”€â”€ master â”œâ”€â”€ objects â”‚ â”œâ”€â”€ 0c â”‚ â”‚ â””â”€â”€ fa957df522a120551c8d6147cacbeffd97d4e1 â”‚ â”œâ”€â”€ 5e â”‚ â”‚ â””â”€â”€ fb9bc29c482e023e40e0a2b3b7e49cec842034 â”‚ â”œâ”€â”€ e6 â”‚ â”‚ â””â”€â”€ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 â”‚ â”œâ”€â”€ info â”‚ â””â”€â”€ pack â””â”€â”€ refs â”œâ”€â”€ heads â”‚ â””â”€â”€ master â””â”€â”€ tags The repository\u0026rsquo;s work tree is the root directory of this project, i.e., ~/projects/foo. When we use git command such as git status inside in git repository, git will find .git directory in the directory or upward until it finds the .git directory. So we do not need to specify where the .git dir is.\nWhen we want to get the info a repository outside it, we now need to specify the --git-dir and --work-tree to tell git which repository we refer to:\n# outside ~/projects/foo git --git-dir=$HOME/projects/foo/.git --work-tree=$HOME/projects/foo status Note that the path to --git-dir and --work-tree can be an absolute or relative path (relative to current working directory). If it is an absolute path, tilde ~ won\u0026rsquo;t be expanded . You need to use $HOME or absolute path.\nAs a matter of fact, the .git and work-tree for a repository does not need to be in the same location. For example, run the following command:\nmkdir a b git init --separate-git-dir a/ b/ Directory a/ will act as .git directory storing all the info for work-tree root at b/. If you look at the b/.git, it will a plain file pointing to the absolute path of a/ directory:\ngitdir: /path/to/a/dir To get info about this repository, we can run git like this:\ngit --git-dir=a/ --work-tree=b/ status Refs:\nWhat is the difference in Git between being in a directory (cd) and using the work-tree parameter? Can I store the .git folder outside the files I want tracked? https://git-scm.com/docs/git#Documentation/git.txt---git-dirltpathgt https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables What is GIT_WORK_TREE, why have I never needed to set this ENV var, why now? ","date":"25 December 2020","externalUrl":null,"permalink":"/2020/12/25/git_directory_work-tree_explained/","section":"Posts","summary":"\u003cp\u003eGit has two option \u003ccode\u003e--git-dir\u003c/code\u003e and \u003ccode\u003e--work-tree\u003c/code\u003e. What is the use for them?\u003c/p\u003e","title":"Git Directory and Work-Tree Explained","type":"posts"},{"content":" Calculate the stat of a column of numbers # Suppose we have a file where each line a number, and we want to the get stat of these numbers on the command line.\nUse python # If Python is installed in the system, we can use the following command:\ncat data.log | python3 -c \u0026#34;import fileinput as FI,statistics as STAT; i = [float(l.strip()) for l in FI.input()]; print(\u0026#39;min:\u0026#39;, min(i), \u0026#39; max: \u0026#39;, max(i), \u0026#39; avg: \u0026#39;, STAT.mean(i), \u0026#39; median: \u0026#39;, STAT.median(i))\u0026#34; Use jq # We can also use jq to calculate the stat:\nmin: jq -s min data.txt max: jq -s max data.txt average: jq -s add/length data.txt Ref:\nIs there a way to get the min, max, median, and average of a list of numbers in a single command? What if I screw up the PATH variable? # I edit the .bash_profileand update the PATH variable wrongly, something like this:\nexport PATH=\u0026#34;/some/path\u0026#34; After sourcing this file, all my commands fails. This is because the system relies on PATH variable to find the suitable executable to run.\nHowever, we can always run an executable with its absolute path, so the remedy is to use vim to edit .bash_profile:\n/usr/bin/vim ~/.bash_profile Ref:\nhttps://apple.stackexchange.com/q/192657/285595 Search pattern only in package names # apt search --names-only pattern pattern supports regular expressions. For example, to search package starting with a man:\napt search --name ^man Ref:\napt search: limit to exact match I was forced log out after a short time of inactivity? # I connect to a remote server via my ssh client. I noticed that after even a few minutes of inactivity, I was forced log out, and saw the following message:\ntimed out waiting for input: auto-logout\nIt turns out bash a feature to log out the user using the TMOUT env variable. For example, TMOUT=3600 will force user to log out after waiting 3600 seconds for user input (but no input is coming). Set TMOUT to 0 will disable this feature.\nRef:\nhttps://www.linvirtshell.com/2017/11/changing-auto-logout-timeout-in-ssh.html How to keep idle session from exiting Find which package provides a file or what file a package contains on Ubuntu # To find which package provides a certain file, we can use dpkg command:\ndpkg -S /path/to/file For example dpkg -S /usr/lib/python3/dist-packages/uno.py shows the following message:\npython3-uno: /usr/lib/python3/dist-packages/uno.py\nWe can also use apt-file to find which package a file belongs to:\napt update \u0026amp;\u0026amp; apt instal apt-file apt-file update apt-file search /path/to/file To find what file a package contains, we can to this Ubuntu packages site and search a package. In the package detail info page, we can click the [list of files] to get the files contained in a certain release for an architecture (see here for an example).\nRef:\nHow do I find the package that provides a file? Find what package a file belongs to in Ubuntu/Debian? ","date":"22 December 2020","externalUrl":null,"permalink":"/2020/12/22/linux_command_cheat_sheet_s3/","section":"Posts","summary":"Calculate the stat of a column of numbers # Suppose we have a file where each line a number, and we want to the get stat of these numbers on the command line.\nUse python # If Python is installed in the system, we can use the following command:\ncat data.log | python3 -c \u0026#34;import fileinput as FI,statistics as STAT; i = [float(l.strip()) for l in FI.input()]; print(\u0026#39;min:\u0026#39;, min(i), \u0026#39; max: \u0026#39;, max(i), \u0026#39; avg: \u0026#39;, STAT.","title":"Linux Tips and Tricks -- s3","type":"posts"},{"content":"After using and learning Neovim for over 2 years, I have finally published my first plugin \u0026ndash; better-escape.vim.\nBetter-escape.vim is a plugin to help users escape from insert mode quickly without experiencing the lagging that comes with Vim mappings.\nAs a Vim user, a very popular mapping to escape insert mode is to map jj or jk or kj etc. to Esc, since the Esc key is hard to reach without moving your hand from the home row.\ninoremap jk \u0026lt;ESC\u0026gt; inoremap jj \u0026lt;ESC\u0026gt; inoremap kj \u0026lt;ESC\u0026gt; However, this comes with an annoyance. If you use jk to escape insert mode, whenever you press j in insert mode, Vim will not write it to the buffer, it will wait for timeoutlen milliseconds to see whether you want to use the jk mapping or you want to input j literally. This issue is easily noticeable when we have a relatively large timeoutlen value.\nIn my previous post, I have already talked about this topic and provided a solution. The solution is to use an insert mode mapping for k only. When we press k, we check if the previous character is j. If that is true, we will erase previous j and go to normal mode. Otherwise, k is inserted as is. There is no lagging any more. The problem is that now we can not input jk directly in insert mode. To insert k when the previous character is j, we need to press Ctrl-V, then press j.\nIn better-escape.vim, I have a smarter solution. We will check the time spent between pressing j and k in insert mode. If the time is above a predefined threshold, jk will be inserted literally. Otherwise, we will escape from insert mode. With this plugin, you can easily customize the shortcut for escaping insert mode, as well as the time threshold used.\n","date":"18 December 2020","externalUrl":null,"permalink":"/2020/12/18/my_first_vim_plugin/","section":"Posts","summary":"\u003cp\u003eAfter using and learning Neovim for over 2 years, I have finally published my\nfirst plugin \u0026ndash; better-escape.vim.\u003c/p\u003e","title":"Introducing better-esacape.vim: My First Vim/Neovim Plugin","type":"posts"},{"content":"For small projects, people tend to directly invoke the compiler with the suitable options to build the program. While it is feasible, it is tedious to type those compilation options and flags. For projects with multiple source files and header files, it becomes inefficient to build by hand. On Linux, people may write Makefile and build with make. On Windows, people may use Visual Studio for writing and build their project.\nCMake is a meta build tool. It can generate build files for various build tools such as make, Ninja, Visual Studio. So using CMake is way to make sure that our programs can build across platforms and build tools. Some famous open source projects choose CMake as their build tools. These projects include Neovim, OpenCV, MySQL.\nIn post, I will share how to build a simple C++ program using CMake.\nThe source file # First, create a project directory, add the following source file write_text.cc. It uses the OpenCV library to read an image, write some text to image and save it on the disk.\n#include \u0026#34;opencv2/opencv.hpp\u0026#34; int main() { cv::Mat img = cv::imread(\u0026#34;wind-turbine.jpg\u0026#34;, cv::IMREAD_COLOR); cv::putText(img, \u0026#34;Test text\u0026#34;, cv::Point(100, 100), cv::FONT_ITALIC, 2.0, cv::Scalar(0, 0, 255), 2); cv::imwrite(\u0026#34;text_img.jpg\u0026#34;, img); return 0; } Create Cmake file CMakeLists.txt # Under project root, create a file named CMakeLists.txt. This file describes how we want to build our project in the language of CMake. The content of is:\ncmake_minimum_required(VERSION 3.10) project(opencv_demo) add_executable(write_text write_text.cc) set(OPENCV_INCLUDE_DIR /home/jdhao/local/include/opencv4/) set(OPENCV_LIB_DIR /home/jdhao/local/lib/) message(STATUS \u0026#34;OpenCV library path: ${OPENCV_LIB_DIR}\u0026#34;) # set include directory target_include_directories(write_text PUBLIC \u0026#34;${OPENCV_INCLUDE_DIR}\u0026#34;) # set library directory target_link_directories(write_text PUBLIC \u0026#34;${OPENCV_LIB_DIR}\u0026#34;) # link specific object files we need target_link_libraries(write_text opencv_imgcodecs opencv_core opencv_imgproc) Build the Project # It is best to create a build directory for building the project so that we do not pollute the source directory.\nmkdir build # use the following command to build if you are in project root cmake -Bbuild -DCMAKE_BUILD_TYPE=Release # or use the following command if you are in build directory # cmake ../ -DCMAKE_BUILD_TYPE=Release By default, cmake will generate a build file for make on Linux systems. If you want to generate build file for other tools such as ninja, you can use -G. For example, to generate build file for ninja, use the following command:\nmkdir build_ninja cmake -Bbuild_ninja -G \u0026#34;Ninja\u0026#34; The option -DCMAKE_BUILD_TYPE=Release specify the build type. We can also use Debug or RelWithDebInfo etc.\nTo build the project, we can use cmake --build build if we are in project root or cmake --build . if we are in directory build. If you generate Makefile for make, you can also use make -C build to build the project directly, or use ninja -C build_ninja if you generate the build file for ninja. The advantage of using command cmake --build is consistency. You do not need to worry which specific build tool to invoke. CMake will figure it out for you.\nGenerate complilation databases # If you happen to use ccls for code completion, you can also generate a compilation databases file named compile_commands.json for ccls to use, with the help of cmake. With the help of this file, ccls can provide code completion and code analysis for your project.\nTo produce this file, use the following comamnd:\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=YES ln -s build/compile_commands . Ref # Doc on CMAKE_EXPORT_COMPILE_COMMANDS https://github.com/MaskRay/ccls/wiki/Project-Setup#compile_commandsjson ","date":"12 December 2020","externalUrl":null,"permalink":"/2020/12/12/build_opencv_project_with_cmake/","section":"Posts","summary":"\u003cp\u003eFor small projects, people tend to directly invoke the compiler with the\nsuitable options to build the program. While it is feasible, it is tedious to\ntype those compilation options and flags. For projects with multiple source\nfiles and header files, it becomes inefficient to build by hand. On Linux,\npeople may write \u003ca href=\"http://web.mit.edu/gnu/doc/html/make_2.html\" target=\"_blank\"\u003eMakefile\u003c/a\u003e and\nbuild with \u003ca href=\"https://www.gnu.org/software/make/\" target=\"_blank\"\u003emake\u003c/a\u003e. On Windows, people may\nuse Visual Studio for writing and build their project.\u003c/p\u003e","title":"Build C++ Project with CMake -- A Simple Example","type":"posts"},{"content":"","date":"12 December 2020","externalUrl":null,"permalink":"/tags/cmake/","section":"Tags","summary":"","title":"CMake","type":"tags"},{"content":"","date":"12 December 2020","externalUrl":null,"permalink":"/tags/opencv/","section":"Tags","summary":"","title":"OpenCV","type":"tags"},{"content":"","date":"10 December 2020","externalUrl":null,"permalink":"/tags/gcc/","section":"Tags","summary":"","title":"GCC","type":"tags"},{"content":"Different behavior of linkage between Clang and GCC.\nDifferent behavior of linkage for C and C++ # For the following program:\n#include \u0026lt;math.h\u0026gt; #include \u0026lt;stdio.h\u0026gt; int main() { printf(\u0026#34;e^{1} = %f\\n\u0026#34;, exp(1)); return 0; } If we compile the program with clang test.c -o test, compilation failed with the following error:\n/tmp/test-32c2ea.o: In function `main\u0026#39;: test.c:(.text+0x18): undefined reference to `exp\u0026#39; clang-11: error: linker command failed with exit code 1 (use -v to see invocation) This is totally expected since we use exp() function here, which is implemented in the shared object libm.so. For clang, the linker will not link against libm.so by default. In order to compile the program, we need to explicitly link libm.so:\nclang test.c -lm -o test One explanation for the separation of libm.so and libc.so is that in the early days of computing, floating point calculation is expensive. People use various workarounds for floating point calculations. It makes no sense to integrate math functions into libc.so. It makes libc.so larger with little benefit. As computer hardware upgrades with time, the separation of libm and libc does not make much sense any more.\nHowever, if we translate the above program to C++:\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;cmath\u0026gt; int main() { std::cout \u0026lt;\u0026lt; \u0026#34;e^{1} = \u0026#34; \u0026lt;\u0026lt; std:: exp(1) \u0026lt;\u0026lt; std::endl; return 0; } we can actually compile the program without linking against libm:\nclang++ test.cc -o test The output of command ldd test is:\n\u0026gt; ldd test linux-vdso.so.1 =\u0026gt; (0x00007ffd009a4000) libstdc++.so.6 =\u0026gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00002b4d4d13c000) libm.so.6 =\u0026gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00002b4d4d51f000) libgcc_s.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00002b4d4d828000) libc.so.6 =\u0026gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00002b4d4da40000) /lib64/ld-linux-x86-64.so.2 (0x00002b4d4cf14000) libm.so is actually implicitly linked. According to post here, for C++ programs, since libstdc++.so requires libm.so, so libm.so will be implicitly linked even if you haven\u0026rsquo;t instructed its linkage1.\nSome libraries are linked by default. # It is interesting that shared library like libc.so2 is linked even if we haven\u0026rsquo;t specified that. This behaviour can be disabled by providing the -nostdlib option:\nclang -nostdlib test.c -o test You will now see an error message about undefined printf():\ntest.c:(.text+0x29): undefined reference to `printf'\nRef:\nWhy does gcc/clang know to link to libc by default? Libraries that are linked by default Different between GCC and Clang on linkage # You might think that GCC will also fail if we compile the test.c without linking libm, but it is not true. The following command runs without error for gcc 4.8.0 and 7.5.0 on my servers:\ngcc test.c -o test This is because GCC uses its built-in implementation of some standard C library functions to produce faster and smaller executables. According to post here, we can use -fno-builtin to disable this behavior. We can also use -fno-builtin-somefunc to disable a single function named somefunc. Take the above test.c for an example, the following command will result in compilation error:\ngcc -fno-builtin-sqrt test.c -o test # adding -lm will fix the compilation errors. # gcc -fno-builtin-sqrt test.c -lm -o test Ref:\nOther Built-in Functions Provided by GCC https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html#index-fno-builtin The original post is about GCC, I guess the same is true for clang++?\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nlibc provides the implementation for functions like printf() and fopen().\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 December 2020","externalUrl":null,"permalink":"/2020/12/10/gcc_library_link_issue/","section":"Posts","summary":"\u003cp\u003eDifferent behavior of linkage between Clang and GCC.\u003c/p\u003e","title":"Why Are Some Libraries Linked by Default in GCC?","type":"posts"},{"content":"In this post, I will summarize how to build OpenCV from source, and introduce how to use it when writing C++ programs.\nBuild from source # On Ubuntu, run the following command to build OpenCV from source.\nsudo apt update \u0026amp;\u0026amp; sudo apt install -y cmake g++ wget unzip wget -O opencv.zip https://github.com/opencv/opencv/archive/master.zip unzip opencv.zip wget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/master.zip unzip opencv_contrib.zip # Create build directory mkdir -p opencv_build \u0026amp;\u0026amp; cd opencv_build cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo \\ -DOPENCV_EXTRA_MODULES_PATH=../opencv_contrib-master/modules \\ -DCMAKE_INSTALL_PREFIX=$HOME/local/ \\ ../opencv-master/ # using multiprocessing to compile can save a lot of time make -j make install The package will be installed to $HOME/local/, with binary file go to $HOME/local/bin, header file go to $HOME/local/include/opencv4, dynamic shared library file go to $HOME/local/lib.\nA speical note on header files, the structure of OpenCV header files is someting like the following:\n# generated using tree -L 2 -d $HOME/local/include/opencv4 /home/jdhao/local/include/opencv4/ â””â”€â”€ opencv2 â”œâ”€â”€ calib3d â”œâ”€â”€ core â”œâ”€â”€ dnn â”œâ”€â”€ features2d â”œâ”€â”€ flann â”œâ”€â”€ gapi â”œâ”€â”€ highgui â”œâ”€â”€ imgcodecs â”œâ”€â”€ imgproc â”œâ”€â”€ ml â”œâ”€â”€ objdetect â”œâ”€â”€ photo â”œâ”€â”€ stitching â”œâ”€â”€ video â””â”€â”€ videoio The header files are grouped into subdirectories based on their functionality.\nRef:\nhttps://docs.opencv.org/master/d7/d9f/tutorial_linux_install.html https://docs.opencv.org/master/d0/d3d/tutorial_general_install.html https://docs.opencv.org/master/db/d05/tutorial_config_reference.html Run a simple program utilizing OpenCV # The following program reads an image and resize it to size 300x300 using OpenCV:\n#include \u0026#34;opencv2/opencv.hpp\u0026#34; #include \u0026#34;opencv2/core/core.hpp\u0026#34; #include \u0026#34;opencv2/highgui/highgui.hpp\u0026#34; #include \u0026#34;opencv2/imgproc/imgproc.hpp\u0026#34; #include \u0026lt;iostream\u0026gt; int main(){ cv::Mat img, dst; img = cv::imread(\u0026#34;wind-turbine.jpg\u0026#34;, cv::IMREAD_COLOR); cv::resize(img, dst, cv::Size(300, 300)); std::cout \u0026lt;\u0026lt; \u0026#34;img width and height: \u0026#34; \u0026lt;\u0026lt; img.size().width \u0026lt;\u0026lt; \u0026#34;, \u0026#34; \u0026lt;\u0026lt; img.size().height \u0026lt;\u0026lt; std::endl; cv::imwrite(\u0026#34;resize_img.jpg\u0026#34;, dst); return 0; } In the above code, we have included some OpenCV header files. If you look at the header file opencv.hpp, you will find that it actually includes other OpenCV header files, if they are not included in your code already. So in most cases, include opencv.hpp may be enough if you do not care about compilation time (see also here and here for more discussions on this).\nWe can compile the above program with the following command:\nclang++ -Wall \\ -I$HOME/local/include/opencv4/ \\ -L$HOME/local/lib/ \\ -lopencv_core -lopencv_imgcodecs -lopencv_imgproc \\ read_img.cc -o read_img Note that cv::imresize() requires libopencv_imgproc.so be linked against.\nIssues met when compiling # I met the following error:\nundefined references to cv::imread()\nIt is because if we use functions from some OpenCV module, we need to link our C++ program against the corresponding shared object file. We can specify the Library to link against with -l. For example, -lopencv_imgproc means to link against libopencv_imgproc.so.\nRef:\nUndefined reference to cv::imread(cv::String const\u0026amp;, int) Issue with the linker using opencv and C++ - Undefined Reference Cannot get OpenCV to compile because of undefined references? how do we know which header file to include Books: https://www.packtpub.com/product/learning-image-processing-with-opencv/9781783287659 ","date":"7 December 2020","externalUrl":null,"permalink":"/2020/12/07/build_opencv_cpp_library_linux/","section":"Posts","summary":"\u003cp\u003eIn this post, I will summarize how to build OpenCV from source, and introduce\nhow to use it when writing C++ programs.\u003c/p\u003e","title":"Building OpenCV from Source on Linux","type":"posts"},{"content":"To get a reasonably large collection of traditional and simplified Chinese characters in use toady, we may use zhon:\npip install zhon To get pinyin of a Chinese character, we use python-pinyin:\npip install pypinyin Here a script to get pinyin initials for valid Chinese character without tones:\nfrom zhon import cedict from pypinyin import pinyin, Style import yaml def main(): all_chars = set(cedict.all) ch_initials = {} for c in all_chars: ch_pinyin = pinyin(c, style=Style.NORMAL, errors=\u0026#39;ignore\u0026#39;) # if no pinyin for this char exists if not ch_pinyin: continue py_init = ch_pinyin[0][0][0] ch_initials[c] = py_init fname = \u0026#39;zh_char_initial.yaml\u0026#39; with open(fname, \u0026#39;w\u0026#39;) as f: yaml.dump(ch_initials, f) if __name__ == \u0026#34;__main__\u0026#34;: main() Ref # https://pypinyin.readthedocs.io/zh_CN/master/api.html ","date":"4 December 2020","externalUrl":null,"permalink":"/2020/12/04/pinyin_initials_of_chinese_char/","section":"Posts","summary":"\u003cp\u003eTo get a reasonably large collection of traditional and simplified Chinese\ncharacters in use toady, we may use \u003ca href=\"https://zhon.readthedocs.io/en/latest/\" target=\"_blank\"\u003ezhon\u003c/a\u003e:\u003c/p\u003e","title":"Get Pinyin Initials of Chinese characters","type":"posts"},{"content":" update log 2022-02-08: update fastgit URL In this post, I would like to share how to set up Neovim for writing simple C++ programs.\nPrerequisite # First, we need to install additional packages or tools. The installation sections below are mostly aimed at Linux. For macOS, clang is already installed, and for ccls (a LSP server for C++/C), you can simply install it via HomeBrew:\nbrew install ccls Install gcc # LLVM requires gcc to be at least 5.1, first, we need to update gcc.\nInstall gcc-7 on CentOS 7 # # How to do it on Ubuntu sudo yum install centos-release-scl sudo yum install devtoolset-7-gcc* scl enable devtoolset-7 bash which gcc gcc --version Ref:\nhttps://stackoverflow.com/a/39731134/6064933 Install gcc-7 on Ubuntu 16.04 # Install a newer version of GCC since it is required to compile ccls1. On Ubuntu, you can install newer gcc via the following command:\nsudo apt-get install -y software-properties-common sudo add-apt-repository ppa:ubuntu-toolchain-r/test sudo apt update sudo apt install g++-7 -y Set up gcc-7 to be the default:\nupdate-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 60 --slave /usr/bin/g++ g++ /usr/bin/g++-7 sudo update-alternatives --config gcc Ref:\nInstall gcc-7 on Ubuntu 16.04 Install CMake # Ccls requires newer version of cmake. The cmake on my system is tool old. First, we need to download cmake binary release:\nwget https://hub.fastgit.xyz/Kitware/CMake/releases/download/v3.20.1/cmake-3.20.1-linux-x86_64.sh mkdir $HOME/tools/cmake bash cmake-3.18.4-Linux-x86_64.sh --prefix=$HOME/tools/cmake --exclude-subdir --skip-license Add cmake executable to PATH:\nexport PATH=\u0026#34;$HOME/tools/cmake/bin:$PATH\u0026#34; Ref:\nHow do I install the latest version of cmake from the command line? Install llvm and clang # To install clang, either build it from source or install the binary release if it is available for your system.\nBuild from source # Follow the guide here on building Clang and LLVM on your platform.\ngit clone --depth=1 https://hub.fastgit.xyz/llvm/llvm-project.git mkdir -p llvm-project/build cd llvm-project/build cmake -G \u0026#34;Unix Makefiles\u0026#34; -DLLVM_ENABLE_PROJECTS=\u0026#34;clang;clang-tools-extra\u0026#34; -DCMAKE_INSTALL_PREFIX=~/tools/llvm -DCMAKE_BUILD_TYPE=Release ../llvm # Note that make -j may error out due to excessive memory usage, so we restrict # the number of processor used to compile llvm. make -j 16 The option -DCMAKE_INSTALL_PREFIX specify where we want to install llvm and clang. Since I do not have root rights, I install it under $HOME/tools/llvm. You may change it to other directory. We add clang-tools-extra to option DLLVM_ENABLE_PROJECTS so that extra tools like clangd and clang-tidy can also be built.\nInstall binary release # Note that for some systems, clang also has pre-built binary so you do not need to build from source yourself, see here.\nFor example, there is binary release for Ubuntu 16.04:\nwget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-linux-gnu-ubuntu-16.04.tar.xz tar xvf clang+llvm-11.0.0-x86_64-linux-gnu-ubuntu-16.04.tar.xz Do not forget to add the binary and include path to your PATH and LD_LIBRARY_PATH env variable.\nccls # ccls is a Language Server implementation for C++/C etc. It can be used for C++ code completion, linting, formatting etc. Ccls build instruction can be found here.\nBuild ccls # With all its dependencies installed, we can now build ccls:\ngit clone --depth=1 --recursive https://github.com/MaskRay/ccls cd ccls cmake -H. -BRelease -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=$HOME/tools/clang+llvm-11.0.0-x86_64-linux-gnu-ubuntu-16.04 cmake --build Release If you see the following error:\nsrc/utils.hh:18:20: fatal error: optional: No such file or directory\nThis is because ccls can not find the optional header files. Your gcc version is too old, you should install gcc-7. See above section on how to install gcc-7 on Ubuntu.\nAnother error I met is that libtinfo is not found when compiling:\n/usr/bin/ld: cannot find -ltinfo\nJust install libtinfo-dev using apt:\nsudo apt install libtinfo-dev After all these steps, ccls should be compiled successfully. Add the executable directory to your PATH.\nRef:\nhttps://github.com/MaskRay/ccls/issues/41 https://github.com/MaskRay/ccls/issues/469 https://github.com/MaskRay/ccls/issues/195 Neovim config # Now comes to the configuration for Neovim.\nAuto-completion # For auto-completion, we use vim-lsp, together with deoplete-vim-lsp and deoplete.\nAn example config is shown below:\nPlug \u0026#39;prabirshrestha/vim-lsp\u0026#39; Plug \u0026#39;Shougo/deoplete.nvim\u0026#39; Plug \u0026#39;lighttiger2505/deoplete-vim-lsp\u0026#39; \u0026#34; setting with vim-lsp if executable(\u0026#39;ccls\u0026#39;) au User lsp_setup call lsp#register_server({ \\ \u0026#39;name\u0026#39;: \u0026#39;ccls\u0026#39;, \\ \u0026#39;cmd\u0026#39;: {server_info-\u0026gt;[\u0026#39;ccls\u0026#39;]}, \\ \u0026#39;root_uri\u0026#39;: {server_info-\u0026gt;lsp#utils#path_to_uri( \\ lsp#utils#find_nearest_parent_file_directory( \\ lsp#utils#get_buffer_path(), [\u0026#39;.ccls\u0026#39;, \u0026#39;compile_commands.json\u0026#39;, \u0026#39;.git/\u0026#39;]))}, \\ \u0026#39;initialization_options\u0026#39;: { \\ \u0026#39;highlight\u0026#39;: { \u0026#39;lsRanges\u0026#39; : v:true }, \\ \u0026#39;cache\u0026#39;: {\u0026#39;directory\u0026#39;: stdpath(\u0026#39;cache\u0026#39;) . \u0026#39;/ccls\u0026#39; }, \\ }, \\ \u0026#39;whitelist\u0026#39;: [\u0026#39;c\u0026#39;, \u0026#39;cpp\u0026#39;, \u0026#39;objc\u0026#39;, \u0026#39;objcpp\u0026#39;, \u0026#39;cc\u0026#39;], \\ }) endif If you are on Linux, the above config should work as expected. As soon as you started editing C++ source files, code auto-completion for standard C++ header and for methods/class in standard library should work.\nHowever, if we only use the above config, auto-completion only works for standard C++ libraries, since ccls does not know where to find the header file for other packages we use. We can create a .ccls under the project root to tell ccls our compilation flags. An example config for a source file using OpenCV is like the following:\nclang %h -x c++-header -Wall -Wextra %cpp -std=c++11 %c -std=c11 -I/home/jdhao/local/include/opencv4 -I. On macOS, I have encountered completion issues even for standard libraries. It seems that clang can not find the correct directory for the header files of standard libraries. The following is a working .ccls file:\nclang -isystem/Library/Developer/CommandLineTools/usr/include/c++/v1 %cpp -std=c++11 The directory /Library/Developer/CommandLineTools/usr/include/c++/v1 is where macOS stores the standard C++ header files. It uses the system clang. If you do not know where that directory is, use the following command:\nclang -v -fsyntax-only -x c++ /dev/null Some of the output will show the possible directories where standard C++ may exist:\n#include \u0026lt;...\u0026gt; search starts here: /usr/local/include /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1 /Library/Developer/CommandLineTools/usr/lib/clang/11.0.0/include /Library/Developer/CommandLineTools/usr/include /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory) If you install ccls on macOS via HomeBrew, it will also install a separate clang/llvm package on your system. The llvm directory is like /usr/local/Cellar/llvm/11.0.0. If that is the case, the following .ccls file is also working for macOS:\nclang -ccc-install-dir /usr/local/Cellar/llvm/11.0.0/bin %cpp -std=c++11 %cpp -stdlib=libc++ It uses clang installed via homebrew. The standard C++ header file location now becomes /usr/local/Cellar/llvm/11.0.0/include/c++/v1/, also see here.\nIf your project is a CMake project, you can also generate a compile_commands.json file for ccls to work. For the details, see here.\nRef:\nccls config: ccls Initialization options (can be set up via LS client in vim script) https://github.com/MaskRay/ccls/wiki/Customization https://github.com/MaskRay/ccls/wiki/Project-Setup#ccls-file https://github.com/neovim/nvim-lspconfig/issues/70 ccls C++ header file completion https://github.com/MaskRay/ccls/issues/191#issuecomment-453809905 https://github.com/MaskRay/ccls/issues/368 https://github.com/MaskRay/ccls/issues/450 Syntax highlighting # If you do not want to use lsp-based highlight, you may try chromatica.nvim or vim-cpp-enhanced-highlight. Vim-cpp-enhanced highlight is base on regex matching to highlight symbols. It does not understand the code. It may not be accurate compared to LSP.\nFor lsp highlight, use vim-lsp-cxx-highlight. I can not make it work with nvim-lsp though. It works with vim-lsp.\nExample config:\nPlug \u0026#39;jackguo380/vim-lsp-cxx-highlight\u0026#39; tags and navigation # We can use gutentags to generate tags for us. Example config below:\nlet g:gutentags_ctags_tagfile = \u0026#39;.tags\u0026#39; let s:vim_tags = expand(\u0026#39;~/.cache/tags\u0026#39;) let g:gutentags_cache_dir = s:vim_tags let g:gutentags_ctags_extra_args = [\u0026#39;--fields=+niazS\u0026#39;, \u0026#39;--extra=+q\u0026#39;] let g:gutentags_ctags_extra_args += [\u0026#39;--c++-kinds=+px\u0026#39;] let g:gutentags_ctags_extra_args += [\u0026#39;--c-kinds=+px\u0026#39;] Compilation and run # If you are writing a large code project, you should use make or other build tools. For simple programs, using clang directly is convenient.\nThis is how to compile and run a simple program via the built-in terminal:\nnnoremap \u0026lt;silent\u0026gt; \u0026lt;buffer\u0026gt; \u0026lt;F9\u0026gt; :call \u0026lt;SID\u0026gt;compile_run_cpp()\u0026lt;CR\u0026gt; function! s:compile_run_cpp() abort let src_path = expand(\u0026#39;%:p:~\u0026#39;) let src_noext = expand(\u0026#39;%:p:~:r\u0026#39;) \u0026#34; The building flags let _flag = \u0026#39;-Wall -Wextra -std=c++11 -O2\u0026#39; if executable(\u0026#39;clang++\u0026#39;) let prog = \u0026#39;clang++\u0026#39; elseif executable(\u0026#39;g++\u0026#39;) let prog = \u0026#39;g++\u0026#39; else echoerr \u0026#39;No compiler found!\u0026#39; endif call s:create_term_buf(\u0026#39;v\u0026#39;, 80) execute printf(\u0026#39;term %s %s %s -o %s \u0026amp;\u0026amp; %s\u0026#39;, prog, _flag, src_path, src_noext, src_noext) startinsert endfunction function s:create_term_buf(_type, size) abort set splitbelow set splitright if a:_type ==# \u0026#39;v\u0026#39; vnew else new endif execute \u0026#39;resize \u0026#39; . a:size endfunction References # http://www.skywind.me/blog/archives/2084 Strictly speaking, you can build ccls via clang, but I find it hard and can not seem to make it work.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 November 2020","externalUrl":null,"permalink":"/2020/11/29/neovim_cpp_dev_setup/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-02-08: update fastgit URL\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I would like to share how to set up Neovim for writing simple C++ programs.\u003c/p\u003e","title":"Setting up Neovim for C++ Development with LSP","type":"posts"},{"content":"Update 2021-01-14: I ended up writing a plugin called better-escape.vim which aims at solving this issue.\nA very popular insert mode mapping for Neovim/Vim is to map jk or kj or jj to \u0026lt;ESC\u0026gt; for quicker escaping from the insert mode. I have used the following mapping for quite some time:\ninoremap jk \u0026lt;ESC\u0026gt; However, it will cause lag whenever we press j in insert mode. Because Vim will wait for timeoutlen milliseconds to see if you want to enter j or if you mean the map jk.\nOf course, you can reduce timeoutlen option to very small values, but it is not user-friendly to type mappings that consists of several key strokes. Before you can press the next key in your mapping, Vim may have already time out.\nI saw on Reddit the other day that someone propose to check the character before the current one and leave insert mode based on some conditions. I thought this might be a better way. The idea is to have an insert mode mapping for k, when we press k, we then check the character before k. If that character is j, we will erase j and leave insert mode. Otherwise, we will insert k as is.\nHere is a crude implementation of that idea:\nscriptencoding utf-8 inoremap \u0026lt;expr\u0026gt; k EscapeInsertOrNot() \u0026#34; some test text function! EscapeInsertOrNot() abort \u0026#34; If k is preceded by j, then remove j and go to normal mode. let line_text = getline(\u0026#39;.\u0026#39;) let cur_ch_idx = CursorCharIdx() let pre_char = CharAtIdx(line_text, cur_ch_idx-1) echom \u0026#39;pre_char is:\u0026#39; pre_char if pre_char ==# \u0026#39;j\u0026#39; return \u0026#34;\\b\\e\u0026#34; else return \u0026#39;k\u0026#39; endif endfunction \u0026#34; split(line_text, \u0026#39;\\zs\u0026#39;) can split string into separate char \u0026#34;æ±‰å­—æµ‹è¯•è¿™æ˜¯ä¸€äº›æ±‰å­— some charjust \u0026#34; byte index of è¿™ is 14 (using col(\u0026#39;.\u0026#39;)) \u0026#34; let my_str = \u0026#39;ä½ å¥½å—\u0026#39; \u0026#34; strcharpart(my_str, 0, 1) is the first char in my_str (it is like my_str[0] in Python) \u0026#34; strcharpart(my_str, 1, 1) is the second char in my_str \u0026#34; let ch = \u0026#39;ä½ \u0026#39; \u0026#34; byteidx(ch, 1) is the number of byte in UTF-8 encoding for ch (suppose \u0026#34; that the character encoding is UTF-8) function! CharAtIdx(str, idx) abort \u0026#34; Get char at idx from str. Note that this is based on character index \u0026#34; instead of the byte index. return strcharpart(a:str, a:idx, 1) endfunction function! CursorCharIdx() abort \u0026#34; This function returns the character-based index for character under \u0026#34; cursor. \u0026#34; Get the character under cursor let line_text = getline(\u0026#39;.\u0026#39;) let cur_byte_idx = col(\u0026#39;.\u0026#39;) echo \u0026#39;cur_byte_idx:\u0026#39; cur_byte_idx if cur_byte_idx == 1 echomsg \u0026#39;cursor char idx:\u0026#39; 0 return 0 endif \u0026#34; character index starts from zero let [ch_idx, byte_idx] = [-1, 0] for c in split(line_text, \u0026#39;\\zs\u0026#39;) let ch_idx += 1 let byte_idx += byteidx(c, 1) echomsg ch_idx c byte_idx if byte_idx+1 == cur_byte_idx let pre_char = strcharpart(line_text, ch_idx, 1) echomsg \u0026#39;pre char is:\u0026#39; pre_char \u0026#39;pre char index:\u0026#39; ch_idx let cursor_char = strcharpart(line_text, ch_idx+1, 1) echomsg \u0026#39;cursor char\u0026#39; cursor_char \u0026#39;index:\u0026#39; ch_idx+1 return ch_idx + 1 endif endfor endfunction Note that the above script is a little complex, because we need to take non-ASCII characters into account. The function CursorCharIdx() is used to get the character index of the cursor char in the cursor line. I have tested that it works for pure ASCII text and text containing non-ASCII characters.\nI feel that the function above to get the cursor char index is too complex. So I asked a question on stackexchange and got a more concise solution:\nfunction! CursorCharIdx() abort \u0026#34; A more concise way to get character index under cursor. let cursor_byte_idx = col(\u0026#39;.\u0026#39;) if cursor_byte_idx == 1 return 0 endif let pre_cursor_text = getline(\u0026#39;.\u0026#39;)[:col(\u0026#39;.\u0026#39;)-2] return strchars(pre_cursor_text) endfunction One issue is that if you want to insert jk literally, you can not just type j followed by k. It will be interpreted as escaping the insert mode. To insert k, we can press Ctrl-V, then press k. This works, because Vim will not consider character after Ctrl-v for mappings. See also :h i_CTRL-V for the details. Since I rarely use jk in my writing, I am fine with this issue.\nReferences # http://derekwyatt.org/2015/07/27/getting-character-under-cursor-in-vim/ Vim: do something in a function based on character under a cursor? Vim (vimscript) get exact character under the cursor How can I get the character at the cursor position in a multibyte aware manner? Reliably get the character at a byte index in a string ","date":"23 November 2020","externalUrl":null,"permalink":"/2020/11/23/neovim_better_mapping_for_leaving_insert_mode/","section":"Posts","summary":"\u003cp\u003e\u003cfont color=\"blue\"\u003eUpdate 2021-01-14: I ended up writing a plugin called\n\u003ca href=\"https://github.com/jdhao/better-escape.vim\" target=\"_blank\"\u003ebetter-escape.vim\u003c/a\u003e which aims at\nsolving this issue.\u003c/font\u003e\u003c/p\u003e\n\u003cp\u003eA \u003ca href=\"https://vi.stackexchange.com/q/300/15292\" target=\"_blank\"\u003every popular insert mode mapping\u003c/a\u003e\nfor Neovim/Vim is to map \u003ccode\u003ejk\u003c/code\u003e or \u003ccode\u003ekj\u003c/code\u003e or \u003ccode\u003ejj\u003c/code\u003e to \u003ccode\u003e\u0026lt;ESC\u0026gt;\u003c/code\u003e for quicker escaping\nfrom the insert mode. I have used the following mapping for quite some time:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-vim\" data-lang=\"vim\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nx\"\u003einoremap\u003c/span\u003e \u003cspan class=\"nx\"\u003ejk\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eESC\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"A Better Mapping to Leave Insert Mode than jk","type":"posts"},{"content":"TL;DR: do not use list multiplication to initialize an empty list of list, or you will end up wasting hours debugging your program.\nI wrote some Python code for my project and found that the result isn\u0026rsquo;t correct. So I spent quite some time debugging the whole working process of this program, and found sadly that the culprit is a list of empty list, which is wrongly initialized.\nWhat is the resulting list, if we do the following in Python?\nx = [[]] * 3 x[0].append(1.0) I expect x now becomes [[1.0], [], []]. Instead, it becomes [[1.0], [1.0], [1.0]]. This is because when we use multiplication to create list x, we actually created 3 references to an empty list. List is a mutable object in Python. When we append values to a list, we haven\u0026rsquo;t changed its identity. As a result, changing either one of the 3 sub-list will change the others, since they all refer to the same list.\nNote that things are different when we create a list of same immutable objects using multiplication. For example, if we create a list of same int, and then change one of the them, the other elements will not change, because we can not change the value of immutable types, assigning a new int to a list element will make it point to another address.\nIn [18]: a = [1] * 2 In [19]: a Out[19]: [1, 1] In [20]: print(id(a[0]), id(a[1])) 4438635584 4438635584 In [21]: a[0] = 2 In [22]: print(id(a[0]), id(a[1])) 4438635616 4438635584 To create a list 3 empty lists, we may use list comprehension instead:\nx = [[] for _ in range(3)] In each iteration, a new empty list is created. So the 3 sub-list are independent of each other. Changing one won\u0026rsquo;t affect the others.\nReferences # List of lists changes reflected across sublists unexpectedly https://bugs.python.org/issue27135 https://docs.python.org/3/faq/programming.html#how-do-i-create-a-multidimensional-list ","date":"22 November 2020","externalUrl":null,"permalink":"/2020/11/22/python_list_of_empty_list_pitfall/","section":"Posts","summary":"\u003cp\u003eTL;DR: do not use list multiplication to initialize an empty list of list, or\nyou will end up wasting hours debugging your program.\u003c/p\u003e","title":"The Correct Way to Create List of Empty List in Python","type":"posts"},{"content":" Update log 2021-10-23: fix typoï¼Œæ›´æ–°é“¾æ¥ã€‚ å¯¹å‡ ç§ä¸­æ–‡åˆ†è¯å·¥å…·è¿›è¡Œäº†è°ƒç ”ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ã€‚ å·¥å…·ä»‹ç»ä¸å®‰è£… # è¿™é‡Œç”¨äº†å‡ ç§å¼€æºçš„åˆ†è¯å·¥å…·ï¼Œå…·ä½“ä¿¡æ¯å¦‚ä¸‹ï¼š\njiebaï¼šjieba æ˜¯åˆ†è¯é¢†åŸŸè¿˜æŒºæœ‰åçš„ä¸€ä¸ªå·¥å…·ã€‚ pkusegï¼špkuseg æ˜¯åŒ—äº¬å¤§å­¦è¯­è¨€è®¡ç®—ä¸æœºå™¨å­¦ä¹ ç ”ç©¶ç»„å¼€æºçš„ä¸€ä¸ªåˆ†è¯å·¥å…·ã€‚ LACï¼šLAC æ˜¯ç™¾åº¦ NLP å›¢é˜Ÿå¼€æºçš„åŸºäºç™¾åº¦è‡ªå®¶çš„ PaddlePaddle çš„è¯æ³•åˆ†æå·¥å…·ã€‚ LTP: LTP æ˜¯å“ˆå·¥å¤§ç¤¾ä¼šè®¡ç®—ä¸ä¿¡æ¯æ£€ç´¢ç ”ç©¶ä¸­å¿ƒå¼€æºçš„ä¸€æ¬¾ä¸­æ–‡è‡ªç„¶è¯­è¨€å¤„ç†å·¥å…·ã€‚ è¿™äº›åº“éƒ½æä¾›äº† Python æ¥å£ï¼Œä½¿ç”¨ pip å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š\npip install jieba pkuseg lac ltp ç®€å•ä¸Šæ‰‹è¯•ç”¨ # from LAC import LAC import pkuseg import jieba from ltp import LTP my_str = \u0026#34;ç´¢å¼•å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ ï¼Œå®ƒçš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œç´¢å¼•å›¾é™„å¸¦äº†ä¸€ä¸ª color palette/table æˆ–è€…å« color mapï¼Œå¯¹åº”äº† 256 ç§é¢œè‰²ï¼ˆæ‰€ä»¥ color table å¤§å°ä¸º 256x3ï¼‰ï¼‰ï¼Œç„¶åå›¾åƒåƒç´ æ¯ä¸ªä½ç½®å€¼åœ¨ 0-255 ä¹‹é—´ï¼Œæ•°å€¼ä»£è¡¨è¯¥å¤„åƒç´ åœ¨ color table å¯¹åº”çš„é¢œè‰²çš„ç´¢å¼•å€¼ï¼Œå®é™…å±•ç¤ºè¯¥å›¾ç‰‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªç´¢å¼•å°±èƒ½åœ¨ color table ä¸­æ‰¾åˆ°çœŸæ­£è¦å±•ç¤ºçš„é¢œè‰²ã€‚ä»è¿™ä¸ªæè¿°å¯ä»¥çœ‹å‡ºï¼Œç´¢å¼•å›¾ä¸€ä¸ªåƒç´ åªéœ€è¦ 1 æ¯”ç‰¹ï¼Œæ‰€ä»¥ç´¢å¼•å›¾å çš„ç©ºé—´å¤§å°çº¦ä¸º RGB å›¾çš„ 1/3 ï¼Œå¤§å¤§å‡å°‘äº†å­˜å‚¨å ç”¨\u0026#34; bseg = LAC(mode=\u0026#39;seg\u0026#39;) pseg = pkuseg.pkuseg() ltp = LTP() print(bseg.run(my_str)) print(pseg.cut(my_str)) print(list(jieba.cut(my_str))) # jieba.cut() è¿”å›çš„æ˜¯ iteratorï¼Œæ‰€ä»¥è½¬æˆäº† list æ˜¾ç¤º print(ltp.seg([my_str])[0]) é€Ÿåº¦ benchmark # åŒæ—¶ä¹Ÿå¯¹æ¯”äº†ä¸€ä¸‹å‡ æ¬¾å·¥å…·çš„åˆ†è¯é€Ÿåº¦ï¼Œ\nIn [9]: %timeit bseg.run(my_str) 8.24 ms Â± 68.8 Âµs per loop (mean Â± std. dev. of 7 runs, 100 loops each) In [10]: %timeit list(jieba.cut(my_str)) Building prefix dict from the default dictionary ... Loading model from cache /var/folders/nj/53p0t04x2d76_9x8hsq0zfwc0000gn/T/jieba.cache Loading model cost 0.566 seconds. Prefix dict has been built successfully. 740 Âµs Â± 7.24 Âµs per loop (mean Â± std. dev. of 7 runs, 1 loop each) In [11]: %timeit pseg.cut(my_str) 5.31 ms Â± 160 Âµs per loop (mean Â± std. dev. of 7 runs, 100 loops each) In [12]: %timeit ltp.seg([my_str]) 54.7 ms Â± 666 Âµs per loop (mean Â± std. dev. of 7 runs, 10 loops each) å¯ä»¥çœ‹å‡º jieba çš„é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œå…¶æ¬¡æ˜¯ pkusegï¼Œç„¶åç™¾åº¦çš„ LACï¼Œæœ€æ…¢çš„æ˜¯å“ˆå·¥å¤§ LTPã€‚æ£€æŸ¥åˆ†è¯çš„ç»“æœï¼Œå‘ç° jieba çš„åˆ†è¯å‡†ç¡®ç‡ä¸åŠ pkusegï¼ŒLAC å’Œ LTPï¼Œpkusegï¼ŒLACï¼ŒLTP ç»“æœæ¯”è¾ƒæ¥è¿‘ã€‚\næ³¨ï¼šéä¸“ä¸šæµ‹è¯„ï¼Œç»“æœä»…ä¾›å‚è€ƒï¼Œæ›´å®¢è§‚å…¨é¢çš„è¯„æµ‹è¿˜éœ€è¦åœ¨ä¸åŒæ•°æ®é›†ä¸Šè·‘æµ‹è¯•æ‰èƒ½å¾—å‡ºã€‚\nå‚è€ƒ # https://www.52nlp.cn/%E4%BA%94%E6%AC%BE%E4%B8%AD%E6%96%87%E5%88%86%E8%AF%8D%E5%B7%A5%E5%85%B7%E7%BA%BF%E4%B8%8Apk-jieba-snownlp-pkuseg-thulac-hanlp https://github.com/ownthink/evaluation https://www.cnblogs.com/maxxu11/p/12604569.html ","date":"20 November 2020","externalUrl":null,"permalink":"/2020/11/20/chinese_text_seg_tools/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-10-23: fix typoï¼Œæ›´æ–°é“¾æ¥ã€‚\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\nå¯¹å‡ ç§ä¸­æ–‡åˆ†è¯å·¥å…·è¿›è¡Œäº†è°ƒç ”ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ã€‚","title":"å‡ ç§ä¸­æ–‡åˆ†è¯å·¥å…·å¯¹æ¯”","type":"posts"},{"content":"ä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œæœ‰äººåœ¨ v2ex ä¸Šè¯´è‡ªå·±çš„å›¾ç‰‡ï¼Œç»è¿‡ PIL ç¼©æ”¾åˆ° 800x600 ä»¥åï¼Œéå¸¸æ¨¡ç³Šï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³ã€‚\nç°è±¡ä¸é—®é¢˜ # æˆ‘æƒ³è¿™ä¸å¯èƒ½å•Šï¼Œæˆ‘æŠŠä»–çš„åŸå›¾ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åä½¿ç”¨ PIL è¿›è¡Œç¼©æ”¾ä¿å­˜ï¼ŒåŸå§‹çš„ä»£ç å¦‚ä¸‹ï¼š\nfrom PIL import Image def main(): img = Image.open(\u0026#39;big_image.png\u0026#39;) im_resize = img.resize((800, 600), resample=Image.LANCZOS) im_resize.save(\u0026#39;big-resized-pil.png\u0026#39;, quality=90) if __name__ == \u0026#34;__main__\u0026#34;: main() å‘ç°ä¿å­˜çš„å›¾ç‰‡ä¸­ï¼Œæ–‡å­—éƒ¨åˆ†çš„ç¡®å¾ˆæ¨¡ç³Šï¼ŒImage.LANCZOS å·²ç»æ˜¯æœ€å¥½çš„æ»¤æ³¢å™¨äº†ï¼ŒæŒ‰ç†è¯´ä¸åº”è¯¥å‡ºç°è¿™ç§é—®é¢˜ã€‚æˆ‘åˆæŠŠ PIL æä¾›çš„å…¶ä»–å‡ ç§æ»¤æ³¢å™¨éƒ½è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°å‡ºæ¥çš„ç»“æœæ²¡åŒºåˆ«ï¼Œéƒ½å¾ˆå·®ã€‚\næˆ‘åˆç”¨ OpenCV è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°ä½¿ç”¨ OpenCV ç¼©æ”¾å¾—åˆ°çš„å›¾ç‰‡æ•ˆæœè¿˜å¯ä»¥ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ï¼š\nimport cv2 def main(): im = cv2.imread(\u0026#39;big_image.png\u0026#39;) # https://docs.opencv.org/master/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d im_resize = cv2.resize(im, (800, 600), interpolation=cv2.INTER_LANCZOS4) write_param = [cv2.IMWRITE_PNG_COMPRESSION, 5] cv2.imwrite(\u0026#39;big-resized.png\u0026#39;, im_resize, write_param) if __name__ == \u0026#34;__main__\u0026#34;: main() ç¼©æ”¾ä»¥åçš„å›¾ç‰‡æ˜æ˜¾æ¯” PIL ç¼©æ”¾å‡ºæ¥çš„æ•ˆæœå¥½äº†å¾ˆå¤šï¼Œä¸Šé¢çš„ Interpolation å‚æ•°ç±»ä¼¼äº PIL ä¸­çš„ resample å‚æ•°ï¼Œç”¨æ¥æ§åˆ¶å›¾åƒç¼©æ”¾æ—¶å€™ä½¿ç”¨çš„æ»¤æ³¢å™¨ï¼Œä¸å…‰ cv2.INTER_LANCZOS4 å‡ºæ¥çš„æ•ˆæœå¯ä»¥ï¼Œç”šè‡³ cv2.INTER_AREA å‡ºæ¥çš„æ•ˆæœä¹Ÿä¸é”™ã€‚\nå³ä¾¿ OpenCV å’Œ PIL å®ç°æŸä¸ªæ»¤æ³¢å™¨çš„ç»†èŠ‚æœ‰å·®å¼‚ï¼Œç¼©æ”¾å‡ºæ¥çš„ç»“æœå·®å¼‚ä¹Ÿä¸åº”è¯¥å¦‚æ­¤æ˜æ˜¾ï¼Œè¿™æ ·å·¨å¤§çš„å·®å¼‚å¾ˆéš¾ç”¨å®ç°ç»†èŠ‚ä¸åŒæ¥è§£é‡Šæ¸…æ¥šã€‚\nåŸå›  # åé¢é‚£ä¸ªé—®é¢˜åˆæœ‰äººå›å¤ï¼Œè¯´å¯èƒ½æ˜¯å› ä¸ºæé—®è€…ç»™çš„å›¾æ˜¯ç´¢å¼•å›¾ (index imageï¼Œä¹Ÿå« palette image) (ç´¢å¼•å›¾è¯»å–ä»¥åï¼Œä½¿ç”¨ print(im.mode) ä¼šè¾“å‡º 'P')ã€‚å¦‚æœå›¾ç‰‡æœ¬èº«æ˜¯ç´¢å¼•å›¾ï¼ŒPIL åœ¨è¯»å–å›¾ç‰‡å¹¶ä¸ä¼šè‡ªåŠ¨è½¬æ¢ä¸º RGB å›¾ç‰‡ï¼Œå› æ­¤è¿”å›çš„ Image å¯¹è±¡ä»ç„¶æ˜¯ç´¢å¼•å›¾ï¼Œè¿™å°±å¸¦æ¥äº†é—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»¬ä»”ç»†é˜…è¯» Image.resize() æ–¹æ³•çš„æ–‡æ¡£ï¼Œå…¶ä¸­å¯¹ resample å‚æ•°çš„è§£é‡Šæåˆ°ï¼š\nIf the image has mode â€œ1â€ or â€œPâ€, it is always set to PIL.Image.NEAREST\nè¿™æ ·å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€åˆä½¿ç”¨ Image.LANCZOS æ»¤æ³¢å™¨ä¸ç®¡ç”¨çš„é—®é¢˜ï¼šå› ä¸ºè¿™ä¸ªå›¾åƒæ˜¯ç´¢å¼•å›¾åƒï¼ŒPIL åªä¼šä½¿ç”¨ Image.NEAREST æ»¤æ³¢å™¨ï¼Œæˆ‘ä»¬è‡ªå·±è®¾å®šçš„æ»¤æ³¢å™¨å‹æ ¹æ²¡ç”Ÿæ•ˆï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°ç³Ÿç³•çš„å‹ç¼©æ•ˆæœã€‚\nçŸ¥é“äº†è¿™ä¸ªåŸå› ï¼Œè§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œé‚£å°±æ˜¯è¯»å–å›¾åƒçš„æ—¶å€™ï¼Œä½¿ç”¨ Image.convert() æŠŠå›¾åƒè½¬ä¸º RGB æ¨¡å¼:\nimg = Image.open(\u0026#39;big_image.png\u0026#39;).convert(\u0026#39;RGB\u0026#39;) ç„¶åå¯¹å›¾åƒè¿›è¡Œç¼©æ”¾ï¼Œå¾—åˆ°çš„ç»“æœå°±ä¸ OpenCV ç¼©æ”¾ä»¥åçš„ç»“æœåŸºæœ¬ä¸€è‡´äº†ã€‚\nä»€ä¹ˆæ˜¯ç´¢å¼•å›¾ # æˆ‘ä»¬å¸¸è§çš„ RGB å›¾ç‰‡ï¼Œå›¾ç‰‡çš„æ¯ä¸ªåƒç´ åˆ†åˆ«ç”¨ R, G, B ä¸‰ä¸ªé¢œè‰²åˆ†é‡è¡¨ç¤ºï¼Œä¸€èˆ¬å–å€¼æ˜¯åœ¨ 0-255 ä¹‹é—´ï¼Œæ¯ä¸ªé¢œè‰²åˆ†é‡å  1 byteï¼Œæ‰€ä»¥ä¸€ä¸ªåƒç´ å  3 byte ç©ºé—´ï¼Œå¦‚æœå›¾åƒå¤§å°ä¸º MxNï¼Œé‚£ä¹ˆå›¾åƒå çš„å†…å­˜ç©ºé—´å¤§å°çº¦ä¸º MxNx3 byteã€‚\nç´¢å¼•å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ ï¼Œå®ƒçš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œç´¢å¼•å›¾é™„å¸¦äº†ä¸€ä¸ª color palette/table æˆ–è€…å« color mapï¼Œå¯¹åº”äº† 256 ç§é¢œè‰²ï¼ˆæ‰€ä»¥ color table å¤§å°ä¸º 256x3ï¼‰ï¼‰ï¼Œç„¶åå›¾åƒåƒç´ æ¯ä¸ªä½ç½®å€¼åœ¨ 0-255 ä¹‹é—´ï¼Œæ•°å€¼ä»£è¡¨è¯¥å¤„åƒç´ åœ¨ color table å¯¹åº”çš„é¢œè‰²çš„ç´¢å¼•å€¼ï¼Œå®é™…å±•ç¤ºè¯¥å›¾ç‰‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªç´¢å¼•å°±èƒ½åœ¨ color table ä¸­æ‰¾åˆ°çœŸæ­£è¦å±•ç¤ºçš„é¢œè‰²ã€‚ä»è¿™ä¸ªæè¿°å¯ä»¥çœ‹å‡ºï¼Œç´¢å¼•å›¾ä¸€ä¸ªåƒç´ åªéœ€è¦ 1 æ¯”ç‰¹ï¼Œæ‰€ä»¥ç´¢å¼•å›¾å çš„ç©ºé—´å¤§å°çº¦ä¸º RGB å›¾çš„ 1/3 ï¼Œå¤§å¤§å‡å°‘äº†å­˜å‚¨å ç”¨1ã€‚\næˆ‘ä»¬åœ¨ PIL ä¸­å¯ä»¥è½»æ¾åˆ›å»ºç´¢å¼•å›¾ï¼Œä¸€ä¸ªæ”¹ç¼–ä¾‹å­å¦‚ä¸‹ï¼š\nfrom PIL import Image from PIL import ImageDraw im = Image.new(\u0026#34;P\u0026#34;, (400, 400), 0) palette_color = im.getpalette() print(palette_color) im.putpalette([ 0, 0, 0, # black background 255, 0, 0, # index 1 is red 255, 255, 0, # index 2 is yellow 255, 153, 0, # index 3 is orange ]) # It seems that the image palette is automatically filled with numbers to make # it have size 256*3 (768), if you do not provide that much number to # putpaletter() method. palette_color = im.getpalette() print(palette_color) d = ImageDraw.ImageDraw(im) d.polygon((0, 0, 0, 400, 400, 400), fill=1) d.rectangle((100, 100, 300, 300), outline=2) d.ellipse((120, 120, 280, 280), outline=3) im.save(\u0026#34;out.gif\u0026#34;) åœ¨ PIL ä¸­ï¼Œå¦‚æœå›¾åƒæ˜¯ä¸€ä¸ªç´¢å¼•å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Image.getpalette() æ–¹æ³•å¾—åˆ°å®ƒçš„ color paletteï¼Œè¯¥ palette æ˜¯ä¸€ä¸ª 768 å…ƒç´ çš„ listï¼ŒæŒ‰ç…§ [r, g, b, r, g, b, ...] è¿™ç§é¡ºåºæ’å¸ƒã€‚ä¸ºäº†æ–¹ä¾¿æ‰¾åˆ°æŸä¸ª index å¯¹åº”çš„é¢œè‰²ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå˜å½¢ï¼š\npalette_color = np.asarray(palette).reshape(256, 3) å‚è€ƒ # What is the difference between images in \u0026lsquo;P\u0026rsquo; and \u0026lsquo;L\u0026rsquo; mode in PIL? http://www.manifold.net/doc/mfd9/palette_images.htm è¿™åªæ˜¯ä¸€ä¸ªç²—ç³™è®¡ç®—ï¼Œå®é™…ä¸­è¿˜è¦è€ƒè™‘å›¾åƒç¼–ç ç­‰å…¶ä»–å› ç´ ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 November 2020","externalUrl":null,"permalink":"/2020/11/18/pillow_image_resize_pitfall/","section":"Posts","summary":"\u003cp\u003eä»Šå¤©é‡åˆ°äº†\u003ca href=\"https://www.v2ex.com/t/726518\" target=\"_blank\"\u003eä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜\u003c/a\u003eï¼Œæœ‰äººåœ¨ v2ex ä¸Šè¯´è‡ªå·±çš„å›¾ç‰‡ï¼Œç»è¿‡ \u003ca href=\"https://python-pillow.org/\" target=\"_blank\"\u003ePIL\u003c/a\u003e ç¼©æ”¾åˆ° 800x600 ä»¥åï¼Œéå¸¸æ¨¡ç³Šï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³ã€‚\u003c/p\u003e","title":"Pillow/PIL ç¼©æ”¾ç´¢å¼•å›¾åƒæ—¶çš„ä¸€ä¸ªé—®é¢˜","type":"posts"},{"content":"","date":"16 November 2020","externalUrl":null,"permalink":"/tags/jedi/","section":"Tags","summary":"","title":"Jedi","type":"tags"},{"content":"","date":"16 November 2020","externalUrl":null,"permalink":"/tags/pyls/","section":"Tags","summary":"","title":"Pyls","type":"tags"},{"content":"Update 2021-07-15: Note that pyls has been deprecated. There is new fork of it called pylsp, which is maintained by the community.\nIn my older post, I have shared how to set up auto-completion for vim-lsp with the help of deoplete. One annoyance is that I can not use fuzzy matching for auto-completion: the completion items in the pop-up completion menu seems to be selected base on prefix matching.\nAfter consulting the deoplete documentation, I add the following config:\ncall deoplete#custom#source(\u0026#39;_\u0026#39;, \u0026#39;matchers\u0026#39;, [\u0026#39;matcher_full_fuzzy\u0026#39;]) call deoplete#custom#option({\u0026#39;camel_case\u0026#39;: v:true,}) Interestingly, the above config works for ccls, i.e., fuzzy matching now works for cpp files. For example, cv::imread(\u0026quot;test.jpg\u0026quot;, cv::imcolor) can show cv::IMREAD_COLOR as a completion candidate.\nHowever, for pyls, the above config does not work. Under the hood, pyls uses jedi for code completion feature (see here).\nIn newer version of Jedi, it actually supports fuzzy code completion in complete() method. Pyls turns off this feature by default. So to enable fuzzy matching, we need to config it manually. Based on example config here, I have figured out the correct config for vim-lsp:\nif executable(\u0026#39;pyls\u0026#39;) \u0026#34; pip install python-language-server augroup pyls_setup autocmd! autocmd User lsp_setup call lsp#register_server({ \\ \u0026#39;name\u0026#39;: \u0026#39;pyls\u0026#39;, \\ \u0026#39;cmd\u0026#39;: {server_info-\u0026gt;[\u0026#39;pyls\u0026#39;]}, \\ \u0026#39;allowlist\u0026#39;: [\u0026#39;python\u0026#39;], \\ \u0026#39;workspace_config\u0026#39;: { \\ \u0026#39;pyls\u0026#39;: \\ {\u0026#39;configurationSources\u0026#39;: [\u0026#39;flake8\u0026#39;], \\ \u0026#39;plugins\u0026#39;: {\u0026#39;flake8\u0026#39;: {\u0026#39;enabled\u0026#39;: v:true}, \\ \u0026#39;pyflakes\u0026#39;: {\u0026#39;enabled\u0026#39;: v:false}, \\ \u0026#39;pycodestyle\u0026#39;: {\u0026#39;enabled\u0026#39;: v:false}, \\ \u0026#39;jedi_completion\u0026#39;: {\u0026#39;fuzzy\u0026#39;: v:true}, \\ } \\ } \\ }}) augroup END endif Note that you also need to install the latest version of jedi1:\npip install -U jedi Now everything should work as expected.\nReferences # https://github.com/lighttiger2505/deoplete-vim-lsp/issues/23 The jedi version tested is 0.17.2\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 November 2020","externalUrl":null,"permalink":"/2020/11/16/vim_lsp_fuzzy_completion/","section":"Posts","summary":"\u003cp\u003e\u003cfont color=\"red\"\u003eUpdate 2021-07-15: Note that pyls has been deprecated. There\nis new fork of it called \u003ca href=\"https://github.com/python-lsp/python-lsp-server\" target=\"_blank\"\u003epylsp\u003c/a\u003e, which is maintained by the\ncommunity.\u003c/font\u003e\u003c/p\u003e\n\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2020/11/04/replace_deoplete_jedi_for_LSP/\" target=\"_blank\"\u003eolder post\u003c/a\u003e, I have shared how to set up\nauto-completion for vim-lsp with the help of deoplete. One annoyance is that I\ncan not use fuzzy matching for auto-completion: the completion items in the\npop-up completion menu seems to be selected base on prefix matching.\u003c/p\u003e","title":"Set up Fuzzy Completion for Vim-lsp","type":"posts"},{"content":"Shortly after I started using Neovim, I learned about the concept of text objects. For example, when the cursor is inside a pair of [], we can use ci] to change text inside them. This is definitely one of the greatest moments on my road of learning Vim. However, I haven\u0026rsquo;t really thought about how does text object really work.\nSince I use Markdown frequently, I often need to change URLs quickly. I thought it might be a good idea to define a text object for URL. Actually, there are already some plugins for it. However, they all rely on another plugin. Besides, I also want to learn how to write my own text objects from scratch. So I read some documentation and online posts. Now, I am able to create my own text objects with ease.\nHow to define new text objects # We can think of a text object as a piece of text. It is visually selected when we press the shortcut that defines it. When we want to define a new text objects, all we need to figure out is: how do we select it when we press the shortcut?\nTo select the desired text, it boils down to understanding two things:\nThe start and end position of this text object Is it character-wise or line-wise or even block-wise (I haven\u0026rsquo;t found block-wise useful, though)? Now, it is easy to define new text objects. All we do is to make sure that the desired text is selected when we press the shortcut. It does not really matter how do you achieve that with Vim script.\nFor example, if we want to define a text object for inner line (excluding blank space at head and tail of current line). Here is one such implementation:\nxnoremap il ^og_ onoremap il :normal vil\u0026lt;CR\u0026gt; In the above xnoremap, o is used to move cursor from on end of visual selection to another end, see :h v_o.\nText object for URL # To define a text object for URL, we need to first decide the complete URL text under cursor, find its start and end position in current line, then select the entire URL text in visual mode (char-wise not line-wise).\nvnoremap \u0026lt;silent\u0026gt; iu :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;URLTextObj()\u0026lt;CR\u0026gt; onoremap \u0026lt;silent\u0026gt; iu :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;URLTextObj()\u0026lt;CR\u0026gt; function! s:URLTextObj() abort if match(\u0026amp;runtimepath, \u0026#39;vim-highlighturl\u0026#39;) != -1 \u0026#34; Note that we use https://github.com/itchyny/vim-highlighturl to get the URL pattern. let url_pattern = highlighturl#default_pattern() else let url_pattern = expand(\u0026#39;\u0026lt;cfile\u0026gt;\u0026#39;) \u0026#34; Since expand(\u0026#39;\u0026lt;cfile\u0026gt;\u0026#39;) also works for normal words, we need to check if \u0026#34; this is really URL using heuristics, e.g., URL length. if len(url_pattern) \u0026lt;= 10 return endif endif \u0026#34; We need to find all possible URL on this line and their start, end idx. \u0026#34; Then find where current cursor is, and decide if cursor is on one of the \u0026#34; URLs. let line_text = getline(\u0026#39;.\u0026#39;) let url_infos = [] let [_url, _idx_start, _idx_end] = matchstrpos(line_text, url_pattern) while _url !=# \u0026#39;\u0026#39; let url_infos += [[_url, _idx_start+1, _idx_end]] let [_url, _idx_start, _idx_end] = matchstrpos(line_text, url_pattern, _idx_end) endwhile \u0026#34; echo url_infos \u0026#34; If no URL is found, do nothing. if len(url_infos) == 0 return endif let [start_col, end_col] = [-1, -1] \u0026#34; If URL is found, find if cursor is on it. let [buf_num, cur_row, cur_col] = getcurpos()[0:2] for url_info in url_infos \u0026#34; echo url_info let [_url, _idx_start, _idx_end] = url_info if cur_col \u0026gt;= _idx_start \u0026amp;\u0026amp; cur_col \u0026lt;= _idx_end let start_col = _idx_start let end_col = _idx_end break endif endfor \u0026#34; Cursor is not on a URL, do nothing. if start_col == -1 return endif \u0026#34; \u0026#34; now set the \u0026#39;\u0026lt; and \u0026#39;\u0026gt; mark call setpos(\u0026#34;\u0026#39;\u0026lt;\u0026#34;, [buf_num, cur_row, start_col, 0]) call setpos(\u0026#34;\u0026#39;\u0026gt;\u0026#34;, [buf_num, cur_row, end_col, 0]) normal! gv endfunction In the above code, we first find the end and start index of all URLs in current line. We then check if current cursor position is on one of those URLs. If that is true, we then set the '\u0026lt; and '\u0026gt; mark to the start and end index of this URL. Finally, we use gv to select this URL (see :h gv) .\nIn the above code, we use the URL pattern from a plugin called vim-highlighturl if it is installed or use expand(\u0026quot;\u0026lt;cfile\u0026gt;\u0026quot;) to get the URL under cursor. Note that expand(\u0026quot;\u0026lt;cfile\u0026gt;\u0026quot;) also works for non-URL text, the text object iu will also work for non-URL text. It is better to use the URL pattern provided by vim-highlighturl.\nThere is another shorter, but probably hacky way to define the URL text object:\nfunction! s:URLTextObj() abort \u0026#34; We need to find the start and end of URL, and select the entire URL string. \u0026#34; the following does not work well, since it also shows results even when \u0026#34; cursor is not on a valid URL. \u0026#34; let url = expand(\u0026#39;\u0026lt;cfile\u0026gt;\u0026#39;) \u0026#34; a better way to get url. let url = matchstr(getline(\u0026#39;.\u0026#39;), highlighturl#default_pattern()) normal! ^ \u0026#34; We should escape special patterns in url, see https://superuser.com/q/320398/736190, \u0026#34; see also https://stackoverflow.com/a/46235399/6064933 let url = escape(url, \u0026#39;/\u0026#39;) \u0026#34; I got the inspiration here: https://vi.stackexchange.com/a/2925/15292 silent! execute \u0026#34;normal! /\\\\V\u0026#34; . url . \u0026#34;/s\\\u0026lt;CR\u0026gt;v//e\\\u0026lt;CR\u0026gt;\u0026#34; endfunction Note that you are not required to define URL text object as iu, any valid LHS for mappings is acceptable. We use iu because it conforms to the naming style of native text objects.\nA text object for Markdown code blocks # For Markdown code blocks, it is necessary to define both inner and around text objects. We will use ic and ac to denote inner code block and around code block, respectively.\nHere is a sample implementation1:\nvnoremap \u0026lt;silent\u0026gt; ic :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;MdCodeBlockTextObj(\u0026#39;i\u0026#39;)\u0026lt;CR\u0026gt; onoremap \u0026lt;silent\u0026gt; ic :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;MdCodeBlockTextObj(\u0026#39;i\u0026#39;)\u0026lt;CR\u0026gt; vnoremap \u0026lt;silent\u0026gt; ac :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;MdCodeBlockTextObj(\u0026#39;a\u0026#39;)\u0026lt;CR\u0026gt; onoremap \u0026lt;silent\u0026gt; ac :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;MdCodeBlockTextObj(\u0026#39;a\u0026#39;)\u0026lt;CR\u0026gt; function! s:MdCodeBlockTextObj(type) abort \u0026#34; the parameter type specify whether it is inner text objects or around \u0026#34; text objects. \u0026#34; Move the cursor to the end of line in case that cursor is on the opening \u0026#34; of a code block. Actually, there are still issues if the cursor is on the \u0026#34; closing of a code block. In this case, the start row of code blocks would \u0026#34; be wrong. Unless we can match code blocks, it is not easy to fix this. normal! $ let start_row = searchpos(\u0026#39;\\s*```\u0026#39;, \u0026#39;bnW\u0026#39;)[0] let end_row = searchpos(\u0026#39;\\s*```\u0026#39;, \u0026#39;nW\u0026#39;)[0] let buf_num = bufnr() \u0026#34; For inner code blocks, remove the start and end line containing backticks. if a:type ==# \u0026#39;i\u0026#39; let start_row += 1 let end_row -= 1 endif \u0026#34; echo a:type start_row end_row call setpos(\u0026#34;\u0026#39;\u0026lt;\u0026#34;, [buf_num, start_row, 1, 0]) call setpos(\u0026#34;\u0026#39;\u0026gt;\u0026#34;, [buf_num, end_row, 1, 0]) execute \u0026#39;normal! `\u0026lt;V`\u0026gt;\u0026#39; endfunction Since code blocks are line-wise inherently, we only need to decide its start and end row. With this info, we can set the '\u0026lt; and '\u0026gt; mark. Then we can easily select the desire text. This time, we use visual-line mode, since it makes more sense to select code blocks in visual-line mode.\nConclusion # In this post, I have introduced how does text object work and how to define your own text objects. The most important part is to know your text object well and find ways to visually select it when the corresponding shortcut is pressed.\nReferences # vim wiki: create new text objects Is there a text object for current line? Is there a text object for the entire buffer? A plugin to create user text objects easily: https://github.com/kana/vim-textobj-user https://25.wf/posts/2020-09-04-vim-markdown-text-object.html https://vimways.org/2018/transactions-pending/ Other implementations can be found in this issue.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 November 2020","externalUrl":null,"permalink":"/2020/11/15/nvim_text_objects/","section":"Posts","summary":"\u003cp\u003eShortly after I started using \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003e, I learned about the concept of \u003ca href=\"https://neovim.io/doc/user/motion.html#text-objects\" target=\"_blank\"\u003etext objects\u003c/a\u003e.\nFor example, when the cursor is inside a pair of \u003ccode\u003e[]\u003c/code\u003e, we can use \u003ccode\u003eci]\u003c/code\u003e to\nchange text inside them. This is definitely one of the greatest moments on my\nroad of learning Vim. However, I haven\u0026rsquo;t really thought about how does text\nobject really work.\u003c/p\u003e","title":"A Beginner's Guide on Creating Your Own Text Objects from Scratch in Neovim/Vim","type":"posts"},{"content":"","date":"15 November 2020","externalUrl":null,"permalink":"/tags/text-object/","section":"Tags","summary":"","title":"Text-Object","type":"tags"},{"content":"This is the 8th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ Use Neovim as man pager # The default pager used by man command on *nix lacks syntax highlighting and is not good for reading, searching. Why not turn nvim into the man pager? Just add the following setting to your shell config file:\nif [[ \u0026#34;$(command -v nvim)\u0026#34; ]]; then export EDITOR=\u0026#39;nvim\u0026#39; export MANPAGER=\u0026#39;nvim +Man!\u0026#39; export MANWIDTH=999 fi See also :h man.vim.\nRef:\nhttps://github.com/neovim/neovim/issues/9156 Close other windows quickly? # When we are in a certain window, we may want to close all other windows. We may go to the other windows and close them with :quit. It is a bit cumbersome.\nThe :only command is a much nicer way. It will close all the other windows except the one we are in. There is also an equivalent shortcut: \u0026lt;C-W\u0026gt; o (that is, Ctrl-W, followed by o).\nRef:\nCancel split window in Vim Execute a macro in several lines. # Macro is a powerful way to edit texts with similar structures. To execute a macro on several lines, we can use a line range if the lines are continuous. For example, execute macro a for line 10 to 15, use:\n10,15normal! @a Or we can visually select the lines, and run the following command (note that if you select these lines, and then press :, Nvim will insert '\u0026lt;,'\u0026gt; automatically):\n:\u0026#39;\u0026lt;,\u0026#39;\u0026gt;normal! @a To execute a macro only on lines matching a certain pattern, run the following command:\n:g/pattern/normal! @a Ref:\nIn Vim, how do I apply a macro to a set of lines? Copy URL under cursor into a register? # We can use \u0026lt;cfile\u0026gt; with expand() function get the URL under cursor (see :h \u0026lt;cfile\u0026gt;). To copy the URL to unnamed register, use the following command:\nlet @\u0026#34; = expand(\u0026#39;\u0026lt;cfile\u0026gt;\u0026#39;) The above method is not perfect, since expand('\u0026lt;cfile\u0026gt;') will also give you results even if your cursor is on a normal words (non-URL).\nA more sophisticated method would be using actual URL patterns and search the current line to get a valid URL. A good URL pattern is provided by plugin vim-highlighturl via highlighturl#default_pattern() method. With this knowledge, here is a more error-proof approach to get the current URL:\nlet @\u0026#34; = matchstr(getline(\u0026#39;.\u0026#39;), highlighturl#default_pattern()) Ref:\nHow do I copy the URL under the cursor? Get diff between two buffers or files # If we have two different versions of the same file and we want to find the differences between them, how do we do it inside Neovim?\nSuppose the two files are manual-v1.md, manual-v2.md, here is how to compare them inside Neovim.\nIf you haven\u0026rsquo;t start Nvim, you can run the following command:\nnvim -d manual-v1.md manual-v2.md This will start nvim in diff mode.\nIf you are already inside Neovim, first open manual-v1.md (:e manual-v1.md), then open manual-v2.md in a vertical split window (:vs manual-v2.md)1. Finally, run the following command to start comparing:\n:windo diffthis Ref:\nTake diff of two vertical opened windows in Vim Of course, you can use a horizontal split window, but vertical split window is better for comparing the two files, IMO.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 November 2020","externalUrl":null,"permalink":"/2020/11/11/nifty_nvim_techniques_s8/","section":"Posts","summary":"\u003cp\u003eThis is the 8th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 8","type":"posts"},{"content":"Some notes on using regular expressions in Python.\nEscape special characters # Some ASCII characters have special meaning in regex. If you want to match them literally in your pattern, you need to escape them. For example, if we want to match (abc) literally, we need to write it as \\(abc\\). Doing this manually is tedious and error-prone.\nA better way is using re.escape() instead of doing it manually.\nRef\nMatch literal parentheses in regex. The meaning of re.ASCII # re.ASCII only affects what characters are in a character class. It doesn\u0026rsquo;t restrict the searched strings in any way.\nRef:\nPython regex: pattern with re.ASCII can still match unicode characters? Regex search is slow? # If we have a lot of regex patterns, it is better to compile them using re.compile(). It will boost performance significantly.\nRef:\nIs it worth using Python\u0026rsquo;s re.compile? Using compiled regex in re.search() is slow. # I accidentally use compiled regex pattern in re.search() and find that it is slower than normal string patterns. To verify, see the below code:\nIn [1]: test = \u0026#39;sdf dfads dfads fsdfdas jkjlajdfsa adf\u0026#39; In [2]: p = \u0026#39;sdf\u0026#39; In [3]: import re In [4]: %timeit re.search(p, test) 1.17 Âµs Â± 2.49 ns per loop (mean Â± std. dev. of 7 runs, 1000000 loops each) In [5]: cp = re.compile(p) In [6]: %timeit cp.search(test) 381 ns Â± 0.315 ns per loop (mean Â± std. dev. of 7 runs, 1000000 loops each) In [7]: %timeit re.search(cp, test) 1.75 Âµs Â± 7.24 ns per loop (mean Â± std. dev. of 7 runs, 1000000 loops each) In the above code, in terms of execution speed, cp.search(test) (using compiled regex) is the fastest, re.search(p, test) (using the normal string) is the second, and re.search(cp, test) (using the compiled regex pattern in re.search) turns out to be the slowest.\nIn fact, when the pattern p is more complex, the time gap between re.search(p, test) and re.search(cp, test) is even larger.\nThis has something to do with how regex search is implemented in Python re package. If you use re.search(p, some_str), re package will try to compile the p string under the hood and cache it in an internal dict using its hash values if this pattern hasn\u0026rsquo;t been stored yet. If the pattern has been stored in the cache, re will use the compiled version.\nThe slowness for compiled pattern using re.search() is mainly caused by the calculating the hash key. Every time you call the re package with this compiled pattern, it will calculate the hash key for this pattern, consuming a lot of time. There is a more detailed discussion here.\nReferences # Show regex match visually: https://regex101.com/ Is it worth using Python\u0026rsquo;s re.compile? ","date":"9 November 2020","externalUrl":null,"permalink":"/2020/11/09/python_regex_notes/","section":"Posts","summary":"\u003cp\u003eSome notes on using regular expressions in Python.\u003c/p\u003e","title":"Notes on Using Python Regex Package","type":"posts"},{"content":"","date":"8 November 2020","externalUrl":null,"permalink":"/tags/lisp/","section":"Tags","summary":"","title":"Lisp","type":"tags"},{"content":"A quick summary on how to set up Lisp Development environment in Neovim.\nFirst we need to install a Lisp distribution. sbcl is a good start.\nInstall sbcl # Install using package manager # On Linux, we can install sbcl using package manager:\nsudo apt update \u0026amp;\u0026amp; sudo apt install sbcl # or use the following for CentOS # yum install sbcl Install binary release # We can also install a binary release if we do not have root right. All binary releases can be found here. One caveat is that if you install the latest version of sbcl and run it, it may not run due to dependency issues.\nFor example, on my system (CentOS 7.4), running sbcl fails since it requires a newer libc.so. It complains that:\nsbcl: /lib64/libc.so.6: version `GLIBC_2.28\u0026rsquo; not found (required by sbcl)\nThe following steps are tested on CentOS 7.4 and works as expected.\nwget https://master.dl.sourceforge.net/project/sbcl/sbcl/1.4.14/sbcl-1.4.14-x86-64-linux-binary.tar.bz2 tar xvf sbcl-1.4.14-x86-64-linux cd sbcl-1.4.14-x86-64-linux INSTALL_ROOT=$HOME/tools/sbcl sh install.sh Also update PATH and SBCL_HOME env variable\nexport PATH=\u0026#34;$HOME/tools/sbcl/bin:$PATH\u0026#34; export SBCL_HOME=\u0026#34;$HOME/tools/sbcl/lib/sbcl\u0026#34; Install quicklisp # Quicklisp is a package manager for Lisp. Here is how to install it.\nOn the command line:\ncurl -O https://beta.quicklisp.org/quicklisp.lisp sbcl --load quicklisp.lisp Then inside REPL, run:\n(quicklisp-quickstart:install :path \u0026#34;~/.quicklisp\u0026#34;) This will install quicklisp under ~/.quicklisp.\nAlso inside REPL, run:\n(ql:add-to-init-file) This will load quicklisp every time you start your Lisp.\nFix arrow key issues # By default, inside sbcl, we can not use up and down arrow keys to navigate the history. There is also no support for tab completion. We can use the package linedit to fix this.\nInside REPL, run (ql:quickload \u0026quot;linedit\u0026quot;) to install this package. Add the following settings to ~/.sbclrc to load linedit by default when starting sbcl:\n;;; Check for --no-linedit command-line option. (if (member \u0026#34;--no-linedit\u0026#34; sb-ext:*posix-argv* :test \u0026#39;equal) (setf sb-ext:*posix-argv* (remove \u0026#34;--no-linedit\u0026#34; sb-ext:*posix-argv* :test \u0026#39;equal)) (when (interactive-stream-p *terminal-io*) (require :sb-aclrepl) (require :linedit) (funcall (intern \u0026#34;INSTALL-REPL\u0026#34; :linedit) :wrap-current t))) Ref:\nhttps://common-lisp.net/project/linedit/\nInstall vlime # Finally, install the Vim plugin vlime using vim-plug:\nPlug \u0026#39;vlime/vlime\u0026#39;, {\u0026#39;rtp\u0026#39;: \u0026#39;vim/\u0026#39;} Then run sbcl sbcl --load path/to/vlime_plugin/vlime/lisp/start-vlime.lisp to start the vlime server. The actual path depends on where you install your plugins.\nSome handy shortcuts provided by Vlime:\n\\cc: create a server connection. \\cs: choose a server connection. \\ss: send the current line to REPL for evaluation. \\i: toggle interactive mode (in interactive mode, press \u0026lt;CR\u0026gt; will execute the code) References # http://www.sbcl.org/getting.html quicklisp https://www.quicklisp.org/beta/ https://lispcookbook.github.io/cl-cookbook/getting-started.html ","date":"8 November 2020","externalUrl":null,"permalink":"/2020/11/08/nvim_lisp_env_setup/","section":"Posts","summary":"\u003cp\u003eA quick summary on how to set up Lisp Development environment in Neovim.\u003c/p\u003e","title":"Set Up Lisp Dev Environment in Neovim","type":"posts"},{"content":"To profile Python code line by line, we can use line_profiler1.\nHow to install # Linux/macOS # Use pip to install this package:\npip install line_profiler Windows # It is easier to install using conda, since it does not require building the package from source:\n# if you use pip on Windows, you must have Visual Studio to build the package. conda install line_profiler How to profile? # Line profiler has a command line execute named kernprof. Annotate the function we want to profile with @profile annotation. Then run the following command on the command line:\nkernprof -v -l -u 1e-3 test_script.py By default, kernprof will only generate the profile result file, but do not print the result. The name of result file is the original Python script name suffixed with lprof. To check the profile result, we need to run line_profiler again:\npython -m line_profiler test_script.py.lprof The -v option tells kernprof to show the profile result. The -l option will print the profile time for each line for the given function. The -u option specify the unit of measure, which is 1e-6 seconds by default.\nThe command line options to test_script.py can be followed after it. Just like you call python test_script.py.\nReferences # https://jakevdp.github.io/PythonDataScienceHandbook/01.07-timing-and-profiling.html How can I profile Python code line-by-line? using line_profiler in another way: https://lothiraldan.github.io/2018-02-18-python-line-profiler-without-magic/ This is a fork of original line_profiler repo. The original repo is not maintained any more.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"6 November 2020","externalUrl":null,"permalink":"/2020/11/06/profile_python_line_profiler/","section":"Posts","summary":"\u003cp\u003eTo profile Python code line by line, we can use \u003ca href=\"https://github.com/pyutils/line_profiler\" target=\"_blank\"\u003eline_profiler\u003c/a\u003e\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\u003c/p\u003e","title":"Profiling Python Code with line_profiler","type":"posts"},{"content":"Update 2021-07-15: Note that pyls has been deprecated. There is new fork of it called pylsp, which is maintained by the community.\nIn my previous post, I have go over the basic setup to make vim-lsp work. However, I haven\u0026rsquo;t touch on an important part of writing code: linting. It turns out that configure it correctly is harder than I thought.\nI found the documentation of pyls to be vague and incomplete. It took me quite a few hours in order to understand how to configure flake8 correctly for pyls.\nPyls is a combination of different packages to form a unified workable language server. Flake8 is like a driver package for pycodestyle (former known as pep8 and got renamed) and pyflakes. In simple words, it uses pyflakes and pycodestyle and a few other packages to check your code for possible style issues and syntax errors.\nBy default, pyls disables flake8, and use pycodestyle and pyflakes for code checking directly. I do not want to configure two packages, I just want to configure flake8 for simplicity\u0026rsquo;s sake.\nFrom here and the actual code, we can see that flake8 is indeed disabled. Also, if we use flake8, it makes sense to disable pycodestyle and pyflakes, otherwise we will get duplicated diagnostic messages.\nif executable(\u0026#39;pyls\u0026#39;) \u0026#34; pip install python-language-server au User lsp_setup call lsp#register_server({ \\ \u0026#39;name\u0026#39;: \u0026#39;pyls\u0026#39;, \\ \u0026#39;cmd\u0026#39;: {server_info-\u0026gt;[\u0026#39;pyls\u0026#39;]}, \\ \u0026#39;allowlist\u0026#39;: [\u0026#39;python\u0026#39;], \\ \u0026#39;workspace_config\u0026#39;: { \\ \u0026#39;pyls\u0026#39;: \\ {\u0026#39;configurationSources\u0026#39;: [\u0026#39;flake8\u0026#39;], \\ \u0026#39;plugins\u0026#39;: {\u0026#39;flake8\u0026#39;: {\u0026#39;enabled\u0026#39;: v:true}, \\ \u0026#39;pyflakes\u0026#39;: {\u0026#39;enabled\u0026#39;: v:false}, \\ \u0026#39;pycodestyle\u0026#39;: {\u0026#39;enabled\u0026#39;: v:false}, \\ } \\ } \\ }}) endif This is the correct config for pyls to use flake8 for linting, period.\nconfig location # According to flake8 documentation, the location of flake8 config varies based on systems, on Linux and Mac, it is ~/.config/flake8 , and for Windows, it is $HOME\\.flake8 ($HOME is like C:\\\\Users\\sigmavirus24). The content should be in INI format:\n[flake8] max-line-length = 100 max-complexity = 30 ignore = # missing whitespace around arithmetic operator E226, # line break before/after binary operator W503, W504, # expected 1 blank line, found 0 E301,E302, To suppress a single warning, it is also handy to add # noqa: F841-like (change the code to the actual code you want to use) comment string to suppress it.\nReferences # https://github.com/palantir/python-language-server/issues/190 https://github.com/palantir/python-language-server/pull/656 ","date":"5 November 2020","externalUrl":null,"permalink":"/2020/11/05/pyls_flake8_setup/","section":"Posts","summary":"\u003cp\u003e\u003cfont color=\"red\"\u003eUpdate 2021-07-15: Note that pyls has been deprecated. There\nis new fork of it called \u003ca href=\"https://github.com/python-lsp/python-lsp-server\" target=\"_blank\"\u003epylsp\u003c/a\u003e, which is maintained by the\ncommunity.\u003c/font\u003e\u003c/p\u003e\n\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2020/11/04/replace_deoplete_jedi_for_LSP/\" target=\"_blank\"\u003eprevious post\u003c/a\u003e, I have go over the basic setup to make vim-lsp work.\nHowever, I haven\u0026rsquo;t touch on an important part of writing code: linting. It\nturns out that configure it correctly is harder than I thought.\u003c/p\u003e","title":"Flake8 Config in Pyls for Code Linting.","type":"posts"},{"content":"Update 2021-07-15: Note that pyls has been deprecated. There is new fork of it called pylsp, which is maintained by the community.\nAfter using deoplete along with deoplete-jedi for more than two years, I have finally decided to try something new for code completion. Yeah, you guess it, the Language Server Protocol (LSP in short).\nLSP is not new. It has been around for several years. Especially with the official LSP support in Neovim core, I think it is time to go for LSP.\nTo use LSP, there are two parts involved. First, we need to install a language server for the language we use. Second, we need to use a plugin that acts as an LSP client that communicates with this server.\nThere are quite a few LSP clients out there. Some of the most popular ones are:\ncoc.nvim vim-lsp LanguageClient-neovim vim-lsc Neovim built-in LSP client (you need to install nvim-lspconfig for easier configuration) I want something simple to set up, powerful, and yet not too monolithic. So I choose vim-lsp for a try. Here is how to configure it for Python auto-completion and more.\nFirst, we need to install a language server for Python. pyls is good choice. First, install pyls:\npip install \u0026#34;python-language-server[all]\u0026#34; After that, we need to install several plugins and configure it a bit:\nPlug \u0026#39;prabirshrestha/vim-lsp\u0026#39; Plug \u0026#39;Shougo/deoplete.nvim\u0026#39; Plug \u0026#39;lighttiger2505/deoplete-vim-lsp\u0026#39; \u0026#34; settings for pyls if executable(\u0026#39;pyls\u0026#39;) \u0026#34; pip install python-language-server au User lsp_setup call lsp#register_server({ \\ \u0026#39;name\u0026#39;: \u0026#39;pyls\u0026#39;, \\ \u0026#39;cmd\u0026#39;: {server_info-\u0026gt;[\u0026#39;pyls\u0026#39;]}, \\ \u0026#39;allowlist\u0026#39;: [\u0026#39;python\u0026#39;], \\ }) endif function! s:on_lsp_buffer_enabled() abort \u0026#34; use omnifunc if you are fine with it. \u0026#34; setlocal omnifunc=lsp#complete if exists(\u0026#39;+tagfunc\u0026#39;) | setlocal tagfunc=lsp#tagfunc | endif \u0026#34; some mappings to use, tweak as you wish. nmap \u0026lt;buffer\u0026gt; gd \u0026lt;plug\u0026gt;(lsp-definition) nmap \u0026lt;buffer\u0026gt; gr \u0026lt;plug\u0026gt;(lsp-references) nmap \u0026lt;buffer\u0026gt; gi \u0026lt;plug\u0026gt;(lsp-implementation) nmap \u0026lt;buffer\u0026gt; gt \u0026lt;plug\u0026gt;(lsp-type-definition) nmap \u0026lt;buffer\u0026gt; \u0026lt;leader\u0026gt;rn \u0026lt;plug\u0026gt;(lsp-rename) nmap \u0026lt;buffer\u0026gt; [g \u0026lt;Plug\u0026gt;(lsp-previous-diagnostic) nmap \u0026lt;buffer\u0026gt; ]g \u0026lt;Plug\u0026gt;(lsp-next-diagnostic) nmap \u0026lt;buffer\u0026gt; K \u0026lt;plug\u0026gt;(lsp-hover) endfunction augroup lsp_install au! \u0026#34; call s:on_lsp_buffer_enabled only for languages that has the server registered. autocmd User lsp_buffer_enabled call s:on_lsp_buffer_enabled() augroup END By default, vim-lsp does not provide auto-completion feature, you need to use omnifunc and trigger completion yourself. If you like this, uncomment the following line in above config:\n\u0026#34; setlocal omnifunc=lsp#complete Then trigger completion via CTRL-X_CTRL-O (Ctrl-X followed by Ctrl-O) in insert mode.\nPlugin deoplete.nvim and lighttiger2505/deoplete-vim-lsp are used to provide IDE-like auto-completion feature.\nThere are other plugins that provide auto-completion support based on vim-lsp, for example, asyncomplete.vim along with asyncomplete-lsp.vim.\nPlug \u0026#39;prabirshrestha/asyncomplete.vim\u0026#39; Plug \u0026#39;prabirshrestha/asyncomplete-lsp.vim\u0026#39; vim-lsp has a lot of options to tweak, some of the configs are:\n\u0026#34; whether to enable diagnostics for vim-lsp (we may want to use ALE for other \u0026#34; plugins for that. let g:lsp_diagnostics_enabled = 1 \u0026#34; show diagnostic signs let g:lsp_signs_enabled = 1 let g:lsp_signs_error = {\u0026#39;text\u0026#39;: \u0026#39;âœ—\u0026#39;} let g:lsp_signs_warning = {\u0026#39;text\u0026#39;: \u0026#39;!\u0026#39;} let g:lsp_highlights_enabled = 0 \u0026#34; Do not use virtual text, they are far too obtrusive. let g:lsp_virtual_text_enabled = 0 \u0026#34; echo a diagnostic message at cursor position let g:lsp_diagnostics_echo_cursor = 0 \u0026#34; show diagnostic in floating window let g:lsp_diagnostics_float_cursor = 1 \u0026#34; whether to enable highlight a symbol and its references let g:lsp_highlight_references_enabled = 1 let g:lsp_preview_max_width = 80 See :h vim-lsp for more details.\nAfter all these settings, we should get a Python auto-completion, diagnostics etc. using LSP.\n","date":"4 November 2020","externalUrl":null,"permalink":"/2020/11/04/replace_deoplete_jedi_for_lsp/","section":"Posts","summary":"\u003cp\u003e\u003cfont color=\"red\"\u003eUpdate 2021-07-15: Note that pyls has been deprecated. There is new fork of it called \u003ca href=\"https://github.com/python-lsp/python-lsp-server\" target=\"_blank\"\u003epylsp\u003c/a\u003e, which is maintained by the community.\u003c/font\u003e\u003c/p\u003e\n\u003cp\u003eAfter using deoplete along with deoplete-jedi for more than two years, I have\nfinally decided to try something new for code completion. Yeah, you guess it,\nthe \u003ca href=\"https://langserver.org/\" target=\"_blank\"\u003eLanguage Server Protocol\u003c/a\u003e (LSP in short).\u003c/p\u003e","title":"Replace Deoplete-jedi with LSP Finally","type":"posts"},{"content":"ä¸€ä¸ªæœˆä¹‹å‰ï¼Œå°±å‘ç°è‡ªå·±çš„åšå®¢ç”¨çš„è®¡æ•°ç³»ç»Ÿâ€œä¸è’œå­â€å¯¹æ¯ç¯‡åšå®¢è®¿é—®é‡çš„ç»Ÿè®¡å‡ºç°äº†é—®é¢˜ï¼Œåˆšå†™çš„åšæ–‡ï¼Œè®¿é—®é‡éƒ½æ˜¯å‡ åä¸‡ï¼Œæ˜¾ç„¶ä¸æ­£å¸¸ï¼Œä½†æ˜¯å¾ˆç¥å¥‡ï¼Œæ•´ä¸ªåšå®¢çš„è®¿é—®é‡ç»Ÿè®¡ä¼¼ä¹å¹¶æ²¡æœ‰é—®é¢˜ã€‚å½“æ—¶ä¹Ÿåœ¨ v2ex å‘å¸–å’¨è¯¢äº†ï¼Œä¸è¿‡æ²¡æœ‰äººç»™å‡ºåˆç†çš„ç­”æ¡ˆï¼Œä»Šå¤©å¶ç„¶é—´å‘ç°äº†åŸå› ï¼Œå‘æ–‡è®°å½•ã€‚\nåŸå›  # å‡ºç°è¿™ä¸ªåŸå› ï¼Œå’Œ Chrome 85 ç‰ˆæœ¬ Referrer Policy æ›´æ”¹æœ‰å…³ã€‚ä»€ä¹ˆæ˜¯ Referrerï¼Œç®€å•ç†è§£ï¼Œå°±æ˜¯è¯·æ±‚ Web æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥åœ¨ HTTP Request çš„è¯·æ±‚å¤´ (header) ä¸­åŠ ä¸Šå½“å‰é¡µé¢çš„ URLï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨æµè§ˆæŸä¸ªåšå®¢é¡µé¢ï¼Œéœ€è¦åŠ è½½ä¸€äº›å›¾ç‰‡ï¼Œä»æœåŠ¡å™¨è¯·æ±‚è¿™äº›å›¾ç‰‡æ—¶ï¼Œreferrer å°±æ˜¯å½“å‰çš„åšå®¢é¡µé¢ URLã€‚ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œreferrer å¯èƒ½ä¼šæš´éœ²è¯·æ±‚æ¥æºçš„æŸäº›ä¿¡æ¯æˆ–è€…éšç§ï¼Œæœ‰ä¸€å®šçš„éšç§æˆ–å®‰å…¨é£é™©ã€‚ä¹‹å‰ç‰ˆæœ¬çš„ Chrome æµè§ˆå™¨ï¼Œå¦‚æœç½‘ç«™æ²¡æœ‰æŒ‡å®šè‡ªå·±çš„ Referrer Policyï¼Œé‚£ä¹ˆ Chrome é»˜è®¤ policy æ˜¯ no-referrer-when-downgradeï¼Œåœ¨ Chrome 85 ç‰ˆæœ¬ä¸­ï¼Œä¸ºäº†ä¿æŠ¤ç”¨æˆ·çš„éšç§ï¼Œé»˜è®¤çš„ Referrer Policy åˆ™å˜æˆäº† strict-origin-when-cross-originã€‚\nä¸è¿‡è¿™åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸReferrer Policy ç”¨æ¥æ§åˆ¶å½“å‰ç½‘ç«™è¯·æ±‚ç›®æ ‡ç½‘ç«™æ—¶ï¼Œ referer è¿™ä¸ªå­—æ®µå‘é€çš„å…·ä½“ä¿¡æ¯ï¼Œå¦‚æœ Referrer Policy ä¸ºï¼š\nno-referrer-when-downgrade: å½“ä¸¤ä¸ªç½‘ç«™çš„ http åè®®å®‰å…¨ç­‰çº§ç›¸å½“ï¼Œæˆ–è€…ç›®çš„ç½‘ç«™å®‰å…¨åè®®ç­‰çº§é«˜äºå½“å‰ç½‘ç«™(HTTP \u0026ndash;\u0026gt; HTTP, HTTPS \u0026ndash;\u0026gt; HTTPS, HTTP \u0026ndash;\u0026gt; HTTPS)ï¼Œ referer å°†ä¼šåŒ…å«æºç½‘ç«™çš„åŸŸåï¼Œè·¯å¾„ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²ï¼›å¦‚æœç›®çš„ç½‘ç«™å®‰å…¨åè®®ç­‰çº§ä½äºæºç½‘ç«™ (HTTPS \u0026ndash;\u0026gt; HTTP)ï¼Œå°†ä¸ä¼šå‘é€è¿™äº›ä¿¡æ¯ã€‚ strict-origin-when-cross-originï¼š åªæœ‰å½“åšåŒä¸€åŸŸåè¯·æ±‚æ—¶ (æºç½‘å€å’Œç›®æ ‡ç½‘å€æ˜¯åŒä¸€åŸŸåï¼‰ï¼Œæ‰å‘é€åŸŸåï¼Œè·¯å¾„å’Œè¯·æ±‚å­—ç¬¦ä¸²ï¼Œå½“ä¸¤ä¸ªç½‘ç«™å®‰å…¨åè®®ç›¸å½“æ—¶ï¼Œå‘é€æºç½‘ç«™çš„åŸŸå(æ²¡æœ‰å…·ä½“è·¯å¾„ä¿¡æ¯å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²)ï¼Œå¦‚æœç›®æ ‡ç½‘ç«™å®‰å…¨åè®®ç­‰çº§ä½äºæºç½‘ç«™ï¼Œä¸å‘é€ header ä¿¡æ¯ã€‚ ä¸è’œå­ç»Ÿè®¡åšå®¢æ–‡ç« è®¿é—®é‡å°±æ˜¯é€šè¿‡ referer æ¥è®¡ç®—çš„ï¼Œé€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œå¦‚æœ Referrer Policy æ˜¯ strict-origin-when-cross-originï¼Œä¸è’œå­æ¥æ”¶åˆ°çš„åªæœ‰åšå®¢çš„åŸŸåï¼Œæ²¡æœ‰æ–‡ç« çš„å…·ä½“è·¯å¾„ï¼Œæ‰€ä»¥å…·ä½“æŸä¸ªæ–‡ç« çš„ PV ç»Ÿè®¡ä¼šå‡ºç°é”™è¯¯ã€‚ä¾‹å¦‚ è¿™ç¯‡æ–‡ç« ï¼Œå‘é€ç»™ä¸è’œå­çš„ referer åªæ˜¯ https://jdhao.github.ioã€‚\næ‰€ä»¥ï¼Œè¦æƒ³æ­£ç¡®ç»Ÿè®¡åšå®¢æ¯ç¯‡æ–‡ç« çš„ PVï¼Œå¯ä»¥æŠŠ Referrer Policy è®¾ç½®ä¸º no-referrer-when-downgradeã€‚\nHugo even ä¸»é¢˜ä¸­å¦‚ä½•æ›´æ”¹ # æˆ‘ç›®å‰ä½¿ç”¨çš„ Hugo-even è¿™ä¸ªä¸»é¢˜ï¼Œæ›´æ”¹å¾ˆç®€å•ï¼Œè¿›å…¥ even ä¸»é¢˜çš„æ ¹ç›®å½•ï¼Œ æ‰¾åˆ° layouts/partials/head.html æ–‡ä»¶ä¸­å…³äºä¸è’œå­çš„éƒ¨åˆ†ï¼ŒæŠŠä¸‹é¢çš„ä»£ç \n{{- if .Site.Params.busuanzi.enable -}} \u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; {{- end -}} æ”¹æˆ\n{{- if .Site.Params.busuanzi.enable -}} \u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;meta name=\u0026#34;referrer\u0026#34; content=\u0026#34;no-referrer-when-downgrade\u0026#34;\u0026gt; {{- end -}} ç„¶åé‡æ–°ç”Ÿæˆ Hugo åšå®¢å³å¯ã€‚\niPad ä¸Šæ–‡ç« è®¡æ•°é—®é¢˜ # æœ‰äººåé¦ˆï¼Œå³ä½¿ç”¨äº†ä¸Šé¢çš„è®¾ç½®ï¼Œåœ¨ iPad ä¸Šç”¨ Safariï¼ŒChromeï¼ŒFirefox æµè§ˆå™¨æŸ¥çœ‹æ–‡ç« çš„é˜…è¯»é‡ï¼Œè¿˜æ˜¯ä¸æ­£ç¡®ã€‚\nç»è¿‡æœç´¢ï¼Œå‘ç°åŸå› æ˜¯ iPad ä¸Šæµè§ˆå™¨é»˜è®¤éƒ½æ˜¯é˜»æ­¢ cross-site tracking çš„ï¼Œä½ åŠ äº† referrer meta tag ä¹Ÿæ²¡æœ‰ç”¨ã€‚éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å…è®¸ cross-site tracking æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚\nSafari è®¾ç½®ï¼Œåœ¨ â€œPRIVACY \u0026amp; SECURITYâ€ éƒ¨åˆ†ï¼Œå…³æ‰ Prevent Cross-Site Tracking å³å¯ã€‚ å¯¹äº Chrome å’Œ Firefox æµè§ˆå™¨ï¼Œè®¾ç½®é‡Œé¢ï¼Œæ‰“å¼€ Allow Cross-Website Tracking å³å¯ã€‚ å‚è€ƒ\nSafari mobile and desktop are hiding full referrer URL: why?: https://stackoverflow.com/a/62860372/6064933 https://www.simoahava.com/privacy/intelligent-tracking-prevention-ios-14-ipados-14-safari-14/ ","date":"31 October 2020","externalUrl":null,"permalink":"/2020/10/31/busuanzi_pv_count_error/","section":"Posts","summary":"\u003cp\u003eä¸€ä¸ªæœˆä¹‹å‰ï¼Œå°±å‘ç°è‡ªå·±çš„åšå®¢ç”¨çš„è®¡æ•°ç³»ç»Ÿ\u003ca href=\"https://busuanzi.ibruce.info/\" target=\"_blank\"\u003eâ€œä¸è’œå­â€\u003c/a\u003eå¯¹æ¯ç¯‡åšå®¢è®¿é—®é‡çš„ç»Ÿè®¡å‡ºç°äº†é—®é¢˜ï¼Œåˆšå†™çš„åšæ–‡ï¼Œè®¿é—®é‡éƒ½æ˜¯å‡ åä¸‡ï¼Œæ˜¾ç„¶ä¸æ­£å¸¸ï¼Œä½†æ˜¯å¾ˆç¥å¥‡ï¼Œæ•´ä¸ªåšå®¢çš„è®¿é—®é‡ç»Ÿè®¡ä¼¼ä¹å¹¶æ²¡æœ‰é—®é¢˜ã€‚å½“æ—¶ä¹Ÿåœ¨ \u003ca href=\"https://v2ex.com/t/707052#reply7\" target=\"_blank\"\u003ev2ex\u003c/a\u003e å‘å¸–å’¨è¯¢äº†ï¼Œä¸è¿‡æ²¡æœ‰äººç»™å‡ºåˆç†çš„ç­”æ¡ˆï¼Œä»Šå¤©å¶ç„¶é—´\u003ca href=\"https://github.com/flysnow-org/maupassant-hugo/pull/121\" target=\"_blank\"\u003eå‘ç°äº†åŸå› \u003c/a\u003eï¼Œå‘æ–‡è®°å½•ã€‚\u003c/p\u003e","title":"è§£å†³ä¸è’œå­ (busuanzi) æ–‡ç« è®¡æ•°å‡ºé”™é—®é¢˜","type":"posts"},{"content":"åœ¨ YouTube ä¸Šçœ‹åˆ°äº†æ¨æŒ¯å®åœ¨ 2006 å¹´çš„ä¸€ä¸ªé‡‡è®¿ï¼ŒæŒºä¸é”™ã€‚\næ¨æŒ¯å® 1922 å¹´å‡ºç”Ÿï¼Œå°æ—¶å€™è·Ÿç€çˆ¶æ¯åœ¨åŒ—äº¬ç”Ÿæ´»ï¼Œåœ¨æ¸…åå›­å‘†äº† 7 å¹´æ—¶é—´ï¼Œ1937 å¹´æŠ—æˆ˜çˆ†å‘ä»¥åéšçˆ¶æ¯åˆ°æ˜†æ˜ï¼Œåœ¨è¥¿å—è”å¤§ä¸Šå®Œäº†å¤§å­¦å’Œç ”ç©¶ç”Ÿã€‚\n1945 å¹´è€ƒå–äº†å…¬è´¹ç•™ç¾ï¼Œå½“æ—¶ä¸­å›½åˆ°æ²¡è¿‡æ²¡æœ‰èˆªçº¿ï¼Œä»–ä»ä¸­å›½åˆ°å°åº¦çš„åŠ å°”å„ç­”ï¼Œåœ¨åŠ å°”å„ç­”ç­‰äº†ä¸¤ä¸ªæœˆï¼Œåä¸Šäº†ç¾å›½çš„è¿å…µèˆ¹ï¼Œå‰å¾€ç¾å›½ã€‚\næ¨æŒ¯å®åœ¨èŠåŠ å“¥å¤§å­¦è¯»åšå£«ï¼Œåˆšå¼€å§‹é€‰æ‹©çš„æ˜¯å®éªŒç‰©ç†ï¼Œä½†æ˜¯å‘ç°è‡ªå·±å¹¶æ²¡æœ‰å®éªŒç‰©ç†çš„å¤©èµ‹ï¼Œåœ¨çˆ±å¾·åæ³°å‹’çš„å»ºè®®ä¸‹ï¼Œè½¬ä¸ºç†è®ºç‰©ç†å­¦ã€‚ä»–ä¸è´¹ç±³ä¹Ÿæœ‰äº¤å¾€ï¼Œè®¤ä¸ºè´¹ç±³æ˜¯ 20 ä¸–çºªæœ€åä¸€ä½å¯¹ç†è®ºå’Œå®éªŒç‰©ç†éƒ½ä½œå‡ºè´¡çŒ®çš„å¤§å¸ˆã€‚1948 å¹´åœ¨èŠåŠ å“¥å¤§å­¦è·å¾—ç‰©ç†å­¦åšå£«å­¦ä½ã€‚\n1949 - 1966 å¹´é—´ï¼Œæ¨æŒ¯å®å°±èŒäºæ™®æ—æ–¯é¡¿é«˜ç­‰ç ”ç©¶é™¢ï¼Œå½¼æ—¶æ­£å¥½æ˜¯å¥¥æœ¬æµ·é»˜åœ¨é«˜ç­‰ç ”ç©¶é™¢ä»»ä¸»ä»»ã€‚æ¨æŒ¯å®æœ€åˆåªæ‰“ç®—åœ¨é«˜ç­‰ç ”ç©¶é™¢åšä¸€å¹´åšå£«åï¼Œæœ€åç«Ÿç„¶å‘†äº†è¿™ä¹ˆé•¿æ—¶é—´ã€‚ä»–è¯´è‡ªå·±æœ€é‡è¦çš„ç‰©ç†å­¦æˆå°±éƒ½æ˜¯åœ¨é«˜ç­‰ç ”ç©¶é™¢æœŸé—´å®Œæˆçš„ï¼ˆ(é«˜ç­‰ç ”ç©¶é™¢ä»¥ç ”ç©¶è‘—ç§°ï¼Œè¡Œæ”¿äº‹åŠ¡å¾ˆå°‘ï¼Œå­¦ç”Ÿä¹Ÿå¾ˆå°‘ï¼Œå­¦è€…ä»¬åªéœ€è¦ä¸“æ³¨äºç ”ç©¶)ã€‚\nå¥¥æœ¬æµ·é»˜æ›¾ç»å‘æ¨æŒ¯å®æè®®ï¼Œç”±ä»–æ¥ä»»è‡ªå·±æ‹…ä»»æ™®æ—æ–¯é¡¿é«˜ç­‰ç ”ç©¶é™¢ä¸‹ä¸€ä»»ä¸»ä»»ï¼Œä½†æ˜¯æ¨è®¤ä¸ºè‡ªå·±å¹¶ä¸é€‚åˆåšç®¡ç†ï¼Œå†™ä¿¡æ‹’ç»äº†å¥¥æœ¬æµ·é»˜ã€‚1965 å¹´ï¼Œæ¨æŒ¯å®ç­”åº” Stony Brooks å¤§å­¦æ ¡é•¿ï¼Œå‰å¾€è¯¥å¤§å­¦ï¼Œå‘å±•ç‰©ç†ç³»ã€‚\næ¨æŒ¯å®ä¸ç±³å°”æ–¯ä¸€èµ·ï¼Œäº 1954 å¹´æå‡ºäº† Yang-Mills æ–¹ç¨‹ã€‚è‡ªç„¶ç•Œæœ‰å››ç§ä½œç”¨åŠ›ï¼šé‡åŠ›ï¼Œæ ¸åŠ›ï¼Œå¼±åŠ›ï¼Œç”µç£åŠ›ã€‚ç»å…¸åŠ›å­¦ä¸­ï¼Œé‡åŠ›ä¸è·ç¦»çš„å¹³æ–¹æˆåæ¯”ï¼Œç„¶è€Œå¾®è§‚ç²’å­çš„ä½œç”¨åŠ›å¹¶ä¸éµå¾ªè¿™ä¸€è§„å¾‹ã€‚å¥¹ä»¬ä¹‹é—´çš„ä½œç”¨åŠ›å¦‚ä½•ç”¨æ•°å­¦æè¿°ï¼ŸYang-Mills æ–¹ç¨‹å°±æ˜¯å¹²è¿™ä¸ªçš„ã€‚åæ¥å‘å±•æˆä¸º è§„èŒƒåœºè®º(Gauge Principle)ï¼Œæœ€åå‘ç°æ–¹ç¨‹ä¸ä»…èƒ½æè¿°å¼±åŠ›ï¼Œä¹Ÿèƒ½æè¿°é‡åŠ›ã€‚\næ¨æŒ¯å®è°ˆä¸­ç¾æ•™è‚²åŒºåˆ«ï¼šç¾å›½æ•™è‚²æŠŠå°å­©å½“å¤§äººï¼Œè‡ªç”±ï¼Œå­¦ç”Ÿå¯ä»¥è‡ªç”±é€‰æ‹©è‡ªå·±çš„å…´è¶£ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šå…´è¶£å’Œæ¢ç´¢æ¥å‘ç°è‡ªå·±çœŸæ­£æƒ³å¹²çš„äº‹æƒ…ï¼Œå¾ˆå¤šç¾å›½æœ¬ç§‘ç”Ÿæ•°å­¦ä¸å¥½ï¼Œå¯¹åŸºç¡€çš„æ•°å­¦çŸ¥è¯†ä¸å¤ªç†Ÿç»ƒï¼›ä¸­å›½å­¦ç”Ÿæ¯”è¾ƒå¬è¯ï¼Œåœ¨é«˜ä¸­å°±æ¥å—äº†å¤§é‡çš„æ•°å­¦è®­ç»ƒï¼Œè¿™æ ·å¯èƒ½ä¼šè®©å­¦ç”Ÿå¤±å»åˆ›é€ åŠ›ï¼Œä¸å¤ªè‡ªç”±ã€‚ç¾å›½çš„ç ”ç©¶ç”Ÿæ•™è‚²æ˜¯ä¸–ç•Œæœ€å¥½çš„ï¼Œä¸­å›½çš„å¤§å­¦æ•™è‚²è¿˜å¯ä»¥ï¼Œåº”è¯¥åœ¨ä¸­å›½ä¸Šå¤§å­¦ï¼Œç¾å›½è¯»ç ”ç©¶ç”Ÿ1ã€‚\nå…¶å®æ¨æŒ¯å®è¿™ä¸ªè§‚ç‚¹æˆ‘ä¸èµåŒï¼Œä¸­å›½å¤§éƒ¨åˆ†å¤§å­¦éƒ½å¾ˆåƒåœ¾ï¼Œè€å¸ˆéƒ½æ˜¯ç…§æœ¬å®£ç§‘ï¼Œæ¯«æ— æŠ€æœ¯å«é‡ï¼Œå¤§å­¦è¯¾ç¨‹è®¾ç½®ä¹Ÿå¾ˆåƒåœ¾ï¼ŒåŸ¹å…»å‡ºæ¥çš„å­¦ç”Ÿæ¯«æ— ç«äº‰åŠ›ï¼Œæ¸…ååŒ—å¤§å¯èƒ½ä¼šå¥½ä¸€äº›ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"30 October 2020","externalUrl":null,"permalink":"/2020/10/30/cn_yang_interview/","section":"Posts","summary":"\u003cp\u003eåœ¨ YouTube ä¸Šçœ‹åˆ°äº†\u003ca href=\"https://en.wikipedia.org/wiki/Yang_Chen-Ning\" target=\"_blank\"\u003eæ¨æŒ¯å®\u003c/a\u003eåœ¨ 2006 å¹´çš„\u003ca href=\"https://www.youtube.com/watch?v=6d3hZ8jnqXg\" target=\"_blank\"\u003eä¸€ä¸ªé‡‡è®¿\u003c/a\u003eï¼ŒæŒºä¸é”™ã€‚\u003c/p\u003e","title":"æ¨æŒ¯å®çš„ä¸€ä¸ªé‡‡è®¿","type":"posts"},{"content":"When I was in a folder and tried to edit multiple files using glob pattern with the following Neovim command:\n:edit *.vim I was surprised to find that Neovim gives the following error message:\nE77: Too many file names.\nThis is because the command :edit only supports editing one file. There are several ways to open multiple files at once.\nUse argument list # We can Neovim\u0026rsquo;s built-in in argument list feature to open multiple files. When we open Neovim from command line with multiple files, argument list will be filled with a list of file names. To replace the argument list with new file names, we can use :args {glob_pattern} or :next {glob_pattern}.\nFor example, to open all files in current directory with extension .vim, use :args *.vim or :next *.vim. You can then traverse the list of files using : next and :previous command.\nFor more info, see :h argument-list.\nDefine your own custom command # The second way is to define a custom :Edit command that can take glob patterns. Something like the following should work:\nfunction! MultipleEdit(p_list) for p in a:p_list for c in glob(p, 0, 1) execute \u0026#39;edit \u0026#39; . c endfor endfor endfunction command! -bar -bang -nargs=+ -complete=file Edit call MultipleEdit([\u0026lt;f-args\u0026gt;]) Then we can use :Edit *.vim or :Edit *.vim *.py to open multiple files.\nReferences # How can I open multiple tabs at once? How to open multiple files matching a wildcard expression? How do I make vim open all files matching a pattern in different tabs? ","date":"28 October 2020","externalUrl":null,"permalink":"/2020/10/28/edit_multiple_files_nvim/","section":"Posts","summary":"\u003cp\u003eWhen I was in a folder and tried to edit multiple files using glob pattern with the\nfollowing Neovim command:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-vim\" data-lang=\"vim\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eedit\u003c/span\u003e *.\u003cspan class=\"nx\"\u003evim\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eI was surprised to find that Neovim gives the following error message:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eE77: Too many file names.\u003c/p\u003e\n\u003c/blockquote\u003e","title":"Edit Multiple Files at once in Neovim","type":"posts"},{"content":"In Bash shell, when editting in the command line. There are two different modes, vi mode or Emacs mode. Emacs-mode is the default mode. Below are some of the handy shortcuts in Emacs-mode.\nShortcuts # ALT-b and ALT-f: go backward(toward begining of the line)/forward (toward end of the line) a word. Note that - is a word separator in this case. Ctrl-D: delete one character to the right of the cursor. Ctrl-A and Ctrl-E: go to begining/end of the line. Ctrl-K and Ctrl-U: delete till the end/begining of the line. Ctrl-R: search history command. Press Enter to run a command, or press movement key to edit it. ALT-D: Delete from current cursor position to the end of the word. Ctrl-_: Undo edit. ALT-R: Revert command to original. Ctrl-W: Delete a word backward. Note that here word is separate by space. So if we have python util/test.py| (| indicate cursor) , pressing Ctrl-W leave us with only python . - is not a word separator in this case. A little inconsistent, IMHO. Refs # https://askubuntu.com/a/269048/768311 https://mehmandarov.com/navigating-and-editing-the-command-line/ https://superuser.com/q/705807/736190` http://teohm.com/blog/shortcuts-to-move-faster-in-bash-command-line/ https://lornajane.net/posts/2011/navigating-bash-history-with-ctrlr ","date":"26 October 2020","externalUrl":null,"permalink":"/2020/10/26/bash_emacs_style_shortcut/","section":"Posts","summary":"\u003cp\u003eIn Bash shell, when editting in the command line.\nThere are two different modes, \u003ca href=\"https://unix.stackexchange.com/q/85390/221410\" target=\"_blank\"\u003evi mode or Emacs mode\u003c/a\u003e. Emacs-mode is the default mode.\nBelow are some of the handy shortcuts in Emacs-mode.\u003c/p\u003e","title":"Bash Emacs-style Shortcut Cheatsheet","type":"posts"},{"content":"I usually use {num}Ctrl-6 to switch buffers in Neovim, where {num} is the number of buffer (see this post). Since Neovim has built-in gt mapping to switch between tabpages, I thought it might be a good idea to use gb as buffer switching shortcut avoid strech when pressing Ctrl-6.\nHere is what I have got:\nClick to show the code. nnoremap \u0026lt;silent\u0026gt; gb :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;GoToBuffer(v:count, \u0026#39;forward\u0026#39;)\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gB :\u0026lt;C-U\u0026gt;call \u0026lt;SID\u0026gt;GoToBuffer(v:count, \u0026#39;backward\u0026#39;)\u0026lt;CR\u0026gt; function! s:GoToBuffer(count, direction) abort if a:count == 0 if a:direction ==# \u0026#39;forward\u0026#39; bnext elseif a:direction ==# \u0026#39;backward\u0026#39; bprevious else echoerr \u0026#39;Bad argument \u0026#39; a:direction endif return endif \u0026#34; Check the validity of buffer number. if index(s:GetBufNums(), a:count) == -1 echohl WarningMsg | echomsg \u0026#39;Invalid bufnr: \u0026#39; a:count | echohl None return endif if a:direction ==# \u0026#39;forward\u0026#39; silent execute(\u0026#39;buffer\u0026#39; . a:count) endif endfunction function! s:GetBufNums() abort let l:buf_infos = getbufinfo({\u0026#39;buflisted\u0026#39;:1}) let l:buf_nums = map(l:buf_infos, \u0026#34;v:val[\u0026#39;bufnr\u0026#39;]\u0026#34;) return l:buf_nums endfunction You can use gb and gB without count to switch forward and backward in the buffer list. When provided with a count, gb can also switch the buffer with that number. For example, if we have buffer with number 6, press 6gb in normal mode will switch to that buffer.\nIssues I have met # Using count in mappings # If we use a count before the mapping, and then execute some command, vim will insert a range for this command automatically1. To prevent this, we use Ctrl-U to delete the range inserted by Vim.\nRefs:\nWhy do some Vim mappings include after a colon? Creating a Vim function mapping that takes a count s:MyFunc or \u0026lt;SID\u0026gt;MyFunc # Another issue is that we need to use call \u0026lt;SID\u0026gt;GoToBuffer instead of call s:GoToBuffer. The s: notation only works if we are in the same script that defines this function. When we execute the mapping, we are usually in other files. If we use s: notation, we get the following error:\n\u0026gt; E81: Using \u0026lt;SID\u0026gt; not in a script context See also Neovim help file on this topic (h \u0026lt;SID\u0026gt;).\nRef:\nhttp://vim.1045645.n5.nabble.com/lt-SID-gt-or-s-General-questions-about-functions-td4297515.html To verify, press a number, and then press : to enter command line mode.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 October 2020","externalUrl":null,"permalink":"/2020/10/16/nvim_switch_buffer_with_mapping/","section":"Posts","summary":"\u003cp\u003eI usually use \u003ccode\u003e{num}Ctrl-6\u003c/code\u003e to switch buffers in Neovim, where \u003ccode\u003e{num}\u003c/code\u003e is the\nnumber of buffer (see \u003ca href=\"https://jdhao.github.io/2018/09/29/Switching_buffers_quickly_Neovim/\" target=\"_blank\"\u003ethis post\u003c/a\u003e).\nSince Neovim has built-in \u003ccode\u003egt\u003c/code\u003e mapping to switch between tabpages, I thought it\nmight be a good idea to use \u003ccode\u003egb\u003c/code\u003e as buffer switching shortcut avoid strech when\npressing \u003ccode\u003eCtrl-6\u003c/code\u003e.\u003c/p\u003e","title":"Switching Buffers in Neovim with mapping","type":"posts"},{"content":"Except for the ASCII characters, it is often not straightforward to insert Unicode characters into Vim/Neovim. Below I will summarize a few ways to enter Unicode characters inside Neovim/Vim.\nI assume that you are using UTF-8 encoding (:set encoding=utf-8), and you are using a font with proper support for Unicode symbols, e.g., nerd-fonts. Otherwise, some Unicode characters shown below may not show correctly on your terminal.\nUse Ctrl-V to insert character # The native way to insert a Unicode character is via Ctrl + V. In insert mode, we first press Ctrl + V, and then for Unicode characters whose code points1 are less than:\nffff (in hex format): press u ( lower case), followed by its four-digit hex representation. 7fffffff (in hex format): press U ( upper case), followed by its eight-digit hex representation. For example, to insert the middle dot symbol (Â·), we can press \u0026lt;C-v\u0026gt;u00b7 or \u0026lt;C-v\u0026gt;ub7 followed by ESC. To insert the crying cat emoji (ğŸ˜¿), we can press \u0026lt;C-v\u0026gt;U0001f63f2 or \u0026lt;C-v\u0026gt;U1f63f followed by ESC.\nUse special escape sequence notation # We can also use special escape sequence to represent a character. To represent middle dot in the above section, use \\u00b7 or \\ub7. To represent the cry cat, use \\U0001f63f or \\U1f63f. Backspace is \\b and Escape is \\e.\nFor more details, see :h string.\nUse plugin unicode.vim # To ease manipulation of Unicode characters, there is also a plugin called unicode.vim.\nUnicode.vim provides an enhanced version of the built-in ga (see :h ga) operation. To use it, add the following setting to init.vim:\nnmap ga \u0026lt;Plug\u0026gt;(UnicodeGA) It also provides several useful commands:\n:UnicodeName: show the Unicode info about character under cursor. :UnicodeSearch: search a Unicode character. It supports regular expression. For example, to search Unicode character containing CAT, we can use :UnicodeSearch \\\u0026lt;CAT\\\u0026gt;. The bang version (:UnicodeSearch!) can also insert the chosen character into cursor position. Insert-mode completion # Unicode.vim also provides insert mode completion for Unicode characters. We can type some character in the name of Unicode character, and press \u0026lt;C-X\u0026gt;\u0026lt;C-Z\u0026gt; (i.e., Ctrl+X followed by Ctrl+Z). Alternatively, we can also provide the Unicode code point of a character and press \u0026lt;C-X\u0026gt;\u0026lt;C-Z\u0026gt;.\nFor example, to insert middle dot, we can:\ntype dot, and press \u0026lt;C-X\u0026gt;\u0026lt;C-Z\u0026gt; (A completion menu will pop up with candidate character).\ntype U+00b7, and press \u0026lt;C-X\u0026gt;\u0026lt;C-Z\u0026gt;.\nIf you have fzf installed, you can also activate the fuzzy search feature to search Unicode (see :h unicode-fuzzy-insertion).\nUse digraphs # Vim/Neovim also provides a feature called digraphs (see :h digraphs). Some non-printed character or commonly-used Unicode characters can be easily inserted using this feature. The command :digraphs will print the pre-defined digraphs table, like the following:\n...... PI Â¶ 182 pp Â¶ 182 .M Â· 183 ~. Â· 183 \u0026#39;, Â¸ 184 1S Â¹ 185 A\u0026#39; Ã 193 A\u0026gt; Ã‚ 194 A^ Ã‚ 194 A? Ãƒ 195 A~ Ãƒ 195 A: Ã„ 196 ...... In each digraph group, the first two characters are the codes for the actual character, the middle being the actual character, and the last being the decimal value of the characters. For example, the codes for middle dot is .M, and its decimal number is 183.\nTo enter a character, press Ctrl-K in insert mode, followed by its codes. For example, to insert middle dot using digraphs, press \u0026lt;C-K\u0026gt;.M. To insert the copyright symbol (Â©), press \u0026lt;C-K\u0026gt;Co. To insert trademark symbol (â„¢), press \u0026lt;C-K\u0026gt;TM.\nDefine your own digraphs # We can also define our own digraphs. The syntax is:\n:digraphs {char1}{char2} {number} {number} is the decimal value for the Unicode character. For example, to define a digraph entry for the loud crying face emoji (ğŸ˜­, decimal value 128557), use the following command:\n:digraphs lc 128557 Then, in insert mode, pressing \u0026lt;C-K\u0026gt;lc will insert this emoji.\nReferences # How to enter non-ASCII characters using hex or octal codes in vi? What is the easiest way to insert Unicode characters into a document? Enter Unicode characters with 8-digit hex code https://sanctum.geek.nz/arabesque/special-characters-in-vim/ See :h i_CTRL-V_digit inside Neovim/Vim for the official doc.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSince the crying cat emoji has 5-digit hex, we have to use upper case U followed by 8-digit hex number. The three leading zeros can not be omitted\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"7 October 2020","externalUrl":null,"permalink":"/2020/10/07/nvim_insert_unicode_char/","section":"Posts","summary":"\u003cp\u003eExcept for the ASCII characters, it is often not straightforward to insert Unicode characters into Vim/Neovim.\nBelow I will summarize a few ways to enter Unicode characters inside Neovim/Vim.\u003c/p\u003e","title":"How to Insert Unicode Characters in Neovim/Vim","type":"posts"},{"content":"æœ€è¿‘ä¸€ä¸ªæœˆè¯»äº† Kai bird å’Œ Martin J. Sherwin çš„ã€ŠAmerican prometheusã€‹ï¼Œè¿™æœ¬ä¹¦æ˜¯è‘—åç‰©ç†å­¦å®¶å¥¥æœ¬æµ·é»˜çš„ä¼ è®°ï¼Œè¯¦ç»†è®²è¿°äº†å¥¥æœ¬æµ·é»˜çš„ä¸€ç”Ÿã€‚ä¸ºäº†å†™è¿™æœ¬ä¹¦ï¼Œä½œè€…èŠ±äº† 25 å¹´çš„æ—¶é—´ï¼Œåšäº†å¾ˆå¤šé‡‡è®¿ï¼ŒæŸ¥çœ‹äº†å¾ˆå¤š FBI å…³äºå¥¥æœ¬æµ·é»˜çš„èµ„æ–™ã€‚è¿™æœ¬ä¹¦æ˜¯å…³äºå¥¥æœ¬æµ·é»˜çš„æƒå¨è‘—ä½œï¼Œ2005 ç”«ä¸€é—®ä¸–ï¼Œ 2006 å¹´å°±è·å¾—äº†æ™®åˆ©ç­–å¥–(ä¼ è®°ç±»)ã€‚\nå°‘å¹´å¤©æ‰ # å¥¥æœ¬æµ·é»˜äº 1904 å¹´ç”Ÿäºç¾å›½çº½çº¦ä¸€ä¸ªå¯Œåº¶çš„çŠ¹å¤ªè£”å¾·å›½ç§»æ°‘å®¶åº­ï¼Œä»–çš„çˆ¶äº²æ˜¯ä¸€åå¸ƒåŒ¹å•†äººï¼Œä»–çš„æ¯äº²æ˜¯ä¸€åç”»å®¶ã€‚ç”Ÿåœ¨ä¸€ä¸ªå¯Œè£•çš„å®¶åº­ï¼Œå¥¥æœ¬æµ·é»˜çš„çˆ¶æ¯å°½é‡æ»¡è¶³ä»–çš„éœ€æ±‚ï¼Œæ”¯æŒä»–å‘å±•å¹¿æ³›çš„å…´è¶£çˆ±å¥½ï¼Œä»–ä»åå‡ å²æ—¶çˆ±ä¸Šäº†æ”¶é›†å²©çŸ³ï¼Œ12å²æ—¶å°±åœ¨çº½çº¦çš„åœ°ç†å­¦ä¼šç™»å°æ¼”è®²ã€‚è¿›å…¥ä¸­å­¦ï¼Œå¥¥æœ¬æµ·é»˜å„é—¨åŠŸè¯¾éƒ½èƒ½å¾— Aï¼ŒåŒæ—¶ä»–ä¹Ÿå–œæ¬¢é˜…è¯»è¯—æ­Œï¼Œèƒ½é˜…è¯»æ‹‰ä¸æ–‡ï¼Œå¸Œè…Šæ–‡çš„è‘—ä½œã€‚å¯¹è¯—æ­Œçš„çˆ±å¥½ä¹Ÿä¼´éšäº†å¥¥æœ¬æµ·é»˜çš„ä¸€ç”Ÿï¼Œåœ¨1930å¹´ä»£æ‹…ä»»ä¼¯å…‹åˆ©ç‰©ç†æ•™æˆæ—¶ï¼Œä»–å‘ä¼¯å…‹åˆ©çš„è¯­è¨€æ•™æˆå­¦ä¹ æ¢µæ–‡ï¼Œé˜…è¯»æ¢µæ–‡ç»å…¸ã€Šè–„ä¼½æ¢µæ­Œã€‹ã€‚1945 å¹´ç¬¬ä¸€é¢—åŸå­å¼¹è¯•çˆ†( trinity æµ‹è¯•)ä»¥åï¼Œå¥¥æœ¬æµ·é»˜ä»åšè¿¦æ¢µæ­Œå¼•ç”¨äº†ä¸€å¥æ¥è¡¨è¾¾è‡ªå·±çš„å¿ƒæƒ…ï¼šâ€œNow I am become death, the destroyer of worldsâ€ã€‚(å‚è§è¿™é‡Œ)ã€‚\nå“ˆä½›æ—¶å…‰ # 1921å¹´æ˜¥ä¸­å­¦æ¯•ä¸šä»¥åï¼Œå¥¥æœ¬æµ·é»˜è¢«å“ˆä½›å¤§å­¦å½•å–ï¼Œä»–æœ¬åº”è¯¥åœ¨ 1921 å…¥å­¦ï¼Œä½†æ˜¯ç”±äºåœ¨éšçˆ¶æ¯å»æ¬§æ´²æ¸¸è§ˆé€”ä¸­ç”Ÿç—…ï¼Œä¸å¾—ä¸å»¶è¿Ÿä¸€å¹´å…¥å­¦ã€‚åœ¨èº«ä½“æ¢å¤ä¿®å…»æœŸé—´ï¼Œå¥¥æœ¬æµ·é»˜éšç€è‡ªå·±ä¸­å­¦è€å¸ˆ herbert smith ç¬¬ä¸€æ¬¡å»æ–°å¢¨è¥¿å“¥å· santa fe æ—…è¡Œï¼Œé‚£é‡Œç¾ä¸½è€Œç²—çŠ·çš„ç¯å¢ƒç»™å¥¥æœ¬æµ·é»˜ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼Œåœ¨é‚£é‡Œå¥¥æœ¬æµ·é»˜å­¦ä¼šäº†éª‘é©¬ï¼Œä»–ä»¬ç»å¸¸éª‘ç€é©¬é•¿é€”è·‹æ¶‰ï¼Œè™½ç„¶å¥¥æœ¬æµ·é»˜å¤–è¡¨çœ‹ä¸Šå»å¾ˆè™šå¼±ï¼Œä½†æ˜¯è¿™ç§ç»å†ç£¨ç»ƒäº†å¥¥æœ¬æµ·é»˜çš„å†…å¿ƒï¼Œå…»æˆäº†ä»–åšéŸ§çš„ç²¾ç¥ã€‚åœ¨è¿™é™„è¿‘æœ‰ä¸€ä¸ªåœ°æ–¹å«æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼Œæ—¥åæˆäº†æ›¼å“ˆé¡¿è®¡åˆ’é€‰å®šçš„åœ°ç‚¹ã€‚\nè¿›å…¥å“ˆä½›å¤§å­¦ä»¥åï¼Œå¥¥æœ¬æµ·é»˜ä»ç„¶æ˜¾ç¤ºå‡ºä»–æé«˜çš„é¢†æ‚Ÿèƒ½åŠ›ï¼Œå¯¹äºå­¦ä¹ çš„è¯¾ç¨‹éƒ½èƒ½ä¼˜å¼‚æˆç»©é€šè¿‡ï¼Œæœ‰ä¸€ä½åŒå­¦è¯´ï¼Œåœ¨ä»–ä¸ºç‰©ç†è¯¾ç¨‹è‹¦è‹¦æŒ£æ‰çš„æ—¶å€™ï¼Œå¥¥æœ¬æµ·é»˜å´èƒ½å¤Ÿè½»æ¾é€šè¿‡:\nI had visions of him suddenly bursting forth as a great physicsts, and here I was just trying to get through Harvard.\nå¥¥æœ¬æµ·é»˜çš„æ€ç»´éå¸¸æ•æ·ï¼Œç»å¸¸åœ¨åˆ«äººæå‡ºé—®é¢˜ä»¥åï¼Œä»–èƒ½é©¬ä¸Šæå‡ºè§£å†³æ–¹æ³•ï¼Œä»–çš„å“ˆä½›åŒå­¦ William C. Boyd è¯´ï¼š\nHe had a very quick mind. For instance, when someone would propose a problem, he would give two or three wrong answers, followed by the right ones, before I could think of a single answer.\nå¥¥æœ¬æµ·é»˜å¹¶æ²¡æœ‰é€‰æ‹©ç‰©ç†å­¦ä½œä¸ºè‡ªå·±çš„ä¸“ä¸šï¼Œè€Œæ˜¯é€‰æ‹©äº†åŒ–å­¦ã€‚ä¸ºäº†èƒ½åœ¨ä¸‰å¹´æ¯•ä¸šï¼Œä»–æ¯å­¦æœŸéƒ½å­¦ä¹ å…­é—¨è¯¾ç¨‹ï¼Œå¹¶ä¸”å»æ—å¬é¢å¤–çš„è¯¾ç¨‹ï¼Œä½†æ˜¯ä»–ä¼šéšè—è‡ªå·±åˆ»è‹¦å­¦ä¹ çš„çŠ¶æ€ä»¥ä½¿å¾—è¡¨é¢ä¸Šçœ‹èµ·æ¥ä»–çš„èªæ…§çœ‹èµ·æ¥æ¯«ä¸è´¹åŠ›ã€‚åœ¨å“ˆä½›ï¼Œä»–ç»§ç»­è‡ªå·±åœ¨äººæ–‡æ–¹é¢çš„çˆ±å¥½ï¼Œå­¦ä¹ å†å²ï¼Œå“²å­¦ï¼Œæ³•å›½æ–‡å­¦ï¼Œä»–å¤§é‡é˜…è¯»ï¼Œå¹¶å¼€å§‹å†™ä½œè¯—æ­Œï¼š\nHe read all three thousand pages of Gibbon\u0026rsquo;s classic history, The Decline and Fall of the Roman Empire. He also read in French literature and began writing poetry\u0026hellip;\nåœ¨å¤§å­¦ç¬¬ä¸€å¹´ï¼Œä»–å°±æ˜ç™½äº†è‡ªå·±çœŸæ­£å¤æ¬¢çš„ç‰©ç†å­¦ï¼Œè€Œä¸æ˜¯åŒ–å­¦ï¼Œäºæ˜¯ä»–è¯´æœå­¦æ ¡è®©è‡ªå·±è·³è¿‡åŸºç¡€ç‰©ç†å­¦ä¹ ï¼Œç›´æ¥å­¦ä¹ ç ”ç©¶ç”Ÿçº§åˆ«çš„ç‰©ç†ï¼Œä»–çš„å¯¼å¸ˆæ˜¯ Percy Bridgmanã€‚å¥¥æœ¬æµ·é»˜å¯¹äºå®éªŒç‰©ç†å­¦å¾ˆä¸æ“…é•¿ï¼Œæ“ä½œå„ç§è®¾å¤‡ç¬¨æ‹™ï¼Œä»–çš„ç‰¹é•¿åœ¨äºç†è®ºåˆ†æã€‚ä»…ä»…ç”¨äº†ä¸‰å¹´æ—¶é—´ï¼Œå¥¥æœ¬æµ·é»˜äº1925å¹´ä»¥æœ€é«˜è£èª‰(Summa Cum Laude)ä»å“ˆä½›å¤§å­¦ä»¥åŒ–å­¦å­¦å£«å­¦ä½æ¯•ä¸šã€‚ä½†æ˜¯ä»–çš„å¿—å‘åœ¨ç‰©ç†å­¦ï¼Œå½“æ—¶ï¼ˆ1920å¹´ä»£ï¼‰ï¼Œä¸–ç•Œç‰©ç†çš„ä¸­å¿ƒåœ¨è‹±å›½ï¼Œäºæ˜¯å¥¥æœ¬æµ·é»˜è¯´æœ Bridgman å¸®ä»–å†™äº†ä¸€å°æ¨èä¿¡ç»™å‰‘æ¡¥å¤§å­¦å¡æ–‡è¿ªè®¸å®éªŒå®¤çš„å¢ç‘Ÿç¦ã€‚å¯èƒ½æ˜¯è®¤ä¸ºå¥¥æœ¬æµ·é»˜æ²¡æœ‰ç‰©ç†å­¦çš„èƒŒæ™¯ï¼Œä¸æ˜¯ç§‘ç­æ¯•ä¸šï¼Œå¢ç‘Ÿç¦å¹¶æ²¡æœ‰åŒæ„æŒ‡å¯¼å¥¥æœ¬æµ·é»˜ï¼Œä½†æŠŠä»–æ¨èç»™äº† J. J. Thomsonã€‚\næ¬§æ´²å²æœˆ # æŠ‘éƒçš„å‰‘æ¡¥å²æœˆ # 1925 å¹´ä¹æœˆï¼Œ21 å²çš„å¥¥æœ¬æµ·é»˜å‰å¾€å‰‘æ¡¥å¤§å­¦ï¼Œå¼€å§‹äº†ä»–çš„åšå£«ç”Ÿæ¶¯ã€‚ç ”ç©¶ç”Ÿæ´»ä¸åŒäºæœ¬ç§‘çš„å­¦ä¹ ï¼Œä»–ä¸å†æ˜¯è¯¾å ‚ä¸Šçš„â€œå¤©æ‰â€ï¼Œä»–ä¹Ÿç»å†äººç”Ÿä¸­éå¸¸é‡å¤§çš„å±æœºã€‚ä¸€æ–¹é¢ï¼Œå¥¥æœ¬æµ·é»˜å¹¶ä¸æ“…é•¿å®éªŒç‰©ç†å­¦ï¼Œå› ä¸ºå®éªŒç‰©ç†å­¦è¦æ±‚ç ”ç©¶è€…å…·æœ‰åŠ¨æ‰‹èƒ½åŠ›ï¼Œè€Œå¥¥æœ¬æµ·é»˜å¯¹æ­¤å¹¶æ²¡æœ‰å¤©èµ‹ï¼š\nClumsy and inept at his meticulous work, Robert soom found himself avoiding the laboratory.\nåœ¨ç»™æœ‹å‹ Fergusson ä¿¡ä¸­ï¼Œå¥¥æœ¬æµ·é»˜å†™åˆ°ä»–é‚£æ—¶çš„çŠ¶æ€ï¼š\nI am having a pretty bad time. The lab work is a terrible bore, and I am so bad at it that it is impossible to feel that I am learning anything.\nå¥¥æœ¬æµ·é»˜å¤„åœ¨ä¸€ç§æåº¦æŠ‘éƒçš„çŠ¶æ€ï¼Œä»–å’Œå¯¼å¸ˆ Backett å…³ç³»ä¹Ÿå¾ˆç³Ÿç³•ï¼Œæ®ä¼ ä»–æ›¾åœ¨ä¸€ä¸ªè‹¹æœä¸ŠæŠ¹ä¸Šè¯ç‰©ï¼Œæ”¾åœ¨å¯¼å¸ˆçš„æ¡Œä¸Šã€‚ç”±äºè¿™èµ·äº‹ä»¶ï¼Œä»–é™©äº›è¢«å‰‘æ¡¥å¤§å­¦å¼€é™¤ï¼Œç»è¿‡ä»–çˆ¶äº²çš„æ–¡æ—‹ï¼Œå‰‘æ¡¥å¤§å­¦åŒæ„ä¿ç•™å¥¥æœ¬æµ·é»˜çš„å­¦ç±ï¼Œä½†æ˜¯è¦æ±‚å¥¥æœ¬æµ·é»˜å®šæœŸå»çœ‹å¿ƒç†åŒ»ç”Ÿï¼Œè¿›è¡Œæ²»ç–—ã€‚\nå½“æ—¶æ­£æ˜¯é‡å­åŠ›å­¦çš„èŒèŠ½é˜¶æ®µï¼Œæµ·æ£®å ¡å’Œè–›å®šè°”åˆ†åˆ«æå‡ºäº†è‡ªå·±çš„é‡å­åŠ›å­¦ç†è®ºï¼Œç”±äºä¸æ“…é•¿å®éªŒç‰©ç†å­¦ï¼Œå¥¥æœ¬æµ·é»˜çš„æ³¨æ„åŠ›ä¹Ÿé›†ä¸­åˆ°é‡å­åŠ›å­¦ä¸Šã€‚1926 å¹´æ˜¥å¤©ï¼Œå¥¥æœ¬æµ·é»˜åœ¨å‰‘æ¡¥å¤§å­¦é‡åˆ°äº† Max Bornï¼ŒBorn å½“æ—¶æ˜¯å“¥å»·æ ¹å¤§å­¦ç†è®ºç‰©ç†å­¦ç ”ç©¶æ‰€çš„ä¸»ä»»ï¼ŒBorn è®¤ä¸ºå¥¥æœ¬æµ·é»˜æ˜¯ä¸€ä¸ªæœ‰å¤©åˆ†çš„å¹´è½»äººï¼Œé‚€è¯·å¥¥æœ¬æµ·é»˜å‰å¾€å“¥å»·æ ¹å­¦ä¹ ã€‚\nå¥¥æœ¬æµ·é»˜ä¹Ÿæ…¢æ…¢ä»è‡ªå·±æŠ‘éƒçš„çŠ¶æ€èµ°äº†å‡ºæ¥ï¼Œå¼€å§‹äº†å“¥å»·æ ¹æ±‚å­¦ç”Ÿæ¶¯ã€‚\nå´­éœ²å¤´è§’\u0026ndash;å“¥å»·æ ¹å¤§å­¦ # 1926 å¹´å¤ï¼Œå¥¥æœ¬æµ·é»˜å‰å¾€å“¥å»·æ ¹å¤§å­¦ã€‚å“¥å»·æ ¹å½“æ—¶æ˜¯ä¸–ç•Œçš„ç†è®ºç‰©ç†ä¸­å¿ƒï¼Œç¾¤æ˜Ÿæ±‡èšï¼Œç‹„æ‹‰å…‹ï¼Œå†¯è¯ºä¼Šæ›¼ç­‰éƒ½åœ¨å“¥å»·æ ¹åšç ”ç©¶ã€‚åœ¨å“¥å»·æ ¹ï¼Œå¥¥æœ¬æµ·é»˜æ´»è·ƒäº†èµ·æ¥ï¼Œä¸€æ‰«åœ¨å‰‘æ¡¥çš„é˜´éœ¾ï¼Œå¥¥æœ¬æµ·é»˜å¼€å§‹å¤œä»¥ç»§æ—¥ç ”ç©¶é‡å­åŠ›å­¦ï¼Œä¹Ÿä¸ºè‡ªå·±èµ¢å¾—äº†åˆæ­¥çš„åå£°ï¼ˆå°‘å¹´å¤©æ‰ï¼‰ã€‚ä¸€ä½æ­£å·§åœ¨å“¥å»·æ ¹è®¿é—®çš„å“ˆä½›æ•™æˆï¼Œå¦‚æ­¤è¯„è®ºé“ï¼š\nOppenheimer is turning out to be even more brilliant than we thought when we had him at harvard. He is turning out new work very rapidly and is able to hold his own with any of the galaxy of young mathematical physicists here.\n1927 å¹´ 6 æœˆï¼Œåœ¨ä»…ä»…åˆ°è¾¾å“¥å»·æ ¹ä¹ä¸ªæœˆä¹‹åï¼Œå¥¥æœ¬æµ·é»˜å°±å®Œæˆäº†è‡ªå·±çš„åšå£«è®ºæ–‡ã€‚\nåšå£«åç”Ÿæ¶¯ # 1927 å¹´å®Œæˆåšå£«å­¦ä½ä»¥åï¼Œå¥¥æœ¬æµ·é»˜çŸ­æš‚è¿”å›ç¾å›½ï¼Œååˆé‡è¿”æ¬§æ´²å¼€å§‹åšå£«åç ”ç©¶ï¼Œåœ¨ Paul Ehrenfest æ‰‹ä¸‹ç ”ç©¶ï¼Œååˆå‰å¾€ç‘å£«åœ¨ Wolfgang Pauli æŒ‡å¯¼ä¸‹å­¦ä¹ ã€‚ç­‰ä»– 1929 å¹´è¿”å›ç¾å›½æ—¶ï¼Œä»–åœ¨ç‰©ç†å­¦ç•Œå·²ç»æœ‰ä¸–ç•Œçº§å£°æœ›ï¼Œä» 1926 å¹´åˆ° 1929 å¹´ï¼Œä»–æ€»å…±å‘è¡¨äº†æƒŠäººçš„ 16 ç¯‡è®ºæ–‡!\nä¼¯å…‹åˆ©æ‰§æ•™ # 1929 å¹´å¥¥æœ¬æµ·é»˜é€‰æ‹©åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ç‰©ç†ç³»ï¼Œåœ¨é‚£é‡Œæ‹…ä»»æ•™æˆï¼Œä»‹ç»æ–°å…´çš„é‡å­åŠ›å­¦ã€‚åœ¨ä¼¯å…‹åˆ©ï¼Œå¥¥æœ¬æµ·é»˜ç ”ç©¶èŒƒå›´å¹¿æ³›ï¼Œä»–å‘è¡¨äº†ä¸€äº›å…³äºå®‡å®™å°„çº¿ï¼Œä¼½é©¬å°„çº¿ï¼Œé‡å­ç”µåŠ¨åŠ›å­¦çš„è®ºæ–‡ã€‚ 1939 å¹´ 9 æœˆ 1 æ—¥ï¼Œå¥¥æœ¬æµ·é»˜å’Œè‡ªå·±çš„å­¦ç”Ÿ Hartland Snyder æå‡ºäº†æœ€æ—©çš„é»‘æ´ç†è®º1ï¼Œç„¶è€Œæœªè¢«é‡è§†ã€‚å¥¥æœ¬æµ·é»˜çš„ç ”ç©¶é£æ ¼æ˜¯ç›´å‡»é—®é¢˜æ ¸å¿ƒï¼Œä½†æ˜¯å´ä¸æ„¿èŠ±è¿‡å¤šç¯‡å¹…è¯¦ç»†é˜é‡Šï¼Œæ‰€ä»¥è®ºæ–‡é€šå¸¸æ¯”è¾ƒç®€çŸ­ã€‚æœ‰ä¸€ä½ä¼¯å…‹åˆ©åŒæ—¶å¦‚æ­¤è¯„ä»·å¥¥æœ¬æµ·é»˜åšç ”ç©¶çš„é£æ ¼ï¼š\nOppie was extremely good at seeing the physics and doing the calculations on the back of the envelope and getting all the main factors\u0026hellip; As far as finishing and doing an elegant job like Dirac would do, that wasn\u0026rsquo;t Oppie\u0026rsquo;s style. He worked \u0026ldquo;Fast and dirty, like the American way of building a machine.\u0026rdquo;\nå…³äºå¥¥æœ¬æµ·é»˜ä¸ºä»€ä¹ˆæ²¡æœ‰è·å¾—è¯ºè´å°”å¥–ï¼Œä½œè€…è®¤ä¸ºå¥¥æœ¬æµ·é»˜å¤ªèªæ˜ï¼Œä½†æ˜¯åˆå…·æœ‰å¼ºçƒˆçš„æ‰¹åˆ¤å’Œæ€€ç–‘ç²¾ç¥ï¼Œå¯¹äºæå‡ºçš„æ–°æƒ³æ³•ä¸èƒ½åšæŒåšä¸‹å»ï¼Œè€Œè¿™æ­£æ˜¯åšå‡ºè¯ºå¥–çº§åˆ«ç ”ç©¶éœ€è¦çš„ä¸œè¥¿ã€‚å¥¥æœ¬æµ·é»˜æ€»æ˜¯åœ¨åšå‡ºæ–°çš„ä¸œè¥¿ä»¥åï¼Œåˆè½¬å‘å¦å¤–ä¸€ä¸ªæ„Ÿå…´è¶£çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¸è¯ºå¥–é”™å¤±ã€‚æ›¾ç»åœ¨å¥¥æœ¬æµ·é»˜æ‰‹ä¸‹åšåšå£«åç ”ç©¶çš„ Edwin Uehling è®¤ä¸ºï¼š\nHis knowledge of physics was extremely comprehensive. I am not sure that one should say that he didn\u0026rsquo;t do Nobel Prize-quality work; but it just didn\u0026rsquo;t happen to lead to that kind of result which the Nobel Prize committee regarded as exciting.\nå¸ˆç”Ÿå…³ç³» # å¥¥æœ¬æµ·é»˜å¯¹äºèªæ˜çš„ç ”ç©¶ç”Ÿé€šå¸¸è¦æ±‚æ›´åŠ ä¸¥æ ¼ï¼Œä½†æ˜¯å¯¹äºç›¸å¯¹æ²¡æœ‰å¤©èµ‹çš„å­¦ç”Ÿï¼Œåˆ™æ¯”è¾ƒæ¸©æŸ”å’Œå……æ»¡æ¸©æƒ…ã€‚ä»–çš„åšå£«ç”Ÿ Joe Weinberg è®²åˆ°äº†ä¸€ä»¶å°äº‹ï¼Œæœ‰ä¸€æ¬¡ä»–å»å¥¥æœ¬æµ·é»˜çš„åŠå…¬å®¤ï¼ŒæŠ½å‡ºä¸€ç¯‡è®ºæ–‡ï¼Œæ‰çœ‹äº†ä¸€æ®µï¼Œå°±è§‰å¾—è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç»§ç»­åšä¸‹å»çš„è¯¾é¢˜ã€‚ç„¶è€Œå¥¥æœ¬æµ·é»˜è®©ä»–æŠŠè®ºæ–‡æ”¾å›è¿œå¤„ï¼Œå¥¥æœ¬æµ·é»˜å¯¹ä»–è¯´ï¼šâ€œè¿™ä¸æ˜¯ä½ åº”è¯¥ç ”ç©¶çš„å†…å®¹â€ã€‚åæ¥ä»–å‘ç°ï¼Œå¥¥æœ¬æµ·é»˜çš„å¦å¤–ä¸€ä¸ªç ”ç©¶ç”Ÿï¼Œå¼€å§‹ç ”ç©¶è¿™ä¸ªè¯¾é¢˜ï¼Œè¿™ä¸ªè¯¾é¢˜å¯¹ä»–å¾ˆåˆé€‚ï¼Œé€‚åˆä»–çš„ç†è§£æ·±åº¦ï¼Œä»–ä¹Ÿå‡­å€Ÿè¿™ç¯‡è®ºæ–‡è·å¾—äº†åšå£«å­¦ä½ã€‚ Weinberg è®¤ä¸ºå¥¥æœ¬æµ·é»˜å°±åƒå¸¦è‡ªå·±è¹’è·šå­¦æ­¥çš„å°å­©ä¸€æ ·ï¼Œç…§é¡¾ç€è¿™ä½å­¦ç”Ÿï¼š\nHe needed special treatment, and by God, Oppie was going to give it to him. It showed a great deal of love, sympathy and human understanding.\nç¤¾ä¼šæ´»åŠ¨ä¸ç”Ÿæ´» # 1930 å¹´ä»£çš„å¤§è§æ¡ï¼Œç»™ç¾å›½ç¤¾ä¼šå¸¦æ¥äº†å·¨å¤§çš„æ‰“å‡»ï¼Œå¾ˆå¤šæ¯•ä¸šç”Ÿéš¾ä»¥æ‰¾åˆ°åˆé€‚çš„å·¥ä½œï¼Œå·¥äººç½¢å·¥äº‰å–æé«˜è–ªé…¬å’Œç¦åˆ©ã€‚å¥¥æœ¬æµ·é»˜çš„ç”Ÿæ´»çœ‹ä¸Šå»é«˜é›…ï¼Œå¯Œè¶³ï¼Œä»–å¯¹å½“æ—¶ç¤¾ä¼šçš„å˜åŒ–å¹¶éä¸€æ— æ‰€çŸ¥ï¼ŒåŒæ—¶ä»–å¯¹è‡ªå·±ä¼˜è¶Šçš„ç”Ÿæ´»ä¹Ÿæœ‰ä¸€ä¸æ„§ç–šï¼Œå› æ­¤ä¹Ÿæ…¢æ…¢ä»‹å…¥åˆ°ç¤¾ä¼šæ”¿æ²»ç”Ÿæ´»ä¸­ï¼Œä¸å†æ˜¯è±¡ç‰™å¡”ä¸­çš„ä¸€åç‰©ç†å­¦æ•™æˆã€‚\n1933 å¹´ä»£éšç€å¸Œç‰¹å‹’çš„ä¸Šå°ï¼ŒåçŠ¹è¿åŠ¨å¼•èµ·äº†å¥¥æœ¬æµ·é»˜çš„å…³æ³¨ï¼Œ1934 å¹´ï¼Œä¸ºäº†æ”¯æŒçŠ¹å¤ªç‰©ç†å­¦å®¶ç¦»å¼€å¾·å›½ï¼Œå¥¥æœ¬æµ·é»˜ç«‹å³åŒæ„æŠŠæ¯å¹´å·¥èµ„çš„ 3% æå‡ºæ¥ç”¨äºè¿™é¡¹å·¥ä½œã€‚1936 å¹´ï¼Œå¥¥æœ¬æµ·é»˜è¿˜é€šè¿‡ç¾å›½å…±äº§å…šæ¸ é“ææ¬¾ç»™è¥¿ç­ç‰™å†…æˆ˜ä¸­å¯¹æŠ—æ³•è¥¿æ–¯æ”¿æƒçš„æ­¦è£…åŠ›é‡ã€‚åœ¨ 1930 å¹´ä»£çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œç¾å›½å¤§å­¦é‡Œçš„çŸ¥è¯†åˆ†å­ï¼Œæœ‰å¾ˆå¤šå±äº å·¦ç¿¼çŸ¥è¯†åˆ†å­ï¼Œè¿½æ±‚ç§æ—å¹³ç­‰ã€ç¤¾ä¼šå…¬å¹³ï¼Œå½“æ—¶å…³äºæˆç«‹æ²¡å¤šä¹…çš„è‹è”ç¤¾ä¼šçš„æ­£é¢æ¶ˆæ¯ä¹Ÿè®©å¾ˆå¤šç¾å›½äººå‘å¾€ï¼Œæ­£æ˜¯åŸºäºè‡ªå·±çš„è¿½æ±‚å’Œå¯¹å…±äº§ä¸»ä¹‰çš„è®¤è¯† ï¼Œä¸€äº›äººåŠ å…¥äº†ç¾å›½å…±äº§å…šã€‚å½“æ—¶è™½ç„¶å…±äº§å…šå‘˜å¹¶æ²¡æœ‰è¢«å…¬å¼€æ¬¢è¿ï¼Œä½†ä¹Ÿæ²¡æœ‰åƒéº¦å¡é”¡ä¸»ä¹‰ç››è¡Œçš„ 50 å¹´ä»£å‰æœŸé‚£æ ·è¢«æ’æ–¥å’Œè¿«å®³:\nParty membership, to be sure, was not without its risks. But in 1937 there was little stigma attached to it among Berkeley liberals.\nåæ¥åœ¨æ‹äºº Jean çš„é¼“åŠ±ä¸‹ï¼Œå¥¥æœ¬æµ·é»˜æ›´å¤šåœ°å‚ä¸ç¤¾ä¼šç»„ç»‡å’Œæ´»åŠ¨ï¼Œå¹¶ä¸è®¸å¤šå…±äº§å…šå‘˜ç»“è¯†ï¼Œå‚åŠ å…±äº§å…šå°ç»„çš„ä¼šè®®ï¼Œä½†æ˜¯ä»–ä»æœªæˆä¸ºæ­£å¼çš„æ³¨å†Œå…±äº§å…šå‘˜ã€‚å¥¥æœ¬æµ·é»˜çš„å¼Ÿå¼Ÿï¼ŒFrank Oppenhimerï¼Œæ¯”ä»–æ›´åŠ æ¿€è¿›ï¼Œæ­£å¼åŠ å…¥äº†ç¾å›½å…±äº§å…šã€‚\n1938 å¹´ï¼Œä¸¤ä½åœ¨è‹è”çŸ­æš‚é€—ç•™çš„ç‰©ç†å­¦å®¶ George Placzek å’Œ Victor Weisskopfï¼Œæ‹œè®¿å¥¥æœ¬æµ·é»˜ï¼Œå‘å¥¥æœ¬æµ·é»˜è®²è¿°äº†ä»–ä»¬åœ¨è‹è”çš„é­é‡ï¼Œå¥¥æœ¬æµ·é»˜å¯¹è‹è”å’Œå…±äº§æ³¨æ„çš„å¹»æƒ³ä¹Ÿé€æ¸ç ´ç­ï¼š\nThis was a very decisive week in his life, and he told me so\u0026hellip; That weekend started Oppenheimer;s turning wasy from the Communist Party.\nå¥¥æœ¬æµ·é»˜è¿‡å»çš„å…±äº§ä¸»ä¹‰æ´»åŠ¨å…¶å®æ—©å°±è¢« FBI ç›¯ä¸Šäº†ï¼Œä¸å¥¥æœ¬æµ·é»˜æ›¾è¿‡ä»ç”šå¯†çš„ç¾å›½å…±äº§å…šå…šå‘˜ steve nelson çš„åŠå…¬å®¤è¢« FBI å®‰è£…äº†çªƒå¬å™¨ã€‚å¥¥æœ¬æµ·é»˜çš„å¥½å‡ ä¸ªå­¦ç”Ÿä¹Ÿä¸ç¾å›½å…±äº§å…šæœ‰å¯†åˆ‡è”ç³»ï¼Œè¿™äº›æƒ…å†µéƒ½è¢« FBI æ‰€æŒæ¡ã€‚åœ¨ä¸€ååä¸º joe çš„äººå’Œ nelson çš„çªƒå¬å¯¹è¯ä¸­ï¼Œnelson æåˆ°å¥¥æœ¬æµ·é»˜ä¸è‚¯é€éœ²å…³äºä»–ä»¬æ­£åœ¨è¿›è¡Œçš„çš„å·¥ä½œ(æŒ‡çš„æ˜¯åŸå­å¼¹ç ”ç©¶)çš„ä¿¡æ¯ï¼ŒåŒæ—¶å¥¥æœ¬æµ·é»˜å’Œå…±äº§å…šçš„å…³ç³»å‡ è¿‘æ–­ç»äº†ï¼Œç„¶è€Œ FBI è¿˜æ˜¯æ®æ­¤è®¤ä¸ºå¥¥æœ¬æµ·é»˜æ˜¯ä¸€ä¸ªå¯ç–‘çš„å…±äº§ä¸»ä¹‰åˆ†å­ã€‚\nå½“ç„¶ç”±äºå¥¥æœ¬æµ·é»˜çš„å·¨å¤§å£°æœ›ï¼Œå†›æ–¹å’Œ FBI æš‚æ—¶éƒ½å¯¹ä»–æ— å¯å¥ˆä½•ï¼Œç„¶è€Œå¥¥æœ¬æµ·é»˜çš„å­¦ç”Ÿå°±æ²¡é‚£ä¹ˆå¹¸è¿äº†ã€‚1943 å¹´æ˜¥å¤©ï¼ŒDavid bohm çš„ç ”ç©¶ææ–™è¢«æ”¶ç¼´ï¼Œè¢«åˆ—ä¸ºæœºå¯†ææ–™ï¼Œä»–è¢«ç¦æ­¢ç”¨è‡ªå·±çš„ç ”ç©¶å†…å®¹å†™æ¯•ä¸šè®ºæ–‡ï¼Œå¥¥æœ¬æµ·é»˜ä¸å¾—ä¸å†™äº†ä¸€å°è¯æ˜ä¿¡ï¼Œè¯´æ˜ Bohm å·²ç»è¾¾åˆ°äº† phd æ¯•ä¸šçš„è¦æ±‚ï¼Œbohm åœ¨æ²¡æœ‰å†™è®ºæ–‡çš„æƒ…å†µä¸‹æ‹¿åˆ°äº†åšå£«å­¦ä½ã€‚Rossi Lomanitz å’Œ weinberg è¢«å†›æ–¹å¾è°ƒå‰å¾€å†›æ–¹æœå½¹ï¼ŒMax friedman è¢«å¤§å­¦è§£é›‡ï¼Œè‡ªæ­¤ä»–æ— æ³•åœ¨ç¾å›½æ‰¾åˆ°å·¥ä½œï¼Œå”¯ä¸€èƒ½æ‰¾åˆ°æ•™èŒçš„åœ°æ–¹æ˜¯æ³¢å¤šé»å„å¤§å­¦ã€‚\næ„Ÿæƒ…ç”Ÿæ´» # 1936 å¹´æ˜¥å¤©ï¼Œå¥¥æœ¬æµ·é»˜åœ¨èšä¼šä¸Šè®¤è¯†äº† Jean Tatlockï¼ŒJean å½“æ—¶æ˜¯æ–¯å¦ç¦åŒ»å­¦é™¢çš„ä¸€åç ”ç©¶ç”Ÿï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä½ç¾å›½å…±äº§å…šçš„å…šå‘˜ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œå¥¥æœ¬æµ·é»˜ä¹Ÿæ›¾çº¦ä¼šå¤šä½å¥³æ€§ï¼Œä½† Jean æˆä¸ºå¥¥æœ¬æµ·é»˜ä¸€ç”Ÿçš„æœ€çˆ±(å³ä½¿å¥¥æœ¬æµ·é»˜æ—¥åå’Œå…¶ä»–äººç»“å©šï¼Œå¥¥æœ¬æµ·é»˜è¿˜æ˜¯æ·±çˆ±ç€ Jeanï¼Œæ›¾å¤šæ¬¡å’Œ Jean çº¦ä¼šï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šçœ‹ï¼Œå¥¥æœ¬æµ·é»˜å¥½åƒæ˜¯ä¸€ä¸ªå¤§å®¶å£ä¸­çš„â€œæ¸£ç”·â€2)ã€‚Jean çš„æƒ…ç»ªä¸ç¨³å®šï¼Œ å¥¹ å’Œå¥¥æœ¬æµ·é»˜å…³ç³»æœªèƒ½é•¿ä¹…ï¼Œåˆ°äº† 1939 å¹´ï¼Œä¸¤äººçš„å…³ç³»å·²ç»æ¥è¿‘ç ´è£‚ã€‚å¥¥æœ¬æµ·é»˜ç”šè‡³æ›¾å‘ Jean æ±‚å©šï¼Œä½† Jean æ‹’ç»äº†ä»–ã€‚ç„¶è€Œå¥¥æœ¬æµ·é»˜ä¸ Jean çš„å…³ç³»å¹¶æœªæ–­ç»ï¼Œ 1943 å¹´ 6 æœˆï¼Œå¥¥æœ¬æµ·é»˜å·²ç»æ˜¯æ›¼å“ˆé¡¿è®¡åˆ’çš„ç§‘å­¦ä¸»ç®¡ï¼Œåœ¨å‡ºå·®é€”ä¸­ï¼Œå¥¥æœ¬æµ·é»˜æ›¾å‰å¾€ Jean çš„å…¬å¯“ä¸å¥¹çº¦ä¼šã€‚Jean äº 1944 å¹´ 1 æœˆè¢«å‘ç°æ­»åœ¨å…¬å¯“çš„æµ´ç¼¸å†…ï¼Œæ³•åŒ»ç»™å‡ºçš„ç»“è®ºæ˜¯è‡ªæ€ï¼Œç„¶è€Œä¹Ÿæœ‰äººè®¤ä¸º Jean æ˜¯è¢«ç¾å›½ FBI çš„ç‰¹å·¥è°‹æ€ä»¥é˜²æ­¢å¥¹ä»å¥¥æœ¬æµ·é»˜å‡ºè·å–åˆ°ç¾å›½åŸå­å¼¹ç ”ç©¶çš„ä¿¡æ¯ï¼Œå¹¶ä¼ é€’ç»™ç¾å›½å…±äº§å…šï¼ˆæ¯•ç«Ÿ Jean æ›¾å’Œå…±äº§å…šå…³ç³»ç”šå¯†ï¼‰ï¼Œç¾å‰§ã€Šæ›¼å“ˆé¡¿è®¡åˆ’ã€‹å¯¹è¿™ä¸€äº‹ä»¶ä¹Ÿæœ‰æ¶‰åŠ3ã€‚\n1939 å¹´ 8 æœˆï¼Œå¥¥æœ¬æµ·é»˜åœ¨èšä¼šä¸Šé‡åˆ°äº† Kitty Harrisonï¼ŒKitty å¯¹å¥¥æœ¬æµ·é»˜ä¸€è§é’Ÿæƒ…ï¼š\nI fell in love with Robert that day, but hoped to conceal it.\nKitty æ›¾ç»æœ‰è¿‡ä¸‰æ®µå©šå§»ï¼Œç¬¬ä¸€æ®µå©šå§»åœ¨å¾ˆçŸ­æ—¶é—´å°±ç»“æŸäº†ï¼Œç¬¬äºŒä»»ä¸ˆå¤« Joe Dallet å› ä¸ºå‚åŠ è¥¿ç­ç‰™å†…æˆ˜è€Œæ­»ã€‚å½“å¥¹åœ¨ 1939 å¹´é‡åˆ°å¥¥æœ¬æµ·é»˜æ—¶ï¼Œå’Œç¬¬ä¸‰ä»»ä¸ˆå¤«è¿˜æœªç¦»å©šï¼š\nThough Kitty was still married, they made no effort to conceal the affair.\n1940 å¹´å¤å¤©ï¼Œå¥¥æœ¬æµ·é»˜é‚€è¯· Kitty å¤«å¦‡å»ä»–çš„å†œåœºåšå®¢ï¼ŒKitty ä¸ˆå¤«æœªèƒ½å‰å¾€ï¼ŒKitty å’Œå¥¥æœ¬æµ·é»˜ä¸€èµ·åœ¨å†œåœºå‘†äº†ä¸¤ä¸ªæœˆï¼Œæœ€å Kitty æ€€å­•äº†ï¼Œå¥¥æœ¬æµ·é»˜æ‰“ç”µè¯ç»™ Kitty çš„ä¸ˆå¤«é€šçŸ¥äº†è¿™ä»¶äº‹ï¼ŒKitty ä¸ˆå¤«åŒæ„å’Œ Kitty ç¦»å©šï¼Œ1940 å¹´ 11 æœˆ 1 æ—¥ï¼ŒKitty åœ¨ç¦»å©šå½“å¤©å’Œå¥¥æœ¬æµ·é»˜é¢†å–äº†ç»“å©šè¯ä¹¦ã€‚\næ›¼å“ˆé¡¿è®¡åˆ’ # åˆè¯•é”‹èŠ’ # æ—©åœ¨ 1941 å¹´ï¼ŒErnest Lawrence æ›¾æƒ³æ‹‰å¥¥æœ¬æµ·é»˜å‚åŠ åŸå­å¼¹ç ”ç©¶ï¼Œç„¶è€Œç”±äºå¥¥æœ¬æµ·é»˜ä¸å…±äº§å…šåƒä¸ä¸‡ç¼•çš„è”ç³»ï¼Œå†›æ–¹ä¸è‚¯ç»™å¥¥æœ¬æµ·é»˜ç›¸å…³çš„æƒé™ã€‚1941 å¹´ç§‹å¤©ï¼ŒLawrence æ‹…å¿ƒç¾å›½åŸå­å¼¹ç ”ç©¶ä¸¥é‡æ»åäºå¾·å›½äººï¼ŒæåŠ›åŠè¯´åŸå­å¼¹ç ”ç©¶å§”å‘˜ä¼šä¸»å¸­åº·æ™®é¡¿å…è®¸å¥¥æœ¬æµ·é»˜å‚åŠ  10 æœˆ 21 å·çš„ä¸€æ¬¡è®¨è®ºã€‚åœ¨è¿™æ¬¡ä¼šè®®ä¸Šï¼Œå¥¥æœ¬æµ·é»˜ç»™å‡ºåˆ¶é€ åŸå­å¼¹æ‰€éœ€è¦çš„ U-235 çš„å¤§è‡´è´¨é‡ï¼š100 å…¬æ–¤å·¦å³ã€‚\n1942 å¹´ 1 æœˆï¼Œå¥¥æœ¬æµ·é»˜è¢«å§”æ´¾ä¸»å¯¼å¿«ä¸­å­ç ”ç©¶ï¼Œå¥¥æœ¬æµ·é»˜åœ¨ 1942 å¹´å¤å¤©ç»„ç»‡äº†ä¸€åœºç ”è®¨ä¼šï¼Œç ”ç©¶åŸå­å¼¹çš„è®¾è®¡ï¼Œææ–™ç­‰é—®é¢˜ã€‚ä¸ä¼šè€…åŒ…æ‹¬ Hans Bethe ä»¥åŠ Edward Tellerï¼Œå¥¥æœ¬æµ·é»˜å¹¿æ³›çš„çŸ¥è¯†ç»™ Bethe ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼š\nNow I could see at firsthand the tremendous intellectual power of Oppenheimer who was the unquestioned leader of our group\u0026hellip;. The intellectual experience was unforgettable.\nä»–ä»¬çš„ç ”ç©¶ä¹Ÿå‘ç°ï¼ŒåŸå­å¼¹åˆ¶é€ éœ€è¦å¤§é‡çš„é“€ï¼Œå…‰é å®éªŒå®¤æ˜¯æ— æ³•ç”Ÿäº§å¦‚æ­¤å¤§é‡çš„é“€ï¼Œå¿…é¡»è¦é å¤§è§„æ¨¡å·¥ä¸šç”Ÿäº§ï¼Œè¿™ä¹Ÿæ„å‘³ç€åˆ¶é€ åŸå­å¼¹æˆæœ¬é«˜æ˜‚ï¼ˆå‚è€ƒ è¿™é‡Œï¼‰ã€‚\næ´›æ–¯é˜¿æ‹‰è«æ–¯å®éªŒå®¤ # åˆ°äº† 1942 å¹´ï¼Œç¾å›½åŸå­å¼¹å§”å‘˜ä¼šçš„å§”å‘˜ä»¬å·²ç»è¢«å¥¥æœ¬æµ·é»˜çš„èƒ½åŠ›æ‰€æŠ˜æœï¼Œä»–ä»¬å½“æ—¶æƒ³è¦æˆç«‹ä¸€ä¸ªè‡´åŠ›äºåŸå­å¼¹ç ”ç©¶çš„å®éªŒå®¤ï¼Œæ¥ç»Ÿç­¹ç¾å›½æ‰€æœ‰åŸå­å¼¹ç ”ç©¶çš„åŠ›é‡ï¼Œå¥¥æœ¬æµ·é»˜å°±æˆäº†ç»ä½³äººé€‰ã€‚æ­¤æ—¶å†›æ–¹ä»ç„¶æ‹’ç»ç»™äºˆå¥¥æœ¬æµ·é»˜ç›¸å…³çš„å®‰å…¨æƒé™ï¼Œå¥¥æœ¬æµ·é»˜ä½œä¸ºä¸€åå¿ è¯šçš„çˆ±å›½è€…ï¼Œä¹Ÿæ„è¯†åˆ°è‡ªå·±â€œå¯ç–‘â€çš„è¿‡å»ç»™è‡ªå·±ä¸ºå›½æ•ˆåŠ›å¸¦æ¥äº†éº»çƒ¦ï¼Œä¹Ÿå†³å®šæ–­ç»è‡ªå·±å’Œå…±äº§å…šçš„è”ç³»ã€‚\nåŸå­å¼¹çš„ç ”åˆ¶ä¹Ÿç¦»ä¸å¼€å†›æ–¹ï¼Œ1942 å¹´ 9 æœˆ 18 æ—¥ï¼ŒLeslie Groves å°†å†›è¢«ä»»å‘½ä¸ºæ›¼å“ˆé¡¿è®¡åˆ’å†›æ–¹æ€»è´Ÿè´£äººã€‚10 æœˆï¼ŒGroves ç¬¬ä¸€æ¬¡å’Œå¥¥æœ¬æµ·é»˜ä¼šé¢ï¼Œå¥¥æœ¬æµ·é»˜å»ºè®®æ–°çš„å®éªŒå®¤åº”è¯¥å»ºåœ¨ä¸€ä¸ªåè¿œä¸ä¸–éš”ç»çš„åœ°æ–¹ï¼Œç¡®ä¿ç»å¯†ä¿¡æ¯ä¸æ˜“å¤–æ³„ã€‚å¥¥æœ¬æµ·é»˜ä¹ŸæŒ‡å‡ºäº†ï¼Œå»ºé€ åŸå­å¼¹è¿™æ ·ä¸€ä¸ªå®é™…çš„æ­¦å™¨ï¼Œéœ€è¦å¤šå­¦ç§‘åˆä½œï¼Œæ¶‰åŠåˆ°è®¸å¤šæ–¹é¢ï¼ŒåŒ…æ‹¬åŒ–å­¦ï¼Œå†¶é‡‘ï¼Œå·¥ç¨‹ï¼Œç‰©èµ„ä¾›åº”ç­‰æ–¹é¢ï¼Œæ­¤å‰ä»æœªæœ‰äººè€ƒè™‘è¿‡è¿™äº›é—®é¢˜ã€‚Groves è¢«å¥¥æœ¬æµ·é»˜çš„æ°”è´¨å’Œæ™ºæ…§æ‰€å¸å¼•ï¼ŒGroves å‘Šè¯‰è®°è€…ï¼š\nHe\u0026rsquo;s a genius, a real genius. While Lawrence is very bright, he\u0026rsquo;s not a genius, just a good hard worder. Oppenhemier knows about everything.\nè¿™æ¬¡ä¼šé¢ä»¥åï¼ŒGroves å¿ƒä¸­å·²æ•²å®šå¥¥æœ¬æµ·é»˜ä½œä¸ºæ–°å®éªŒå®¤çš„ä¸»ä»»ã€‚Groves çš„æè®®é­åˆ°äº†ç§‘å­¦ç•Œçš„åå¯¹ï¼ŒHans Bethe è®¤ä¸ºå¥¥æœ¬æµ·é»˜æ²¡æœ‰é¢†å¯¼ä¸€ç¾¤äººçš„ç»éªŒï¼Œå¦å¤–å¥¥æœ¬æµ·é»˜æ˜¯ä¸€ä¸ªç†è®ºç‰©ç†å­¦å®¶ï¼Œå¯¹äºå®é™…çš„è®¾å¤‡ä¸€çªä¸é€šï¼Œæ€ä¹ˆèƒ½é¢†å¯¼ä¸€ä¸ªå®é™…çš„å·¥ç¨‹é¡¹ç›®å‘¢ï¼Ÿä»–çš„æœ‹å‹ I. I. Rabi è¯´åˆ°ï¼š\nHe was a very impractical fellow\u0026hellip; He didn\u0026rsquo;t know anything about equipment. He couldn\u0026rsquo;t run a hamburger stand.\nå†›æ–¹äººå£«ä¹Ÿåå¯¹ä»»å‘½å¥¥æœ¬æµ·é»˜ï¼Œç„¶è€Œä»–ä»¬å¹¶ä¸èƒ½æ‰¾åˆ°ä¸€ä¸ªæ¯”å¥¥æœ¬æµ·é»˜æ›´åˆé€‚çš„äººé€‰ï¼Œäºæ˜¯ 1942 å¹´ 10 æœˆæœ«ï¼Œå¥¥æœ¬æµ·é»˜è¢«æ­£å¼ä»»å‘½ä¸ºè¦ç­¹å»ºçš„æ–°å®éªŒå®¤çš„ä¸»ä»»ã€‚æˆ˜äº‰ç»“æŸä»¥åï¼ŒRabi å›é¦–å¾€äº‹ï¼Œè®¤ä¸º Groves é€‰æ‹©å¥¥æœ¬æµ·é»˜ä½œä¸ºå®éªŒå®¤ä¸»ä»»æ˜¯â€œå¤©æ‰çš„é€‰æ‹©â€ã€‚\n1942 å¹´ 11 æœˆï¼Œå¥¥æœ¬æµ·é»˜ä¸åŠ³ä¼¦æ–¯åŒå†›æ–¹äººå‘˜ä¸€èµ·æ•²å®šäº†æ–°å¢¨è¥¿å“¥å·çš„æ´›æ–¯é˜¿æ‹‰è«æ–¯ä½œä¸ºæ–°å®éªŒå®¤çš„åœºåœ°ï¼Œä»–ä»¬ä¹°ä¸‹äº†ä¸€ä¸ªå­¦æ ¡çš„åœºåœ°ä½œä¸ºå®éªŒå®¤çš„åœ°ç‚¹ã€‚\nå®éªŒå®¤ç­¹å»º # è¦åœ¨å‡ è¿‘è›®è’çš„åœ°æ–¹å»ºç«‹å®éªŒå®¤éœ€è¦çš„å·¥ä½œé‡æ˜¯å·¨å¤§çš„ã€‚é¦–å…ˆæ˜¯è¦å»ºç«‹ç§‘å­¦å®¶ä»¥åŠå·¥ä½œäººå‘˜çš„å±…ä½æˆ¿å±‹ï¼Œå¦å¤–è¦å»ºç«‹å„ç§å®éªŒå®¤ï¼Œå®‰è£…åŸå­å¼¹ç ”ç©¶éœ€è¦çš„å„ç§è®¾å¤‡ã€‚æ‰€æœ‰çç¢çš„å·¥ä½œï¼Œéƒ½è¦æ±‚ä¸€ä¸ªäº‹æ— å·¨ç»†ï¼Œè®¤çœŸçš„é¢†å¯¼è€…ï¼Œå¥¥æœ¬æµ·é»˜æ˜¾ç„¶ä¸æ˜¯è¿™ç§äººã€‚æœ€åˆçš„å‡ ä¸ªæœˆå®éªŒå®¤çš„å»ºè®¾ä¸€ç‰‡æ··ä¹±ï¼Œç„¶è€Œå¥¥æœ¬æµ·é»˜å¾ˆå¿«æ”¹å˜äº†è‡ªå·±çš„ä¸ªæ€§ä»¥é€‚åº”è‡ªå·±çš„é¢†å¯¼å·¥ä½œï¼Œä»–çš„åŠ©æ‰‹ Wilson è¯´åˆ°ï¼š\nWhatever we felt about his deficiencies, in a few months he had corrected those deficiencies, and obviously knew a lot more than we did about administrative procedures.\nå¥¥æœ¬æµ·é»˜å°†å®éªŒå®¤åˆ†ä¸ºå››ä¸ªä¸åŒéƒ¨é—¨ï¼Œå®éªŒç‰©ç†ï¼Œç†è®ºç‰©ç†ï¼ŒåŒ–å­¦å’Œå†¶é‡‘, ä»¥åŠç‰©èµ„ä¾›åº”ã€‚ç„¶è€Œæœ€åˆå¯¹è¿™é¡¹å·¥ä½œæ‰€éœ€è¦çš„äººåŠ›æ˜¾ç„¶ä½ä¼°äº†ï¼Œä»–æœ€åˆè®¤ä¸ºåªéœ€è¦å…­ä¸ªç§‘å­¦å®¶ï¼Œå†åŠ ä¸€äº›å·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯äººå‘˜ï¼Œå³å¯å®Œæˆè¿™é¡¹å·¥ä½œã€‚å®é™…ä¸Šï¼Œåˆ° 1945 å¹´å¤å¤©ï¼Œæ´›æ–¯é˜¿æ‹‰è«æ–¯å·²ç»æˆä¸ºä¸€ä¸ªå°é•‡ï¼Œå±…ä½äº† 4000 å¹³æ°‘å’Œ 2000 å†›äººã€‚\nå¥¥æœ¬æµ·é»˜çš„å¦å¤–ä¸€é¡¹å·¥ä½œæ˜¯è¯´æœç¾å›½å„åœ°çš„ç§‘å­¦å®¶å‰å¾€æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼Œå¥¥æœ¬æµ·é»˜æƒ³é‚€è¯· Rabi åŠ å…¥ï¼Œä½†æ˜¯ Rabi æ‹’ç»äº†å¥¥æœ¬æµ·é»˜çš„é‚€è¯·ï¼Œä»–è®¤ä¸ºåŸå­å¼¹å¨åŠ›å·¨å¤§ï¼Œä¸€æ—¦æŠ•æ”¾åˆ°å®æˆ˜ï¼Œé€ æˆçš„äººé“ä¸»ä¹‰ç¾éš¾æ˜¯å·¨å¤§çš„ã€‚ä¸è¿‡ Rabi åŠè¯´ Hans Bethe ç­‰å…¶ä»–ç§‘å­¦å®¶å‰å¾€æ´›æ–¯é˜¿æ‹‰è«æ–¯ã€‚1943 å¹´ 3 æœˆï¼Œå¥¥æœ¬æµ·é»˜ä¸€å®¶äººæ­£å¼æ¬åˆ°æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼ˆåˆç§°ä¸º The Hillï¼‰ï¼Œæœ€åˆçš„æ¡ä»¶ååˆ†ç®€é™‹ï¼Œä¸€ä¸‹é›¨è·¯éƒ½æ³¥æ³ä¸å ªï¼Œæ— æ³•è¡Œè½¦ï¼Œç§‘å­¦å®¶ä»¥åŠå·¥ä½œäººå‘˜åœ¨è¿™æ ·çš„æ¡ä»¶ä¸‹å¼€å§‹äº†åŸå­å¼¹çš„ç ”ç©¶ã€‚\nåŸå­å¼¹ç ”åˆ¶ # åŸå­å¼¹çš„ç ”ç©¶æ—¶é—´å¾ˆç´§ï¼Œæ‰€æœ‰äººæ¯å‘¨éƒ½å·¥ä½œ 6 å¤©æ—¶é—´ï¼Œå‘¨æ—¥ä¼‘æ¯ã€‚åŸå­å¼¹ç ”ç©¶æ›´å¤šçš„æ˜¯ä¸€ä¸ªå·¥ç¨‹é¡¹ç›®ï¼Œå¥¥æœ¬æµ·é»˜å°†è‡ªå·±ä»ä¸€ä¸ªçŠ¹è±«ã€ç¾æ€¯çš„äººå˜æˆäº†ä¸€ä¸ªæœ‰å†³æ–­åŠ›çš„é¢†å¯¼è€…ã€‚å¥¥æœ¬æµ·é»˜å¯¹å·¥ç¨‹é—®é¢˜çš„é¢†æ‚Ÿèƒ½åŠ›ä¹Ÿè®©ä»–çš„åŒäº‹ä»¬æƒŠå¹ï¼š\nHe had a remarkable ability to absorb things so rapidly.\nä¸ºäº†ä¿ƒè¿›å„ä¸ªéƒ¨é—¨å’Œå­¦ç§‘ä¹‹é—´çš„äº¤æµï¼Œåœ¨ Bethe çš„å»ºè®®ä¸‹ï¼Œæ´›æ–¯é˜¿æ‹‰è«æ–¯æ¯å‘¨ä¸¾è¡Œä¸€ä¸ªå°å‹ç ”è®¨ä¼šï¼Œå‚ä¸è€…ä¸ºæ‹¥æœ‰æœ€é«˜æœºå¯†æƒé™çš„ç§‘å­¦å®¶ã€‚å¥¥æœ¬æµ·é»˜çš„å­¦ç”Ÿ Bob Serber å‘ç§‘å­¦å®¶ä»¬ä»‹ç»äº†å®éªŒå®¤çš„ä»»åŠ¡ä»¥åŠåŸå­å¼¹çš„åˆæ­¥è®¾è®¡ï¼ŒSerber ä»‹ç»äº†æªå¼ç»“æ„å’Œå†…çˆ†å¼è®¾è®¡çš„æœ€åˆæƒ³æ³•ã€‚\næœ€åˆåŸå­å¼¹ç ”åˆ¶ä¸»è¦ç ”ç©¶çš„æ˜¯æªå¼ç»“æ„ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸¤å—ä½äº ä¸´ç•Œè´¨é‡ çš„æ ¸åŸæ–™ä½¿ç”¨ç‚¸è¯é«˜é€Ÿç¢°æ’åœ¨ä¸€èµ·ï¼Œè¾¾åˆ°ä¸´ç•Œè´¨é‡ï¼Œç¬é—´é‡Šæ”¾æ ¸èƒ½ã€‚å†…çˆ†å¼è®¾è®¡åªä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆï¼Œ1943 å¹´åˆï¼Œå¥¥æœ¬æµ·é»˜ä»»å‘½ Seth Neddermeyer è´Ÿè´£ç ”ç©¶å†…çˆ†å¼è®¾è®¡ï¼Œä½†æ˜¯è¿›å±•ç¼“æ…¢ï¼Œ1943 å¹´ç§‹å¤©ï¼Œå¥¥æœ¬æµ·é»˜æ‰¾æ¥äº†å†¯è¯ºä¼Šæ›¼ï¼Œå†¯è¯ºä¼Šæ›¼ä»ç†è®ºä¸Šè¯æ˜äº†å†…çˆ†å¼åŸå­å¼¹çš„å¯è¡Œæ€§ã€‚ç„¶è€Œåˆ°äº† 1944 å¹´ 7 æœˆï¼Œåˆæ­¥å®éªŒè¡¨æ˜ï¼Œå·¥å‚æçº¯å¾—åˆ°çš„é’šå…ƒç´ çº¯åº¦ä¸å¤Ÿï¼Œé‡‡ç”¨æªå¼è®¾è®¡å°†ä¼šå¯¼è‡´é’šåŸå­å¼¹æå‰çˆ†ç‚¸ï¼Œè¾¾ä¸åˆ°è®¾è®¡çš„æ•ˆæœã€‚æ­¤æ—¶ä¹Ÿæ²¡æœ‰æ›´å¤šçš„èµ„æºå’Œæ—¶é—´è¿›ä¸€æ­¥æçº¯é’šå…ƒç´ ï¼Œä½¿ç”¨å†…çˆ†å¼è®¾è®¡çš„é’šåŸå­å¼¹æˆäº†å”¯ä¸€é€‰æ‹©ï¼Œå¥¥æœ¬æµ·é»˜è¯´æœå¤§å®¶å­¤æ³¨ä¸€æ·ï¼ŒèµŒå†…çˆ†å¼è®¾è®¡èƒ½å¤Ÿåœ¨å·¥ç¨‹ä¸Šå®ç°ã€‚1944 å¹´ 6 æœˆï¼Œç”±äº Neddermeyer é¢†å¯¼å·¥ä½œä¸åŠ›ï¼Œå¥¥æœ¬æµ·é»˜å°†å†…çˆ†å¼è®¾è®¡çš„è´Ÿè´£äººæ¢æˆäº†å“ˆä½›å¤§å­¦çš„ Kistiakowskyã€‚åˆ°äº† 1945 å¹´ 1 æœˆï¼Œå†…çˆ†å¼è®¾è®¡ä»ç„¶ä¸èƒ½æŒ‰ç…§é¢„æƒ³å·¥ä½œï¼Œå†›æ–¹æ‹…å¿ƒå®éªŒè¿›åº¦è¢«è€½è¯¯ï¼Œè¦æ±‚æ›´æ”¹è®¾è®¡æ–¹æ¡ˆï¼Œä½†å¥¥æœ¬æµ·é»˜ç»™äºˆäº† Kistiakowsky æ”¯æŒï¼Œåœ¨éšåçš„å‡ ä¸ªæœˆä»–ä»¬å®Œå–„äº†è®¾è®¡ï¼Œåˆ°äº† 1945 å¹´ 5 æœˆä»½ï¼Œå†…çˆ†å¼è®¾è®¡ç»ˆäºèƒ½æ­£å¸¸å·¥ä½œã€‚\nTrinity æµ‹è¯•ä¸åŸå­å¼¹æŠ•æ”¾ # çˆ±å¾·åÂ·æ³°å‹’ä¸æ°¢å¼¹ç ”ç©¶ # Edward Teller å‡ºç”ŸäºåŒˆç‰™åˆ©ï¼Œ1942 å¹´ï¼Œæ³°å‹’å’Œè´¹ç±³è®¨è®ºäº†åˆ©ç”¨åŸå­å¼¹çˆ†ç‚¸å¼•å‘çƒ­æ ¸ååº”çš„å¯èƒ½æ€§ï¼Œè¿™å°±æ˜¯æ°¢å¼¹çš„é›å½¢ï¼Œä»æ­¤ä¹‹åï¼Œæ³°å‹’å°±è¿·ä¸Šäº†æ°¢å¼¹çš„ç ”ç©¶ã€‚å°½ç®¡æ³°å‹’ä¹Ÿè¢«å¥¥æœ¬æµ·é»˜æ‹›åˆ°äº†æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼Œè´Ÿè´£åŸå­å¼¹å†…çˆ†ç›¸å…³çš„è®¡ç®—å·¥ä½œï¼Œä½†æ˜¯ä»–å¯¹åŸå­å¼¹ç ”ç©¶æ²¡æœ‰å…´è¶£ï¼Œä¹Ÿè®¨åŒåœ¨ Hans Bethe æ‰‹ä¸‹å·¥ä½œã€‚å¥¥æœ¬æµ·é»˜å®¹å¿äº†ä»»æ€§çš„æ³°å‹’ï¼Œå†³å®šæŠŠæ³°å‹’çš„å·¥ä½œäº¤ç»™äº†å¿ƒæ¥çš„è‹±å›½ç§‘å­¦å®¶ Rudolf Peierlsï¼Œå¹¶ä¸”å…è®¸æ³°å‹’ç»§ç»­æ°¢å¼¹ç ”ç©¶ï¼Œä»–è¿˜æ¯å‘¨æŠ½å‡ºå®è´µçš„ä¸€ä¸ªå°æ—¶ï¼Œå’Œæ³°å‹’æ¢è®¨é—®é¢˜ã€‚ç„¶è€Œæ³°å‹’è¿˜æ˜¯å¯¹å¥¥æœ¬æµ·é»˜ä¸æ»¡ï¼Œè®¤ä¸ºä»–å·²ç»å˜æˆäº†ä¸€ä¸ªå®˜åƒšæ°”æ¯åè¶³çš„æ”¿æ²»å®¶ã€‚\nå®‰å…¨æªæ–½ä¸é—´è°æ´»åŠ¨ # ç”±äºåŸå­å¼¹ç ”ç©¶é¡¹ç›®çš„æ•æ„Ÿï¼Œå†›æ–¹å¸Œæœ›èƒ½å¤Ÿæœ€å¤§ç¨‹åº¦ä¿è¯ä¿¡æ¯ä¸æ³„éœ²ï¼ŒGroves å°†å†›è¦æ±‚ä¿æŒä¸åŒéƒ¨é—¨ä¹‹é—´çš„ä¿¡æ¯éš”ç¦»ï¼Œç„¶è€Œç§‘å­¦å®¶ä»¬å¹¶ä¸å–œæ¬¢è¿™æ ·ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºç§‘å­¦å®¶ä¸å–œæ¬¢çº¦æŸï¼Œå–œæ¬¢è‡ªç”±ï¼Œå¦å¤–è‡ªç”±äº¤æµä¹Ÿèƒ½æ¿€å‘æ–°çš„æƒ³æ³•ï¼ŒåŠ å¿«åŸå­å¼¹çš„ç ”ç©¶ã€‚å¥¥æœ¬æµ·é»˜ä¹Ÿå°½æœ€å¤§åŠªåŠ›ä¸ºç§‘å­¦å®¶äº‰å–ç›¸å¯¹è‡ªç”±çš„ç¯å¢ƒï¼Œä½œä¸ºæ›¼å“ˆé¡¿è®¡åˆ’ç§‘å­¦ä¸»ç®¡ï¼Œå¥¥æœ¬æµ·é»˜æ‹¥æœ‰ç›¸å½“å¤§çš„æƒå¨å’Œå½±å“åŠ›ï¼Œæœ€ç»ˆä¿¡æ¯éš”ç¦»æ”¿ç­–åªåœç•™åœ¨çº¸é¢ä¸Šï¼Œå¹¶æ²¡æœ‰ä¸¥æ ¼å®æ–½ã€‚è¿™ä¹Ÿç»™è‹è”çš„é—´è°æ´»åŠ¨æä¾›äº†ä¾¿åˆ©ï¼Œæ´›æ–¯é˜¿æ‹‰è«æ–¯å®éªŒå®¤ä¸€äº›åŒæƒ…è‹è”çš„ç§‘å­¦å®¶ï¼Œå·å·å‘è‹è”æä¾›äº†å¤§é‡åŸå­å¼¹ç ”ç©¶çš„ç»å¯†ä¿¡æ¯ï¼Œæ‰€ä»¥è‹è”åœ¨åŸå­å¼¹è¿˜æ²¡æœ‰çˆ†ç‚¸ä¹‹å‰å°±çŸ¥é“äº†ç¾å›½æ­£åœ¨ç ”åˆ¶åŸå­å¼¹ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå†›æ–¹è¿˜æ˜¯å®è¡Œäº†å…¶ä»–çš„ä¿å¯†é”™å¤±ï¼Œæ‰€æœ‰è¿›å‡ºæ´›æ–¯é˜¿æ‹‰è«æ–¯çš„é‚®ä»¶éƒ½ä¼šè¢«æ£€æŸ¥ï¼Œæ‰€æœ‰é€šè¯éƒ½è¢«ç›‘å¬ï¼Œç”šè‡³å¥¥æœ¬æµ·é»˜æœ¬äººä¹Ÿè¢«ä¸¥å¯†ç›‘è§†ï¼Œä»–çš„åŠ©æ‰‹å’Œå¸æœºéƒ½æ˜¯å†›æ–¹çš„ä¾¿è¡£ç‰¹å·¥ï¼Œç›‘è§†ç€ä»–çš„ä¸€ä¸¾ä¸€åŠ¨ã€‚\nç„¶è€Œï¼Œè¿™äº›ä¿å¯†æªæ–½å¹¶æœªé˜»æŒ¡ä½è‹è”çš„é—´è°æ´»åŠ¨ï¼Œä» 1944 å¹´ç§‹å¤©å¼€å§‹ï¼ŒKlaus Fuchs å‘è‹è”ä¼ é€’äº†å…³äºå†…çˆ†å‹åŸå­å¼¹è®¾è®¡çš„ä¿¡æ¯ã€‚å¦å¤–ä¸€åå‘è‹è”ä¼ é€’æœºå¯†ä¿¡æ¯çš„æ˜¯ Ted Hallã€‚åœ¨æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼ŒHall å¬åˆ°äº†è®¸å¤šå…³äºåŸå­å¼¹å¯¹æˆ˜åä¸–ç•Œå½±å“çš„è®¨è®ºï¼ŒHall è®¤ä¸ºï¼Œå¦‚æœç¾å›½å„æ–­äº†åŸå­å¼¹åˆ¶é€ æŠ€æœ¯ï¼Œé‚£ä¹ˆç¬¬ä¸‰æ¬¡ä¸–ç•Œå¤§æˆ˜ä¸å¯é¿å…:\nit seemed to me that an American monopoly was dangerous and should be prevented.\nå› æ­¤ Hall ä¸»åŠ¨å‘è‹è”æƒ…æŠ¥æœºæ„æä¾›äº†è®¸å¤šåŸå­å¼¹ç ”åˆ¶çš„æœºå¯†ä¿¡æ¯ã€‚\nå…³äºåŸå­å¼¹çš„æ€è€ƒ # 1943 å¹´ 12 æœˆï¼Œæ³¢å°”è®¿é—®æ´›æ–¯é˜¿æ‹‰è«æ–¯ï¼Œæ³¢å°”å¸¦æ¥äº†å¾·å›½äººåŸå­èƒ½ç ”ç©¶çš„æ¶ˆæ¯ï¼Œæ­¤å‰ï¼Œæ³¢å°”æ›¾å’Œæµ·æ£®å ¡ä¼šé¢ï¼Œæµ·æ£®å ¡å‘Šè¯‰äº†æ³¢å°”å¾·å›½çš„åŸå­å¼¹ç ”ç©¶ï¼Œç„¶è€Œå½“æ—¶å¾·å›½äººæ­£åœ¨ç ”ç©¶çš„ä¼¼ä¹æ˜¯æ ¸ååº”å †ï¼Œå¹¶ä¸æ˜¯åŸå­å¼¹ï¼Œæ ¸ååº”å †çš„å†›äº‹ä»·å€¼å¹¶ä¸å¤§ï¼Œä¸èƒ½ä½œä¸ºå®é™…çš„æˆ˜äº‰æ­¦å™¨ã€‚æ³¢å°”å¯¹äºåŸå­å¼¹æœ€å¤§çš„æ‹…å¿§æ˜¯æˆ˜åå¯èƒ½è¥¿æ–¹å’Œè‹è”ä¹‹é—´ä¼šè¿›è¡Œæ ¸å†›å¤‡ç«èµ›ï¼Œè¿™å¯¹äºäººç±»çš„å‰é€”æ˜¯å·¨å¤§çš„å¨èƒï¼Œæ³¢å°”è®¤ä¸ºè¦é¿å…è¿™ç§ç»“å±€ï¼Œå¿…é¡»å€¡å¯¼ä¸€ç§æ–°çš„å›½é™…ç§©åºï¼Œä¹Ÿå°±æ˜¯â€œå¼€æ”¾ä¸–ç•Œâ€ï¼Œè‹è”æœ‰æƒåŠ›çŸ¥é“è‹±ç¾åŠ çš„åŸå­å¼¹ç ”ç©¶è®¡åˆ’ï¼Œè‹è”ç§‘å­¦å®¶ä¹Ÿåº”è¯¥å‚åŠ åˆ°åŸå­å¼¹ç ”ç©¶ä¸­ï¼Œå¦‚æœè‹è”è¢«è’™åœ¨é¼“é‡Œï¼Œè¿™å°†ä¸å¯é¿å…åœ°å¯¼è‡´è‹è”å’Œè¥¿æ–¹ä¹‹é—´çš„çŒœç–‘ï¼Œæ ¸ç«èµ›å°†ä¸å¯é¿å…ï¼š\nA postwar nuclear arms race could be prevented, Bohr believed, if Statlin was informed of the existence of the Manhattan Project and assured that it posed no threat to the Soviet Union.\næ­¤å‰å¥¥æœ¬æµ·é»˜ä¸€ç›´å¿™äºåŸå­å¼¹ç ”ç©¶çš„å…·ä½“å·¥ä½œï¼Œæ— æš‡æ€è€ƒåŸå­å¼¹ç ”ç©¶æˆåŠŸå¯¹ä¸–ç•Œæ ¼å±€çš„å½±å“ï¼Œä»é‚£æ—¶èµ·ï¼Œå¥¥æœ¬æµ·é»˜å¼€å§‹æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚æ”¿æ²»å®¶çš„çŸ­è§†è®©ä»–ä»¬æ²¡èƒ½æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ³¢å°”çš„æ„è§è¢«å¦å®šï¼Œä¸˜å‰å°”å’Œç½—æ–¯ç¦æ”¿åºœéƒ½è®¤ä¸ºè‹±ç¾èƒ½å¤Ÿä¿æŒè‡ªå·±çš„æ ¸æ­¦å™¨ä¸Šçš„å„æ–­ï¼Œæ‹¥æœ‰å¨å“è‹è”çš„èƒ½åŠ›ã€‚\n1944 å¹´åº•ï¼Œçº³ç²¹åœ¨æ¬§æ´²å·²ç»èŠ‚èŠ‚è´¥é€€ï¼Œç”¨åŸå­å¼¹æ¥å¯¹ä»˜çº³ç²¹å¾·å›½ä¼¼ä¹å·²ç»æ²¡æœ‰å¿…è¦æ€§ï¼Œæ´›æ–¯é˜¿æ‹‰è«æ–¯çš„ç§‘å­¦å®¶ä»¬è®¨è®ºäº†æ˜¯å¦æœ‰å¿…è¦ç»§ç»­ç ”åˆ¶åŸå­å¼¹ï¼Œå¥¥æœ¬æµ·é»˜è®¤ä¸ºä½œä¸ºç§‘å­¦å®¶ä»–ä»¬çš„ä»»åŠ¡ä¸»è¦æ˜¯ç ”åˆ¶åŸå­å¼¹ï¼Œåœ¨åŸå­å¼¹ç©¶ç«Ÿå¦‚ä½•ä½¿ç”¨è¿™ä¸ªé—®é¢˜ä¸Šä»–ä»¬æ²¡æœ‰æ›´å¤šçš„æƒåŠ›ï¼Œå¥¥æœ¬æµ·é»˜è¿˜è®¤ä¸ºåŸå­å¼¹çš„å‡ºç°å¯èƒ½ä¼šç»ˆç»“æœªæ¥æ‰€æœ‰çš„æˆ˜äº‰ã€‚åœ¨ 1945 å¹´ 3 æœˆçš„ä¸€æ¬¡è®¨è®ºä¸­ï¼Œå¥¥æœ¬æµ·é»˜è®¤ä¸ºåŸå­å¼¹å¿…é¡»åœ¨æˆ˜äº‰ä¸­ä½¿ç”¨ä¸€æ¬¡ï¼Œè®©äººä»¬æ„è¯†åˆ°åŸå­å¼¹çš„ææ€–ï¼Œå¦‚ æœåŸå­å¼¹ä½œä¸ºç§˜å¯†æ­¦å™¨æ²¡æœ‰åº”ç”¨åœ¨æˆ˜äº‰ä¸­ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜å‡ ä¹å¯ä»¥ç¡®å®šä¸€å®šä¼šæ˜¯åŸå­å¼¹å¤§æˆ˜ã€‚\nChevalier äº‹ä»¶ # 1942 å¹´å†¬å¤©å‘ç”Ÿçš„ Chevalier äº‹ä»¶å½±å“äº†å¥¥æœ¬æµ·é»˜ä¹‹åçš„å‘½è¿ã€‚Haakon Chevalier æ˜¯ä¼¯å…‹åˆ©çš„ä¸€åæ³•å›½æ–‡å­¦æ•™æˆï¼Œå¾ˆæ—©å°±ä¸å¥¥æœ¬æµ·é»˜ç†Ÿè¯†ï¼ŒChevalier çš„ä¸€ä½æœ‹å‹ Elenton æ˜¯å£³ç‰Œå…¬å¸çš„å‘˜å·¥ï¼ŒElenton å¯¹è‹è”æŠ±æœ‰åŒæƒ…ï¼Œè®¤ä¸ºå½“æ—¶æ­£åœ¨åŒå¾·å†›ä½œæˆ˜çš„è‹è”æ²¡æœ‰å¾—åˆ°ç›Ÿå‹åº”æœ‰çš„å¾…é‡(ç¾å›½å¹¶æ²¡æœ‰å’Œè‹è”å…±äº«æ‰€æœ‰çš„æƒ…æŠ¥æ¶ˆæ¯)ï¼ŒElenton å‘ Chevalier æè®®ï¼Œè¦ä»–ä»å¥¥æœ¬æµ·é»˜é‚£é‡Œæ‰“æ¢å…³äºåŸå­å¼¹ç ”ç©¶çš„æ¶ˆæ¯ï¼Œç„¶åç”± Elenton è½¬å‘ç»™æ—§é‡‘å±±è‹è”é¢†äº‹é¦†ã€‚åœ¨ 1942 å†¬å¤©å¥¥æœ¬æµ·é»˜ä¸¾åŠçš„å®¶åº­å®´ä¼šä¸Šï¼ŒChevalier å‘å¥¥æœ¬æµ·é»˜è½¬è¾¾äº† Elenton çš„æƒ³æ³•ï¼Œå¥¥æœ¬æµ·é»˜è®¤ä¸ºè¿™æ˜¯å›å›½è¡Œä¸ºï¼Œä¸äºˆè€ƒè™‘ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨å½“æ—¶å°±å‘å†›æ–¹æŠ¥å‘Šè¿™ä»¶äº‹(å¯èƒ½æ˜¯ä¸ºäº†ä¿æŠ¤ Chevalier)ï¼Œç„¶è€Œå°±æ˜¯è¿™æ ·ä¸€ä»¶å°äº‹ï¼Œåœ¨åå¤šå¹´ä»¥åå¯¼è‡´å¥¥æœ¬æµ·é»˜å¤±å»äº†å‚ä¸ç¾å›½åŸå­å¼¹ç›¸å…³äº‹ç‰©çš„æœ€é«˜å®‰å…¨æƒé™ã€‚\n1943 å¹´ 8 æœˆï¼Œå¥¥æœ¬æµ·é»˜å‘å†›æ–¹æƒ…æŠ¥äººå‘˜æŠ¥å‘Šäº†å‡ ä¸ªæœˆå‰çš„ Elenton äº‹ä»¶ï¼šElenton é€šè¿‡ä¸€ä¸ªä¸­é—´äººï¼Œæ¥è§¦äº†ä¸‰ä½æˆ–å¤šä½å‚ä¸æ›¼å“ˆé¡¿è®¡åˆ’çš„ç§‘å­¦å®¶ï¼Œå¸Œæœ›å¥—å–å…³äºåŸå­å¼¹ç ”ç©¶çš„ä¿¡æ¯ã€‚ç„¶è€Œå¥¥æœ¬æµ·é»˜æ‹’ç»è¯´å‡ºä¸­é—´äººçš„å§“åï¼Œå› ä¸ºä»–è®¤ä¸º Chavaier å¹¶ä¸æ˜¯è‹è”é—´è°ï¼Œåªæ˜¯è´Ÿè´£æŠŠè¯è½¬è¾¾åˆ°ä»–è€Œå·²ã€‚1943 å¹´ 12 æœˆï¼Œåœ¨ Groves å°†å†›çš„å†ä¸‰è¦æ±‚ä¸‹ï¼Œå¥¥æœ¬æµ·é»˜è¯´å‡ºäº†ä¸­é—´äººçš„åå­—ï¼Œä¹Ÿå°±æ˜¯ä»–çš„æœ‹å‹ Chevalierã€‚\næˆ˜å # å¬è¯ä¼š (1954 å¹´) # å­å¥³ # å¥¥æœ¬æµ·é»˜å’Œ Kitty æ€»å…±è‚²æœ‰ä¸¤ä¸ªå­©å­ï¼Œå¤§å„¿å­ Peterï¼Œå°å¥³å„¿ Toniã€‚Peter åˆšç”Ÿä¸‹æ¥æ²¡å¤šä¹…ï¼Œå¥¥æœ¬æµ·é»˜å¤«å¦‡å°±æŠŠä»–æ‰˜ä»˜ç»™æœ‹å‹ç…§é¡¾ï¼Œä¸¤ä¸ªäººå‡ºå»åº¦å‡å‡ ä¸ªæœˆï¼Œåœ¨è¿™ä¸ªå…³é”®çš„æ—¶æœŸï¼Œçˆ¶æ¯å’Œå­©å­ä¹‹é—´æ²¡æœ‰å½¢æˆç´§å¯†çš„å…³ç³»ï¼ŒPeter é•¿å¤§ä¹‹å å˜æˆäº†ä¸€ä¸ªå®³ç¾å’Œæ•æ„Ÿçš„å­©å­ï¼ŒKitty äº Peter çš„å…³ç³»ä¸€ç›´å¾ˆç´§å¼ ï¼Œç»™äº† Peter å¾ˆå¤šå‹åŠ›ï¼ŒPeter åœ¨å¥¥æœ¬æµ·é»˜å»ä¸–åç»§æ‰¿äº†ä»–åœ¨æ–°å¢¨è¥¿å“¥å·çš„å†œåœºï¼Œåšèµ·äº†å†œæ°‘å’Œæœ¨åŒ ã€‚\nToni æ˜¯ä¸€ä¸ªç¾ä¸½çš„å¥³å­©ï¼Œå‡ºç”Ÿäºæ´›æ–¯é˜¿æ‹‰è«æ–¯å®éªŒå®¤ï¼Œåœ¨ Toni å‡ ä¸ªæœˆå¤§çš„æ—¶å€™ï¼Œç”±äº Kitty å¸¦ç€ Peter å»åŒ¹å…¹å ¡ä¼‘å…»ï¼Œæ›¾è¢«æ‰˜ä»˜ç»™å¥¥æœ¬æµ·é»˜çš„æœ‹å‹ Pat Sherr ç…§é¡¾ã€‚å¯èƒ½æ˜¯ç”±äºå·¨å¤§çš„å·¥ä½œå‹åŠ›ä»¥åŠé•¿æ—¶é—´çš„å·¥ä½œï¼ŒPat Sherr ç•™æ„åˆ°å¥¥æœ¬æµ·é»˜å¯¹äºå¥³å„¿åå¸¸çš„æ€åº¦ï¼š\nHe would come and sit and chat with me, but he wouldn\u0026rsquo;t ask to see the baby. She might as well have been God knows where, but he never asked to see her.\nå‡ ä¸ªæœˆåï¼Œå¥¥æœ¬æµ·é»˜ç”šè‡³å‘ Sherr æè®®æ”¶å…» Toniï¼Œå½“ Sherr é—®èµ·åŸå› æ—¶ï¼Œå¥¥æœ¬æµ·é»˜è¯´åˆ°ï¼šâ€œæˆ‘æ— æ³•çˆ±å¥¹ã€‚â€ 1967 å¹´ï¼Œå¥¥æœ¬æµ·é»˜å»ä¸–ç»™ Toni å·¨å¤§æ‰“å‡»ï¼Œ1969 å¹´ï¼Œç”±äº FBI æ‹’ç»ç»™å¥¹ç›¸å…³çš„å®‰å…¨æƒé™ï¼ŒToni ä¸¢æ‰äº†å¥¹åœ¨è”åˆå›½çš„ç¿»è¯‘å·¥ä½œï¼Œéšåå¥¹æ¬åˆ°äº†ç¾å±ç»´äº¬ç¾¤å²›ï¼Œ1977 å¹´ï¼ŒToni è‡ªæ€èº«äº¡ï¼ŒçœŸæ˜¯å·¨å¤§çš„æ‚²å‰§ã€‚\nåšåäººçš„å­©å­ä¹Ÿä¸ä¸€å®šå°±æ˜¯ä¸€ä»¶å¹¸ç¦çš„äº‹æƒ…ã€‚\nè®ºæ–‡åå­—å«â€œOn Continued Gravitational Contractionâ€ï¼Œå…·ä½“è§ è¿™é‡Œã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\näººæ€§æ˜¯å¤æ‚çš„ï¼Œè¿™è®©æˆ‘æƒ³èµ·äº†ã€Šç¹èŠ±ã€‹ä½œè€…é‡‘å®‡æ¾„é‡‡è®¿ä¸­è¯´çš„ä¸€æ®µè¯ï¼Œè§è¿™é‡Œã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ http://blog.nuclearsecrecy.com/2015/12/11/the-curious-death-of-oppenheimers-mistress/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"3 October 2020","externalUrl":null,"permalink":"/2020/10/03/american_prometheus_jro/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘ä¸€ä¸ªæœˆè¯»äº† Kai bird å’Œ Martin J. Sherwin çš„\u003ca href=\"https://www.goodreads.com/book/show/80571.American_Prometheus\" target=\"_blank\"\u003eã€ŠAmerican prometheusã€‹\u003c/a\u003eï¼Œè¿™æœ¬ä¹¦æ˜¯è‘—åç‰©ç†å­¦å®¶å¥¥æœ¬æµ·é»˜çš„ä¼ è®°ï¼Œè¯¦ç»†è®²è¿°äº†å¥¥æœ¬æµ·é»˜çš„ä¸€ç”Ÿã€‚ä¸ºäº†å†™è¿™æœ¬ä¹¦ï¼Œä½œè€…èŠ±äº† 25 å¹´çš„æ—¶é—´ï¼Œåšäº†å¾ˆå¤šé‡‡è®¿ï¼ŒæŸ¥çœ‹äº†å¾ˆå¤š FBI å…³äºå¥¥æœ¬æµ·é»˜çš„èµ„æ–™ã€‚è¿™æœ¬ä¹¦æ˜¯å…³äºå¥¥æœ¬æµ·é»˜çš„æƒå¨è‘—ä½œï¼Œ2005 ç”«ä¸€é—®ä¸–ï¼Œ 2006 å¹´å°±è·å¾—äº†\u003ca href=\"https://www.pulitzer.org/winners/kai-bird-and-martin-j-sherwin\" target=\"_blank\"\u003eæ™®åˆ©ç­–å¥–(ä¼ è®°ç±»)\u003c/a\u003eã€‚\u003c/p\u003e","title":"ç¾å›½æ™®ç½—ç±³ä¿®æ–¯--å¥¥æœ¬æµ·é»˜ä¼ ","type":"posts"},{"content":"This is the 7th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ Copy several lines to destination line # Use :copy command:\n:[range]copy {address} [range] is a line range that has very flexible syntax, see :h cmdline-ranges for the details. {address} is the destination address you want to copy text to.\nLet\u0026rsquo;s see some concrete examples.\nCopy line 1 to 3 to below line 11:\n:1,3copy 11 Copy three lines from current cursor position to the end of the file:\n:.,.+2copy $ Ref:\nCopy lines to other line in Vim. Save state of all opened files and open them later # Sometimes, we want to restart Vim/Neovim, but do not want to lose the current state since we may have opened a lot of files. A simple way is to use :mksession command. It will create a file named Session.vim. Or you can provide a custom name for it :mksession my-sess.vim.\nWhen you start Vim/Neovim later, you can use :source my-sess.vim to restore the state of previous state of Vim, with all the previous files opened.\nThere is also vim plugins such as vim-obession that helps you simplify the management of sessions.\nRef:\nRestore opened files in Vim. Delete lines matching/not matching a pattern? # To delete lines matching a pattern, we can use the :global command:\n:%g/some pattern/d Some explanation on this command:\n%: specify the whole file. We can also specify a custom range, e.g., 2,10 (line 2 to line 10). See also : h cmdline-ranges. some pattern: The pattern we want to match. It can be normal text or regular expressions. d: For command :delete. To delete lines not matching a pattern, we simply reverse the :global command via :global!:\n:%g!/some pattern/d which will delete lines not matching some pattern.\n:g! is also equivalent to :vglobal (or :v) command (think of it as grep -v):\n:%v/some pattern/d Ref:\nHow to delete all lines that do NOT contain a certain word in Vim? Close the help window quickly? # According to answer here, we can simply the use the :helpclose command to close the help window, which is by far the simplest way I have found.\nJump to the first occurence of a search term? # When we search a pattern, we may want to go to the first occurence of the search pattern. Just press ggn in normal mode:\ngg: go the begining of the file n: search forward for the pattern. Ref:\nHow do I go to the first search result in a file? Keep only the lines matching a pattern from command output? # A vim command may output a lot of text, making it hard for us to find what we want. For example, :highlight command will print a lot of lines of the highlight group info.\nWe can use :filter to get only what we are interested. The syntax is:\n:filter /pattern/ [cmd] where pattern is the string pattern we want to search and [cmd] is a vim command. If we want to ignore cases, we can add \\c before pattern:\n:filter /\\cpattern/ [cmd] For example, to search highlight groups that contains the word search (ignoring the case), we use the following comamnd:\n:filter /\\csearch/ highlight we only get the following three lines instead of the hundreds of lines:\nIncSearch xxx cterm=reverse gui=reverse guifg=#fe8019 guibg=#1d2021 Search xxx cterm=reverse ctermfg=0 ctermbg=11 gui=reverse guifg=#fabd2f guibg=#1d2021 Searchlight xxx links to ErrorMsg Ref:\nHow to grep in ex command output? ","date":"22 September 2020","externalUrl":null,"permalink":"/2020/09/22/nifty_nvim_techniques_s7/","section":"Posts","summary":"\u003cp\u003eThis is the 7th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 7","type":"posts"},{"content":"I want to use a custom highlight group for yank highlighting. Initially, I use the predefined highlight group IncSearch. I thought it a bit dim and want something brighter. So I defined the following highlight group:\nhighlight YankColor ctermfg=59 ctermbg=41 guifg=#34495E guibg=#2ECC71 Then, I use it in function vim.highlight.on_yank{}:\naugroup highlight_yank autocmd! au TextYankPost * silent! lua vim.highlight.on_yank{higroup=\u0026#34;YankColor\u0026#34;, timeout=700} augroup END However, when I started Neovim, the custom yank highlight did not work. The output of :hi YankColor shows:\nYankColor xxx cleared After digging up a bit, I find that it is because the colorscheme I use (a variant of gruvbox) will use :hi clear command to clear all custom highlight and reset highlighting to the defaults (see here for example).\nSo my custom highlight does not work anymore. A solution is to use a special event ColorScheme, which is triggered whenever we change the colorscheme. After changing the color scheme, we redefine the custom highlight group:\naugroup custom_highlight autocmd! au ColorScheme * highlight YankColor ctermfg=59 ctermbg=41 guifg=#34495E guibg=#2ECC71 augroup END After using this autocmd, everything works as expected.\nRef:\nThe right way to override any highlighting Why do custom highlights in my vimrc get cleared or reset to default? https://superuser.com/q/466662/736190 ","date":"22 September 2020","externalUrl":null,"permalink":"/2020/09/22/highlight_groups_cleared_in_nvim/","section":"Posts","summary":"\u003cp\u003eI want to use a custom highlight group for \u003ca href=\"https://neovim.io/doc/user/lua.html#lua-highlight\" target=\"_blank\"\u003eyank highlighting\u003c/a\u003e.\nInitially, I use the predefined highlight group \u003ccode\u003eIncSearch\u003c/code\u003e. I thought it a bit\ndim and want something brighter. So I defined the following highlight group:\u003c/p\u003e","title":"Highlight Groups Cleared after Starting Neovim","type":"posts"},{"content":"As a Neovim user who writes frequently, I want to use Neovim to check my grammar before posting it in my blog. In this post, I will compare several plugins used for grammar checking. Under the hood, they all use the opensource tool languagetool.\nI will use macOS as example here. First, we need to install languagetool using homebrew:\nbrew install languagetool It will also install open-jdk for you, but the path is not set by default. We have to set the open-jdk path manually:\nexport PATH=\u0026#34;/usr/local/opt/openjdk/bin:$PATH\u0026#34; Now I introduce several similar plugins that use languagetool for grammar checking.\nLanguageTool.nvim # update 2023-01-04: This plugins has been deprecated.\nLanguageTool.nvim is neovim plugin that support asynchronous grammar checking. Install LanguageTool.nvim using vim-plug:\nPlug \u0026#39;vigoux/LanguageTool.nvim\u0026#39; The only setting to make it work is:\nlet g:languagetool_server_jar=\u0026#34;/usr/local/opt/languagetool/libexec/languagetool-server.jar\u0026#34; Then open a file, run the following commands:\n:LanguageToolSetup: set up the languagetool server :LanguageToolCheck: check the current file :LanguageToolSummary: open a buffer and list all the grammar errors found in the file. It seems that languagetool.nvim is fork of vim-LanguageTool, but the author intends to rewrite it to use more neovim-specific features.\nPros and cons # Pros: asynchronous grammar check. Has error highlighting. Cons: very slow. vim-grammarous # vim-grammarous is a more polished plugin.\nInstall:\nPlug \u0026#39;rhysd/vim-grammarous\u0026#39; Run command: :GrammarousCheck to check grammar. It is asynchrous and non-blocking. When it finishes, it will notify the user in the statusline how many errros have been found.\nIt has options for you to configure the rules and categories for languagetool. See my config here. The explanation of categories and rules can be found here.\nPros and cons # Pros: Asynchronous and relatively fast. Various configs for you to tweak. Can specifiy the rules and categories to use for languagetool. Has error highlighting. Cons: not found yet. vim-languagetool # Another plugin: https://github.com/dpelle/vim-LanguageTool\nInstall with vim-plug:\nPlug \u0026#39;dpelle/vim-LanguageTool\u0026#39; Only config you need:\nlet g:languagetool_jar=\u0026#34;/usr/local/opt/languagetool/libexec/languagetool-commandline.jar\u0026#34; Run command: :LanguageToolCheck to check grammar.\nPros and cons # Pros: Has error highlighting. Cons: It is not asynchronous, so it will hang until the results are produced. vim-langtool # Another similar plugin is vim-langtool. Install:\nPlug \u0026#39;Konfekt/vim-langtool\u0026#39; Simple config:\nlet g:langtool_jar = \u0026#39;/usr/local/opt/languagetool/libexec/languagetool-commandline.jar\u0026#39; Command to run: :LangTool.\nPros and cons # Pros: It will populate quickfix list with errors. Cons: It is not asynchronous. No error highlighting. Ale # Ale also support languagetool, add the following config:\nlet g:ale_linters = { \\ \u0026#39;python\u0026#39;: [\u0026#39;pylint\u0026#39;], \\ \u0026#39;vim\u0026#39;: [\u0026#39;vint\u0026#39;], \\ \u0026#39;cpp\u0026#39;: [\u0026#39;clang\u0026#39;], \\ \u0026#39;c\u0026#39;: [\u0026#39;clang\u0026#39;], \\ \u0026#39;markdown\u0026#39;: [\u0026#39;languagetool\u0026#39;] \\} Then Ale will populate errors in the quickfix list.\nPros and cons # Pros: It will populate quickfix list with errors. Cons: No custom config available. Common issues # A common issue with languagetool is that it is intended for plain text, while filetypes like Markdown or LaTeX contains a lot of formatting commands or structure. So using languagetool directly on these filetypes produces a lot of false positives, as discussed here. However, it is not easy to fix this problem.\nConclusion # Right now, it seems vim-grammarous the best plugin we can use for grammar checking.\n","date":"20 September 2020","externalUrl":null,"permalink":"/2020/09/20/nvim_grammar_check_languagetool/","section":"Posts","summary":"\u003cp\u003eAs a Neovim user who writes frequently, I want to use Neovim to check my\ngrammar before posting it in my blog. In this post, I will compare several\nplugins used for grammar checking. Under the hood, they all use the opensource\ntool \u003ca href=\"https://languagetool.org/\" target=\"_blank\"\u003elanguagetool\u003c/a\u003e.\u003c/p\u003e","title":"Grammar Check in Neovim with LanguageTool","type":"posts"},{"content":"","date":"20 September 2020","externalUrl":null,"permalink":"/tags/writing/","section":"Tags","summary":"","title":"Writing","type":"tags"},{"content":"When we are working on a real project, we may want to know from which commit a particular line is introduced.\nWe can use the following git-log command to find:\ngit log -S \u0026#34;search term\u0026#34; For example, to find when the line foo = foo + bar was introduced, we may use the following command:\ngit log -S \u0026#34;foo = foo + bar\u0026#34; It will find the commit that created this line.\nAnother similar command is git-blame, for example, to find which commit introduced line 100, we can use the following command:\ngit blame -L 100,100 In fact, git-blame shows the most recent change to this line. So if this line has been updated since its creation, for example, you have removed the trailing white spaces or renamed variables in this line, git-blame does not work.\nRef:\nHow to find out in which commit a particular code was added? git log -S ","date":"14 September 2020","externalUrl":null,"permalink":"/2020/09/14/git_find_line_history/","section":"Posts","summary":"\u003cp\u003eWhen we are working on a real project, we may want to know from which commit a particular line is introduced.\u003c/p\u003e","title":"Find Line History in Git","type":"posts"},{"content":"Tqdm is a popular package to show a progress bar. Here are a few tips when using tqdm.\nWindows display issue # On Windows, it seems that tqdm will print a new line when showing the progress, which is annoying.\nAccording to issue here, this is due to buggy Unicode handling in Windows terminal. We can add ascii=True in tqdm() to prevent this behavior. Works for me on Windows for both Cmder and plain cmd.\nIterate over each line in a file and show progress? # When we are processing files with large number of lines, we may want to see the progress. To see the progress, we need to know the number of lines in this file. Here is a sample code to show the progress bar using tqdm:\nfrom tqdm import tqdm file_path = \u0026#34;test.txt\u0026#34; num_lines = sum(1 for line in open(file_path, \u0026#39;r\u0026#39;)) with open(file_path, \u0026#39;r\u0026#39;) as f: for line in tqdm(f, total=num_lines): # deal with this line... pass Ref\npython enumerate tqdm bar when reading a file? Show progress for concurrent.futures.ThreadPoolExecutor # Here is an example of using tqdm together with concurrent.futures:\nfrom concurrent.futures import ThreadPoolExecutor import time from tqdm import tqdm def square(x): time.sleep(0.01) return x*x def main(): nums = list(range(10000)) with ThreadPoolExecutor() as executor: results = list(tqdm(executor.map(square, nums), total=len(nums))) if __name__ == \u0026#34;__main__\u0026#34;: main() The output of executor.map(square, nums) is a generator containing all the returned results from the function square(). So we need to supply the total number in the total argument.\nIn the latest version of tqdm, we can also simplify the above code by using tqdm.contrib.concurrent.thread_map() method, which is essentially a wrapper around above code:\nfrom concurrent.futures import ThreadPoolExecutor import time from tqdm.contrib.concurrent import thread_map def square(x): time.sleep(0.01) return x*x def main(): nums = list(range(10000)) with ThreadPoolExecutor() as executor: results = thread_map(square, nums) if __name__ == \u0026#34;__main__\u0026#34;: main() The above code is tested on tqdm version 4.48.2.\nRef:\nUse tqdm with concurrent.futures? Another way: https://gist.github.com/alexeygrigorev/79c97c1e9dd854562df9bbeea76fc5de doc on tqdm.contrib.concurrent. ","date":"5 September 2020","externalUrl":null,"permalink":"/2020/09/05/tqdm_tips/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/tqdm/tqdm\" target=\"_blank\"\u003eTqdm\u003c/a\u003e is a popular package to show a progress\nbar. Here are a few tips when using tqdm.\u003c/p\u003e","title":"Tqdm Issues and Tips","type":"posts"},{"content":" Update log 2022-08-20: Add how to remove remote tracking branches that does not exist anymore This post summarizes some commonly used Git commands related to branch operations.\nCreate a new branch (locally and remotely) # Create a branch locally # We can use the following command to create a new branch\ngit branch \u0026lt;new_branch\u0026gt; At this time, we are still in original branch. To switch to new branch, use the following command:\ngit checkout \u0026lt;new_branch\u0026gt; The two steps can be combined with the following command:\ngit checkout -b \u0026lt;new_branch\u0026gt; Create a branch remotely # To create a remote branch, use the following command:\ngit push -u origin \u0026lt;local_branch\u0026gt; The -u option sets a upstream branch of the same name for tracking, i.e., now our local branch corresponds to a remote branch of the same name.\nRef:\nHow to create remote branch. Push local to remote and track it. git push -u option doc What exactly does the â€œuâ€ do? â€œgit push -u origin masterâ€ vs â€œgit push origin masterâ€ Create a git branch from a specific commit # Sometimes, we may need to fix a flaw in a specific commit, but current work has not been finished. We may create a new branch from that commit, and after that, merge that branch to current branch.\nThis is how we do this using git:\ngit branch fix_bug \u0026lt;commit_id\u0026gt; git checkout fix_bug \u0026lt;commit_id\u0026gt; is the hash of that commit as shown in the git log output.\nThe above command can also be simplified using -b for checkout:\ngit checkout -b fix_bug \u0026lt;commit_id\u0026gt; After fixing the issue in branch fix_bug, we can then merge the change into the original branch, say, master branch:\ngit checkout master git merge fix_bug Ref:\nBranch from a previous commit using Git How to create the branch from specific commit in different branch Show branches # show all branches (local and remote): git branch -a show all local branches: git branch -l show all remote branches: git branch -r Delete a branch # Delete a local branch: git branch -d \u0026lt;branch_name\u0026gt;.\nNote that we can not delete a local branch when we are on it! We need first to checkout to another branch. Delete a remote branch: git push \u0026lt;remote_name\u0026gt; -d \u0026lt;remote_branch\u0026gt; If you are using GitHub and delete a remote tracking branch via the GitHub GUI interface, when you run git branch -a locally, they are still shown. To remove the remote tracking branches locally, we can do git remote prune origin.\nRef:\nDelete git branch. Remove tracking branches no longer on remote: https://stackoverflow.com/q/7726949/6064933 Rename a branch locally and remotely # Suppose we want to rename the branch foo in local and remote repo to name bar, first we need to rename the local branch:\ngit branch -m foo bar git branch --unset-upstream foo Then we push the bar branch to the remote:\n# create a remote branch of the same name and track it. git push -u origin bar If the original remote branch foo is the default branch, we need to set other branch as the default. Otherwise, we can not delete remote branch foo. In GitHub, go to Settings --\u0026gt; Branches and change the default branch. After making sure that foo is not the default remote branch, run the following command to delete it from remote:\n# suppose that origin is the remote name git push origin -d foo Ref:\nHow do I rename both a Git local and remote branch name?: https://stackoverflow.com/q/30590083/6064933 Cannot delete a remote master branch on git? https://stackoverflow.com/q/12208751/6064933 Create a local branch from a remote branch? # I have a remote branch and I would like to create a local branch based on it. First, we need to fetch the remote changes:\ngit fetch Then we can create a local branch from the remote branch:\ngit checkout -b local_branch_name remote_name/remote_branch If we do not want to change the remote name, we can also also -t:\ngit checkout -t \u0026lt;name of remote\u0026gt;/\u0026lt;remote branch name\u0026gt; It will create a local branch of the same name.\nRef:\nhttps://stackoverflow.com/q/1783405/6064933 https://stackoverflow.com/q/24301914/6064933 Create local branch from remote branch. Find remote tracking branch for local branch # If we want to find the remote branch that a local branch is tracking, we can use the following command:\ngit branch -vv We can also use the git remote command to show remote tracking branch:\ngit remote show \u0026lt;remote name\u0026gt; Ref:\nhttps://stackoverflow.com/q/171550/6064933 https://stackoverflow.com/q/4950725/6064933 ","date":"3 September 2020","externalUrl":null,"permalink":"/2020/09/03/git_branch_operations/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202021114754.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-08-20: Add how to remove remote tracking branches that does not exist anymore\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eThis post summarizes some commonly used Git commands related to branch operations.\u003c/p\u003e","title":"A List of Common Git-branch Operations","type":"posts"},{"content":"LeaderF is Vim/Neovim plugin to fuzzy-search files, colorschemes, tags etc. quickly. It works across different platforms flawlessly. Here are some of its settings to address minor issues.\nFile names with non-ASCII characters shown as escaped number? # When I am inside a git repository and use :Leaderf file, I find that files whose names containing non-ASCII characters are shown as escaped numbers. For example, æµ‹è¯•.md is shown as \\346\\265\\213\\350\\257\\225.md.\nThis is because Leaderf file use git to index files under git repos by default. Git shows non-ASCII characters as escaped numbers. To fix this, run the following command:\ngit config --global core.quotePath false Ref:\nhttps://github.com/Yggdroot/LeaderF/issues/203 git not displaying unicode file names Can not search files in a git submodule # In a git repo that has submodules in it, I find that command Leaderf file can not list files under these submodules.\nWhy? Because in a git repository, LeaderF will the command git ls-files to list files, which by default will exclude files inside git submodules.\nIf we are using Git 2.11 or later, we can set the following options:\nlet g:Lf_RecurseSubmodules = 1 Under the hood, it uses the --recurse-submodules option to list files in submodules.\nIf we are using older version of Git, we can use the following option:\nlet g:Lf_UseVersionControlTool = 0 It will disable using git to index files.\nDo not show fancy filetype icons # By default, LeaderF will try to show fancy filetype icons before file names when we use :Leaderf file. However, due to font issues, some of the icons may not show properly. To disable this feature, add the following option:\nlet g:Lf_ShowDevIcons = 0 Set working directory for git repository # In a Git repository, I want to always search files under the project root, even though my current working directory may not be in the project root. We can set g:Lf_WorkingDirectoryMode to customize how the project root directory is found.\nlet g:Lf_WorkingDirectoryMode = \u0026#39;a\u0026#39; If we use the above setting, LeaderF will find ancestor of current directory that contains .git or other root indicators. See :h g:Lf_WorkingDirectoryMode for more help.\nRef:\nhttps://github.com/Yggdroot/LeaderF/issues/702 Refresh file indexing every time we use LeaderF? # I created a new source file under the current project. After a while, I started LeaderF and found that I can not search the newly created file without refreshing LeaderF (i.e., press F5 to refresh). This is because LeaderF will cache your project files once you start using LeaderF for the first time, to save some precious time. To disable this behavior, that is, to indexing files every time you invoke LeaderF, add the following setting:\nlet g:Lf_UseMemoryCache = 0 For very large project, it may take quite some time to finish indexing files. So you should use this option with care.\nRef:\nhttps://github.com/Yggdroot/LeaderF/issues/161 ","date":"26 August 2020","externalUrl":null,"permalink":"/2020/08/26/leaderf_nvim_settings/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/Yggdroot/LeaderF\" target=\"_blank\"\u003eLeaderF\u003c/a\u003e is Vim/Neovim plugin to fuzzy-search files, colorschemes, tags etc. quickly.\nIt works across different platforms flawlessly.\nHere are some of its settings to address minor issues.\u003c/p\u003e","title":"My Settings for the Fuzzy-finder LeaderF","type":"posts"},{"content":"å…³äºäº§å“è®¾è®¡çš„ä¸€äº›æƒ³æ³•ã€‚\nå¾®ä¿¡æ‰«ä¸€æ‰« # ç»å¸¸ç”¨å¾®ä¿¡æ‰«ä¸€æ‰«æ‰«æäºŒç»´ç çš„äººä¼šå‘ç°ï¼Œè¿™ä¸ªåŠŸèƒ½ä½“éªŒå¾ˆä¸é”™ï¼Œæœ‰ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç°è±¡ï¼šæ— è®ºäºŒç»´ç è·ç¦»æ‘„åƒå¤´è¿œè¿‘ä»¥åŠäºŒç»´ç åœ¨æ‘„åƒå¤´æ‹æ‘„å›¾ç‰‡ä¸­çš„ä½ç½®ï¼ŒäºŒç»´ç éƒ½èƒ½è¢«å‡†ç¡®è¯†åˆ«ã€‚å¦‚æœæ‹æ‘„çš„äºŒç»´ç è·ç¦»æ‘„åƒå¤´å¾ˆè¿œï¼Œé‚£ä¹ˆäºŒç»´ç åœ¨æ•´å›¾ä¸­å çš„æ¯”ä¾‹å¾ˆå°ï¼Œå¾ˆå°çš„äºŒç»´ç ä¸åˆ©äºè¯†åˆ«ï¼Œå¾®ä¿¡æ‰«ä¸€æ‰«åŠŸèƒ½è¿˜èƒ½è‡ªåŠ¨æ”¾å¤§å›¾ç‰‡ï¼Œâ€œå°±åƒâ€è°ƒæ•´æ‘„åƒå¤´ç„¦è·ä¸€æ ·ï¼ˆè¿™é‡Œä¸ç¡®å®šå¾®ä¿¡å…·ä½“å®ç°æ–¹æ³•ï¼Œæ˜¯è°ƒæ•´æ‘„åƒå¤´ç„¦è·ï¼Œè¿˜æ˜¯ç›´æ¥æŠŠäºŒç»´ç æ‰€åœ¨åŒºåŸŸè£å‰ªå‡ºæ¥ï¼‰ï¼ŒæŠŠäºŒç»´ç åŒºåŸŸæ”¾å¤§åˆ°æ¯”è¾ƒå¤§çš„æ¯”ä¾‹ã€‚\nå…ˆè¯´äºŒç»´ç ä½ç½®ä¸å½±å“è¯†åˆ«ï¼Œå¾®ä¿¡åº”è¯¥åŠ äº†ä¸€ä¸ªæ£€æµ‹äºŒç»´ç ä½ç½®çš„ç®—æ³•ï¼Œæ‰€ä»¥å¯ä»¥ç¡®å®šäºŒç»´ç ä½ç½®ï¼Œç¡®å®šä½ç½®ä»¥åæŠŠäºŒç»´ç åŒºåŸŸé€åˆ°äºŒç»´ç è¯†åˆ«ç®—æ³•ï¼Œæ’é™¤äº†äºŒç»´ç ä½ç½®çš„å½±å“ï¼Œå°±ç®—äºŒç»´ç ä¸åœ¨å›¾åƒä¸­å¿ƒä¹Ÿå¯ä»¥è¯†åˆ«ã€‚\nå†è¯´è‡ªåŠ¨æ”¾å¤§äºŒç»´ç åŠŸèƒ½ï¼Œè¿™ä¸ªä¹Ÿä¾èµ–äºŒç»´ç ä½ç½®æ£€æµ‹ï¼Œé€šè¿‡æ£€æµ‹åˆ°çš„äºŒç»´ç ä½ç½®ï¼Œç¡®å®šäºŒç»´ç åŒºåŸŸåœ¨å…¨å›¾çš„æ¯”ä¾‹ï¼Œè¿™é‡Œåº”è¯¥æœ‰ä¸€ä¸ªé˜ˆå€¼ï¼Œå¦‚æœäºŒç»´ç å æ¯”å°äºè¿™ä¸ªé˜ˆå€¼ï¼Œé‚£ä¹ˆå¾®ä¿¡å°±ä¼šæ”¾å¤§äºŒç»´ç åŒºåŸŸï¼Œæ–¹ä¾¿äºŒç»´ç è¯†åˆ«ç®—æ³•å»è¯†åˆ«ã€‚\n","date":"24 August 2020","externalUrl":null,"permalink":"/2020/08/24/thought_on_product_design/","section":"Posts","summary":"\u003cp\u003eå…³äºäº§å“è®¾è®¡çš„ä¸€äº›æƒ³æ³•ã€‚\u003c/p\u003e","title":"ä»äº§å“çŒœæµ‹è®¾è®¡","type":"posts"},{"content":"In Python, context manager is a great way to handle the closing of resources. It makes sure that resources are correctly closed after their use.\nBasically, a context manager consists of two parts: enter and exit. You can create a class to function as a context manager, but it is kind of verbose (see here). In Python3, we can use the contextlib to create custom context managers easily using the decorator. A good example is to measure the running time of a code block. Here is the code:\nfrom contextlib import contextmanager import time @contextmanager def report_time(name): start = time.time() yield end = time.time() print(f\u0026#34;Time needed for {name}: {end-start}\u0026#34;) In the above code, we define a context manager report_time, when the block it manages starts, it will set the start time in start. Then it yields, which means that the block it manages starts running. When the block finishes, report_time resumes running and prints the running time of the measured code block.\nHere is an example to use this code:\nimport requests with report_time(\u0026#34;httpbin request\u0026#34;): r = requests.get(\u0026#34;https://httpbin.org/get\u0026#34;) Ref:\nhttps://jeffknupp.com/blog/2016/03/07/python-with-context-managers/ https://www.youtube.com/watch?v=U2t2t_cpvoc ","date":"18 August 2020","externalUrl":null,"permalink":"/2020/08/18/context_manager_for_measuring_runtime/","section":"Posts","summary":"\u003cp\u003eIn Python, context manager is a great way to handle the closing of resources. It\nmakes sure that resources are correctly closed after their use.\u003c/p\u003e","title":"Measuring Code Running Time with contextmanager","type":"posts"},{"content":" update log 2022-04-12: add warning about dangers of omitting stroke_fill parameter. Sometimes, we may want to add outline color to text strokes with Pillow. Prior to version 6.2.0, we can not do this in Pillow. Fortunately, starting from version 6.2.0, pillow supports text outlines natively in its ImageDraw.text() method.\nThe code # Here is a sample snippet to draw outline text:\nfrom PIL import Image, ImageFont, ImageDraw def main(): im = Image.new(\u0026#39;RGB\u0026#39;, (500, 500), (255, 255, 255)) text = \u0026#34;æµ‹è¯•æ–‡å­—\u0026#34; font = ImageFont.truetype(font=\u0026#34;C:/WINDOWS/Fonts/STKAITI.TTF\u0026#34;, size=70) drawer = ImageDraw.Draw(im) fill_color = (255, 0, 0) stroke_color = (0, 0, 255) drawer.text((50, 10), text, font=font, fill=fill_color, stroke_width=1, stroke_fill=stroke_color) drawer.text((50, 80), text, font=font, fill=fill_color, stroke_width=3, stroke_fill=stroke_color) drawer.text((50, 150), text, font=font, fill=fill_color, stroke_width=5, stroke_fill=stroke_color) drawer.text((50, 220), text, font=font, fill=fill_color, stroke_width=7, stroke_fill=stroke_color) im.show(\u0026#34;text-image\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: main() The parameter stroke_width controls the width of outline, and stroke_fill controls the outline color.\nThe above script will create an image like the title image.\nNote that you must specify both stroke_width and stroke_fill when creating outline text. If stroke_fill is omitted, it will default to text fill color, which will create terrible and illegible text on the image.\nReferences # How can I draw text with different stroke and fill colors on images with python? Pillow 6.2 release note ","date":"18 August 2020","externalUrl":null,"permalink":"/2020/08/18/pillow_create_text_outline/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-04-12: add warning about dangers of omitting stroke_fill parameter.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20200818221311.png\" width=\"400\"\u003e\n\u003c/p\u003e\n\u003cp\u003eSometimes, we may want to add outline color to text strokes with Pillow.\nPrior to version 6.2.0, we can not do this in Pillow.\nFortunately, starting from version 6.2.0, pillow supports text outlines natively in its \u003ca href=\"https://pillow.readthedocs.io/en/stable/reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.text\" target=\"_blank\"\u003e\u003ccode\u003eImageDraw.text()\u003c/code\u003e\u003c/a\u003e method.\u003c/p\u003e","title":"Create Outline Text in Python with Pillow","type":"posts"},{"content":"Warmup is a training technique often used in training deep neural networks. In this post, I will try to explain what is warmup, and how does it work.\nWarmup was originally proposed in this paper: Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour. It gives a good explanation on why warmup is needed, and explains different strategies of warmup.\nWhy do we need warmup # Suppose that we use learning rate $\\eta$ on a single GPU with batch size $n$, when we train the network on 8 GPUs, now the batch size becomes $8n$. The learning rate also needs to change to suit the distributed training scenario. The author find that in practice, the linear scaling of learning rate works pretty well. For example, when we use initial learning rate 0.01 for one GPU, we may use an initial learning rate of 0.08 for distributed training, i.e., 0.01*8.\nHowever, to use linear scaling of learning rate, certain condition have to be met1. On the initial training stage, due to the rapid change of network parameters, the condition that makes linear scaling work does not hold any more. So, in the initial training stage, the authors propose warmup to tackle this issue.\nThe basic idea is that we should use a small learning rate than the value calculated by linear scaling policy. There are two strategies for warmup:\nconstant: Use a low learning rate than 0.08 for the initial few epochs. gradual: In the first few epochs, the learning rate is set to be lower than 0.08 and increased gradually to approach 0.08 as epoch number increases. In maskrcnn, a linear warmup strategy is used for control warmup factor in the initial learning stage. After the warmup epochs, the learning rate strategy would return to normal. You can change the learning rate based on the task at hand.\nWarmup applications # Warmup in ResNet # In Deep residual learning, when training a 110-layer ResNet on CIFAR-10 (section 4.2), the authors used constant warmup to ease the initial training iterations:\nIn this case, we find that the initial learning rate of 0.1 is slightly too large to start converging. So we use 0.01 to warm up the training until the training error is below 80% (about 400 iterations), and then go back to 0.1 and continue training.\nHow does linear warmup work in maskrcnn # In maskrcnn-benchmark, there is some config parameters about warmup in solver (WARMUP_FACTOR, WARMUP_ITERS, WARMUP_METHOD). The warmup method used by maskrcnn-benchmark can be found here:\ndef get_lr(self): warmup_factor = 1 if self.last_epoch \u0026lt; self.warmup_iters: if self.warmup_method == \u0026#34;constant\u0026#34;: warmup_factor = self.warmup_factor elif self.warmup_method == \u0026#34;linear\u0026#34;: alpha = float(self.last_epoch) / self.warmup_iters warmup_factor = self.warmup_factor * (1 - alpha) + alpha return [ base_lr * warmup_factor * self.gamma ** bisect_right(self.milestones, self.last_epoch) for base_lr in self.base_lrs ] In the above code, self.last_epoch is the current training iteration (because maskrcnn-benchmark use iteration instead of the usual epoch to measure the training process). self.warmup_iters is the number of iterations for warmup in the initial training stage. self.warmup_factors are a constant (0.333 in this case).\nOnly when current iteration number is below self.warmup_iters, will the warmup_factor be used. Otherwise, it will be 1 and not affect the learning rate.\nWhen current iteration is below warmup_iters and warmup method is linear. The warmup factor used is calculated as follows:\nwarmp_factor = 0.667 * (current_iter/warmup_iters) + 0.333 So as current iteration approaches warmup_iters, warmup_factor will gradually approach 1. As a result, the learning rate used will approach base learning rate.\nReferences # How the learning rate change? Discussions about warmup policy see section 2.1 of the paper for details.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 August 2020","externalUrl":null,"permalink":"/2020/08/14/warmup_maskrcnn_how_does_it_work/","section":"Posts","summary":"\u003cp\u003eWarmup is a training technique often used in training deep neural networks.\nIn this post, I will try to explain what is warmup, and how does it work.\u003c/p\u003e","title":"The Warmup Trick for Training Deep Neural Networks","type":"posts"},{"content":"MIUI 12 æ›´æ–°ä»¥åï¼Œæ–°å¢äº†æ›´åŠ ç»†è‡´çš„æƒé™ç®¡ç†å’Œéšç§ä¿æŠ¤åŠŸèƒ½ã€‚\nå‰å‡ å¤©å°è¯•å…³é—­äº†æ‰€æœ‰ APP ä¸è¯¥éœ€è¦çš„åŠŸèƒ½ã€‚ç»“æœå‘ç°è®¯é£è¾“å…¥æ³•å¤åˆ¶æ–‡æœ¬ï¼Œç²˜è´´æ–‡æœ¬çš„åŠŸèƒ½æ— æ³•ä½¿ç”¨äº†ã€‚\nä¾‹å¦‚ï¼Œåœ¨æµè§ˆå™¨é‡Œé¢ï¼Œä½¿ç”¨è¾“å…¥æ³•çš„å¤åˆ¶åŠŸèƒ½ï¼Œç„¶åè¿›å…¥å¾®ä¿¡ç²˜è´´ï¼Œå‘ç°æ–‡æœ¬å¹¶æ²¡æœ‰è¢«ç²˜è´´ä¸‹æ¥ã€‚åœ¨æƒé™ç®¡ç†é‡Œï¼Œæ‰“å¼€è®¯é£è¾“å…¥æ³•è®¿é—®å‰ªåˆ‡æ¿çš„æƒé™ï¼Œä»ç„¶æ— æ³•å¤åˆ¶æ–‡æœ¬ã€‚\nåœ¨ v2ex ä¸Šå‘å¸–è¯¢é—®ï¼Œæœ‰äººæé†’ï¼Œæ˜¯ä¸æ˜¯æ²¡æœ‰æ‰“å¼€æµè§ˆå™¨çš„è®¿é—®å‰ªåˆ‡æ¿çš„æƒé™ã€‚æˆ‘è¯•ç€æ‰“å¼€æµè§ˆå™¨çš„å‰ªåˆ‡æ¿æƒé™ï¼Œæœç„¶å¯ä»¥æ­£å¸¸å¤åˆ¶ç²˜è´´æ–‡æœ¬ã€‚ä½†æ˜¯å¯¹äºæ²¡æœ‰ç»™äºˆè®¿é—®å‰ªåˆ‡æ¿æƒé™çš„åº”ç”¨ï¼Œåœ¨é‡Œé¢ä»ç„¶æ— æ³•å¤åˆ¶æ–‡æœ¬åˆ°å‰ªåˆ‡æ¿ï¼ˆéœ€è¦æˆ‘ä»¬å•ç‹¬ç»™æ¯ä¸ªåº”ç”¨åŠ ä¸Šæƒé™ï¼‰ã€‚ä¸æ¸…æ¥šä¸ºä»€ä¹ˆè¾“å…¥æ³•ä»åº”ç”¨é‡Œé¢å¤åˆ¶æ–‡æœ¬ï¼Œä¸ºä»€ä¹ˆéœ€è¦åº”ç”¨ä¹Ÿè·å–è®¿é—®å‰ªåˆ‡æ¿çš„æƒé™ï¼Œæˆ‘çš„ç†è§£æ˜¯åªéœ€è¦è¾“å…¥æ³•æœ‰è®¿é—®å‰ªåˆ‡æ¿çš„æƒé™ï¼Œè·å–æ–‡æœ¬ä»¥åç›´æ¥æŠŠæ–‡æœ¬å†™å…¥åˆ°ç³»ç»Ÿçš„å‰ªåˆ‡æ¿ä¸Šï¼Œçœ‹æ¥å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·çš„è¿‡ç¨‹ã€‚\n","date":"6 August 2020","externalUrl":null,"permalink":"/2020/08/06/miui12_clipboard_issue/","section":"Posts","summary":"\u003cp\u003eMIUI 12 æ›´æ–°ä»¥åï¼Œæ–°å¢äº†æ›´åŠ ç»†è‡´çš„æƒé™ç®¡ç†å’Œéšç§ä¿æŠ¤åŠŸèƒ½ã€‚\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20200806235442.jpeg\" width=\"200\"\u003e\n\u003c/p\u003e","title":"MIUI 12 è¾“å…¥æ³•æ— æ³•å¤åˆ¶æ–‡æœ¬åˆ°å‰ªåˆ‡æ¿","type":"posts"},{"content":" Relationship between point and pixel size # In digital typography, the size of text is commonly specified in points (pt). What is a point? A point is 1/72 of an inch (25.4 mm), i.e., 0.3528 mm (25.4/72). Therefor, point is a physical unit that has absolute value.\nPixels are the smallest unit on screen to display images and graphics. It is not a physical unit. So there is no fixed relationship between point and pixel.\nppi # Their relationship depends on the ppi (pixel per inch), A.K.A., pixel density.\nHow do we calculate ppi? It is simple. We need screen resolution and screen size. Screen resolution refers to how many pixels are there for its width and height. Ppi is equal to diagonal pixel number divided by screen size in inches. Here, we use pixel number in diagonal direction because the screen size are commonly measured diagonally (see here).\nTake the iPhone 11 for an example. According to wikipedia:\nThe iPhone 11 has a 6.1 in (15.5 cm) IPS LCD, unlike the Pro models which have OLED displays.\nThe resolution is 1792â€‰Ã—â€‰828 pixels (1.5 megapixels at 326 ppi) with a maximum brightness of 625 nits and a 1400:1 contrast ratio.\nSo the screen ppi of iPhone 11 is:\nsqrt(1792*1792 + 828*828)/6.1 = 323.6 which is pretty close to the provided ppi value. There is also online tools to help us calculate the ppi values.\nOnce we know ppi value of a device, we can then know the relationship between point and pixel:\npixel = point/72 * ppi Ref:\nhttps://graphicdesign.stackexchange.com/q/199/113389 font size in pixels https://www.onlineprinters.co.uk/magazine/font-sizes/ font size for web design # It seems that for web design, there is another set of specification. There is relationship between pt and px. But px here is not referring to pixels in the digital device (computer screens for example). It is called CSS reference pixel. Since I am not a web developer right now, I will not dive too deep into this topic.\nRef:\nhttps://webplatform.github.io/docs/tutorials/understanding-css-units/ ","date":"4 August 2020","externalUrl":null,"permalink":"/2020/08/04/fontsize_point_pixel_relationship/","section":"Posts","summary":"Relationship between point and pixel size # In digital typography, the size of text is commonly specified in points (pt). What is a point? A point is 1/72 of an inch (25.4 mm), i.e., 0.3528 mm (25.4/72). Therefor, point is a physical unit that has absolute value.\nPixels are the smallest unit on screen to display images and graphics. It is not a physical unit. So there is no fixed relationship between point and pixel.","title":"Note on font size","type":"posts"},{"content":"","date":"29 July 2020","externalUrl":null,"permalink":"/tags/anaconda/","section":"Tags","summary":"","title":"Anaconda","type":"tags"},{"content":"I am using pip installed via minconda. I installed it under ~/miniconda3 and then move the installation directory to ~/tools/miniconda3. After that, I changed the PATH accordingly. However, when I use pip, I am seeing the following error:\n/home/jdhao/miniconda3/bin/python: bad interpreter: No such file or directory\nthis is because the executable pip under ~/tools/miniconda3/bin/ is actually a Python source file. Its first line is a shebang:\n#!/home/jdhao/miniconda3/bin/python\nand it still points to the old Python that is no longer there. Hence, the error message.\nA simple solution is to remove miniconda3 directory and install it again.\nRef:\nhttps://docs.anaconda.com/anaconda/user-guide/tasks/move-directory/ ","date":"29 July 2020","externalUrl":null,"permalink":"/2020/07/29/pip_bad_interpreter/","section":"Posts","summary":"\u003cp\u003eI am using pip installed via \u003ca href=\"https://docs.conda.io/en/latest/miniconda.html\" target=\"_blank\"\u003eminconda\u003c/a\u003e. I installed it\nunder \u003ccode\u003e~/miniconda3\u003c/code\u003e and then move the installation directory to\n\u003ccode\u003e~/tools/miniconda3\u003c/code\u003e. After that, I changed the \u003ccode\u003ePATH\u003c/code\u003e accordingly. However,\nwhen I use pip, I am seeing the following error:\u003c/p\u003e","title":"pip bad interpreter issue","type":"posts"},{"content":"One way to achieve parallelism is to use multi-processing, where we can execute tasks in different cores of the CPU to reduce the total processing time. Python provides the multiprocessing package to facilitate this.\nThis post summarizes some of the questions I have when I learn to use multiprocessing in Python.\nHow many processes should we use? # For CPU-bound tasks, set the process number to the number of CPU cores is perhaps appropriate. To get the number of CPUs in your system:\nimport multiprocessing as mp print(mp.cpu_count()) However, the time to complete our task will stop decreasing when the number of processes reach a certain number due to other factors. So it is a good idea to do some benchmark to find the optimal number of processes to use.\nRef:\nHow many processes should I run in parallel? Python multiprocessing\u0026rsquo;s Pool process limit Do I need to use pool.close() and pool.join() after finishing my tasks? # pool.close() makes sure that process pool does not accept new processes, and pool.join() waits for the processes to properly finish their work and return. So it is a good idea to use pool.close() and pool.join() explicitly.\nOtherwise, the processes may not be released properly. In our application, we have seen error related to memory usage:\nOSError: [Errno 12] Cannot allocate memory\nRef:\nhttps://stackoverflow.com/q/35708371/6064933 Python cannot allocate memory using multiprocessing.pool: https://stackoverflow.com/q/26717120/6064933 Difference between pool.map() and pool.map_aysnc()? # pool.map is blocking until it gets the actual results, that is, it will block the execution of code until it gets all the result from the processes. pool.map_async, on the other hand, is non-blocking and will return immediately and all we get is an AsyncResult object. To get the actual result, we use result.get() to retrieve them. To illustrate their differences:\nimport multiprocessing as mp def toy(x): print(\u0026#34;function gets executed.\u0026#34;) return x*x def main(): p = mp.Pool() result = p.map(toy, [1]) print(\u0026#34;after p.map\u0026#34;) print(result) res = p.map_async(toy, [1]) print(\u0026#34;after p.map_async()\u0026#34;) print(res.get()) if __name__ == \u0026#34;__main__\u0026#34;: main() If you use p.map(), you will see the following result:\nfunction gets executed. after p.map() [1] This is because p.map() is blocking. So the statement following it won\u0026rsquo;t be executed if p.map() hasn\u0026rsquo;t got the results back.\nUnlike p.map, p.map_async is non-blocking. The output for second part of the code is:\nafter p.map_async() function gets executed. [1] That is because p.map_async will not wait for the function to be executed and returned. So you see the output after p.map_async() first. Then you see function gets executed..\nmultiprocessing.Pool: When to use apply, apply_async or map? pool.map() without argument? # The function pool.map() is used to feed the element of an iterable to a function one by one. We can not use it to run functions without argument. However, we may change the function to accept an argument and ignore that argument. Or we can write a wrap function to accept argument and invoke the original function in the wrap function.\nimport multiprocessing as mp def f(): print(\u0026#34;function without argument\u0026#34;) def wrap_func(x): f() p = mp.Pool() p.map(wrap_func, range(10)) Ref:\nhttps://stackoverflow.com/q/27689834/6064933 functions with multiple arguments? # pool.map() can only execute functions that accept one argument, to run a function that accepts multiple arguments, we can use pool.starmap():\nimport multiprocessing as mp def func(x, y): return x * y p = mp.Pool() l1 = range(1, 10) l2 = range(10, 19) res = p.starmap(func, zip(l1, l2)) print(res) If the other parameters of the function are constants, it may be convenient to use partial functions instead:\nfrom functools import partial l1 = range(1, 10) # If one of the parameters is constant. partial_func = partial(func, y=2) res = p.map(partial_func, l1) print(res) ","date":"27 July 2020","externalUrl":null,"permalink":"/2020/07/27/python_multiprocessing/","section":"Posts","summary":"\u003cp\u003eOne way to achieve parallelism is to use multi-processing, where we can\nexecute tasks in different cores of the CPU to reduce the total processing\ntime. Python provides the \u003ca href=\"https://docs.python.org/3/library/multiprocessing.html\" target=\"_blank\"\u003emultiprocessing\u003c/a\u003e package to facilitate this.\u003c/p\u003e\n\u003cp\u003eThis post summarizes some of the questions I have when I learn to use\nmultiprocessing in Python.\u003c/p\u003e","title":"Using Multiprocessing in Python","type":"posts"},{"content":"A list of Linux command for common operations.\nGenerate fixed width numbers with leading zeros # We can use seq command to generate number of fixed width (padded with leading zeros). For example, to generate number 1 to 999, with width 4 and padded with leading zeros, we can use the following command:\nseq -f \u0026#34;%04g\u0026#34; 1 999 Ref:\nRange with leading zero in bash How to zero pad a sequence of integers in bash so that all have the same width? Split large files into fixed size part # We can use split command to split large files into fixed size parts:\nsplit [options] zip_file prefix For example, to split test.zip into smaller size with each part exactly 4000m, we can use the following command:\nsplit -d -b 4000m test.zip test The -d option will ensure that numeric indexing is used for the split parts, test is the prefix we use for each part. The generated files are like:\ntest00, test01, test02, ..., test10, ... Ref:\nSplit files using tar, gz, zip, or bzip2 Copy a directory to another directory and show progress # During copy of large files, it is nice to show the progress of copying., we can use rsync to copy a directory to another directory and show progress:\nrsync -ah --progress src dest Since rsync version 3.1.0, we can also use the following options:\nrsync -ah --info=progress2 src dest The progress shown is not the overall progress, it is just the progress for a single file. Nonetheless, it is better than nothing and shows that something is being copied.\nNote in the above, there is not slash / after src, which makes sure that src is copied as dest/src with all its structures. If you want to copy all files and folders under src to dest and do not create src directory under dest, you can add a slash after src:\nrsync -ah --progress src/ dest Ref:\nHow to rsync a directory to a new directory with different name? How can I view a progress bar when running rsync? rsync -r to existing folder Showing total progress in rsync: is it possible? Move all files and subdirectories to a directory except one # Suppose I am at a certain directory and want to move all the files and sub-directories to a directory except one file (test.jpg). We can use the following command to achieve what we want:\n\\ls | \\grep -v test.jpg |xargs -I{} mv {} other_directory/ Note that in the above command we use backslashed version of ls and grep command to avoid any command alias, because the command alias may cause the failure of the above command.\nRef:\nRun command shadowed by an alias. Mv all files except one. zip all files under a directory without the directory itself? # If we have a test folder under which there are a lot of files and directories. If we use the following zip command to compress the directory:\nzip test.zip -r test/ this will add one more level of folder structures. We get the following:\n--\u0026gt; test --\u0026gt; test --\u0026gt; all files and folders under original test folder The original test folder is also included in the zipped file. To avoid this, we can use the following command:\ncd test \u0026amp;\u0026amp; zip -r ../test.zip . If there are no directories under test or we do not care about directory structure under test, we can also use the -j option:\nzip test.zip -j -r test/ The above command will flatten all files under test recursively into one directory, which may not be what you want, especally when there are same name filder under different child directories.\nRef:\nZip the contents of a folder without including the folder itself Zip an archive without including parent directory ","date":"23 July 2020","externalUrl":null,"permalink":"/2020/07/23/linux_command_cheat_sheet_s2/","section":"Posts","summary":"\u003cp\u003eA list of Linux command for common operations.\u003c/p\u003e","title":"Linux Tips and Tricks -- s2","type":"posts"},{"content":"I found a strange issue when I wanted to get the value of an env variable from Python script.\nTo reproduce, we can first set the value of FOO in the Bash shell:\n$ FOO=123 Then execute the following python command:\n$ python -c \u0026#34;import os; print(os.getenv(\u0026#39;FOO\u0026#39;, \u0026#34;None\u0026#34;))\u0026#34; The output is None. So the python process can not see the variable FOO. However, if we run the two command in one line:\n$ FOO=123 python -c \u0026#34;import os; print(os.getenv(\u0026#39;FOO\u0026#39;, \u0026#34;None\u0026#34;))\u0026#34; The output will be 123.\nIf we use export FOO=123 instead of FOO=123, we can also get the value of FOO in Python.\nBut why? What is the difference here? This is in fact a bit complexer than what I think.\nBash built-in and external commands # First, we need to know that, when Bash executes commands, it treats the built-in and external commands differently. Built-in commands are those that are, literally, built into the Bash executable. External commands are those commands that are not part of the Bash shell.\nWhen Bash executes built-in commands, it does not create a new process. When it executes external commands, it will create a new shell and then execute the external commands. The new shell will inherit the environment variables of its parent shell (see here on why Bash needs to create a new process to execute an external command).\nHow do we check if a command is a Bash builtin or an external command?\nFirst, we can check the output of help, it will list all Bash built-in commands. We can also use the type command to check if a command is a built-in command:\ntype -t some_command For built-in commands, it will output builtin. For external commands, it will output different info, for example, file (see help type for more info).\nRef:\nhttps://www.theunixschool.com/2012/03/internal-vs-external-commands.html Check if a command is builtin. How does shell execute commands. https://linuxconfig.org/internal-vs-external-linux-shell-commands When will variable value be available in a process? # If we define variable without using export, it is not part of the environment variable. When Bash create a new process, this variable will not be available there.\nOne exception is that if you set the variable and run the command in the same line, it will be available only to that command. From the Bash manual:\nThe environment for any simple command or function may be augmented temporarily by prefixing it with parameter assignments, as described in Shell Parameters. These assignment statements affect only the environment seen by that command.\nIf a variable is not exported, it is only a shell variable. When it is exported, it is an environment variable that will be available in all subprocesses.\nRef:\nDefining a variable with or without export. Bash: difference between â€œexport k=1â€ vs. â€œk=1â€. Difference between shell variables which are exported and those which are not in bash Difference between â€œa=bâ€ and â€œexport a=bâ€ in bash Back to the issue # Now with sufficient background knowledge on how Bash works, we are able to understand why certain ways work or fail.\n# Fails $ FOO=123 $ python -c \u0026#34;import os; print(os.getenv(\u0026#39;FOO\u0026#39;, \u0026#34;None\u0026#34;))\u0026#34; The above way to get the value of FOO fails, because python is an external command for Bash. Bash will execute python in a new process. However, FOO defined via FOO=123 is only available in the shell that invoking python command, not the sub-process (also a Bash shell) that actually run python command.\n# work $ FOO=123 python -c \u0026#34;import os; print(os.getenv(\u0026#39;FOO\u0026#39;, \u0026#34;None\u0026#34;))\u0026#34; The above way works because the variable definition is in the same line with python command. It will be available temporily for this command. If you execute python -c \u0026quot;import os; print(os.getenv('FOO', \u0026quot;None\u0026quot;)) in a second line, it will not work any more.\n$ export FOO=123 $ python -c \u0026#34;import os; print(os.getenv(\u0026#39;FOO\u0026#39;, \u0026#34;None\u0026#34;))\u0026#34; This way also works because we set an environment variable FOO via export. So FOO will be available to all subprocesses created by this shell.\nReferences # python - os.getenv and os.environ don\u0026rsquo;t see environment variables of my Bash shell. Why can\u0026rsquo;t Python see environment variables. ","date":"15 July 2020","externalUrl":null,"permalink":"/2020/07/15/python_can_got_env_variable_value/","section":"Posts","summary":"\u003cp\u003eI found a strange issue when I wanted to get the value of an env variable from\nPython script.\u003c/p\u003e","title":"Why Cannot I Get the Value of A Env Variable in Python?","type":"posts"},{"content":" How to check request header and body? # When making requests, we may want to see exactly what are being requested. With requests, it is easy do access the request header and request body:\nimport requests url = \u0026#34;http://httpbin.org/post\u0026#34; payload = {\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.com/demo.jpg\u0026#34;} r = requests.post(url, json=payload) print(f\u0026#34;request headers: {r.request.headers}\u0026#34;) print(f\u0026#34;request body: {r.request.body}\u0026#34;) A sample output is:\nrequest headers: {\u0026#39;User-Agent\u0026#39;: \u0026#39;python-requests/2.19.1\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;*/*\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;keep-alive\u0026#39;, \u0026#39;Content-Length\u0026#39;: \u0026#39;69\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;} request body: b\u0026#39;{\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.com/demo.jpg\u0026#34;}\u0026#39; Ref:\nHow to display body and headers before sending POST request? How can I see the entire HTTP request that\u0026rsquo;s being sent by my Python application? How to encode JSON when using application/x-www-form-urlencoded? # When making requests using json data in requests.post(url, data=json_dict), the Content-Type is application/x-www-form-urlencoded. How is JSON encoded by requests?\nIn requests, this is handled by class RequestEncodingMixin, it provides _encode_params() method to convert provided into url-encoded string (JSON is converted to query string and some characters are escaped). Under the hood, it is using urllib.parse.urlencode() to encode the json data.\nurl = \u0026#34;http://httpbin.org/post\u0026#34; payload = {\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.com/demo.jpg\u0026#34;} r = requests.post(url, data=payload) print(f\u0026#34;request body: {r.request.body}\u0026#34;) The request body is:\napple=10\u0026amp;pear=20\u0026amp;pear=30\u0026amp;img=http%3A%2F%2Fexample.com%2Fdemo.jpg We can also encode JSON directly using urllib:\nimport urllib payload = {\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.com/demo.jpg\u0026#34;} print(urllib.parse.urlencode(payload, doseq=True)) The encoded string is the same.\nRef:\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST Python requests module: urlencoding json data Set up max retries # When we use requests to request a URL, we may sometimes get \u0026ldquo;max retried exceed\u0026rdquo; errors due to various causes such as unstable network or frequent request.\nWe can add retry features using requests to increase the chance of successful request:\nfrom requests.adapters HTTPAdapter from requests.packages.urllib3.util.retry import Retry session = requests.Session() retry_strategy = Retry(total=2) adapter = HTTPAdapter(max_retries=retry_strategy) session.mount(\u0026#34;http://\u0026#34;, adapter) session.mount(\u0026#34;https://\u0026#34;, adapter) r = session.get(url) In the above code, we first set the parameter max_retries for HTTPAdapter, which can be a simple number or a Retry object from the urllib3 package.\nThen we change the original adapter used by session by using the mount() method. The first parameter is the URL prefix for a certain adapter: when the URL matches the prefix, the corresponding adapter will be used by requests session.\nRef:\nMax retries exceeded with URL in requests ","date":"9 July 2020","externalUrl":null,"permalink":"/2020/07/09/requests_notes/","section":"Posts","summary":"How to check request header and body? # When making requests, we may want to see exactly what are being requested. With requests, it is easy do access the request header and request body:\nimport requests url = \u0026#34;http://httpbin.org/post\u0026#34; payload = {\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.com/demo.jpg\u0026#34;} r = requests.post(url, json=payload) print(f\u0026#34;request headers: {r.request.headers}\u0026#34;) print(f\u0026#34;request body: {r.request.body}\u0026#34;) A sample output is:\nrequest headers: {\u0026#39;User-Agent\u0026#39;: \u0026#39;python-requests/2.19.1\u0026#39;, \u0026#39;Accept-Encoding\u0026#39;: \u0026#39;gzip, deflate\u0026#39;, \u0026#39;Accept\u0026#39;: \u0026#39;*/*\u0026#39;, \u0026#39;Connection\u0026#39;: \u0026#39;keep-alive\u0026#39;, \u0026#39;Content-Length\u0026#39;: \u0026#39;69\u0026#39;, \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;} request body: b\u0026#39;{\u0026#34;apple\u0026#34;: 10, \u0026#34;pear\u0026#34;: [20, 30], \u0026#34;img\u0026#34;: \u0026#34;http://example.","title":"Note on Using requests package","type":"posts"},{"content":"In this post, I will share how PyTorch set the number of the threads to use for its operations.\ntorch.set_num_threads() is used to set the number of threads used for intra operations on CPU. According to discussions here, intra operation roughly means operations executed within an operation, for example, for matrix multiplication. By default, pytorch will use all the available cores on the computer, to verify this, we can use torch.get_num_threads() get the default threads number.\nFor operations supporting parallelism, increase the number of threads will usually leads to faster execution on CPU. Apart from setting the number of threads via torch.set_num_threads, we can also set the env variable OMP_NUM_THREADS or MKL_NUM_THREADS to set the number of threads. Below is a toy script to verify this (adapted from code here):\nimport time import numpy as np import torch INDEX = 10000 NELE = 1000 a = torch.rand(INDEX, NELE) index = np.random.randint(INDEX-1, size=INDEX*8) b = torch.from_numpy(index) start = time.time() for _ in range(10): res = a.index_select(0, b) print(\u0026#34;the number of cpu threads: {}, time: {}\u0026#34;.format(torch.get_num_threads(), time.time()-start)) Setting OM_NUM_THREADS to 1, 2, 4, 8, the running time is:\nthe number of cpu threads: 1, time: 2.927994728088379 the number of cpu threads: 2, time: 1.6809608936309814 the number of cpu threads: 4, time: 1.092754602432251 the number of cpu threads: 8, time: 0.7028472423553467 References # Set env variable to control the num of threads pytorch uses may not always work. https://github.com/pytorch/pytorch/issues/3146 https://github.com/pytorch/pytorch/issues/975 https://pytorch.org/docs/stable/notes/cpu_threading_torchscript_inference.html Meaning of inter_op_parallelism_threads and intra_op_parallelism_threads https://github.com/pytorch/pytorch/issues/19002 https://github.com/pytorch/pytorch/issues/19001 ","date":"6 July 2020","externalUrl":null,"permalink":"/2020/07/06/pytorch_set_num_threads/","section":"Posts","summary":"\u003cp\u003eIn this post, I will share how PyTorch set the number of the threads to use for\nits operations.\u003c/p\u003e","title":"Set the Number of Threads to Use in PyTorch","type":"posts"},{"content":"","date":"6 July 2020","externalUrl":null,"permalink":"/tags/thread/","section":"Tags","summary":"","title":"Thread","type":"tags"},{"content":"åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»ä¼šé‡åˆ°å„ç§å„æ ·çš„ä»£ç è¿è¡Œé—®é¢˜ï¼Œå¦‚ä½•å¿«é€Ÿå‘ç°é—®é¢˜çš„æ ¹æºéœ€è¦ä¸€äº›ç³»ç»Ÿçš„æ–¹æ³•ï¼Œæ„é€ ä¸€ä¸ªæœ€å°çš„èƒ½å¤Ÿå¤ç°é”™è¯¯çš„ç¯å¢ƒè‡³å…³é‡è¦ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ MWEï¼Œminimal working exampleã€‚\nä¸ºä»€ä¹ˆ MWE å¾ˆé‡è¦ï¼Ÿå› ä¸ºé€šè¿‡æ„é€ MWEï¼Œæˆ‘ä»¬èƒ½ä¸æ–­ç¼©å°é—®é¢˜çš„èŒƒå›´ï¼Œå®šä½é—®é¢˜çš„æ ¹æºï¼Œè€Œä¸æ˜¯è¡¨é¢çš„ç°è±¡ï¼Œä¾‹å¦‚ä»£ç åœ¨ Linux ä¸Šè¿è¡Œé”™è¯¯ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠä»£ç é”™è¯¯å½’ç»“ä¸ºæ“ä½œç³»ç»ŸåŸå› ï¼Œè¿™ä¸ªèŒƒå›´å¤ªåºå¤§ï¼Œæ— åŠ©äºè§£å†³é—®é¢˜ã€‚å¦å¤–ï¼Œé€šè¿‡æ„é€  MWEï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½é è‡ªå·±å°±èƒ½è§£å†³é—®é¢˜ï¼Œå³ä½¿è§£å†³ä¸äº†é—®é¢˜ï¼Œåœ¨ stackoverflow æˆ–è€… github ä¸Šæä¾› MWEï¼Œä¹Ÿæ›´æœ‰å¯èƒ½å¾—åˆ°åˆ«äººçš„å›å¤ã€‚\nå¦‚æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é¡¹ç›®ï¼Œæœ‰æ—¶å€™å¾ˆéš¾æ‰¾åˆ°å…·ä½“å‡ºé”™ä½ç½®ï¼Œå¯ä»¥æ ¹æ®æŠ¥é”™çš„ä¿¡æ¯ï¼Œåœ¨ä»£ç ä¸­åŠ å…¥ log æ‰“å°ï¼Œè¿™æ ·å¯ä»¥å¤§è‡´é”å®šå‡ºé”™çš„ä½ç½®ã€‚\né”å®šå‡ºé”™çš„ä½ç½®ä»¥åï¼Œéœ€è¦æ–°å»ºä¸€ä¸ª toy é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®åº”è¯¥ç”¨æœ€å°‘çš„ï¼Œæœ€ç®€å•çš„ä»£ç æ¥å°è¯•å¤ç°é—®é¢˜ï¼Œä»£ç è¶Šç®€å•ï¼Œè¶Šå®¹æ˜“æ‰¾åˆ°é—®é¢˜çš„æœ¬è´¨ã€‚é€šå¸¸æˆ‘ä»¬è¿˜éœ€è¦å¼•ç”¨ä¸€äº›åº“æˆ–è€…å®‰è£…ä¸€äº›ç¨‹åºï¼Œè¦ä¿æŒè¿™äº›å¼•ç”¨æˆ–è€…å®‰è£…åœ¨æœ€å°çš„ç¨‹åº¦ï¼Œè¶³å¤Ÿå¤ç°é—®é¢˜å³å¯ã€‚\nä¸€æ—¦ç¡®å®šäº†è¡¨é¢é—®é¢˜ï¼Œå¯ä»¥è¯•ç€æŠŠå‡ºç°é—®é¢˜çš„ä»£ç æ³¨é‡Šï¼Œæˆ–è€…æ¢ä¸€ç§å†™æ³•ï¼Œçœ‹é—®é¢˜æ˜¯å¦è¿˜ä¼šå‡ºç°ï¼Œè¿›ä¸€æ­¥ç¡®å®šé—®é¢˜æ ¹æºã€‚å¦å¤–ï¼Œæœ‰çš„æ—¶å€™ï¼Œå¯èƒ½æ˜¯ä»£ç å’Œåº“çš„ç‰ˆæœ¬é…åˆé—®é¢˜ï¼Œå¯¹äº Pythonï¼Œç”¨çš„å“ªä¸ªç‰ˆæœ¬çš„ Python å½±å“æ¯”è¾ƒå¤§ï¼Œå¯ä»¥å°è¯•æ›´æ¢ç‰ˆæœ¬ï¼Œè§‚å¯Ÿé—®é¢˜æ˜¯å¦ä»ç„¶å­˜åœ¨ã€‚é€šå¸¸ç¡®å®šé—®é¢˜æ ¹æºçš„è¿‡ç¨‹éœ€è¦åå¤å°è¯•ï¼Œæ‰èƒ½æœ€ç»ˆç¡®å®š bug çš„æ ¹æºã€‚\né€šè¿‡ä¸æ–­ç¼©å°é—®é¢˜èŒƒå›´ï¼Œé€šå¸¸èƒ½å¾ˆå¿«å®šä½åˆ°é—®é¢˜æ ¹æºï¼Œçœ‹ä¼¼â€œæµªè´¹â€äº†å¾ˆå¤šæ—¶é—´æ¥å¤ç° bugï¼Œç»¼åˆç®—èµ·æ¥è¿˜æ˜¯èŠ‚çœäº†æ—¶é—´ï¼Œé¿å…å¤§é‡æ— å¤´è‹è‡å¼çš„å°è¯•ã€‚\n","date":"5 July 2020","externalUrl":null,"permalink":"/2020/07/05/how_to_find_casue_of_technical_issues/","section":"Posts","summary":"\u003cp\u003eåœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»ä¼šé‡åˆ°å„ç§å„æ ·çš„ä»£ç è¿è¡Œé—®é¢˜ï¼Œå¦‚ä½•å¿«é€Ÿå‘ç°é—®é¢˜çš„æ ¹æºéœ€è¦ä¸€äº›ç³»ç»Ÿçš„æ–¹æ³•ï¼Œæ„é€ ä¸€ä¸ªæœ€å°çš„èƒ½å¤Ÿå¤ç°é”™è¯¯çš„ç¯å¢ƒè‡³å…³é‡è¦ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ \u003ca href=\"https://stackoverflow.com/help/minimal-reproducible-example\" target=\"_blank\"\u003eMWE\u003c/a\u003eï¼Œminimal working exampleã€‚\u003c/p\u003e","title":"å¦‚ä½•æ‰¾åˆ°æŠ€æœ¯é—®é¢˜æ ¹æºï¼Ÿ","type":"posts"},{"content":"To build different projects, we may need to install different versions of the same software. To use a specific version, we may need to create a sym link to that version of the executable.\nOn Ubuntu, we can also alleviate the issue of switching command versions with update-alternatives.\nOne of the most common tool that needs multiple versions is GCC. On Ubuntu 18.04, the default GCC version is 7.4.0. However, sometimes, we also need to use older GCC such as gcc-4.8. The GCC toolset will install several executables under /usr/bin/, such as gcc-4.8, g++-4.8, among others.\nIf we want the command gcc to point to /usr/bin/gcc-4.8, we often want g++ to point to /usr/bin/g++-4.8. Using symlinks to manage version switch is not convenient in this case, since we need to create two or more symlinks. If we want to switch back to GCC 7.4, we then need to remove the old symlinks and create new ones, which is cumbersome.\nupdate-alternatives provides what is called master and slave alternatives, where if you change the master symlink, the slave symlinks will also get changed automatically. The syntax is:\nupdate-alternatives --install link name path priority [--slave link name path] link is the generic name used to invoke a command, for example, /usr/bin/gcc. name is the alternative name used under the alternative directory (which is usually /etc/alternatives), for example, gcc. path is the actual path to a specific version, e.g., /usr/bin/gcc-4.8. priority is a score given to this alternative. If you have several alternatives for a command, the one with the highest priority will be used. The link after --install is the master link.\nThe format for --slave is the same as master link. You are allowed to add multiple slave links like this:\nupdate-alternatives --install link name path priority --slave link1 name1 path1 --slave link2 name2 path2 For GCC, we can use the following command to add two alternatives:\nupdate-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 10 --slave /usr/bin/g++ g++ /usr/bin/g++-4.8 update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 20 --slave /usr/bin/g++ g++ /usr/bin/g++-7 So by default, GCC 7.4 will be used. In order to switch to another versions, we can run the following command:\nupdate-alternatives --config gcc You will be prompted to choose an alternative from a list of alternatives. After that, the gcc and g++ version will be switched to the version you want.\nThe alternatives work like this. /usr/bin/gcc will point to /etc/alternatives/gcc, which in turn points to the real command /usr/bin/gcc-7 or /usr/bin/gcc-4.8 depending on which alternative you choose. So when you change the alternative, you are changing the mapping from /etc/alternatives/gcc to the actual executables.\nReferences # how to use â€œupdate-alternativesâ€ to manage multiple installed version of the same app? How to choose the default gcc and g++ version? https://bitmingw.com/2019/08/28/ubuntu-update-alternatives/ ","date":"2 July 2020","externalUrl":null,"permalink":"/2020/07/02/ubuntu_update_alternatives/","section":"Posts","summary":"\u003cp\u003eTo build different projects, we may need to install different versions of the\nsame software. To use a specific version, we may need to create a sym link to\nthat version of the executable.\u003c/p\u003e","title":"Switch Command with update-alternatives on Ubuntu","type":"posts"},{"content":"My notes on several issues when installing and running uWSGI.\npip install uwsgi error # When I try to install uwsgi using pip, there are compilation errors. After some search, based on discussions here, I find the cause of this issue is that the version of gcc is too high. I am using Ubuntu 18.04, and the default gcc version is 7.4.0.\nBased on this post, the minimum gcc we can install from the default Ubuntu 18.04 remote repo is gcc-4.8. There is no gcc-4.7 available for install. It turns out that gcc-4.8 works fine:\napt-get update \u0026amp;\u0026amp; apt-get install gcc-4.8 g++-4.8 Then we need to change the gcc command to point to gcc-4.8:\nrm /usr/bin/gcc \u0026amp;\u0026amp; ln -s /usr/bin/gcc-4.8 /usr/bin/gcc After that, I can install uwsgi successfully using pip. Finally, let\u0026rsquo;s revert the gcc version to its old state:\nrm /usr/bin/gcc \u0026amp;\u0026amp; ln -s /usr/bin/gcc-7 /usr/bin/gcc uwsgi can not find shared object # I use the following command to install uwsgi with conda:\nconda create -n py36 -c conda-forge python==3.6.5 uwsgi When I run uwsgi --version, I see the following error message:\nerror while loading shared libraries: libicui18n.so.58: cannot open shared object file: No such file or directory\nThe solution is to run conda install icu=58, ref here.\nuwsgi segmentation fault # I am using uwsgi 2.0.18 (installed via conda install -c conda-forge uwsgi) with python 3.7.7 from Miniconda. When I use uwsgi to server a simple Flask application, I see segmentation errors below:\nuwsgi(uwsgi_backtrace+0x2c) [0x5638f8685bbc] uwsgi(uwsgi_segfault+0x32) [0x5638f8685ff2] /lib/x86_64-linux-gnu/libc.so.6(+0x3ef20) [0x7f8c09c22f20] /opt/miniconda/lib/python3.7/lib-dynload/_queue.cpython-37m-x86_64-linux-gnu.so(+0x2932) [0x7f8c07fe9932] uwsgi(_PyDict_DelItem_KnownHash+0x36b) [0x5638f860ec1b] uwsgi(_PyEval_EvalFrameDefault+0x2510) [0x5638f85a1680] uwsgi(_PyEval_EvalCodeWithName+0x2f9) [0x5638f862abc9] uwsgi(_PyFunction_FastCallDict+0x1d7) [0x5638f86045a7] uwsgi(+0x1ed7a3) [0x5638f86057a3] uwsgi(PyObject_CallFunctionObjArgs+0x99) [0x5638f8605a09] uwsgi(PyObject_ClearWeakRefs+0x33c) [0x5638f86010fc] uwsgi(+0x1a638c) [0x5638f85be38c] uwsgi(+0x1b9a27) [0x5638f85d1a27] uwsgi(+0x1f70b8) [0x5638f860f0b8] uwsgi(+0x1a6435) [0x5638f85be435] uwsgi(_PyFunction_FastCallKeywords+0x290) [0x5638f8604020] uwsgi(_PyEval_EvalFrameDefault+0x40a) [0x5638f859f57a] uwsgi(_PyFunction_FastCallDict+0x10b) [0x5638f86044db] uwsgi(_PyEval_EvalFrameDefault+0x1e1d) [0x5638f85a0f8d] uwsgi(_PyFunction_FastCallKeywords+0xfb) [0x5638f8603e8b] uwsgi(_PyEval_EvalFrameDefault+0x6d4) [0x5638f859f844] uwsgi(_PyFunction_FastCallKeywords+0xfb) [0x5638f8603e8b] uwsgi(_PyEval_EvalFrameDefault+0x6d4) [0x5638f859f844] uwsgi(_PyFunction_FastCallKeywords+0xfb) [0x5638f8603e8b] uwsgi(_PyEval_EvalFrameDefault+0x6d4) [0x5638f859f844] uwsgi(_PyFunction_FastCallDict+0x10b) [0x5638f86044db] uwsgi(_PyObject_Call_Prepend+0x63) [0x5638f86054b3] uwsgi(+0x1b56fa) [0x5638f85cd6fa] uwsgi(PyObject_Call+0x6b) [0x5638f8604bdb] uwsgi(python_call+0x12) [0x5638f869ffa2] uwsgi(uwsgi_request_wsgi+0x266) [0x5638f86a2556] uwsgi(wsgi_req_recv+0xa7) [0x5638f8633557] uwsgi(simple_loop_run+0xd1) [0x5638f8681521] uwsgi(simple_loop+0x11) [0x5638f8681301] uwsgi(uwsgi_ignition+0x315) [0x5638f8686395] uwsgi(uwsgi_worker_run+0x2b4) [0x5638f868aef4] uwsgi(uwsgi_run+0x525) [0x5638f868b575] /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xe7) [0x7f8c09c05b97] uwsgi(+0x21abed) [0x5638f8632bed] *** end of backtrace *** My MWE flask application:\nimport concurrent.futures from flask import Flask app = Flask(__name__) @app.route(\u0026#34;/toy\u0026#34;, methods=[\u0026#34;GET\u0026#34;]) def process_request(): results = do_concurrent() if not results: return \u0026#34;Fail.\u0026#34; return \u0026#34;Success\u0026#34; def simple_task(num): return 1 def do_concurrent(): dummy_list = list(range(100)) with concurrent.futures.ThreadPoolExecutor(max_workers=10) as executor: results = list(executor.map(simple_task, dummy_list)) return results The uwsgi command to run flask application:\nuwsgi --http 0.0.0.0:6012 --wsgi-file flask_demo.py --callable app --processes 1 --threads 1 The scrip to test this service:\nimport requests url = \u0026#34;http://0.0.0.0:6012/toy\u0026#34; r = requests.get(url, timeout=5) print(r) When I request the service, I see the above segmentation errors.\nIf I create a conda virtual env with python version 3.6:\nconda create -n py36 -c conda-forge python==3.6.5 uwsgi icu=58 flask run the service using uwsgi and request again, the error disappears.\nIf I do not use concurrent.futures, I see no errors both for python 3.7 and python 3.6. I am not knowledgeable enough to know the exact cause of this issue. It seems there is some compatibility issue with uwsgi, python version and concurrent package.\nsymbol not found on macOS # I am using Python 3.7 installed via Anaconda, and uWSGI is installed via pip. When I run my simple Flask application, I see the following error:\nImportError: dlopen(/Users/jdhao/anaconda3/lib/python3.7/lib-dynload/math.cpython-37m-darwin.so, 2): Symbol not found: _PyExc_MemoryErrorImportError: dlopen(/Users/jdhao/anaconda3/lib/python3.7/lib-dynload/math.cpython-37m-darwin.so, 2): Symbol not found: _PyExc_MemoryError Referenced from: /Users/jdhao/anaconda3/lib/python3.7/lib-dynload/math.cpython-37m-darwin.so Expected in: flat namespace This seems to be a compatibility issue between uWSGI and Anaconda python. There are two solutions:\nUninstall uWSGI installed via pip and install it using conda:\n# uWSGI is provided by the conda-forge channel conda install -c conda-forge uwsgi Using Python 3.6 with uWSGI. We can create a new virtual env with Python 3.6.5 and intall uWSGI inside.\nconda create -n py36 python==3.6.5 flask After that, activate the virtual env and install uWSGI inside:\nconda activate py36 pip install uwsgi ","date":"2 July 2020","externalUrl":null,"permalink":"/2020/07/02/uwsgi_install_use_issue/","section":"Posts","summary":"\u003cp\u003eMy notes on several issues when installing and running \u003ca href=\"https://uwsgi-docs.readthedocs.io/en/latest/\" target=\"_blank\"\u003euWSGI\u003c/a\u003e.\u003c/p\u003e","title":"uWSGI Install and Use Issues","type":"posts"},{"content":"In my previous post, I write about how to download an image from URL using requests. In this post, I want to share ways to make the download speed faster.\nVarious ways exist for downloading an image using the requests package.\nPersistent session or not? # There are two ways to make an HTTP request using requests:\nusing requests.get() using session.get() where session is a requests.Session() object. The difference is that with requests.get(), a new session object is created each time when we make a request. It means that each time we make the request, we need to establish a new TCP connection to the remote host. The connection is closed when we finish the request. Since establishing a connection to the server takes some time, downloading images using requests.get() causes extra overhead.\nWith session.get(), if we are making several requests to the same host, the connection will be reused so that no time is wasted re-establishing new connections. This is also known as HTTP persistent connection. In summary, using session will reduce the image download time.\nstream or not? # As said in the previous post, for large files, we may want to use stream parameter when making the request, which will reduce the memory overhead. So we have two ways to get the binary image from the response:\nusing response.content using response.raw.read() Benchmark # By combining session options and stream options, we have four different ways to download images using requests:\nr.raw with session r.content with session r.raw without session r.content without session In order to find which is faster, I have run a small benchmark. I combine concurrent.futures and requests to download several images concurrently using the above four different settings of requests. The complete code can be found here.\nAccording to benchmark result, using sessions is faster than requests without explicit sessions. For the stream option, using r.raw is generally faster than using r.content, but it is not always the case. If the image size not big enough, using either r.raw or r.content is fine.\nThe benefit of using explicit sessions is more apparent when we are downloading more images concurrently. On my Mac, when downing 20 images concurrently, I get the following result:\navg time (r.raw with session): 0.2751150131225586 avg time (r.content with session): 0.2750370740890503 avg time (r.raw no session): 1.5932393550872803 avg time (r.content no session): 0.8408806085586548 With 40 images, the output is:\navg time (r.raw with session): 0.3991949200630188 avg time (r.content with session): 0.42252095937728884 avg time (r.raw no session): 1.937515652179718 avg time (r.content no session): 1.912631618976593 Conclusion # From the above results, we can conclude that using requests with sessions will reduce image download time immensely.\nReferences # https://requests.readthedocs.io/en/master/user/advanced/ Difference between using requests.get() and requests.session().get()? Python 3 urllib Vs requests performance. ","date":"21 June 2020","externalUrl":null,"permalink":"/2020/06/21/faster_im_download_with_requests/","section":"Posts","summary":"\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2020/06/17/download_image_from_url_python/\" target=\"_blank\"\u003eprevious post\u003c/a\u003e,\nI write about how to download an image from URL using \u003ca href=\"https://github.com/psf/requests\" target=\"_blank\"\u003erequests\u003c/a\u003e.\nIn this post, I want to share ways to make the download speed faster.\u003c/p\u003e","title":"Downloading Images Faster with requests Sessions","type":"posts"},{"content":"IrfanView is a lightweight, fast and powerful image viewer for Windows. Here are some settings to make it more useful.\nAuto-jump to next file after deleting current one # By default, IrfanView will not jump to next image if you delete the current one. To enable this, click Options --\u0026gt; Properties/Settings... --\u0026gt; File Handling. Under the delete section, check the following box:\nJump to the next file after deleting/moving\nFit image to window size when viewing # When we are viewing images in a directory, it is annoying that window size changes as image sizes vary. To keep the window size and fit the image to window, go to View --\u0026gt; Display options (window mode) and choose Fit images to window.\nRef:\nhttps://irfanview-forum.de/showthread.php?t=11273 Do not exit program when pressing ESC # By default, Irfanview will exit immediately if we press ESC when we are viewing an image, which is really annoying. To disable this behavior, go to Options --\u0026gt; Properties/Settings, in the popup window, click Start / Exit options. In the Exit options section, check the box Warning on ESC program exit. Do not forget to click OK button to save your settings.\nRef:\nhttps://irfanview-forum.de/showthread.php?t=1092 Skip txt files when viewing files in a directory # By default, ifranview will also show text files, which is annoying. Here is how to disable this behavior. Go to Options -\u0026gt; Properties/Settings -\u0026gt; Extentions:\nCheck the boxes for the file extensions that we want irfanview to open Select the option \u0026ldquo;Load only associated types while moving through directory\u0026rdquo;. Ref:\nhttps://superuser.com/q/149910/736190 Copy current image path quickly # When I check an image with irfanview, often I want to copy the image path to use in command line. Currently, I have to press i (show image properties), then copy the full image path. This is boring and cumbersome. I found from the irfanview forum the following AutoHotKey script to automate this process:\nClick to show the code. #NoEnv ; Recommended for performance and compatibility with future AutoHotkey releases. SendMode Input ; Recommended for new scripts due to its superior speed and reliability. SetWorkingDir %A_ScriptDir% ; Ensures a consistent starting directory. ; If IV is running, then the script will modify the key combination Ctrl+Shift+C to ; copy file path (oposed to set image as desktop background) ; OPTIONAL: Following code ensure that script terminates when IV close. Delete (or comment out) ; line 10 - 19 for letting the script run until manually stopped by user. SetTimer, check_window, 500 return check_window: IfWinNotExist, ahk_class IrfanView { TrayTip, \u0026#34;IrfanView check\u0026#34;, IrfanView har being closed. Script terminate. Sleep 3000 ExitApp, 1 } return ; RESTRICT HOTKEY TO IRFANVIEW ONLY \u0026lt;BEGIN\u0026gt; ; Ensures that hotkey manipulation works ONLY when IrfanView program window is active (most foremost) #IfWinActive ahk_class IrfanView ^+c:: WinWait, ahk_class IrfanView, , 5 if errorlevel { MsgBox, 0, venter pÃ¥ vindu, IrfanView ikke funnet pÃ¥ 5 sekunder - avslutter ExitApp, 1 } ; Remove any existing content on clipboard. clipboard = WinActivate, ahk_class IrfanView Sleep 300 ; Simulate key press \u0026#34;i\u0026#34; to open image properties dialog box (ipdb). Send, i WinWaitActive, IrfanView - Image properties, , 2 ; If ipdb for some reason fail to open, user get an error message and script terminate. if errorlevel { MsgBox, 0, Waiting, Image properties window didn\u0026#39;t appear. Script terminates now. ExitApp, 1 } ; Hit tab three times Send, {TAB 3} ; COpy text (image path) to clipboard Send, {CTRLDOWN}c{CTRLUP} ; Waiting until clipboard contains data (in most cases this command could be ommitted without any effect) ClipWait ; Quits the ipdb Send, {ALTDOWN}o{ALTUP} ; OPTIONAL - Make a tray tip (baloon) appear. User should be confident that image path is actually copied to clipboard TrayTip, Image path:, %clipboard%, 4 Sleep 4000 HideTrayTip() HideTrayTip() { TrayTip ; Attempt to hide it the normal way. if SubStr(A_OSVersion,1,3) = \u0026#34;10.\u0026#34; { Menu Tray, NoIcon Sleep 200 ; It may be necessary to adjust this sleep. Menu Tray, Icon } } ; RESTRICT HOTKEY TO IRFANVIEW ONLY \u0026lt;END\u0026gt; #IfWinActive First, we need to install autohotkey. Save the above script in a directory and name it copy_im_path_irfanview.ahk. Open the irfanview window, then double click the script file to run this script.\nWhen you are viewing an image, press Ctrl-Shift-C to copy the image path. A tooltip will also pop up on the bottom right corner to show the image path copied. Unfortunately, Ctrl-shift-C is also used by Irfanview to set the desktop wallpaper. You may want to change to other shortcut (change the line ^+c:: to what you want, for example ^!C::, i.e., Ctrl-Alt-C1).\nSee [https://www.autohotkey.com/docs/Tutorial.htm#s21] on how speical keys such Ctrl, Alt are represented in AutoHotKey.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 June 2020","externalUrl":null,"permalink":"/2020/06/20/irfanview_usage/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://www.irfanview.com/\" target=\"_blank\"\u003eIrfanView\u003c/a\u003e is a lightweight, fast and powerful\nimage viewer for Windows. Here are some settings to make it more useful.\u003c/p\u003e","title":"IrfanView Settings","type":"posts"},{"content":"When I am working on a project, I find that the same message is printed twice. The following minimal code can reproduce this issue:\nSource code for logger.py:\nimport sys import logging class MyLogger: def __init__(self, name): self.logger = logging.getLogger(name) self.logger.setLevel(logging.DEBUG) stream_handler = logging.StreamHandler(sys.stderr) formatter = logging.Formatter( \u0026#34;[%(asctime)s] [%(name)s] [%(levelname)s] %(message)s\u0026#34;, \u0026#34;%Y-%m-%d %H:%M:%S\u0026#34; ) stream_handler.setFormatter(formatter) stream_handler.setLevel(logging.DEBUG) self.logger.addHandler(stream_handler) # self.logger.propagate = False def info(self, message): self.logger.info(\u0026#34;{}\u0026#34;.format(message)) my_logger = MyLogger(\u0026#34;Logging debug\u0026#34;) Source code for main.py:\nimport logging from logger import my_logger root_logger = logging.getLogger() stream_handler = logging.StreamHandler() root_logger.addHandler(stream_handler) my_logger.info(\u0026#34;demo\u0026#34;) my_logger.info(\u0026#34;another test\u0026#34;) When we run main.py, we can see that each log message is printed twice on the console:\n[2020-06-19 21:56:53] [Logging debug] [INFO] demo demo [2020-06-19 21:56:53] [Logging debug] [INFO] another test another test But why? The reason is that, when we use logging.getLogger() without any argument, we will get the root logger. my_logger in logger.py is thus a child logger of this root logger. By default, child logger messages will be propagated to the logger in the upper hierarchy.\nWe have two options: (1) Disable propagation from child logger (2) Do not use root logger.\nOption 1: In the logger.py, uncomment the line self.logger.propagate = False to make sure that child logger does not propagate its message to the root logger.\nOption 2: Simply do not use root logger in main.py. For example, we can get another logger by using another_logger = logging.getLogger('main'). In this way, logging message from my_logger have no relationship with another_logger. So the logging messages are printed only once.\nReferences # Duplicate log output when using Python logging module. Advanced logging tutorial. ","date":"20 June 2020","externalUrl":null,"permalink":"/2020/06/20/python_duplicate_logging_messages/","section":"Posts","summary":"\u003cp\u003eWhen I am working on a project, I find that the same message is printed twice.\nThe following minimal code can reproduce this issue:\u003c/p\u003e","title":"Duplicate Logging Messages in Python","type":"posts"},{"content":"Recently, I want to download some images using Python. This is what I\u0026rsquo;ve learned after the survey.\nUsing urllib package # The native and naive way is to use urllib.request module to download an image.\nimport urllib.request url = \u0026#34;https://cdn.pixabay.com/photo/2020/05/12/17/04/wind-turbine-5163993_960_720.jpg\u0026#34; r = urllib.request.urlopen(url) with open(\u0026#34;wind_turbine.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: f.write(r.read()) However, the above code may error out with following message:\nurllib.error.HTTPError: HTTP Error 403: Forbidden\nIn this case, we need to add a HTTP header to the request:\nimport urllib.request # The following way works. Ref: https://stackoverflow.com/a/45358832/6064933 req = urllib.request.Request(url, headers={\u0026#39;User-Agent\u0026#39;: \u0026#39;Mozilla/5.0\u0026#39;}) with open(\u0026#34;wind_turbine.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: with urllib.request.urlopen(req) as r: f.write(r.read()) Using requests package # A better way is to use requests package. Here is a simple example to download an image using requests:\nimport requests url = \u0026#34;https://cdn.pixabay.com/photo/2020/05/12/17/04/wind-turbine-5163993_960_720.jpg\u0026#34; r = requests.get(url) with open(\u0026#34;wind-turbine.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: f.write(r.content) Downloading large files with streaming # response.iter_content # In the above code, all content of the image will be read into memory at once. If the image is large, it may consume too much memory.\nAlternatively, we can set stream parameter to True to stream request. In this case, only the response header is downloaded. We can retrieve the image in a whole using response.content1 or chunk by chunk by using response.iter_content method:\n# Using requests to download large files. with requests.get(url, stream=True) as r: with open(\u0026#34;wind-turbine.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: for chunk in r.iter_content(chunk_size=1024): if chunk: f.write(chunk) response.raw # When stream is True, we can also use response.raw to stream the download. response.raw is a file-like object. With the help of shutil.copyfileobj(), we can save the image like this:\n# using r.raw with requests.get(url, stream=True) as r: with open(\u0026#34;wind-turbine.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: r.raw.decode_content = True shutil.copyfileobj(r.raw, f) # or f.write(r.raw.read()) References # Python 3 urllib HTTP 403 error. Why to use iter_content and chunk_size in python requests? How to download image using requests? Download large file in python with requests. https://requests.readthedocs.io/en/latest/user/advanced/#body-content-workflow You may want to avoid this for large files!\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 June 2020","externalUrl":null,"permalink":"/2020/06/17/download_image_from_url_python/","section":"Posts","summary":"\u003cp\u003eRecently, I want to download some images using Python.\nThis is what I\u0026rsquo;ve learned after the survey.\u003c/p\u003e","title":"How to Download Image from URL using Python","type":"posts"},{"content":"I have several terminal emulators installed on my Mac: kitty, Alacritty and iterm2. When I start a Tmux session in Alacritty and try to create another tmux session in kitty, I noticed this strange error that I have never met before:\nopen terminal failed: missing or unsuitable terminal: xterm-kitty\nFor clarity, kitty seems to use its own terminfo file called xterm-kitty, and Alacritty and iterm2 both use the good-old xterm-256color.\nThe author of kitty claims that:\ntmux does not support multiple terminfo. You will need to kill all existing tmux sessions and start a new one.\nI find his claim to be partly true. If I create a session in Alacritty, I can not attach to this session or create new session in kitty. However, if I initially create a new session (before that, there is not tmux session running) in kitty, I can indeed attach to that session or create a new session in Alacritty.\nMy version info:\nkitty: 0.17.2 Alacritty: 0.4.0 Tmux: 3.1b So my temporary solution is to kill all sessions in other terminal emulators if you want to use tmux in kitty.\nTmux error when sshing to remote server # If you ssh to another server using kitty terminal and met this issue when starting tmux on that server. The reason may be that xterm-kitty terminfo file may not be available on that server. You can use the following command to copy the terminfo file to the remote server as indicate here:\nkitty +kitten ssh myserver References # Tmux under kitty terminal. https://github.com/tmux/tmux/issues/1433 https://github.com/kovidgoyal/kitty/issues/370 ","date":"14 June 2020","externalUrl":null,"permalink":"/2020/06/14/kitty_tmux_open_terminal_fail/","section":"Posts","summary":"\u003cp\u003eI have several terminal emulators installed on my Mac: \u003ca href=\"https://sw.kovidgoyal.net/kitty/\" target=\"_blank\"\u003ekitty\u003c/a\u003e,\n\u003ca href=\"https://github.com/alacritty/alacritty\" target=\"_blank\"\u003eAlacritty\u003c/a\u003e and \u003ca href=\"https://www.iterm2.com/\" target=\"_blank\"\u003eiterm2\u003c/a\u003e.\nWhen I start a Tmux session in Alacritty and try to create another tmux session\nin kitty, I noticed this strange error that I have never met before:\u003c/p\u003e","title":"Tmux: Open Terminal Failed in Kitty Terminal","type":"posts"},{"content":"In my older post, I have shared how to run the built-in development server to serve Flask web service. For production, we need to use more powerful web servers. Flask complies to the WSGI specification and can work with any web server that conforms to WSGI.\nIn this post, I want share how to run Flask applications using uWSGI \u0026mdash; a popular WSGI-compliant server.\nInstall and simple running # To install uWSGI, we can use pip:\npip install uwsgi To serve a simple flask application using uWSGI, we can run the following command:\nuwsgi --http 0.0.0.0:8081 --module flask-app:app --master --processes 2 --threads 2 # or run following command # uwsgi --socket 0.0.0.0:8081 --protocol=http --module flask-app:app Run uWSGI via config # When we add more options via the command line, it becomes less convenient. We can also use a config file (in ini format) to run uWSGI:\n[uwsgi] chdir=/path/to/project wsgi-file=flask-demo.py callable=app http=0.0.0.0:1234 need-app=true lazy-apps=true master=true processes=2 threads=2 single-interpreter=true die-on-term=true procname-prefix-spaced=flask demo vacuum=true pidfile=demo.pid worker-reload-mercy=5 Save this file as uwsgi.ini (or whatever you like), and then run the application using uwsgi --ini uwsgi.ini. If the extension of config file is ini, we can also directly run uWSGI: uwsgi uwsgi.ini. Note that the first line ([uwsgi]) is necessary and must not be omitted.\nBelow are the meanings of some of these options:\nchdir # The chdir option specifies the directory to run the application.\nwsgi-file and callable # Option wsgi-file specify the source file where your application resides. Option callable sets the name of your application. For example, if you define your application like this: app = Flask(__name__), then you should set callable = app.\nmaster # With master mode on, the master process will restart a worker process if it dies. Generally, it is a good idea to turn master mode on with master = true.\nSee also: https://stackoverflow.com/q/35072176/6064933\nsingle-interpreter # By default, uwsgi will enable multiple interpreter mode, i.e., running multiple apps in a single process using different interpreter. If we are running a single app, it is not necessary to run in this mode.\nRef:\nhttp://lists.unbit.it/pipermail/uwsgi/2010-April/000247.html https://docs.newrelic.com/docs/agents/python-agent/web-frameworks-servers/python-agent-uwsgi-web-server die-on-term # without die-on-term = true, you can not kill uwsgi process via kill xxx. Instead, uWSGI will reload a process if it were killed. This may not be what you want.\nneed-app # if need-app = true, uWSGI will not run if it can not find the application to run. Otherwise, it will load even without an application. When you request the service, you will get HTTP 500 responses. So setting need-app to true is a sane choice.\nlazy-apps # With lazy-apps=true, each process will initialize applications independently of each other. If you do not set this option, you may run into troubles. For example, someone reported that PyTorch model does not run properly if lazy-apps option is not set.\nSee also official discussion here.\nproc-name-spaced # It will add a custom prefix to uwsgi processes so that you can find the processes for a specific application easily. For example, with the following config:\nproc-name-spaced = demo the output will be:\njdhao 29516 1.0 0.0 110104 14852 pts/31 S+ 21:16 0:00 demo uWSGI master jdhao 29520 5.5 0.0 186184 28080 pts/31 S+ 21:16 0:00 demo uWSGI worker 1 jdhao 29521 0.0 0.0 110104 7644 pts/31 S+ 21:16 0:00 demo uWSGI http 1 py-autoreload # py-autoreload=2 will check if file is modified every 2 seconds and restart application if modification detected. This should only be used for debugging, and not for production.\nRef:\nhttps://uwsgi-docs.readthedocs.io/en/latest/Configuration.html#ini-files pidfile # The option pidfile will create a file under specified location with the pid of uWSGI master process. To kill the uWSGI process safely, you can run the following command:\nuwsgi --stop demo.pid Ref:\nHow to kill all instance of uwsgi? worker-reload-mercy # When I try to kill the uwsgi process via Ctrl-C, I found that uwsgi takes long time to stop and prints the following message when it finally stops:\nworker 1 buried after 30 seconds goodbye to uWSGI. VACUUM: pidfile removed. To close the uwsgi processes quicker, we can add the worker-realod-mercy option and set it to a small value:\n# set it to 5 seconds worker-reload-mercy = 5 It sets the number of seconds uWSGI will wait for the worker to exit before killing it forcefully.\nThen when you start uwsgi, you will see the following log message:\nyour mercy for graceful operations on workers is 5 seconds Ref:\nhttps://www.mail-archive.com/uwsgi@lists.unbit.it/msg05155.html https://github.com/unbit/uwsgi/issues/844#issuecomment-455756013 NGINX - Python - UWSGI kill issue References # https://uwsgi-docs.readthedocs.io/en/latest/ParsingOrder.html https://www.techatbloomberg.com/blog/configuring-uwsgi-production-deployment/ Configuring uWSGI for Production: The defaults are all wrong: https://www.youtube.com/watch?v=p6R1h2Nn468 ","date":"13 June 2020","externalUrl":null,"permalink":"/2020/06/13/flask_serving_via_wsgi_server/","section":"Posts","summary":"\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2020/04/06/build_webapi_with_flask_s1/\" target=\"_blank\"\u003eolder post\u003c/a\u003e, I have shared how to run the built-in development server to serve Flask web service.\nFor production, we need to use more powerful web servers.\nFlask complies to the \u003ca href=\"https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface\" target=\"_blank\"\u003eWSGI\u003c/a\u003e specification and can work with any web server that conforms to WSGI.\u003c/p\u003e\n\u003cp\u003eIn this post, I want share how to run Flask applications using \u003ca href=\"https://uwsgi-docs.readthedocs.io/en/latest/\" target=\"_blank\"\u003euWSGI\u003c/a\u003e \u0026mdash; a popular WSGI-compliant server.\u003c/p\u003e","title":"Serving Flask Applications with uWSGI","type":"posts"},{"content":"Conda is the default package and environment management tool shipped with Anaconda.\nThis post logs my cheatsheet and notes for working with virtual environments with conda.\ncommonly used commands for virtual env # Create a new environment: conda create -n my_env List environments on the system: conda env list Delete an environment: conda env remove -n my_env Activate an env: Windows: conda activate my_env Mac/Linux: source activate my_env Exit/quit an env: Windows: conda deactivate my_env Mac/Linux: source deactivate my_env How to install packages into a specific environment? # Outside an env, we can use the -n option to specify which environment we want to install packages into:\nconda install -n my_env -c some_channel some_package If we are inside the virtual environment, there is no need to use the -n option. We can install a package with conda install.\nRemove package in an env # Remove pakcage from an env: conda remove -n my_env some_package. If you do not specify -n, some_package in current env will be removed. If you are not in any virtual env, some_package in the global Python path will be removed.\nUsing pip inside env install packages to global site-package location? # When I am inside a virtual env, I am surprised that pip install some_package installs the package to the global site-package instead of inside the virtual env.\nAfter some digging, I find that reason is that I was not using the pip command inside that virtual environment. To check this, use the following command before using pip install:\nwhich pip If the pip path is not inside the virtual env, then we are using the system-wide pip. So pip install some_package will install some_package into to global Python path instead of the virtual environment.\nReferences # Where to install pip packages inside my Conda environment? How to add package to conda environment without pip? ","date":"11 June 2020","externalUrl":null,"permalink":"/2020/06/11/conda_env_management/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://docs.conda.io/projects/conda/en/latest/\" target=\"_blank\"\u003eConda\u003c/a\u003e is the default package\nand environment management tool shipped with\n\u003ca href=\"https://www.anaconda.com/products/individual\" target=\"_blank\"\u003eAnaconda\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThis post logs my cheatsheet and notes for working with virtual environments\nwith conda.\u003c/p\u003e","title":"Virtual Environment Management with Conda","type":"posts"},{"content":"After running a Ubuntu docker container, I found that the default time zone is UTC. I want to change it to my local timezone.\nThis is how to change the timezone when we are building the docker container:\nENV DEBIAN_FRONTEND=noninteractive RUN apt-get update \u0026amp;\u0026amp; apt-get install -y --no-install-recommends tzdata \\ \u0026amp;\u0026amp; rm -rf /var/lib/apt/lists/* RUN ln -fs /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\ \u0026amp;\u0026amp; dpkg-reconfigure --frontend noninteractive tzdata Since we can enter input when building docker images, by setting DEBIAN_FRONTEND to noninteractive, we make sure apt-get will install tzdata package in a non-interactive way.\nPackage tzdata will install a lot of timezone files under /usr/share/zoneinfo directory. We then create a symlink to use Asia/Shanghai as the new timezone:\nln -fs /usr/share/zoneinfo/Asia/Shanghai /etc/localtime Finally, we use dpkg-reconfigure to configure tzdata to use the new timezone:\ndpkg-reconfigure --frontend noninteractive tzdata The option --frontend noninteractive avoids the interactive prompt to choose area and city.\nReferences # Avoid user interaction when installing tzdata. Automate dpkg-reconfigure. Install tzdata on Ubuntu docker image. https://github.com/phusion/baseimage-docker/issues/415#issuecomment-305962877 What is /etc/timezone used for? What is /etc/localtime? ","date":"11 June 2020","externalUrl":null,"permalink":"/2020/06/11/linux_set_timezone/","section":"Posts","summary":"\u003cp\u003eAfter running a Ubuntu docker container, I found that the default time zone is\nUTC. I want to change it to my local timezone.\u003c/p\u003e","title":"Set Timezone inside Docker Container","type":"posts"},{"content":"","date":"7 June 2020","externalUrl":null,"permalink":"/tags/async/","section":"Tags","summary":"","title":"Async","type":"tags"},{"content":"I was using asyncio inside a view function for Flask to run some asynchronous functions and met an error.\nHere is the demo code:\nimport asyncio from flask import Flask, jsonify app = Flask(__name__) @app.route(\u0026#34;/toy\u0026#34;, methods=[\u0026#34;GET\u0026#34;]) def index(): loop = asyncio.get_event_loop() result = loop.run_until_complete(hello()) return jsonify({\u0026#34;result\u0026#34;: result}) async def hello(): await asyncio.sleep(1) return 1 if __name__ == \u0026#34;__main__\u0026#34;: app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=4567, debug=False) When I request this service, I get the following error from asyncio.event:\nRuntimeError: There is no current event loop in thread \u0026lsquo;Thread-1\u0026rsquo;.\nfor the following line of code:\nloop = asyncio.get_event_loop() From the asyncio documentation on default event loop policy:\nIf the current thread doesnâ€™t already have an event loop associated with it, the default policyâ€™s get_event_loop() method creates one when called from the main thread, but raises RuntimeError otherwise\nSo it seems that the view function index() is not run in the main thread. As a result, there is no event loop associated with the current thread, hence the error message. To verify this, we can use the threading module to help us find which thread we are currently in:\nimport threading import asyncio from flask import Flask, jsonify print(f\u0026#34;In flask global level: {threading.current_thread().name}\u0026#34;) app = Flask(__name__) @app.route(\u0026#34;/toy\u0026#34;, methods=[\u0026#34;GET\u0026#34;]) def index(): print(f\u0026#34;Inside flask function: {threading.current_thread().name}\u0026#34;) loop = asyncio.get_event_loop() result = loop.run_until_complete(hello()) return jsonify({\u0026#34;result\u0026#34;: result}) async def hello(): await asyncio.sleep(1) return 1 if __name__ == \u0026#34;__main__\u0026#34;: app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=4567, debug=False) When running the flask app, we can see the following message:\nIn flask global level: MainThread\nSo the statement outside the view function is run in the main thread.\nWhen we request the service, we can see the following message from the view function:\nInside flask function: Thread-1\nThis verifies that Flask is indeed running the view functions in a separate thread other than the main thread.\nIn the Flask.run() doc, this is also briefly mentioned in the changelog part:\nChanged in version 1.0: If installed, python-dotenv will be used to load environment variables from .env and .flaskenv files.\nIf set, the FLASK_ENV and FLASK_DEBUG environment variables will override env and debug.\nThreaded mode is enabled by default.\nUnder the hood, Flask.run() is using werkzeug.serving.run_simple() to server the app and set the threaded option to True by default:\nthreaded â€“ should the process handle each request in a separate thread?\nWhat does the threaded mode mean? It means that the server can serve requests in a non-blocking fashion, i.e., it does not need to wait for one request to finish to process another request. That is often preferred than the single-threaded mode. Note, however, that the development server is not for production purposes. We need to use dedicated WSGI server such as gunicorn and uWSGI in production for better performance.\nReferences # Can I serve multiple clients using just Flask app.run() as standalone?. Handle Flask requests concurrently with threaded=True. ","date":"7 June 2020","externalUrl":null,"permalink":"/2020/06/07/asyncio_inside_flask/","section":"Posts","summary":"\u003cp\u003eI was using \u003ca href=\"https://docs.python.org/3/library/asyncio.html\" target=\"_blank\"\u003easyncio\u003c/a\u003e inside a\nview function for Flask to run some asynchronous functions and met an error.\u003c/p\u003e","title":"How to Use Asyncio with Flask Applications","type":"posts"},{"content":"","date":"1 June 2020","externalUrl":null,"permalink":"/tags/markdown/","section":"Tags","summary":"","title":"Markdown","type":"tags"},{"content":" update log 2022-02-08: Add sections on using CSS with Markdown. In this post, I share some of the tricks that will Make the Markdown file better and more beautiful.\nHow to color text # To color some text, we can use the font tag, which is deprecated in HTML5.\n\u0026lt;font color=\u0026#34;red\u0026#34;\u0026gt;red text\u0026lt;/font\u0026gt; We can also use the span tag:\n\u0026lt;span style=\u0026#34;color:blue\u0026#34;\u0026gt;this is blue text\u0026lt;/span\u0026gt;. To color entire paragraph, the p tag can be used:\n\u0026lt;p style=\u0026#34;color:red\u0026#34;\u0026gt;This is a paragraph.\u0026lt;/p\u0026gt; How to center align image and set image size # To center align image and set image size, we can combine the p tag and img tag:\n\u0026lt;p align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;URL\u0026#34; width=\u0026#34;800\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; The above HTML code will center the image and also set its width to 800 pixels.\nCreate collapsible content # Sometimes, it is handy to create some collapsible content to make the post concise. Like what is shown below.\nClick to show the code. import random nums = list(range(100)) print(random.choices(nums, k=10)) We can use the detail tag to achieve this:\n\u0026lt;details\u0026gt; \u0026lt;summary\u0026gt;\u0026lt;font size=\u0026#34;2\u0026#34; color=\u0026#34;red\u0026#34;\u0026gt;Click to show the code.\u0026lt;/font\u0026gt;\u0026lt;/summary\u0026gt; ``` import random nums = list(range(100)) print(random.choices(nums, k=10)) ``` \u0026lt;/details\u0026gt; Create anchor for text # Sometimes, we want to anchor a position in the post so that when the reader click its reference, they will be brought to the referred position. This can be achieved by using anchor tag. For example, click here to go to first section.\nThe code to achieve this is:\n# \u0026lt;a name=\u0026#34;color_text\u0026#34;\u0026gt;\u0026lt;/a\u0026gt;How to color text? click [here](#color_text) to go to first section. This works both for Markdown headers and normal text in some Markdown flavor.\nFor some Markdown variant, to go to a header, remove all punctuations in the header title and turn all text in header to lowever case and replace space with -, click here to go to section 1.\nLiteral backticks in inline code or code blocks # Backtick in ininlie code block # To use backticks inside inline code blocks, we can use more backticks as the openning and closing inline code delimiter. For example, to produce foo`, use the following:\n`` foo` `` How to render three backticks in code blocks # Since the usual delimiter for code block is three backticks, using three literal backticks inside the usual three-backtick code block will result in rendering problems.\nTo fix this problem we can use more backticks as the code block delimiter.\nStyle text with CSS # To create stylish component in Markdown, we may need a little bit CSS. Below is a div element styled with CSS.\nthis is some demo text We can use inline style or internal style to reproduce this effect.\nInline style # Using style attribute inside a HTML tag. The code is:\n\u0026lt;div style=\u0026#34;color: #ff0000; background-color: #ffbaba; padding: 10px; border: 3px dashed; border-radius: 10px;\u0026#34;\u0026gt; this is some demo text \u0026lt;/div\u0026gt; Internal style # We can also inline CSS in Markdown using HTML style tag. The code is:\n\u0026lt;style\u0026gt; .demo { color: #ff0000; background-color: #FFBABA; padding: 10px; border: 3px dashed; border-radius: 10px; } \u0026lt;/style\u0026gt; \u0026lt;div class=\u0026#34;demo\u0026#34;\u0026gt; this is some demo text \u0026lt;/div\u0026gt; It will create exactly the same styled text.\nCreat warning/info/success/error boxes # Using the techniques discussed above. We can create beautiful text boxes with different styles.\nUsing inline style:\n\u0026lt;div style=\u0026#34;padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #3c763d; background-color: #dff0d8; border-color: #d6e9c6;\u0026#34;\u0026gt; I am a success message \u0026lt;/div\u0026gt; \u0026lt;div style=\u0026#34;padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #a94442; background-color: #f2dede; border-color: #ebccd1;\u0026#34;\u0026gt; I am an error message \u0026lt;/div\u0026gt; \u0026lt;div style=\u0026#34;padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #31708f; background-color: #d9edf7; border-color: #bce8f1;\u0026#34;\u0026gt; \u0026lt;strong\u0026gt;\u0026amp;#9432; Info:\u0026lt;br/\u0026gt;\u0026lt;/strong\u0026gt; I am a info message \u0026lt;/div\u0026gt; \u0026lt;div style=\u0026#34;padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #8a6d3b;; background-color: #fcf8e3; border-color: #faebcc;\u0026#34;\u0026gt; \u0026lt;strong\u0026gt;\u0026amp;#9888; Warning:\u0026lt;br/\u0026gt;\u0026lt;/strong\u0026gt; I am a warning message \u0026lt;/div\u0026gt; The produced text boxes are like this:\nUsing internal style (ideas are from here):\n\u0026lt;style type=\u0026#34;text/css\u0026#34;\u0026gt; @import url(\u0026#39;//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\u0026#39;); .info-msg, .success-msg, .warning-msg, .error-msg { margin: 5px 0; margin-bottom: 20px; padding: 10px; border-radius: 5px 5px 5px 5px; border: 2px solid transparent; border-color: transparent; } .info-msg { color: #059; background-color: #BEF; } .success-msg { color: #270; background-color: #DFF2BF; } .warning-msg { color: #9F6000; background-color: #FEEFB3; } .error-msg { color: #D8000C; background-color: #FFBABA; } \u0026lt;/style\u0026gt; \u0026lt;div class=\u0026#34;info-msg\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-info-circle\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; This is an info message. \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;success-msg\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-check\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; This is a success message. \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;warning-msg\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-warning\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; This is a warning message. \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;error-msg\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-times-circle\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; This is a error message. \u0026lt;/div\u0026gt; The produce text boxes are like:\nReferences # Apply color in Markdown. Center align image. Anchored text in Markdown. Collapsible content in Markdown. Backticks Escape backtick in inline code block. Fenced code block inside fenced code block. CSS: https://www.w3schools.com/html/html_css.asp markdown css: https://stackoverflow.com/a/66407948/6064933 https://www.w3schools.io/file/markdown-css/ ","date":"1 June 2020","externalUrl":null,"permalink":"/2020/06/01/markdown_writing_tricks/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-02-08: Add sections on using CSS with Markdown.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I share some of the tricks that will Make the Markdown file better and more beautiful.\u003c/p\u003e","title":"Markdown Writing Tricks","type":"posts"},{"content":"If you find yourself repeatedly type some similar-structured text in Vim/Nvim, you need to ask yourself if there is a better way to do it.\nSnippet is a good way to insert structured text: you just need to type the trigger word and press the trigger key, then you have the whole text ready for you to edit. For example, when I am writing my blog post, I use meta as the trigger to generate the post front matter info.\nUltisnips is a good tool to automate text insertion, an it can increase your efficiency dramatically. For how to configure ultisnips for Neovim, refer to this post. In the following, I would like to show several cases of using snippet to improve my efficiency.\nGenerate debian change log file signature # I saw a post on stackExchange that some one want to insert debian change file signature of the format:\n-- Alexis Wilke \u0026lt;alexis@example.com\u0026gt; Tue, 26 May 2020 18:00:09 -0800 Each time when he writes this signature, only the date changes. The date is also in standard format. This is good case to show how we can save our time with snippet.\nWe need create a file named debchangelog.snippets in our custom snippet directory and add the following snippet into it:\nsnippet debsig \u0026#34;debian change log signature\u0026#34; w -- Alexis Wilke \u0026lt;alexis@example.com\u0026gt; `!v strftime(\u0026#39;%a, %d %b %Y %X %z\u0026#39;)` endsnippet The backticked text use the interpolation feature of Ultisnips. !v means to use Vim language interpolation, and it should be followed by valid Vim script expressions, like the one given above.\nAfter adding this snippet, when you open a debian changelog file1, type debsig and press the trigger key, it will be expanded to the signature automatically.\nGenerate main function template for Python # If a Python module can be imported and run as standard alone script, it is often a good practice to use the following template:\ndef main(): # the main function logic here if __name__ == \u0026#34;__main__\u0026#34;: main() It is cumbersome and time-wasting to type this every time we create a file. Let\u0026rsquo;s create a snippet for it. In the file python.snippet under your custom snippet directory, add the following snippet:\nsnippet main \u0026#34;Main function boilerplate\u0026#34; b def main(): $0 if __name__ == \u0026#34;__main__\u0026#34;: main() endsnippet When you create a Python source file, type main and press trigger, the file template will be created automatically for you.\nInsert center-aligned image in Markdown # The default Markdown syntax for image can not align the image or set the image display size. We can use the raw HTML tag to achieve this:\n\u0026lt;p align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;image_url\u0026#34; width=\u0026#34;800\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; To avoid typing these HTML tags every time, we can add the following image snippet to the file markdown.snippet under our custom snippet directory:\nsnippet img \u0026#34;Aligned image using HTML tag\u0026#34; \u0026lt;p align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;${1:URL}\u0026#34; width=\u0026#34;${2:800}\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; $0 endsnippet Then we can use img to trigger the image snippet. You can then press the forward jump and backward jump shortcut for Ultisnips to jump back and forth between the predefined stop positions to insert URL and adjust the image display size.\nMake sure that the filetype is debchangelog, otherwise set the filetype to debchangelog manually.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"27 May 2020","externalUrl":null,"permalink":"/2020/05/27/why_you_should_use_snippets_in_vim/","section":"Posts","summary":"\u003cp\u003eIf you find yourself repeatedly type some similar-structured text in Vim/Nvim,\nyou need to ask yourself if there is a better way to do it.\u003c/p\u003e","title":"Why You Should Use Snippets in Vim/Neovim","type":"posts"},{"content":"update (2020-09-19): update the settings for Nvim to reflect the latest changes in API.\nIn Vim or Neovim, showing the yanked region in color gives use visual feedback on what we have copied. Here is how you can highlight yanked region in Vim or Neovim.\nFor Neovim and vim # There is a plugin vim-highlightedyank for this, which works both for vim and Neovim. Install it with your favorite plugin manager and it just works. You can also adjust highlight duration by adding the following config:\n\u0026#34; set highlight to 1000 ms let g:highlightedyank_highlight_duration = 1000 Neovim only # If you are using the latest version of Neovim. They have make this little feature built-in in this pull request (see also :h lua-highlight).\nInstall the latest version of Neovim and add the following config to your init.vim:\naugroup highlight_yank autocmd! au TextYankPost * silent! lua vim.highlight.on_yank{higroup=\u0026#34;IncSearch\u0026#34;, timeout=700} augroup END The first parameter is the highlight group to use, and the second parameter is the highlight duration time measured in milliseconds.\nEnjoy it. One more plugin to remove :)\n","date":"22 May 2020","externalUrl":null,"permalink":"/2020/05/22/highlight_yank_region_nvim/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eupdate (2020-09-19): update the settings for Nvim to reflect the latest\nchanges in API.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIn Vim or Neovim, showing the yanked region in color gives use visual feedback\non what we have copied. Here is how you can highlight yanked region in Vim or\nNeovim.\u003c/p\u003e","title":"Highlight Yanked Region in Nvim/Vim","type":"posts"},{"content":"äººå·¥æ™ºèƒ½ (AI)ç”šåš£å°˜ä¸Šï¼ŒåŠ¨åˆ™ç§°é¢ è¦†ï¼Œå„å®¶å…¬å¸çº·çº·æ¨å‡ºäº†è‡ªå·±çš„ AI äº§å“ï¼Œä½†æ˜¯è¿™äº›äº§å“çœŸçš„æœ‰é‚£ä¹ˆå¤šäººç”¨å—ï¼Ÿ\nåˆ«çœ‹å„ç§è®ºæ–‡å®£ç§°ä»–ä»¬çš„ç®—æ³•æœ‰å¤šä¹ˆç‰›é€¼ï¼Œä¸€åˆ°å®é™…åœºæ™¯ï¼Œè¦åšæˆèƒ½è®©æ¶ˆè´¹è€…ä½¿ç”¨çš„äº§å“ï¼Œä¸è´¹ä¸€ç•ªåŠŸå¤«ä¼˜åŒ–æ˜¯ä¸å¯èƒ½çš„ã€‚è®ºæ–‡é‡Œçš„ç®—æ³•ä¹‹æ‰€ä»¥å‰å®³ï¼Œæ˜¯å› ä¸ºä»–ä»¬ä¸“é—¨é’ˆå¯¹æ•°æ®é›†è¿›è¡Œäº†ä¼˜åŒ–ï¼Œè€Œå®é™…åœºæ™¯çš„æ•°æ®é€šå¸¸æ˜¯å¤æ‚çš„ã€‚\nå¦å¤–ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬è¦åŒºåˆ†â€œèƒ½ç”¨â€å’Œâ€œå¥½ç”¨â€ï¼Œç»è¿‡å¤§é‡çš„ä¼˜åŒ–å’Œæ•°æ®æ‹Ÿåˆï¼ŒAI ç®—æ³•å¤§éƒ½èƒ½åˆ°â€œèƒ½ç”¨â€çš„ç¨‹åº¦ï¼Œä½†æ˜¯è¦è¾¾åˆ°è®©æ¶ˆè´¹è€…æ»¡æ„çš„ç¨‹åº¦ï¼Œæ˜¯éå¸¸å›°éš¾çš„ã€‚ä¾‹å¦‚å›¾åƒåˆ†å‰²ç®—æ³•ï¼Œè¦åšåˆ°å‡†ç¡®åˆ†å‰²å„ç§ç‰©ä½“æ˜¯å¾ˆéš¾çš„ï¼Œç”±äºç°å®ä¸–ç•Œçš„ç‰©ä½“åƒå·®ä¸‡åˆ«ï¼Œä¸åƒè®ºæ–‡é‡Œæ˜¯é™å®šç§ç±»ï¼Œåˆ†å‰²ç®—æ³•è¦åšåˆ°è®©äººæ»¡æ„å…¶å®æ˜¯å¾ˆéš¾çš„ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œäº§ç”Ÿçš„å›¾åƒç²—çœ‹è¿˜å¯ä»¥ï¼Œç»†çœ‹çš„è¯ï¼Œä¸€äº›ç»†èŠ‚å¤„ç†å°±ä¸åˆ°ä½ï¼Œä¸èƒ½ä»¤äººæ»¡æ„ã€‚æ›´ä¸ç”¨è¯´ä¸€äº›ç°åœ¨è¿˜ä¸æˆç†Ÿçš„æŠ€æœ¯äº†ï¼Œå¼ºè¡Œä¸Šé©¬åªä¼šå¯¼è‡´ç®—æ³•åªå¯¹æŸäº›åœºæ™¯æœ‰ç”¨ï¼Œè¾¾ä¸åˆ°æ¶ˆè´¹è€…çš„é¢„æœŸã€‚\nå‰ä¸ä¹…åœ¨åä¸ºçš„ä¸“å–åº—ä½“éªŒäº†åä¸ºæ‰‹æœºæ‹ç…§ç¿»è¯‘åŠŸèƒ½ï¼Œé¦–å…ˆç¿»è¯‘æ•ˆæœå¾ˆå·®ï¼Œå¦å¤–ç¿»è¯‘ä»¥åçš„æ–‡æœ¬è´´å›å»çš„æ—¶å€™æ’ç‰ˆç²—ç³™ä¸å ªï¼Œè¿™æ ·è¾£é¸¡çš„æ‹ç…§ç¿»è¯‘ï¼Œæ˜¯æ¢é™èŒ¹ç»™äº†å‹‡æ°”ä¸Šé©¬åˆ°æ‰‹æœºå—ï¼Ÿ\nè™½ç„¶ AI è¢«å¹çš„ç¥ä¹å…¶ç¥ï¼Œä½†æ˜¯çœŸæ­£å¯¹æ¶ˆè´¹è€…äº§ç”Ÿä»·å€¼çš„äº§å“æœ‰å¤šå°‘å‘¢ï¼Ÿäººè„¸è¯†åˆ«ç®—æ˜¯ä¸€ä¸ªï¼Œç°åœ¨å¤§éƒ¨åˆ†æ‰‹æœºéƒ½æœ‰äººè„¸è¯†åˆ«è§£é”çš„åŠŸèƒ½ï¼Œè¯­éŸ³è¯†åˆ«ä¹Ÿç®—æ˜¯ä¸€ä¸ªå§ï¼Œè¯­éŸ³è½¬æ–‡æœ¬èƒ½å¸®ç”¨æˆ·èŠ‚çœå¤§é‡æ‰‹åŠ¨å½•å…¥çš„æ—¶é—´ï¼Œè¿˜æœ‰ä»€ä¹ˆå‘¢ï¼Œä¸€æ—¶ç«Ÿæƒ³ä¸èµ·æ¥äº†ã€‚å¤§éƒ¨åˆ†ç®—æ³•å¹¶æœªè¾¾åˆ°æˆç†Ÿåº”ç”¨åˆ°äº§å“çš„åœ°æ­¥ã€‚\næˆ‘ä»¬åœ¨åšäº§å“çš„æ—¶å€™ï¼Œåº”è¯¥åšçœŸæ­£ä¸ºæ¶ˆè´¹è€…äº§ç”Ÿä»·å€¼çš„ AI äº§å“ï¼Œè€Œä¸æ˜¯èµ¶æ‰€è°“çš„é¦–å‘æˆ–è€…åˆ›é€ ä¸€äº›å™±å¤´ã€‚\n","date":"22 May 2020","externalUrl":null,"permalink":"/2020/05/22/the_ai_hype/","section":"Posts","summary":"\u003cp\u003eäººå·¥æ™ºèƒ½ (AI)ç”šåš£å°˜ä¸Šï¼ŒåŠ¨åˆ™ç§°é¢ è¦†ï¼Œå„å®¶å…¬å¸çº·çº·æ¨å‡ºäº†è‡ªå·±çš„ AI äº§å“ï¼Œä½†æ˜¯è¿™äº›äº§å“çœŸçš„æœ‰é‚£ä¹ˆå¤šäººç”¨å—ï¼Ÿ\u003c/p\u003e","title":"AI çš„å™±å¤´","type":"posts"},{"content":"two meetings å³å°†æˆ–è€…æ­£åœ¨å¬å¼€ï¼Œä¸Šä¸ªè°·æ­Œä¹Ÿè¶Šæ¥è¶Šéš¾ï¼Œæœ€è¿‘å¢™å¯¹å„ç§å·¥å…·çš„é˜»æ–­éå¸¸ä¸¥é‡ï¼Œè¿ä¹‹å‰ä½¿ç”¨äº† obfs çš„ ss éƒ½ä¸è¡Œäº†ï¼Œæœ€è¿‘ä¸€æ®µæ—¶é—´ä¹Ÿå¤„äºæ—¶æ–­æ—¶ç»­çš„çŠ¶æ€ã€‚\nJustmysocks ä¹‹å‰ä¸€ç›´ç”¨çš„éƒ½æ˜¯ shadowsocks åè®®ï¼Œå¯¹å¢™çš„ååˆ¶èƒ½åŠ›ä¸è¡Œï¼Œæ¯åˆ°å…³é”®æ—¶å€™å°±æ˜¾éœ²ç–²æ€ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œjustmysocks ç»ˆäºåœ¨æœ€è¿‘æ¨å‡ºäº†åŸºäº v2ray åè®®çš„çº¿è·¯ã€‚\nv2ray ç›¸å¯¹äº shadowsocksï¼Œéšè”½æ€§æ›´å¥½ï¼Œæ‰€ä»¥ä¹Ÿæ›´åŠ ç¨³å®šã€‚ç”±äº justmysocks çš„ v2ray ç›®å‰åˆšæ¨å‡ºï¼Œåªèƒ½æ‰‹åŠ¨è®¾ç½®ï¼Œå…·ä½“å¦‚ä½•è®¾ç½®ï¼Œå¯ä»¥æœç´¢ v2ray è®¾ç½®æ•™ç¨‹ã€‚\nv2ray çš„å®¢æˆ·ç«¯ä¹Ÿå¾ˆå¤šé€‰æ‹©ï¼Œå®Œæ•´åˆ—è¡¨è§è¿™é‡Œã€‚åˆ—ä¸¾ä¸€äº›å¸¸è§çš„å®¢æˆ·ç«¯ï¼š\nWindows: V2rayN Mac: v2rayU, ClashX, Qv2ray. Android: v2rayNG, BifrostV. æ›´æ–°ï¼š 2020-05-28\nè¿‘æœŸ justmysocks åˆæ¨å‡ºäº†ä¸€ä¸ªæ”¯æŒ v2ray çš„ s801 èŠ‚ç‚¹ï¼Œå‚è§ä¸‹å›¾\nå®˜æ–¹çš„è¯´æ³•æ˜¯è¿™ä¸ªèŠ‚ç‚¹çœŸæ­£è®¡ç®—çš„æ•°æ®é‡æ˜¯å®é™…ä½¿ç”¨æ•°æ®é‡çš„ 1/10ï¼Œä½†æ˜¯è¿™ä¸ªèŠ‚ç‚¹åªæ˜¯å‹æƒ…æä¾›ï¼Œä¸ä¿è¯è´¨é‡ï¼Œä¹Ÿä¸æä¾›ä»»ä½•å½¢å¼çš„æœåŠ¡ï¼Œå¹¶ä¸”éšæ—¶å¯èƒ½ä¼šè¢«ä¸‹æ¶ã€‚è§ è¿™é‡Œ è¯´æ˜ã€‚\næ›´æ–°ï¼š 2020-06-19\nä»Šå¤©æŸ¥çœ‹ justmysocks çš„ç½‘ç«™ï¼Œ3-5 ä¸‰ä¸ªæœåŠ¡å™¨éƒ½å·²ç»å˜ä¸º v2ray åè®®äº†ï¼Œä¸‰ä¸ªæœåŠ¡å™¨çš„é…ç½®éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ä¼°è®¡ justmysocks æ‰€æœ‰èŠ‚ç‚¹ä»¥åéƒ½ä¼šè½¬ä¸º v2ray åè®®ã€‚\nå‚è€ƒ # https://www.youtube.com/watch?v=A3R7j_dpGLc https://medium.com/@kissmk3515/2020%E6%9C%80%E5%A5%BD%E7%9A%84v2ray%E6%9C%BA%E5%9C%BA%E8%AF%84%E6%B5%8B-b76a075e4f26 ","date":"22 May 2020","externalUrl":null,"permalink":"/2020/05/22/v2ray_justmysocks/","section":"Posts","summary":"\u003cp\u003etwo meetings å³å°†æˆ–è€…æ­£åœ¨å¬å¼€ï¼Œä¸Šä¸ªè°·æ­Œä¹Ÿè¶Šæ¥è¶Šéš¾ï¼Œæœ€è¿‘å¢™å¯¹å„ç§å·¥å…·çš„é˜»æ–­éå¸¸ä¸¥é‡ï¼Œè¿ä¹‹å‰\u003ca href=\"https://jdhao.github.io/2020/04/25/shadowsocks_obfs_setup/\" target=\"_blank\"\u003eä½¿ç”¨äº† obfs çš„ ss\u003c/a\u003e éƒ½ä¸è¡Œäº†ï¼Œæœ€è¿‘ä¸€æ®µæ—¶é—´ä¹Ÿå¤„äºæ—¶æ–­æ—¶ç»­çš„çŠ¶æ€ã€‚\u003c/p\u003e\n\u003cp\u003eJustmysocks ä¹‹å‰ä¸€ç›´ç”¨çš„éƒ½æ˜¯ shadowsocks åè®®ï¼Œå¯¹å¢™çš„ååˆ¶èƒ½åŠ›ä¸è¡Œï¼Œæ¯åˆ°å…³é”®æ—¶å€™å°±æ˜¾éœ²ç–²æ€ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œjustmysocks ç»ˆäºåœ¨æœ€è¿‘æ¨å‡ºäº†åŸºäº \u003ca href=\"https://www.v2ray.com/en/\" target=\"_blank\"\u003ev2ray\u003c/a\u003e åè®®çš„çº¿è·¯ã€‚\u003c/p\u003e","title":"Justmysocks æ”¯æŒ v2ray åè®®äº†ï¼","type":"posts"},{"content":"I was doing some typograph for Chinese text and want to insert a space equal to the width of a Chinese character.\næœ€è¿‘åœ¨åšä¸€äº›ä¸­æ–‡æ’ç‰ˆçš„å·¥ä½œï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯åœ¨ä¸­æ–‡å­—ç¬¦ä¹‹é—´æ’å…¥ç©ºæ ¼ï¼Œå¹¶ä¸”ç©ºæ ¼çš„å®½åº¦ç­‰äºä¸­æ–‡å­—ç¬¦çš„å®½åº¦ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¿™æ ·æ’ç‰ˆæ˜¾å¾—æ›´åŠ ç¾è§‚ã€‚\nIdeographic space(å…¨è§’ç©ºæ ¼) # The usual space we use (U+0020) does not met this requirement since it is very thin compared to Chinese characters. I do not know what this kind of space is called or whether this character even exists. I searched the web using Google and found that this space is called full width space or ideographic space. It is equal to the width the CJK character so that it is aesthetically pleasing to insert such a space when needed. The code point for ideographic space is U+3000 and it looks like the following:\næˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç©ºæ ¼é”®æ‰“å‡ºçš„ç©ºæ ¼ï¼ˆUnicode ç¼–ç ä¸º U+0020ï¼‰ä¸æ»¡è¶³æ’ç‰ˆçš„éœ€æ±‚ï¼Œå› ä¸ºè¿™ä¸ªç©ºæ ¼çš„å®½åº¦å’Œæ±‰å­—å­—ç¬¦å®½åº¦ç›¸æ¯”éå¸¸çª„ã€‚èµ·åˆæˆ‘ä¸çŸ¥é“æ˜¯å¦å­˜åœ¨è¿™ç§å®½åº¦ç­‰äºæ±‰å­—å­—ç¬¦å®½åº¦çš„ç©ºæ ¼ï¼Œä¹Ÿä¸çŸ¥é“å®ƒå«ä»€ä¹ˆã€‚ä¸è¿‡ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œæˆ‘å‘ç°è¿™ç§ç©ºæ ¼æ˜¯å­˜åœ¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥å«å®ƒ å…¨è§’ç©ºæ ¼ æˆ– è¡¨æ„ç©ºæ ¼ã€‚è¿™ä¸ªç©ºæ ¼çš„å çš„å®½åº¦ç­‰äºä¸­æ—¥éŸ©å­—ç¬¦çš„å®½åº¦ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨æ’ç‰ˆçš„æ—¶å€™æ’å…¥è¿™ç§ç©ºæ ¼ï¼Œç»“æœä¼šæ›´ç¾è§‚ã€‚å…¨è§’ç©ºæ ¼çš„ Unicode ç¼–ç æ˜¯ U+3000ã€‚\nåœ¨ Mac ç³»ç»Ÿä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„è¾“å…¥æ³•æ’å…¥å…¨è§’ç©ºæ ¼ï¼ŒæŒ‰ä¸‹å¿«æ·é”® Shift+ Option + Bï¼Œåœ¨å¼¹å‡ºçš„èœå•é€‰æ‹© â€œç¬¦å·â€ï¼Œç¬¬å…­ä¸ªå€™é€‰é¡¹å°±æ˜¯å…¨è§’ç©ºæ ¼ã€‚\nThere are other kind of spaces that I am not aware of, e.g., space (U+2000) that are 1/2 of the height of a font size.\né™¤äº†å…¨è§’ç©ºæ ¼ä»¥å¤–ï¼ŒUnicode å­—ç¬¦é›†å®é™…ä¸Šè¿˜è§„å®šäº†å…¶ä»–ç±»å‹çš„ç©ºæ ¼ä»¥æ»¡è¶³ä¸åŒæ’ç‰ˆçš„éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œç¼–ç ä¸º U+2000 çš„å­—ç¬¦ï¼ŒUnicode è§„å®šå®ƒçš„å®½åº¦ç­‰äºå­—ç¬¦å¤§å°ï¼ˆå­—ç¬¦é«˜åº¦ï¼‰çš„ä¸€åŠã€‚è¿™äº›å®½åº¦ä¸åŒçš„ç©ºæ ¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æ’ç‰ˆçš„æ—¶å€™äº§ç”Ÿæ›´åŠ æ„‰æ‚¦çš„è§†è§‰æ•ˆæœï¼Œä¾‹å¦‚ï¼Œè¿™ç¯‡æ–‡ç« å±•ç¤ºäº†åœ¨å‰ç«¯ç½‘é¡µè®¾è®¡æ—¶ï¼Œåˆ©ç”¨ä¸åŒç©ºæ ¼æ¥ä¸¤ç«¯å¯¹é½é•¿çŸ­ä¸åŒçš„ä¸­æ–‡ã€‚\nReferencesï¼ˆå‚è€ƒèµ„æ–™ï¼‰ # A good article on Unicode spaces. https://en.wikipedia.org/wiki/Whitespace_character http://keithtam.net/designing-with-the-hanzi-script/ https://medium.com/@bobtung/best-practice-in-chinese-layout-f933aff1728f https://webdesign.tutsplus.com/articles/the-complete-beginners-guide-to-chinese-fonts--cms-23444 åœ¨ Mac ä¸­è¾“å…¥å…¨è§’ç©ºæ ¼. ","date":"16 May 2020","externalUrl":null,"permalink":"/2020/05/16/space_for_cjk/","section":"Posts","summary":"\u003cp\u003eI was doing some typograph for Chinese text and want to insert a space equal to\nthe width of a Chinese character.\u003c/p\u003e\n\u003cp\u003e\u003cfont color=\"red\"\u003eæœ€è¿‘åœ¨åšä¸€äº›ä¸­æ–‡æ’ç‰ˆçš„å·¥ä½œï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯åœ¨ä¸­æ–‡å­—ç¬¦ä¹‹é—´æ’å…¥ç©ºæ ¼ï¼Œå¹¶ä¸”ç©ºæ ¼çš„å®½åº¦ç­‰äºä¸­æ–‡å­—ç¬¦çš„å®½åº¦ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¿™æ ·æ’ç‰ˆæ˜¾å¾—æ›´åŠ ç¾è§‚ã€‚\u003c/font\u003e\u003c/p\u003e","title":"Space for CJK Languages (CJK è¯­è¨€ä¸­çš„ç©ºæ ¼)","type":"posts"},{"content":"ä¹‹å‰æ„Ÿå¹è¿‡ä½¿ç”¨ä¸­æ–‡æœç´¢ç»å¸¸æ‰¾ä¸åˆ°æƒ³è¦çš„ç»“æœï¼Œè¿™ç¯‡æ–‡ç« æ€»ç»“æˆ‘å¯¹äºå¦‚ä½•æœ‰æ•ˆæœç´¢çš„ä¸€äº›æƒ³æ³•ã€‚\nä½¿ç”¨è‹±æ–‡æœç´¢ # ä¹‹æ‰€ä»¥ä½¿ç”¨è‹±æ–‡æœç´¢ï¼Œä¸€æ–¹é¢å› ä¸ºä¸­æ–‡äº’è”ç½‘ä¸–ç•Œçš„ä¿¡æ¯å¾ˆå¤šéƒ½æ˜¯å¤åˆ¶ç²˜è´´åˆ«å¤„çš„æ–‡ç« ï¼Œæˆ–è€…è™½ç„¶æ˜¯åŸåˆ›ï¼Œå†™çš„è¯­ç„‰ä¸è¯¦ï¼Œæ²¡æœ‰è‡ªå·±çš„æ€»ç»“å’Œåˆ†æï¼Œæœ‰ä»·å€¼çš„ä¿¡æ¯å¤ªå°‘ã€‚å¦å¤–ï¼Œç”±äºè°·æ­Œé€€å‡ºäº†ä¸­å›½ï¼Œç›®å‰è°·æ­Œå¯¹ä¸­æ–‡æœç´¢æœåŠ¡çš„è´¨é‡ä¼¼ä¹å·²ç»ä¸å¤ªå…³æ³¨äº†ï¼Œä½¿ç”¨ä¸­æ–‡åœ¨è°·æ­Œæœç´¢ï¼Œç»å¸¸ä¼šçœ‹åˆ°å¾ˆå¤š SEO ç½‘ç«™ (è¿™ç§ç½‘ç«™ä¹Ÿè¢«ç§°ä¸ºâ€œå†…å®¹å†œåœºâ€ï¼Œcontent farm)ï¼Œåƒä»€ä¹ˆ hotbakï¼Œå…°å·å…»ç”Ÿç½‘ï¼Œè°·æ­Œä¹Ÿæ²¡æœ‰é‡‡å–ä»»ä½•è¡ŒåŠ¨æ‰“å‡»è¿™ç§è¾£é¸¡ç½‘ç«™ï¼Œæ‰€ä»¥ç°åœ¨è°·æ­Œçš„ä¸­æ–‡æœç´¢ä½“éªŒä¹Ÿä¸æ˜¯å¾ˆå¥½äº†ã€‚\nä½¿ç”¨é•¿å¥å­æœç´¢è¿˜æ˜¯å…³é”®è¯æœç´¢ï¼Ÿ # æœ‰çš„äººç”¨ä¸­æ–‡æœç´¢é—®é¢˜ï¼Œå–œæ¬¢ç”¨è‡ªç„¶è¯­è¨€æè¿°è‡ªå·±çš„é—®é¢˜ï¼Œå…¨éƒ¨è¾“å…¥åˆ°æœç´¢æ¡†ï¼Œä»¥â€œç¦æ­¢ vscode æŒ‰ä¸‹ç‚¹è‡ªåŠ¨è¡¥å…¨â€ä¸ºä¾‹ï¼Œæœ‰çš„äººå¯èƒ½ä¼šç›´æ¥è¾“å…¥ä¸‹é¢çš„æŸ¥è¯¢è¯­å¥\næ€ä¹ˆç¦æ­¢åœ¨ vscode é‡Œé¢æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ç‚¹è‡ªåŠ¨è¡¥å…¨ï¼Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œè¾“å…¥ä¸€å¥è¯ç›¸å¯¹äºè¾“å…¥å…³é”®è¯æŸ¥æ‰¾ï¼Œå¾—åˆ°çš„ç›¸å…³ç»“æœä¼šæ›´å°‘ï¼Œå› ä¸ºä¸€å¥è¯ä¸€èˆ¬ä¼šåŒ…å«ä¸€äº›æ²¡æœ‰ä¿¡æ¯å«é‡çš„è¯è¯­ã€‚è™½ç„¶è°·æ­Œå¦‚ä½•ä½¿ç”¨è¿™å¥è¯ä¸­çš„è¯è¯­å¾ˆéš¾æœ‰ä¸€ä¸ªç¡®å®šçš„ç­”æ¡ˆï¼Œä½†æ˜¯æœç´¢å¼•æ“åœ¨åŒ¹é…çš„æ—¶å€™è‚¯å®šä¼šè€ƒè™‘è¿™äº›æ— ç”¨çš„è¯è¯­ï¼Œè¿™æ ·å…¶å®æš—ä¸­é™ä½äº†æ‰¾åˆ°æœ‰ç”¨ä¿¡æ¯çš„æ¦‚ç‡ã€‚æœ€å¥½ä½¿ç”¨æ¯”è¾ƒç®€çŸ­çš„å…³é”®è¯ï¼Œæˆ–è€…å…³é”®è¯å†åŠ ç®€çŸ­çš„ä¸å®Œæ•´è¯­å¥ï¼Œä¾‹å¦‚ï¼Œè¦ç»™ä¸€ä¸ª Python list çš„æ¯ä¸ªå…ƒç´ åŠ ä¸Š index è½¬ä¸º tupleï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æŸ¥è¯¢\npython turn list item to indexed tuple æ²¡å¿…è¦ä½¿ç”¨å®Œæ•´ä½†å†—é•¿è¯­å¥æŸ¥è¯¢\nhow do I turn a list item to an indexed tuple in Python? å¦å¤–ï¼Œä¿è¯è‡ªå·±çš„å…³é”®è¯æ¯”è¾ƒé€šç”¨(ä¹Ÿå°±æ˜¯é‡åˆ°é—®é¢˜å¤§å®¶éƒ½ä¼šç”¨çš„ä¸€äº›è¯è¯­)ï¼Œä¾‹å¦‚å³é”®èœå•ç›¸å…³çš„é—®é¢˜ï¼Œcontext menu å°±æ˜¯ä¸€ä¸ªå¿…è¦çš„è¯è¯­ã€‚å¦‚æœæƒ³è¦ç²¾ç¡®åŒ¹é…ï¼Œå°±ç”¨æ¯”è¾ƒå¤šçš„å…³é”®è¯ç¼©å°å€™é€‰èŒƒå›´ï¼Œåä¹‹å°±å¯ä»¥ç”¨è¾ƒå°‘çš„å…³é”®è¯ã€‚\nè¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå°±æ˜¯æœç´¢é”™è¯¯ï¼Œä¾‹å¦‚è¿è¡Œ python ä»£ç ï¼Œå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼Œç¨‹åºæ‰“å°äº†è®¸å¤š stacktraceã€‚è¿™æ—¶å€™å¯ä»¥ç›´æ¥æŠŠå¼‚å¸¸å¤åˆ¶è¿‡æ¥æœç´¢ç›¸å…³é—®é¢˜ï¼Œæ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯ä¹Ÿä¸èƒ½å¤åˆ¶è¿‡å¤šæ— ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ˜¯è‡ªå·±çš„å†™çš„ä»£ç æ¨¡å—æŠ¥é”™ï¼Œæ–‡ä»¶åï¼Œç¬¬å‡ è¡Œç­‰ä¿¡æ¯ï¼Œå°±ä¸ç”¨å¤åˆ¶ï¼Œè¿™äº›ä¿¡æ¯ä¸æ˜¯é€šç”¨çš„ï¼Œå¦‚æœåŠ å…¥æœç´¢æŸ¥è¯¢ä¸­ï¼Œåè€Œä¼šå¯¼è‡´åŒ¹é…çš„ç½‘é¡µå‡å°‘ï¼Œé™ä½æ‰¾åˆ°ç­”æ¡ˆçš„å¯èƒ½æ€§ã€‚\nå¦‚ä½•ç¡®å®šæœç´¢å…³é”®è¯ï¼Ÿ # ä¸ç»å¸¸ä½¿ç”¨è‹±è¯­çš„äººï¼Œåœ¨æœç´¢çš„æ—¶å€™é‡åˆ°çš„å¾ˆå¤§çš„ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå°±æ˜¯é¢å¯¹ä¸€ä¸ªæƒ³è¦è§£å†³çš„é—®é¢˜ï¼Œä¸çŸ¥é“ç”¨ä»€ä¹ˆè‹±è¯­å…³é”®è¯æ¥æœç´¢ï¼Œæ€ç»´è¿˜æ˜¯ä¸­å¼çš„ã€‚å¥½çš„å…³é”®è¯å¾ˆé‡è¦ï¼Œå¦‚æœå…³é”®è¯ä¸å¯¹ï¼Œå°±å¯èƒ½é”™è¿‡è¦æ‰¾çš„ä¸œè¥¿ã€‚\næˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„æ–¹å¼ï¼Œæ˜¯å…ˆæƒ³æ¸…æ¥šæˆ‘ä»¬åˆ°åº•æƒ³è¦é—®ä»€ä¹ˆé—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæŠ€æœ¯é—®é¢˜ï¼Œé—®é¢˜å‘ç”Ÿçš„åœ°æ–¹ï¼Œç°è±¡æ˜¯ä»€ä¹ˆï¼Œä¾‹å¦‚æˆ‘ä¹‹å‰é‡åˆ°çš„é¼ æ ‡å³é”®èœå•å¡é¡¿çš„é—®é¢˜ï¼Œå³é”®èœå•ï¼Œå‘ç”Ÿçš„åœ°æ–¹æ˜¯æ–‡ä»¶ç®¡ç†å™¨ï¼Œç³»ç»Ÿæ˜¯ windowsï¼Œç°è±¡æ˜¯å¡é¡¿ï¼Œæœ‰äº†è¿™äº›å…³é”®ä¿¡æ¯ï¼Œå¾ˆå®¹æ˜“æå‡ºæœç´¢è¯ï¼š windowsï¼Œfile explorerï¼Œcontext menuï¼Œhangsã€‚æ ¹æ®è¿™äº›æ£€ç´¢è¯ï¼Œä»è¿”å›çš„ç»“æœä¸­å°±èƒ½å¤Ÿæ‰¾åˆ°æ»¡æ„çš„ç­”æ¡ˆï¼Œå¦‚æœå°‘äº†å…³é”®è¯ï¼Œç»“æœå·®åˆ«å¾ˆå¤§ã€‚\nå¦å¤–ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªæ£€ç´¢è¯å¯èƒ½æœ‰è¿‘ä¹‰è¯ï¼Œå¦‚æœè¿™ä¸ªæ£€ç´¢è¯æœå‡ºæ¥çš„ç»“æœä¸ç†æƒ³ï¼Œå¯ä»¥æ¢ä¸€ä¸ªè¿‘ä¹‰è¯è¯•è¯•ã€‚ä¾‹å¦‚æƒ³è¦è¡¨è¾¾ã€Œæ— å“åº”ã€ï¼Œä½ å¯ä»¥è¯´ hangsï¼Œä¹Ÿå¯ä»¥è¯´ freezesã€‚å†æ¯”å¦‚ï¼Œä½ æƒ³è¦ç¦æ­¢æŸä¸ªä¸œè¥¿ï¼Œå¯ä»¥è¯´ prevent something from doing somethingï¼Œä¹Ÿå¯ä»¥è¯´ disable somethingã€‚æ¢ä¸€ä¸ªæ£€ç´¢è¯æˆ–è€…è¯´æ³•å¯èƒ½å°±æŸ³æš—èŠ±æ˜äº†ï¼\nç§¯ç´¯ä¸“ä¸šç›¸å…³è‹±è¯­è¯æ±‡ # ä½¿ç”¨è‹±è¯­æœç´¢ï¼Œä¸€ä¸ªéœ€è¦é•¿æœŸåŸ¹å…»çš„èƒ½åŠ›æ˜¯ç†Ÿç»ƒæŒæ¡ä¸­æ–‡å’Œè‹±æ–‡çš„å¯¹åº”å…³ç³»ï¼Œä¾‹å¦‚ï¼Œæ–‡ä»¶æµè§ˆå™¨æ— å“åº”ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œ\u0026ldquo;æ–‡ä»¶æµè§ˆå™¨\u0026quot;ç”¨è‹±è¯­æ€ä¹ˆè¯´ï¼Œ\u0026ldquo;æ— å“åº”\u0026quot;æ€ä¹ˆè¡¨è¾¾ï¼Œæ— å“åº”å¯ä»¥è¯´ â€œhangsâ€ æˆ– \u0026ldquo;freezes\u0026rdquo;ï¼Œå³é”®èœå•ï¼Œæˆ‘ä»¬è¦çŸ¥é“å®ƒçš„è‹±æ–‡æ˜¯ â€œcontext menuâ€ï¼›å†æ¯”å¦‚æˆ‘ä»¬æƒ³é…ç½® Vim çš„è‡ªåŠ¨è¡¥å…¨ (Auto completion)åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—çŸ¥é“\u0026quot;è‡ªåŠ¨è¡¥å…¨\u0026quot;ç”¨è‹±è¯­æ€ä¹ˆæ¥è¯´ã€‚è¿™äº›è¯è¯­æœ‰çš„æ˜¯æ²¡åŠæ³•ä»å­—é¢ç¿»è¯‘çš„ï¼Œæˆ–è€…ä»å­—é¢ç¿»è¯‘æ¯”è¾ƒè¹©è„šï¼Œæˆ‘ä»¬å¿…é¡»çŸ¥é“å›ºå®šçš„è¯´æ³•ï¼Œä¸èƒ½ç”¨ chinglish æˆ–è€…æœºç¿»ï¼Œå¦åˆ™æœç´¢å‡ºæ¥çš„ç»“æœä¹Ÿä¸å¥½ã€‚å¹³æ—¶æ³¨æ„ç§¯ç´¯æœ¬é¢†åŸŸå¸¸ç”¨çš„ä¸­æ–‡è¯æ±‡å¯¹åº”çš„è‹±è¯­è¯æ±‡ï¼Œæœç´¢çš„æ—¶å€™å°±ä¸ä¼šå†™ä¸å‡ºæ£€ç´¢è¯ã€‚\né€’è¿›å¼æ£€ç´¢\u0026ndash;ä»æœç´¢ç»“æœä¸­å¯»æ‰¾è››ä¸é©¬è¿¹ # æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå¯¹è¿™ä¸ªé¢†åŸŸæ¯”è¾ƒé™Œç”Ÿï¼Œæˆ‘ä»¬ç”šè‡³ä¸çŸ¥é“ç”¨ä»€ä¹ˆå…³é”®è¯æ¥æœç´¢ï¼Œä¸çŸ¥é“å…³é”®è¯ï¼Œå°±æœä¸åˆ°æœ‰ç”¨çš„å†…å®¹ï¼Œæœä¸åˆ°æœ‰ç”¨çš„å†…å®¹ï¼Œå°±å­¦ä¸åˆ°ç›¸å…³çš„å…³é”®è¯ï¼Œé™·å…¥äº†ä¸€ç§æ­»å¾ªç¯ã€‚\nè¿™ä¸ªæ—¶å€™å¯ä»¥å…ˆå°½é‡å†™å‡ºè‡ªå·±è®¤ä¸ºæ­£ç¡®çš„æ£€ç´¢è¯ï¼Œæˆ–è€…å¯èƒ½æ‰¾åˆ°ç›¸å…³ç­”æ¡ˆçš„æ£€ç´¢è¯ï¼Œé‡‡ç”¨æ—æ•²ä¾§å‡»çš„æ–¹å¼æ¥è§£å†³ï¼Œå¤§é‡ç¿»é˜…è¿”å›çš„ç»“æœï¼Œè¿™äº›è¿”å›çš„ç½‘é¡µä¸­ï¼Œå¯èƒ½å°±åŒ…å«æˆ‘ä»¬éœ€è¦çš„æ¦‚å¿µå¯¹åº”çš„ä¸“ä¸šè¯æ±‡ã€‚å¯¹äºå¤æ‚çš„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦æ ¹æ®æœç´¢è¿”å›çš„ç»“æœä»¥åŠè‡ªå·±çš„ç†è§£ï¼Œä¸€æ­¥æ­¥ä¼˜åŒ–è‡ªå·±çš„æ£€ç´¢è¯ï¼Œç»è¿‡å¤šä¸ªæ¥å›ï¼Œæ‰èƒ½æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ç­”æ¡ˆã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬çœ‹åˆ°åˆ«äººåœ¨è§†é¢‘ä¸­ä½¿ç”¨ Vim çš„å‘½ä»¤è¡Œæ¨¡å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Tab æ¥è¡¥å…¨å‘½ä»¤çš„å‚æ•°æˆ–è€…è¡¥å…¨å‘½ä»¤ï¼Œè¿™ä¸ªéœ€è¦è¿›è¡Œè®¾ç½®æ‰èƒ½ç”Ÿæ•ˆæˆ–è€…è¾¾åˆ°è‡ªå·±éœ€è¦çš„æ•ˆæœï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“åº”è¯¥è®¾ç½®å“ªä¸ªé€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨åˆæ­¥çš„æ£€ç´¢è¯\nvim Tab Completion Command line ç„¶åä»è¿”å›ç»“æœæ‰¾åˆ°è¿™ä¸ªé¡µé¢ï¼Œè¿›è€ŒçŸ¥é“æœ‰ä¸¤ä¸ªé€‰é¡¹æ§åˆ¶ vim åœ¨å‘½ä»¤è¡Œçš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œåˆ†åˆ«æ˜¯ wildmenu å’Œ wildmodeï¼ŒçŸ¥é“è¿™ä¸ªä»¥åï¼Œå°±å¯ä»¥æ¯”è¾ƒè½»æ¾çš„æ‰¾åˆ°ç›¸å…³çš„è®¾ç½®äº†ã€‚\n","date":"9 May 2020","externalUrl":null,"permalink":"/2020/05/09/search_for_solution_with_web_engine/","section":"Posts","summary":"\u003cp\u003eä¹‹å‰æ„Ÿå¹è¿‡\u003ca href=\"https://jdhao.github.io/2020/01/22/why_use_english_and_google/\" target=\"_blank\"\u003eä½¿ç”¨ä¸­æ–‡æœç´¢ç»å¸¸æ‰¾ä¸åˆ°æƒ³è¦çš„ç»“æœ\u003c/a\u003eï¼Œè¿™ç¯‡æ–‡ç« æ€»ç»“æˆ‘å¯¹äºå¦‚ä½•æœ‰æ•ˆæœç´¢çš„ä¸€äº›æƒ³æ³•ã€‚\u003c/p\u003e","title":"å¦‚ä½•é«˜æ•ˆä½¿ç”¨æœç´¢å¼•æ“è§£å†³æŠ€æœ¯é—®é¢˜","type":"posts"},{"content":"My Git learning notes.\nHow to change most recent commit message # After we have added a local commit, we may find that we need to do some updates before pushing to remote repo. We can use git commit --amend to change last commit.\nWith --amend option, we can change not just commit message. Files in local repo can also be updated. After using this option, last local commit will be replaced with the new commit.\nReferences # https://stackoverflow.com/q/179123/6064933 https://help.github.com/en/github/committing-changes-to-your-project/changing-a-commit-message How to show changes for a specific file # Sometimes, we want to show the changes for a particular file across commits. This can be achieved by git log command:\ngit log -p \u0026lt;file_path\u0026gt; The -p option will show detailed diff info for the file.\nA more complete and useful version is:\ngit log --stat -p --follow \u0026lt;file_path\u0026gt; Meaning of options used:\n--stat: show info about file changed, deletions and insertions. --follow: show file change info before it was renamed (by default, file history before renaming is not shown). To show only the latest five changes, we can use the -n option:\ngit log --stat -p --follow -n 5 \u0026lt;file_path\u0026gt; A similar command is git whatchanged:\ngit whatchanged -p \u0026lt;file_path\u0026gt; The git-whatchanged command is similar to git log and is kept for backward compatibility. New users are encouraged to use git log instead.\nReferences # Difference between git-log and git-whatchanged. git-whatchanged doc. https://stackoverflow.com/a/12359963/6064933 See changes to a specific file. https://kgrz.io/use-git-log-follow-for-file-history.html Git log doc. How to set up editor for git commit # I am used to writing my commit message on the command line with -m option (git commit -m \u0026quot;xxx\u0026quot;). This works well for short commit message. When we want to write the detailed explanation for a change in commit message, it is better to do it in a text editor, e.g., in Vim or Neovim.\nThere are basically two way to set up the editor.\nSet up the EDITOR and VISUAL env variable: export EDITOR=\u0026#34;nvim\u0026#34; export VISUAL=\u0026#34;$EDITOR\u0026#34; Set up the editor git uses via git config: git config --global core.editor \u0026#34;nvim\u0026#34; After that, when you want to commit, just type git commit in the command line.\nNeovim will be opened with a file named COMMIT_EDITMSG, you can edit this file. Anything not starting with # will be treated as your commit message. After you have done writing the commit message, exit the insert mode, save the file and quilt. This commit will be done.\nReferences # https://stackoverflow.com/q/2596805/6064933 https://stackoverflow.com/q/13239368/6064933 ","date":"7 May 2020","externalUrl":null,"permalink":"/2020/05/07/git_learning_notes_s2/","section":"Posts","summary":"\u003cp\u003eMy Git learning notes.\u003c/p\u003e","title":"Git Learning Notes (2)","type":"posts"},{"content":" Changelog 2021-08-21: Update the part on how to open URLs since some options are removed. Kitty is a fast and lightweight terminal emulator for Mac and Linux. In this post, I will summarize some of its settings.\nWe can download the kitty binary release from its GitHub release page. After installation, its config file is located at $HOME/.config/kitty/kitty.conf.\nHow to copy and paste in Kitty terminal? # By default, to copy selected text to clipboard in Kitty, use the shortcut Ctrl+ Shift + C. To paste selected text, we can use mouse middle click.\nWe can also edit the Kitty config and add more shortcut for copy-pasting:\nmap cmd+c copy_to_clipboard map cmd+v paste_from_clipboard map shift+insert paste_from_clipboard Most terminal emulators have this nice feature to copy the selected text to clipboard automatically. In Kitty, we can also do this by enabling the following option:\ncopy_on_select yes How to open URLs? # Iterm2 has a feature to open a URL in default browser if you press Ctrl and click the URL link. In kitty, you can press Ctrl + Shift and then click the left mouse to open a URL.\nIf you are using the lastest version of Kitty (tested on kitty 0.23), you can also add the following kitty config:\nmouse_map ctrl+left press ungrabbed,grabbed mouse_click_url Tab configuration # By default, Kitty will show tab when tab number is above 1. The tab will be shown at the bottom of Kitty window. To change this behaviour, use the following setting:\ntab_bar_edge top Use option as alt key # By default, Option + LETTER will input the corresponding Unicode characters on macOS. So any shortcut starting with Option can not work properly. To use Option as Alt, use the following config:\nmacos_option_as_alt yes More documentation here.\nHow to change color schemes? # Kitty uses a list of colors for setting the color scheme. Unlike iterm2, we need to manually change the color config inside kitty.conf.\nWe can find a lot of color schemes or themes for Kitty on GitHub. To use these color themes, just copy the color definition to your Kitty config.\nThis repo also has a lot of Kitty themes for you to choose.\nReferences # Offical on kitty conf: https://sw.kovidgoyal.net/kitty/overview/#configuring-kitty Copy text on select. Copy and paste in Kitty. Use option as meta key. ","date":"5 May 2020","externalUrl":null,"permalink":"/2020/05/05/kitty_config_mac/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eChangelog\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-08-21: Update the part on how to open URLs since some options are removed.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/kovidgoyal/kitty\" target=\"_blank\"\u003eKitty\u003c/a\u003e is a fast and lightweight terminal\nemulator for Mac and Linux. In this post, I will summarize some of its\nsettings.\u003c/p\u003e","title":"Kitty Terminal Config on Mac","type":"posts"},{"content":"æœ¬æ–‡æ€»ç»“ä¸€äº› Docker ä½¿ç”¨ä»¥åŠ Docker é•œåƒæ„å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚\nUnable to find xxx locally # ä½¿ç”¨ docker run -it centos:7 å‘½ä»¤ï¼Œé‡åˆ°æç¤ºï¼š\nUnable to find image \u0026lsquo;centos:7\u0026rsquo; locally\nå¯ä»¥ç­‰å¾…ä¸€ä¼šï¼Œæ”¶åˆ°æç¤ºï¼š\n7: Pulling from library/centos Digest: sha256:307835c385f656ec2e2fec602cf093224173c51119bbebd602c53c3653a3d6eb Status: Downloaded newer image for centos:7 å½“ä½¿ç”¨ docker run è¿è¡Œé•œåƒçš„æ—¶å€™ï¼Œå¦‚æœé•œåƒä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ docker ä¼šä» docker hub å¯»æ‰¾å¯¹åº”çš„é•œåƒï¼Œä¸‹è½½è¿è¡Œã€‚å‡ºç°è¿™ä¸ªé”™è¯¯æç¤ºå¯èƒ½æ˜¯å› ä¸ºç½‘ç»œåŸå› ï¼Œè€å¿ƒç­‰å¾…å°±å¯ä»¥äº†ï¼Œå‚è€ƒè¿™é‡Œ\nwget å‘½ä»¤æœªæ‰¾åˆ° # docker hub ä¸Šçš„ CentOS é•œåƒå’Œæ™®é€šçš„ CentOS å®‰è£…åŒ…æœ‰ä¸€å®šåŒºåˆ«ï¼Œæ‰§è¡Œçš„æ˜¯æœ€å°å®‰è£…ï¼Œæœ‰å¾ˆå¤šå¸¸ç”¨çš„å·¥å…·å¹¶æ²¡æœ‰å®‰è£…ï¼Œä¾‹å¦‚ wget, which ç­‰ï¼Œéœ€è¦è‡ªå·±å»å®‰è£…ã€‚\nNvidia cuda çš„ CentOS ç³»ç»Ÿé•œåƒæ˜¯åŸºäº Docker hub ä¸Š CentOS 7 çš„é•œåƒï¼Œæ‰€ä»¥è¿™äº›å·¥å…·ä¹Ÿæ²¡æœ‰å®‰è£…ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚\nå‚è€ƒ # https://stackoverflow.com/q/28885137/6064933 docker run -it é€‰é¡¹ä½œç”¨ # docker run å‘½ä»¤å¾ˆå¸¸ç”¨çš„ä¸¤ä¸ªé€‰é¡¹æ˜¯ -itï¼Œ-i ä½œç”¨æ˜¯æŠŠ host çš„ input å’Œå®¹å™¨çš„ input è¿æ¥èµ·æ¥ï¼Œ-t åˆ›é€ ä¸€ä¸ª pseudo terminalï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤è¿èµ·æ¥ä½¿ç”¨ï¼Œå°±å¥½åƒç›´æ¥åœ¨ container é‡Œé¢åˆ›å»ºäº† bash shellï¼Œå¯ä»¥æ¥æ”¶è¾“å…¥å’Œè¾“å‡ºï¼Œå°±åƒç”¨æˆ·ä½¿ç”¨ host æœºå™¨çš„ shell ä¸€æ ·ã€‚\nå‚è€ƒ # https://stackoverflow.com/q/30137135/6064933 https://stackoverflow.com/a/22287905/6064933 å¦‚ä½•ä»å®¹å™¨ä¸­æ‹·è´ä¸œè¥¿åˆ° host æœºå™¨ # å‚è€ƒ è¿™é‡Œï¼Œå¯ä»¥ä½¿ç”¨ docker cp å‘½ä»¤ï¼š\ndocker cp CONTAINER_ID:/path/inside/docker/container /path/in/host/machine Dockerfile é‡Œé¢çš„ RUN å‘½ä»¤é»˜è®¤è¿è¡Œç›®å½•åœ¨å“ªé‡Œï¼Ÿ # Dockerfile å¦‚æœæ²¡æœ‰æŒ‡å®š WORKDIRï¼Œé‚£ä¹ˆé»˜è®¤æ‰§è¡Œå‘½ä»¤çš„ç›®å½•æ˜¯åœ¨ /ï¼Œå¹¶ä¸æ˜¯ /root, å¦‚æœåŸºç¡€é•œåƒæŒ‡å®šäº† work dirï¼Œé‚£ä¹ˆ workdir å°±æ˜¯åŸºç¡€é•œåƒæŒ‡å®šçš„ç›®å½•ã€‚å› æ­¤åœ¨ä½¿ç”¨ Dockerfile æ„å»ºè‡ªå·±çš„é•œåƒæ—¶ï¼Œæœ€å¥½ä½¿ç”¨ WORKDIR å‘½ä»¤æŒ‡å®šè‡ªå·±çš„å·¥ä½œç›®å½•ï¼Œé¿å…å—åˆ°åŸºç¡€é•œåƒçš„å½±å“ã€‚\nå‚è€ƒ # What\u0026rsquo;s the default WORKDIR in docker? https://stackoverflow.com/q/35286990/6064933 Dockerfile å¦‚ä½•è®¾ç½®å˜é‡ä»¥ä¾¿åç»­ä½¿ç”¨ # ä½¿ç”¨ Dockerfile æ„å»ºé•œåƒæ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›å˜é‡ï¼Œä»¥ä¾¿åç»­å¼•ç”¨ï¼ŒèŠ‚çœæ—¶é—´ã€‚å¯ä»¥åˆ©ç”¨ ARG å‘½ä»¤è®¾ç½®å˜é‡ï¼ŒæŒ‡çš„æ³¨æ„çš„æ˜¯ï¼ŒARG å‘½ä»¤è®¾ç½®å˜é‡ï¼Œåªåœ¨ build çš„æ—¶å€™æœ‰æ•ˆï¼ŒENV è®¾ç½®çš„å˜é‡ï¼Œé•œåƒ build å®Œæˆï¼Œè¿›å…¥é•œåƒä»¥åï¼Œä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚\nå‚è€ƒ # How to define a variable inside Dockerfile. Difference between ARG and ENV. COPY failed: Forbidden path outside the build context # å½“æˆ‘è¯•å›¾ä»å½“å‰ Dockerfile æ‰€åœ¨ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•æ‹·è´æŸä¸ªæ–‡ä»¶åˆ°é•œåƒçš„æŸä¸ªç›®å½•ï¼š\nCOPY ../some_file /path/inside/container ç„¶åé‡åˆ°äº†ä¸Šè¿°é”™è¯¯ï¼ŒåŸå› æ˜¯ docker åªå…è®¸ä»å½“å‰ Dockerfile çš„build contextä¸‹æŸä¸ªç›®å½• copy æ–‡ä»¶ã€‚\nå‚è€ƒ # The purpose of build contex https://medium.com/lucjuggery/docker-tips-about-the-build-context-dbc76505e178 Dockerfile ARG å’Œ ENV æŒ‡ä»¤æ— æ³•æ‰©å±•æŸäº›å˜é‡æˆ–è€…ç¬¦å· # Dockerfile çš„ ARG å’Œ ENV æŒ‡ä»¤ï¼Œæ— æ³• expand $HOME, ~ï¼Œå¦‚æœè¦ä½¿ç”¨è·¯å¾„ï¼Œæœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚\nä¾‹å¦‚ï¼Œctags è¢«å®‰è£…åœ¨ /root/tools/ctagsï¼Œå¦‚æœç”¨ ENV å®šä¹‰ PATH ç¯å¢ƒå˜é‡ï¼š\nENV PATH=$HOME/tools/ctags/bin:$PATH ç„¶ååœ¨ Dockerfile ä¸­è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ï¼š\nRUN which ctags ä¼šæç¤ºé”™è¯¯ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ PATH æ‰“å°å‡ºæ¥ RUN echo $PATH, ä¼šå‘ç° ctags æœ‰å…³çš„ä¸€é¡¹ç›®å½•æ˜¯é”™çš„ï¼Œæ˜¾ç¤ºçš„æ˜¯ /tools/ctags/binï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ ENV æŒ‡ä»¤å®šä¹‰ PATH çš„æ—¶å€™ï¼Œ$HOME æ˜¯ç©ºçš„ï¼Œå¹¶ä¸ä¼šè¢« expand ä¸º /rootã€‚åŒæ ·å¦‚æœä½¿ç”¨ ~ï¼š\nENV PATH=~/tools/ctags/bin:$PATH ä¹Ÿä¸ä¼šè¢«æ­£ç¡® expand ä¸º /root, å¦‚æœè¦è¿è¡Œ ctags ç›¸å…³çš„æŒ‡ä»¤ä¹Ÿæ˜¯ä¸æˆåŠŸçš„ã€‚å¦‚æœè¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥è®¾ç½®ä¸ºç»å¯¹è·¯å¾„ï¼›å¦‚æœè§‰å¾—å•°å—¦ï¼Œå¯ä»¥åˆ©ç”¨ ARG è‡ªå®šä¹‰ä¸€ä¸ª HOME å˜é‡ï¼š\nARG HOME=/root ç„¶ååœ¨è®¾ç½® ENV å˜é‡çš„æ—¶å€™å¼•ç”¨ HOME å˜é‡å°±ä¸ä¼šå‡ºé”™ã€‚\nå¦‚ä½•ä»æŸä¸€ä¸ªå‘½ä»¤ä¹‹åå¼€å§‹å¼ºåˆ¶é‡æ–° buildï¼Ÿ # Dockerfile å¦‚æœä»å¼€å§‹åˆ°æŸä¸€æ­¥åœ¨ build çš„æ—¶å€™æ²¡æœ‰å‡ºé”™ï¼Œå¹¶ä¸”æ²¡æœ‰å¢åŠ æˆ–è€…åˆ é™¤ build çš„æ­¥éª¤ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡ build é•œåƒçš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨ä¸Šä¸€æ­¥ build çš„ç¼“å­˜ï¼Œä¸ä¼šé‡æ–° buildï¼Œè¿™æ ·å¯ä»¥åŠ å¿«é•œåƒæ„å»ºçš„é€Ÿåº¦ã€‚å¦‚æœæƒ³ä»æŸä¸€æ­¥å¼€å§‹é‡æ–°å¼€å§‹ buildï¼Œå¯ä»¥åœ¨è¿™ä¸€æ­¥ä¹‹å‰åŠ å…¥ä¸€ä¸ªæ²¡ç”¨çš„ä¸è€—æ—¶çš„å‘½ä»¤ï¼Œä¾‹å¦‚\nRUN echo \u0026#34;hello world\u0026#34; é‡æ–°æ„å»ºçš„æ—¶å€™ï¼Œæ–°åŠ å…¥çš„å‘½ä»¤åŠä»¥åçš„æ‰€æœ‰æ­¥éª¤å°±ä¼šé‡æ–° buildã€‚\nå‚è€ƒ # Disable cache for specific RUN command. source å‘½ä»¤æœªæ‰¾åˆ° # å½“æˆ‘è¯•ç€ç”¨ RUN æŒ‡ä»¤è¿è¡Œ source å‘½ä»¤:\nRUN source /root/.bash_profile é‡åˆ°äº†é”™è¯¯æç¤ºï¼š\nsource: command not found\nåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼ŒåŸæ¥æ˜¯ docker é»˜è®¤ç”¨æ¥æ‰§è¡Œå‘½ä»¤çš„ shell æ˜¯ /bin/shï¼Œå¹¶ä¸æ˜¯ bashï¼Œåœ¨ sh ä¸‹ï¼Œsource å‘½ä»¤å¹¶ä¸å­˜åœ¨ï¼Œå¦‚æœæƒ³è¦æ‰§è¡Œ source å‘½ä»¤ã€‚æœ‰ä¸¤ä¸ªåŠæ³•ï¼Œä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨ SHELL æŒ‡ä»¤ï¼ŒæŠŠä½¿ç”¨çš„ shell æ›´æ”¹ä¸º bashï¼š\nSHELL [\u0026#34;/bin/bash\u0026#34;, \u0026#34;-c\u0026#34;] å¦å¤–ä¸€ç§åŠæ³•æ˜¯ä½¿ç”¨ exec å½¢å¼çš„ RUN æŒ‡ä»¤ï¼Œä»…ä»…åœ¨è¿™ä¸ªæŒ‡ä»¤ä¸­ä½¿ç”¨ bash shell è€Œä¸æ˜¯ shï¼š\nRUN [\u0026#34;/bin/bash\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;source /root/.bash_profile\u0026#34;] å‚è€ƒ # https://stackoverflow.com/a/39777387/6064933 ç™»é™† container ä»¥å bash ä¸æ˜¯ login shell # è¿è¡Œå®¹å™¨ä»¥åï¼Œå‘ç° /root/.bash_profile æ²¡æœ‰ç”Ÿæ•ˆï¼Œç»è¿‡æ’æŸ¥ï¼Œå‘ç°åŸå› æ˜¯ bash ä¸æ˜¯ login shellï¼Œå¯ä»¥è®¾ç½® CMD æŒ‡ä»¤ï¼ŒæŠŠ bash å˜ä¸º login shellï¼š\nCMD [\u0026#34;/bin/bash\u0026#34;, \u0026#34;-l\u0026#34;] ä¸è¦ä½¿ç”¨ docker commit æ–¹å¼åˆ›å»ºé•œåƒ # å¯åŠ¨ docker é•œåƒä»¥åï¼Œå¦‚æœåœ¨é‡Œé¢åˆè¿›è¡Œäº†ä¿®æ”¹ï¼ˆä¾‹å¦‚å®‰è£…äº†é¢å¤–çš„å·¥å…·æˆ–è€…è¿›è¡Œäº†å…¶ä»–çš„é…ç½®ï¼‰, é‚£ä¹ˆä½¿ç”¨ docker commit ä¼šä¿å­˜è¿™äº›æ›´æ”¹ï¼Œç”Ÿæˆæ–°çš„é•œåƒã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ç”Ÿæˆçš„é•œåƒï¼Œé™¤äº† ä½œè€…ï¼Œå…¶ä»–ç”¨æˆ·å¾ˆéš¾æ¸…æ¥šåˆ°åº•è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œï¼Œå®‰è£…äº†å“ªäº›ä¸œè¥¿ï¼Œä¸åˆ©äºåç»­çš„ç»´æŠ¤ï¼Œå› æ­¤æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ Dockerfile ç®¡ç†é•œåƒï¼ŒæŠŠè¦å®‰è£…çš„è½¯ä»¶éƒ½æ”¾åˆ° Dockerfile é‡Œé¢é…ç½®ã€‚è¿™æ ·çš„è¯ï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿå¯ä»¥è½»æ¾ä½¿ç”¨ä½ çš„ Dockerfile æ„å»ºå‡ºåŒæ ·çš„ Docker é•œåƒã€‚\nå‚è€ƒ # https://yeasy.gitbooks.io/docker_practice/image/commit.html https://stackoverflow.com/a/51763737/6064933 ","date":"2 May 2020","externalUrl":null,"permalink":"/2020/05/02/docker_knowledge_s2/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡æ€»ç»“ä¸€äº› Docker ä½¿ç”¨ä»¥åŠ Docker é•œåƒæ„å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚\u003c/p\u003e","title":"Docker å­¦ä¹ ç³»åˆ— --- 2","type":"posts"},{"content":"Docker æ˜¯ä¸€ç§ç±»ä¼¼è™šæ‹Ÿæœºçš„æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨ host æœºå™¨åˆ›å»ºä¸€ä¸ªéš”ç»çš„å°å‹æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œå¹¶ä¸”å¯ä»¥ä¿å­˜ä¸‹è¿™ä¸ªç¯å¢ƒï¼ˆç§°ä¸º Docker é•œåƒï¼‰ï¼ŒæŠŠè¿™ä¸ª Docker é•œåƒéƒ¨ç½²åˆ°å…¶ä»– host æœºå™¨ï¼Œå„ä¸ªæœºå™¨ä¸Šçš„ç¯å¢ƒå®Œå…¨ä¸€è‡´ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦æ¯æ¬¡åœ¨éƒ¨ç½²æ–°ç¯å¢ƒçš„æ—¶å€™ï¼Œé‡å¤æ‰§è¡Œå®‰è£…ç¨‹åºã€é…ç½®ç¯å¢ƒçš„æµç¨‹ï¼Œå¤§å¤§ç®€åŒ–äº†æˆ‘ä»¬çš„å·¥ä½œï¼Œæå‡äº†å·¥ä½œæ•ˆç‡ã€‚\nDocker é•œåƒçš„ä½¿ç”¨ # Docker é•œåƒå°±åƒä¸€ä¸ªå°çš„æ“ä½œç³»ç»Ÿï¼Œä»å“ªé‡Œè·å–æˆ‘ä»¬éœ€è¦çš„ Docker é•œåƒå‘¢ï¼Ÿ Docker hub æ˜¯ Docker å®˜æ–¹æä¾›çš„é•œåƒæ‰˜ç®¡ä»“åº“ï¼Œé‡Œé¢åŒ…å«äº†å¾ˆå¤šç”¨æˆ·ä¸Šä¼ çš„é•œåƒã€‚docker hub ä¸Šçš„é•œåƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ docker run å‘½ä»¤æ¥è¿è¡Œé•œåƒï¼Œä¸éœ€è¦ docker pull,ç„¶åå† docker runã€‚å¦‚æœè¿è¡Œä¸€ä¸ªé•œåƒä¸åœ¨æœ¬åœ°ï¼Œdocker ä¼šå°è¯•ä» docker hub ä¸‹è½½è¿™ä¸ªé•œåƒï¼Œç„¶åå†è¿è¡Œã€‚\né•œåƒ ä¸ å®¹å™¨ ä¸¤ä¸ªæ¦‚å¿µæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ # å¯ä»¥ç®€å•è®¤ä¸ºï¼Œé•œåƒæ˜¯æ­»çš„ï¼Œæ˜¯å†»ç»“çš„å®¹å™¨ï¼Œé•œåƒå®ä¾‹åŒ–è¿è¡Œä»¥åï¼Œå°±æ˜¯å®¹å™¨ï¼Œæ‰€ä»¥ä»ä¸€ä¸ªé•œåƒå¯ä»¥è¿è¡Œå¤šä¸ªå®¹å™¨ï¼Œè¿™äº›å®¹å™¨åˆå§‹çŠ¶æ€éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚é•œåƒå’Œå®¹å™¨çš„å…³ç³»ï¼Œç±»ä¼¼äºç¼–ç¨‹ä¸­ â€ç±»â€œ å’Œ â€å¯¹è±¡â€œ çš„å…³ç³»ã€‚\nå‚è€ƒ # https://stackoverflow.com/q/21498832/6064933 https://stackoverflow.com/q/23735149/6064933 å¦‚ä½•é€€å‡ºå½“å‰è¿è¡Œçš„ docker å®¹å™¨ # å¦‚æœä»¥ -t æ–¹å¼è¿è¡Œå®¹å™¨ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ ctrl-p ç„¶å ctrl-q æŒ‚èµ·å®¹å™¨ï¼Œåç»­å¯ä»¥å†ä½¿ç”¨ attach å‘½ä»¤è¿›å…¥å®¹å™¨ï¼Œå‚è€ƒè¿™é‡Œã€‚\né‡æ–°è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Ÿ # å½“å®¹å™¨ä»¥äº¤äº’å¼æ–¹å¼è¿è¡Œ (-i) æ—¶ï¼Œå¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹è¿æ¥åˆ°è¿™ä¸ªå®¹å™¨ï¼ŒæŸ¥çœ‹å®¹å™¨çš„å†…å®¹ï¼Œè¿æ¥åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„å‘½ä»¤æ˜¯ï¼š\ndocker attach CONTAINER_ID æ­¤æ—¶åœ¨ä¸€ä¸ªåœ°æ–¹è¾“å…¥æŒ‡ä»¤ï¼Œå…¶ä»–åœ°æ–¹ä¹Ÿä¼šåŒæ—¶æ˜¾ç¤ºç›¸åŒçš„æŒ‡ä»¤å’Œè¾“å‡ºç»“æœã€‚\nåˆ—å‡ºç³»ç»Ÿä¸Šæ­£åœ¨è¿è¡Œçš„è¿è¡Œ # è¦åˆ—å‡ºç³»ç»Ÿä¸Šç›®å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š\ndocker ps åœæ­¢å®¹å™¨è¿è¡Œ # è¦åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ containerï¼Œä½¿ç”¨\ndocker stop CONTAINER_ID container è¿è¡Œé€€å‡ºä»¥åï¼Œä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œè¿˜åœ¨ç³»ç»Ÿä¸Šï¼Œéœ€è¦é‡å¯çš„æ—¶å€™å¯ä»¥ä½¿ç”¨(å‚è€ƒ è¿™é‡Œ)\ndocker start -ai CONTAINER_ID åˆ é™¤å®¹å™¨ # å¦‚æœéœ€è¦åˆ é™¤æŸä¸ª containerï¼Œå¯ä»¥ä½¿ç”¨(å‚è€ƒè¿™é‡Œ)\ndocker rm CONTAINER_ID Cuda Dockerfile èµ„æº # è‹±ä¼Ÿè¾¾å®˜æ–¹æä¾›äº†å¤§é‡çš„å«æœ‰ Cuda ç¯å¢ƒçš„ Dockerfile èµ„æºï¼Œåœ°å€å¦‚ä¸‹ï¼š\nhttps://gitlab.com/nvidia/container-images/cuda\nåŒ…å«äº†å„ä¸ªç³»ç»Ÿä»¥åŠå„ä¸ªç‰ˆæœ¬çš„ cudaã€‚å¦‚æœè¦æ„å»ºä½¿ç”¨è‹±ä¼Ÿè¾¾æ˜¾å¡çš„é•œåƒï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›é•œåƒä¸­çš„ä¸€ä¸ªä½œä¸ºåŸºç¡€é•œåƒã€‚\nDocker é•œåƒæ„å»ºé‡è¦å¿ƒå¾— # æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Dockerfile æ¥æ„å»º Docker é•œåƒï¼ŒDockerfile ç›¸å½“äºæ˜¯æ„å»ºé•œåƒçš„æ¨¡ç‰ˆã€‚æ„å»ºé•œåƒæœ€ä»¤äººçƒ¦èºçš„é—®é¢˜å°±æ˜¯åœ¨æ„å»ºè¿‡ç¨‹ä¸­çªç„¶å‡ºé”™ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ä¸€æ¬¡æ¬¡ä¿®æ”¹ Dockerfileï¼Œè§£å†³å„ç§é—®é¢˜ã€‚æ‰€ä»¥æ„å»º Docker é•œåƒçš„ä¸€ä¸ªé‡è¦å¿ƒå¾—å°±æ˜¯ï¼šå°½é‡é˜²æ­¢ build å‡ºé”™ã€‚\næˆ‘ä»¬æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šä»ä¸€ä¸ªåŸºç¡€é•œåƒå¼€å§‹æ„å»ºï¼Œç”±äºåŸºç¡€é•œåƒé€šå¸¸æ‰§è¡Œçš„æ˜¯æœ€å°å®‰è£…[^1]ï¼Œå¾ˆå¤šå¸¸ç”¨å·¥å…·å¹¶æ²¡æœ‰å®‰è£…ï¼Œæ‰€ä»¥é•œåƒ build è¿‡ç¨‹ä¸­ï¼Œç»å¸¸å› ä¸ºæ²¡æœ‰å®‰è£…ä¸€äº›åº“è€Œä¸­é€”å‡ºé”™ã€‚ä¸€ä¸ªå¥½çš„æ–¹æ³•æ˜¯å¼€ä¸¤ä¸ª terminal çª—å£ï¼Œä¸€ä¸ªçª—å£ï¼Œå¯ä»¥å…ˆ docker run è¿›å…¥åŸºç¡€é•œåƒçš„å®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨é‡Œé¢ä¸€æ­¥ä¸€æ­¥è¿è¡Œæƒ³è¦æ‰§è¡Œçš„æ“ä½œï¼Œå¦‚æœåœ¨åŸºç¡€é•œåƒé‡Œé¢è¿è¡Œæ²¡æœ‰é”™è¯¯ï¼Œåœ¨å¦å¤–ä¸€ä¸ª terminal çª—å£ï¼ŒæŠŠè¿™äº›æ“ä½œå†™åˆ° Dockerfileï¼›å¦‚æœåœ¨åŸºç¡€é•œåƒé‡Œé¢è¿è¡ŒæŸä¸ªå‘½ä»¤æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆè§£å†³è¿™ä¸ªé”™è¯¯ï¼ŒæŠŠéœ€è¦æ·»åŠ çš„åº“æˆ–è€…éœ€è¦æ‰§è¡Œçš„å‘½ä»¤è¡¥å……åˆ° Dockerfile é‡Œé¢ã€‚\næŒ‰ç…§ä¸Šé¢è¿™ä¸ªæ­¥éª¤æ¥å»ºç«‹ Dockerfileï¼Œå¯ä»¥æå¤§å‡å°‘å‡ºé”™çš„æœºä¼šã€‚\n","date":"2 May 2020","externalUrl":null,"permalink":"/2020/05/02/docker_knowledge_s1/","section":"Posts","summary":"\u003cp\u003eDocker æ˜¯ä¸€ç§ç±»ä¼¼è™šæ‹Ÿæœºçš„æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨ host æœºå™¨åˆ›å»ºä¸€ä¸ªéš”ç»çš„å°å‹æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œå¹¶ä¸”å¯ä»¥ä¿å­˜ä¸‹è¿™ä¸ªç¯å¢ƒï¼ˆç§°ä¸º Docker é•œåƒï¼‰ï¼ŒæŠŠè¿™ä¸ª Docker é•œåƒéƒ¨ç½²åˆ°å…¶ä»– host æœºå™¨ï¼Œå„ä¸ªæœºå™¨ä¸Šçš„ç¯å¢ƒå®Œå…¨ä¸€è‡´ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦æ¯æ¬¡åœ¨éƒ¨ç½²æ–°ç¯å¢ƒçš„æ—¶å€™ï¼Œé‡å¤æ‰§è¡Œå®‰è£…ç¨‹åºã€é…ç½®ç¯å¢ƒçš„æµç¨‹ï¼Œå¤§å¤§ç®€åŒ–äº†æˆ‘ä»¬çš„å·¥ä½œï¼Œæå‡äº†å·¥ä½œæ•ˆç‡ã€‚\u003c/p\u003e","title":"Docker å­¦ä¹ ç³»åˆ— --- 1","type":"posts"},{"content":"Writing robust scripts # We should use the following options in our bash script for better quality:\nset -eux set -o pipefail Meaning of these option:\n-e: Exit immediately if a command fails. -u: If a variable is not set, this is considered an error1. -x: Expand variables in a command and print it before executing the command (better for debugging if command fails). -o pipefail: If any command in a pipe fails, this pipe will fail. For more options, see bash set command doc.\ncommon check conditions for files # Some commonly used options for checking file conditions:\noption meaning [ -d FILE ] True if FILE exists and is a directory [ -f FILE ] True if FILE exists and is a regular file [ -r FILE ] True if FILE exists and is readable [ -w FILE ] True if FILE exists and is writable [ -x FILE ] True if FILE exists and is executable [ -z STRING ] True if length of STRING is zero [ -n STRING ] True if length of STRING is not zero Note that to check if the opposite is true, use [ ! condition ].\nUse [ ] or [[ ]] for condition check? # Both [ ] and [[ ]] can be used to check some conditions, but [ ] is POSIX compatible, and [[ ]] is not. Both bash, zsh support [[ ]].\n[[ ]] is also more versatile and powerful than [ ]. For example, it supports \u0026amp;\u0026amp;, || and grouping command using () etc.\nCompare string equality # We can use = and != to compare the equality of strings. Unlike common programming languages, use of == is non-standard (see here).\nHow to set boolean variable? # In bash, there is not really a boolean type. We can just use literal string true to set a bool variable and check if variable is equal to string true. For example:\nuse_python=true if [[ $use_python = true ]]; then # do something else: # do another thing fi How to check if a command exists? # We can use command -v YOUCOMMAND to check if YOURCOMMAND exists. For example:\nif [[ ! \u0026#34;$(command -v rg)\u0026#34; ]]; then # install ripgrep else echo \u0026#34;ripgrep already exists. No action needed.\u0026#34; fi According to here, which command is not a reliable way to do this, since it may return an exit code of 0 even if no command is found.\nReferences # Introduction to bash if. More advanced if usage. Difference between [ and [[. Check if a command exists in bash script. How to declare boolean variable. you will see unbound variable error message.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"27 April 2020","externalUrl":null,"permalink":"/2020/04/27/bash_script_notes_s1/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eWriting robust scripts \n    \u003cdiv id=\"writing-robust-scripts\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#writing-robust-scripts\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eWe should use the following options in our bash script for better quality:\u003c/p\u003e","title":"Bash Script Note 1","type":"posts"},{"content":"","date":"26 April 2020","externalUrl":null,"permalink":"/tags/windows/","section":"Tags","summary":"","title":"Windows","type":"tags"},{"content":"å¼•å­ # æœ€è¿‘ä½¿ç”¨å·¥ä½œç”µè„‘çš„æ—¶å€™ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œåœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨é‡Œé¢é¼ æ ‡å³é”®å•å‡»æ‰“å¼€èœå•(ä¹Ÿå«context menu)çš„æ—¶å€™ï¼Œç³»ç»Ÿå¾ˆå¤§æ¦‚ç‡ä¼šå¡é¡¿ï¼Œé¼ æ ‡æŒ‡é’ˆå¼€å§‹è½¬åœˆï¼Œæ–‡ä»¶ç®¡ç†å™¨ç™½å±ï¼Œç„¶åä¼šæç¤º\u0026quot;æœªå“åº”\u0026quot;,è¿‡ä¸€ä¼šå„¿ï¼Œå³é”®èœå•æ‰ä¼šå‡ºç°ã€‚ä»¥è‡³äºæˆ‘æ¯æ¬¡ç‚¹å‡»å³é”®ä¹‹å‰ï¼Œéƒ½å¾ˆçƒ¦èºï¼Œå¸Œæœ›ä¸è¦å‡ºç°å¡é¡¿çš„æƒ…å†µã€‚\nä½¿ç”¨ Windowsï¼Œæ€»æœ‰ä¸€ç§ç¢°è¿æ°”çš„æ„Ÿè§‰ï¼Œå¦‚æœä»€ä¹ˆä¸œè¥¿ä¸èƒ½æ­£å¸¸å·¥ä½œäº†ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æ¸…æ¥šä¸ºä»€ä¹ˆï¼Ÿå¯èƒ½é‡å¯ä¸€ä¸‹ï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†ã€‚å¦å¤–ä¸€äº›é—®é¢˜ï¼Œé‡å¯ä¹Ÿæ— æ³•è§£å†³ï¼Œè­¬å¦‚è¿™ä¸ªå³é”®èœå•å¡é¡¿çš„é—®é¢˜ï¼Œæˆ‘**é‡å¯äº†å¥½å‡ æ¬¡ä¹Ÿæ²¡æœ‰ç”¨ã€‚ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘æ›´å–œæ¬¢ Linux ç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šå‡ºç°äº†é—®é¢˜ï¼Œä»è°·æ­Œæ€»èƒ½æ‰¾åˆ°ç¡®å®šæ€§ï¼ˆdefinitiveï¼‰çš„ç­”æ¡ˆï¼Œè€Œä¸æ˜¯åƒ Windows ä¸€æ ·ï¼Œä½ éœ€è¦å°è¯• N ç§ä½ ä¹Ÿä¸ç¡®å®šèƒ½ä¸èƒ½æˆåŠŸçš„æ–¹æ¡ˆã€‚\nè§£å†³æ–¹æ¡ˆ # å›å½’åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç»è¿‡å„ç§æŸ¥æ‰¾ï¼Œå¤§æ¦‚ç¡®å®šè¿™ä¸ªå¡é¡¿çš„åŸå› å¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹è½¯ä»¶åœ¨å³é”®èœå•æ·»åŠ äº†å¤ªå¤šé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¸€äº›æ²¡ç”¨çš„è½¯ä»¶å¿«æ·æ–¹å¼ä»å³é”®èœå•é‡Œé¢æ¸…é™¤å‡ºå»ã€‚å¦å¤–ä¸€äº›æ²¡ç”¨çš„è½¯ä»¶ï¼Œå¯ä»¥ä¸€èµ·æ¸…ç†æ‰ã€‚\nç¬¬ä¸€æ­¥ï¼šæ¸…ç†æ— ç”¨çš„åº”ç”¨ã€‚æ‰“å¼€ Win10 è®¾ç½®ï¼ˆå¿«æ·é”® Win + Iï¼‰ï¼Œè¿›å…¥åº”ç”¨ï¼Œæ²¡ç”¨çš„ï¼Œé•¿æ—¶é—´æœªä½¿ç”¨çš„åº”ç”¨å…¨éƒ¨å¸è½½ã€‚\nç¬¬äºŒæ­¥ï¼šæ¸…ç†å³é”®èœå•å¿«æ·æ–¹å¼ã€‚ä¸‹è½½ ShellMenuViewè¿™ä¸ªå°å·¥å…·(ä¸‹è½½åœ°å€è¿™é‡Œ)ã€‚æ— éœ€å®‰è£…ï¼Œè§£å‹å³å¯è¿è¡Œã€‚\nç„¶åä½¿ç”¨ Ctrl-F å¿«æ·é”®æŸ¥æ‰¾å¸Œæœ›ç¦ç”¨çš„å³é”®å¿«æ·æ–¹å¼ï¼Œæ‰¾åˆ°æŸä¸ªé¡¹ç›®ä»¥åï¼Œå³é”®å•å‡»ï¼Œç„¶åé€‰æ‹© \u0026ldquo;Disable Selected Items\u0026rdquo; æˆ–è€…ç›´æ¥ä½¿ç”¨ F7 å¿«æ·é”®ã€‚å¦‚æœè¦æŸ¥çœ‹è¯¥é¡¹ç›®åœ¨æ³¨å†Œè¡¨ä¸­çš„ä½ç½®ï¼Œå¯ä»¥ç”¨é€‰æ‹© \u0026ldquo;Open in RegEdit\u0026rdquo; æˆ–è€…ç›´æ¥ä½¿ç”¨ F6 å¿«æ·é”®ã€‚\nè¿›è¡Œä¸Šè¿°æ“ä½œä¹‹åï¼Œé‡å¯ç³»ç»Ÿï¼Œåœ¨æ–‡ä»¶ç®¡ç†å™¨ä½¿ç”¨å³é”®èœå•ï¼Œå‘ç°å¡é¡¿æ¶ˆå¤±ï¼Œå¯ä»¥ç¡®å®šå¡é¡¿å°±æ˜¯ç¬¬ä¸‰æ–¹åœ¨å³é”®èœå•æ·»åŠ é¡¹ç›®å¯¼è‡´çš„ã€‚\nå‚è€ƒ # https://superuser.com/q/5011/736190 Right click crashes Windows 10 Pro. https://windowsreport.com/windows-explorer-crash-right-click/ https://www.zhihu.com/question/41279815/answer/139007395 ","date":"26 April 2020","externalUrl":null,"permalink":"/2020/04/26/windows_context_menu_hang_solution/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eå¼•å­ \n    \u003cdiv id=\"%E5%BC%95%E5%AD%90\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#%E5%BC%95%E5%AD%90\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eæœ€è¿‘ä½¿ç”¨å·¥ä½œç”µè„‘çš„æ—¶å€™ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œåœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨é‡Œé¢é¼ æ ‡å³é”®å•å‡»æ‰“å¼€èœå•(ä¹Ÿå«\u003ca href=\"https://en.wikipedia.org/wiki/Context_menu\" target=\"_blank\"\u003econtext menu\u003c/a\u003e)çš„æ—¶å€™ï¼Œç³»ç»Ÿå¾ˆå¤§æ¦‚ç‡ä¼šå¡é¡¿ï¼Œé¼ æ ‡æŒ‡é’ˆå¼€å§‹è½¬åœˆï¼Œæ–‡ä»¶ç®¡ç†å™¨ç™½å±ï¼Œç„¶åä¼šæç¤º\u0026quot;æœªå“åº”\u0026quot;,è¿‡ä¸€ä¼šå„¿ï¼Œå³é”®èœå•æ‰ä¼šå‡ºç°ã€‚ä»¥è‡³äºæˆ‘æ¯æ¬¡ç‚¹å‡»å³é”®ä¹‹å‰ï¼Œéƒ½å¾ˆçƒ¦èºï¼Œå¸Œæœ›ä¸è¦å‡ºç°å¡é¡¿çš„æƒ…å†µã€‚\u003c/p\u003e","title":"è§£å†³ Windows ä¸‹æ–‡ä»¶ç®¡ç†å™¨ä¸­å³é”®å•å‡»æ— å“åº”é—®é¢˜","type":"posts"},{"content":"æœ€è¿‘å‡ ä¸ªæœˆåœ¨æ‰‹æœºä¸Šä½¿ç”¨ justmysocksï¼Œæ„Ÿè§‰é€Ÿåº¦å¾ˆæ…¢ï¼Œç»å¸¸æ–­æµï¼Œè¿æ¥ä¸ä¸Šã€‚é€šè¿‡æœç´¢ï¼Œå‘ç°åŸå› æ˜¯ä½¿ç”¨çš„çº¿è·¯é—®é¢˜ã€‚ä¸ºäº†å­¦ä¹ ä¹‹ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® obfs å¢å¼ºæœåŠ¡ç¨³å®šæ€§ã€‚\njustmysocks æä¾›äº†äº”æ¡çº¿è·¯ï¼Œè¿™äº”æ¡çº¿è·¯ä½¿ç”¨çš„è¿è¥å•†ä¸åŒï¼Œå¯¼è‡´å„æ¡çº¿è·¯é€Ÿåº¦å·®å¼‚å¾ˆå¤§ï¼Œç»è¿‡æµ‹è¯•ï¼Œå‘ç°ç¬¬ä¸‰æ¡çº¿è·¯é€Ÿåº¦æ¯”è¾ƒç¨³å®šç‰ˆã€‚ç¬¬ä¸‰æ¡çº¿è·¯ä½¿ç”¨çš„æ˜¯ä¸­å›½ç”µä¿¡çš„ CN2 GIAçº¿è·¯(å¯ä»¥ç®€å•è®¤ä¸ºè¯¥çº¿è·¯è®¿é—®å›½å¤–ç½‘ç«™é€Ÿåº¦æ›´å¿«)ï¼Œæ”¯æŒ obfsï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œé¢å¤–çš„è®¾ç½®ã€‚ä»¥ä¸‹ä¸ºé’ˆå¯¹ä¸åŒç³»ç»Ÿå¼€å¯ obfs çš„æ–¹æ³•ã€‚\nå®‰å“æ‰‹æœºé…ç½® # é™¤äº† ss å®¢æˆ·ç«¯ï¼Œè¿˜éœ€è¦å®‰è£… simple-obfuscation è¿™ä¸ªå·¥å…·ã€‚æ‰“å¼€ ss å®¢æˆ·ç«¯ï¼Œæ·»åŠ æ–°çš„é…ç½®ï¼Œè¾“å…¥æœåŠ¡å™¨åœ°å€ï¼Œç«¯å£ï¼Œå¯†ç ã€‚\nç„¶åç§»åŠ¨åˆ°é…ç½®æœ€ä¸‹é¢çš„æ’ä»¶éƒ¨åˆ†ï¼Œç‚¹å‡»æ’ä»¶ï¼Œé€‰æ‹© simple obfuscation.\nç„¶åç‚¹å‡»ä¸‹é¢çš„é…ç½®ï¼Œåœ¨å¼¹å‡ºçš„é¡µé¢ï¼Œobfuscation wrapper é€‰æ‹© tlsï¼Œç¡®è®¤æ›´æ”¹å³å¯ã€‚\næœ€åä¿å­˜è¿™ä¸ªæ–°æ·»åŠ çš„é…ç½®ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé…ç½®æ‰“å¼€ ssã€‚\nMac è®¾ç½® # Mac å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ shadowsocks-NG, å®ƒè‡ªå¸¦äº† obfs æ’ä»¶ï¼Œä¸éœ€è¦é¢å¤–å†å®‰è£…æ’ä»¶ã€‚è®¾ç½® obfs æ¯”è¾ƒç®€å•ï¼Œåœ¨æœåŠ¡å™¨è®¾ç½®é‚£é‡Œï¼Œå¢åŠ æ–°çš„æœåŠ¡å™¨ï¼Œé¦–å…ˆæŠŠçº¿è·¯ 3 çš„ ip ä»¥åŠç«¯å£ï¼Œå¯†ç ï¼ŒåŠ å¯†æ–¹å¼ç­‰ä¿¡æ¯å¡«å¥½ï¼Œç„¶å æ’ä»¶ é‚£é‡Œå¡«å†™ simple-obfsï¼Œæ’ä»¶é€‰é¡¹å¡«å†™ obfs=tlsï¼Œä¿å­˜é…ç½®å³å¯ã€‚\nWindows è®¾ç½® # Windows ä¸‹å¼€å¯ obfsï¼Œé¦–å…ˆä¸‹è½½ obfs-localï¼Œè§£å‹åˆ°å’Œ shadowsock.exe åŒä¸€ä¸ªç›®å½•ã€‚ç„¶åæ·»åŠ æ–°çš„æœåŠ¡å™¨ï¼Œå¡«å…¥çº¿è·¯3æˆ–è€…4çš„ä¿¡æ¯éƒ½å¯ä»¥ï¼Œæ’ä»¶ç¨‹åº æ ç›®å¡« obfs-localï¼Œæ’ä»¶é€‰é¡¹æ ç›®å¡« obfs=tlsï¼Œä¿å­˜é…ç½®ï¼Œä½¿ç”¨è¯¥æœåŠ¡å™¨å³å¯ã€‚\næ€»ç»“ # ç»è¿‡æµ‹è¯•ï¼Œä½¿ç”¨äº† obfs ä»¥åï¼Œè®¿é—®è°·æ­Œçš„é€Ÿåº¦æ¯”ä¹‹å‰å¿«äº†ä¸€äº›ï¼Œä¹Ÿæ›´åŠ ç¨³å®šï¼Œå»¶è¿Ÿæ¯”è¾ƒä½ï¼Œæ¨èä½¿ç”¨ã€‚\nå‚è€ƒ # å®‰å“è®¾ç½® obfs. Mac è®¾ç½® obfs. https://ijustmysocks.com/122.html ","date":"25 April 2020","externalUrl":null,"permalink":"/2020/04/25/shadowsocks_obfs_setup/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘å‡ ä¸ªæœˆåœ¨æ‰‹æœºä¸Šä½¿ç”¨ justmysocksï¼Œæ„Ÿè§‰é€Ÿåº¦å¾ˆæ…¢ï¼Œç»å¸¸æ–­æµï¼Œè¿æ¥ä¸ä¸Šã€‚é€šè¿‡æœç´¢ï¼Œå‘ç°åŸå› æ˜¯ä½¿ç”¨çš„çº¿è·¯é—®é¢˜ã€‚ä¸ºäº†å­¦ä¹ ä¹‹ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® \u003ca href=\"https://github.com/shadowsocks/simple-obfs\" target=\"_blank\"\u003eobfs\u003c/a\u003e å¢å¼ºæœåŠ¡ç¨³å®šæ€§ã€‚\u003c/p\u003e","title":"Shadowsocks é…ç½® obfs","type":"posts"},{"content":"When we are working on a project, we often need to log some message for easier debugging. How do we configure logging once and use it across the project?\nSet up logging for the project # Suppose we have the following file in our project:\nmain.py module1.py module2.py main.py is the entry point of our project and use functions or classes from module1 and module2.\nThe best practice is to set up logging in main.py like this:\nimport module1 import module2 import logging # other imports logging_level = logging.DEBUG main_logger = logging.getLogger() main_logger.setLevel(logging_level) # Set up a stream handler to log to the console stream_handler = logging.StreamHandler() stream_handler.setLevel(logging_level) formatter = logging.Formatter(\u0026#34;%(name)s - %(levelname)s - %(message)s\u0026#34;) stream_handler.setFormatter(formatter) # Add handler to logger main_logger.addHandler(stream_handler) # other codes In the above code, we define a root logger main_logger via logging.getLogger() (notice that no name is provided to this method), and set up the handlers and logging level properly.\nIn module1 and module2, we only need to define a logger like this:\nimport logging logger = logging.getLogger(__name__) # then use logger.info() or logger.debug() in your code. In other modules, if we define the logger using logging.getLogger(__name__), it will automatically use the settings from the root logger. This ensures that we only need to configure logging once in our project.\nChanging logging level to disable some logging message # There is also another benefit in using a unified config: we can easily control the logging message verbosity by changing the logging level. For example, in the above example, we set logging level in main.py to logging.DEBUG, so all logger.debug() and logger.info() message will be printed to the console. If we do not want to see debug messages anymore, we can set logging level to logging.INFO, which will disable any debug message across the whole project.\nDisable logging message from other packages # When we import 3rd party packages in our own project and set proper logging level for the project, if a logging message in 3rd party packages is above that level, the message will also be printed. Since we usually only care about logging messages in our project, we can disable logging message in 3rd party packages by setting their logger level higher, or by disabling logging entirely for 3rd party packages. Here is the code:\nimport logging # suppose that the logger level of our module is logging.DEBUG, we set # logger level of other module higher than logging.DEBUG for m in (\u0026#34;urllib3\u0026#34;, \u0026#34;foo\u0026#34;, \u0026#34;bar\u0026#34;): logging.getLogger(m).setLevel(logging.CRITICAL) # To disable it entirely, use the following. # logging.getLogger(m).disabled = True References # Using logging in multiple modules: https://stackoverflow.com/a/15735146/6064933 https://stackoverflow.com/q/47608069/6064933 Disable logger message from other packages. ","date":"24 April 2020","externalUrl":null,"permalink":"/2020/04/24/python_logging_for_multiple_modules/","section":"Posts","summary":"\u003cp\u003eWhen we are working on a project, we often need to log some message for easier debugging.\nHow do we configure logging once and use it across the project?\u003c/p\u003e","title":"How to Use Unified Logging Config Across Your Project","type":"posts"},{"content":"This is my personal note on learning Git.\nUncommited changes in a file are visible in all branches? # I checked out from master branch to branch feature-foo and made some uncommitted changes in a file foo.py. When I switch back to branch master, I am surprised to find that changes in foo.py are visible in master branch.\nI have also thought that changes in a branch belongs to that branch, but it seems that I am terribly wrong. The truth is: until you commit your changes in a certain branch, it will be visible in other branches too.\nReferences # Git automatically merge changes in one branch to master. Git keeps showing my changes when I switch branches. Why are changes in one branch visible in another branch? How to show file version in a specific commit # We can use git show \u0026lt;revision\u0026gt;:/path/to/file to show the version of file in a specific commit.\n\u0026lt;revision\u0026gt; can be a commit hash or something like HEAD or HEAD~2 or tag name that can identify a specific commit. For example, to show file readme.md in current HEAD, use the following command:\ngit show HEAD:readme.md To show readme.md in commit 410d12ed0, use git show 410d12ed0:readme.md.\nReferences # https://www.systutorials.com/how-to-view-a-file-at-a-specific-commit-in-git/ https://stackoverflow.com/a/338470/6064933 Delete files that have been commited after adding them to gitignore # We may have commited some files that we do not want to include in the repo to the remote repo. How do we delete these files from remote repo?\nFirst, we need to edit .gitignore file and add the files we want git to ignore. Then use the following command to delete these files from remote repo:\ngit rm --cached path/to/file git commit -m \u0026#34;delete unwanted files\u0026#34; git push origin master The command git rm --cached test.txt will remove file test.txt from the Git index, but not from your disk. If you omit option --cached, the file will also be removed from your disk.\nReferences # https://stackoverflow.com/a/7927283/6064933 Show difference between working directory, index and commit tree for a certain file # Suppose we want to know the difference bewtween working directory, index, and commit tree for file test.txt, we can use the following commands:\ngit diff test.txt: difference between working directory and index git diff HEAD test.txt: difference between working directory and HEAD git diff --staged test.txt or git diff --cached test.txt: difference between index and HEAD. References # https://stackoverflow.com/q/3527856/6064933 https://stackoverflow.com/a/30023448/6064933 Difference between git add -A, git add . and git add -u? # For the commit tree, there are three types of files: modifed, deleted and new files. What these commands do to the three types of files are:\ncommand modified files deleted files new files description git add -A yes yes yes stage modified, deleted and new files git add . yes yes yes stage modified, deleted and new files EndFragment git add -u yes yes no stage modified and deleted files, but not new files git add --ignore-removal . yes no yes stage new and modified files, but not deleted files Using git add -A and git add -u without specifying the path will act on the entire working tree, regardless of your current directory:\nIf no is given when -u option is used, all tracked files in the entire working tree are updated (old versions of Git used to limit the update to the current directory and its subdirectories).\nReferences # https://stackoverflow.com/a/26039014/6064933 How to list all file in current repository # We can use git ls-tree command:\ngit ls-tree --name-only --full-tree -r HEAD The meaning of options:\n--full-tree: print the whole tree under the working tree root no matter which directory you are in --name-only: print file names only (do not show file type and hash etc.) -r: recursively list files under the root directory. Note that if -r is omitted and only --full-tree and --name-only are used, only files and directories under repo root are listed.\nWe can also use git ls-files to show all the file in current repo. By default, git ls-files will also show files that are staged but not yet committed, which is different from git ls-tree since it only shows committed files. git ls-files also has more features than that.\nReferences # https://stackoverflow.com/q/8533202/6064933 ","date":"23 April 2020","externalUrl":null,"permalink":"/2020/04/23/git_learning_notes_s1/","section":"Posts","summary":"\u003cp\u003eThis is my personal note on learning Git.\u003c/p\u003e","title":"Git Learning Notes (1)","type":"posts"},{"content":"","date":"19 April 2020","externalUrl":null,"permalink":"/tags/c/","section":"Tags","summary":"","title":"C","type":"tags"},{"content":"This post summarizes how to set up various plugins needed for C++/C code editing, linting and formatting.\nPre-requisite # This post assumes that deoplete has been installed and set up properly on your system. If that is not the case, you may refer to this post on how to do it.\nInstall clang and llvm # To enable C++/C code auto-completion, we need to install clang first.\nLinux # On Linux, we can build the latest clang from source using the following command:\ngit clone --depth=1 https://github.com/llvm/llvm-project.git cd llvm-project mkdir build \u0026amp;\u0026amp; cd build cmake -DLLVM_ENABLE_PROJECTS=clang -G \u0026#34;Unix Makefiles\u0026#34; -DCMAKE_BUILD_TYPE=Release ../llvm make -j$(nproc) The flag -DCMAKE_BUILD_TYPE=Release will build a release version of clang, which is much smaller than the default one (Debug type).\nThe build process will take about half of an hour on our 12-core server, and the time may vary depending on your hardware.\nAfter that, we need to add the clang binary path to the PATH variable, and add the directory containing libclang.so to env variable LD_LIBRARY_PATH. Edit ~/.bash_profile and add following settings:\nexport PATH=\u0026#34;$HOME/tools/llvm-project/build/bin:$PATH\u0026#34; export LD_LIBRARY_PATH=\u0026#34;$HOME/tools/llvm-project/build/lib:$LD_LIBRARY_PATH\u0026#34; Under directory $HOME/tools/llvm-project/build/bin, there are a lot of executables, including clang, clang++, and clang-format (which we will use to format C++/C code later).\nDo not forget to source the file to refresh the env variables.\nmacOS # For macOS, clang is shipped with it so we do not need to install clang. We need to install clang-format though since clang-format is not shipped with clang by default (source here).\nThe easiest way to install clang-format is via Homebrew:\nbrew install clang-format On Mac, the name of the clang share library is libclang.dylib, and we should add its parent directory to env variable LD_LIBRARY_PATH1:\nexport LD_LIBRARY_PATH=\u0026#34;/Library/Developer/CommandLineTools/usr/lib/:$LD_LIBRARY_PATH\u0026#34; Auto-completion # To provide C++/C code autocompletion, we can use deoplete-clang:\n\u0026#34; Install using vim-plug Plug \u0026#39;deoplete-plugins/deoplete-clang\u0026#39; If you have set up the libclang path properly, then auto-completion should work when you start editing C++/C source files.\nLinting # For code linting, we can use ale. Add the following setting to Neovim config:\nlet g:ale_linters = { \\ \u0026#39;python\u0026#39;: [\u0026#39;pylint\u0026#39;], \\ \u0026#39;vim\u0026#39;: [\u0026#39;vint\u0026#39;], \\ \u0026#39;cpp\u0026#39;: [\u0026#39;clang\u0026#39;], \\ \u0026#39;c\u0026#39;: [\u0026#39;clang\u0026#39;] \\} Code formatting # We can use the command line tool clang-format shipped with clang for code formatting, with the help of pluign Neoformat to format our code. Make sure that clang-format is on your PATH. Add the following settings to Neovim config:\n\u0026#34; custom setting for clangformat let g:neoformat_cpp_clangformat = { \\ \u0026#39;exe\u0026#39;: \u0026#39;clang-format\u0026#39;, \\ \u0026#39;args\u0026#39;: [\u0026#39;--style=\u0026#34;{IndentWidth: 4}\u0026#34;\u0026#39;] \\} let g:neoformat_enabled_cpp = [\u0026#39;clangformat\u0026#39;] let g:neoformat_enabled_c = [\u0026#39;clangformat\u0026#39;] Notice that the linter name for clang-format is clangformat, not clang-format. I have wasted ten minutes trying to find why clang-format does not with Neoformat until I found here that we should use clangformat as the linter name.\nReferences # Build and run clang \u0026ndash; official guide. Build clang. ALE: supported tools. clang-format doc. clang-format style options. you can find its path via command mdfind -name libclang.dylib.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"19 April 2020","externalUrl":null,"permalink":"/2020/04/19/nvim_cpp_and_c_completion/","section":"Posts","summary":"\u003cp\u003eThis post summarizes how to set up various plugins needed for C++/C code\nediting, linting and formatting.\u003c/p\u003e","title":"Set up for C++/C Development in Neovim","type":"posts"},{"content":"I am trying to generate a custom time format using the Python datetime package. My original code is:\nfrom datetime import datetime print(datetime.now().strftime(\u0026#34;%Y-%m-%d %H:%M:%S%z\u0026#34;)) Strangely, the time zone field %z is not present in the generated time string. The generated string is like:\n\u0026lsquo;2020-04-17 20:41:35\u0026rsquo;\nI checked the documentation of strftime(), and the meaning of %z is:\nUTC offset in the form Â±HHMM[SS[.ffffff]] (empty string if the object is naive).\nHere, we need to understand what is a naive or aware time object. Simply put, a naive time object has no timezone info, thus is incomplete. On other hand, an awaretime object has timezone info and is complete. A full explanation can be found here.\nBy default, the time object we get from datetime.now() is a naive object, thus having no timezone info attached. To convert the time object to an aware object with our local time zone info, we can use datetime.astimezone():\naware_time = datetime.now().astimezone() print(aware_time.strftime(\u0026#34;%Y-%m-%d %H:%M:%S%z\u0026#34;)) Now, we will get the expected result:\n2020-04-17 20:53:13+0800\nReferences # %Z in strftime() does not work . How to make a naive time object an aware time object. What is the point of a naive datetime? ","date":"17 April 2020","externalUrl":null,"permalink":"/2020/04/17/python_datetime_timezone/","section":"Posts","summary":"\u003cp\u003eI am trying to generate a custom time format using the Python \u003ccode\u003edatetime\u003c/code\u003e\npackage. My original code is:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003edatetime\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrftime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan class=\"si\"\u003e%d\u003c/span\u003e\u003cspan class=\"s2\"\u003e %H:%M:%S%z\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Get Current Time with Time Zone Info in Python","type":"posts"},{"content":"This is a simple post about how to send JSON-like Dict data to a Flask server via requests package.\nPost dict to Flask server # To post Python dict using requests package, we can use the data parameter:\nimport requests payload = {\u0026#39;foo\u0026#39;: 1, \u0026#39;bar\u0026#39;: 2} requests.post(url, data=payload) In the above example, the Content-Type for posted data is application/x-www-form-urlencoded, you can get the posted data in the Flask server side via request.form:\nfrom flask import request data = request.form.to_dict() Post and receive dict with value of list type # One caveat when we use request.form.to_dict() is that we only get the first element for a dict value of list type. For example, if payload is the following dict:\npayload = {\u0026#39;id\u0026#39;: \u0026#39;123\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;jpg\u0026#39;, \u0026#39;box\u0026#39;: [0, 0, 100, 100]} On the Flask server side, after request.form.to_dict(), you only get the following:\n{\u0026#39;id\u0026#39;: \u0026#39;123\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;jpg\u0026#39;, \u0026#39;box\u0026#39;: \u0026#39;0\u0026#39;} which is completely non-obvious for Flask beginners. To get the full list instead, we have two ways:\nUse requests.form.to_dict(flat=False) (see here on the description about to_dict()). One drawback is that values that are non-list originally are converted to list. So now you get: {\u0026#39;id\u0026#39;: [\u0026#39;123\u0026#39;], \u0026#39;type\u0026#39;: [\u0026#39;jpg\u0026#39;], \u0026#39;box\u0026#39;: [\u0026#39;0\u0026#39;, \u0026#39;0\u0026#39;, \u0026#39;100\u0026#39;, \u0026#39;100\u0026#39;]} Use request.form.getlist('key') to get the list corresponding to key, more about this here. Directly posting JSON data # Another way to post Python dict is to directly post and receive JSON data. When making requests, we can use the json parameter of requests.post() method:\nr = requests.post(url, json=payload) In this way, requests package will serialize your dict into JSON format. The Content-Type in HTTP header will be set to application/json. In the Flask side, we need to use request.get_json() to get the posted JSON data.\nPost or return base64 encoded image in dict # When you post base64 encoded image in dict via requests package, you may see the following error:\nTypeError: Object of type bytes is not JSON serializable\nThis is because the Python JSON library cannot serialize byte type. You can convert the base64 encoded image as string via decode() method:\nimport base64 import requests with open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;) as f: im_b64 = base64.b64encode(f.read()) payload = {\u0026#39;image\u0026#39;: im_b64.decode()} r = requests.post(url, json=payload) Similarly, when you want to return base64 encoded image in the Flask server side via jsonify() method, you need also to convert bytes type to str before JSON library can serialize it.\nReferences # Flask: get request.form as normal dict. Convert form to dict in Flask. Flask: post a list. Flask: objects of bytes type not JSON serializable. Content-Type in POST request. Post JSON via Python requests package. Send multipart/form-data request in Python. ","date":"13 April 2020","externalUrl":null,"permalink":"/2020/04/13/build_webapi_with_flask_s3/","section":"Posts","summary":"\u003cp\u003eThis is a simple post about how to send JSON-like Dict data to a Flask server\nvia \u003ca href=\"https://requests.readthedocs.io/en/master/\" target=\"_blank\"\u003erequests\u003c/a\u003e package.\u003c/p\u003e","title":"Build Web API with Flask --- Work with JSON-like Dict","type":"posts"},{"content":"In this post, I want to write about how to build a simple image processing web API that returns the size of an image. The topics include how to build this web API with Flask and how to post image to this web API and get response.\nThere are mainly two ways by which we can send an image to the web service. Based on how you send the image, the way to get the uploaded image on the server side also varies.\nPost binary image # You can directly post binary image to the server using the files parameter of requests.post():\nurl = \u0026#39;http://127.0.0.1:5000/im_size\u0026#39; my_img = {\u0026#39;image\u0026#39;: open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;)} r = requests.post(url, files=my_img) # convert server response into JSON format. print(r.json()) In the above code, the Content-Type of the Header of the POST request will be multipart/form-data. Then in the server side, you can get the posted image like this:\nfrom flask import Flask, request, jsonify app = Flask(__name__) @app.route(\u0026#34;/im_size\u0026#34;, methods=[\u0026#34;POST\u0026#34;]) def process_image(): file = request.files[\u0026#39;image\u0026#39;] # Read the image via file.stream img = Image.open(file.stream) return jsonify({\u0026#39;msg\u0026#39;: \u0026#39;success\u0026#39;, \u0026#39;size\u0026#39;: [img.width, img.height]}) if __name__ == \u0026#34;__main__\u0026#34;: app.run(debug=True) In the server side, the posted image will be in request.files['image'], which is of type werkzeug.datastructures.FileStorage. You can save the image to disk via save() method of this object:\nfile.save(\u0026#39;im-received.jpg\u0026#39;) The image is also stored in file.stream, which is a file-like object so that you can easily read the image for later processing:\n# img is PIL Image object img = Image.open(file.stream) Finally, we construct a Python dict and convert it to JSON format via the jsonify() method provided by Flask.\nHow to post multiple files # To post multiple images to the server, you can post a list of file tuples like the following:\nmultiple_files = [ (\u0026#39;image\u0026#39;, (\u0026#39;test.jpg\u0026#39;, open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;))), (\u0026#39;image\u0026#39;, (\u0026#39;test.jpg\u0026#39;, open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;))) ] # simplified form # multiple_files = [ # (\u0026#39;image\u0026#39;, open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;)), # (\u0026#39;image\u0026#39;, open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;)) # ] r = requests.post(url, files=multiple_files, data=data) In the server side, you can still receive the posted images using request.files:\nfrom flask import Flask, request # ... other code files = request.files.to_dict(flat=False) ## files is a list containing two images. for i, file in enumerate(files): file.save(f\u0026#39;image-{i}.jpg\u0026#39;) Post additional data # We usually want to post more meta info than merely the image itself. We can use the data parameter in requests.post():\npayload = {\u0026#39;id\u0026#39;: \u0026#39;123\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;jpg\u0026#39;} r = requests.post(url, files=files, data=payload) To get the payload dict in the server side, we use request.form, which is of type werkzeug.datastructures.ImmutableMultiDict. We use request.form.to_dict() to convert the received form data into Python dict:\npayload = request.form.to_dict() id = payload[\u0026#39;id\u0026#39;] im_type = payload[\u0026#39;type\u0026#39;] Post base64 encoded image # Another way is to just encode the image with base64 and post all the info via data parameter in requests.post() in the client side.\nimport base64 with open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;) as f: im_b64 = base64.b64encode(f.read()) payload = {\u0026#39;id\u0026#39;: \u0026#39;123\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;jpg\u0026#39;, \u0026#39;box\u0026#39;: [0, 0, 100, 100], \u0026#39;image\u0026#39;: im_b64} In the server side, we fetch the posted payload, get the base64 encoded image and decode it:\nimport base64 import io from PIL import Image payload = request.form.to_dict(flat=False) im_b64 = payload[\u0026#39;image\u0026#39;][0] # remember that now each key corresponds to list. # see https://jdhao.github.io/2020/03/17/base64_opencv_pil_image_conversion/ # for more info on how to convert base64 image to PIL Image object. im_binary = base64.b64decode(im_b64) buf = io.BytesIO(im_binary) img = Image.open(buf) Post multiple based64 encoded image # To post multiple base64 encoded images to the server, post them as a list of base64 string:\nb64_ims = [] for im_path in im_paths: with open(im_path, \u0026#39;rb\u0026#39;) as f: im_b64 = base64.encode(f.read()) b64_ims.append(im_b64) payload = {\u0026#34;images\u0026#34;: b64_ims} In the server side, you can get the posted dict and decode the base64 image one by one, just like what I have shown above for a single image.\nReferences # Upload image in flask. Send file and JSON in single request. requests.post() method doc. Post file with requests. Get data received in Flask. Post multipart files. ","date":"12 April 2020","externalUrl":null,"permalink":"/2020/04/12/build_webapi_with_flask_s2/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to write about how to build a simple image processing web\nAPI that returns the size of an image. The topics include how to build this web\nAPI with Flask and how to post image to this web API and get response.\u003c/p\u003e","title":"Build Web API with Flask -- Post and Receive Image","type":"posts"},{"content":"Web API is a kind of web application. Simply put, web APIs are built for other applications to get info from the web server. For Python, Flask can be used to build web applications. In this post, I want to share how to build web APIs with Flask.\nA simple web API # Supposing that we want to build a simple web API that returns the square root a number, the following code shows how to do that:\nimport math from flask import Flask, request, jsonify app = Flask(__name__) @app.route(\u0026#39;/sqrt\u0026#39;, methods=[\u0026#34;POST\u0026#34;]) def sqrt(): num = request.form.get(\u0026#39;num\u0026#39;, type=int) return jsonify({\u0026#39;result\u0026#39;: math.sqrt(num), \u0026#39;msg\u0026#39;: \u0026#39;success\u0026#39;}) In the above code, we first create a flask application using Flask(__name__), which lets Flask know that we are building an application. We then use the @app.route() decorator to define a URL path that we can later incorparate with IP and port number to access our web API. The methods parameter is used to specify what kinds of HTTP requests the server can process from the client.\nBelow the app decorator, we define a view function to process the client request, the actual name of this view function does not matter. The view function name does not have be the same as app.route path (ref here).\nProcessing the client request # To process the client requests in the server side, Flask provides the request module. When a client is using a POST request to post a JSON object, the posted data will be available in request.form, which is like a Python dictionary. Note that by default, the value for a key is of string type. You have to specify the type parameter to convert the value to desired type:\nnum = request.form.get(\u0026#39;num\u0026#39;, type=int) If you do not use type=int, num will be a string instead of an integer..\nReturn JSON object to client # Flask provides the jsonify method to serialize any compatible data type to JSON format. Finally, we return the result in JSON format.\nRunning the development server # After we build the simple web API, we need to test if it works. First, we need to run the web server. Flask ships with a simple web server for testing purposes. There are two ways that we can run the web server: via app.run() or via the Flask command line interface.\nRun the HTTP server via app.run() # Add the following code to the Flask application module:\nif __name__ == \u0026#34;__main__\u0026#34;: # the server will listen on port 1234. Default is port 5000. app.run(port=1234) If we do not specify the host address, the default will be 127.0.0.1, which means that we can only access the service in our machine. To use the IP address of our machine, we can specify the host parameter in app.run:\napp.run(host=\u0026#34;0.0.0.0\u0026#34;, port=1234) Then other machines in the same network can access the web service.\nFinally, we can start the HTTP server with python application.py (suppose that our module is named application.py). We will see the following message on command line:\n* Serving Flask app \u0026#34;application\u0026#34; (lazy loading) * Environment: production WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead. * Debug mode: off * Running on http://127.0.0.1:1234/ (Press CTRL+C to quit) Run the server via Flask command line interface # The second and officially-recommended way to run Flask application is via the Flask command line interface (flask run).\nWhen we run the application using flask run, the following settings does not work:\nif __name__ == \u0026#34;__main__\u0026#34;: # when debug is True, flask will reload app once code changes. app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=8081) The correct way to run the application is to run the following command:\nexport FLASK_APP=application FLASK_ENV=development flask run --host=0.0.0.0 --port 1234 FLASK_APP variable is used to specify which file our flask application resides. FLASK_ENV is used to specify the flask running environment. The default is production. If you use development, Flask will activate debug mode, i.e., it will reload the application once the code changes.\n--host is used to specify the host address. --port is used to specify the listening port. We can also change the port number via FLASK_RUN_PORT env variable:\nexport FLASK_APP=application export FLASK_RUN_PORT=1234 FLASK_ENV=development flask run --host=0.0.0.0 Auto reloading on code changes # Flask provides a debug mode where the app will be reloaded once the code changes, so we do not need to manually stop the server and run it again.\nIf we run the server via app.run(), we can activate debug mode via debug=True:\nif __name__ == \u0026#34;__main__\u0026#34;: # when debug is True, flask will reload app once code changes. app.run(host=\u0026#34;0.0.0.0\u0026#34;, port=1234, debug=True) We may encounter following errors when we run python application.py:\nOSError: [Errno 8] Exec format error\nThe reason for this error can be found here. To put it simply, if application.py has execution right, then Flaks assumes that the script can be run via ./application.py. So we must add shebang at the beginning of the module:\n!#/usr/bin/env python Or we must disable the execution right of this module. When the application is reloaded, it will be run via python application.py.\nAnother way is to run the app via Flask command line interface, as we have mentioned earlier. Set the FLASK_ENV variable to development or set FLASK_DEBUG to 1:\nexport FLASK_APP=application FLASK_ENV=development flask run --host=0.0.0.0 --port 1234 # or the following # FLASK_DEBUG=1 flask run --host=0.0.0.0 --port 1234 Test the web API # The full URL for the web API is: http://127.0.0.1:1234/sqrt.\nWe can test the web API via curl:\ncurl -XPOST -d num=4 \u0026#34;http://127.0.0.1:1234/sqrt\u0026#34; It is more convenient to test the API via requests package using the following code:\nimport requests def post_data(): url = \u0026#34;http://127.0.0.1:1234/sqrt\u0026#34; payload = {\u0026#39;num\u0026#39;: 4} response = requests.post(url, data=payload) return response.json() def main(): result = post_data() print(result) if __name__ == \u0026#34;__main__\u0026#34;: main() If everything is OK, you will see the following output:\n{\u0026#39;msg\u0026#39;: \u0026#39;success\u0026#39;, \u0026#39;result\u0026#39;: 2.0} References # Flask quickstart guide. What is endpoint in Flask. Run flask server. change host and port. configure flask server to be visible across the network. flask run: configure port. Get data received in Flask. ","date":"6 April 2020","externalUrl":null,"permalink":"/2020/04/06/build_webapi_with_flask_s1/","section":"Posts","summary":"\u003cp\u003eWeb API is a kind of web application. Simply put, web APIs are built for other\napplications to get info from the web server. For Python,\n\u003ca href=\"https://flask.palletsprojects.com/en/1.1.x/\" target=\"_blank\"\u003eFlask\u003c/a\u003e can be used to build web\napplications. In this post, I want to share how to build web APIs with Flask.\u003c/p\u003e","title":"Build A Web API Service Using Flask -- The Basics","type":"posts"},{"content":" Changelog 2020-12-24: Add how to convert pptx to pdf using unoconv. In this post, I will share how to convert PPTX file to images. There are two steps. The first step is to convert PPTX to PDF, and the second step is to convert PDF to JPEG.\nFirst, we need to install libreoffice:\napt update \u0026amp;\u0026amp; apt install libreoffice To install the latest version of libreoffice, run the following command instead:\n# in order to use add-apt-repository command apt install software-properties-common apt-add-repository -y ppa:libreoffice/ppa apt update \u0026amp;\u0026amp; apt install libreoffice Step one: from PPTX to PDF # To convert PPTX to image, we need to first convert it to PDF\nUse libreoffice directly # We can use soffice provided by libreoffice to convert pptx to pdf directly:\nsoffice --headless --convert-to pdf test.pptx This will create a file named test.pdf.\nUse unoconv # Apart from soffice, we can also use unoconv. Install the related packages first:\napt update \u0026amp;\u0026amp; apt install python3-uno unoconv Then use unoconv to convert pptx to pdf:\nunoconv -f pdf demo.pptx I met the following error when I run unoconv:\nunoconv: Cannot find a suitable pyuno library and python binary combination in /usr/lib64/libreoffice ERROR: Please locate this library and send your feedback to: [http://github.com/dagwieers/unoconv/issues](https://github.com/dagwieers/unoconv/issues) No module named uno unoconv: Cannot find a suitable office installation on your system. ERROR: Please locate your office installation and send your feedback to: [http://github.com/dagwieers/unoconv/issues](https://github.com/dagwieers/unoconv/issues) For me the error is because unoconv is using the wrong python. In fact, unoconv is just a python script with a shebang:\n#!/usr/bin/env python3 Since I also installed python3 via Anaconda and add it to the system path, the above shebang will actually use python3 from Anaconda, which is wrong.\nThe uno.py package is located in /usr/lib/python3/dist-packages/uno.py, and we need to use the system python3.\nSo we need to change the shebang of unoconv to:\n#!/usr/bin/python3 According to comment here, we can also sed to do this:\nsed -i \u0026#39;s|#!/usr/bin/env python3|#!/usr/bin/python3|\u0026#39; /usr/bin/unoconv Step two: from PDF to image # In order to turn PDF to images, we can use imagemagick or poppler.\nWith Imagemagick # We need to install imagemagick:\napt install imagemagick Then we can convert PDF file to image using convert:\nconvert -density 150 test.pdf -quality 80 output-%3d.jpg The -desnity option will control the dpi of generated image.\nPossible issues # During conversion, two errors occur after running the convert command:\nconvert-im6.q16: not authorized `multiple_img.pdf\u0026#39; @ error/constitute.c/ReadImage/412. convert-im6.q16: no images defined `output-%3d.jpg\u0026#39; @ error/convert.c/ConvertImageCommand/3258. For the first error, you can edit /etc/ImageMagick-6/policy.xml and change the following line:\n\u0026lt;policy domain=\u0026#34;coder\u0026#34; rights=\u0026#34;none\u0026#34; pattern=\u0026#34;PDF\u0026#34; /\u0026gt; to\n\u0026lt;policy domain=\u0026#34;coder\u0026#34; rights=\u0026#34;read|write\u0026#34; pattern=\u0026#34;PDF\u0026#34; /\u0026gt; For the second error, this is because ghostscript has not been installed on the system. Try to install it:\napt install ghostscript After that, you should be fine to generate from PPTX to jpg/png images.\nWith poppler # We need to install poppler-utils:\napt-get update \u0026amp;\u0026amp; apt-get install -y poppler-utils For further steps, refer to this post.\nReferences # How to convert pptx files to jpg or png (for each slide) on linux? How can I convert a ppt to a pdf from the command line? https://jdhao.github.io/2019/11/20/convert_pdf_to_image_imagemagick/ convert:not authorized aaaa @ error/constitute.c/ReadImage/453 Can\u0026rsquo;t convert PDF into image, because of \u0026rsquo;no images defined\u0026rsquo; error ImageMagick:convert-im6.q16: no images defined ","date":"30 March 2020","externalUrl":null,"permalink":"/2020/03/30/pptx_to_image/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eChangelog\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2020-12-24: Add how to convert pptx to pdf using unoconv.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I will share how to convert PPTX file to images. There are two steps.\nThe first step is to convert PPTX to PDF, and the second step is to convert PDF to JPEG.\u003c/p\u003e","title":"Convert PPTX Document to JPEG Images on Ubuntu","type":"posts"},{"content":"","date":"30 March 2020","externalUrl":null,"permalink":"/tags/office/","section":"Tags","summary":"","title":"Office","type":"tags"},{"content":"When we are building web services using Python, we often send or receive images in base64 encoded format. However, when we are doing image processing tasks, we need to use PIL or OpenCV. In this post, I will share how to convert between OpenCV or PIL image and base64 encoded image.\nbase64 to PIL or OpenCV image # base64 to PIL Image # import base64 from io import BytesIO from PIL import Image with open(\u0026#34;test.jpg\u0026#34;, \u0026#34;rb\u0026#34;) as f: im_b64 = base64.b64encode(f.read()) im_bytes = base64.b64decode(im_b64) # im_bytes is a binary image im_file = BytesIO(im_bytes) # convert image to file-like object img = Image.open(im_file) # img is now PIL Image object In the above code, since Image.open() only accepts image path or file-like object, we first convert the base64 encoded image to BytesIO object and then read the image using PIL.\nbase64 to OpenCV Image # import base64 import numpy as np import cv2 with open(\u0026#34;test.jpg\u0026#34;, \u0026#34;rb\u0026#34;) as f: im_b64 = base64.b64encode(f.read()) im_bytes = base64.b64decode(im_b64) im_arr = np.frombuffer(im_bytes, dtype=np.uint8) # im_arr is one-dim Numpy array img = cv2.imdecode(im_arr, flags=cv2.IMREAD_COLOR) In the above code, we first convert binary image to Numpy array, then decode the array with cv2.imdecode(). The final img is an OpenCV image in Numpy ndarray format.\nPIL or OpenCV image to base64 # PIL Image to base64 # import base64 from io import BytesIO from PIL import Image img = Image.open(\u0026#39;test.jpg\u0026#39;) im_file = BytesIO() img.save(im_file, format=\u0026#34;JPEG\u0026#34;) im_bytes = im_file.getvalue() # im_bytes: image in binary format. im_b64 = base64.b64encode(im_bytes) In the above code, instead of saving the PIL Image object img to the disk, we save it to im_file which is a file-like object. Note that in this case, we need to specify the image format in img.save().\nOpenCV to base64 image # import base64 import numpy as np import cv2 img = cv2.imread(\u0026#39;test.jpg\u0026#39;) _, im_arr = cv2.imencode(\u0026#39;.jpg\u0026#39;, img) # im_arr: image in Numpy one-dim array format. im_bytes = im_arr.tobytes() im_b64 = base64.b64encode(im_bytes) In the above code, we first save the image in Numpy ndarray format to im_arr which is a one-dim Numpy array. We then get the image in binary format by using the tobytes() method of this array.\nReferences # Convert OpenCV or PIL image to bytes. base64 image to PIL Image. Byte array to OpenCV image. OpenCV image to base64. ","date":"17 March 2020","externalUrl":null,"permalink":"/2020/03/17/base64_opencv_pil_image_conversion/","section":"Posts","summary":"\u003cp\u003eWhen we are building web services using Python, we often send or receive images\nin \u003ca href=\"https://docs.python.org/3/library/base64.html\" target=\"_blank\"\u003ebase64\u003c/a\u003e encoded format.\nHowever, when we are doing image processing tasks, we need to use PIL or\nOpenCV. In this post, I will share how to convert between OpenCV or PIL image\nand base64 encoded image.\u003c/p\u003e","title":"Conversion between base64 and OpenCV or PIL Image","type":"posts"},{"content":"","date":"16 March 2020","externalUrl":null,"permalink":"/tags/cdn/","section":"Tags","summary":"","title":"CDN","type":"tags"},{"content":"","date":"16 March 2020","externalUrl":null,"permalink":"/tags/%E5%9B%BE%E5%BA%8A/","section":"Tags","summary":"","title":"å›¾åºŠ","type":"tags"},{"content":"","date":"16 March 2020","externalUrl":null,"permalink":"/tags/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/","section":"Tags","summary":"","title":"å¯¹è±¡å­˜å‚¨","type":"tags"},{"content":"æœ¬æ–‡ä¸»è¦åˆ†äº«è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨å¼€å¯ CDN çš„æ–¹æ³•ï¼Œä¸éœ€è¦è´­ä¹°é¢å¤–çš„åŸŸåã€‚\nä¹‹å‰åšæ–‡è®°å½•è¿‡æŠŠåšå®¢çš„å›¾åºŠä»ä¸ƒç‰›è¿ç§»åˆ°äº†è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ï¼Œåˆšå¼€å§‹ç”¨è…¾è®¯äº‘ï¼Œè§‰å¾—èŠ±è´¹ä¸ç®—å¾ˆè´µï¼Œä¸€ä¸ªæœˆä¸è¶…è¿‡ 10 å…ƒã€‚ç›´åˆ°æœ‰ä¸€æ¬¡å‘äº†ä¸€ç¯‡å…³äºæœºæ¢°é”®ç›˜çš„æ–‡ç« ï¼Œæ”¾äº†ä¸¤å¼ æ²¡æœ‰ç»è¿‡å‹ç¼©çš„å›¾ç‰‡ï¼Œç”±äºè®¿é—®äººæ•°ç¨å¾®è¿‡å¤§ï¼Œå‡ å¤©æ—¶é—´å°±æ¶ˆè€—äº†å°†è¿‘ 40 å…ƒçš„æµé‡è´¹ç”¨ã€‚å½“æ—¶ä¹Ÿåœ¨ V2ex å‘äº†å¸–å­ï¼Œæœ‰äººå»ºè®®å¥—ä¸ª CDNï¼Œå› ä¸º CDN çš„æµé‡ç›¸å¯¹äºå¯¹è±¡å­˜å‚¨çš„æµé‡æ›´ä¾¿å®œã€‚ç”±äºå½“æ—¶å¯¹ CDN æ€ä¹ˆä½¿ç”¨ä¸äº†è§£ï¼Œä»¥ä¸ºè¿˜è¦è‡ªå·±å†ä¹°ä¸€ä¸ªåŸŸåï¼Œæ‰€ä»¥å°±æ²¡æœ‰æ·±å…¥äº†è§£ä¸‹å»ã€‚æœ€è¿‘ï¼Œè¶ç€æœ‰æ—¶é—´ï¼Œç ”ç©¶äº†ä¸€ä¸‹åšå®¢çš„å›¾åºŠæ€ä¹ˆä½¿ç”¨ CDNï¼Œæ‰å‘ç°åŸæ¥è®¾ç½®å¾ˆç®€å•ï¼Œä¹Ÿä¸éœ€è¦è´­ä¹°åŸŸåã€‚\nCDN åŸºæœ¬æ¦‚å¿µ # è®¾ç½® CDN ä¹‹å‰ï¼Œéœ€è¦ç†è§£å‡ ä¸ªç›¸å…³çš„ä¸“ä¸šåè¯ã€‚\næºç«™ï¼šç®€å•ç†è§£ï¼Œæºç«™å¯ä»¥ç†è§£ä¸ºæœ€åˆçš„ç«™ç‚¹ï¼Œç”±äºè¿™ä¸ªç«™ç‚¹çš„èµ„æºï¼ˆå›¾åƒï¼Œhtmlï¼Œè§†é¢‘ç­‰ï¼‰è®¿é—®ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å€ŸåŠ© CDN æ¥åŠ é€Ÿè®¿é—®ï¼Œå‡è½»æˆ–è€…æœç»å¯¹æºç«™èµ„æºçš„ç›´æ¥è®¿é—®ã€‚ç›¸å½“ CDN çš„èŠ‚ç‚¹æœåŠ¡å™¨æŠŠæºç«™çš„èµ„æ–™æ‹·è´åˆ°è‡ªå·±çš„ç¡¬ç›˜ä¸Šï¼Œå½“æœ‰ç”¨æˆ·è¯·æ±‚æŸä¸ªæ•°æ®çš„æ—¶å€™ï¼Œå®é™…ä¸Šè®¿é—®åˆ°çš„æ˜¯ CDN çš„èŠ‚ç‚¹æ‹·è´çš„æ•°æ®ã€‚\nå›æºï¼šå½“æºç«™çš„èµ„æ–™æœ‰æ›´æ–°ï¼Œæˆ–è€…è®¿é—® CDN èŠ‚ç‚¹ç¼“å­˜ä¸­ä¸å­˜åœ¨çš„æŸä¸ªèµ„æºï¼ŒCDN çš„èŠ‚ç‚¹ä¼šå‘æºç«™è¯·æ±‚æ›´æ–°çš„æ•°æ®æˆ–è€…æ–°çš„èµ„æ–™ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«å›æºã€‚CDN å¯ä»¥è®¾ç½®å›æºæ—¶é—´ï¼Œå¦‚æœæºç«™å†…å®¹æ›´æ–°é¢‘ç¹ï¼Œå›æºé¢‘ç‡å¯ä»¥é«˜ä¸€äº›ï¼Œä¿è¯èµ„æ–™å’Œæºç«™ä¸€è‡´ï¼Œå¦åˆ™ï¼Œå›æºçš„é¢‘ç‡å¯ä»¥é™ä½ï¼Œå‡å°‘å¯¹æºç«™çš„å‹åŠ›å’Œæµé‡æ¶ˆè€—ã€‚\nå›æºé‰´æƒï¼šå½“ CDN èŠ‚ç‚¹æŠŠæºç«™çš„èµ„æ–™æ‹·è´åˆ°è¯¥èŠ‚ç‚¹æ—¶ï¼Œæºç«™éœ€è¦é‰´å®šè¿™äº›èŠ‚ç‚¹æ˜¯å¦æœ‰ä»è‡ªå·±è¿™é‡Œæ‹·è´èµ„æ–™çš„é€‚å½“æƒé™ï¼Œå¦‚æœæœ‰æƒé™ï¼Œæ‰å¯ä»¥æ‹·è´èµ„æ–™ã€‚\nè…¾è®¯äº‘å­˜å‚¨å¦‚ä½•å¼€å¯ CDN # é¦–å…ˆï¼Œæ‰¾åˆ°è‡ªå·±å­˜æ”¾å›¾ç‰‡çš„äº‘å­˜å‚¨çš„å­˜å‚¨æ¡¶ï¼Œè¿›å…¥ä»¥åç‚¹å‡»ã€ŒåŸŸåç®¡ç†ã€ï¼Œä¼šå‡ºç°åŸŸåç®¡ç†çš„é¡µé¢ã€‚ç”±äºæˆ‘ä¸æƒ³è‡ªå·±ç”³è¯·åŸŸåï¼Œæ‰€ä»¥é€‰æ‹©è®¾ç½®ã€Œé»˜è®¤åŠ é€ŸåŸŸåã€ä¸€é¡¹ã€‚ã€Œé»˜è®¤åŠ é€ŸåŸŸåã€æ„æ€å°±æ˜¯ä½¿ç”¨è…¾è®¯äº‘çš„ CDN æä¾›çš„é»˜è®¤åŸŸåè®¿é—®è‡ªå·±çš„å­˜å‚¨æ¡¶é‡Œé¢çš„å›¾ç‰‡ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸éœ€è¦é¢å¤–ç”³è¯·ä¸€ä¸ªåŸŸåäº†ã€‚\nå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨è…¾è®¯äº‘çš„ CDN æœåŠ¡ï¼Œéœ€è¦åˆ° CDN çš„æ§åˆ¶å°è¿›è¡Œæ³¨å†Œï¼Œæ³¨å†Œä»¥åï¼Œå°±ä¼šå¾—åˆ°åŠ é€ŸåŸŸåï¼Œä¸‹é¢çš„ã€Œæºç«™åŸŸåã€å°±æ˜¯æ²¡æœ‰ä½¿ç”¨ CDN çš„æ—¶å€™ï¼Œè®¿é—®æˆ‘ä»¬å»ºç«‹çš„å›¾åºŠå­˜å‚¨æ¡¶æ—¶ä½¿ç”¨çš„åŸŸåã€‚è¿™ä¸¤ä¸ªåŸŸåæ¯”è¾ƒç±»ä¼¼ï¼Œåªæ˜¯æŠŠä¸­é—´çš„ä»£è¡¨å­˜å‚¨æ¡¶åŒºåŸŸçš„å­—ç¬¦æ¢æˆäº† fileï¼Œå…¶ä½™éƒ¨åˆ†å®Œå…¨ç›¸åŒã€‚åœ¨å†™åšå®¢å¼•ç”¨å›¾ç‰‡çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨æ–°çš„åŠ é€ŸåŸŸåæ¥è®¿é—®å›¾ç‰‡ã€‚å¦‚æœä¸€ä¸ªå›¾ç‰‡ä¹‹å‰çš„å®Œæ•´ URL æ˜¯ï¼š\nhttps://blog-resource-1257868508.cos.ap-hongkong.myqcloud.com/test.jpg é‚£ä¹ˆè¯¥å›¾ç‰‡æ–°çš„ URL å˜æˆäº†ï¼š\nhttps://blog-resource-1257868508.file.myqcloud.com/test.jpg ã€ŒåŠ é€Ÿåœ°åŸŸã€ç°åœ¨è¿˜ä¸èƒ½é€‰æ‹©ï¼Œåªèƒ½æ˜¯ã€Œå›½å†…åŠ é€Ÿã€ï¼Œå›½å†…åŠ é€Ÿçš„å«ä¹‰æ˜¯é€šè¿‡ CDN èŠ‚ç‚¹æ¥è®¿é—®å›¾ç‰‡æ—¶ï¼Œè¿™äº›èŠ‚ç‚¹ä½¿ç”¨çš„æœåŠ¡å™¨éƒ½æ˜¯åœ¨å›½å†…ï¼Œä¸è®ºè®¿é—®æŸä¸€å¼ åšå®¢å›¾ç‰‡çš„äººä½äºå›½å†…è¿˜æ˜¯å›½å¤–ã€‚åœ¨è¿™é‡Œï¼Œã€Œæºç«™ã€æŒ‡çš„å°±æ˜¯ä½œä¸ºå›¾åºŠçš„è¿™ä¸ªå­˜å‚¨æ¡¶ï¼Œè¿™æ˜¯å› ä¸º CDN èŠ‚ç‚¹ä¸Šçš„å›¾ç‰‡å…¶å®éƒ½æ˜¯æ¥è‡ªäºè¿™ä¸ªå­˜å‚¨æ¡¶ï¼Œæˆ–è€…å½“æˆ‘ä»¬é€šè¿‡ CDN æä¾›çš„åŸŸåè®¿é—®æŸä¸ªå›¾ç‰‡è®¿é—®ä¸åˆ°æ—¶ï¼ŒCDN ä¹Ÿä¼šå‘è¿™ä¸ªæºç«™è¯·æ±‚å›¾ç‰‡ã€‚ã€Œæºç«™ç±»å‹ã€ä¸ç”¨æ›´æ”¹ï¼Œé€‰æ‹©ã€Œé»˜è®¤æºç«™ã€è®¾ç½®å³å¯ã€‚\nå¦‚æœå­˜å‚¨æ¡¶è®¾ç½®çš„æ˜¯å…¬æœ‰è¯»ï¼Œé‚£ä¹ˆä¸‹é¢çš„ã€Œå›æºé‰´æƒã€å’Œ ã€ŒCDNé‰´æƒã€ä¸éœ€è¦å¼€å¯ï¼Œå¦åˆ™å»ºè®®å¼€å¯ã€Œå›æºé‰´æƒã€ã€‚\nä¿å­˜è¿™äº›é…ç½®ä»¥åï¼Œå°±ä¼šçœ‹åˆ°åŠ é€ŸåŸŸåæ­£åœ¨éƒ¨ç½²ï¼Œè¿‡å‡ åˆ†é’Ÿå°±ä¼šéƒ¨ç½²å®Œæ¯•ã€‚æ­¤æ—¶ï¼Œè¿›å…¥è…¾è®¯äº‘ CDN çš„åŸŸåç®¡ç†é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æ·»åŠ äº†åŠ é€ŸåŸŸåï¼š\nCDN è®¾ç½® # è…¾è®¯äº‘ CDN ä¹Ÿæä¾›äº†å¾ˆå¤šå¯¹åŸŸåçš„ç®¡ç†åŠŸèƒ½ï¼Œåœ¨ ã€ŒåŸŸåç®¡ç†ã€é¡µé¢ï¼Œç‚¹å‡»åˆšæ‰é…ç½®å¥½çš„åŸŸåï¼Œå¯ä»¥å¯¹åŸŸåé…ç½®è¿›è¡Œä¿®æ”¹ã€‚åœ¨ ã€Œè®¿é—®æ§åˆ¶ã€ä¸‹é¢ï¼Œå¯ä»¥è®¾ç½® CDN çš„é˜²ç›—é“¾åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ referç™½åå•ä¸‹å¡«ä¸Šå…è®¸è®¿é—®å›¾ç‰‡çš„åŸŸåï¼ŒåŸŸåæ ¼å¼æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸€è¡Œï¼Œä¸ç”¨åŠ  http://ï¼Œä¾‹å¦‚ï¼Œæˆ‘çš„è®¾ç½®æ˜¯ï¼š\njdhao.github.io 127.0.0.1 References # https://www.cloudflare.com/learning/cdn/what-is-a-cdn/ https://www.cloudflare.com/learning/cdn/glossary/origin-server/ å¯¹è±¡å­˜å‚¨ä½œä¸º CDN æºç«™ ä½¿ç”¨ CDN åŠ é€Ÿè®¿é—®å¯¹è±¡å­˜å‚¨ å¯¹è±¡å­˜å‚¨å¼€å¯åŸŸåç®¡ç† è…¾è®¯äº‘ CDN é˜²ç›—é“¾è®¾ç½® ","date":"16 March 2020","externalUrl":null,"permalink":"/2020/03/16/tencent_cos_cdn_setup/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ä¸»è¦åˆ†äº«è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨å¼€å¯ CDN çš„æ–¹æ³•ï¼Œä¸éœ€è¦è´­ä¹°é¢å¤–çš„åŸŸåã€‚\u003c/p\u003e","title":"è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨åšå®¢å›¾åºŠå¼€å¯ CDN åŠ é€Ÿ(ä¸éœ€è¦è´­ä¹°é¢å¤–åŸŸå)","type":"posts"},{"content":"In Sublime-Text and other editors, we can press Ctrl-Shift-F to invoke the search and replace UI. We can also accomplish this task easily in Vim or Neovim with the built-in features. Here is how.\nThere are two steps involved in this task. The first step is to find the files containing the search pattern under the current project or directory. The second step is to perform replacement for each file found in 1st step.\nDepending on which Vim command to use, there are basically two ways to do this task. For illustrating purposes, we will try to replace all Neovim occurrences in my nvim config repo to Nvim.\nUse vimgrep or grep with cfdo # We can use vimgrep or grep command to populate the Vim quickfix list with files matching our specific pattern. The cfdo command can then be utilized to perform replacement operation for each file in the quickfix list1.\nThe difference between vimgrep and grep command is that vimgrep is internal and provided by Vim, while grep command uses external programs to search files depending on the platform (see :h grepprg).\nvimgrep # To find all files containing Neovim under current directory using vimgrep, we can use the following the command:\n:vimgrep /Neovim/gj **/* In the above command, Neovim is our search pattern. The meanings of g and j flags are as follows:\ng: Add all matches in a line to the quickfix list. j: Do not jump the cursor to the location of first pattern match. The **/* specify the files to search for the pattern. In this case, it means to search recursively under the current directory and for all files types2. You can also search only in certain files types, for example, in Vim script:\n:vimgrep /Neovim/gj **/*.vim After this step, the quickfix will be populated with the matching files, lines and column number (use copen to open the quickfix list):\ngrep # If we use grep command, it is often useful to specify the external grep program that we want to use via the grepprg option. For this, I highly recommend ripgrep, which is one of the fastest command line search tools. We need to add the following settings to Neovim or Vim config:\nset grepprg=rg\\ --vimgrep\\ --no-heading\\ --smart-case set grepformat=%f:%l:%c:%m To search Neovim under current directory using grep, just use grep Neovim.\ncfdo # After the quickfix list is filled with files containing the search pattern, we now use cfdo command to perform replace operation on each file:\n:cfdo %s/Neovim/Nvim/ge | update The cfdo command can be followed by one command or a series of commands (separated by |). In the above example, we first perform substitution, then followed by update command so that the replacement change is saved.\nUse args and argdo # Another way to perform search and replace is to use args and argdo command. The args command is used to build a list of files that we would like to perform an action. argdo command is then used to perform this action on each file in the argument list.\nTo add files to the argument list, we can use external tools like grep or ripgrep to search files with backtick. For example:\n:args `grep Neovim -l -r .` or\n:args `rg Neovim -l` One issue with backtick is that it does not work on Windows. You can only use the above command on Linux or macOS.\nAfter adding all files containing the pattern to argument list, we then use argdo to perform replacement (works similarly to cfdo command):\n:argdo %s/Neovim/Nvim/ge | update References # Search and replace all files in current folder. set up grepprg for ripgrep. https://gabri.me/blog/multiple-files-search-and-replace-in-vim https://chrisarcand.com/vims-new-cdo-command/ https://thoughtbot.com/blog/lists-vim-and-you Ripgrep cheatsheet. http://vimcasts.org/episodes/using-argdo-to-change-multiple-files/ The cfdo command was added in Vim 7.4.858. Your Vim version should be newer than that.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor more info on the glob pattern, see :h starstar-wildcard inside Vim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 March 2020","externalUrl":null,"permalink":"/2020/03/14/nvim_search_replace_multiple_file/","section":"Posts","summary":"In Sublime-Text and other editors, we can press Ctrl-Shift-F to invoke the search and replace UI. We can also accomplish this task easily in Vim or Neovim with the built-in features. Here is how.\nThere are two steps involved in this task. The first step is to find the files containing the search pattern under the current project or directory. The second step is to perform replacement for each file found in 1st step.","title":"Search and Replace in Multiple Files in Vim/Neovim","type":"posts"},{"content":"When we create tables in LaTeX, the table column width will be automatically decided based on the content in the table cell. Sometimes, maybe we are not satisfied with the default column width and want to customize the column width. In this post, we will explain how to it in LaTeX.\nOur initial table is like the following:\nThe code to produce this table is:\nClick to show the code. \\documentclass{article} \\usepackage{booktabs} \\usepackage{multirow} \\begin{document} \\begin{table}[t] \\centering \\begin{tabular}{llll} \\toprule \\multirow{2}{*}{Country} \u0026amp; \\multicolumn{2}{c}{GDP} \u0026amp; Change \\\\ \\cmidrule{2-3} \\\\ {} \u0026amp; 2010 \u0026amp; 2015 \u0026amp; {} \\\\ \\midrule United States \u0026amp; 14964.400 \u0026amp; 18036.650 \u0026amp; 20.53\\% \\\\ China \u0026amp; 5812.464 \u0026amp; 11226.186 \u0026amp; 93.14\\% \\\\ Japan \u0026amp; 5793.455 \u0026amp; 4382.420 \u0026amp; -24.36\\% \\\\ Germany \u0026amp; 3309.668 \u0026amp; 3365.293 \u0026amp; 1.68\\% \\\\ United Kingdom \u0026amp; 2246.079 \u0026amp; 2863.304 \u0026amp; 27.48\\% \\\\ \\bottomrule \\end{tabular} \\end{table} \\end{document} Column type with width parameter # Column width of the produced table is small. To control the column width, we need to use another three column types p, m, b:\nColumn type Description p{width} Create fixed width column with top alignment m{width} Create fixed width column with middle alignment b{width} Create fixed width column with bottom alignment The width parameter can be absolute value, like 2cm, 20pt etc. It can also be a relative value, e.g., 0.2\\textwidth. Using relative width is preferred since the table width are often measured relative to \\textwidth.\nTable cell horizontal alignment # The above three column types only specify the vertical alignment of table column cell. To specify the horizontal alignment of table cell, we need to use the following three command provided by the array package:\nAlignment Description \\centering Center alignment \\raggedright Left alignment \\raggedleft Right alignment To add the alignment command to each cell, thus adjusting the column cell horizontal alignment, we use the following syntax before the table column type declaration:\n\u0026gt;{some_command} This will ensure that some_command is inserted before every column cell content.\nTable with wider column and custom alignment # To use bigger column width and center alignment in first and last column in the above table, we can use the following code:\nClick to show the code. \\documentclass{article} \\usepackage{booktabs} \\usepackage{multirow} \\usepackage{array} \\begin{document} \\begin{table}[t] \\centering \\begin{tabular}{\u0026gt;{\\centering}p{0.25\\textwidth}p{0.2\\textwidth}p{0.2\\textwidth}\u0026gt;{\\centering\\arraybackslash}p{0.15\\textwidth}} \\toprule \\multirow{2}{*}{Country} \u0026amp; \\multicolumn{2}{c}{GDP} \u0026amp; Change \\\\ \\cmidrule{2-3} \\\\ {} \u0026amp; 2010 \u0026amp; 2015 \u0026amp; {} \\\\ \\midrule United States \u0026amp; 14964.400 \u0026amp; 18036.650 \u0026amp; 20.53\\% \\\\ China \u0026amp; 5812.464 \u0026amp; 11226.186 \u0026amp; 93.14\\% \\\\ Japan \u0026amp; 5793.455 \u0026amp; 4382.420 \u0026amp; -24.36\\% \\\\ Germany \u0026amp; 3309.668 \u0026amp; 3365.293 \u0026amp; 1.68\\% \\\\ United Kingdom \u0026amp; 2246.079 \u0026amp; 2863.304 \u0026amp; 27.48\\% \\\\ \\bottomrule \\end{tabular} \\end{table} \\end{document} For table cells where the horizontal alignment is not explictly defined, the default is left alignment. Note that if you want to change the alignment of last column, the \\arraybackslash command must also be supplied, or you will encounter errors when compiling the LaTeX source code:\nExtra alignment tab has been changed to \\cr.\nThe reason of this error can be found here if you are interested.\nThe created table will be like the following:\nDefining new column types to simplify things # Writing column width and alignment in the tabular column type option is rather lengthy and error-prone. We can define new column types and use them in the column type option to simplify things.\nThe \\newcolumntype command from array package is used to define new column types, for example:\n\\newcolumntype{A}{\u0026gt;{\\centering}p{0.25\\textwidth}} Using this command, our code now becomes more concise and readable:\nClick to show the code. \\documentclass{article} \\usepackage{booktabs} \\usepackage{multirow} \\usepackage{array} \\begin{document} \\newcolumntype{A}{\u0026gt;{\\centering}p{0.25\\textwidth}} \\newcolumntype{B}{p{0.2\\textwidth}} \\newcolumntype{C}{\u0026gt;{\\centering\\arraybackslash}p{0.15\\textwidth}} \\begin{table}[t] \\centering \\begin{tabular}{ABBC} \\toprule \\multirow{2}{*}{Country} \u0026amp; \\multicolumn{2}{c}{GDP} \u0026amp; Change \\\\ \\cmidrule{2-3} \\\\ {} \u0026amp; 2010 \u0026amp; 2015 \u0026amp; {} \\\\ \\midrule United States \u0026amp; 14964.400 \u0026amp; 18036.650 \u0026amp; 20.53\\% \\\\ China \u0026amp; 5812.464 \u0026amp; 11226.186 \u0026amp; 93.14\\% \\\\ Japan \u0026amp; 5793.455 \u0026amp; 4382.420 \u0026amp; -24.36\\% \\\\ Germany \u0026amp; 3309.668 \u0026amp; 3365.293 \u0026amp; 1.68\\% \\\\ United Kingdom \u0026amp; 2246.079 \u0026amp; 2863.304 \u0026amp; 27.48\\% \\\\ \\bottomrule \\end{tabular} \\end{table} \\end{document} References # Control column width. World GDP data. \\newcolumntype usage. ","date":"8 March 2020","externalUrl":null,"permalink":"/2020/03/08/change_table_column_width_latex/","section":"Posts","summary":"\u003cp\u003eWhen we \u003ca href=\"https://jdhao.github.io/2019/08/27/latex_table_with_booktabs/\" target=\"_blank\"\u003ecreate tables in LaTeX\u003c/a\u003e,\nthe table column width will be automatically decided based on the content in\nthe table cell. Sometimes, maybe we are not satisfied with the default column\nwidth and want to customize the column width. In this post, we will explain how\nto it in LaTeX.\u003c/p\u003e","title":"Change Table Column Width in LaTeX","type":"posts"},{"content":"When we are writing articles using LaTeX, we often need to create side-by-side images or tables. In this post, I summarize several methods to achieve that.\nWhen we want to show images or tables side by side, we may have different requirements. In some situation, we want to combine the images or tables to illustrate a bigger idea or something. Each sub-image or sub-table has its own caption and label, and the whole image or table also has its own caption and label. Other times, we just want to display images or tables side by side to save space. These images or tables are not subpart of a whole image or table, i.e., there are independent1.\nTo display image or table side by side. There are several ways:\nIf the images or tables are sub-image or sub-tables: use subcaption or subfig package. If the images or tables are independent: use minipage environment. Images or tables not independent # Use subcaption # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subcaption} \\usepackage[capitalize]{cleveref} \\begin{document} In~\\cref{fig:test}, we show two images: \\cref{fig:sub1} and \\cref{fig:sub2}. \\begin{figure}[h] \\centering \\begin{subfigure}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} \\end{subfigure}% \\begin{subfigure}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} \\end{subfigure} \\caption{Two cats.} \\label{fig:test} \\end{figure} \\end{document} Use subfig # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} In~\\cref{fig:test}, we show two images: \\cref{fig:sub1} and \\cref{fig:sub2}. \\begin{figure}[h] \\centering \\subfloat[caption for figure1a]{ \\includegraphics[width=0.4\\linewidth]{cat1.jpeg} \\label{fig:sub1} } \\subfloat[caption for figure1b]{ \\includegraphics[width=0.4\\linewidth]{cat2.jpeg} \\label{fig:sub2} } \\caption{A figure with two subfigure} \\label{fig:test} \\end{figure} \\end{document} In the following code, the generated caption is below the image. If you want to put the caption above the image, you need to change an option when importing the subfig package:\n\\usepackage[position=top]{subfig} The caption position of the whole image depends on where you put it.\nThe above two code snippets are images. For tables, the subcaption package provides the subtable environment; for subfig package, you can still use \\subfloat command. Change other code based on the tables, and you should be fine.\nImages or tables are not independent # If you want to display images or tables side by side, but they are independent, you can use the minipage environment or use parbox (only works partially).\nUse minipage # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} We show two images \\cref{fig:sub1} and \\cref{fig:sub2} below. \\begin{figure}[h] \\centering \\begin{minipage}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} \\end{minipage}% \\begin{minipage}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} \\end{minipage} \\end{figure} \\end{document} The code above is easy to understand. The only thing we should notice is the % character between the two minipage environments. This % character is indispensable, which means that the two minipage environment are close to each other and no space is allowed between them. If there is not %, the images will be displayed in one above the other, not side by side.\nLet\u0026rsquo;s take another example to illustrate the use of %. Suppose we have a word and we write it in two separte line, but we do not want to have space between the two parts. If % is not used, there will be space between the two parts. Otherwise, the space will disappear.\nimpre ssive impre% ssive Use parbox # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} We show two images \\cref{fig:sub1} and \\cref{fig:sub2} below. \\begin{figure}[h] \\parbox{0.5\\textwidth}{ \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} } \\parbox{0.5\\textwidth}{ \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} } \\end{figure} \\end{document} The parbox command has a drawback: if two images have captions of unequal length or have unequal size, the two iamges will not be aligned properly. So parbox is not a good choice.\nThe above two code snippets are for figures. If you need to deal with tables, change the code related to figures and replace them with the table-related code, you should be fine.\nReferences # The use of minipage and subcaption. Minipage and the use of %. The use % sign. Figures side by side. Introduction to minipage. An introduction to subfig and subcaption package with code. The use of parbox. When you refer to these images or tables, the indexes are not shown as 1a, 1b, 1c, but are independent numbers.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"7 March 2020","externalUrl":null,"permalink":"/2020/03/07/latex_figure_table_side_by_side_en/","section":"Posts","summary":"\u003cp\u003eWhen we are writing articles using LaTeX, we often need to create side-by-side images or tables. In this post,\nI summarize several methods to achieve that.\u003c/p\u003e","title":"Image or Table Side by Side in LaTeX","type":"posts"},{"content":"ä½¿ç”¨ LaTeX å†™æ–‡ç« çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦å¹¶æ’æ˜¾ç¤ºå›¾ç‰‡æˆ–è€…è¡¨æ ¼ï¼Œæœ¬æ–‡æ€»ç»“å‡ ç§å®ç°æ–¹æ³•ã€‚\nå½“æˆ‘ä»¬æŠŠè¡¨æ ¼æˆ–è€…å›¾ç‰‡å¹¶æ˜¾ç¤ºæ—¶ï¼Œæˆ‘ä»¬åœ¨ä¸åŒæ—¶å€™éœ€æ±‚æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬è¦æ±‚å‡ å¼ å›¾ç‰‡æˆ–è€…è¡¨æ ¼æ˜¯ä¸€ä¸ªæ•´ä½“çš„ä¸€éƒ¨åˆ†ï¼Œè¿™äº›å°å›¾ç‰‡æˆ–è€…è¡¨æ ¼è¦æœ‰è‡ªå·±çš„ caption ä»¥åŠ labelï¼›å¦å¤–çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å¹¶åˆ—å›¾ç‰‡æˆ–è€…è¡¨æ ¼æ¥èŠ‚çœç©ºé—´ï¼Œæˆ–è€…äº§ç”Ÿå¯¹æ¯”ï¼Œè¿™äº›å›¾ç‰‡æˆ–è€…è¡¨æ ¼å¹¶ä¸æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè€Œæ˜¯æ¯«æ— å…³ç³»ï¼Œç›¸äº’ä¹‹é—´ç‹¬ç«‹çš„ï¼ˆindependentï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›å›¾ç‰‡(è¡¨æ ¼)æœ‰è‡ªå·±çš„ caption å’Œ labelï¼Œå¹¶ä¸”è¿™äº› label æ˜¯ç‹¬ç«‹çš„ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå°±æ˜¯è¿™äº›å›¾ç‰‡åœ¨å¼•ç”¨æ—¶å€™ï¼Œä¸æ˜¯ä»¥ 1a, 1b, 1c è¿™ç§å½¢å¼å‘ˆç°çš„ï¼Œè€Œæ˜¯å•ç‹¬çš„æ•°å­—ç¼–å·.\nå¯¹äºå›¾åƒï¼Œå¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ LaTeX è‡ªå¸¦çš„ minipage ç¯å¢ƒï¼Œå¦å¤–ä¸€ç§å€ŸåŠ©äº subcaption è¿™ä¸ªåº“ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ subfig è¿™ä¸ªåº“ã€‚ å¦‚æœæƒ³è¦å›¾ç‰‡æˆ–è€…è¡¨æ ¼æ‹¥æœ‰è‡ªå·±çš„ caption è·Ÿ labelï¼Œå¹¶ä¸”æ•´ä½“è¿˜æœ‰ä¸€ä¸ª caption å’Œ labelï¼Œå¯ä»¥ä½¿ç”¨ subcaption ä¸ subfig è¿™ä¸¤ä¸ªåº“ã€‚\nå›¾ç‰‡æˆ–è¡¨æ ¼ä¸ç›¸äº’ç‹¬ç«‹ # ä½¿ç”¨ subcaption çš„å†™æ³• # Click to view the code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subcaption} \\usepackage[capitalize]{cleveref} \\begin{document} In~\\cref{fig:test}, we show two images: \\cref{fig:sub1} and \\cref{fig:sub2}. \\begin{figure}[h] \\centering \\begin{subfigure}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} \\end{subfigure}% \\begin{subfigure}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} \\end{subfigure} \\caption{Two cats.} \\label{fig:test} \\end{figure} \\end{document} ä½¿ç”¨ subfig çš„å†™æ³• # Click to view the code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} In~\\cref{fig:test}, we show two images: \\cref{fig:sub1} and \\cref{fig:sub2}. \\begin{figure}[h] \\centering \\subfloat[caption for figure1a]{ \\includegraphics[width=0.4\\linewidth]{cat1.jpeg} \\label{fig:sub1} } \\subfloat[caption for figure1b]{ \\includegraphics[width=0.4\\linewidth]{cat2.jpeg} \\label{fig:sub2} } \\caption{A figure with two subfigure} \\label{fig:test} \\end{figure} \\end{document} ä¸Šè¿°ä»£ç ï¼Œå­å›¾çš„ caption é»˜è®¤éƒ½æ˜¯åœ¨å›¾ç‰‡ä¸‹é¢ï¼Œå¦‚æœæƒ³è¦è®©å­å›¾çš„ caption åœ¨å›¾ç‰‡ä¸Šé¢ï¼Œéœ€è¦åœ¨æ·»åŠ  subfig åº“çš„æ—¶å€™åŠ ä¸Šä¸€äº›é€‰é¡¹ï¼Œ\\usepackage[position=top]{subfig}, æ€»çš„å›¾ç‰‡çš„ caption ä½ç½®åˆ™è§† caption æ”¾ç½®ä½ç½®è€Œå®šã€‚\nä¸Šè¿°ä¸¤æ®µä»£ç éƒ½æ˜¯é’ˆå¯¹å›¾åƒçš„ï¼Œå¯¹äºè¡¨æ ¼ï¼Œsubcaption æä¾›çš„æ˜¯ subtable ç¯å¢ƒï¼Œsubfig ä»ç„¶ä½¿ç”¨ \\subfloat å‘½ä»¤ï¼Œå…¶ä»–çš„ä»£ç é’ˆå¯¹ table åšä¸€ä¸ªå°ä¿®æ”¹å°±å¯ä»¥äº†ï¼ŒåŸºæœ¬ä¸å˜ã€‚\nå›¾ç‰‡æˆ–è¡¨æ ¼ç›¸äº’ç‹¬ç«‹ # å¦‚æœæƒ³è¦å„ä¸ªå›¾ç‰‡æˆ–è¡¨æ ¼åªæ˜¯å¹¶åˆ—ï¼Œç›¸äº’ä¹‹é—´ç‹¬ç«‹ï¼Œå¯ä»¥ä½¿ç”¨ minipage ç¯å¢ƒï¼Œæˆ–è€…ä½¿ç”¨ parbox ä¹Ÿå¯ä»¥éƒ¨åˆ†è¾¾æˆè¿™ç§ç›®çš„ï¼Œ\nä½¿ç”¨minipageçš„å†™æ³•ï¼Œ # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} We show two images \\cref{fig:sub1} and \\cref{fig:sub2} below. \\begin{figure}[h] \\centering \\begin{minipage}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} \\end{minipage}% \\begin{minipage}[t]{.5\\textwidth} \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} \\end{minipage} \\end{figure} \\end{document} ä¸Šé¢çš„æºä»£ç å¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œä¸ç”¨å¤ªå¤šè§£é‡Šï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ç¬¬ä¸€ä¸ª minipage ç¯å¢ƒç»“æŸåçš„ç™¾åˆ†å·,è¿™ä¸ªç™¾åˆ†å·æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œç™¾åˆ†å·çš„æ„æ€å°±æ˜¯ä¸¤ä¸ª minipage ç¯å¢ƒä¹‹é—´ä¸è¦æœ‰ç©ºéš™ï¼Œç´§å¯†ç›¸è¿ï¼Œå¦‚æœæ²¡æœ‰ç™¾åˆ†å·ï¼Œç¼–è¯‘ä»¥åçš„æ–‡æ¡£ä¸­ï¼Œä¸¤ä¸ªå›¾ç‰‡æ˜¯ä¸Šä¸‹æ’æ”¾çš„ï¼Œå¹¶ä¸æ˜¯å·¦å³å¹¶åˆ—ã€‚\nå¯¹ç™¾åˆ†å·å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œè­¬å¦‚æœ‰ä¸€ä¸ªå•è¯ï¼Œéœ€è¦åˆ†å¼€ä¸Šä¸‹ä¸¤è¡Œï¼Œä½†æ˜¯ä¸å¸Œæœ›éš”æ–­ï¼Œå¦‚æœä¸åŠ ç™¾åˆ†å·ï¼Œä¸¤éƒ¨åˆ†ä¸­é—´ä¼šæœ‰ä¸€ä¸ªç©ºæ ¼ï¼ŒåŠ ç™¾åˆ†å·å°±ä¸ä¼šæœ‰è¿™ç§ç°è±¡äº†ã€‚\nimpre ssive impre% ssive å¯ä»¥çœ‹åˆ°ï¼Œç©ºæ ¼ä¸è§äº†ï¼Œè¿™å°±æ˜¯ç™¾åˆ†å·çš„ä½œç”¨ã€‚\nä½¿ç”¨parboxçš„å†™æ³• # Click here to view code. \\documentclass{article} \\usepackage{graphicx} \\usepackage{subfig} \\usepackage[capitalize]{cleveref} \\begin{document} We show two images \\cref{fig:sub1} and \\cref{fig:sub2} below. \\begin{figure}[h] \\parbox{0.5\\textwidth}{ \\centering \\includegraphics[width=0.9\\linewidth]{cat1.jpeg} \\caption{caption 1} \\label{fig:sub1} } \\parbox{0.5\\textwidth}{ \\centering \\includegraphics[width=0.9\\linewidth]{cat2.jpeg} \\caption{caption 2} \\label{fig:sub2} } \\end{figure} \\end{document} ä½†æ˜¯ parbox æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå¦‚æœä¸¤ä¸ªå›¾ç‰‡çš„ caption çš„æ–‡æœ¬æ•°é‡ä¸ä¸€æ ·æˆ–è€…ä¸¤ä¸ªå›¾ç‰‡å¤§å°ä¸ä¸€è‡´ï¼Œä¸èƒ½ä¸Šç«¯å¯¹é½æˆ–è€…ä¸‹ç«¯å¯¹é½ï¼Œå› è€Œ parbox å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰é¡¹ï¼Œå¹¶ä¸æ¨èã€‚\nä¸Šè¿°çš„ä¸¤æ®µä»£ç éƒ½æ˜¯é’ˆå¯¹ figure çš„ï¼Œå¦‚æœè¦å¹¶æ’ tableï¼Œæ”¹å˜è·Ÿ figure æœ‰å…³çš„ä»£ç ï¼Œæ¢æˆ table ç›¸å…³çš„å°±å¯ä»¥äº†ï¼Œä¸å†èµ˜è¨€ã€‚\nå‚è€ƒèµ„æ–™ # è®²åˆ°äº† minipage ä¸ subcaption çš„ç”¨æ³•. minipage ç¯å¢ƒï¼Œå¯¹ç™¾åˆ†å·ç‰¹æ„è¯´æ˜äº†. ç™¾åˆ†å·çš„ç”¨æ³•. stackexchange é‡Œé¢çš„é—®ç­”ï¼Œå‚è€ƒæœ€é«˜ç¥¨å›ç­”. minipage ç¯å¢ƒçš„ä¸€ä¸ªè¯¦ç»†ä»‹ç». å¯¹ subfig ä¸ sucaption ç¯å¢ƒçš„ä¸€ä¸ªä»‹ç»ï¼Œå¹¶ä¸”å«æœ‰ä»£ç . æåˆ°äº†ä½¿ç”¨ parbox. ","date":"7 March 2020","externalUrl":null,"permalink":"/2020/03/07/latex_figure_table_side_by_side_zh/","section":"Posts","summary":"\u003cp\u003eä½¿ç”¨ LaTeX å†™æ–‡ç« çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦å¹¶æ’æ˜¾ç¤ºå›¾ç‰‡æˆ–è€…è¡¨æ ¼ï¼Œæœ¬æ–‡æ€»ç»“å‡ ç§å®ç°æ–¹æ³•ã€‚\u003c/p\u003e","title":"LaTeX å¹¶æ’æ˜¾ç¤ºå›¾åƒæˆ–è¡¨æ ¼","type":"posts"},{"content":"Some useful tips on writing papers in LaTeX.\nUse package cleveref for easier reference. # If you use the LaTeX built-in command \\ref{} to refer to a table or image, it will only give you the index of referred object. You have to manually type ref type, i.e., Fig. or Table. The package cleveref will help you to insert the reference type automatically. It provides the \\cref (used inside a sentence) and \\Cref (used at the beginning of sentence) command to refer to an object easily. \\cref can also be used to refer to multiple labels like this:\n% no space allowed between different labels \\cref{label1,label2,label3} Add the following setting to your header in order to use cleveref:\n\\usepackage[capitalise]{cleveref} % for cleveref \\newcommand{\\crefrangeconjunction}{--} In the above command, we modify the \\crefrangeconjunction to --, since the default is to use to between a range of references.\nUse punctuations after equations. # Usually we will show some equations in the paper to show the formal formulation. Equations are like text and should be given proper punctuation. If it is in the middle of an sentence, use a comma. If it is in the end of a sentence, use a period. For example,\nEinstein propose the famous matter-energy equation: \\begin{equation} E = mc^{2}. \\end{equation} How to reduce lines # You should use the microtype package. It can help to adjust the word spacing to reduce the lines taken. You will often see less underfull or overfull hbox warning after using this package.\nYou shouldn\u0026rsquo;t add blank lines before and after the display style equations if the text before and after the equation belong to the same paragraph. This will also help to reduce space.\nReferences # Punctutation: https://tex.stackexchange.com/q/7542/114857 https://tex.stackexchange.com/q/32853/114857 https://mathoverflow.net/questions/6675/periods-and-commas-in-mathematical-writing microtype: https://tex.stackexchange.com/questions/66052/should-i-load-microtype-with-pdflatex http://texblog.net/latex-archive/latex-general/pdflatex-microtype/ http://www.khirevich.com/latex/microtype/ https://docs.google.com/document/d/1zXXtti9JgcTERvIZXNwSRncw2T1dUC8dt6PJlYSH-2g/edit#heading=h.zf43ulrlas66 ","date":"6 March 2020","externalUrl":null,"permalink":"/2020/03/06/latex_writing_tips_s2/","section":"Posts","summary":"\u003cp\u003eSome useful tips on writing papers in LaTeX.\u003c/p\u003e","title":"Tips on Writing Papers in LaTeX","type":"posts"},{"content":"Suppose that we have a straight line formed by point B and C, and we have another point A. What is the distance from point A to line BC?\nThere are various ways to calculate this distance. Using vector calculus is one of the easiest ways to do it.\nFrom elementary math, we know that distance from A to line BC is the distance between point A and D, where D is a point in line BC and line AD is perpendicular to line BC.\nSo the problem really boils down to finding the distance between between point A and D. That is, we need to find the value of following equations:\n\\[\\begin{equation} \\Vert \\overrightarrow{AD} \\Vert = \\sqrt{(D_x - A_x)^2 + (D_y - A_y)^2} \\end{equation}\\]\nSince point D is in line BC, so vector \\(\\overrightarrow{BD}\\) and vector \\(\\overrightarrow{DC}\\) is parallel to each other, i.e., \\(\\overrightarrow{BD} = t\\cdot \\overrightarrow{DC}\\). We also know that \\(\\overrightarrow{AD}\\) is perpendicular to \\(\\overrightarrow{BC}\\). From these two conditions, we have the following two equations:\n\\[\\begin{gather} \\frac{D_x - B_x}{C_x - D_x} = \\frac{D_y - B_y}{C_y - D_y} \\label{eq2} \\\\ (D_x - A_x)(C_x - B_x) + (D_y - A_y)(C_y - B_y) = 0 \\label{eq3} \\end{gather}\\]\nSimplifying \\(\\eqref{eq2}\\), we get:\n\\[\\begin{equation} (D_x - B_x)(C_y - D_y) - (D_y - B_y)(C_x - D_x) = 0 \\label{eq4} \\end{equation}\\]\nTransforming \\(\\eqref{eq4}\\) a bit, and we get:\n\\[\\begin{equation} \\begin{split} [(D_x - A_x) + (A_x - B_x)][(A_y - D_y) + (C_y - A_y)] -\\\\ [(D_y-A_y) + (A_y-B_y)][(A_x-D_x) + (C_x - A_x)] = 0 \\end{split}\\label{eq5} \\end{equation}\\]\nNow, to simplify calculation, we use the following substitution:\n\\[\\begin{align} D_x - A_x \u0026amp;= m \\label{eq6} \\\\ D_y - A_y \u0026amp;= n \\label{eq7} \\end{align}\\]\nSubstitute m and n into equation \\(\\eqref{eq3}\\) and \\(\\eqref{eq5}\\), and simplifying a bit, we now get:\n\\[\\begin{gather} m(C_x-B_x) + n(C_y-B_y) = 0 \\label{eq8} \\\\ m(C_y-B_y) - n(C_x - B_x) = (A_y - B_y)(C_x-A_x) - (A_x - B_x)(C_y-A_y) \\label{eq9} \\end{gather}\\]\nFrom equation \\(\\eqref{eq8}\\) and \\(\\eqref{eq9}\\), it it now easy to derive the value of \\(m\\) and \\(n\\):\n\\[\\begin{align} m \u0026amp;= - \\frac{(C_y - B_y)[A_y(B_x - C_x) - B_y(A_x - C_x) + C_y(A_x - B_x)]}{(C_x - B_x)^2 + (C_y - B_y)^2}\\\\ n \u0026amp;= \\frac{(C_x - B_x)[A_y(B_x - C_x) - B_y(A_x - C_x) + C_y(A_x - B_x)]}{(C_x - B_x)^2 + (C_y - B_y)^2}\\\\ \\end{align}\\]\nSo the square sum of \\(m\\) and \\(n\\) is:\n\\[\\begin{equation} m^2 + n^2 = \\frac{[A_y(B_x - C_x) - B_y(A_x - C_x), + C_y(A_x - B_x)]^2}{(C_x - B_x)^2 + (C_y - B_y)^2} \\end{equation}\\]\nThe norm of vector \\(\\overrightarrow{AD}\\) is:\n\\[\\begin{equation} \\Vert \\overrightarrow{AD} \\Vert = \\frac{\\lVert A_y(B_x - C_x) - B_y(A_x - C_x), + C_y(A_x - B_x)\\rVert}{\\sqrt{(C_x - B_x)^2 + (C_y - B_y)^2}} \\end{equation}\\]\nIn the above equation, the denominator is the norm of vector \\(\\overrightarrow{BC}\\), the nominator is the norm of cross product between \\(\\overrightarrow{BC}\\) and \\(\\overrightarrow{BA}\\).\nSo the distance from point A to line BC can also be written as\n\\[\\begin{equation} \\lVert \\overrightarrow{AD} \\rVert = \\frac{\\lVert \\overrightarrow{BC} \\times \\overrightarrow{BA} \\rVert}{\\lVert \\overrightarrow{BC} \\rVert} \\end{equation}\\]\nReferences https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line https://stackoverflow.com/q/39840030/6064933 https://math.stackexchange.com/questions/330269/the-distance-from-a-point-to-a-line-segment ","date":"23 February 2020","externalUrl":null,"permalink":"/2020/02/23/point_to_line_dist_2d/","section":"Posts","summary":"\u003cp\u003eSuppose that we have a straight line formed by point B and C, and we\nhave another point A. What is the distance from point A to line BC?\u003c/p\u003e","title":"Point to Line Distance in 2D Plane","type":"posts"},{"content":"","date":"22 February 2020","externalUrl":null,"permalink":"/tags/encoding/","section":"Tags","summary":"","title":"Encoding","type":"tags"},{"content":"","date":"22 February 2020","externalUrl":null,"permalink":"/tags/matplotlib/","section":"Tags","summary":"","title":"Matplotlib","type":"tags"},{"content":"","date":"22 February 2020","externalUrl":null,"permalink":"/tags/python/","section":"Tags","summary":"","title":"Python","type":"tags"},{"content":"æ³¨ï¼šè¿™æ˜¯ä¸€ç¯‡æ—§æ–‡çš„ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ã€‚\nå‰ä¸ä¹…ï¼Œæˆ‘åœ¨ä½¿ç”¨ Matplotlib ç”»å›¾çš„æ—¶å€™ï¼Œå‘ç°ä¸€äº› Unicode å­—ç¬¦(ä¾‹å¦‚ï¼Œæ±‰å­—) æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼šåœ¨ç”Ÿæˆçš„å›¾ç‰‡ä¸­ï¼Œæ±‰å­—æ˜¯ä¹±ç çš„ï¼Œæ˜¾ç¤ºä¸ºä¸€ä¸ªæ–¹æ¡†ã€‚ç»è¿‡å¤§é‡çš„æŸ¥æ‰¾å’Œé˜…è¯»ï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†å¦‚ä½•åœ¨ä½¿ç”¨ Matplotlib æ—¶ï¼Œæ­£ç¡®æ¸²æŸ“ Unicode å­—ç¬¦1ã€‚\nç®€å•æ¥è¯´ï¼Œä¹‹æ‰€ä»¥ä¸­æ–‡å­—ç¬¦è¢«æ˜¾ç¤ºä¸ºæ–¹æ¡†ï¼Œæ˜¯å› ä¸º Matplotlib é»˜è®¤ä½¿ç”¨çš„å­—ä½“å¹¶ä¸æ”¯æŒä¸­æ–‡å­—ç¬¦ï¼Œå¹¶ä¸æ˜¯ Matplotlib æœ¬èº«çš„åŸå› ã€‚ä¸ºäº†èƒ½å¤Ÿåœ¨å›¾ç‰‡ä¸Šæ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡ç¤º Matplotlib ä½¿ç”¨ä¸€ç§æ”¯æŒä¸­æ–‡çš„å­—ä½“å³å¯ã€‚æˆ–è€…ï¼Œæ›´ç›´æ¥åœ°ï¼Œæˆ‘ä»¬åœ¨ç”»å›¾æ—¶å¯ä»¥ç›´æ¥ç»™ Matplotlib æä¾›ä¸€ä¸ªä¸­æ–‡å­—ä½“çš„è·¯å¾„ã€‚\næœ¬æ–‡å‡è®¾ fc-list å‘½ä»¤å®‰è£…åœ¨ä½ çš„ç”µè„‘ä¸Šã€‚å¦‚æœä½ çš„ç”µè„‘ä¸Šæ²¡æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œä½ åº”è¯¥å…ˆå®‰è£… fontconfigã€‚åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œè¿™ä¸ªç¨‹åºé€šå¸¸æ˜¯è‡ªå¸¦çš„ï¼Œæ— éœ€å®‰è£…ï¼›åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œå¯ä»¥å®‰è£… MiKTeX æˆ– TeX Live æ¥ä½¿ç”¨ fc-list å‘½ä»¤ã€‚\nä»¥ä¸‹ä»‹ç»å‡ ç§åœ¨ Matplotlib ä¸­ä½¿ç”¨ä¸­æ–‡å­—ç¬¦çš„ä¸åŒæ–¹å¼ã€‚\næŒ‡å®šä¸­æ–‡å­—ä½“åç§° # ç¬¬ä¸€ç§ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼æ˜¯ç»™ Matplotlib æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„ä¸­æ–‡å­—ä½“åã€‚å†å¼€å§‹ä¸‹é¢æ­¥éª¤ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿä¸Šå·²ç»å®‰è£…äº†ä¸­æ–‡å­—ä½“ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸­æ–‡ç³»ç»Ÿï¼Œè¿™åº”è¯¥ä¸æ˜¯é—®é¢˜ï¼›æˆ–è€…å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ç§æ–°çš„ä¸­æ–‡å­—ä½“ï¼Œå¯ä»¥å°è¯• Google å’Œ Adobe å‘å¸ƒçš„ Source Han Serifã€‚é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ç³»ç»Ÿä¸Šå®‰è£…ä¸­æ–‡å­—ä½“2ã€‚\næ‰¾åˆ°æœ‰æ•ˆçš„ä¸­æ–‡å­—ä½“å # Matplotlib æä¾›äº†FontManager ç±»æ¥å¤„ç†å­—ä½“ç›¸å…³çš„æ“ä½œã€‚è¿™ä¸ªç±»æœ‰ä¸€ä¸ª ttflist å±æ€§ï¼Œè¯¥å±æ€§æä¾›äº† Matplotlib æ‰€èƒ½å¤Ÿå‘ç°åˆ°çš„å­—ä½“åˆ—è¡¨ã€‚ä»è¿™ä¸ªå­—ä½“åˆ—è¡¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“å¾—åˆ°è¿™äº›å­—ä½“çš„åç§°ã€‚é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬ä¸æ¸…æ¥šè¿™äº›å­—ä½“ä¸­æœ‰å“ªäº›å­—ä½“æ˜¯æ”¯æŒä¸­æ–‡çš„ã€‚\nè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ fc-list å¸®åŠ©äº†ã€‚è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°ç³»ç»Ÿä¸Šå®‰è£…çš„ä¸­æ–‡å­—ä½“ï¼šä½¿ç”¨ fc-list :lang=zh å¯ä»¥åˆ—å‡ºç³»ç»Ÿä¸Šå¯ç”¨çš„ä¸­æ–‡å­—ä½“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›ä¸­æ–‡å­—ä½“å¹¶ééƒ½å¯ä»¥è¢« Matplotlib ä½¿ç”¨ï¼šMatplotlib æ— æ³•ä½¿ç”¨å…¶ä¸­çš„ ttc æ ¼å¼çš„å­—ä½“(å‚è§è¿™é‡Œ)ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¾—åˆ° Matplotlib ç´¢å¼•çš„å­—ä½“å’Œç³»ç»Ÿæä¾›çš„ä¸­æ–‡å­—ä½“ä¸¤ä¸ªé›†åˆçš„äº¤é›†ã€‚\nä½¿ç”¨å­—ä½“ # æ‰¾åˆ°äº† Matplotlib ç´¢å¼•çš„ä¸­æ–‡å­—ä½“ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ”¹ Matplotlib rc æŒ‡ç¤º Matplotlib ä½¿ç”¨ä¸­æ–‡å­—ä½“ã€‚è¿™æ ·è®¾ç½®ä»¥åï¼Œåç»­è„šæœ¬ä¸­çš„ç”»å›¾è¯­å¥éƒ½ä¼šä½¿ç”¨æ–°æŒ‡å®šçš„ä¸­æ–‡å­—ä½“ã€‚åŠ å…¥æˆ‘ä»¬åœ¨ç³»ç»Ÿä¸­å®‰è£…äº† STKaiti è¿™ä¸ªå­—ä½“ï¼Œä¸‹é¢çš„è„šæœ¬å°†ä¼šä½¿ç”¨è¿™ä¸ªå­—ä½“æ¥æ¸²æŸ“å›¾ç‰‡ä¸­çš„ä¸­æ–‡ï¼š\nimport matplotlib as mpl font_name = \u0026#34;STKaiti\u0026#34; mpl.rcParams[\u0026#39;font.family\u0026#39;]=font_name mpl.rcParams[\u0026#39;axes.unicode_minus\u0026#39;]=False # in case minus sign is shown as box plt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;) plt.show() åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œfont_name å¯ä»¥ä»»æ„ä¸€ä¸ªæœ‰æ•ˆçš„ä¸­æ–‡å­—ä½“åã€‚å¦å¤–ï¼Œå¦‚æœä½ ä»…ä»…æƒ³åœ¨æŸä¸ªç”»å›¾å‘½ä»¤ä¸­ä½¿ç”¨ä¸­æ–‡å­—ä½“ï¼Œå¯ä»¥åœ¨ç”»å›¾å‘½ä»¤ä¸­æŒ‡å®šä½¿ç”¨çš„å­—ä½“åç§°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nplt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;, fontname=font_name) è¿™ç§æ–¹å¼æ˜¯æˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„åœ¨ Matplotlib ä¸­ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ã€‚\næŒ‡å®šä¸­æ–‡å­—ä½“çš„å…·ä½“è·¯å¾„ # ä¸ºäº†ä½¿ç”¨ç³»ç»Ÿä¸­çš„ä»»ä½•å­—ä½“ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼šç›´æ¥ç»™ Matplotlib æä¾›ä¸€ä¸ªå­—ä½“çš„è·¯å¾„ã€‚ä»£ç å¦‚ä¸‹ï¼š\nimport matplotlib.font_manager as mfm import matplotlib.pyplot as plt font_path = \u0026#34;/usr/share/fonts/custom/simhei.ttf\u0026#34; prop = mfm.FontProperties(fname=font_path) plt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;, fontproperties=prop) plt.show() ä¸Šè¿°ä»£ç ä¸­ï¼Œå˜é‡ font_path æ˜¯ç³»ç»Ÿä¸ŠæŸä¸ªä¸­æ–‡å­—ä½“çš„ç»å¯¹è·¯å¾„ã€‚\nç»“è®º # ä»¥ä¸Šæä¾›çš„ä¸¤ç§æ–¹å¼éƒ½æ¯”è¾ƒæ–¹ä¾¿å®ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦é€‰å–ä½¿ç”¨ã€‚è¦è·å–å®Œæ•´çš„ä»£ç ï¼Œå¯ä»¥å‚è€ƒ è¿™é‡Œã€‚\nå‚è€ƒé“¾æ¥ # ç¬¬ä¸€ç§æ–¹å¼ https://segmentfault.com/a/1190000005144275 https://my.oschina.net/u/1180306/blog/279818 ç¬¬äºŒç§æ–¹å¼ https://stackoverflow.com/q/7726852/6064933 https://matplotlib.org/examples/api/font_file.html ä¸¤ç§æ–¹å¼éƒ½æåˆ° https://blog.csdn.net/rumswell/article/details/6544377 https://blog.csdn.net/dgatiger/article/details/50414549 å¦‚ä½•ä½¿ç”¨ fontconfig æ¨¡å¼æŸ¥æ‰¾å­—ä½“ å°½ç®¡è¿™ç¯‡æ–‡ç« æ˜¯ä»¥ä¸­æ–‡ä¸ºä¾‹ï¼Œä½†æ˜¯å¯¹äºå…¶ä»–è¯­è¨€ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œåªéœ€è¦ç›¸åº”è®¾ç½®å³å¯ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¦‚æœä¸æ¸…æ¥šå¦‚ä½•åœ¨ä¸åŒç³»ç»Ÿä¸Šå®‰è£…æ–°å­—ä½“ï¼Œå¯ä»¥æŸ¥çœ‹ è¿™é‡Œ å’Œ è¿™é‡Œçš„æŒ‡å¯¼ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"22 February 2020","externalUrl":null,"permalink":"/2020/02/22/guide-on-how-to-use-chinese-with-matplotlib_zh/","section":"Posts","summary":"\u003cp\u003eæ³¨ï¼šè¿™æ˜¯ä¸€ç¯‡\u003ca href=\"https://jdhao.github.io/2017/05/13/guide-on-how-to-use-chinese-with-matplotlib/\" target=\"_blank\"\u003eæ—§æ–‡\u003c/a\u003eçš„ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ã€‚\u003c/p\u003e\n\u003cp\u003eå‰ä¸ä¹…ï¼Œæˆ‘åœ¨ä½¿ç”¨ Matplotlib ç”»å›¾çš„æ—¶å€™ï¼Œå‘ç°ä¸€äº› Unicode å­—ç¬¦(ä¾‹å¦‚ï¼Œæ±‰å­—) æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼šåœ¨ç”Ÿæˆçš„å›¾ç‰‡ä¸­ï¼Œæ±‰å­—æ˜¯ä¹±ç çš„ï¼Œæ˜¾ç¤ºä¸ºä¸€ä¸ªæ–¹æ¡†ã€‚ç»è¿‡å¤§é‡çš„æŸ¥æ‰¾å’Œé˜…è¯»ï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†å¦‚ä½•åœ¨ä½¿ç”¨ Matplotlib æ—¶ï¼Œæ­£ç¡®æ¸²æŸ“ Unicode å­—ç¬¦\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eã€‚\u003c/p\u003e","title":"è§£å†³ Matplotlib ä½¿ç”¨ä¸­æ–‡ä¹±ç é—®é¢˜","type":"posts"},{"content":"æ–°å‹å† çŠ¶ç—…æ¯’ç–«æƒ…å·²ç»æŒç»­äº†å·®ä¸å¤šä¸€ä¸ªæœˆï¼Œä¸€åˆ‡è¿˜æ²¡æœ‰æ¢å¤æ­£å¸¸ï¼Œ3 å·ä»å®¶é‡Œå›åˆ°æ·±åœ³ï¼Œæ­£æ˜¯ç–«æƒ…ä¸¥é‡çš„æ—¶åˆ»ï¼Œå¤§å®¶éƒ½å¦‚ä¸´å¤§æ•Œã€‚ä½å¤„é™„è¿‘çš„é¤é¦†éƒ½å…³äº†é—¨ï¼Œæƒ³åœ¨å¤–é¢åƒé¥­ä¹Ÿä¸è¡Œäº†ã€‚ä¸ºäº†å‡å°‘å¤–å‡ºï¼Œé™ä½æ„ŸæŸ“çš„é£é™©ï¼Œäºæ˜¯å°½é‡ä»ç½‘ä¸Šä¹°èœã€‚ç–«æƒ…ä¹‹å‰ï¼Œå·²ç»å¼€å§‹ç”¨å®å’šä¹°èœå’Œæœ´æœ´è¶…å¸‚ï¼Œä¸è¿‡ç”¨çš„é¢‘ç‡ä¸é«˜ï¼Œç–«æƒ…æ¥äº†ï¼Œæ›´ä¾èµ–è¿™äº›åœ¨çº¿æœåŠ¡ï¼Œæ„Ÿè°¢è¿™äº›ç–«æƒ…æœŸé—´ä»ç„¶å¼€å¼ çš„åœ¨çº¿æœåŠ¡å’Œé€èœçš„å°å“¥ä»¬ã€‚\nç”±äºè¿œç¨‹åŠå…¬ï¼Œæ•´å¤©éƒ½å‘†åœ¨å®¶é‡Œï¼Œæ‰€ä»¥åšé¥­çš„ä»»åŠ¡ä¸»è¦è½åœ¨äº†æˆ‘çš„è‚©ä¸Šã€‚åœ¨å®¶é‡Œä¹Ÿåšäº†å‡ ä¸ªä¹‹å‰æ²¡æœ‰å°è¯•è¿‡çš„ã€Œæ–°èœã€ï¼Œæ€»ç»“ä¸€ä¸‹æ­¥éª¤å’Œè¦ç‚¹ã€‚\næœä»è èœ # é”…ä¸­åŠ æ°´çƒ§å¼€ï¼Œæ–°é²œè èœç”¨æ²¸æ°´ç„¯ä¸€ä¸‹ï¼Œæ”¾å…¥å†·æ°´ä¸­ï¼Œæå‡ºå¤‡ç”¨ã€‚è èœç„¯æ°´æ—¶é—´ä¸èƒ½å¤ªé•¿(å¤§çº¦ 30s)ï¼Œå¦åˆ™ä¼šå˜è½¯ã€‚ å–é¾™å£ç²‰ä¸ä¸€å›¢ï¼Œç”¨å¼€æ°´æ³¡ä¸€ä¸‹ï¼Œæ³¡ååˆ†é’Ÿå·¦å³(ç¡®ä¿ç²‰ä¸å˜è½¯)ã€‚ å–ä¸€äº›èŠ±ç”ŸğŸ¥œï¼Œç”¨çƒ­æ²¹ç‚¸ä¸€ä¸‹ã€‚æ³¨æ„è¦å°ç«ï¼Œå¦åˆ™èŠ±ç”Ÿå¤–é¢ä¼šç„¦æ‰ï¼Œè€Œé‡Œé¢æ²¡ç‚¸å¥½ã€‚å¦å¤–ç‚¸å¥½ä»¥åï¼Œåœ¨å°ç¢—æ”¾ä¸€äº›é™ˆé†‹ï¼Œå°†èŠ±ç”Ÿæ”¾å…¥ï¼Œå¯ä»¥å¢åŠ èŠ±ç”Ÿçš„è„†åº¦ï¼Œåƒèµ·æ¥ä¸ä¼šé‚£ä¹ˆè½¯ã€‚ å–ä¸€ä¸ªé¸¡è›‹ğŸ¥šï¼Œé”…ä¸­åŠ æ²¹ï¼Œé¸¡è›‹æ…åŒ€ï¼Œåœ¨é”…ä¸­å°½é‡æ‘Šå¼€ï¼Œç”¨å°ç«ç…æˆå¤§çš„è–„ç‰‡ï¼Œå–å‡ºåˆ‡ä¸å¤‡ç”¨ã€‚ å–å°ç¢—ï¼ŒåŠ å…¥é†‹ï¼Œç”ŸæŠ½ï¼Œç›ï¼Œè°ƒæ–™(çœ‹æ‰‹å¤´æœ‰ä»€ä¹ˆï¼Œäº”é¦™ç²‰ï¼Œèƒ¡æ¤’ç²‰æˆ–è€…è°ƒæ–™é¢éƒ½å¯ä»¥æ”¾)ï¼Œç™½ç³–é€‚é‡(è¿™äº›æ–™çš„é‡å¯ä»¥æ ¹æ®è‡ªå·±å£å‘³åŠ å…¥)ï¼Œæ…æ‹Œå‡åŒ€ã€‚ å–ä¸€ä¸ªå¤§ç›˜å­ï¼Œæ”¾å…¥è èœï¼Œç²‰ä¸ï¼Œç‚¸å¥½çš„èŠ±ç”Ÿï¼Œé¸¡è›‹ä¸ï¼Œå€’å…¥è°ƒå¥½çš„æ±æ°´ï¼Œé€‚å½“æ…æ‹Œå‡åŒ€å³å¯ã€‚ ç•ªèŒ„è‚‰é…±æ„å¤§åˆ©é¢ğŸ # å–æ„å¤§åˆ©é¢é€‚é‡ï¼Œé”…ä¸­çƒ§æ°´ï¼Œæ”¾å…¥é€‚é‡é£Ÿç›ï¼Œæ©„æ¦„æ²¹ï¼Œæ°´å¼€åä¸‹é¢ç…®ååˆ†é’Ÿï¼ˆå¦‚æœæƒ³è½¯ä¸€äº›ï¼Œå¯ä»¥é€‚å½“å»¶é•¿ä¸¤ä¸‰åˆ†é’Ÿï¼‰,æå‡ºå¤‡ç”¨ã€‚ å–ä¸¤ä¸ªè¥¿çº¢æŸ¿ğŸ…ï¼Œåœ¨å¼€æ°´ä¸­çƒ«ä¸€ä¸‹ï¼Œç„¶åå»çš®ï¼Œåˆ‡æˆå¾ˆå°çš„å—ã€‚ å–åŠä¸ªæ´‹è‘±ğŸ§…ï¼Œåˆ‡æˆå°ç¢å—å¤‡ç”¨(æ´‹è‘±åˆ‡ç¢ä¸€äº›ä¼šæ¯”è¾ƒå¥½)ï¼Œå–å‡ ä¸ªç”Ÿè’œåˆ‡ç¢å¤‡ç”¨ã€‚ å–çŒªè‚‰æ²« 200-250 g å·¦å³ï¼ˆç¨å¾®ç˜¦ä¸€äº›æ¯”è¾ƒå¥½ï¼‰,åŠ å…¥é€‚é‡æ–™é…’ï¼Œç›ï¼Œå°‘è®¸æ·€ç²‰ï¼Œæ…æ‹Œå‡åŒ€ï¼Œè…Œåˆ¶ 10 åˆ†é’Ÿã€‚ å¼€å°ç«ï¼Œé”…ä¸­æ”¾å…¥ä¸€å°å—é»„æ²¹ğŸ§ˆï¼ŒåŠ å…¥è’œæœ«å’Œæ´‹è‘±ç¢ï¼Œç¿»ç‚’ï¼Œç„¶ååŠ å…¥è‚‰æ²«ç¿»ç‚’ï¼Œè‚‰å˜è‰²ä»¥åï¼ŒåŠ å…¥è¥¿çº¢æŸ¿ç¿»ç‚’ã€‚ åŠ å…¥é€‚é‡çš„ç•ªèŒ„é…±ğŸ¥« (ä¸»è¦æ˜¯ä¸ºäº†å¢åŠ é¢œè‰²å’Œé…¸å‘³)ï¼Œå†åŠ å…¥å°‘é‡æ°´ï¼Œç»§ç»­ç¿»ç‚’ï¼ŒæŠŠè¥¿çº¢æŸ¿å°½é‡ç‚’åˆ°çœ‹ä¸åˆ°å—ã€‚ åŠ å…¥ç…®å¥½çš„æ„å¤§åˆ©é¢æ¡ï¼Œå’Œè‚‰é…±ä¸€èµ·ç¿»ç‚’å‡åŒ€ï¼Œæ”¶æ±ï¼Œå³å¯å‡ºé”…ï¼Œåƒä¹‹å‰å¯ä»¥æ’’ä¸Šä¸€ç‚¹é»‘èƒ¡æ¤’ç²‰ã€‚ è’œè“‰ç²‰ä¸è’¸è™¾ # è™¾ğŸ¦å¼€èƒŒï¼šå–æ´»è™¾ 8-10 åªï¼Œå»æ‰è™¾çº¿ï¼Œç”¨å‰ªåˆ€ä»èƒŒéƒ¨ä¸­é—´ä»ä¸Šå¾€ä¸‹å‰ªå¼€ï¼Œç”¨åˆ‡èœåˆ€é¡ºç€å‰ªå¼€çš„ç¼éš™åŠˆä¸‹å»ï¼ŒæŠŠè™¾èƒŒç æˆå·¦å³ä¸¤åŠ(ä¸å®Œå…¨ç æ–­)ã€‚ æŠŠå¼€èƒŒçš„è™¾æ”¾åˆ°å°ç›†é‡Œï¼Œå€’ä¸Šæ–™é…’å’Œç”ŸæŠ½ï¼Œè…Œåˆ¶ä¸‰ååˆ†é’Ÿã€‚ å–ä¸€ç›˜å¤§è’œğŸ§„ï¼Œå‰¥å¥½ï¼Œåˆ‡æˆè’œæœ«ï¼Œèµ·é”…æ”¾æ²¹ï¼Œå°ç«ç‚’è’œæœ«ï¼Œæ”¾ä¸Šé£Ÿç›ï¼Œç¨å¾®æŠŠè’œç‚’é¦™å³å¯(å¤§æ¦‚ 1-2 åˆ†é’Ÿ)ï¼Œæ—¶é—´ä¸å®œè¿‡é•¿ã€‚ çƒ§å¼€æ°´ï¼Œæ³¡ä¸€ç›˜é¾™å£ç²‰ä¸ï¼Œååˆ†é’Ÿå·¦å³ï¼ŒæŠŠç²‰ä¸æ³¡è½¯å³å¯ã€‚ ç²‰ä¸è£…è¿›ç›˜é‡Œï¼Œåœ¨ç²‰ä¸ä¸Šé¢æ‘†ä¸Šè…Œåˆ¶çš„è™¾ï¼Œç„¶åæŠŠç‚’å¥½çš„è’œæœ«å‡åŒ€æ¶‚åœ¨è™¾èƒŒä¸Šï¼Œå†æŠŠè…Œåˆ¶è™¾çš„æ–™é…’å’Œç”ŸæŠ½å‡åŒ€å€’åœ¨ç›˜é‡Œã€‚ è’¸é”…è£…æ°´çƒ§å¼€ï¼Œè™¾åœ¨é”…é‡Œè’¸ 8 åˆ†é’Ÿå·¦å³ã€‚ è’¸å¥½çš„è™¾å‡ºé”…ï¼Œåˆ‡ä¸€äº›è‘±èŠ±ï¼Œæ´’åœ¨ä¸Šé¢ï¼Œèµ·é”…çƒ­å°‘è®¸æ²¹ï¼Œæ²¹çƒ­ä»¥åï¼Œæµ‡åœ¨è‘±èŠ±ä¸Šé¢å³å¯ã€‚ å–œæ¬¢åƒé†‹ï¼Œå¯ä»¥å€’ç‚¹é†‹ï¼Œç”ŸæŠ½ï¼Œå€’è¿›è’¸å¥½çš„è™¾é‡Œé¢ã€‚ åœ°ä¸‰é²œ(å°‘æ²¹ç‰ˆ) # èŒ„å­ğŸ†ä¸€ä¸ªï¼Œæ»šåˆ€åˆ‡æˆå°å—ï¼ŒåŠ å…¥é€‚é‡çš„æ·€ç²‰ï¼Œç”¨æ‰‹æŠŠæ·€ç²‰å’ŒèŒ„å­æ··åˆå‡åŒ€ï¼Œä¿è¯èŒ„å­å¿«è¡¨é¢éƒ½æ¶‚ä¸Šäº†æ·€ç²‰ï¼›åœŸè±†ğŸ¥”ä¸€åˆ°ä¸¤ä¸ªï¼Œæ»šåˆ€åˆ‡å—ã€‚ é’æ¤’ä¸€ä¸ªï¼Œåˆ‡æˆä¸ï¼›å°‘è®¸ç”Ÿå§œï¼Œåˆ‡æˆæœ«ï¼›å¤§è’œè‹¥å¹²ï¼Œåˆ‡æˆè’œæœ«å¤‡ç”¨ã€‚ å–å°ç¢—ï¼Œè°ƒæ–™æ±ï¼šåŠ å…¥é€‚é‡çš„æ·€ç²‰ï¼Œæ¸…æ°´ï¼Œé†‹ï¼Œç”ŸæŠ½ï¼Œç›ï¼Œç™½ç³–ï¼Œè°ƒæ–™ï¼Œæ··åˆå‡åŒ€ã€‚ é”…ä¸­åŠ å…¥ç¨å¤šçš„æ²¹(èŒ„å­æ¯”è¾ƒå¸æ²¹ï¼Œæ‰€ä»¥è¦åŠ å…¥æ¯”å¹³æ—¶å¤šçš„æ²¹)ï¼Œå¼€ä¸­ç«ï¼ŒåŠ å…¥é’æ¤’å’Œç”Ÿå§œç‚’é¦™ï¼ŒåŠ å…¥åœŸè±†å—ï¼Œç¿»ç‚’ï¼Œç„¶ååŠ å…¥èŒ„å­å¿«ï¼Œç»§ç»­ç¿»ç‚’ï¼Œæ³¨æ„ç«ä¸ç”¨å¤ªå¤§ï¼Œä»¥é˜²ç‚’ç„¦ã€‚ ç¿»ç‚’ 2-3 åˆ†é’Ÿï¼Œç„¶ååŠ å…¥è°ƒçš„æ–™æ±ï¼Œå¤§ç«çƒ§å¼€ï¼Œè½¬ä¸­å°ç«ï¼Œç›–ä¸Šé”…ç›–ç„– 2-3 åˆ†é’Ÿï¼Œç¡®ä¿åœŸè±†å’ŒèŒ„å­éƒ½ç†Ÿäº†(åœŸè±†å’ŒèŒ„å­éƒ½å˜è½¯äº†)ã€‚ å¼€ç¨å¤§çš„ç«æ”¶æ±ï¼Œæ³¨æ„è¦ä¸æ–­æ…æ‹Œï¼Œé˜²æ­¢ç³Šé”…(å› ä¸ºæ±¤æ±ä¸­æœ‰æ·€ç²‰ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ç³Šé”…)ï¼Œå¿«å‡ºé”…å‰ï¼ŒåŠ å…¥åˆ‡å¥½çš„è’œæœ«ï¼Œå†æ’’ä¸Šä¸€äº›é’æ¤’ã€‚ ","date":"21 February 2020","externalUrl":null,"permalink":"/2020/02/21/food_during_sars-cov-2/","section":"Posts","summary":"\u003cp\u003eæ–°å‹å† çŠ¶ç—…æ¯’ç–«æƒ…å·²ç»æŒç»­äº†å·®ä¸å¤šä¸€ä¸ªæœˆï¼Œä¸€åˆ‡è¿˜æ²¡æœ‰æ¢å¤æ­£å¸¸ï¼Œ3 å·ä»å®¶é‡Œå›åˆ°æ·±åœ³ï¼Œæ­£æ˜¯ç–«æƒ…ä¸¥é‡çš„æ—¶åˆ»ï¼Œå¤§å®¶éƒ½å¦‚ä¸´å¤§æ•Œã€‚ä½å¤„é™„è¿‘çš„é¤é¦†éƒ½å…³äº†é—¨ï¼Œæƒ³åœ¨å¤–é¢åƒé¥­ä¹Ÿä¸è¡Œäº†ã€‚ä¸ºäº†å‡å°‘å¤–å‡ºï¼Œé™ä½æ„ŸæŸ“çš„é£é™©ï¼Œäºæ˜¯å°½é‡ä»ç½‘ä¸Šä¹°èœã€‚ç–«æƒ…ä¹‹å‰ï¼Œå·²ç»å¼€å§‹ç”¨\u003ca href=\"http://www.dingdongmc.com/\" target=\"_blank\"\u003eå®å’šä¹°èœ\u003c/a\u003eå’Œ\u003ca href=\"https://www.pupumall.com/\" target=\"_blank\"\u003eæœ´æœ´è¶…å¸‚\u003c/a\u003eï¼Œä¸è¿‡ç”¨çš„é¢‘ç‡ä¸é«˜ï¼Œç–«æƒ…æ¥äº†ï¼Œæ›´ä¾èµ–è¿™äº›åœ¨çº¿æœåŠ¡ï¼Œæ„Ÿè°¢è¿™äº›ç–«æƒ…æœŸé—´ä»ç„¶å¼€å¼ çš„åœ¨çº¿æœåŠ¡å’Œé€èœçš„å°å“¥ä»¬ã€‚\u003c/p\u003e","title":"ç–«æƒ…æ—¶æœŸçš„é£Ÿç‰©","type":"posts"},{"content":"Ripgrep is a command line tools that searches patterns under your current directory, like the good old grep, but with faster speed. In this post, I list some of the commonly-used flags for ripgrep.\ncommand Description rg image utils.py Search in a single file utils.py rg image src/ Search in dir src/ recursively rg image Search image in current dir recursively rg '^We' test.txt Regex searching support (lines starting with We) rg -i image Search image and ignore case (case-insensitive search) rg -s image Smart case search rg -F '(test)' Search literally, i.e., without using regular expression rg image -g '*.py' File globing (search in certain files), can be used multiple times rg image -g '!*.py' Negative file globing (do not search in certain files) rg image --type py or rg image -tpy1 Search image in Python file rg image -Tpy Do not search image in Python file type rg -l image Only show files containing image (Do not show the lines) rg --files-without-match image Show files not containing image rg -v image Inverse search (search files not containing image) rg -w image Search complete word rg --count Show the number of matching lines in a file rg --count-matches Show the number of matchings in a file rg neovim --stats Show the searching stat (how many matches, how many files searched etc.) How to enable shell completion for ripgrep? # The binary release of ripgrep also include completion files for Bash, Zsh. When we extract the binary release, the completion file is under completion/_rg. For zsh, we should move this file to one of the paths in env variable $fpath.\nHow to exclude directories # To exclude directories, we also use the -g option. For example, to exclude dir1 and dir2, use the following command:\nrg pattern -g \u0026#39;!dir1/\u0026#39; -g \u0026#39;!dir2/\u0026#39; Changelog update: 2020-12-03, add --stats option\nReferences # Ripgrep user\u0026rsquo;s guide. ripgrep: print only filenames matching pattern. shell completion setup for rg. To list the supported filetypes, use rg --type-list.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 February 2020","externalUrl":null,"permalink":"/2020/02/16/ripgrep_cheat_sheet/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/BurntSushi/ripgrep\" target=\"_blank\"\u003eRipgrep\u003c/a\u003e is a command line tools that searches patterns under your current directory, like the good old \u003ca href=\"https://en.wikipedia.org/wiki/Grep\" target=\"_blank\"\u003egrep\u003c/a\u003e, but \u003ca href=\"https://blog.burntsushi.net/ripgrep/\" target=\"_blank\"\u003ewith faster speed\u003c/a\u003e. In this post, I list some of the commonly-used flags for ripgrep.\u003c/p\u003e","title":"Ripgrep Searching CheatSheet","type":"posts"},{"content":"æœ¬æ–‡ç®€å•æ€»ç»“ macOS ç³»ç»Ÿè¿œç¨‹è¿æ¥ Windows ç³»ç»Ÿéœ€è¦çš„å·¥å…·ä»¥åŠç®€å•è®¾ç½®ã€‚\nTeamViewer # æœ€ç®€å•çš„æ–¹å¼è¿˜æ˜¯ä½¿ç”¨ TeamViewerï¼Œéå•†ä¸šåº”ç”¨ï¼Œå»ºè®®ä½¿ç”¨ä¸ªäººç‰ˆã€‚åœ¨ Mac ä¸Šå’Œè¦è¿æ¥çš„ Windows æœºå™¨ä¸Šéƒ½å®‰è£…å¥½ TeamViewerï¼Œç„¶ååœ¨ Windows æœºå™¨ä¸Šæ‰“å¼€ TeamViewerï¼Œä¼šæœ‰æ˜¾ç¤º TeamViewer ID ä»¥åŠå¯†ç ã€‚åœ¨ Mac ä¸Šæ‰“å¼€ TeamViewerï¼Œè¾“å…¥ ID ä»¥åŠå¯†ç ï¼Œå³å¯è¿æ¥åˆ° Windows æœºå™¨ã€‚\nå¶å°”ç”±äºç½‘ç»œè¿æ¥ç­‰å› ç´ å½±å“ï¼Œè¿æ¥å¯èƒ½ä¼šä¸­æ–­ï¼Œéœ€è¦é‡æ–°è¿æ¥ã€‚è¿™ç§è¿æ¥æ–¹å¼éå¸¸ç®€å•ï¼Œä¸éœ€è¦å¤ªå¤šå¤æ‚çš„è®¾ç½®ï¼Œé€‚åˆæ™®é€šç”¨æˆ·ä½¿ç”¨ã€‚\nMicrosoft Remote Desktop # å¦‚æœæ˜¯è¿æ¥å…¬å¸å†…éƒ¨çš„ç”µè„‘ï¼Œå¯èƒ½éœ€è¦ VPN æ‰èƒ½è¿ä¸Š1ï¼Œä¸èƒ½ä½¿ç”¨ TeamViewer ç›´æ¥è¿æ¥ï¼ŒVPN è®¾ç½®å¥½ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨ Microsoft Remote Desktop è¿æ¥è¿œç¨‹ç”µè„‘ã€‚\nMicrosoft Remote Desktop æ˜¯å¾®è½¯æä¾›çš„è¿æ¥ Windows ç”µè„‘çš„å·¥å…·ï¼Œæœ‰å¤šç§å®¢æˆ·ç«¯å¯ä»¥ä¸‹è½½ã€‚ç¾åŒºçš„ App Store è´¦å·å¯ä»¥ç›´æ¥ä» App store ä¸‹è½½ï¼ŒApp Store æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼ŒMicrosoft Remote Desktop 8 å’Œ Microsoft Remote Desktop 10ï¼Œç‰ˆæœ¬ 8 æ˜¯æ—§ç‰ˆæœ¬ï¼Œå·²ç»åœæ­¢æ›´æ–°ï¼Œå»ºè®®ä½¿ç”¨ç‰ˆæœ¬ 10ã€‚\nå›½å†… App Store æ²¡æœ‰ä¸Šæ¶ Microsoft Remote Desktopï¼Œå¯ä»¥ç›´æ¥ä» è¿™é‡Œ ä¸‹è½½ Beta ç‰ˆæœ¬ (å¯èƒ½éœ€è¦æ¢¯å­æ‰èƒ½è®¿é—®)å®‰è£…ã€‚\nå®‰è£…å®Œæˆä¹‹åï¼Œç‚¹å‡» \u0026ldquo;Connections \u0026ndash;\u0026gt; Add PC\u0026rdquo; æˆ–è€…ç›´æ¥ä½¿ç”¨ âŒ˜ + N å¯ä»¥åˆ›å»ºæ–°çš„è¿æ¥ã€‚PC name ä¸€èˆ¬æƒ…å†µä¸‹å¡«å†™ç”µè„‘çš„ IP2ã€‚\nç„¶åï¼ŒUser account ä¸€æ ï¼Œåœ¨ä¸‹æ‹‰èœå•é€‰æ‹© â€œAdd User Account\u0026hellip;â€ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ï¼Œå¡«å†™è‡ªå·±çš„ç”¨æˆ·åï¼Œä»¥åŠç”µè„‘çš„ç™»é™†å¯†ç ã€‚\nå¦‚æœä¸€åˆ‡è®¾ç½®æ­£ç¡®ï¼Œç‚¹å‡»è¿æ¥ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå³å¯è¿æ¥ä¸Š Windows ç”µè„‘ï¼Œå¦‚æœé€šè¿‡ VPN è¿æ¥ Windowsï¼Œæ³¨æ„ä¸€å®šè¦ä¿æŒ VPN å‡ºäºè¿æ¥çŠ¶æ€ï¼Œå¦åˆ™æ— æ³•è¿æ¥åˆ° Windows ç”µè„‘ã€‚\nJump Desktop # Jump Desktop ä¹Ÿæ˜¯ä¸€æ¬¾è¿œç¨‹æ¡Œé¢åº”ç”¨ï¼Œéœ€è¦ä»˜è´¹ï¼Œæ”¯æŒ 14 å¤©å…è´¹è¯•ç”¨ï¼Œç‚¹å‡» è¿™é‡Œ å¯ä»¥ä¸‹è½½ã€‚å®‰è£…ä»¥åï¼Œç‚¹å‡» Quick Connection æŒ‰é’®ï¼Œé€‰æ‹© RDP åè®®ï¼Œè¾“å…¥ windows ç”µè„‘çš„ IP åœ°å€ã€‚æ·»åŠ å®Œæˆä»¥åï¼ŒåŒå‡»æ–°å»ºçš„è¿æ¥ï¼Œè¾“å…¥è¿œç¨‹ç”µè„‘çš„ç”¨æˆ·åè¿˜æœ‰å¯†ç ï¼Œå³å¯è¿æ¥è¿œç¨‹æ¡Œé¢ã€‚\nä¸ªäººæ„Ÿè§‰ï¼ŒJump Desktop çš„æ˜¾ç¤ºæ•ˆæœæ¯” Microsoft Remote Desktop è¦å¥½å¾ˆå¤šï¼ŒMicrosoft Remote Desktop æ˜¾ç¤ºçš„æ¡Œé¢æ¯”è¾ƒæ¨¡ç³Šï¼ŒJump Desktop æ˜¾ç¤ºçš„æ¡Œé¢å¾ˆæ¸…æ™°ã€‚\nRemotix # Remotix ä¹Ÿå¯ä»¥ç”¨äºè¿æ¥è¿œç¨‹çš„ Windows æ¡Œé¢ï¼Œå¯ä»¥å…è´¹è¯•ç”¨ 15 å¤©æ—¶é—´ã€‚å®‰è£…ä»¥åï¼Œç‚¹å‡»ç•Œé¢å·¦ä¸Šè§’ ã€ŒCreate New Connectionã€ï¼Œé€‰æ‹© RDP åè®®ï¼Œç„¶ååœ¨å¼¹å‡ºçš„çª—å£ï¼Œè¾“å…¥è¿œç¨‹ç”µè„‘çš„ IPï¼Œåœ¨ Authentification éƒ¨åˆ†ï¼Œè¾“å…¥ç”¨æˆ·åè¿˜æœ‰å¯†ç ï¼Œç„¶åä¿å­˜è¿æ¥å³å¯ã€‚\nRemotix æ˜¾ç¤ºæ•ˆæœä¹Ÿæ¯” Microsoft Remote Desktop å¥½ï¼Œä½†æ˜¯ç•¥å·®äº Jump Desktopï¼Œä¹Ÿå¯èƒ½æ˜¯é»˜è®¤è®¾ç½®çš„é—®é¢˜ã€‚\nå‚è€ƒ # https://www.maczd.com/post/microsoft-remote-desktop-mac.html https://blog.devhitao.com/2019/03/23/microsoft-remote-desktop-for-mac/ https://www.waitsun.com/tag/yuan-cheng-zhuo-mian å¦‚æœéœ€è¦ VPNï¼Œé¦–å…ˆéœ€è¦æŠŠ VPN è¿æ¥ä¸Šï¼Œå¦åˆ™æ— æ³•è¿æ¥ä¸Šè¿œç¨‹çš„ Windows ç”µè„‘ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIP åœ°å€å¯ä»¥åœ¨ Windows å‘½ä»¤è¡Œä½¿ç”¨ ipconfig å‘½ä»¤æŸ¥çœ‹ï¼ŒæŸ¥çœ‹ã€ŒIPv4 Addressã€é‚£ä¸€é¡¹ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"9 February 2020","externalUrl":null,"permalink":"/2020/02/09/mac_connect_windows_remotely/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ç®€å•æ€»ç»“ macOS ç³»ç»Ÿè¿œç¨‹è¿æ¥ Windows ç³»ç»Ÿéœ€è¦çš„å·¥å…·ä»¥åŠç®€å•è®¾ç½®ã€‚\u003c/p\u003e","title":"Mac ç³»ç»Ÿå¦‚ä½•è¿œç¨‹è¿æ¥æ§åˆ¶ Windows ç”µè„‘","type":"posts"},{"content":"V2ex æ˜¯ä¸€ä¸ªç¨‹åºå‘˜èšé›†çš„è®ºå›ï¼Œä¹Ÿæ˜¯æˆ‘ç»å¸¸è®¿é—®çš„ä¸€ä¸ªè®ºå›ï¼Œç»å¸¸æœ‰äººåœ¨è®ºå›ä¸Šæé—®æŠ€æœ¯é—®é¢˜ã€‚å‰ä¸¤å¤©é‡åˆ°ä¸€ä¸ªå¸–å­ï¼Œé—®çš„æ˜¯ vscode å¦‚ä½•å–æ¶ˆæŒ‰ä¸‹ç‚¹ä»¥åè‡ªåŠ¨è¡¥å…¨ç¬¬ä¸€ä¸ªå€™é€‰é¡¹ã€‚\nè¿™å…¶å®æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼Œè‡ªå·±æœä¸€ä¸‹å°±å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆäº†,ä¸éœ€è¦åœ¨è®ºå›ä¸Šæé—®ï¼Œè‚¯å®šæœ‰äººå·²ç»æœ‰ç±»ä¼¼çš„é—®é¢˜äº†ã€‚æˆ‘æ‰“ç®—å›å¤è¯´è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œä¸è¿‡ä¸ºäº†ä¿æŒä¸¥è°¨ï¼Œæˆ‘æƒ³è¿˜æ˜¯å…ˆè‡ªå·±åœ¨æœç´¢å¼•æ“æ‰¾ä¸€ä¸‹ï¼Œçœ‹èƒ½ä¸èƒ½å¾ˆå®¹æ˜“å°±æ‰¾åˆ°ç­”æ¡ˆï¼Œç»“æœä»¤äººæœ‰ç‚¹æ„å¤–ã€‚\næˆ‘å…ˆä½¿ç”¨äº†ä¸‹é¢çš„æ£€ç´¢å…³é”®è¯ï¼š\nvs code å…³é—­æŒ‰ä¸‹ç‚¹è‡ªåŠ¨è¡¥å…¨\nç”¨ç™¾åº¦å’Œè°·æ­Œéƒ½è¯•äº†ä¸€åœˆï¼Œè™½ç„¶ç»“æœæœ‰å¾ˆå¤šéƒ½æ˜¯å’Œ vscode è‡ªåŠ¨è¡¥å…¨ç›¸å…³ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°è¯¥é—®é¢˜çš„ç­”æ¡ˆã€‚æˆ‘æƒ³æ˜¯ä¸æ˜¯æˆ‘çš„è¾“å…¥å…³é”®è¯æœ‰é—®é¢˜ï¼Œæ¢æˆäº†ä¸‹é¢çš„å…³é”®è¯\nvscode python å…³é—­æŒ‰ä¸‹ dot è‡ªåŠ¨è¡¥å…¨\nè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„è®¾ç½®ã€‚\næˆ‘åˆè¯•ç€ç”¨è‹±è¯­æœç´¢ï¼Œä½¿ç”¨çš„å…³é”®è¯å¦‚ä¸‹ï¼š\nvs code disable autocompletion after pressing dot\né©¬ä¸Šå°±æ‰¾åˆ°äº†å…·ä½“çš„è§£å†³æ–¹æ¡ˆï¼ŒåŸæ¥æ˜¯ vscode åœ¨å†™ javascript æ—¶å€™ï¼Œé»˜è®¤è®¾ç½®æ˜¯æŒ‰ä¸‹ dot ä»¥åï¼Œä¼šè‡ªåŠ¨æŠŠè‡ªåŠ¨è¡¥å…¨èœå•ç¬¬ä¸€ä¸ªå€™é€‰é¡¹æ’å…¥åˆ°å½“å‰æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„é€‰é¡¹å…³é—­è¿™ç§è¡Œä¸ºï¼š\n\u0026#34;editor.acceptSuggestionOnCommitCharacter\u0026#34;: false, å®é™…ä¸Šï¼Œä½¿ç”¨ vs code disable dot autocompletion ä½œä¸ºå…³é”®è¯ä¹Ÿèƒ½æœåˆ°æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€‚\nä½¿ç”¨ç™¾åº¦ï¼Œç”¨ä»¥ä¸Šçš„è‹±è¯­å…³é”®è¯ä¹Ÿä¸èƒ½æ‰¾åˆ°å…³é”®çš„ä¿¡æ¯ï¼Œç™¾åº¦å’Œè°·æ­Œï¼Œé«˜ä¸‹ç«‹åˆ¤ã€‚ç„¶è€Œï¼Œæ€»æœ‰äººä¸ºç™¾åº¦è¾©æŠ¤ï¼Œè§‰å¾—ç™¾åº¦çš„æœç´¢ç»“æœä¹Ÿä¸å·®å•Šï¼Œäº‹å®ä¸Šï¼Œç™¾åº¦çœŸçš„å¾ˆå·®ï¼Œæ¯”è°·æ­Œçš„æœç´¢ç»“æœä½äº†ä¸æ­¢ä¸€ä¸ªæ¡£æ¬¡ï¼Œç¨å¾®å¤æ‚ä¸€äº›çš„æœç´¢ï¼Œå¯èƒ½å°±æ˜¯ä¸€æ— æ‰€è·ï¼Œè¦æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯å¦‚å¤§æµ·æé’ˆã€‚å¯¹äºåšæŠ€æœ¯çš„äººï¼Œä½¿ç”¨è‹±è¯­+è°·æ­Œæœç´¢ï¼Œèƒ½å¤ŸèŠ‚çœå¤§é‡æŸ¥æ‰¾èµ„æ–™æµªè´¹çš„æ—¶é—´ã€‚\nä¸ºä»€ä¹ˆç”¨ä¸­æ–‡æœç´¢ä¸åˆ°å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯å‘¢ï¼Œéš¾é“ä¸­æ–‡ä¸å¦‚è‹±æ–‡ï¼Ÿä½¿ç”¨ä¸­æ–‡çš„äººè‚¯å®šæœ‰äººæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯å´æ‰¾ä¸åˆ°ç›¸å…³çš„å†…å®¹ã€‚æˆ‘è§‰å¾—æœ‰ä¸¤ä¸ªåŸå› ï¼Œä¸€ä¸ªä¸­æ–‡ç¼ºä¹ä¸€ä¸ªæœ‰å½±å“åŠ›çš„åƒ stack overflow ä¸€æ ·é«˜è´¨é‡çš„é—®ç­”è®ºå›ï¼ˆä¸è¦è¯´çŸ¥ä¹ï¼ŒçŸ¥ä¹äººå‡ 985ï¼Œäººå‡å“ˆä½›è€¶é²ï¼Œå¹´è–ªç™¾ä¸‡ï¼‰ï¼›å¦å¤–ï¼Œä¸­æ–‡ç¯å¢ƒæ€»ä½“ä¸Šç¼ºä¹é«˜è´¨é‡çš„åˆ†äº«æ–‡ç« ï¼ˆè¿™ä¸ªåŸå› æ¯”è¾ƒå¤šï¼Œä¸ç»†è¯´äº†ï¼‰ï¼Œä½¿ç”¨æŸä¸ªå…³é”®è¯èƒ½å¤Ÿæœåˆ°çš„å†…å®¹å¾ˆå¤šéƒ½æ˜¯é‡å¤å¤åˆ¶ï¼Œè€Œä¸”è¿™äº›æ–‡ç« å¾ˆå¤šéƒ½ä¸æ³¨é‡å†…å®¹çš„æ’ç‰ˆå’Œç»“æ„ï¼Œè¿™æ–¹é¢çš„åå…¸å‹æœ‰ CSDN å’Œç®€ä¹¦ï¼Œä»¥è‡´äºç°åœ¨å¾ˆå¤šäººåœ¨è°·æ­Œæœç´¢çš„æ—¶å€™é»˜è®¤æŠŠ CSDN å’Œç®€ä¹¦ç­‰å¹³å°ç»™å±è”½äº†ã€‚\næ— è®ºåšä¸åšæŠ€æœ¯ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥ä½¿ç”¨è°·æ­Œï¼ˆåœ¨ç›®å‰å›½å†…çš„ç¯å¢ƒï¼Œèƒ½å¤Ÿä½¿ç”¨è°·æ­Œå°±æ˜¯ä¸€ç§ä¼˜åŠ¿ï¼‰ï¼Œåœæ­¢ä½¿ç”¨ç™¾åº¦ï¼Œå¯¹äºåšæŠ€æœ¯çš„äººï¼Œè¿˜åº”è¯¥åŠ ä¸Šä¸€æ¡ï¼Œå°½é‡ä½¿ç”¨è‹±è¯­å…³é”®è¯æœç´¢ã€‚\n","date":"22 January 2020","externalUrl":null,"permalink":"/2020/01/22/why_use_english_and_google/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://www.v2ex.com/\" target=\"_blank\"\u003eV2ex\u003c/a\u003e æ˜¯ä¸€ä¸ªç¨‹åºå‘˜èšé›†çš„è®ºå›ï¼Œä¹Ÿæ˜¯æˆ‘ç»å¸¸è®¿é—®çš„ä¸€ä¸ªè®ºå›ï¼Œç»å¸¸æœ‰äººåœ¨è®ºå›ä¸Šæé—®æŠ€æœ¯é—®é¢˜ã€‚å‰ä¸¤å¤©é‡åˆ°\u003ca href=\"https://v2ex.com/t/637584\" target=\"_blank\"\u003eä¸€ä¸ªå¸–å­\u003c/a\u003eï¼Œé—®çš„æ˜¯ vscode å¦‚ä½•å–æ¶ˆæŒ‰ä¸‹ç‚¹ä»¥åè‡ªåŠ¨è¡¥å…¨ç¬¬ä¸€ä¸ªå€™é€‰é¡¹ã€‚\u003c/p\u003e","title":"ä¸ºä»€ä¹ˆè¦ç”¨è‹±è¯­ä»¥åŠè°·æ­Œï¼Ÿ","type":"posts"},{"content":"After updating Hugo to the latest version (v0.62), apart from the issue of missing HTML code, I have also observed that level 1 header written in Markdown is not rendered in the generated TOC.\nAfter searching for a little bit, it turns out it has also something to do with Hugo\u0026rsquo;s new goldmark Markdown renderer. According to Hugo\u0026rsquo;s documentation, it now renders Markdown headings starting from level 2 and ending in level 3. That is why level 1 headings are now not rendered.\nTo fix this issue, you need to add the following settings to your config.toml:\n[markup] [markup.tableOfContents] endLevel = 4 startLevel = 1 References # https://github.com/gohugoio/hugo/issues/1778 https://github.com/Track3/hermit/issues/112 https://github.com/okkur/syna/issues/682 ","date":"19 January 2020","externalUrl":null,"permalink":"/2020/01/19/hugo_toc_header_missing/","section":"Posts","summary":"\u003cp\u003eAfter updating Hugo to the latest version (v0.62), apart from the issue of\n\u003ca href=\"https://jdhao.github.io/2019/12/29/hugo_html_not_shown/\" target=\"_blank\"\u003emissing HTML code\u003c/a\u003e, I\nhave also observed that level 1 header written in Markdown is not rendered in\nthe generated \u003cabbr title=\"Table of Content\"\u003eTOC\u003c/abbr\u003e.\u003c/p\u003e","title":"Missing Level 1 Header in TOC in Latest Hugo","type":"posts"},{"content":" å¼•å­ # ä»å®Œå…¨ä½¿ç”¨ Neovim è¿›è¡Œæ—¥å¸¸é¡¹ç›®å¼€å‘ä¸æ–‡æ¡£å†™ä½œåˆ°ç°åœ¨ï¼Œå·²ç»è¿‡å»å¤§çº¦ä¸€å¹´åŠçš„æ—¶é—´ã€‚ä¸€å¹´åŠä»¥å‰ï¼Œæˆ‘å¯¹ Vim çš„äº†è§£è¿˜å¤„åœ¨éå¸¸åˆçº§çš„é˜¶æ®µï¼Œç”šè‡³è¿˜ä¸çŸ¥é“ Neovimï¼Œç»è¿‡é•¿æ—¶é—´çš„ä½¿ç”¨ä¸å­¦ä¹ ï¼Œç›®å‰å·²ç»è¾¾åˆ°äº†ç†Ÿç»ƒä½¿ç”¨çš„ç¨‹åº¦ã€‚å½“ç„¶ï¼ŒVim çš„çŸ¥è¯†è¿‡äºåºå¤§ï¼Œå³ä¾¿æˆ‘å·²ç»ä½¿ç”¨äº†ä¸€å¹´åŠçš„æ—¶é—´ï¼Œè¿˜æœ‰å¾ˆå¤š Vim/Neovim çš„ç‰¹æ€§æˆ–è€…çŸ¥è¯†ä»ç„¶æœ‰å¾…äº†è§£ä¸å‘æ˜ã€‚\nåœ¨ä½¿ç”¨ Neovim çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¯¹ Neovim å’Œ Vim çš„å†å²ä»¥åŠå®ƒä»¬ä¹‹é—´çš„æ©æ€¨æƒ…ä»‡ä¹Ÿäº§ç”Ÿäº†å…´è¶£ï¼Œæ•£å¸ƒåœ¨äº’è”ç½‘ä¸Šå„å¤„çš„åšå®¢ã€è§†é¢‘ä»¥åŠè®ºå›è®¨è®ºè®©æˆ‘å¯¹è¿‡å»çš„å†å²æœ‰äº†ä¸€å®šäº†è§£ã€‚\nP.S., æˆ‘å»ºç«‹äº†ä¸€ä¸ª nvim ä¸­æ–‡ç”¨æˆ· tg ç¾¤ï¼Œæœ‰å…´è¶£å¯ä»¥åŠ å…¥ã€‚\nVim çš„å†å² # æƒ³è¦äº†è§£ Vim çš„å†å²ï¼Œä¸€ä¸ªå¾ˆå¥½çš„èµ„æ–™æ˜¯ Vim åˆ›å§‹äºº Bram Moolenaar åœ¨ VimConf1 2018 ä¸Šçš„ä¸“é¢˜æ¼”è®²ï¼Œä»–åœ¨æ¼”è®²ä¸­å…¨é¢å›é¡¾äº† Vim çš„å‘å±•ä»¥åŠ Vim å³å°†æ·»åŠ çš„ä¸€äº›æ–°ç‰¹æ€§ã€‚å‡ºäºå…´è¶£ï¼Œæˆ‘æŠŠä»–çš„ åŸå§‹æ¼”è®²è§†é¢‘ ä» YouTube ä¸Šæ‰’äº†ä¸‹æ¥ï¼Œæ·»åŠ äº†è‹±æ–‡å­—å¹•ï¼Œä¸Šä¼ åˆ°äº† B ç«™ã€‚å¦å¤–ä¸€ä¸ªå¾ˆå¥½çš„è§†é¢‘æ˜¯ Bram åœ¨ Vim 25 å‘¨å¹´æ´»åŠ¨ä¸Šå‘è¡¨çš„æ¼”è®²ã€‚\nç®€å•æ¥è¯´ï¼ŒVim äº 1991 å¹´ç”± Bram å‘å¸ƒï¼Œæœ€åˆ Vim æ¨¡ä»¿äº† Vi ç¼–è¾‘å™¨çš„ç‰¹æ€§ï¼Œåé¢åŠ ä»¥æ‰©å±•ï¼Œé€æ­¥æ·»åŠ äº†å¾ˆå¤šæ–°åŠŸèƒ½ã€‚ä»Šå¹´è·ç¦» Vim é¦–æ¬¡å‘å¸ƒå·²ç»å¿« 30 å¹´äº†ï¼ŒVim è¿™ä¸ªå¼ºå¤§çš„ç¼–è¾‘å™¨ä»ç„¶åœ¨ä¸æ–­æ›´æ–°ï¼Œå¹¶ä¸”è¢«è®¸å¤šäººæ‰€ä½¿ç”¨å’Œè®¨è®ºï¼Œè¿™ä¹Ÿä»ä¾§é¢è¯´æ˜äº† Vim çš„é­…åŠ› (Vim è¢«ç½‘å‹ä»¬å°Šç§°ä¸ºã€Œç¼–è¾‘å™¨ä¹‹ç¥ã€)ã€‚åˆšå¼€å§‹ï¼ŒVim å®Œå…¨ç”± Bram ç‹¬ç«‹å¼€å‘ç»´æŠ¤ï¼Œåæ¥ä¸æ–­æœ‰å¼€å‘è€…åŠ å…¥ Vim çš„å¼€å‘ï¼Œå¹¶æŠŠ Vim ç§»æ¤åˆ°äº†ä¸åŒçš„ç³»ç»Ÿå¹³å°ä¸Šã€‚æœ‰ä¸€æ®µæ—¶é—´ï¼ŒBram ç”šè‡³è¾å»äº†å·¥ä½œï¼Œå…¨åŠ›æŠ•å…¥åˆ° Vim çš„å¼€å‘ï¼Œé ç€ç½‘å‹çš„æåŠ©ç»´æŒåŸºæœ¬ç”Ÿæ´»ã€‚2006 å¹´ Bram åŠ å…¥äº† Google ä½äºè‹é»ä¸–çš„åˆ†éƒ¨ï¼ŒGoogle å‡ºäºå¯¹ Bram çš„å°Šé‡ä»¥åŠå¯¹å¼€æºæ–‡åŒ–çš„è®¤åŒï¼ŒåŒæ„ Bram æ¯å‘¨å¯ä»¥èŠ± 20% çš„å·¥ä½œæ—¶é—´ç”¨äºå’Œ Vim ç›¸å…³çš„å·¥ä½œï¼Œè°·æ­ŒçœŸæ˜¯ä¸€å®¶å¼€æ˜çš„å…¬å¸ã€‚\nVim å¼€å‘æ¨¡å¼ä¸å¼Šç«¯ # Vim æœ€åˆå¼€å‘çš„å¹´ä»£ï¼Œè™½ç„¶å·²ç»å…´èµ·äº†å¼€æºè¿åŠ¨ï¼Œä¾‹å¦‚å¤§åé¼é¼çš„ GNU é¡¹ç›®ï¼Œä½†æ˜¯å¼€æºé¡¹ç›®çš„ç»„ç»‡ä¸è¿è¡Œè¿˜ä¸åƒç°åœ¨è¿™æ ·æ–¹ä¾¿ï¼ŒGit å’Œ GitHub è¦åœ¨åå‡ å¹´åæ‰ä¼šå‡ºç°ã€‚å…¶ä»–å¼€å‘è€…å‘ Bram è´¡çŒ® Vim æºä»£ç çš„æ–¹å¼æ˜¯é€šè¿‡é‚®ä»¶ï¼Œå‘ Bram æäº¤ patchï¼Œå¦‚æœ Bram è§‰å¾—è¿™ä¸ª patch ä¸é”™ï¼Œå°±ä¼šæŠŠ patch åˆå¹¶åˆ° Vim çš„æºä»£ç ä¸­ã€‚20 å¤šå¹´è¿‡å»äº†ï¼Œå¼€æºé¡¹ç›®çš„åä½œæ–¹å¼ç”±äº Git å’Œ GitHub çš„å‡ºç°å‘ç”Ÿäº†å¾ˆå¤§å˜åŒ–ã€‚å¾ˆå¤šé¡¶çº§å¼€æºé¡¹ç›®éƒ½é€‰æ‹©ä½¿ç”¨ GitHub è¿›è¡Œä»£ç çš„å¼€å‘å’Œç®¡ç†ï¼šå¼€å‘è€…é€šè¿‡ Git æäº¤ pull request æ–¹å¼è´¡çŒ®è‡ªå·±çš„ä»£ç ï¼Œå¦‚æœé¡¹ç›®çš„ç»´æŠ¤è€…è§‰å¾—ä»£ç çš„è´¨é‡ OKï¼Œå°±ä¼šåˆå¹¶è¿™ä¸ªè¯·æ±‚ï¼Œå°†ä»£ç å¹¶å…¥ä¸»çº¿ä»£ç ã€‚\næ˜¯å¦å¯æŒç»­å‘å±•çš„éšå¿§ # Vim ä»£ç æ›¾æ‰˜ç®¡åœ¨ Google Codeï¼Œéšç€ Google Code äº 2015 å¹´å…³é—­ï¼ŒVim æºä»£ç è¢«è¿ç§»åˆ° GitHubã€‚è¡¨é¢ä¸Šçœ‹èµ·æ¥ Vim çš„å¼€å‘æ¨¡å¼éµå¾ªäº†å¼€æºé¡¹ç›®çš„èŒƒå¼ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯ï¼Œå› ä¸º Vim å¹¶æ²¡æœ‰é‡‡ç”¨ GitHub pull request çš„æ–¹å¼ã€‚å…³äº Vim å¼€å‘ç›¸å…³çš„è®¨è®ºï¼Œéƒ½åœ¨ vim-dev è¿›è¡Œï¼Œå¼€å‘è€…ä»ç„¶è¦å‘ Bram æäº¤ patchï¼Œå¦‚æœ patch é€šè¿‡ï¼Œå†ç”± Bram æœ¬äººæäº¤åˆ° GitHub ä¸Š2ï¼Œå’Œä¹‹å‰çš„å¼€å‘æ–¹å¼å¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚æ‰€ä»¥ Vim è™½ç„¶çœ‹èµ·æ¥ä¹Ÿæœ‰å¾ˆå¤šè´¡çŒ®è€…ï¼Œä½†æ˜¯åªæœ‰ Bram æ‰æœ‰æƒåŠ›å†³å®šä»€ä¹ˆä»£ç å¯ä»¥åˆå¹¶å…¥ Vimï¼Œä»€ä¹ˆæ ·çš„ä»£ç ä¸è¡Œ (Bram å°±æ˜¯ Vim é¡¹ç›®çš„ BDFL)ã€‚Bram å¯¹äºæ·»åŠ æ–°åŠŸèƒ½éå¸¸è°¨æ…ï¼Œå¯¼è‡´ä¹‹å‰æœ‰å¾ˆå¤šå¼€å‘è€…æäº¤çš„ patch éƒ½æ²¡æœ‰è¢«åˆå¹¶ï¼Œå¼•èµ·äº†ä¸€äº›å¼€å‘è€…å¯¹ Vim å¼€å‘æ¨¡å¼çš„ä¸æ»¡ã€‚è¿™ä¹Ÿå¼•å‘äº†å¾ˆå¤šäººå¯¹ Vim é¡¹ç›®æœªæ¥èƒ½å¦å¯æŒç»­å‘å±•çš„æ‹…å¿§ï¼Œå½“ Bram å»ä¸–ä»¥åï¼ŒVim çš„æœªæ¥ä¼šæ€æ ·ï¼Ÿç”šè‡³ Bram æœ¬äººåœ¨é‡‡è®¿ä¸­è¢«é—®åˆ°ï¼Œå¦‚ä½•ç¡®ä¿ Vim é¡¹ç›®å¯æŒç»­å‘å±•ï¼Œä»–çš„å›ç­”æ˜¯\nKeep me alive.\nä¸çŸ¥æ˜¯å¼€ç©ç¬‘ï¼Œè¿˜æ˜¯ä»–çœŸæ­£æƒ³æ³•å¦‚æ­¤ï¼Ÿä¹Ÿæ­£æ˜¯å› ä¸º Bram çš„è¿™ç§å¯¹æ–°åŠŸèƒ½çš„ã€Œå®¡æ…ã€æ€åº¦ï¼ŒVim 7.0 ç‰ˆæœ¬äº 2006 å‘å¸ƒï¼Œä¸€ç›´åˆ°äº†åå¹´ä¹‹åçš„ 2016 å¹´ï¼ŒVim æ‰å‘å¸ƒäº†æœ‰é‡å¤§æ›´æ–°çš„ 8.0 ç‰ˆæœ¬ï¼Œå¢åŠ äº†å¼€å‘è€…æœŸå¾…å·²ä¹…çš„å¼‚æ­¥æ“ä½œç­‰æ–°ç‰¹æ€§ã€‚\nNeovim çš„è¯ç”Ÿ # Neovim ä¹‹æ‰€ä»¥è¯ç”Ÿï¼Œå°±ä¸ Vim è¿™ç§ã€Œæ€ªå¼‚ã€çš„å¼€å‘æ¨¡å¼æœ‰å…³ã€‚Vim åœ¨ç‰ˆæœ¬ 8.0 ä¹‹å‰æ˜¯æ²¡æœ‰å¼‚æ­¥æ‰§è¡ŒåŠŸèƒ½çš„ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœä½ è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¿…é¡»ç­‰åˆ°å‘½ä»¤æ‰§è¡Œå®Œæ¯•ï¼Œæ‰å¯ä»¥ç»§ç»­æ“ä½œå½“å‰ bufferï¼Œå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼Œä¼šé˜»æ–­å½“å‰çš„ UIï¼Œç”¨æˆ·åªèƒ½ç­‰ç€ã€‚Neovim é¡¹ç›®çš„å‘èµ·äºº tarruda3 æ›¾ç»ç»™ Vim æäº†ä¸€ä¸ª patchï¼Œä¸º Vim å¢åŠ äº† job åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ© Vim å¼‚æ­¥æ‰§è¡Œæ“ä½œã€‚ä¸è¿‡é—æ†¾çš„æ˜¯ï¼Œè¯¥ patch ä¸çŸ¥ä¸ºä»€ä¹ˆæ²¡æœ‰è¢« Bram æ¥å—ã€‚å› æ­¤ Tarruda åœ¨ 2014 å¹´ fork äº† Vimï¼Œå‘èµ·äº† Neovim é¡¹ç›®ï¼Œå¼€å§‹æ”¹å˜ Vim çš„å¼€å‘æ¨¡å¼ï¼Œéµå¾ªç°ä»£å¼€æºé¡¹ç›®çš„å¼€å‘æµç¨‹ï¼ŒåŒæ—¶å¯¹ Vim æ‚ä¹±çš„ä»£ç è¿›è¡Œäº†å¤§çš„æ¸…ç†å’Œé‡æ„ï¼Œå»æ‰äº†å¯¹è€æ—§ç³»ç»Ÿçš„æ”¯æŒï¼ŒåŒæ—¶æ·»åŠ äº†æ–°çš„ç‰¹æ€§ã€‚\nNeovim ç‰¹æ€§ # ç»è¿‡å‡ å¹´çš„å‘å±•ï¼ŒNeovim æ²¡æœ‰é™·å…¥å‡‹äº¡ï¼Œç›®å‰æ¥çœ‹ï¼Œé¡¹ç›®å¾ˆæ´»è·ƒï¼Œå¼€å‘è€…ä¼—å¤šã€‚Neovim å®ç°äº†å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œä¾‹å¦‚å†…ç½® terminal å’Œå¼‚æ­¥åŠŸèƒ½éƒ½æ˜¯ Neovim ç‡å…ˆå®ç°ï¼Œç„¶å Vim æ‰è·Ÿè¿›å®ç°çš„ï¼Œå¯èƒ½æ˜¯ Bram ä¹Ÿæ„Ÿå—åˆ°äº†æ¥è‡ª Neovim ç«äº‰çš„å‹åŠ›ï¼Œä¸å¸Œæœ›è‡ªå·±çš„é¡¹ç›®å¤±å»å¼€å‘è€…çš„é’çï¼ŒåŠ å¿«äº†å¼€å‘çš„æ­¥ä¼ã€‚é—æ†¾çš„æ˜¯ï¼ŒVim é‡æ–°å®ç°çš„å¼‚æ­¥åŠŸèƒ½ï¼Œæ–¹æ³•å‘½åä¸Šé€‰æ‹©äº†ä¸ Neovim ä¸å…¼å®¹ï¼Œåœ¨ Neovim ä¸­ï¼Œå‘èµ·å’Œåœæ­¢ job çš„æ–¹æ³•æ˜¯ jobstart() å’Œ jobstop()ï¼Œä½†æ˜¯ Vim ä½¿ç”¨çš„æ˜¯ job_start() å’Œ job_stop()ï¼Œè¿™ä¹Ÿç»™å¼€å‘è€…å’Œç”¨æˆ·é€ æˆäº†ä¸å¿…è¦çš„éº»çƒ¦ï¼Œåœ¨ä½¿ç”¨å¼‚æ­¥åŠŸèƒ½çš„æ—¶å€™ï¼Œéœ€è¦é¢å¯¹ä¸¤å¥—ä¸åŒçš„ API4ã€‚\nåœ¨ç”¨æˆ·å±‚é¢æ¥çœ‹ï¼Œä½¿ç”¨ Neovim æˆ–è€… Vimï¼ŒåŒºåˆ«ä¸æ˜æ˜¾ï¼ŒNeovim ä¸»è¦æ”¹å˜åœ¨è½¯ä»¶æ¶æ„æ–¹é¢ï¼Œä¾‹å¦‚ Neovim å¢åŠ äº† RPC é€šä¿¡åŠŸèƒ½ï¼Œæ’ä»¶å¯ä»¥é€šè¿‡ messagepack åè®®ä¸ Neovim è¿›è¡Œé€šä¿¡ï¼Œæ§åˆ¶ Neovim çš„è¡Œä¸ºã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯æ’ä»¶ä¸å¿…ä½¿ç”¨åŸç”Ÿçš„ Vim script ç¼–å†™ï¼Œå¤§éƒ¨åˆ†çš„åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡æ›´åŠ å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€æ¥å®ç°ï¼Œä¾‹å¦‚ Pythonï¼Œæˆ–è€… JavaScriptï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§çš„æœ€å…¸å‹çš„æ’ä»¶å¦‚ deoplete å’Œ coc.nvimï¼Œç‰¹åˆ«æ˜¯ coc.nvim æ’ä»¶ï¼Œåˆ©ç”¨ JavaScript å®ç°äº†éå¸¸å¼ºå¤§çš„ä»£ç è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå¯ä»¥åª²ç¾ VS code æä¾›çš„ä»£ç è¡¥å…¨åŠŸèƒ½ã€‚\nç”±äº Neovim æ”¯æŒ RPCï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¯ä»¥æœ‰å¾ˆå¤š GUI çš„å®ç°ï¼ŒGUI é€šè¿‡ RPC ä¸ Neovim è¿›è¡Œé€šä¿¡ã€‚ä¸€äº›ä¼˜ç§€çš„ GUI å®¢æˆ·ç«¯æœ‰ nvim-qtï¼ŒvimRï¼Œfvim (19 å¹´åˆšå‡ºæ¥çš„å®¢æˆ·ç«¯ï¼Œè¿˜ä¸é”™)ã€‚åŒæ—¶ï¼ŒNeovim å¯ä»¥å……å½“ä¸€ä¸ª serverï¼Œè¢«åµŒå…¥åˆ°å…¶ä»–ç¼–è¾‘å™¨æˆ–è€…ç¨‹åºä¸­ï¼Œå› æ­¤ä½ ä¸å¿…ä½¿ç”¨è¹©è„šçš„ Vim æŒ‰é”®æ¨¡æ‹Ÿæ’ä»¶ï¼Œå¯ä»¥ä½¿ç”¨çœŸæ­£çš„ Vimï¼Œä¾‹å¦‚ vscode-neovim æŠŠ Neovim åµŒå…¥åˆ°äº† VS code ä¸­ï¼Œfirenvim æŠŠ Neovim åµŒå…¥åˆ°äº†ç½‘é¡µçš„ textarea ä¸­ï¼Œéå¸¸é…·çš„æ’ä»¶ï¼Œfirenvim çš„ä½¿ç”¨å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„ åšæ–‡ã€‚\nNeovim å¯¹ Lua è¯­è¨€æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨ Lua è¯­è¨€ç¼–å†™æ’ä»¶ï¼Œè®¾ç½® Neovimï¼Œè°ƒç”¨ Neovim çš„å‡½æ•°ç­‰ï¼Œä¾‹å¦‚åé¢è¦æåˆ°çš„ Neovim çš„ LSP åŠŸèƒ½å°±æ˜¯ç”¨ Lua è¯­è¨€å¼€å‘çš„ï¼Œæ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒ :h luaã€‚\nVim ä¸ Neovim æœ€æ–°è¿›å±• # Vim æ–°è¿›å±• # Bram åœ¨ 2018 å¹´åšäº†ä¸€ä¸ªè°ƒæŸ¥ï¼Œå¸Œæœ›äº†è§£ Vim æ’ä»¶å¼€å‘è€…ç›®å‰æœ€éœ€è¦ Vim å®ç°å“ªäº›åŠŸèƒ½ï¼Œå…¶ä¸­å‘¼å£°æ¯”è¾ƒé«˜çš„æ˜¯ floating windowsï¼Œä¹Ÿå°±æ˜¯åœ¨å½“å‰çª—å£çš„ä»»æ„ä½ç½®å†å»ºç«‹ä¸€ä¸ªæ‚¬æµ®çª—å£ï¼Œç”¨æ¥æ˜¾ç¤ºé¢å¤–çš„ä¿¡æ¯ã€‚2019 å¹´ 12 æœˆï¼Œåœ¨ Vim 8.2 ç‰ˆæœ¬ä¸­ï¼Œæ­£å¼åŠ å…¥äº† floating window åŠŸèƒ½ã€‚\nåŒæ—¶ Bram å·²ç»åœ¨è€ƒè™‘ Vim 9.0 çš„å¼€å‘äº‹å®œï¼Œç›®å‰ä¸»è¦è€ƒè™‘çš„æ˜¯åŠ å¿« vim script æ‰§è¡Œçš„é€Ÿåº¦ï¼Œé€æ¸å»æ‰ vim çš„ Pythonï¼Œperl ç­‰ interfaceï¼Œä»¥åŠæ–°çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼ç­‰ã€‚Bram å·²ç»åœ¨ GitHub ä¸Šåˆ›å»ºäº† vim9 ä»“åº“ï¼Œå¼€å§‹ Vim 9 çš„å¼€å‘å·¥ä½œã€‚\nNeovim æ–°è¿›å±• # Neovim å›¢é˜Ÿåœ¨ 19 å¹´ 9 æœˆä»½ï¼Œå…ˆäº Vim ï¼Œåœ¨ Neovim 0.4 ç‰ˆæœ¬ä¸­æ­£å¼æ¨å‡ºäº† floating window ç‰¹æ€§ï¼Œé©¬ä¸Šå°±æœ‰ä¸€æ‰¹æ’ä»¶åˆ©ç”¨ floating windows åšäº†ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ leaderf åˆ©ç”¨ floating window æ˜¾ç¤ºæ–‡ä»¶æ¨¡ç³ŠæŸ¥æ‰¾çš„çª—å£ï¼Œcoc.nvim åˆ©ç”¨ floating window æ˜¾ç¤ºå‡½æ•°æ–¹æ³•çš„ç­¾åç­‰ï¼Œæ•´ä½“æ„Ÿè§‰ç‚«é…·è€Œå®ç”¨ï¼Œç»™äººä¸€ç§ IDE çš„æ—¢è§†æ„Ÿã€‚\nå¦å¤–ï¼ŒNeovim å·²ç»åˆå¹¶äº† Language Server Protocol çš„å®¢æˆ·ç«¯å®ç°ï¼Œå¹¶ä¸”ä¸“é—¨å¼€äº†ä¸€ä¸ªä»“åº“å¸®åŠ©ç”¨æˆ·é…ç½® LSPï¼Œå¯¹äºä¸å–œæ¬¢ä½¿ç”¨ç¬¬ä¸‰æ–¹ LSP æ’ä»¶çš„ç”¨æˆ·ï¼Œå¤šäº†ä¸€ç§é€‰æ‹©ã€‚\nNeovim å¼€å‘è€…æ­£åœ¨å¼€å‘çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ tree-sitter é›†æˆï¼Œç›®å‰ Neovim å’Œ Vim çš„è¯­æ³•é«˜äº®éƒ½æ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å®ç°çš„ï¼Œæ•ˆç‡ä¸é«˜ï¼Œå¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½ä¼šé€ æˆå¡é¡¿ã€‚Tree-sitter æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€å®ç°çš„æºä»£ç è§£æå·¥å…·ï¼Œç­‰è¯¥åŠŸèƒ½åˆå¹¶è¿› Neovim ä»¥åï¼Œèƒ½å¤Ÿè¿›ä¸€æ­¥æé«˜ Neovim çš„é€Ÿåº¦ï¼Œè§£å†³åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•é«˜äº®çš„å¡é¡¿é—®é¢˜ã€‚å¯¹ Neovim treesitter æ„Ÿå…´è¶£çš„ç”¨æˆ·å¯ä»¥å…³æ³¨ è¿™ä¸ªä»“åº“ã€‚\nå‚è€ƒ # Hacker New å¯¹ Vim è¿ç§»åˆ° GitHub çš„è®¨è®º. The history of Vim. Vim, an open-source editor. Vim å„ä¸ªç‰ˆæœ¬å‘å¸ƒä¿¡æ¯. Vim 8 version release. Hacker News ä¸Šå¯¹ Vim 8.2 çš„è®¨è®º. Tarruda What happened to tarruda. What exactly does tarruda do? Reddit ä¸Šå¯¹ Neovim LSP å’Œ tree-sitter åŠŸèƒ½çš„è®¨è®º. Neovim 0.4 ç‰ˆæœ¬çš„è®¨è®º. /r/vim å…³äº Vim 9.0 çš„è®¨è®º. /r/neovim ä¸Šå…³äº Vim 9.0 çš„è®¨è®º. Why Neovim is better than Vim. Bram å¯¹ Neovim çš„çœ‹æ³•. https://www.hostingadvice.com/blog/vim-creator-champions-charityware/ VimConf æ˜¯ç”±æ—¥æœ¬çš„ Vim ä½¿ç”¨ä¸çˆ±å¥½è€…ä¸¾åŠçš„ä¸€å¹´ä¸€åº¦çš„ä¼šè®®ï¼Œè¿„ä»Šä¸ºæ­¢å·²ä¸¾åŠäº†ä¸ƒå±Šã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\næ‰€ä»¥æŸ¥çœ‹ Vim é¡¹ç›®çš„è´¡çŒ®è€…ï¼Œå°±ä¼šå‘ç°å¾ˆå¥‡è‘©çš„ç°è±¡ï¼šè´¡çŒ®è€…åªæœ‰ä¸¤äººï¼Œå¹¶ä¸”å‡ ä¹æ‰€æœ‰çš„ commit ä½œè€…éƒ½æ˜¯ Bramã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTarruda ç›®å‰å·²ç»ä¸å†æ‹…ä»» Neovim çš„ç»´æŠ¤è€…ï¼Œç›®å‰ Neovim é¡¹ç›®çš„è´Ÿè´£äººæ˜¯ Justin M. Keyes.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\næœ‰å¼€å‘è€…ä¸“é—¨å¼€å‘äº†ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥æŠ¹å¹³ Neovim å’Œ Vim å¼‚æ­¥ç‰¹æ€§çš„å·®å¼‚ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"12 January 2020","externalUrl":null,"permalink":"/2020/01/12/vim_nvim_history_development/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/202202021242998.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\n\n\u003ch1 class=\"relative group\"\u003eå¼•å­ \n    \u003cdiv id=\"%E5%BC%95%E5%AD%90\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#%E5%BC%95%E5%AD%90\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eä»å®Œå…¨ä½¿ç”¨ \u003ca href=\"https://neovim.io/\" target=\"_blank\"\u003eNeovim\u003c/a\u003e è¿›è¡Œæ—¥å¸¸\u003ca href=\"https://jdhao.github.io/2018/12/24/centos_nvim_install_use_guide_en/\" target=\"_blank\"\u003eé¡¹ç›®å¼€å‘\u003c/a\u003eä¸\u003ca href=\"https://jdhao.github.io/2019/01/15/markdown_edit_preview_nvim/\" target=\"_blank\"\u003eæ–‡æ¡£å†™ä½œ\u003c/a\u003eåˆ°ç°åœ¨ï¼Œå·²ç»è¿‡å»å¤§çº¦ä¸€å¹´åŠçš„æ—¶é—´ã€‚ä¸€å¹´åŠä»¥å‰ï¼Œæˆ‘å¯¹ Vim çš„äº†è§£è¿˜å¤„åœ¨éå¸¸åˆçº§çš„é˜¶æ®µï¼Œç”šè‡³è¿˜ä¸çŸ¥é“ Neovimï¼Œç»è¿‡é•¿æ—¶é—´çš„\u003ca href=\"https://jdhao.github.io/categories/Nvim/\" target=\"_blank\"\u003eä½¿ç”¨ä¸å­¦ä¹ \u003c/a\u003eï¼Œç›®å‰å·²ç»è¾¾åˆ°äº†ç†Ÿç»ƒä½¿ç”¨çš„ç¨‹åº¦ã€‚å½“ç„¶ï¼ŒVim çš„çŸ¥è¯†è¿‡äºåºå¤§ï¼Œå³ä¾¿æˆ‘å·²ç»ä½¿ç”¨äº†ä¸€å¹´åŠçš„æ—¶é—´ï¼Œè¿˜æœ‰å¾ˆå¤š Vim/Neovim çš„ç‰¹æ€§æˆ–è€…çŸ¥è¯†ä»ç„¶æœ‰å¾…äº†è§£ä¸å‘æ˜ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨ä½¿ç”¨ Neovim çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¯¹ Neovim å’Œ Vim çš„å†å²ä»¥åŠå®ƒä»¬ä¹‹é—´çš„\u003cem\u003eæ©æ€¨æƒ…ä»‡\u003c/em\u003eä¹Ÿäº§ç”Ÿäº†å…´è¶£ï¼Œæ•£å¸ƒåœ¨äº’è”ç½‘ä¸Šå„å¤„çš„åšå®¢ã€è§†é¢‘ä»¥åŠè®ºå›è®¨è®ºè®©æˆ‘å¯¹è¿‡å»çš„å†å²æœ‰äº†ä¸€å®šäº†è§£ã€‚\u003c/p\u003e\n\u003cp\u003eP.S., æˆ‘å»ºç«‹äº†ä¸€ä¸ª \u003ca href=\"https://t.me/nvim_zh\" target=\"_blank\"\u003envim ä¸­æ–‡ç”¨æˆ· tg ç¾¤\u003c/a\u003eï¼Œæœ‰å…´è¶£å¯ä»¥åŠ å…¥ã€‚\u003c/p\u003e","title":"Vim å’Œ Neovim çš„å‰ä¸–ä»Šç”Ÿ","type":"posts"},{"content":"Recently, when I was trying to generate my blog site using Hugo, I found that all my posts were successfully rendered, except for one new post. This was rather strange.\næœ€è¿‘åœ¨ä½¿ç”¨ Hugo ç”Ÿæˆåšå®¢æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€ç¯‡æ–°å†™çš„æ–‡ç« æ— æ³•ç”Ÿæˆï¼Œè€Œå…¶ä»–åšæ–‡éƒ½å¯ä»¥æˆåŠŸæ¸²æŸ“ï¼Œéå¸¸å¥‡æ€ªã€‚\nAfter some debugging, I found the culprit is the date format I use in the post front matter. I did not add the timezone info when I wrote the date info (only year, month, date, hour, minute, second were used). The date field info was like 2020-01-10 23:48:25. I added the timezone info to the date info: 2020-01-10 23:48:25+0800 and regenerated the blog site using Hugo. After that, the missing post was shown in the blog site. So we can conclude that the culprit is the incomplete date info.\nç»è¿‡æ¯”è¾ƒå’ŒæŸ¥æ‰¾ï¼Œè§‰å¾—é—®é¢˜å¯èƒ½å‡ºåœ¨æ–‡ç«  front matter çš„ date ä¹¦å†™æ ¼å¼ä¸Šï¼šå½“æ—¶ date æ²¡æœ‰å†™æ—¶åŒºä¿¡æ¯ï¼Œåªå†™äº†å¹´æœˆæ—¥å’Œæ—¶åˆ†ç§’ä¿¡æ¯ï¼Œå…·ä½“å†™çš„æ˜¯ 2020-01-10 23:48:25ã€‚åé¢å†åŠ ä¸Šäº†æ—¶åŒºä¿¡æ¯ï¼Œ date å˜æˆäº† 2020-01-10 23:48:25+0800ã€‚ç„¶åä½¿ç”¨ hugo é‡æ–°ç”Ÿæˆåšå®¢ï¼Œæœç„¶æ–°å†™çš„æ–‡ç« å¯ä»¥æ˜¾ç¤ºåœ¨åšå®¢é‡Œé¢äº†ï¼Œç”±æ­¤ç¡®å®šæ˜¯åšæ–‡çš„æ—¥æœŸæ ¼å¼é—®é¢˜ã€‚\nThe causeï¼ˆåŸå› ï¼‰ # After pinpointing the issue, I searched the web and found the root cause. Whether a post will be rendered by Hugo depends on when this post will be published. If the publish time of a post is later than the time when we build the blog site, i.e., Hugo thinks that we want to publish this post in future time, then Hugo will not render this post by default. The post mentioned earlier is not rendered, because Hugo thinks we have not reached its publish date, so it skips rendering that post.\nç¡®å®šäº†é—®é¢˜ä»¥åï¼Œåœ¨ç½‘ä¸Šç»è¿‡ä¸€ç•ªæœç´¢ï¼Œæˆ‘å‘ç°äº†é—®é¢˜çš„æ ¹æºï¼ŒåŸæ¥ Hugo æ˜¯å¦ä¼šæ¸²æŸ“ä¸€ç¯‡åšæ–‡ä¾èµ–è¯¥æ–‡ç« çš„å‘å¸ƒæ—¶é—´ã€‚å¦‚æœä¸€ä¸ªåšæ–‡çš„å‘å¸ƒæ—¶é—´æ¯” Hugo æ„å»ºå½“å‰ç«™ç‚¹çš„æ—¶é—´è¿˜è¦æ™šï¼Œä¹Ÿå°±æ˜¯ Hugo è®¤ä¸ºåšæ–‡çš„å‘å¸ƒæ—¶é—´åœ¨æœªæ¥ï¼Œå°±ä¸ä¼šæ¸²æŸ“è¯¥ç¯‡åšæ–‡ã€‚å‰é¢æ²¡æœ‰å†™æ—¶åŒºçš„åšæ–‡ï¼Œå°±æ˜¯è¢« Hugo è®¤ä¸ºå‘å¸ƒæ—¶é—´è¿˜æœªåˆ°ï¼Œæ‰€ä»¥æ²¡æœ‰æ¸²æŸ“å‡ºæ¥ã€‚\nSolutionï¼ˆè§£å†³æ–¹æ³•ï¼‰ # To solve this problem, we need to force Hugo to render posts that have publish time in the future. We can fix this in two ways. First, add the following setting to config.toml:\nè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å¼ºåˆ¶ Hugo æ¸²æŸ“å‘å¸ƒæ—¶é—´åœ¨æœªæ¥çš„åšæ–‡ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ã€‚ç¬¬ä¸€ä¸ªæ˜¯åœ¨ config.toml ä¸­åŠ å…¥ä»¥ä¸‹è®¾ç½®\nbuildFuture = true The second way is to add option --buildFuture when we are using Hugo to build the blog site.\nç¬¬äºŒä¸ªæ–¹æ³•æ˜¯åœ¨ hugo build åšå®¢çš„æ—¶å€™ï¼ŒåŠ ä¸Š --buildFuture é€‰é¡¹ã€‚\nReferenceï¼ˆå‚è€ƒï¼‰ # https://www.jvt.me/posts/2019/03/24/datetime-hugo/ https://discourse.gohugo.io/t/issue-with-generating-site-missing-posts/12149/3 https://github.com/bppwrite/bppwrite.github.io/issues/44 https://github.com/gohugoio/hugo/issues/3977 ","date":"11 January 2020","externalUrl":null,"permalink":"/2020/01/11/hugo_post_missing/","section":"Posts","summary":"\u003cp\u003eRecently, when I was trying to generate my blog site using \u003ca href=\"https://gohugo.io/\" target=\"_blank\"\u003eHugo\u003c/a\u003e,\nI found that all my posts were successfully rendered, except for one new post.\nThis was rather strange.\u003c/p\u003e\n\u003cp\u003e\u003cfont color=\"red\"\u003eæœ€è¿‘åœ¨ä½¿ç”¨ \u003ca href=\"https://gohugo.io/\" target=\"_blank\"\u003eHugo\u003c/a\u003e ç”Ÿæˆåšå®¢æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€ç¯‡æ–°å†™çš„æ–‡ç« æ— æ³•ç”Ÿæˆï¼Œè€Œå…¶ä»–åšæ–‡éƒ½å¯ä»¥æˆåŠŸæ¸²æŸ“ï¼Œéå¸¸å¥‡æ€ªã€‚\u003c/font\u003e\u003c/p\u003e","title":"Hugo Post Missing (Hugo åšå®¢æ–‡ç« ç¼ºå¤±é—®é¢˜)","type":"posts"},{"content":"2019 å¹´å¹´æœ«çš„è¿™ä¸‰ä¸ªæœˆè¿‡å¾—å¾ˆå¿«ï¼Œæœ€è¿‘ä¸€ä¸ªæœˆéƒ½åœ¨ç´§å¼ å¿™ç¢Œä¸­åº¦è¿‡ï¼Œä»¥è‡³äºé”™è¿‡äº†å¹´æœ«çš„æ—¶é—´ï¼Œæ²¡æœ‰å†™ä¸€ç¯‡ 2019 å¹´çš„é˜…è¯»æ€»ç»“ã€‚\nä»Šå¹´çœ‹ä¹¦æ•°é‡ä¸å¤šï¼Œå¹´åˆè¿½äº†ã€Šå¤è‘£å±€ä¸­å±€ã€‹ç”µè§†å‰§ï¼Œé¡ºä¾¿æŠŠé©¬äº²ç‹çš„åŒåä¹¦ä¹Ÿçœ‹äº†ï¼Œè¿™ä¸ªç”µè§†å‰§ä¸ºäº†å¢åŠ é›†æ•°ï¼Œæ¯”è¾ƒæ‹–æ²“ï¼Œçœ‹äº†å‡ é›†å°±æ”¾å¼ƒäº†ã€‚åé¢æœäº†ä¸€ä¸‹é©¬äº²ç‹çš„ä¹¦ï¼Œåˆçœ‹äº†ä¸€éƒ¨ã€Šé£èµ·é™‡è¥¿ã€‹ï¼Œä¸»è¦è®²çš„æ˜¯ä¸‰å›½æ—¶æœŸèœ€å›½å’Œé­å›½çš„è°æˆ˜æ•…äº‹ï¼Œæ ¹æ®å†å²äº‹å®ï¼Œåˆç†æƒ³è±¡ï¼Œæƒ…èŠ‚è¿˜ç®—æ¯”è¾ƒç²¾å½©ï¼Œäº²ç‹è¯´æ˜¯å—æŸä¸ªå›½å¤–å°è¯´å®¶çš„å¯å‘ã€‚\nåé¢éšä¾¿ç¿»äº†ç¿»ã€Šå‰‘æ¡¥ä¸­å›½å²-éš‹å”ç¯‡ã€‹ï¼Œè¿™ä¸ªç³»åˆ—çš„ä¹¦åå­¦æœ¯è‰²å½©ï¼Œä»ç»æµï¼Œåˆ¶åº¦ï¼Œæ–‡åŒ–ç­‰ç¤¾ä¼šç”Ÿæ´»çš„å„ä¸ªæ–¹é¢è®²è¿°ï¼Œä¸æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºï¼Œç•¥æ¯ç‡¥ï¼Œçœ‹å®Œäº†ä»¥åä¹Ÿæ²¡è®°ä½å¤ªå¤šä¿¡æ¯ã€‚æ¥ç€å¼€å§‹çœ‹ç§¦æœï¼Œä¸è¿‡æ²¡çœ‹å®Œï¼Œåé¢ä¹Ÿæ–­äº†ï¼Œè¿™ç§ç±»å‹çš„ä¹¦ä¸å¸å¼•äººã€‚\nå…­ä¸ƒæœˆä»½ï¼Œã€Šé•¿å®‰åäºŒæ—¶è¾°ã€‹ç”µè§†å‰§å¤§ç«ï¼Œå°±é¡ºä¾¿æŠŠä¹¦çœ‹äº†ä¸€ä¸‹ï¼Œçœ‹å®Œä¹¦ï¼Œå°±ä¸æƒ³çœ‹ç”µè§†å‰§äº†ï¼Œç”µè§†å‰§å‰§æƒ…ä¹Ÿæ˜¯è¿›å±•æ¯”è¾ƒæ…¢ï¼Œæ²¡æœ‰å¿ƒæ€è·Ÿäº†ã€‚\nä¸ƒæœˆå¤šï¼Œå¼€å§‹çœ‹ã€ŠThe making of atomic bombã€‹ï¼Œè¿™æœ¬ä¹¦æ˜¯ä¹‹å‰çœ‹ã€ŠAnd the band played onã€‹ çš„æ—¶å€™é¡ºä¾¿ä¸‹è½½çš„ï¼Œä¸€ç›´æ²¡çœ‹ï¼Œå½“æ—¶æ²¡æœ‰ç‰¹åˆ«æƒ³çœ‹çš„ä¸œè¥¿ï¼Œå°±å¼€å§‹çœ‹äº†ã€‚å…¨ä¹¦å…¨æ™¯å‘ˆç°äº†äººç±»çˆ†ç‚¸ç¬¬ä¸€é¢—åŸå­å¼¹çš„å®Œæ•´å†ç¨‹ï¼Œå¯¹äº20ä¸–çºªåŸå­ç‰©ç†å­¦çš„å‘å±•ä¹Ÿæœ‰è¯¦ç»†å™è¿°ï¼Œå¯ä»¥è¯´æ˜¯äº†è§£ç¬¬ä¸€é¢—åŸå­å¼¹çˆ†ç‚¸çš„æƒå¨ä¹¦ç±ã€‚\nç´§æ¥ç€å¼€å§‹çœ‹ã€Šå…‰è£ä¸æ¢¦æƒ³ã€‹ï¼Œè¿™æœ¬ä¹¦å¾ˆå¤šäººéƒ½å¾ˆç†Ÿæ‚‰ï¼Œåœ¨å›½å†…çŸ¥ååº¦æ¯”è¾ƒé«˜ï¼Œç”±äºæ‹…å¿ƒä¸­æ–‡ç‰ˆç¿»è¯‘ä¸è¡Œï¼Œæˆ‘çœ‹çš„æ˜¯è‹±æ–‡ç‰ˆã€‚çœ‹äº†ä¸€äº›ï¼Œå‘ç°è¿™æœ¬ä¹¦çœŸçš„ä¸å®¹æ˜“è¯»æ‡‚ï¼Œä¹¦é‡Œé¢æ¶‰åŠå¤ªå¤šç¾å›½è¿‘ä»£å†å²äººç‰©å’Œäº‹ä»¶ï¼Œä»¥åŠæœ¬åœŸäººå£«æ‰çŸ¥é“çš„æ–‡åŒ–èƒŒæ™¯ï¼Œä½œè€…é»˜è®¤è¯»è€…å¯¹è¿™äº›å†å²äººç‰©å’Œäº‹ä»¶æœ‰äº†è§£ï¼Œä¹Ÿå¯èƒ½æ˜¯å—ç¯‡å¹…é™åˆ¶ï¼Œæ‰€ä»¥æ²¡æœ‰è¯¦ç»†é˜é‡Šï¼Œç»™æˆ‘çš„é˜…è¯»é€ æˆäº†å¾ˆå¤§éšœç¢ï¼Œå¾€å¾€çœ‹å®Œä¸€ä¸ªæ®µè½ï¼Œè™½ç„¶è®¤è¯†å•è¯ï¼Œä½†æ˜¯è¿˜æ˜¯æ— æ³•ç†è§£ä½œè€…æƒ³è¦è¯´ä»€ä¹ˆã€‚è‡³ä»Šè¿˜æ²¡æœ‰çœ‹å®Œï¼Œå¸Œæœ›å¯ä»¥åšæŒçœ‹å®Œã€‚\n","date":"11 January 2020","externalUrl":null,"permalink":"/2020/01/11/my_reading_list_2019/","section":"Posts","summary":"\u003cp\u003e2019 å¹´å¹´æœ«çš„è¿™ä¸‰ä¸ªæœˆè¿‡å¾—å¾ˆå¿«ï¼Œæœ€è¿‘ä¸€ä¸ªæœˆéƒ½åœ¨ç´§å¼ å¿™ç¢Œä¸­åº¦è¿‡ï¼Œä»¥è‡³äºé”™è¿‡äº†å¹´æœ«çš„æ—¶é—´ï¼Œæ²¡æœ‰å†™ä¸€ç¯‡ 2019 å¹´çš„é˜…è¯»æ€»ç»“ã€‚\u003c/p\u003e","title":"æˆ‘çš„ 2019 é˜…è¯»æ¸…å•","type":"posts"},{"content":"In this post, I want to share how to do number arithmetic quickly and get what you want in specified format. More specifically, the topic is:\nHow do we add, subtract, multiply or divide a value to each number in a range?\nExample 1 # Suppose that we have the following numbers at the end of each line:\nline 1: 10 line 2: 20 line 3: 30 line 4: 40 line 5: 50 How to we do arithmetic operation to those numbers at the end of each line quickly?\nWe can use expression in substitution command to do this task, for details, see :h sub-replace-expression inside Vim. The idea is that instead of substitute what you search with a string, we will evaluate an expression and use the evaluated result as the replace string. The general syntax for substitution is:\n:s/PATTERN/REPLACE/[flag] To use an expression in REPLACE string, you can start the replacement string with \\=, and the following string will be interpreted as an expression by Vim. If you have used capture groups in PATTERN, you can retrieve the captured text in the corresponding capture group with submatch() function. For example, submatch(1) will return the text in the 1st capture group, submatch(2) returns the 2nd group, submatch(0) will return the whole matching pattern.\nWith all this knowledge, we can easily solve the above problem. For example, to add 2 to the number at the end of each line, do:\n:1,5s/\\v(\\d+)$/\\=str2float(submatch(1))+2 Note that in the above command, the return value of submatch() are strings. In order to convert string to float type, we need to use function str2float() explicitly. Although you can directly add strings with numbers, the result may not be what you want. For example, echo '0.2' + 2 shows 2 instead of 2.2. After looking at the documentation on variables (:h variables), I find the the reason:\nThe Number and String types are converted automatically, depending on how they are used.\nIt means that strings will by default be converted to an integer where necessary. So string 0.2 becomes 0 when we add it with 2.\nSimilarly, to minus or multiply by 2:\n:1,5s/\\v(\\d+)$/\\=str2float(submatch(1))-2 :1,5s/\\v(\\d+)$/\\=str2float(submatch(1))*2 For division, things are a little different here, because the division symbol / is the same as the substitute delimiter. In order to use division character in substitute expression, we can change the delimiter to other characters, for example, to #:\n:1,5s#\\v(\\d+)$#\\=str2float(submatch(1))/2.0 Note that for division, we need to divide those numbers by 2.0, not by 2. If you use two integers, Vim will use integer division, not float division1.\nOne minor issue with the division result is that the result may have many decimal digits. You may want to round it to fixed digit, e.g., 3 digits. This can be easily accomplished with the printf() function, and the whole command looks like:\n:1,5s#\\v(\\d+)$#\\=printf(\u0026#39;%.3f\u0026#39;, str2float(submatch(1))/2.3) Example 2 # I have the following 4 columns of text (separated by more than one spaces):\ndata1 data2 data3 data4 12 1.0 0.1667 in 0.2150 in 16 1.0 0.2222 in 0.2825 in 20 1.0 0.2778 in 0.3488 in 24 1.0 0.3333 in 0.4163 in 28 1.0 0.3889 in 0.4838 in 32 1.0 0.4444 in 0.5513 in I want to insert the result of division from 4th and 3rd column in the end of each line. For example, after insertion, first line will become:\n12 1.0 0.1667 in 0.2150 in 1.2897 My initial implementation is like:\ns#\\v\\d{2,}\\s+\\d\\.\\d\\s+(\\d\\.\\d+) in\\s+(\\d\\.+\\d+) in#\\=printf(\u0026#39;%s %.4f\u0026#39;, submatch(0), submatch(2)/submatch(1)) However, I am getting the following result:\n12 1.0 0.1667 in 0.2150 in -9223372036854775808.0000 It seems that the number division goes wrong for string types.\nAs discussed earlier, submatch() returns a string and string will be converted to integer implicitly when doing arithematics. So these two strings are converted to integer instead of float type, and they all become 0, as can be verifed by the command: echo 0/0.\nWe need to convert these strings into float first. The correct command is:\ns#\\v\\d{2,}\\s+\\d\\.\\d\\s+(\\d\\.\\d+) in\\s+(\\d\\.+\\d+) in#\\=printf(\u0026#39;%s %.4f\u0026#39;, submatch(0), str2float(submatch(2))/str2float(submatch(1))) We can also use \\zs to simplify the above command a bit:\ns#\\v\\d{2,}\\s+\\d\\.\\d\\s+(\\d\\.\\d+) in\\s+(\\d\\.+\\d+) in\\zs.*#\\=printf(\u0026#39; %.4f\u0026#39;, str2float(submatch(2))/str2float(submatch(1))) References # Number manipulation within Vim. Change delimiter in search and replace command. Increment a specific number in csv file. Rounding number in Vim. Round floats to one decimal. vim substitution with mathematical expression How can I convert px units to em units programmatically in vim? Search and replace: float arithmetic https://learnvimscriptthehardway.stevelosh.com/chapters/25.html For example, if we do :echo 5/2, we will get 2 instead of 2.5.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 January 2020","externalUrl":null,"permalink":"/2020/01/10/nvim_number_arithmetic_in_substitute/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how to do number arithmetic quickly and get what\nyou want in specified format. More specifically, the topic is:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHow do we add, subtract, multiply or divide a value to each number in a\nrange?\u003c/p\u003e\n\u003c/blockquote\u003e","title":"Doing Number Arithmetics in Vim/Neovim Substitutions","type":"posts"},{"content":"Vim-snippet provides a lot of useful Ultisnips snippets for various filetypes. For example, for Markdown, to insert level 1 header, the snippet trigger is sec, and for level 2 and 3 header, the triggers are ssec and sssec respectively. These triggers are non-intuitive and hard to remember and type.\nToday, I want to share how to create just one Markdown header snippet using regex keyword and Python interpolation1 with Ultisnips. The final effect of the snippet is that you can type h{NUM} (where NUM is a header level) and press Tab will create the corresponding headers.\nCreating a header snippet # The regex keyword # In order to create a single snippet with chaning trigger keyword, we need to use regex in the trigger word. So the first line of the snippet looks like this:\nsnippet \u0026#34;h([1-6])\u0026#34; \u0026#34;Markdown header\u0026#34; br Note the br flag at the end of the line:\nb: This snippet only triggers at the beginning of a line. r: This snippet contains regex and is not a normal snippet. The idea is that we will capture the number after h in the begining of a line. This number must be in the range [1-6] to trigger the snippet since there are only six header levels in Markdown.\nAlso note that, unlike other snippet trigger, the regex trigger word needed to be quoted with double quotes.\nA simple snippet # Combining regex keyword and Python interpolation, we can create a simple header snippet like the following one:\nsnippet \u0026#34;h([1-6])\u0026#34; \u0026#34;Markdown header\u0026#34; br `!p snip.rv = int(match.group(1))*\u0026#39;#\u0026#39;` ${1: Section Title} `!p snip.rv = int(match.group(1))*\u0026#39;#\u0026#39;` $0 endsnippet In the above snippet, we use two same Python interopolation blocks to create the left and right header level marker, and a regular snippet text is between them.\nInside Python interpolation block, Ultisnips provides the match object, which is the captured result from regex keyword. match.group(1) will be the content of the first capture group, and in this case, it will be the number in string format. The rest of the code is self-explaining so I will not elaborate.\nA complex one using post_jump # A more advanced way is to use post_jump actions, which can perform various complicated logics inside a Python function.\nWith post_jump, the header snippet now looks like this:\nglobal !p def gen_header(snip): placeholders_string = snip.buffer[snip.line].strip() level = int(placeholders_string[0]) # erase current line snip.buffer[snip.line] = \u0026#34;\u0026#34; line_content = \u0026#34;#\u0026#34;*level + \u0026#34; ${1:Section Name} \u0026#34; + \u0026#34;#\u0026#34;*level line_content += \u0026#39;\\n\\n$0\u0026#39; snip.expand_anon(line_content) endglobal post_jump \u0026#34;gen_header(snip)\u0026#34; snippet \u0026#34;h([1-6])\u0026#34; \u0026#34;Markdown header\u0026#34; br `!p snip.rv = match.group(1)` endsnippet In the post jump code, snip.buffer is the object representing the current buffer and is indexable. snip.line is the line in which the snippet expand.\nsnip.expand_anon() will accept the snippet content and expand it, just like you have typed it in the snippet body.\nReferences # https://github.com/honza/vim-snippets/blob/master/UltiSnips/markdown.snippets http://vimcasts.org/episodes/ultisnips-python-interpolation/ If you are not familiar with Python interpolation, check tutorial here and post here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"5 January 2020","externalUrl":null,"permalink":"/2020/01/05/ultisnips_python_interpolation/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"\"\u003eVim-snippet\u003c/a\u003e provides a lot of useful Ultisnips snippets for various\nfiletypes. For example, for Markdown, to insert level 1 header, the snippet\ntrigger is \u003ccode\u003esec\u003c/code\u003e, and for level 2 and 3 header, the triggers are \u003ccode\u003essec\u003c/code\u003e and\n\u003ccode\u003esssec\u003c/code\u003e respectively. These triggers are non-intuitive and hard to remember and\ntype.\u003c/p\u003e","title":"Regex Keyword and Python Interpolation in Ultisnips","type":"posts"},{"content":" Update log 2022-08-15: update firenvim conf; add install setting for packer.nvim Introduction # Last year, I have written a post on how to edit texts inside the browser using Vim/Nvim or browser extensions that have Vim emulations. However, none of them is good enough, since they are either not convenient to use or lacking features compared to real Neovim empowered by various plugins.\nFirenvim is another project that aims to solve the problem and has done a great job. Thanks to Neovim\u0026rsquo;s remote UI architecture1, firenvim activate a Neovim instance in the background and acts as a remote UI client for Neovim. Thus, you can use the full power of Neovim and its plugins inside your browser without any compromises.\nInstall # To use firenvim, first we need to install it as a Neovim plugin using a plugin manager, for example, with vim-plug:\nPlug \u0026#39;glacambre/firenvim\u0026#39;, { \u0026#39;do\u0026#39;: { _ -\u0026gt; firenvim#install(0) } } If you use packer.nvim, the following works:\nuse({ \u0026#34;glacambre/firenvim\u0026#34;, run = function() fn[\u0026#34;firenvim#install\u0026#34;](0) end, opt = true, setup = [[vim.cmd(\u0026#39;packadd firenvim\u0026#39;)]], }) The above setting works for Windows and Linux. For macOS, due to the reason that $PATH variable is changed inside browser, we need to run the following command on the command line:\nnvim --headless -c \u0026#34;call firenvim#install(0, \u0026#39;export PATH=\\\u0026#34;$PATH\\\u0026#34;\u0026#39;)\u0026#34; -c quit After that, we need to install firenvim extension for Firefox or Chrome.\nNow, restart your browser. Click a text area and firenvim should be able to automatically take over the text area and start a neovim instance.\nCustom settings # Firenvim provides the variable g:started_by_firenvim when it starts a neovim instance. So you can use this variable to set conditional options and settings for firenvim. For example, set laststatus to zero, and do not show ruler, since the text area is already very small.\nYou can also customize the filetype created for each website, as per the doc here.\nMy custom settings for firenvim are as follows:\nif exists(\u0026#39;g:started_by_firenvim\u0026#39;) \u0026amp;\u0026amp; g:started_by_firenvim \u0026#34; general config for firenvim let g:firenvim_config = { \\ \u0026#39;globalSettings\u0026#39;: { \\ \u0026#39;alt\u0026#39;: \u0026#39;all\u0026#39;, \\ }, \\ \u0026#39;localSettings\u0026#39;: { \\ \u0026#39;.*\u0026#39;: { \\ \u0026#39;cmdline\u0026#39;: \u0026#39;neovim\u0026#39;, \\ \u0026#39;priority\u0026#39;: 0, \\ \u0026#39;selector\u0026#39;: \u0026#39;textarea\u0026#39;, \\ \u0026#39;takeover\u0026#39;: \u0026#39;never\u0026#39;, \\ }, \\ } \\ } function! s:setup_firenvim() abort set filetype=markdown set noruler noshowcmd set laststatus=0 showtabline=0 endfunction augroup firenvim autocmd! autocmd FileType text call s:setup_firenvim() augroup END endif For more configurations, check the doc on project page.\nReferences # https://www.reddit.com/r/neovim/comments/bmguyj/embed_neovim_in_your_browser/ https://www.reddit.com/r/neovim/comments/d9gk5y/firenvim_has_been_released_on_the_chrome_web_store/ Firenvim does not work properly on macOS? https://github.com/glacambre/firenvim/issues/122 Trouble shooting on macOS. Due to this, it only works with Neovim, not vanilla Vim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"1 January 2020","externalUrl":null,"permalink":"/2020/01/01/firenvim_nvim_inside_browser/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg\nsrc=\"https://blog-resource-1257868508.file.myqcloud.com/firenvim.gif\"\u003e\n\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cp\u003e\u003cfont color=\"blue\"\u003e2022-08-15: update firenvim conf; add install setting for packer.nvim \u003c/font\u003e\u003c/p\u003e\n\u003c/details\u003e\n\n\n\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eLast year, I have written \u003ca href=\"https://jdhao.github.io/2019/05/11/nvim_text_input_browser/\" target=\"_blank\"\u003ea post\u003c/a\u003e on how to edit texts inside the browser\nusing Vim/Nvim or browser extensions that have Vim emulations.\nHowever, none of them is good enough, since they are either not convenient to use\nor lacking features compared to real Neovim empowered by various plugins.\u003c/p\u003e","title":"Firenvim: Neovim inside Your Browser","type":"posts"},{"content":"Due to Markdown\u0026rsquo;s inability to center and resize image properly, I use the raw HTML tags inside markdown file to include images:\nç”±äº Markdown æ ¼å¼æ— æ³•å¾ˆå¥½å±…ä¸­å’Œè®¾å®šå›¾åƒå°ºå¯¸ï¼Œæˆ‘ä½¿ç”¨ HTML tags æ¥æ·»åŠ å›¾åƒ(å›¾åƒå¯ä»¥å¾ˆå¥½å±…ä¸­ä»¥åŠè®¾å®šæ˜¾ç¤ºå¤§å°):\n\u0026lt;p align=\u0026#34;center\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;xxx.xx.xx/test.jpg\u0026#34;\u0026gt; \u0026lt;/p\u0026gt; Recently, after updating to Hugo version 0.62, I found that all the images using HTML tags are missing in the generated HTML files.\næœ€è¿‘ï¼Œå‡çº§äº† Hugo 0.62 ç‰ˆæœ¬ä»¥åï¼Œæˆ‘å‘ç°æ‰€æœ‰ä½¿ç”¨ HTML tag å¼•å…¥çš„å›¾åƒåœ¨ç”Ÿæˆçš„æœ€ç»ˆ HTML æ–‡ä»¶ä¸­éƒ½æ¶ˆå¤±äº†ã€‚\nI checked the generated HTML source file for my post, and found that the raw HTML tag for image is rendered as the following comment tag:\næˆ‘æŸ¥çœ‹äº†æŸä¸ªåšæ–‡æ¸²æŸ“è€Œæˆçš„ HTML æºæ–‡ä»¶ï¼Œå‘ç° Markdown ä¸­çš„ HTML å›¾åƒ tag è¢«æ¸²æŸ“æˆäº† HTML ä¸­çš„æ³¨é‡Šï¼š\n\u0026lt;!-- raw HTML omitted --\u0026gt; After a little dig, I find out the cause. Previously, Hugo was using Blackfriday to render Markdown files. Since Hugo version 0.60, the default Markdown renderer has been changed to goldmark. In goldmark, the default behaviour is not to render raw HTML tags.\nç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œæˆ‘æ‰¾äº†é—®é¢˜çš„åŸå› ã€‚åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­(0.60 ç‰ˆæœ¬ä¹‹å‰)ï¼ŒHugo ä½¿ç”¨ Blackfriday æ¥æ¸²æŸ“ Markdown æ–‡ä»¶ã€‚ä» 0.60 ç‰ˆæœ¬å¼€å§‹ï¼Œé»˜è®¤çš„ Markdown æ¸²æŸ“å™¨å·²ç»æ”¹æˆäº† goldmarkã€‚Goldmark æ¸²æŸ“å™¨é»˜è®¤ä¸å›æ¸²æŸ“ HTML tagsã€‚\nTo fix this issue, we have two options. First option, set blackfriday as the default Markdown engine. Open config.toml and add the following setting:\nä¸ºäº†ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§ä¸åŒçš„è§£å†³æ–¹æ³•ã€‚ç¬¬ä¸€ç§é€‰æ‹©ï¼Œé‡æ–°æŠŠ blackfriday è®¾å®šä¸ºé»˜è®¤çš„ Markdown å¼•æ“ã€‚æ‰“å¼€ config.tomlï¼ŒåŠ å…¥ä»¥ä¸‹è®¾å®šï¼š\n[markup] defaultMarkdownHandler = \u0026#34;blackfriday\u0026#34; Second option, use goldmark and set the unsafe option of markup.goldmark.renderer to true:\nç¬¬äºŒç§æ–¹å¼ï¼Œä½¿ç”¨ goldmark å¼•æ“ï¼ŒåŠ å…¥ä»¥ä¸‹è®¾å®šï¼Œæ›´æ”¹ goldmark é»˜è®¤è¡Œä¸ºï¼š\n[markup] defaultMarkdownHandler = \u0026#34;goldmark\u0026#34; [markup.goldmark] [markup.goldmark.renderer] unsafe = true References # Hugo 0.60 release note. https://gohugo.io/getting-started/configuration-markup/ https://discourse.gohugo.io/t/raw-html-getting-omitted-in-0-60-0/22032/18 https://discourse.gohugo.io/t/hugo-0-60-0-raw-html-omitted-issue/22010/9 https://github.com/gohugoio/hugo/issues/5963 ","date":"29 December 2019","externalUrl":null,"permalink":"/2019/12/29/hugo_html_not_shown/","section":"Posts","summary":"\u003cp\u003eDue to Markdown\u0026rsquo;s inability to center and resize image properly,\nI use the raw HTML tags inside markdown file to include images:\u003c/p\u003e\n\u003cp\u003e\u003cfont color=\"red\"\u003eç”±äº Markdown æ ¼å¼æ— æ³•å¾ˆå¥½å±…ä¸­å’Œè®¾å®šå›¾åƒå°ºå¯¸ï¼Œæˆ‘ä½¿ç”¨ HTML tags æ¥æ·»åŠ å›¾åƒ(å›¾åƒå¯ä»¥å¾ˆå¥½å±…ä¸­ä»¥åŠè®¾å®šæ˜¾ç¤ºå¤§å°):\u003c/font\u003e\u003c/p\u003e","title":"Content inside HTML tags missing in Latest Hugo?","type":"posts"},{"content":"Introduction # Currently, I write my blog posts in Markdown and build the blog using Hugo. Hugo supports front matter for Markdown so that you can attach metadata for a post, such as title, date, tags, categories, etc.\nThe front matter for a post looks like the following:\n--- title: \u0026#34;Creating Markdown Front Matter with Ultisnips\u0026#34; date: 2019-12-22 13:45:25+0800 tags: [Vim, Markdown] categories: [Nvim] --- The date field should be in ISO date format.\nInitial snippet # It would be tedious to write the boilerplate text in front matter for every post I create. Ultisnips is good at automating such tasks. If you are not familiar with Ultisnips, you can check my previous post on setting up Ultisnips.\nSo the initial snippet I wrote looks like this:\n--- snippet meta \u0026#34;Markdown front matter in YAML format\u0026#34; b title: \u0026#34;${1:TITLE TEXT}\u0026#34; date: $2 tags: [$3] categories: [$4] --- When we type the trigger word meta at the beginning of a line1 and press Tab, it will be expanded. We can jump forward and backward among the tabstops to fill the text.\nThis snippet works great. However, for the date field, we still need to fill the current date manually, which is not ideal enough.\nUltisnips command interpolation # Ultisnips also provides a powerful feature called interpolation, which means that you can run shell, Vim or Python command inside a snippet and use the output in snippet. The interpolation code are placed inside two backticks (`CODE`) and opens up many possibilities. For shell command interpolation, you just write the shell command inside the backticks. For Vim and Python code interpolation, you should follow the opening backtick with !v and !p respectively.\nFor example, to get the current date in ISO format, i.e., 2019-12-22 14:43:43+0800, using the above three interpolations, the code is like:\nshell interpolation: `date \u0026quot;+%Y-%m-%d %H:%M:%S%z\u0026quot;` Vim interpolation: `!v strftime(\u0026quot;%Y-%m-%d %H:%M:%S%z\u0026quot;)` Python interpolation: `!p from datetime import datetime snip.rv=datetime.now().strftime(\u0026#34;%Y-%m-%d %H:%M:%S%z\u0026#34;)` Back to the above snippet, if we want the interpolation code to be cross-platform, we should only consider Vim or Python interpolation since most Linux shell commands are not available on Windows.\nVim interpolation # With Vim interpolation, the original meta snippet becomes:\nsnippet \u0026#34;meta(data)?\u0026#34; \u0026#34;Markdown metadata front matter\u0026#34; br --- title: \u0026#34;$1\u0026#34; date: `!v strftime(\u0026#34;%Y-%m-%d %H:%M:%S%z\u0026#34;)` tags: [$2] categories: [$3] --- One minor issue with this snippet is that the date value keeps changing while we are inside the snippet region2, which is a little annoying. According to tutorial here, we can use Python interpolation to deal with this issue.\nPython interpolation # Inside the Python interpolation code, Ultisnips provides the snip object. The attribute snip.c will be empty once the interpolation has finished. snip.rv is the result for the snip interpolation.\nWe can check if snip.c is empty to fix the date once the interpolation code is run.\nThe new meta snippet now becomes:\nsnippet \u0026#34;meta\u0026#34; \u0026#34;Markdown metadata front matter\u0026#34; b --- title: \u0026#34;$1\u0026#34; date: `!p from datetime import datetime if not snip.c: snip.rv=datetime.now().strftime(\u0026#34;%Y-%m-%d %H:%M:%S%z\u0026#34;)` tags: [$2] categories: [$3] --- Now the date field will be fixed while we are editing other parts of the snippet.\nReferences # Ultisnips official tutorial. Vimcast on Ultisnips Python interpolation. The b flag says that this snippet can only be triggered at the beginning of a line.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nBecause inside the snippet region, the interpolation code is run in real time and the result is updated to reflect the change.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"22 December 2019","externalUrl":null,"permalink":"/2019/12/22/ultisnips_avoid_content_update/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eCurrently, I write my blog posts in Markdown and build the blog using\n\u003ca href=\"https://gohugo.io/\" target=\"_blank\"\u003eHugo\u003c/a\u003e. Hugo supports \u003ca href=\"https://gohugo.io/content-management/front-matter/\" target=\"_blank\"\u003efront matter\u003c/a\u003e for Markdown so that you can\nattach metadata for a post, such as title, date, tags, categories, etc.\u003c/p\u003e","title":"Creating Markdown Front Matter with Ultisnips","type":"posts"},{"content":"Labelme æ˜¯ä¸€æ¬¾å¸¸ç”¨çš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡æ ‡æ³¨å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ ‡æ³¨åˆ†ç±»ï¼Œæ£€æµ‹ï¼Œåˆ†å‰²ç­‰ä»»åŠ¡çš„æ•°æ®ã€‚å¯¹äºæ£€æµ‹ä»»åŠ¡ï¼Œlabelme ç”Ÿæˆçš„æ ‡æ³¨æ–‡ä»¶æ˜¯ json æ ¼å¼ï¼Œæ¯ä¸ªå›¾åƒå¯¹åº”ä¸€ä¸ªç›¸åº”çš„ json æ–‡ä»¶ã€‚ä½†æ˜¯å¾ˆå¤šä»»åŠ¡éƒ½ä½¿ç”¨ PASCAL VOC çš„ xml æ ¼å¼æ ‡æ³¨ï¼Œä¾‹å¦‚ maskrcnn-benchmark ä»»åŠ¡ä¸­çš„ voc æ•°æ®é›†ã€‚\nè½¬æ¢æ–¹æ³• # Labelme å«æœ‰å°† json æ ¼å¼æ ‡æ³¨æ•°æ®è½¬ä¸º voc æ ¼å¼çš„è„šæœ¬ï¼Œå…·ä½“åœ°å€è§ è¿™é‡Œã€‚ä½¿ç”¨æ–¹æ³•ï¼š\npython labelme2voc.py original_data data_dataset_voc --labels labels.txt ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŸå§‹æ ‡æ³¨ç›®å½•ï¼ŒåŒ…å« json æ–‡ä»¶ä»¥åŠå¯¹åº”çš„å›¾åƒï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç”Ÿæˆçš„ voc æ ¼å¼æ•°æ®åº“ï¼Œä¸‹é¢æœ‰å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ label æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ª labelï¼Œç¬¬ä¸€è¡Œä¸º __ignore__ï¼Œç¬¬äºŒè¡Œä¸º _background_ï¼Œå…¶ä½™è¡Œä¸ºå®é™…çš„å„ä¸ª labelã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªè„šæœ¬ç”Ÿæˆçš„ xml æ ¼å¼æ–‡ä»¶ï¼Œç”¨ maskrcnn æä¾›çš„ voc æ•°æ®é›†çš„æ¥å£è¿›è¡Œæ•°æ®è®­ç»ƒæ—¶ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸º maskrcnn ä¸­çš„ voc æ•°æ®ç±»ä¼šæ£€æŸ¥æ¯ä¸ªæ ‡æ³¨æ¡†çš„ difficult ä¿¡æ¯ï¼Œæ‰€ä»¥ difficult è¿™ä¸ª flag å¿…é¡»èµ‹å€¼ã€‚labelme2voc.py å½“å‰çš„ä»£ç æ²¡æœ‰ç»™ difficult èµ‹å€¼ï¼Œå¿…é¡»æŠŠ\n# https://github.com/wkentaro/labelme/blob/master/examples/bbox_detection/labelme2voc.py#L116 maker.difficult(), å˜ä¸º\nmaker.difficult(0), ç„¶åä»£ç æ‰èƒ½é¡ºåˆ©è¿è¡Œã€‚\nå‚è€ƒ # https://github.com/wkentaro/labelme/pull/241 ","date":"21 December 2019","externalUrl":null,"permalink":"/2019/12/21/labelme_json_to_voc_xml/","section":"Posts","summary":"\u003cp\u003eLabelme æ˜¯ä¸€æ¬¾å¸¸ç”¨çš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡æ ‡æ³¨å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ ‡æ³¨åˆ†ç±»ï¼Œæ£€æµ‹ï¼Œåˆ†å‰²ç­‰ä»»åŠ¡çš„æ•°æ®ã€‚å¯¹äºæ£€æµ‹ä»»åŠ¡ï¼Œlabelme ç”Ÿæˆçš„æ ‡æ³¨æ–‡ä»¶æ˜¯ json æ ¼å¼ï¼Œæ¯ä¸ªå›¾åƒå¯¹åº”ä¸€ä¸ªç›¸åº”çš„ json æ–‡ä»¶ã€‚ä½†æ˜¯å¾ˆå¤šä»»åŠ¡éƒ½ä½¿ç”¨ PASCAL VOC çš„ xml æ ¼å¼æ ‡æ³¨ï¼Œä¾‹å¦‚ \u003ca href=\"https://github.com/facebookresearch/maskrcnn-benchmark\" target=\"_blank\"\u003emaskrcnn-benchmark\u003c/a\u003e ä»»åŠ¡ä¸­çš„ \u003ca href=\"https://github.com/facebookresearch/maskrcnn-benchmark/blob/master/maskrcnn_benchmark/data/datasets/voc.py\" target=\"_blank\"\u003evoc æ•°æ®é›†\u003c/a\u003eã€‚\u003c/p\u003e","title":"Labelme JSON æ ‡æ³¨æ ¼å¼è½¬ voc XML æ ¼å¼","type":"posts"},{"content":"This is the 6th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ How do we get the script names when we get the \u0026lt;SNR\u0026gt; number? # When we use a script local function (see :h script-local) in mapping with the following form\nnnoremap \u0026lt;leader\u0026gt;\u0026lt;space\u0026gt; :call \u0026lt;SID\u0026gt;some_function()\u0026lt;cr\u0026gt; Vim will replace with followed by a number and an Underscore, like this: \u0026lt;SNR\u0026gt;12_some_function(). The number is the order the script containing the function is sourced by Vim. To find the script, use the command :scriptnames, which will print the path of different scripts in the order of being sourced by Vim.\nThe Vim plugin scriptease provides a command :Scriptnames which will show all the sourced script and their index in a quickfix window for better inspection.\nReferences # Get a script\u0026rsquo;s SNR. Open a file and go to specific line # When you run a source file, if something goes wrong, you may see a stack trace of error lines. You may want to jump to the specific lines in that file. If you are in command line, you can use nvim +{NUM} test.py to open file test.py and go the line NUM, for example:\n# open test.py and go to 10th line nvim +10 test.py If you are already in Neovim and want to open a file and go to a particular line, you can use :e or :edit command:\n:e +10 some_file.py References # Nvim doc: :h :edit and :h +cmd. Repeat previous command line command # If you have used a command, how do you repeat that command without typing it again in the command line? You can just press @: (see :h @:).\nReferences # http://tilvim.com/2014/01/29/repeat-cmdline.html How do I repeat any command in Vim, like â€œC-x zâ€ in emacs? The dot â€œ.â€ isn\u0026rsquo;t repeating last command Show character count for selected region # When we select some characters in visual mode, we want to know exactly how many characters are selected. This can be achieved by pressing g followed by Ctrl-G. The info about selected texts will be print on the command line:\nSelected 1 of 42 lines: 1 of 306 Words; 6 of 2015 characters; 18 of 2027 bytes\nReferences # https://superuser.com/questions/289264/count-highlighted-string-length-in-vim Open a file from pipe output in nvim # When the output of a terminal pipe is a file name and you follow it with nvim command, nvim will interpret the filename as text and put the texts in an unnamed buffer.\nIf you want to open the corresponding file instead, you may use xargs:\nfind ~ -type f -name \u0026#34;init.vim\u0026#34; -print |xargs nvim Or you can use the bash $ expansion like the following:\nnvim $(find ~ -type f -name \u0026#34;init.vim\u0026#34; -print) References # To open files in Grep\u0026rsquo;s output to Vim\u0026rsquo;s -o -mode How to a open a file in vim using pipe How to confirm a wildmenu completion and go to next level? # When we set the option wildmenu (set wildmenu), we can cycle between the completion items in the command line using Tab. For example, when we use :edit command to open files, we can use Tab to select which file to edit. But how do we confirm what we want to go to a subdirectory to do further completions?\nAccording to the documentation of wildmenu, we can press the â†“ key to confirm a selection or go to the subdirectory if current selection is a directory. BTW, you can press â†‘ key to go to parent directory. Pressing â† and â†’ will cycle backward and forward the completion items, just like what Ctrl-P and Ctrl-N does.\nReferences # Vim command line mode - how to confirm selection? Confirm selection among options ","date":"21 December 2019","externalUrl":null,"permalink":"/2019/12/21/nifty_nvim_techniques_s6/","section":"Posts","summary":"\u003cp\u003eThis is the 6th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim Techniques That Make My Life Easier -- Series 6","type":"posts"},{"content":"å‡ å‘¨ä¹‹å‰ï¼Œåœ¨ YouTube ä¸Šçœ‹åˆ°äº† Vim åˆ›å§‹äºº Bram Moolenaar åœ¨ Vim Conf 2018 ä¸Šçš„ä¸»é¢˜æŠ¥å‘Šï¼Œä»‹ç»äº† Vim çš„å†å²ä»¥åŠå¯èƒ½è¦æ·»åŠ çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ŒèŒç”Ÿäº†ç»™è¿™ä¸ªè§†é¢‘é…å­—å¹•çš„æƒ³æ³•ã€‚\nè¦åˆ¶ä½œå­—å¹•ï¼Œéœ€è¦å­—å¹•åˆ¶ä½œè½¯ä»¶çš„ååŠ©ï¼Œåœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€åœˆï¼Œå‘ç°arctime æ˜¯ä¸€æ¬¾ä¸é”™çš„å­—å¹•åˆ¶ä½œè½¯ä»¶ï¼Œç»è¿‡æ¯”è¾ƒï¼Œæœ€åé€‰æ‹©arctime æ¥åˆ¶ä½œå­—å¹•ã€‚\nç”±äºä¹‹å‰æ²¡æœ‰åˆ¶ä½œè¿‡å­—å¹•ï¼Œå¯¹å¦‚ä½•åˆ¶ä½œå­—å¹•æ²¡æœ‰ä»»ä½•æ¦‚å¿µï¼Œä¹Ÿèµ°äº†ä¸€äº›å¼¯è·¯ã€‚åšå®Œäº† Bramçš„è¿™ä¸ªæ¼”è®²è§†é¢‘ä»¥åï¼Œå¯¹å­—å¹•åˆ¶ä½œè¿‡ç¨‹æœ‰äº†ä¸€å®šäº†è§£ã€‚å­—å¹•åˆ¶ä½œå¤§è‡´åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼š\nåˆ¶ä½œå­—å¹•ç¨¿ åŒ¹é…å­—å¹•ç¨¿å’Œè§†é¢‘çš„æ—¶é—´è½´ åˆ¶ä½œå­—å¹•ç¨¿ # è¿™ä¸€æ­¥å…¶å®å’Œ arctime æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œç®€å•æ¥è¯´ï¼Œåˆ¶ä½œå­—å¹•ç¨¿ï¼Œå°±æ˜¯æŠŠè§†é¢‘ä¸­äººç‰©çš„è®²è¯ï¼ŒæŒ‰ç…§ä¸€è¡Œä¸€å¥æˆ–è€…ä¸€è¡Œä¸€ä¸ªåˆ†å¥çš„æ ¼å¼è½¬å˜ä¸ºæ–‡å­—ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸€è¡Œçš„æ–‡å­—ä¸å®œè¿‡é•¿ï¼Œå› ä¸ºå­—å¹•æ˜¯è¦æ˜¾ç¤ºåœ¨è§†é¢‘ä¸Šçš„ï¼Œä¸€æ–¹é¢è§†é¢‘ç”»é¢æ”¾ä¸ä¸‹å¤ªé•¿çš„å­—å¹•ï¼Œéœ€è¦è½¬è¡Œï¼Œå¦å¤–å¤ªé•¿çš„å­—å¹•ï¼Œè¯»è€…å¯èƒ½æ¥ä¸åŠçœ‹å®Œï¼Œè§†é¢‘å°±è·³åˆ°äº†ä¸‹ä¸€å¥äº†ã€‚æ ¹æ®æˆ‘çš„ç»éªŒï¼Œå¦‚æœè®²è¯è€…ä¸€å¥è¯æ¯”è¾ƒçŸ­ï¼Œå¯ä»¥ä½œä¸ºä¸€è¡Œæ–‡æœ¬ï¼Œå¦‚æœä¸€å¥è¯è¾ƒé•¿ï¼Œæœ€å¥½åˆ†ä¸ºä¸¤è¡Œæˆ–è€…ä¸‰è¡Œæ¥ä¹¦å†™ï¼Œåœ¨åˆé€‚çš„åœ°æ–¹æ–­å¼€å³å¯ã€‚\nå­—å¹•ç¨¿åˆ¶ä½œè¿™ä¸€æ­¥æ˜¯æœ€è€—æ—¶çš„ï¼ŒBram çš„æ¼”è®²å¤§çº¦æœ‰ 59 åˆ†é’Ÿï¼Œæˆ‘è½¬å†™ä¸ºå­—å¹•ç¨¿çš„æ—¶é—´å¤§çº¦æ˜¯å‘¨æœ«ä¸¤å¤©å†åŠ å¹³æ—¶ä¸‹ç­ä»¥åçš„å¥½å‡ å¤©æ—¶é—´ï¼Œæ€»æ—¶é•¿ä¼°è®¡æœ‰ 10 å°æ—¶ã€‚\nå­—å¹•ç¨¿åˆ¶ä½œå®Œæˆä»¥åï¼Œä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶å³å¯ï¼Œæœ€å¥½ä½¿ç”¨ UTF-8 ç¼–ç ã€‚\nåŒ¹é…å­—å¹•ç¨¿å’Œè§†é¢‘æ—¶é—´è½´ # è¿™ä¸€æ­¥å°±æ˜¯æŠŠå­—å¹•ç¨¿çš„æ¯ä¸€è¡Œæ–‡æœ¬å’Œè§†é¢‘ä¸­çš„æ¯ä¸€å°æ®µæ—¶é—´å¯¹åº”èµ·æ¥ã€‚æ‰“å¼€ arctimeï¼Œå…ˆå¯¼å…¥è§†é¢‘ï¼Œç„¶åå†å¯¼å…¥å­—å¹•ç¨¿(å¯ä»¥ç›´æ¥æ‹–æ‹½è§†é¢‘å’Œå­—å¹•ç¨¿å¯¼å…¥)ï¼Œè§†é¢‘ä¼šæ˜¾ç¤ºåœ¨å·¦è¾¹ï¼Œå­—å¹•ç¨¿å†…å®¹ä¼šæ˜¾ç¤ºåœ¨å³è¾¹ã€‚\nç‚¹å‡»è§†é¢‘å·¦ä¸‹æ–¹å·¥å…·æ çš„ \u0026ldquo;è§†é¢‘å¿«é€Ÿæ‹–æ‹½åˆ›å»ºå·¥å…·\u0026rdquo;ï¼Œå³å¯å¼€å§‹åŒ¹é…å­—å¹•ç¨¿å’Œæ—¶é—´è½´ï¼Œç‚¹å‡»æ’­æ”¾ä»¥åï¼Œæ—¶é—´è½´ä¼šå¿«é€Ÿç§»åŠ¨ï¼Œç­‰æ—¶é—´è½´ç§»åŠ¨åˆ°å­—å¹•ç¨¿å½“å‰è¡Œæ–‡å­—çš„ç»“å°¾ï¼Œæš‚åœæ’­æ”¾ï¼Œç„¶åæ‹–åŠ¨é¼ æ ‡ï¼Œå¯ä»¥åœ¨æ—¶é—´è½´ä¸Šå½¢æˆä¸€ä¸ªå­—å¹•å—ï¼Œå¯¹åº”äºå½“å‰å­—å¹•ç¨¿è¡Œã€‚æŠŠé¼ æ ‡ç§»åŠ¨åˆ°å­—å¹•å—çš„å¼€å¤´æˆ–è€…ç»“å°¾ï¼Œè¿˜å¯ä»¥å¾®è°ƒå­—å¹•å—çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ï¼Œä¾¿äºæ ¡å‡†å­—å¹•å—ã€‚åˆ¶ä½œå­—å¹•å—çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨å·¥å…·æ çš„â€œæ ‡è®°ç‚¹â€æ ‡è®°æ–‡æœ¬çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œæ–¹ä¾¿æ‹‰å–å­—å¹•å—çš„æ—¶å€™ç¡®å®šå½“å‰æ–‡æœ¬å¯¹åº”æ—¶é—´è½´çš„èµ·å§‹ä½ç½®ã€‚\né‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œå°±å¯ä»¥åˆ¶ä½œå…¶ä»–çš„å­—å¹•å—ï¼Œç›´åˆ°æ‰€æœ‰å­—å¹•å—åˆ¶ä½œå®Œæˆã€‚\næ”¶å°¾ä¸å®Œæˆ # å­—å¹•å—å®Œæˆåˆ¶ä½œä»¥åï¼Œå¯ä»¥æŠŠæ—¶é—´è½´çš„å…‰æ ‡ç§»åŠ¨åˆ°è§†é¢‘å¼€å¤´ï¼Œå¼€å§‹æ’­æ”¾ï¼ŒæŸ¥çœ‹åˆ¶ä½œçš„å­—å¹•çš„æ•ˆæœï¼Œå¯¹å­—å¹•å—è¿›è¡Œç²¾è°ƒã€‚\nå­—å¹•æ¢è¡Œ # å¦‚æœæ’­æ”¾ä¸­ï¼Œå‘ç°æŸä¸€ä¸ªå­—å¹•å¤ªé•¿ï¼Œå¯ä»¥æš‚åœæ’­æ”¾ï¼ŒåŒå‡»è¯¥å­—å¹•å—ï¼Œç„¶ååœ¨åˆé€‚çš„åœ°æ–¹æ’å…¥æ¢è¡Œç¬¦ \\n å³å¯æŠŠå­—å¹•åˆ†ä¸ºä¸¤è¡Œã€‚å¦å¤–ï¼Œå¦‚æœå‘ç°å­—å¹•ä¸­æœ‰æ–‡å­—é”™è¯¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»å­—å¹•å—å¯¹æ–‡å­—è¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹å­—å¹•å—ä»¥åï¼Œåˆ«å¿˜äº†ç‚¹å‡»å³è¾¹çš„å¯¹å·ç¡®å®šä¿®æ”¹ã€‚ ä¿®æ”¹å­—å¹•å—ä»¥åï¼Œå¯ä»¥æŒ‰ F5 åˆ·æ–°å­—å¹•ï¼ŒæŸ¥çœ‹æ–°çš„å­—å¹•æ ·å¼ã€‚\nå­—å¹•å­—ä½“ç¼–è¾‘ # ç‚¹å‡» â€œæ ·å¼ç®¡ç†â€œ \u0026mdash;\u0026gt; â€œç¼–è¾‘é€‰å®šæ ·å¼â€œ å¯ä»¥å¯¹å­—å¹•çš„å­—ä½“è¿›è¡Œè®¾ç½®ï¼ŒåŒ…æ‹¬å­—ä½“çš„é¢œè‰²ï¼Œå¤§å°ï¼Œä½ç½®ç­‰ç­‰ã€‚\nå­—å¹•å¯¼å‡ºä¸è§†é¢‘ç”Ÿæˆ # å¦‚æœåªéœ€è¦ç”Ÿæˆå¤–æŒ‚å­—å¹•ï¼Œå¯ä»¥é€‰æ‹© â€œå¯¼å‡ºâ€ \u0026mdash;\u0026gt; â€œå­—å¹•ç¨¿â€ï¼Œè®¾ç½®å¯¼å‡ºçš„å­—å¹•æ ¼å¼ã€‚\nå¦‚æœéœ€è¦æŠŠå­—å¹•å›ºåŒ–åˆ°è§†é¢‘ä¸­ï¼Œéœ€è¦å‹åˆ¶è§†é¢‘ï¼Œé€‰æ‹©â€œå¯¼å‡ºâ€èœå•ä¸­çš„ â€œå¿«é€Ÿå‹åˆ¶è§†é¢‘â€ é€‰é¡¹ï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦å‹åˆ¶è§†é¢‘å³å¯ã€‚\nå¯¼å‡ºçš„å­—å¹•ç¨¿æˆ–è€…å‹åˆ¶çš„è§†é¢‘å’ŒåŸè§†é¢‘éƒ½ä½äºåŒä¸€æ ¹ç›®å½•ä¸‹é¢ã€‚\næœ€åï¼Œå‹åˆ¶çš„è§†é¢‘å·²ç»ä¸Šä¼ åˆ°äº† bilibili ä¸Šï¼Œç‚¹å‡» è¿™é‡Œ å¯ä»¥æŸ¥çœ‹ã€‚\nå‚è€ƒ # Mac ä¸‹å­—å¹•åˆ¶ä½œè½¯ä»¶æ¨è arctime å®˜æ–¹æ•™ç¨‹ ","date":"15 December 2019","externalUrl":null,"permalink":"/2019/12/15/mac_video_subtitle_make/","section":"Posts","summary":"\u003cp\u003eå‡ å‘¨ä¹‹å‰ï¼Œåœ¨ YouTube ä¸Šçœ‹åˆ°äº† Vim åˆ›å§‹äºº Bram Moolenaar åœ¨ \u003ca href=\"https://vimconf.org/2018/\" target=\"_blank\"\u003eVim Conf 2018\u003c/a\u003e ä¸Šçš„\u003ca href=\"https://www.youtube.com/watch?v=ES1L2SPgIDI\" target=\"_blank\"\u003eä¸»é¢˜æŠ¥å‘Š\u003c/a\u003eï¼Œä»‹ç»äº† Vim çš„å†å²ä»¥åŠå¯èƒ½è¦æ·»åŠ çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ŒèŒç”Ÿäº†ç»™è¿™ä¸ªè§†é¢‘é…å­—å¹•çš„æƒ³æ³•ã€‚\u003c/p\u003e","title":"macOS ä¸‹å¦‚ä½•ä¸ºè§†é¢‘åˆ¶ä½œå­—å¹•","type":"posts"},{"content":"Introduction # When I am writing some prototyping code inside Neovim, I want to run the script without going to the terminal and typing python toy_script.py. Of course, we can use :!python % in the command line to run the script (see :h :!). The problem is that running external command will block Nvim/Vim, and we can not move the cursor until the script finishes running.\nOf course, on Linux and Mac, you can use !python % \u0026amp; to run the script in the background, but you can not get the output of the script.\nAsynchronous command in Nvim/Vim # Fortunately, both Neovim and Vim provides the job feature to run external command asynchronously. However, to use those features, you have to write non-trivial amount of code. Thanks to plugins like vim-dispatch and asyncrun.vim, we can use this feature easily.\nAsyncrun.vim # In this post, I would like to share how to set up asyncrun.vim and use it. First, you can install it with vim-plug:\nPlug \u0026#39;skywind3000/asyncrun.vim\u0026#39; It provides the AsyncRun command to run external shell commands asynchronously. For example, to run the current Python script, you can use the following command:\n\u0026#34; use quote to avoid spaces in file names :AsyncRun python \u0026#34;%\u0026#34; The above command will run current script in the background without blocking Neovim. You can still edit the source code as you will when the program is running..\nAsyncrun.vim will put the output of the command in the quickfix list. To see the command output, use :copen to open the quickfix window. You can also set up a config to open the quickfix window automatically when you use AsyncRun. Just add the following setting to your init.vim or vimrc:\nlet g:asyncrun_open = 6 Then a quickfix window of 6 line tall will be opened automatically after asyncrun starts.\nPython related issues # Command output encoding # When you use asyncrun.vim on Windows, you may find that Chinese characters may not be displayed properly in the quickfix window. That is because the command output encoding on Windows may not be the same with the encoding you use (suppose you are using utf-8 encoding). You can set up the variable g:asyncrun_encs to gbk encoding to solve this issue:\nif has(\u0026#39;win32\u0026#39;) \u0026#34; Command output encoding for Windows let g:asyncrun_encs = \u0026#39;gbk\u0026#39; endif Then Chinese characters should display properly.\nDisplay command output in real time # When python script is running in background, the output is buffered, i.e., you can not see the script output immediately after a print() statement is executed. You will only see the output after cache buffer is full or when the script finishes execution. There are two easy ways to fix this issue.\nThe first is to add PYTHONUNBUFFERED variable in your init.vim or vimrc:\nlet PYTHONUNBUFFERED=1 Or you need to run python command with -u option:\n:AsyncRun python -u \u0026#34;%\u0026#34; We can also create a shortcut to execute script quickly:\naugroup python_file autocmd! autocmd FileType python nnoremap \u0026lt;F9\u0026gt; :AsyncRun python -u \u0026#34;%\u0026#34;\u0026lt;CR\u0026gt; augroup END References # Execute shell command silently in Vim. Disable output buffering for Python. Can not see python script output in real time. ","date":"9 December 2019","externalUrl":null,"permalink":"/2019/12/09/vim_asynchronous_command_run/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eWhen I am writing some prototyping code inside Neovim, I want to run the script\nwithout going to the terminal and typing \u003ccode\u003epython toy_script.py\u003c/code\u003e. Of course, we\ncan use \u003ccode\u003e:!python %\u003c/code\u003e in the command line to run the script (see \u003ccode\u003e:h :!\u003c/code\u003e). The\nproblem is that running external command will block Nvim/Vim, and we can not\nmove the cursor until the script finishes running.\u003c/p\u003e","title":"Running Command Asynchronously inside Neovim","type":"posts"},{"content":"Sometimes, when we are working with our local changes in a Git repo, we may want to pull the latest updates from the remote repository. To avoid code conflict between remote files and local files. We can use git stash to store the unfinished local work temporarily.\nGit-stash gives you a clean repo and revert the repo state to last commit. Then we can use git pull to pull the updates.\nGit stash basic knowledge # Stashed changes are per repository, not per branch. # If you are in a certain branch and do a git stash, you may think that the stashed changes only belong to that branch. However, that is not the case. Since you have not committed the changes, they do not belong to any branch, even if you are currently working on a specific branch (see here).\nShow stashed changes # To show stashed changes, use git stash list. It will show a list of stash you have made.\nShow the detailed info of a particular stash # Each stash in the stash list can be referenced by its number. To show changes in a particular stash, we can use the following command:\n# show changes in the first stash git stash show stash@{0} The above command only shows summary changes to files in a stash. To show detailed changes of a stash, add the -p option:\ngit stash show -p stash@{0} Applying git stash # After the git-pull, we may want to continue our unfinished work. We can use git stash pop to restore unfinished work. You can also use git stash apply instead. The difference between git stash pop and git stash apply is that the former will drop the stash if there is no merge conflict, while the later will never drop the stash even if the stashed changes merge successfully with the pulled code.\nAnyway, if everything goes well, our unfinished changes can merge with the remote updates without any conflict. However, if we and other collaborator both have changed the same file at the same place, we will encounter merge errors after git-stash. The error message is like the following:\nAuto-merging test.txt CONFLICT (content): Merge conflict in test.txt The stash entry is kept in case you need it again. Conflict markers # When we open the conflict file, we will see some markers like the following:\nabc \u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; Updated upstream qwe ======= lmn \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; Stashed changes These markers are called conflict markers, which are used to indicate the conflicting changes made to a file.\nIn the git-stash case, code between \u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; and ======= are the changes made upstream, and code between ======= and \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; are your stashed changes.\nMerge conflict # To merge the conflict, you have basically two methods:\nResolve the conflict manually: decide if you want your change or the upstream change or you want to combine the local and remote change. Then edit the file accordingly and remove those conflict markers. Resolve the conflict with mergetools. See here for an introduction. Mark conflict as resolved # After resolving the conflict, you can use git add to mark the conflict as resolved. But in the git-stash scenario, you may not want to do this since your changes are not finished yet.\nOr you can use git reset to mark that the conflict has been solved. You can continue working on your project until your changes are completed, and then commit your changes.\nAfter the conflict has been resolved, do not forget to use git stash drop to drop the stash because the stash will not be dropped automatically in case of a merge conflict.\nReferences # Preview changes for a git stash. Difference between git stash pop and git stash apply. Git merge left HEAD marks in my files. Resolve Git stash conflict.. https://stackoverflow.com/q/55366930/6064933 Resolve git stash conflict without commiting. Resolve conflict after stash pop. ","date":"3 December 2019","externalUrl":null,"permalink":"/2019/12/03/git_stash_merge_conflict_handling/","section":"Posts","summary":"\u003cp\u003eSometimes, when we are working with our local changes in a Git repo, we may\nwant to pull the latest updates from the remote repository. To avoid code\nconflict between remote files and local files. We can use \u003ccode\u003egit stash\u003c/code\u003e to store\nthe unfinished local work temporarily.\u003c/p\u003e","title":"Resolving Merge Conflict after Git Stash Pop","type":"posts"},{"content":"","date":"28 November 2019","externalUrl":null,"permalink":"/tags/pylint/","section":"Tags","summary":"","title":"Pylint","type":"tags"},{"content":"The system I am currently using has Anaconda pre-installed by root under system locations.\nTo install user packages, we need to install them to a user location. For example, to install pylint, we need to add --user option for pip install:\npip install --user pylint However, when I use pylint command, I get the following error:\n-bash: pylint command not found\nSince there is no error when installing pylint, I think there is no problem with installation. I use the find command and find that pylint executable is placed under ~/.local/bin, which is not part of the PATH variable. So the reason is that pylint executable is installed into a directory that isn\u0026rsquo;t in your PATH.\nA more reliable way to find where the pylint executable is installed is to list the files which are installed in pylint with the pip show command:\npip show -f pylint You will see part of the output like the following:\nLocation: /home/xxxx/.local/lib/python3.6/site-packages Requires: astroid, mccabe, isort Required-by: Files: ../../../bin/epylint ../../../bin/pylint ../../../bin/pyreverse ../../../bin/symilar So the location of pylint executable is $HOME/.local/bin/. You should add the directory to system PATH to use pylint:\nexport PATH=$HOME/.local/bin:$PATH For flake8, the same issue exists and the solution is the same, which I will not elaborate on.\nReferences # Pip show which files are installed with a package. https://stackoverflow.com/q/51358987/6064933 https://stackoverflow.com/q/48015106/6064933 flake8 not found. ","date":"28 November 2019","externalUrl":null,"permalink":"/2019/11/28/pylint_command_not_found/","section":"Posts","summary":"\u003cp\u003eThe system I am currently using has Anaconda pre-installed by root under system\nlocations.\u003c/p\u003e","title":"Pylint: command not found?","type":"posts"},{"content":" update log 2021-07-15: use pylsp instead of pyls since pyls is obsolete. 2021-04-08: update post based on latest version of Neovim-lsp. 2020-09-14: update lsp config to reflect the latest changes and add more plugins. Just a few days ago, the built-in Language Server Protocol support has been merged into Neovim master.\nThis post is a hands-on experience of setting up LSP support for Python with the python-lsp-server.\nNote that settings here may be obsolete due to rapid evolving of the built-in lsp.\nInstall Neovim # To try the built-in LSP, we have to install Neovim master build release or build Neovim from source. The easiest way is to install Neovim nightly release.\nInstall nvim-lspconfig # To ease configuration, the contributor to LSP has created the nvim-lspconfig plugin. We can use vim-plug to install this plugin:\nPlug \u0026#39;neovim/nvim-lspconfig\u0026#39; Configuration for Python # First, we need to install python-lsp-server. We can install python-lsp-server and all its dependencies with the following command:\npip install \u0026#39;python-lsp-server[all]\u0026#39; Open init.vim and add the following settings:\nlua \u0026lt;\u0026lt; EOF require(\u0026#34;lspconfig\u0026#34;).pylsp.setup{} EOF set completeopt-=preview \u0026#34; use omni completion provided by lsp autocmd Filetype python setlocal omnifunc=v:lua.vim.lsp.omnifunc Then open a Python source file. Note that the built-in LSP does not support auto-completion like what is provided by deoplete. To invoke completion, we need to press \u0026lt;C-X\u0026gt;\u0026lt;C-O\u0026gt;1. If all goes well, you should be able to see a completion menu with all the completion items.\nThe auto-completion experience # Neovim may hang or lag behind when you start completion since all the compeltion items will be shown in the completion menu and the number of items may be huge. There is also no auto-completion like what is provided by other more mature completion engines. It may take a while before you can really use this for your daily work. Right now, I suggest you stick to your current completion engines.\nUseful mappings # There are other functions provided by LSP which you may find useful. You can add the following mappings for those functions:\nnnoremap \u0026lt;silent\u0026gt; gd \u0026lt;cmd\u0026gt;lua vim.lsp.buf.declaration()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;c-]\u0026gt; \u0026lt;cmd\u0026gt;lua vim.lsp.buf.definition()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; K \u0026lt;cmd\u0026gt;lua vim.lsp.buf.hover()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gD \u0026lt;cmd\u0026gt;lua vim.lsp.buf.implementation()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;c-k\u0026gt; \u0026lt;cmd\u0026gt;lua vim.lsp.buf.signature_help()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; 1gD \u0026lt;cmd\u0026gt;lua vim.lsp.buf.type_definition()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gr \u0026lt;cmd\u0026gt;lua vim.lsp.buf.references()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; g0 \u0026lt;cmd\u0026gt;lua vim.lsp.buf.document_symbol()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gW \u0026lt;cmd\u0026gt;lua vim.lsp.buf.workspace_symbol()\u0026lt;CR\u0026gt; Because some of the methods are not supported by a particular lanuage server. So not all these mappings will work as expected. You may encounter errors when you use these mappings if the language server does not implement such features.\nhelper plugins # Although we can use the LSP feature with the above minimum configuration. The user experience is not great, at least worse than Deoplete. There are plugins made around LSP to make your life easier and more comfortable.\nThe plugin completion-nvim and diagnostic-nvim are two such plugins. completion-nvim provides auto-completion for LSP, and diagnostic-nvim provides better disgnostic experience.\nThe minimal and complete config is list below:\nClick to show the code. \u0026#34; Note we need to install these plugins using PlugInstall command before using them. call plug#begin(\u0026#39;~/.local/share/nvim/plugged\u0026#39;) Plug \u0026#39;neovim/nvim-lsp\u0026#39; Plug \u0026#39;nvim-lua/completion-nvim\u0026#39; Plug \u0026#39;nvim-lua/diagnostic-nvim\u0026#39; Plug \u0026#39;lifepillar/vim-gruvbox8\u0026#39; call plug#end() lua \u0026lt;\u0026lt; EOF require\u0026#39;nvim_lsp\u0026#39;.pyls.setup{} EOF set completeopt-=preview \u0026#34; use omni completion provided by lsp autocmd Filetype python setlocal omnifunc=v:lua.vim.lsp.omnifunc \u0026#34; some shortcuts nnoremap \u0026lt;silent\u0026gt; gd \u0026lt;cmd\u0026gt;lua vim.lsp.buf.declaration()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;c-]\u0026gt; \u0026lt;cmd\u0026gt;lua vim.lsp.buf.definition()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; K \u0026lt;cmd\u0026gt;lua vim.lsp.buf.hover()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gD \u0026lt;cmd\u0026gt;lua vim.lsp.buf.implementation()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;c-k\u0026gt; \u0026lt;cmd\u0026gt;lua vim.lsp.buf.signature_help()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; 1gD \u0026lt;cmd\u0026gt;lua vim.lsp.buf.type_definition()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gr \u0026lt;cmd\u0026gt;lua vim.lsp.buf.references()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; g0 \u0026lt;cmd\u0026gt;lua vim.lsp.buf.document_symbol()\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; gW \u0026lt;cmd\u0026gt;lua vim.lsp.buf.workspace_symbol()\u0026lt;CR\u0026gt; set completeopt=menuone,noinsert,noselect lua \u0026lt;\u0026lt; EOF local on_attach_vim = function(client) require\u0026#39;completion\u0026#39;.on_attach(client) require\u0026#39;diagnostic\u0026#39;.on_attach(client) end require\u0026#39;nvim_lsp\u0026#39;.pyls.setup{on_attach=on_attach_vim} EOF let g:diagnostic_enable_virtual_text = 1 let g:diagnostic_enable_underline = 0 let g:diagnostic_auto_popup_while_jump = 1 let g:diagnostic_insert_delay = 1 colorscheme gruvbox8_hard A good plugin to install is nvim-compe which provides auto-completion for the built-in lsp.\nReferences # https://github.com/neovim/nvim-lspconfig#nvim-lspconfig https://www.reddit.com/r/neovim/comments/dx098o/github_neovimnvimlsp_common_configurations_for/ https://www.reddit.com/r/neovim/comments/dvd8sz/builtin_language_server_with_my_preferred_style/ For more info, see :h 'omnifunc' and :h i_CTRL-X_CTRL-O.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 November 2019","externalUrl":null,"permalink":"/2019/11/20/neovim_builtin_lsp_hands_on/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-07-15: use pylsp instead of pyls since pyls is obsolete.\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-04-08: update post based on latest version of Neovim-lsp.\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2020-09-14: update lsp config to reflect the latest changes and add more plugins.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eJust a few days ago, the built-in \u003ca href=\"https://microsoft.github.io/language-server-protocol/\" target=\"_blank\"\u003eLanguage Server Protocol\u003c/a\u003e\nsupport \u003ca href=\"https://github.com/neovim/neovim/pull/11336\" target=\"_blank\"\u003ehas been merged\u003c/a\u003e into Neovim master.\u003c/p\u003e\n\u003cp\u003eThis post is a hands-on experience of setting up LSP support for Python with\nthe \u003ca href=\"https://github.com/python-lsp/python-lsp-server\" target=\"_blank\"\u003epython-lsp-server\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eNote that settings here may be obsolete due to rapid evolving of the built-in lsp.\u003c/p\u003e","title":"A Hands-on Experience with Neovim's Built-in LSP Support","type":"posts"},{"content":"Previously, I have talked about how to convert PDF to images using pdftoppm here. In this post, I want to share how to accomplish this task with Imagemagick.\nImagemagick provides the convert tool that can be used to do various complicated image processing tasks.\nConvert All Pages of PDF File to Images # Use convert to convert PDF pages to images with the following command:\nconvert -density 150 presentation.pdf -quality 90 output-%3d.jpg In the above command, we convert all the pages of the PDF files to images. -density is used to specify the DPI of the output images. For PDF files, it must be the first option since PDF files has no notion of DPI. This option must be used first so that convert know how to sample the PDF pages. -quality specify the quality for the generated images. %3d is used to specify the format for generated image names. The generated images will be named output-001.jpg, output-002.jpg \u0026hellip;\u0026hellip;\nConvert Single Page of PDF File to Image # To convert a single page of PDF to image, use the following command:\nconvert -density 150 presentation.pdf[0] -quality 90 test.jpg The number inside the bracket is used to select a page. Note that the page index starts at 0 instead of 1.\nTo resize the converted image, you can supply the -resize option:\nconvert -density 150 presentation.pdf[0] -quality 90 -resize 50% test.jpg Convert A Range of PDF Pages to Images # You can also specify a range of pages with the following command:\n# convert from page 0 to page 5 convert -density 150 presentation.pdf[0-5] -quality 90 test.jpg References # https://aleksandarjakovljevic.com/convert-pdf-images-using-imagemagick/ https://askubuntu.com/questions/50170/how-to-convert-pdf-to-image https://stackoverflow.com/questions/6605006/convert-pdf-to-image-with-high-resolution Convert multi-page PDFs to multiple images. Imagemagick: command line options. Imagemagick: command line processing. ","date":"20 November 2019","externalUrl":null,"permalink":"/2019/11/20/convert_pdf_to_image_imagemagick/","section":"Posts","summary":"\u003cp\u003ePreviously, I have talked about how to convert PDF to images using pdftoppm\n\u003ca href=\"https://jdhao.github.io/2019/11/14/convert_pdf_to_images_pdftoppm/\" target=\"_blank\"\u003ehere\u003c/a\u003e.\nIn this post, I want to share how to accomplish this task with\n\u003ca href=\"https://imagemagick.org/index.php\" target=\"_blank\"\u003eImagemagick\u003c/a\u003e.\u003c/p\u003e","title":"How to Convert PDF to Images with Imagemagick","type":"posts"},{"content":"","date":"18 November 2019","externalUrl":null,"permalink":"/tags/language/","section":"Tags","summary":"","title":"Language","type":"tags"},{"content":"ä¸Š Reddit æˆ– GitHub æ—¶ï¼Œåœ¨è®¨è®ºä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ä¸€äº›ç¼©ç•¥è¯ï¼Œä½œä¸ºä¸€åé native speakerï¼Œæˆ‘ç»å¸¸æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ï¼Œä¸çŸ¥é“è¿™äº›ç¼©ç•¥è¯­å•¥æ„æ€ã€‚è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€äº›å¸¸ç”¨ç¼©ç•¥è¯­ä»¥åŠä¸­æ–‡å«ä¹‰ã€‚\nç¼©ç•¥è¯åˆ—è¡¨ # AFAIK: As Far As I Know, æ®æˆ‘æ‰€çŸ¥ã€‚ ATM: At The Moment, åœ¨æ­¤åˆ»ï¼Œç°åœ¨ã€‚ AWOL: Absent Without Official Leave, æ²¡æœ‰å¾—åˆ°æ‰¹å‡†ï¼Œç§è‡ªç¦»å¼€ã€‚ BAU: Business As Usual, å’Œå¾€å¸¸ä¸€æ ·æ­£å¸¸ã€‚ DM: Direct Message, æŒ‡çš„æ˜¯ç”¨ç¤¾äº¤è½¯ä»¶å·¥å…·å‘ç§ä¿¡ã€‚ DWIM: Do What I Mean, æŒ‡çš„æ˜¯è®¡ç®—æœºèƒ½å¤Ÿæ ¹æ®äººçš„æ„å›¾ï¼Œåšå‡ºç¬¦åˆçš„ååº”ã€‚ ELI5: Explain Like I\u0026rsquo;m 5ï¼ŒæŒ‡çš„æ˜¯ç”¨é€šä¿—æ˜“æ‡‚çš„è¯è§£é‡ŠæŸä¸ªæ¦‚å¿µã€‚ FOMO: Fear Of Missing Out, å®³æ€•é”™è¿‡æŸä¸ªä¸œè¥¿/æŸäº‹(ä¸€èˆ¬æ˜¯æ¯”è¾ƒç«çš„ä¸œè¥¿) FOSS: Free And Open-Source Software, è‡ªç”±ä¸å¼€æºè½¯ä»¶ã€‚ FWIW: For What Is Worth, ç»™åˆ«äººä¸€äº›ä¿¡æ¯ï¼Œä½†ä¸ç¡®å®šæ˜¯å¦æœ‰ç”¨ã€‚ FYI: For Your Information, ä»…ä¾›å‚è€ƒã€‚ GIYF: Google Is Your Friend, è¯·è‡ªå·±å»è°·æ­Œã€‚ GTFO: Get the Fuck Outï¼Œæ»šå‡ºå»ã€‚ IANAL: I Am Not A Lawyer, æˆ‘ä¸æ˜¯å¾‹å¸ˆï¼ˆä¸ªäººè§‚ç‚¹ï¼Œä»…ä¾›å‚è€ƒï¼‰ã€‚ IIRC: If I Recall Correctly, å¦‚æœæˆ‘è®°å¾—æ²¡é”™çš„è¯ã€‚ IMHO: In My Humble Opinion, ä¾æˆ‘æ„šè§ã€‚ IMO: In My Opinion, ä¾æˆ‘ä¹‹è§ã€‚ IOW: In other words, æ¢ä¸€ç§è¯´æ³•ã€‚ IRL: In Real Life, åœ¨å®é™…ç”Ÿæ´»ä¸­ã€‚ LGTM: Looks Good To Me, åœ¨æˆ‘çœ‹èµ·æ¥è¿˜ä¸é”™ã€‚ LMAO: Laugh My Ass Offï¼Œç¬‘æ­»æˆ‘äº†ã€‚ LMGTFY: Let Me Google That For You, è®©æˆ‘ä¸ºä½ è°·æ­Œä¸€ä¸‹ï¼ˆæ„æ€æ˜¯é—®é¢˜å¤ªç®€å•ï¼Œä¸€æœå°±èƒ½æœåˆ°ï¼‰ã€‚ LOL: Laughing Out Loud, å’Œ LMAO æ„æ€å·®ä¸å¤šï¼Œè¡¨ç¤ºç¬‘æ­»æˆ‘äº†ğŸ˜†ã€‚ N.B.: nota bene, è‹±è¯­ note well, ä¸€èˆ¬ç”¨äºå¥é¦–ï¼Œç”¨æ¥å¸å¼•è¯»è€…å¯¹æ¥ä¸‹æ¥å¥å­çš„æ³¨æ„åŠ›ã€‚ NIH: Not Invented Here syndrome, æŒ‡åœ¨è½¯ä»¶å¼€å‘ä¸­é‡å¤é€ è½®å­ï¼Œä¸ä½¿ç”¨å¤–éƒ¨çš„å®ç°ã€‚ OT: Off Topicï¼ŒæŒ‡çš„æ˜¯åœ¨è®ºå›/ç¾¤ç»„ä¸Šçš„è®¨è®ºåç¦»äº†è®ºå›æˆ–è€…ç¾¤ç»„çš„ä¸»é¢˜ã€‚ OTOH: On The Other Hand, å¦å¤–ä¸€æ–¹é¢ï¼Œç”¨äºè¯´æ˜å…¶ä»–æƒ…å†µã€‚ PITA: Pain In The Assï¼Œéå¸¸ä»¤äººçƒ¦æ¼çš„äº‹æƒ…ã€‚ PR: Pull Request, Git åˆå¹¶åˆ†æ”¯è¯·æ±‚ã€‚ PSA: Public Service Announcement, å¼€æºé¡¹ç›®æˆ–è€…æœåŠ¡å‘å¸ƒå…¬å‘Šã€‚ PTAL: Please Take Another Lookï¼Œè¯·å†æ£€æŸ¥ä¸€ä¸‹ï¼ˆæŒ‡å·²ç»æœ‰æ‰€æ›´æ–°æˆ–å˜åŒ–ï¼‰ã€‚ PoC: Proof of Concept, åŸå‹è®¾è®¡ï¼ˆé€šå¸¸ç”¨æ¥è¯æ˜æŸç§æƒ³æ³•çš„å¯è¡Œæ€§ï¼‰ RFC: Request For Comment, å¾æ±‚æ„è§ã€‚ RTFM: Read The Fucking/Fine Manual, è¯·è¯»ç¨‹åºæ–‡æ¡£ SLA: Service Level Agreementï¼Œå¸¸ç”¨æ¥å½¢å®¹äº’è”ç½‘æœåŠ¡çš„ç¨³å®šæ€§ï¼Œä¾‹å¦‚ SLA 0.9999 STFW: Search The Fucking Web, è‡ªå·±å»ç½‘ä¸Šæœç´¢ TBH: To Be Honest, å®è¯è·Ÿä½ è¯´å§ã€‚ TBQH: To Be Quite Honest, å®è¯è·Ÿä½ è¯´å§ï¼ˆè¯­æ°”è¯šæ³ï¼‰ã€‚ TIL: Today I Learned, ä»Šå¤©åˆå­¦åˆ°äº†æ–°çŸ¥è¯†ã€‚ TL;DR: Too Long, Don\u0026rsquo;t Readï¼Œæ€»ç»“èµ·æ¥ï¼Œå°±æ˜¯ï¼ˆä¸€èˆ¬æ”¾åœ¨é•¿æ–‡ç« çš„å¼€å¤´ï¼Œç”¨äºæ€»ç»“è¦ç‚¹ï¼‰ã€‚ TYSM: Thank You So Muchï¼Œéå¸¸æ„Ÿè°¢ã€‚ WDYT: What Do You Think, ä½ è®¤ä¸ºå¦‚ä½•ã€‚ WFH: Work from Homeï¼Œå±…å®¶åŠå…¬ã€‚ WIP: Work In Progressï¼Œæœªå®Œæˆï¼Œè¿˜åœ¨è¿›è¡Œä¸­ã€‚ WLB: Work-Life Balance, å·¥ä½œå’Œç”Ÿæ´»å¹³è¡¡ã€‚ WYSIWYG: What You See Is What You Get, æ‰€è§å³æ‰€å¾—ã€‚ YMMV: Your Mileage May Vary, ä½ çš„æ„Ÿå—æˆ–è€…ä½“éªŒå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ å‚è€ƒ # https://en.wikipedia.org/wiki/RTFM https://github.com/jquery/2015-developer-summit/issues/24 https://www.freecodecamp.org/news/what-do-cryptic-github-comments-mean-9c1912bcc0a4/ https://www.urbandictionary.com/ ","date":"18 November 2019","externalUrl":null,"permalink":"/2019/11/18/acronym_on_internet_and_forum/","section":"Posts","summary":"\u003cp\u003eä¸Š \u003ca href=\"https://www.reddit.com/\" target=\"_blank\"\u003eReddit\u003c/a\u003e æˆ– GitHub æ—¶ï¼Œåœ¨è®¨è®ºä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ä¸€äº›ç¼©ç•¥è¯ï¼Œä½œä¸ºä¸€åé native speakerï¼Œæˆ‘ç»å¸¸æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ï¼Œä¸çŸ¥é“è¿™äº›ç¼©ç•¥è¯­å•¥æ„æ€ã€‚è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€äº›å¸¸ç”¨ç¼©ç•¥è¯­ä»¥åŠä¸­æ–‡å«ä¹‰ã€‚\u003c/p\u003e","title":"äº’è”ç½‘ä¸Šå¸¸ç”¨ç¼©ç•¥è¯­é›†é”¦","type":"posts"},{"content":"There are several options related to file backup behavior in Vim/Nvim.\nbackup writebackup backupdir backupcopy backupext In this post, I will explain how these options are related to each other.\nOption backup controls whether to make a physical backup when writing a file.\nOption writebackup makes sure that a file backup be made before overwriting a file. The backup will be removed when the file is successfully written, unless backup option is also on. It reduces the risk that your file is destroyed if something goes wrong when you are writing the file to disk. For more info about using backup and writebackup together, see :h backup-table.\nThe option backext controls the extension used for backup files. backupext will be appended to the backup file names (default is ~). For example, if your file is test.txt and backupext is .bak, the backup file name will be test.txt.bak.\nThe option backupdir controls where the backup file will be placed. It is a list of directories (comma separated) to put the backup files. The first item in this option will be used. You must make sure that the backup directory exists, or you will see the following error when writing a file:\nE510: Can\u0026rsquo;t make backup file (add ! to override)\nUse the following setting to deal with this error:\nlet g:backupdir=expand(stdpath(\u0026#39;data\u0026#39;) . \u0026#39;/backup\u0026#39;) if !isdirectory(g:backupdir) mkdir(g:backupdir, \u0026#34;p\u0026#34;) endif let \u0026amp;backupdir=g:backupdir There is also an option backupcopy, which needs special attention. The value of backupcopy can be yes, no or auto:\nyes: it will copy the original file to the backup location and overwrite the original file. no: it will rename the original file (i.e., move it to the backup directory) and write a new file with the same name. auto: Nvim will choose whatever works best for you. Note that for some applications, you may want to set backupcopy to yes to avoid issues.\nReferences # Why does vim save files with a ~ extension? E510 error. E510: can not make backup file. What does backupcopy do? What does nowritebackup do? ","date":"16 November 2019","externalUrl":null,"permalink":"/2019/11/16/nvim_file_backup/","section":"Posts","summary":"\u003cp\u003eThere are several options related to file backup behavior in Vim/Nvim.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ebackup\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ewritebackup\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ebackupdir\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ebackupcopy\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ebackupext\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn this post, I will explain how these options are related to each other.\u003c/p\u003e","title":"File Backup in Neovim","type":"posts"},{"content":"In this post, I want to share how to convert PDF to images using the command line tool pdftoppm.\nInstall Poppler # pdftoppm is provided by the poppler project.\nInstall on Windows # For Windows, in order to install the latest version of poppler, we can install it via conda:\nconda install -c conda-forge poppler On Windows, the pdftoppm tool will be installed in ANACONDA_ROOT/Library/bin. We should add this directory to the Windows PATH.\nWe need to install newer version of pdftoppm to use some of its features, for example, exporting to JPEG format1. Note that the poppler provided by this page is too old to be useful.\nInstall on Ubuntu # To install popper on Ubuntu, use apt-get:\napt-get update \u0026amp;\u0026amp; apt-get install -y poppler-utils This package installs the poppler command line utilities, such as pdftoppm, which we are going to use.\nInstall on macOS # On macOS, poppler can be easily installed via homebrew:\nbrew install poppler How to use # To convert a single page of PDF to image, we can run the following command:\npdftoppm -singlefile -f 4 -r 72 -jpeg -jpegopt quality=90 presentation.pdf test_poppler The PDF file we want to convert to images is presentation.pdf. The generated image name prefix is test_poppler. The image extension is decided by the exported image format. An explanation of the options used:\n-singlefile: only convert one page of PDF. It is used together with the -f option to convert a single PDF page. -f: index of the PDF page you want to convert. The page index starts at 1. -r: image DPI in both x and y direction. If you want to set DPI in x and y direction separately, use -rx and -ry instead. -jpeg: convert PDF page to JPEG format. -jpegopt: option used when convert PDF pages to JPEG images. For options and their meanings, see here. According to my test, pdftoppm works great and can produce the needed images quickly.\nUsing pdf2image # If you want to use Python, there is also a package named pdf2image, which is a thin wrapper around pdftoppm. Make sure you have installed pdftoppm and set its PATH correctly.\nIn the following script, I show an example on how to use the package.\nfrom pdf2image import convert_from_path def main(): pages = convert_from_path(\u0026#34;presentation.pdf\u0026#34;, first_page=2, single_file=True) pages[0].save(\u0026#34;test_pdf2image.jpg\u0026#34;, quality=85) if __name__ == \u0026#34;__main__\u0026#34;: main() The function convert_from_path() will convert the PDF to a list of PIL Image object. You can then manipulate the images with the powerful functionality provided by the Pillow package.\nThere also a few important parameters to note:\ndpi: this change the size and quality of the generated images. If you want to generate high quality images, use a large dpi, e.g., 300. thread_count: Use multi-threading to accelerate image generation. The author suggests no more than 4 threads, however, I found more threads lead to lightly faster speed. You may tweak it to fit your need. I have also written a more detailed script to directly generate images from PPT file on the command. You can find the script here.\nReferences # Install poppler on Windows. Install poppler on Ubuntu. Parsing PDF using Python. pdftoppm man page. Note that older version of pdftoppm only support PPM and PNG format. Newer versions support exporting to JPEG and TIFF format image. You should check whether exporting to JPEG is supported by using pdftoppm --help in the command line.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 November 2019","externalUrl":null,"permalink":"/2019/11/14/convert_pdf_to_images_pdftoppm/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how to convert PDF to images using the command\nline tool \u003ca href=\"https://www.xpdfreader.com/pdftoppm-man.html\" target=\"_blank\"\u003epdftoppm\u003c/a\u003e.\u003c/p\u003e","title":"Converting PDF Pages to Images with Poppler","type":"posts"},{"content":"This is the 5th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ How do I source other files in the same directory as my config? # As my config becomes longer and longer, I decided to split it into several Vim scripts. I can then source those files in my init.vim. Initially, I wrote something like source xxxx.vim. To my surprise, Nvim complained that it could not find those Vim script. After searching on the internet, I find that source command works relatively to your current work directory. In order to source certain Vim script in the same directory as init.vim, we have to use their absolute paths. Here is what I come up with:\nlet g:nvim_config_root = stdpath(\u0026#39;config\u0026#39;) let g:config_file_list = [\u0026#39;variables.vim\u0026#39;, \\ \u0026#39;options.vim\u0026#39;, \\ \u0026#39;autocommands.vim\u0026#39;, \\ \u0026#39;mappings.vim\u0026#39;, \\ \u0026#39;plugins.vim\u0026#39;, \\ \u0026#39;ui.vim\u0026#39; \\ ] for f in g:config_file_list execute \u0026#39;source \u0026#39; . g:nvim_config_root . \u0026#39;/\u0026#39; . f endfor In the above settings, we use the stdpath() function to get the directory of nvim config directory, which is rather convenient and works across platforms. Then we loop the files we want to source and source them one by one.\nReferences # Source all vim files in a directory. How to source relative to a file? How to search a pattern only in a line range # Sometimes, we only want to search in a range of lines, i.e., search from line n to line m. The syntax can be best explained by giving a concrete example. Suppose we want to search for the word search from line 10 to line 20, we can use the following search pattern:\n/\\%\u0026gt;10l\\%\u0026lt;20lsearch The start line is given by \\%\u0026gt;10l and the end line is given by \\%\u0026lt;20l. For more info, see :h search-range and :h /\\%l.\nReferences # Search in a range. Add highlight to a pattern # To highlight some patterns, we can use the :match command. For example, in order to highlight trailing white spaces, we may use the following command:\n:match WarningMsg /\\s\\+$/ The 1st argument to :match is a valid highlight group1. In the 2nd argument, the highlight pattern is inside //. For more info, see :h match-highlight.\nThe problem is that we can only highlight one pattern using this command. This means that if we want to highlight another pattern with :match command, only one pattern get highlighted. Vim provides additional :2match and :3match command to some avail. So in total, you can highlight three different patterns using this command.\nFortunately, Vim also provides the matchadd() function which works similarly to :match, except that there is no limit on the number of patterns to match. For example, to match both trailing white spaces and leading tab characters, use the following setting:\ncall matchadd(\u0026#39;Warnings\u0026#39;, \u0026#39;\\s\\+$\u0026#39;) call matchadd(\u0026#39;Warnings\u0026#39;, \u0026#39;^\\t\\+\u0026#39;) In the above settings, it is important that you quote the pattern to match with single quote. If you use double quotes, those backslashes will get translated so that the regex pattern will not right.\nReferences # Why does the pattern in matchadd() is not matched? Difference between single quote and double quote in Vim. How to get the path of currently sourced file? # When Vim is sourcing a file, you can use \u0026lt;sfile\u0026gt; inside function expand() to get the path of the script. To get other info about the sourced file, use filename-modifiers (see :h filename-modifiers).\n\u0026#34; absolute path of currently sourced file echo expand(\u0026#39;\u0026lt;sfile\u0026gt;:p\u0026#39;) \u0026#34; directory containing currently sourced file echo expand(\u0026#39;\u0026lt;sfile\u0026gt;:p:h\u0026#39;) References # Get the path to the current vimscript being executed. Turn tabs to spaces in a buffer quickly # I do not like tabs in my source file so I have set up the following settings in my config:\nset tabstop=4 set softtabstop=4 set expandtabs set shiftwidth=4 This setting works great when I am editing source code. However, for existing code using tabs, Vim/Nvim will not convert tabs into spaces automatically. Usually, I just replace tabs with four spaces manually: :s/\\t/ /g. But it is tedious to type all this.\nThere is a quicker way to turn tabs into spaces using the :retab command. It will turn tabs into 4 spaces if you use the above settings.\nReferences # Replace tabs with spaces in vim You can show all the available highlight groups with :highlight command.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 November 2019","externalUrl":null,"permalink":"/2019/11/11/nifty_nvim_techniques_s5/","section":"Posts","summary":"\u003cp\u003eThis is the 5th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim Techniques That Make My Life Easier -- Series 5","type":"posts"},{"content":"I have been using Neovim for personal projects for over a year. Recently, I want to set up Neovim system wide so that other users in the server can also use my config if they want. In this post, I will summarize the necessary configurations.\nInstallation # First, you need to install Neovim in a system location, for example, under /opt. Then edit the system profile /etc/profile and add the path of Neovim:\nexport PATH=/etc/nvim-linux64/bin:PATH Configuration # Global configuration # According to the documentation of Neovim, Neovim will look for nvim/sysinit.vim under $XDG_CONFIG_DIRS (the default is /etc/xdg)1.\nSo for global configuration, we need to put all configuration under /etc/xdg/nvim. Take my configuration for an example:\nmkdir /etc/xdg/nvim \u0026amp;\u0026amp; cd /etc/xdg/nvim \u0026amp;\u0026amp; git clone --depth 1 https://github.com/jdhao/nvim-config.git . We also need to create a symlink sysinit.vim and link it to init.vim:\nln -s init.vim sysinit.vim Change the value of g:nvim_system_wide in init.vim to 1 to install the plugins system-wide.\nSince I use vim-plug to manage plugins, I have set up vim-plug to install the system wide plugin under /usr/local/share/nvim/site (see code here). Now, as root user, open neovim and use :PlugInstall to install plugins.\nThe system configuration is finished.\nPersonal configuration # Usually, each user may want to change the default configuration set by the root. The user\u0026rsquo;s personal config should be put in $HOME/.config/nvim/init.vim. It will override the global configurations.\nThere is currently one gotcha: the users can not install local plugins using vim-plug easily. If the user want to install a custom plugin, they should first clone the plugin repo to a location and add the plugin path to runtimepath. For example, if we install ayu-vim under /home/jdhao/.local/share/nvim/plugged/ayu-vim, we should add the following setting to $HOME/.config/nvim/init.vim:\nset runtimepath+=/home/jdhao/.local/share/nvim/plugged/ayu-vim Another way of adding your personal plugins to runtimepath is by using vim-plug:\nPlug \u0026#39;~/.local/share/nvim/plugged/ayu-vim\u0026#39; You have to manually update the plugin though.\nReferences # Neovim doc, :h 'runtimepath'. Neovim doc, :h startup. https://wiki.archlinux.org/index.php/XDG_Base_Directory https://github.com/neovim/neovim/issues/8871 system wide nvim config. See neovim documentation :h sysinit.vim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 November 2019","externalUrl":null,"permalink":"/2019/11/10/install_config_neovim_system_wide/","section":"Posts","summary":"\u003cp\u003eI have been using Neovim for personal projects for over a year.\nRecently, I want to set up Neovim system wide so that other users in the server can also use my config if they want.\nIn this post, I will summarize the necessary configurations.\u003c/p\u003e","title":"Neovim Configuration for System-wide Use","type":"posts"},{"content":"In Python, when we want to sort a list of tuples or lists, we may want to sort it based on certain element in each sub-list, for example, sort the list based on the first element in each sub-list.\nThere are two different ways to achieve this, one is using lambda and the other is using itemgetter.\n# using lambda my_list.sort(key=lambda x:x[0]) # using itemgetter from operator import itemgetter my_list.sort(key=itemgetter(0)) According to my benchmark on a list of 1000 tuples, using itemgetter is almost twice as quick as the plain lambda method. The following is my code:\nIn [1]: a = list(range(1000)) In [2]: b = list(range(1000)) In [3]: import random In [4]: random.shuffle(a) In [5]: random.shuffle(b) In [6]: c = list(zip(a, b)) In [7]: %timeit c.sort(key=lambda x: x[1]) 81.4 Âµs Â± 433 ns per loop (mean Â± std. dev. of 7 runs, 10000 loops each) In [8]: random.shuffle(c) In [9]: from operator import itemgetter In [10]: %timeit c.sort(key=itemgetter(1)) 47 Âµs Â± 202 ns per loop (mean Â± std. dev. of 7 runs, 10000 loops each) I have also tested the performance (run time in $Âµs$) of this two method for various list size. See the table below for a comparison:\n+-----------+--------+------------+ | List size | lambda | itemgetter | +-----------+--------+------------+ | 100 | 8.19 | 5.09 | +-----------+--------+------------+ | 1000 | 81.4 | 47 | +-----------+--------+------------+ | 10000 | 855 | 498 | +-----------+--------+------------+ | 100000 | 14600 | 10100 | +-----------+--------+------------+ | 1000000 | 172000 | 131000 | +-----------+--------+------------+ (The code producing the above image can be found here)\nFrom the above image, we can see that itemgetter is consistently faster than lambda regardless of the list size. Combined with its conciseness to select multiple elements from a list, itemgetter is clearly the winner to use in sort method.\nNote: this post is based on my answer on StackOverflow.\n","date":"6 November 2019","externalUrl":null,"permalink":"/2019/11/06/python_sort_list_of_list/","section":"Posts","summary":"\u003cp\u003eIn Python, when we want to sort a list of tuples or lists, we may want to sort\nit based on certain element in each sub-list, for example, sort the list based\non the first element in each sub-list.\u003c/p\u003e","title":"How to sort a list of tuple or list in Python -- lambda or itemgetter?","type":"posts"},{"content":" I have been using vim-airline to customize my statusline ever since I started using Neovim. It works great. Recently, I started a repo named minimal_vim to create a minimal configuration without external plugins for both Vim and Neovim. During the process, I learned how to build a custom statusline from scratch.\nThe primary source of my reference is the Vim help on statusline (see : h 'statusline'). It is well written and should give you enough knowledge on building a simple statusline.\nThe Vim statusline consists of a number of items with special format to indicate what we want to show and how they should be styled, e.g., width, color, alignment, padding etc.\nStatusline item format # Usually, the statusline consists of multiple printf style % items for showing various info about current file, e.g., %F is used to show the full path of current file. The complete format for items are as follows:\n%-0{minWidth}.{maxWidth}{item} - means to align the item to the left instead of right (the default). 0 is the leading zeros for items that return numeric numbers and is overridden by -. minWidth and maxWidth decide the min and max length of the item to be shown. All fields are optional except {item} itself.\nGood conventions: build statusline bit by bit # Since we will use several items to build our statusline, the best practice is to concatenate the various components to build a statusline (also see :h set+=) instead of using a single long strings to set up the statusline. Building the statusline incrementally make it easier to understand and edit.\nFor example, we use the following\nset statusline= \u0026#34; show full file path set statusline+=%F \u0026#34; show current line number set statusline+=%l Show the result of functions or an expression # Vim provides some default items to show info about current file, but that may not be enough. We may want to show the result of a function or show strings based on some conditions. Vim use %{} to evaluate functions or expressions and show the returned strings in statusline.\nTo show the current mode in statusline, we can use the following setting:\nlet g:currentmode={ \\ \u0026#39;n\u0026#39; : \u0026#39;NORMAL \u0026#39;, \\ \u0026#39;v\u0026#39; : \u0026#39;VISUAL \u0026#39;, \\ \u0026#39;V\u0026#39; : \u0026#39;VÂ·Line \u0026#39;, \\ \u0026#34;\\\u0026lt;C-V\u0026gt;\u0026#34; : \u0026#39;VÂ·Block \u0026#39;, \\ \u0026#39;i\u0026#39; : \u0026#39;INSERT \u0026#39;, \\ \u0026#39;R\u0026#39; : \u0026#39;R \u0026#39;, \\ \u0026#39;Rv\u0026#39; : \u0026#39;VÂ·Replace \u0026#39;, \\ \u0026#39;c\u0026#39; : \u0026#39;Command \u0026#39;, \\} set statusline= set statusline+=\\ %{toupper(g:currentmode[mode()])} Based on which mode we are in, the statusline will change automatically.\nTo show a modified sign [+] based on whether current file has been modified, we can use the following setting:\nset statusline+=%{\u0026amp;modified?\u0026#39;[+]\u0026#39;:\u0026#39;\u0026#39;} Using group # Group is used to set width and alignment for several elements as a whole. We start a group with ( and end it with %), i.e., (group_element%). For example, to show file format, we may use the following setting:\nset statusline+=%-7([%{\u0026amp;fileformat}]%) The above group has min width 7 and is left-aligned.\nUsing highlight groups # Ever wondering how to show different colors for different parts of the statusline? It is simple: use highlight groups.\nThere are two slightly different ways to use highlight.\nUse a highlight group name # The first way is to use the name of a highlight group. We can check what highlight groups are available using :highlight command. For example, to use highlight group Warnings, we can use the following setting:\nset statusline+=%#Warnings# set statusline+=%{\u0026amp;bomb?\u0026#39;[BOM]\u0026#39;:\u0026#39;\u0026#39;} The highlight group will take effect from the point it is used in statusline. To switch a highlight, we just need to provide another highlight group at the desired position (which means that if you do not switch it, any later element in statusline use that highlight group).\nUse special user defined highlight groups # Vim also allows us to define 9 special highlight groups named from User1 to User9 and refer to them in statusline with a special syntax like the following:\n\u0026#34; use highlight group User2 set statusline+=%2* First, we need to define the needed user highlight group:\nhi User1 ctermfg=0 ctermbg=114 hi User2 ctermfg=114 ctermbg=0 Then we can use them in statusline settings. To return to the default Statusline colors, we can use:\nset statusline+=%* Common caveat to avoid # The most common error is failing to escape some special characters. Since space and | have special meanings (see also :h option-backslash), we need to use backslash to escape them to include a literal one. For example:\nset statusline+=%{\u0026amp;filetype!=#\u0026#39;\u0026#39;?\u0026amp;filetype.\u0026#39;\\ \u0026#39;:\u0026#39;none\\ \u0026#39;} The above setting will show the current filetype followed by a space or none followed by space if filetype is empty.\n% is also a special character. To include a literal % char, we need to use %%. For example, to show the percentage of current cursor position in the buffer, use:\nset statusline+=%2p%% References # https://gist.github.com/suderman/1243665 https://gist.github.com/autrimpo/f40e4eda233977dd3a619c6083d9bebd Building your own statusline. Scrooloose\u0026rsquo;s vimrc. A better vim statusline? http://got-ravings.blogspot.com/search/label/statuslines ","date":"3 November 2019","externalUrl":null,"permalink":"/2019/11/03/vim_custom_statusline/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20191103144006.png\"\u003e\n\u003c/p\u003e\n\u003cp\u003eI have been using \u003ca href=\"https://github.com/vim-airline/vim-airline\" target=\"_blank\"\u003evim-airline\u003c/a\u003e to\ncustomize my statusline ever since I started using Neovim. It works great.\nRecently, I started \u003ca href=\"https://github.com/jdhao/minimal_vim\" target=\"_blank\"\u003ea repo\u003c/a\u003e named\n\u003ccode\u003eminimal_vim\u003c/code\u003e to create a minimal configuration without external plugins for\nboth Vim and Neovim. During the process, I learned how to build a custom\nstatusline from scratch.\u003c/p\u003e","title":"Building A Vim Statusline from Scratch","type":"posts"},{"content":"èŠ±äº†å·®ä¸å¤šä¸¤ä¸ªæœˆæ—¶é—´ï¼Œäºä¸Šå‘¨çœ‹å®Œäº†ã€ŠThe making of the atomic bombã€‹(ä¸­æ–‡åå«ã€ŠåŸå­å¼¹ç§˜å²ã€‹)ï¼Œè¿™æœ¬ä¹¦æ˜¯ 1988 å¹´ç¾å›½æ™®åˆ©ç­–éè™šæ„ç±»æœ€ä½³å›¾ä¹¦å¥–è·å¥–ä½œå“ã€‚æ•´æœ¬ä¹¦å¾ˆé•¿ï¼Œä¸Šç™¾ä¸‡å­—ï¼Œä½œè€…åœ¨ä¹¦ä¸­å…¨æ™¯å¼å±•ç°äº†äººç±»ç¬¬ä¸€é¢—åŸå­å¼¹çˆ†ç‚¸çš„å®Œæ•´å†å²ï¼ŒæŠŠåŸå­ç‰©ç†å­¦ã€æ ¸ç‰©ç†å‘ç°ï¼ŒçŠ¹å¤ªäººçš„å†å²ï¼ŒåŸå­å¼¹çš„åˆ¶é€ ï¼Œè¿˜æœ‰ç§‘å­¦å®¶çš„æˆé•¿å†ç¨‹ï¼Œèä¸ºä¸€ä½“è®²è¿°ï¼Œè€ƒè¯è¯¦å®ï¼Œè™½ç„¶æœ‰å¤§é‡çš„å†å²ç»†èŠ‚ï¼Œè¯»èµ·æ¥å´å¾ˆè¿‡ç˜¾ï¼Œä¸€ç‚¹ä¹Ÿä¸æ¯ç‡¥ã€‚\næ•´ä½“å†…å®¹ # å¼€å§‹è¯»ä¹‹å‰ï¼Œæˆ‘ä»¥ä¸ºå®ƒè®²çš„åªæ˜¯åŸå­å¼¹å…·ä½“æ˜¯æ€ä¹ˆé€ å‡ºæ¥çš„ï¼Œè¯»äº†ä¸€å¤§åŠï¼Œå‘ç°ä½œè€…å¹¶ä¸æ˜¯æŒ‰ç…§è¿™ç§ç‹­çª„çš„æ€è·¯å»å†™çš„ï¼šå®é™…ä¸Šï¼Œä¸åŸå­å¼¹åˆ¶é€ ç›´æ¥ç›¸å…³çš„æ›¼å“ˆé¡¿è®¡åˆ’ï¼Œåœ¨ä¹¦ä¸­çš„ç¯‡å¹…ä¸è¶…è¿‡ä¸‰åˆ†ä¹‹ä¸€ã€‚\nä½œè€…åœ¨å…¨ä¹¦ç¬¬ä¸€éƒ¨åˆ†ä¸»è¦å›é¡¾äº†äºŒåä¸–çºªå‰åŠå¶äººç±»å¯¹åŸå­ç»“æ„è®¤è¯†çš„å†å²ï¼Œé‡ç‚¹è®²äº†å¢ç‘Ÿç¦çš„åŸå­ç”µå­è½¨é“æ¨¡å‹ä»¥åŠç”¨ä¼ ç»Ÿç‰©ç†å­¦æ— æ³•è§£é‡Šç”µå­ç»•åŸå­æ ¸çš„è¾å°„é—®é¢˜1ï¼Œè¿™éƒ¨åˆ†çŸ¥è¯†å…¶å®é«˜ä¸­ç‰©ç†å·²ç»æ¶‰åŠåˆ°äº†ã€‚åæ¥ï¼Œç»å°”ä¸ºäº†è§£é‡Šå¢ç‘Ÿç¦çš„ç”µå­è½¨é“ç†è®ºï¼Œåˆ›å»ºäº†ç»å°”æ¨¡å‹ã€‚ä½œè€…å¯¹é‡å­ç‰©ç†çš„å…´èµ·å’Œå‘å±•å†å²ä¹Ÿæœ‰æ¶‰åŠï¼Œä¾‹å¦‚æµ·æ£®å ¡çš„æµ‹ä¸å‡†åŸç†ä»¥åŠè–›å®šè°”æ–¹ç¨‹ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œç»å°”æå‡ºç”µå­çš„é‡å­ç†è®ºçš„æ—¶å€™ï¼Œæ‰ 28 å² (ç»å°”å‡ºç”Ÿäº 1885 å¹´)ï¼ŒçœŸä¹ƒå¤©æ‰ï¼Œä¸€ä¸¾å¥ å®šäº†è‡ªå·±ä½œä¸ºé‡å­ç‰©ç†å¼€å±±å¤§å¸ˆçš„åœ°ä½ã€‚\nç¬¬äºŒéƒ¨åˆ†ä¸»è¦è®²äº†ä¸­å­çš„å‘ç°(ç”±å‰‘æ¡¥å¤§å­¦å¡æ–‡è¿ªè®¸å®éªŒå®¤çš„æŸ¥å¾·å¨å…‹è¯å®ä¸­å­çš„å­˜åœ¨)ï¼Œä¸­å­çš„å‘ç°ä¸ºäººç±»åç»­è¿›ä¸€æ­¥ç ”ç©¶å¾®è§‚åŸå­ç»“æ„æä¾›äº†ç»å¥½çš„å·¥å…·2ï¼Œç›´æ¥ä¸ºåŸå­æ ¸è£‚å˜(neuclear fission)ç°è±¡çš„å‘ç°é“ºå¹³äº†é“è·¯ã€‚åŸå­æ ¸è£‚å˜çš„å‘ç°ï¼Œæ˜¯ç‰©ç†å­¦çš„å¤§å‘ç°ï¼ŒæœŸé—´å……æ»¡äº†æ›²æŠ˜ã€‚åœ¨æ ¸è£‚å˜è¢«ç¡®è®¤ä¹‹å‰ï¼Œä¸»æµçš„ç‰©ç†å­¦å®¶éƒ½ä¸ç›¸ä¿¡åŸå­æ ¸å¯ä»¥è¢«åˆ†æˆä¸¤ä¸ªè´¨é‡æ›´å°çš„å…ƒç´ ï¼Œèªæ˜å¦‚è´¹ç±³ä¹Ÿæ²¡èƒ½æ­£ç¡®è®¤è¯†æ ¸è£‚å˜ã€‚ä¸ºä»€ä¹ˆæ ¸è£‚å˜å‘ç°å¦‚æ­¤é‡è¦ï¼Ÿå› ä¸ºè´¨é‡å¤§çš„åŸå­æ ¸è£‚å˜ä¸ºä¸¤ä¸ªè´¨é‡è¾ƒå°çš„åŸå­æ ¸è¿‡ç¨‹ä¸­ï¼Œè´¨é‡å‡å°‘ï¼Œæ ¹æ®çˆ±å› æ–¯å¦è´¨èƒ½å…¬å¼ï¼Œæ­¤è¿‡ç¨‹ä¼šé‡Šæ”¾å‡ºå¤§é‡èƒ½é‡ï¼Œå› æ­¤æ ¸è£‚å˜çš„å‘ç°æ˜¯åŸå­å¼¹åˆ¶é€ çš„ç†è®ºåŸºç¡€ã€‚\nç¬¬ä¸‰éƒ¨åˆ†ä¸»è¦ä»‹ç»äº†æ›¼å“ˆé¡¿è®¡åˆ’å§‹æœ«ï¼Œç¾å›½çš„åŸå­å¼¹è®¡åˆ’åœ¨ 1939 å³èµ·æ­¥ï¼Œåˆšå¼€å§‹è¿›å±•ç¼“æ…¢ï¼Œç¾å›½äººå¹¶æ²¡æœ‰å¯¹æ­¤è¶³å¤Ÿé‡è§†ï¼Œåæ¥åœ¨è‹±å›½äººçš„æ•¦ä¿ƒä¸‹ï¼ŒåŸå­å¼¹è®¡åˆ’æ‰æ…¢æ…¢è¿›å…¥æ­£è½¨ï¼Œè·å¾—é‡è§†ã€‚éšç€æ´›æ–¯é˜¿æ‹‰è«æ–¯å®éªŒå®¤çš„å»ºç«‹ï¼ŒU235å’Œé’š(plutoniumï¼‰æµ“ç¼©å·¥å‚çš„å»ºç«‹ï¼ŒåŸå­å¼¹æ‰ä»ç§‘å­¦ç†è®ºå˜æˆç°å®ã€‚å¦å¤–ï¼Œçˆ±å› æ–¯å¦å¹¶æ²¡æœ‰ç›´æ¥å‚ä¸åˆ°åŸå­å¼¹çš„ç ”åˆ¶è¿‡ç¨‹ä¸­ï¼Œä½†æ˜¯ä»–ä¹Ÿèµ·åˆ°äº†ä½œç”¨ï¼Œå› ä¸º Leo Szilard ä¸Šä¹¦ç½—æ–¯ç¦æ€»ç»Ÿè¦æ±‚å¼€å±•ç¾å›½çš„åŸå­å¼¹ç ”åˆ¶è®¡åˆ’çš„ä¿¡ï¼Œç»è¿‡äº†çˆ±å› æ–¯å¦çš„ç­¾åï¼Œå€ŸåŠ©äº†çˆ±å› æ–¯å¦çš„å·¨å¤§å£°æœ›ã€‚\nç§‘å­¦å›¢ä½“çš„ä½œç”¨ # ç§‘å­¦å®¶æ˜¯ä¸€ä¸ªç¾¤ä½“ï¼Œæ‰€è°“ scientific communityï¼Œçœ‹äº†è¿™æœ¬ä¹¦ï¼Œå‘ç°å¾ˆå¤šè‘—åçš„ç‰©ç†å­¦å®¶ä¹‹é—´éƒ½æœ‰å¸ˆæ‰¿å…³ç³»ï¼Œç»å°”æ›¾ç»åœ¨å¢ç‘Ÿç¦çš„å®éªŒå®¤åšè¿‡åšå£«åï¼Œå¥¥æœ¬æµ·é»˜ä¹Ÿæ›¾åœ¨æ¬§æ´²ç•™å­¦ï¼Œå¸ˆä»é©¬å…‹æ€Â·æ³¢æ©ï¼Œå¦å¤–ï¼Œæ¬§æ´²çš„ç§‘å­¦å›¢ä½“ä¹‹é—´äº¤æµé¢‘ç¹ï¼Œè¿™ä¹Ÿæ˜¯æ¬§æ´²ç§‘å­¦å‘å±•è¿…é€Ÿçš„ä¸€ä¸ªé‡è¦å› ç´ ã€‚\nå®éªŒå®¤çš„ç¯å¢ƒä¹Ÿéå¸¸é‡è¦ï¼Œæœ€æ˜æ˜¾çš„ä¾‹å­è«è¿‡äºå¢ç‘Ÿç¦é¢†å¯¼ä¸‹çš„å¡æ–‡è¿ªè®¸å®éªŒå®¤ï¼Œè¯¥å®éªŒå®¤å…ˆåè¯ç”Ÿäº† 11åè¯ºè´å°”å¥–è·å¾—è€…ã€‚ç»å°”åœ¨æˆåä»¥åï¼Œä¹Ÿåœ¨ä¸¹éº¦å»ºç«‹äº†ç†è®ºç‰©ç†ç ”ç©¶æ‰€ï¼Œå¸å¼•äº†å¤§é‡ä»°æ…•ç»å°”å£°æœ›çš„é’å¹´ç‰©ç†å­¦å®¶ï¼Œç»„æˆäº†é‡å­ç‰©ç†æ‰€è°“â€œå“¥æœ¬å“ˆæ ¹å­¦æ´¾â€ï¼Œå…¶ä¸­å°±åŒ…æ‹¬æµ·æ£®å ¡ï¼Œç»å°”å’Œæµ·æ£®å ¡ä¸€èµ·å»ºç«‹äº†çŸ©é˜µåŠ›å­¦ã€‚\nçŠ¹å¤ªäººçš„è‹¦éš¾ # è¯´èµ·çŠ¹å¤ªäººï¼Œäººä»¬æ€»ä¼šæƒ³èµ·é“¶è¡Œå®¶ï¼Œç§‘å­¦å®¶ï¼Œå¾ˆå¤šäººå¹¶ä¸äº†è§£çŠ¹å¤ªæ°‘æ—çš„è‹¦éš¾å†å²ã€‚çŠ¹å¤ªäººä»ä¸­ä¸–çºªå¼€å§‹å°±å—åˆ°æ¬§æ´²å„å›½çš„è¿«å®³ï¼Œå°¤å…¶æ˜¯åŸºç£æ•™çš„è¿«å®³ï¼Œåœ¨å„ä¸ªå›½å®¶é¢ æ²›æµç¦»ã€‚20ä¸–çºª 30 å¹´ä»£ï¼Œéšç€å¸Œç‰¹å‹’çº³ç²¹å¾·å›½çš„å…´èµ·ï¼Œå¾·å›½çŠ¹å¤ªè£”é€æ¸è¢«å„ç§è¿«å®³ï¼Œè¶…è¿‡ 500 ä¸‡çŠ¹å¤ªäººæ­»äºçº³ç²¹å»ºç«‹çš„é›†ä¸­è¥ï¼Œå¤§æ‰¹çŠ¹å¤ªç§‘å­¦å®¶é€ƒç¦»å¾·å›½å’Œå…¶ä»–æ¬§æ´²å›½å®¶ï¼Œå…¶ä¸­å¾ˆå¤šäººé€‰æ‹©äº†ç¾å›½ï¼Œè¿™ä¹Ÿæ˜¯ç¾å›½åœ¨äºŒæˆ˜åç§‘æŠ€è¿…é€Ÿå´›èµ·çš„é‡è¦åŸå› ã€‚\nç¾å›½åŸå­å¼¹çš„åˆ¶é€  # ç¾å›½åŸå­å¼¹ç ”åˆ¶çš„æ›¼å“ˆé¡¿è®¡åˆ’å…¶å®æ—©å°±åœ¨ 1939 å¹´æä¸Šäº†æ—¥ç¨‹ï¼Œç„¶è€ŒåˆæœŸè¿›å±•ç¼“æ…¢ï¼Œä¸€ç›´åˆ°äº† 1943 å¹´æ‰è¿›å…¥äº†æ­£è½¨ã€‚\nåŸå­å¼¹çš„åˆ¶é€ ä¸»è¦åˆ†ä¸ºä¸¤æ¡çº¿ç´¢ï¼Œä¸€æ–¹é¢æ˜¯ç”±å¥¥æœ¬æµ·é»˜3é¢†å¯¼ï¼Œåœ¨æ´›æ–¯é˜¿æ‹‰è«æ–¯è¿™ä¸ªè’å‡‰çš„åœ°æ–¹ï¼Œå»ºç«‹äº†å®éªŒå®¤ï¼Œä¸»è¦ç”¨äºè§£å†³åŸå­å¼¹ç ”åˆ¶è¿‡ç¨‹ä¸­çš„ç§ç§ç†è®ºéš¾é¢˜(ä¾‹å¦‚ç‚¸è¯å¦‚ä½•æ”¾ç½®ï¼Œä½¿å¾—ç‚¸è¯èƒ½å¤Ÿäº§ç”Ÿçƒå½¢å†²å‡»æ³¢ï¼ŒæŒ¤å‹é’šæ ¸å¿ƒ)ã€‚\nåœ¨è¿™ä¸­é—´ï¼Œä½œè€…ç€é‡ä»‹ç»äº†å†…çˆ†å‹åŸå­å¼¹çš„ç ”åˆ¶ï¼Œä¸äº†è§£åŸå­å¼¹çš„äººå¯èƒ½ä»¥ä¸ºåŸå­å¼¹åªæœ‰ä¸€ç§ç±»å‹ï¼Œå…¶å®å¹¶ä¸æ˜¯ã€‚ç§‘å­¦å®¶å‘ç°ä¸¤ç§å…ƒç´ å¯ä»¥è£‚å˜ï¼Œä¸€ç§æ˜¯ U235ï¼Œå¦å¤–ä¸€ç§æ˜¯é’šï¼ŒU235 è£‚å˜æ¯”è¾ƒç®€å•ï¼Œé‡‡ç”¨ æªå¼ç»“æ„(ä¹Ÿç§°ä¸º â€œgun-typeâ€)ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸¤å—ä½äºä¸´ç•Œè´¨é‡çš„é«˜çº¯åº¦ U235 åˆ©ç”¨ç‚¸è¯é«˜é€Ÿå°„åœ¨ä¸€èµ·ï¼Œä½¿ä¸¤å—é“€çš„è´¨é‡è¶…è¿‡ä¸´ç•Œè´¨é‡ï¼Œäº§ç”Ÿæ ¸çˆ†ï¼›å¦å¤–ä¸€ç§ä½¿ç”¨ plutonium çš„åŸå­å¼¹ï¼Œä¸èƒ½é‡‡ç”¨æªå¼ç»“æ„ï¼Œè¿™ä¼šå¯¼è‡´åŸå­å¼¹æå‰çˆ†ç‚¸ï¼Œè¾¾ä¸åˆ°é¢„æƒ³çš„æ•ˆæœï¼Œå½“æ—¶å‘ç°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå¥¥æœ¬æµ·é»˜éå¸¸ç—›è‹¦ç»æœ›ï¼Œç”šè‡³æƒ³è¾å»æ´›æ–¯é˜¿æ‹‰è«æ–¯çš„èŒåŠ¡ã€‚æ‰€å¹¸å½“æ—¶çš„ç¾å›½äººæ‰æµæµï¼ŒNeddermeyer æå‡ºå†…çˆ†å¼(implosion)è®¾è®¡ï¼Œä¹Ÿå°±æ˜¯ä»å¤–éƒ¨å¼•çˆ†å¤šä¸ªç‚¸è¯ï¼Œäº§ç”Ÿçƒå½¢å†²å‡»æ³¢ï¼ŒæŒ¤å‹é’šæ ¸å¿ƒï¼Œä½¿å…¶è¾¾åˆ°ä¸´ç•Œè´¨é‡ï¼Œä»è€Œå¼•çˆ†åŸå­å¼¹4ã€‚\né¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ•°å­¦å®¶å†¯è¯ºä¼Šæ›¼ä¸ºå†…çˆ†å‹è®¾è®¡ä¸­ç‚¸è¯çš„æµä½“åŠ¨åŠ›å­¦è®¡ç®—æä¾›äº†å¸®åŠ©ï¼Œå“ˆä½›å¤§å­¦çš„ George Kistiakowskyé¢†å¯¼äº†ç‚¸è¯æ–¹æ¡ˆ(ä¹Ÿå°±æ˜¯ implosion lens)çš„è®¾è®¡ã€‚ä¸ºäº†åŸå­å¼¹çš„è®¾è®¡ï¼Œç§‘å­¦å®¶å¤œä»¥ç»§æ—¥å·¥ä½œï¼Œæ¯å‘¨å·¥ä½œå…­å¤©æ—¶é—´ï¼Œå‘¨æœ«åªä¼‘æ¯ä¸€å¤©ï¼Œå‘¨å…­æ™šä¸Šé€šå¸¸ä¼šä¸¾è¡Œèšä¼šï¼Œæ˜¯éš¾å¾—çš„æ”¾æ¾çš„æ—¶é—´ã€‚\né—²è¯ä¸æï¼ŒåŸå­å¼¹ç ”åˆ¶çš„å¦å¤–ä¸€æ–¹é¢ï¼Œåˆ™æ˜¯æ ¸åŸæ–™çš„æçº¯ï¼Œç”±äºè‡ªç„¶ç•Œä¸­ U235 å«é‡åªæœ‰ 0.7%ï¼Œè€ŒåŸå­å¼¹çˆ†ç‚¸éœ€è¦é«˜çº¯åº¦æµ“ç¼©é“€ï¼Œå½“æ—¶çš„æçº¯æ–¹æ¡ˆæœ‰å¤šç§ï¼Œelectromagneticï¼Œgaseous diffusion ä»¥åŠ thermal diffusionã€‚ä¸ºäº†é˜²æ­¢æŸä¸€ä¸ªæ–¹æ¡ˆçš„å¤±è´¥ï¼Œä¸‰ä¸ªæ–¹æ¡ˆåŒæ—¶è¿›è¡Œç ”å‘ï¼Œåœ¨åç››é¡¿çš„ Hanford ä»¥åŠç”°çº³è¥¿å·çš„ oak ridge å»ºç«‹äº†æçº¯å·¥å‚ã€‚åŸå­å¼¹çš„ç ”åˆ¶ï¼Œå¾—ç›Šäºç¾å›½å¼ºå¤§çš„å·¥ä¸šå®åŠ›å’Œå›½å®¶èµ„æœ¬ï¼Œä¸ºäº†åŸå­å¼¹åˆ¶é€ æˆåŠŸï¼Œå¯è°“æ˜¯ä¸æƒœè¡€æœ¬ï¼Œä¾‹å¦‚ï¼Œæ´›ä¼¦å…¹çš„å›æ—‹åŠ é€Ÿå™¨ç”¨åˆ°çš„ç£åœºï¼Œéœ€è¦ä½¿ç”¨å¤§é‡ç™½é“¶çº¿åœˆï¼Œæœ€åä»ç¾å›½è´¢æ”¿éƒ¨å€Ÿäº†å¤§çº¦ 14000 å¨ç™½é“¶æ¥åˆ¶é€ çº¿åœˆã€‚æ•´ä¸ªæ›¼å“ˆé¡¿é¡¹ç›®çš„è€—èµ„åœ¨ 20 äº¿ç¾å…ƒä»¥ä¸Šï¼Œç›¸å½“äºä»Šå¤©çš„äºŒç™¾å¤šäº¿ç¾å…ƒï¼Œé¡¹ç›®çš„å‚ä¸äººæ•°ä¸Šä¸‡äººã€‚\nå…³äºæ›¼å“ˆé¡¿è®¡åˆ’ï¼Œæœ‰ä¸€éƒ¨ç¾å‰§ ã€Šæ›¼å“ˆé¡¿ã€‹å¯ä»¥ä¸€çœ‹ï¼Œä¸ªäººè®¤ä¸ºå¾ˆç²¾å½©ã€‚\nåŸå­å¼¹çˆ†ç‚¸ # çœ‹è¿‡ã€Šå¤ªå¹³æ´‹æˆ˜äº‰ã€‹è¿™éƒ¨ç”µè§†å‰§çš„äººï¼Œåº”è¯¥å¯¹æ—¥æœ¬æ­»ä¸æŠ•é™ï¼Œå¥‹æˆ˜åˆ°åº•çš„æ°‘æ—æ°”è´¨æœ‰äº†è§£ã€‚åœ¨å¤ªå¹³æ´‹æˆ˜äº‰åæœŸï¼Œä¸åŒäºä¹‹å‰çš„è‡ªæ€å¼è¢­å‡»ï¼Œæ—¥æœ¬çš„ç­–ç•¥å°±æ˜¯ä¿å­˜æ€§å‘½ï¼Œå°½å¯èƒ½å¤šä¼¤äº¡ç›Ÿå†›ã€‚ç‰¹åˆ«æ˜¯åœ¨ç¡«ç£ºå²›(Iwo Jima)æˆ˜å½¹ä¸­ï¼Œç¾å†›ä¼¤äº¡ä¸¤ä¸‡å¤šäººï¼Œæ—¥å†›æ­»äº¡ 17000 å¤šäººï¼Œä»…æœ‰ 200 å¤šäººå…è®¸è‡ªå·±è¢«ä¿˜è™ï¼Œè¿™æ˜¯å¤ªå¹³æ´‹æˆ˜äº‰ä¸­å”¯ä¸€ä¸€åœºç¾å†›ä¼¤äº¡å¤§äºæ—¥æœ¬çš„æˆ˜å½¹ã€‚å·¨å¤§çš„ä¼¤äº¡ï¼Œè®©ç¾å›½äººè®¤è¯†åˆ°äº†æ—¥æœ¬çš„é¡½å›ºä¸è¿›æ”»æ—¥æœ¬æœ¬åœŸå¯èƒ½å­˜åœ¨çš„å·¨å¤§ä»£ä»·ï¼Œå†›æ–¹ç»è¿‡ä¼°ç®—ï¼Œè®¤ä¸ºè¿›æ”»æ—¥æœ¬æœ¬åœŸå¯èƒ½é€ æˆç¾å†›ä¸€ç™¾ä¸‡å·¦å³çš„ä¼¤äº¡ï¼Œè¿™å¯¹äºç¾å›½äººæ¥è¯´æ˜¯ä¸å¯æ¥å—çš„ä»£ä»·ã€‚å› æ­¤å†›æ–¹å€¾å‘äºæŠ•æ”¾åŸå­å¼¹ï¼Œå½»åº•æ‘§æ¯æ—¥æœ¬äººçš„æŠµæŠ—æ–—å¿—ï¼Œè¿…é€Ÿç»“æŸæˆ˜æ–—ã€‚\nä½¿ç”¨æªå¼è®¾è®¡çš„åŸå­å¼¹ç”±äºæ¯”è¾ƒç˜¦é•¿ï¼Œè¢«ç§°ä¸ºå°ç”·å­© (Little boy)ï¼Œä½¿ç”¨å†…çˆ†å¼è®¾è®¡çš„åŸå­å¼¹å¤–å½¢æ¯”è¾ƒèƒ–ï¼Œè¢«ç§°ä¸ºèƒ–å­ (Fat man)ï¼Œä¹Ÿæœ‰äººæˆç§°è¿™æ­£å¥½å¯¹åº”ç¾å›½æ€»ç»Ÿæœé²é—¨å’Œè‹±å›½é¦–ç›¸ä¸˜å‰å°”çš„èº«æã€‚\nç”±äºå°ç”·å­© (Little boy) åŸå­å¼¹åˆ¶é€ ç›¸å¯¹ç®€å•ï¼Œç¾å›½äººé€‰æ‹©å…ˆçˆ†ç‚¸å°ç”·å­©ï¼Œå€¼å¾—è¯´æ˜ï¼ŒåŸå­å¼¹å¹¶ä¸æ˜¯ä»ç¾å›½æœ¬åœŸå‡ºå‘çš„ï¼Œå› ä¸ºé‚£æ—¶å€™ç¾å›½çš„è½°ç‚¸æœºå¹¶ä¸èƒ½é£è¡Œé‚£ä¹ˆè¿œçš„è·ç¦»ï¼ŒåŸå­å¼¹å…ˆè¢«è¿é€åˆ°å¤ªå¹³æ´‹çš„é©¬é‡Œäºšçº³ (Mariana island)ç¾¤å²›çš„ Tinian å²›ï¼Œåœ¨é‚£é‡Œç»„è£…å®Œæˆï¼Œå†ä½¿ç”¨ B-29 è½°ç‚¸æœºæºå¸¦ï¼ŒæŠ•æ”¾åˆ°å¹¿å²›å¸‚ã€‚èƒ–å­ (Fat man) åœ¨å‡ å¤©ä¹‹åï¼Œç»„è£…å‡†å¤‡å°±ç»ªï¼Œæœ¬æ¥é¢„å®šçš„ç›®æ ‡æ˜¯æ—¥æœ¬çš„å°ä»“ (Kokura)ï¼Œç”±äºçˆ†ç‚¸å½“å¤©å°ä»“çš„å¤©æ°”çŠ¶å†µä¸å¥½ï¼Œæ‰é€‰æ‹©åœ¨å¤‡ç”¨çˆ†ç‚¸åœ°ç‚¹é•¿å´ä¸¢ä¸‹èƒ–å­ã€‚\nåŸå­å¼¹çš„æŠ•æ”¾ï¼Œç»™å¹¿å²›å’Œé•¿å´å¸¦æ¥äº†æ¯ç­æ€§æ‰“å‡»ï¼Œæ•´ä¸ªåŸå¸‚å‡ ä¹è¢«æ‘§æ¯ï¼Œä¸Šä¸‡å¹³æ°‘åœ¨åŸå­å¼¹å¸¦æ¥çš„ç¬æ—¶é«˜æ¸©æˆ–è€…å†²å‡»æ³¢ä½œç”¨ä¸‹ç¬é—´æ­»äº¡ï¼Œå¾ˆå¤šé è¿‘åŸå­å¼¹çˆ†å¿ƒçš„äººç›´æ¥è¢«çƒ§æˆäº†ç„¦ç‚­ï¼Œçˆ†ç‚¸è¿˜å¸¦æ¥äº†å¤§ç«ï¼Œå°†åŸå¸‚çš„å¤§é‡æœ¨åˆ¶å»ºç­‘çƒ§æ¯ï¼Œè®¸å¤šå¹³æ°‘æ­»äºå¤§ç«ä¹‹ä¸­ï¼Œè®¸å¤šå¹¸å­˜è€…å°†å½“æ—¶çš„åœºæ™¯æè¿°ä¸ºäººé—´æœ«æ—¥ã€åœ°ç‹±ã€‚ç”±äºå†›å›½ä¸»ä¹‰ï¼Œæ— è¾œå¹³æ°‘æˆäº†ç¾éš¾çš„å¯¹è±¡ï¼Œä¸èƒ½ä¸è¯´æ˜¯ä¸€ç§æ‚²å“€ï¼Œå¯æ˜¯è¿™äº›äººçœŸçš„æ˜¯å®Œå…¨æ— è¾œå—ï¼Œä¹Ÿå¾ˆéš¾è¯´ï¼Œä¸æŠ•æ”¾åŸå­å¼¹ï¼Œç¾æ—¥åŒæ–¹å¦‚æœç»§ç»­æˆ˜äº‰ï¼Œä¸çŸ¥é“åˆè¦æ­»ä¼¤å¤šå°‘ç”Ÿå‘½ã€‚ä½œè€…åœ¨æœ€åèŠ±äº†å¤§é‡ç¯‡å¹…å¼•ç”¨åŸå­å¼¹çˆ†ç‚¸å¹¸å­˜è€…çš„å›å¿†ï¼Œä¹Ÿæ­£æ˜¯ä¸ºäº†è¯´æ˜æˆ˜äº‰çš„æ®‹é…·ï¼Œçƒ­çˆ±å’Œå¹³ï¼Œå› ä¸ºåœ¨æˆ˜äº‰ä¸­ï¼Œå—ä¼¤æœ€å¤šçš„è¿˜æ˜¯æ™®é€šæ°‘ä¼—ã€‚\nç»•åŸå­æ ¸è½¬åŠ¨çš„ç”µå­ï¼ŒæŒ‰ç…§å®è§‚çš„è¿åŠ¨å­¦ï¼Œå°†ä¼šä»¥ç”µç£æ³¢å½¢å¼é‡Šæ”¾èƒ½é‡ï¼Œé‚£ä¹ˆç”µå­è¿åŠ¨è½¨é“åŠ¿å¿…è¶Šæ¥è¶Šå°ï¼Œæœ€ååå¡Œåˆ°åŸå­æ ¸ï¼Œä½†æ˜¯å®é™…ä¸Šç”µå­ç»•æ ¸è¿åŠ¨å¾ˆç¨³å®šã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nç”±äºä¸­å­ä¸å¸¦ç”µè·ï¼Œä¸å—åŸå­æ ¸å†…çš„è´¨å­æ’æ–¥ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ç”¨æ¥è½°å‡»åŸå­æ ¸ï¼Œç ”ç©¶åŸå­æ ¸çš„æ€§è´¨ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¯¹å¥¥æœ¬æµ·é»˜ç”Ÿå¹³æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥çœ‹ã€Šå¥¥æœ¬æµ·é»˜ä¼ ã€‹.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¯ä»¥å‚è€ƒå›å½¢é’ˆåšçš„ è¿™æœŸè§†é¢‘ å¸®åŠ©ç†è§£åŸå­å¼¹åŸç†ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 November 2019","externalUrl":null,"permalink":"/2019/11/02/thought_on_making_of_atomic_bomb/","section":"Posts","summary":"\u003cp\u003eèŠ±äº†å·®ä¸å¤šä¸¤ä¸ªæœˆæ—¶é—´ï¼Œäºä¸Šå‘¨çœ‹å®Œäº†ã€ŠThe making of the atomic bombã€‹(ä¸­æ–‡åå«\u003ca href=\"https://book.douban.com/subject/3449736//\" target=\"_blank\"\u003eã€ŠåŸå­å¼¹ç§˜å²ã€‹\u003c/a\u003e)ï¼Œè¿™æœ¬ä¹¦æ˜¯ 1988 å¹´ç¾å›½æ™®åˆ©ç­–éè™šæ„ç±»æœ€ä½³å›¾ä¹¦å¥–è·å¥–ä½œå“ã€‚æ•´æœ¬ä¹¦å¾ˆé•¿ï¼Œä¸Šç™¾ä¸‡å­—ï¼Œä½œè€…åœ¨ä¹¦ä¸­å…¨æ™¯å¼å±•ç°äº†äººç±»ç¬¬ä¸€é¢—åŸå­å¼¹çˆ†ç‚¸çš„å®Œæ•´å†å²ï¼ŒæŠŠåŸå­ç‰©ç†å­¦ã€æ ¸ç‰©ç†å‘ç°ï¼ŒçŠ¹å¤ªäººçš„å†å²ï¼ŒåŸå­å¼¹çš„åˆ¶é€ ï¼Œè¿˜æœ‰ç§‘å­¦å®¶çš„æˆé•¿å†ç¨‹ï¼Œèä¸ºä¸€ä½“è®²è¿°ï¼Œè€ƒè¯è¯¦å®ï¼Œè™½ç„¶æœ‰å¤§é‡çš„å†å²ç»†èŠ‚ï¼Œè¯»èµ·æ¥å´å¾ˆè¿‡ç˜¾ï¼Œä¸€ç‚¹ä¹Ÿä¸æ¯ç‡¥ã€‚\u003c/p\u003e","title":"äººç±»ç¬¬ä¸€é¢—åŸå­å¼¹çˆ†ç‚¸å§‹æœ«","type":"posts"},{"content":"Horovod is the distributed training framework developed by Uber. It support training distributed programs with little modification for both TensorFlow, PyTorch, MXNet and keras.\nBasic concepts of MPI # For distributed training, horovod relies on MPI or Gloo, both of which are libraries developed for parallel computing. The underlying concepts may be similar.\nCommunicator: this is a common world for a group of processes. Each process inside the communicator has its rank, which is a unique id used by MPI to identify a particular process.\nPoint-to-point communication: it means that a process interacts with another process directly in the communicator.\nCollective operation: A MPI collective operation involves all the processes in a communicator. These operations include broadcast, gather, scatter, reduce, etc.\nThe meaning of some collective operations # Broadcast means to copy the same data from the root process to the other processes. Gather means to take data from other processes and put them in the root process. Scatter means to slice the dataset in root process to several parts and distribute one part to each process. Reduce means to perform some sort of action (sum, max, min, etc.) on the data from all processes and put the result in the root process. Allreduce is based on reduce operation and it copies the result to other processes. References # Introduction to MPI programming. Parallel computing with MPI. Wiki page on MPI concepts. What are world size, rank, local rank? # First, the meaning of world in distributed scenario:\nBy default, collectives are executed on all the processes, also known as world.\nIn PyTorch, distributed training using torch.dist.DistributedParallel, the number of spawned processed equals to the number of GPUs you want to use. Rank is the unique id given to each process, and local rank is the local id for GPUs in the same node.\nFor example, if you want to use 2 nodes and 4 GPUs per node, then 2*4 =8 processes will be spawned. World size is 8. In node 1, the process rank is 0, 1, 2, 3, and in node 2, the process rank is 4, 5, 6, 7. In both the two nodes, local rank would be 0, 1, 2, 3.\nIn horovod, the concept is similar. Usually, each GPU corresponds to one process. Size is equal to the number of processes.\nHow does batch size and multi-GPU training work together? # In PyTorch, for single node, multi-GPU training (i.e., using torch.nn.DataParallel), the data batch is split in the first dimension, which means that you should multiply your original batch size (for single node single GPU training) by the number of GPUs you want to use if you want to the original batch size for one GPU.\nFor multi-node, multi-GPU training using horovod, the situation is different. In this case, we first need to use a DistributedSampler() like the following command:\ntrain_sampler = torch.utils.data.distributed.DistributedSampler( train_dataset, num_replicas=hvd.size(), rank=hvd.rank()) In the above statement, the parameter num_replicas is the world size, and parameter rank is the global rank (in contrast to the local rank) of current process. But how does a DistributedSampler work?\nYou can find the source code of DistributedSampler here. According to the code, roughly speaking, it splits the dataset into num_replicas parts, and according to its rank, each process get a part of the original indexes of the dataset:\nindices = indices[self.rank:self.total_size:self.num_replicas] In the end, this sampler gets len(dataset)/num_replicas samples.\nIn the dataloader part, we need to use this distributed sampler instead of the plain simple sampler:\nkwargs = {\u0026#39;num_workers\u0026#39;: 4, \u0026#39;pin_memory\u0026#39;: True} if args.cuda else {} train_loader = torch.utils.data.DataLoader( train_dataset, batch_size=batch_size, sampler=train_sampler, **kwargs) The size of this train_loader, i.e., the number of iterations for a single process, is len(dataset)/(num_replicas*batch_size). In a one node one GPU scenario, the dataloader size is usually len(dataset)/batch_size. So in a distributed scenario, the number of iterations for a single process is the number of the iterations in one node one GPU case divided by num_replica. By iterating over their respective data part, all the processes have finished one epoch in the whole dataset.\nLet\u0026rsquo;s take a concrete example to illustrate the idea. Suppose the dataset size is 1024 and batch size is 32. In one node one GPU case, the number of iterations in one epoch is 1024/32=32.\nIf we instead use two nodes with 4 GPUs for each node. In total, 2*4=8 processes are started for distributed training. In this case, each process get 1024/8=128 samples in the dataset. The number of iterations for each process in an epoch is 128/32=4.\nNow you can see why distributed training is faster because each GPU only needs to do a fraction of the jobs when only one GPU is used. Theoretically, the acceleration you will get is N, where N is the number of GPUs used in the distributed training. In reality, you won\u0026rsquo;t get that much acceleration for your program due to communication costs and other factors.\nReferences # https://discuss.pytorch.org/t/a-question-concerning-batchsize-and-multiple-gpus-in-pytorch/33767/2 https://stackoverflow.com/questions/54216920/how-to-use-multiple-gpus-in-pytorch Horovod distributed training for imagenet classification. ","date":"1 November 2019","externalUrl":null,"permalink":"/2019/11/01/pytorch_distributed_training/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/horovod/horovod\" target=\"_blank\"\u003eHorovod\u003c/a\u003e is the distributed training\nframework developed by Uber. It support training distributed programs with\nlittle modification for both TensorFlow, PyTorch, MXNet and keras.\u003c/p\u003e","title":"Distributed Training in PyTorch with Horovod","type":"posts"},{"content":"","date":"29 October 2019","externalUrl":null,"permalink":"/tags/expect/","section":"Tags","summary":"","title":"Expect","type":"tags"},{"content":"In my previous post, I talked about how to automate the server login process with the help of Expect programming language. This post continues my learning process.\nDifference between send and send_user command? # There are two similar commands in Expect, send and send_user. send and send_user have different purposes. send is used to provide input for the spawned processes, while send_user is used to send some message to via terminal to the users.\nDifference between \\n and \\r in Expect? # According to my test, when you use send to send characters to the spawned process, it makes no difference to use either \\r (carriage return) or \\n (line feed). They both works as if the user has press the Enter key.\nHowever, they work differently when you want use send_user to display something to the user. \\n will give a new line while \\r will just move the cursor to the beginning of the line (i.e., your message will be erased). To verify, execute the following command\nexpect { \u0026#34;prompt1\u0026#34; {send_user \u0026#34;answer1\\n\u0026#34;} \u0026#34;prompt2\u0026#34; {send_user \u0026#34;answer2\\r\u0026#34;} } If you execute the above script with expect, when you input prompt1, you will get the output answer1 and a new line is started; when you input prompt2, you get nothing in the screen. Actually, answer2 is shown and is then erased by \\r.\nCheck if a file exists # Sometimes, we may want to check if a file exists and take some actions based on the condition. We use file exists \u0026lt;name\u0026gt; to check that:\nif {[file exists .ssh/known_hosts]} { spawn rm .ssh/known_hosts } Match optional prompts # Sometimes, there are optional prompts which may occur depending on some conditions. For example, when we first log into a new server, we are warned that the authenticity of the server can not be established and if we want to continue connecting. After that, we may not see this prompt anymore. We can use the exp_continue command to achieve that.\nexpect { \u0026#34;Are you sure*\u0026#34; { send \u0026#34;yes\\r\u0026#34; exp_continue } \u0026#34;*password: \u0026#34; { send \u0026#34;pass\\r\u0026#34; } } The exp_continue command will continue the expect block until it matches another pattern or timeouts.\nPattern matching # Double quotes and curly braces in pattern matching # In expect script, both double quotes and curly braces can be used to group argument. They are quite different.\nInside double quotes, variable substitution and command substitution and backslash substitution take place:\nvariable substitution: $var will be replaced with actual value of variable var. command substitution: [some_char] is considered as command invoking, and he result of executing command some_char replaces [some_char]. Also see this guide page. backslash substitution: characters after \\ is replaced with the character verbatim. There are several exceptions to this rule. For example, \\n, \\t, \\uHHHH etc. have special meanings. For a complete list, see this page (the part about backslash substitution). Inside double braces, command substitution, variable expansion and backslash substitution does not take place. For example:\nexpect { # match $var literally {$var} {send_user \u0026#34;yes\\n\u0026#34;} # match character \\ and $ {\\$} {send_user \u0026#34;yes\\n\u0026#34;} # match character \\ and n {\\n} {send_user \u0026#34;yes\\n\u0026#34;} } Glob match patterns # For simple matching, glob patterns can be used, and it works similarly to the bash glob functionality. * is used to represent any number of characters, and ? is used to represent a single character. For more info about glob patterns, see doc here.\nSome patterns and their meanings are listed below:\nexpect{ # match strings containing abc expect *abc* # match literal [a] {\\[a]} {send_user \u0026#34;yes\\n\u0026#34;} # match literal [a] {\\[a\\]} {send_user \u0026#34;yes\\n\u0026#34;} # match strings containing ab followed by another character {ab?} {send_user \u0026#34;yes\\n\u0026#34;} # match `abc` or `abd` {ab[cd]} {send_user \u0026#34;yes\\n\u0026#34;} } Regex matching # If you want to match more complex patterns, you can also use the regex provided by the Tcl language1. To use regex, you will use the -re option for expect command. For example, to match either ab or cd, you can use the following command:\nexpect -re ab|cd {send_user \u0026#34;hello\\n\u0026#34;} As discussed before, since patterns inside the double quotes undergo several substitutions, you should take extra care when you want to match patterns using regex. For example, to match consecutive digits, you should use expect -re \u0026quot;\\\\d+\u0026quot; or expect -re {\\d+}. If you use expect -re \u0026quot;\\d+\u0026quot;, you will match consecutive characterd since backslash will translate \\d inside double quotes.\nexpect { # the following two patterns both match two consecutive alphabet chars. -re \u0026#34;\\[a-z\\]{2}\u0026#34; {send_user \u0026#34;yes\\n\u0026#34;} -re {[a-z]{2}} {send_user \u0026#34;yes\\n\u0026#34;} # match a lenth 2 string which contains only alpha-numerical chars. -re {^[a-z0-9]{2}\\n$} {send_user \u0026#34;yes\\n\u0026#34;} timeout {send_user \u0026#34;time out\\n\u0026#34;} } Matching bracket literally # One extremely complex and bewildering pattern is to match square bracket literally. It is difficult because square bracket have special meanings in both command substitution and in regex or glob pattern.\nIf you use double quotes, in order to match [a] literally, you have to use triple backslash to escape it:\nexpect -re \u0026#34;\\\\\\[a\\\\\\]\u0026#34; {send_user \u0026#34;yes\\n\u0026#34;} # or you can use expect \u0026#34;\\\\\\[a\\\\\\]\u0026#34; {send_user \u0026#34;yes\\n\u0026#34;} First backslash is to prevent command substitution. Second backslash and third backslash is to prevent backslash substitution so that regex engine can see one backslash. So the final pattern regex engine sees is actually \\[a\\], which prevents a from being interpreted as a regex range. Thus, it is matched literally. This page also explains why three backslashes are needed in order to match literal square bracket if we use double quotes.\nTo prevent such complex patterns, it is highly encouraged to use double braces to simplify the pattern. The above pattern can be simplified as the following:\nexpect { {\\[a\\]} {send_user \u0026#34;yes\\n\u0026#34;} } References # Expect check if file exists. Expect: match optional prompt. Difference between \\r and \\n in expect. Expect regex Expect glob and other patterns Tcl regex syntax references. Grouping with double quotes. expect language is an extension to the Tcl programming language.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 October 2019","externalUrl":null,"permalink":"/2019/10/29/expect_script_learning/","section":"Posts","summary":"\u003cp\u003eIn \u003ca href=\"https://jdhao.github.io/2018/10/08/server_autologin_with_expect/\" target=\"_blank\"\u003emy previous post\u003c/a\u003e,\nI talked about how to automate the server login process with the help of Expect\nprogramming language. This post continues my learning process.\u003c/p\u003e","title":"Learning Expect Programming","type":"posts"},{"content":"Although I use SSH (secure shell) every day, I seem to know little about it except the fact that I can use ssh command to log into my remote servers. Recently, I found myself some time to learn how does it work.\nPreliminary knowledge # Fingerprint # In computing, a fingerprint is a shorter sequence representation of a longer message which can be used to identified the original message. For example, in SSH, when you connect to the server, you will get the server public key fingerprint. Then you can compare the fingerprint you have received with the real server fingerprint (e.g., you may have obtained the server public key fingerprint by contacting the administrator) to make sure that you are not being attacked by hackers and connecting the wrong server.\nCryptographic hash function # To produce such a fingerprint and ensure security, we need to use cryptographic hash functions. A cryptographic hash functions has good properties. It makes sure that same message always produce the same output and different messages produce different output. It also makes sure that you can not deduce the original message from the output. These good properties make it suitable for authentification purposes. You may have probably used it before when you check the integrity of files using md5sum or similar tools.\nMD5 and SHA1 are different hash function algorithms to generate a fingerprint. The complete list of hash functions can be found here.\nSSH to a server # Two ways to log in a server when using SSH:\nuse your user name and password use ssh public key authentification Server public key verification # When we first log in a server, we will be prompted that the authenticity of the server can not established, and we are shown the fingerprint of the server\u0026rsquo;s public key. The typical message is like the following:\nThe authenticity of host \u0026#39;xxx.xx.xx.xx (xx.xx.xx.xx)\u0026#39; can\u0026#39;t be established. ECDSA key fingerprint is SHA256:zJsEufeAsutfxsZH990Sq7asIBnJvz6B9N63g0/Rx5w. Are you sure you want to continue connecting (yes/no/[fingerprint])? In the above message, ECDSA is a type of signature algorithm used to verify the identity of the two sides of a communication. Other signature algorithms include DSA, RSA and ED25519.\nTo make sure that the public key of the server is true, you have to check via other methods. For example, if you have access to the server in other more secure ways, you can check the fingerprint of the server\u0026rsquo;s ECDSA public key2 with SHA hash function using the following command:\nssh-keygen -lf -E sha256 /etc/ssh/ssh_host_ecdsa_key.pub If you want to check the fingerprint of the server in MD5 format, use the following command instead:\n# MD5 ssh-keygen -E md5 -lf \u0026lt;fileName\u0026gt; Then you can compare the fingerprint of the server public key against the fingerprint you have received. If the two fingerprints match, you are actually logging to the right server. Otherwise, you may be under attack by hacker (see man-in-the-middle-attack ).\nIf you have verified the identity of the new server and choose to connect, the server\u0026rsquo;s IP and public key will be stored in the file .ssh/known_hosts3 under your HOME directory. The next time you connect to the server, the server\u0026rsquo;s public key will be compared with the public key stored in known_hosts to make sure that your connection to the server is secure.\nUsually you will encounter the unauthorized warning the first time you log in a server. If you encounter the warning the second time, it may be that the server has changed its public key or you are under attack.\nSet up public key login # As stated earlier, we can also set up public key login. First, we need to generate a private and public key pair using ssh-keygen. We can use -t to specify the type of key to create, e.g., dsa, ecdsa, rsa. We can use the following command to generate a ecdsa key pair:\nssh-keygen -t ecdsa It will prompt you to enter a key file name and the passphrase for the private key. You can press Enter to use the default values. The key pair will be created under $HOME/.ssh. The private key file is id_ecdsa and the public key file is id_ecdsa.pub. You must keep your private key safe. The public key can be safely shown to others.\nTransfer your public key to server # To enable host public key login, you must put your public key under the $HOME/.ssh directory in the remote server. There are two ways.\nCopy public key manually: Copy the content of the public key. Log in to your server and paste the public key to the file $HOME/.ssh/authorized_keys (if this file does not exist, create the file first.).\nUse ssh-copy-id: In some systems, there is tool called ssh-copy-id which an copy the content of the public key to $HOME/.ssh/authorized_keys in the host server. You can use the following command to copy the public key to the server:\nssh-copy-id user@host_ip login to the server # After setting up public key login, you can log in to the server without using password:\nssh -p xxx user@host_ip The server will verify if the public key under user\u0026rsquo;s directory corresponds your private key. If they match, you will log in to the server automatically.\nReferences # Generate key fingerprint in different format. What is ssh key fingerprint? Difference between authorized_keys and known_hosts.. What does it mean that a host\u0026rsquo;s authenticity can not be established?? How to use public key authentification for ssh.. What is known_hosts file?. Difference between DSA, ECDSA, RSA?. SHA has three algorithms in series, SHA-1, SHA-2 and SHA-3. SHA-1 is old, and the other two are newer.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThe public keys of the host server are stored in /etc/ssh directory, for example: ssh_host_dsa_key.pub, ssh_host_rsa_key.pub, ssh_host_ecdsa_key.pub.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTo check the format of known_hosts file, see man 7 sshd.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"27 October 2019","externalUrl":null,"permalink":"/2019/10/27/ssh_essential_knowledge/","section":"Posts","summary":"\u003cp\u003eAlthough I use SSH (secure shell) every day, I seem to know little about it\nexcept the fact that I can use \u003ccode\u003essh\u003c/code\u003e command to log into my remote servers.\nRecently, I found myself some time to learn how does it work.\u003c/p\u003e","title":"Essential Knowledge about SSH","type":"posts"},{"content":"","date":"27 October 2019","externalUrl":null,"permalink":"/tags/ssh/","section":"Tags","summary":"","title":"Ssh","type":"tags"},{"content":"Change font size # By default, LaTeX provides several command to change the font size to predefined size. Those command include \\scriptsize, \\large, \\Huge etc. However, even the font size provided by the \\Huge command may not be large enough.\nIn this case, we can use the \\fontsize command to change the font size to what we want. The signature of \\fontsize command is:\n\\fontsize{\u0026lt;font_size\u0026gt;}{\u0026lt;baseline_skip\u0026gt;} The first parameter is the font size and the second parameter is baseline skip. The default font used by LaTeX does not support arbitrary font size, and we have to use another font such as Latin Modern. A minimal example is the follows:\n\\documentclass{article} % use the Latin Modern font \\usepackage{lmodern} \\begin{document} % turn off page numbering \\pagenumbering{gobble} {\\flushleft \\fontsize{50}{10}\\selectfont 50pt} {\\flushleft \\fontsize{100}{10}\\selectfont 100pt} {\\flushleft \\fontsize{150}{10}\\selectfont 150pt} {\\flushleft \\fontsize{200}{10}\\selectfont 200pt} \\end{document} In the above code, \\selectfont is used to make the font change take effect.\nReferences # Font size not available in LaTex? Change font size to arbitrary size in LaTeX. Change font size in LaTeX. Artitrary font size. Font larger than Huge in LaTeX? Parameters of \\fontsize command. Produce vertical text # Sometimes, we want to produce a vertical text line. This can be achieved by using the \\rotatebox box command provided by the graphicx package. A small runnable script is provided below:\n% !TEX TS-program = xelatex \\documentclass{article} \\usepackage{graphicx} \\begin{document} % turn off page numbering \\pagenumbering{gobble} \\rotatebox[origin=c]{90}{\\fontsize{50}{5}\\selectfont \\textbf{Test text.}} \\end{document} Another way to rotate texts is to use the rotating package, which provides a turn environment to rotate texts to certain angles:\n% !TEX TS-program = xelatex \\documentclass{article} \\usepackage{lmodern} \\usepackage{rotating} \\begin{document} % turn off page numbering \\pagenumbering{gobble} % rotate the text to 90 degrees counterclockwise \\begin{turn}{90} \\fontsize{50}{5}\\selectfont \\textbf{Test text.} \\end{turn} \\end{document} References # Rotate text in LaTeX. Rotate text with rotating package. ","date":"22 October 2019","externalUrl":null,"permalink":"/2019/10/22/latex_techniques_s1/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eChange font size \n    \u003cdiv id=\"change-font-size\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#change-font-size\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eBy default, LaTeX provides several command to change the font size to\npredefined size. Those command include \u003ccode\u003e\\scriptsize\u003c/code\u003e, \u003ccode\u003e\\large\u003c/code\u003e, \u003ccode\u003e\\Huge\u003c/code\u003e etc.\nHowever, even the font size provided by the \u003ccode\u003e\\Huge\u003c/code\u003e command may not be large\nenough.\u003c/p\u003e","title":"Nifty LaTeX Techniques -- Series 1","type":"posts"},{"content":"","date":"22 October 2019","externalUrl":null,"permalink":"/tags/%E5%AD%97%E4%BD%93/","section":"Tags","summary":"","title":"å­—ä½“","type":"tags"},{"content":"ä¹‹å‰çš„æ–‡ç« æåˆ°è¿‡ï¼Œå½“ Adsense å¸å·çš„æ”¶å…¥è¾¾åˆ° 10 ç¾å…ƒé˜ˆå€¼çš„æ—¶å€™ï¼Œè°·æ­Œä¼šå‘ä½ æ³¨å†Œ Adsense ç™»è®°çš„åœ°å€å‘é€ä¸€å°é‚®ä»¶ï¼Œé‡Œé¢æœ‰éªŒè¯çš„ PIN ç ï¼Œåªæœ‰éªŒè¯äº† PIN ç ï¼Œåç»­æ‰èƒ½æ”¶åˆ°è°·æ­Œçš„ä»˜æ¬¾ã€‚\næ³¨æ„ï¼Œä»ç¬¬ä¸€æ¬¡æ”¶åˆ°è°·æ­Œæé†’éœ€è¦éªŒè¯ PIN å¼€å§‹ï¼Œå¦‚æœåœ¨ 4 ä¸ªæœˆå†…æ²¡æœ‰éªŒè¯ PINï¼Œé‚£ä¹ˆåšå®¢ä¸Šçš„ Adsense å¹¿å‘Šå°†ä¼šåœæ­¢æ˜¾ç¤ºï¼Œç›´åˆ°ä½ æˆåŠŸéªŒè¯äº† PIN ç ã€‚å› æ­¤ PIN ç æ˜¯éå¸¸é‡è¦çš„ã€‚å¦‚æœä½ æ¬å®¶äº†ï¼Œæˆ–è€…é‚®ä»¶åœ¨é‚®å¯„é€”ä¸­å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šæ”¶ä¸åˆ°è°·æ­Œçš„é‚®ä»¶ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•æ›´æ”¹ Adsense çš„ç™»è®°åœ°å€ï¼Œé‡æ–°è®©è°·æ­Œå¯„é€æ–°çš„ PIN ç é‚®ä»¶ã€‚\næ›´æ”¹ Adsense ç™»è®°åœ°å€ # ç™»å½•åˆ° Adsenseã€‚\nç‚¹å‡» Payment èœå•ï¼Œç„¶åç‚¹å‡» Setting éƒ¨åˆ†çš„ Manage settings.\næ‰¾åˆ° Name and address é¡¹ç›®ï¼Œä¿®æ”¹ä¸ºæ–°åœ°å€ï¼Œç„¶åç‚¹å‡» Save å³å¯ã€‚\né‡æ–°å¯„é€ PIN é‚®ä»¶ # ç™»å½• Adsenseï¼Œæ‰¾åˆ° PIN éªŒè¯çš„å¡ç‰‡ï¼Œç„¶åç‚¹å‡» Verify:\nç‚¹å‡» Resend PIN æŒ‰é’®å³å¯ã€‚\nå¦‚æœè°·æ­Œå¯„é€çš„ä¸Šä¸€å°é‚®ä»¶è¢«ä½ æ‹¿åˆ°ï¼Œé‚£ä¹ˆç”¨ä¸Šä¸€å°é‚®ä»¶é‡Œé¢çš„ PIN ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸¤å°é‚®ä»¶é‡Œé¢çš„ PIN æ˜¯ç›¸åŒçš„ã€‚\nå¡«å†™ PIN ç  # å‰å‡ æ¬¡ç”³è¯· PINï¼Œæ¯æ¬¡éƒ½æ²¡æœ‰æ”¶åˆ°ã€‚ 2019 å¹´ 12 æœˆåº•ï¼Œåˆç”³è¯·äº†ä¸€æ¬¡ï¼Œè°·æ­Œ Adsense ä¸Šæ˜¾ç¤ºçš„æ˜¯éœ€è¦ 2-4 å‘¨æ‰èƒ½æ”¶åˆ°é‚®ä»¶ï¼Œå®é™…ä¸Šç­‰å¾…çš„æ—¶é—´è¶…è¿‡ 4 å‘¨ï¼Œå¤§çº¦ç»è¿‡äº† 6 å‘¨çš„æ—¶é—´ï¼Œç»ˆäºåœ¨ 2020 å¹´ 2 æœˆ 6 æ—¥æ”¶åˆ°äº†è°·æ­Œå¯„æ¥çš„ PIN é‚®ä»¶ã€‚é‚®ä»¶å¤–è§‚å¦‚ä¸‹\nå¦‚æœæ²¡æœ‰ç†è§£é”™ï¼Œè¿™å°é‚®ä»¶æ˜¯ä»é©¬æ¥è¥¿äºšé‚®å¯„è¿‡æ¥çš„ã€‚æ‰“å¼€ä»¥åé‡Œé¢å°±æ˜¯ PIN ç ï¼Œå¹¶ä¸”é™„æœ‰å¦‚ä½•æ³¨å†Œ PIN ç çš„æ­¥éª¤ã€‚\nå‚è€ƒ # Adsense çš„ä¸€äº›é—®ç­” æ›´æ”¹ Adsense åœ°å€ å¦‚ä½•è¦æ±‚é‡æ–°å¯„é€ PIN ç  å¦‚ä½•æ³¨å†Œ PIN ","date":"22 October 2019","externalUrl":null,"permalink":"/2019/10/22/adsense_change_address_resend_pin/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://jdhao.github.io/2019/09/22/google_adsense_hugo_config/#%E5%85%B6%E4%BB%96\" target=\"_blank\"\u003eä¹‹å‰çš„æ–‡ç« \u003c/a\u003eæåˆ°è¿‡ï¼Œå½“ Adsense å¸å·çš„æ”¶å…¥è¾¾åˆ° 10 ç¾å…ƒé˜ˆå€¼çš„æ—¶å€™ï¼Œè°·æ­Œä¼šå‘ä½ æ³¨å†Œ Adsense ç™»è®°çš„åœ°å€å‘é€ä¸€å°é‚®ä»¶ï¼Œé‡Œé¢æœ‰éªŒè¯çš„ PIN ç ï¼Œåªæœ‰éªŒè¯äº† PIN ç ï¼Œåç»­æ‰èƒ½æ”¶åˆ°è°·æ­Œçš„ä»˜æ¬¾ã€‚\u003c/p\u003e","title":"æ›´æ”¹ Adsense é‚®å¯„åœ°å€ï¼Œé‡æ–°å¯„é€ PIN","type":"posts"},{"content":"","date":"16 October 2019","externalUrl":null,"permalink":"/tags/cygwin/","section":"Tags","summary":"","title":"Cygwin","type":"tags"},{"content":"In this post, I want to share some useful tips and configurations about mintty.\nShare mintty config between Cygwin and wsltty # Since both Cygwin and wsltty use mintty as its terminal emulator, it would be great if we could use a unified config file for mintty instead of having to configure separately on two locations. According to doc here, mintty provides such a feature: you need to put configuration in %APPDATA%\\mintty\\config so that mintty for Cygwin and wsltty can use the same config.\nQuickly switch to other mintty windows # Unlike iterm2 or other terminal emulator, mintty does not have a Tabbed window. However, mintty does provide a virtual tab feature. If you are using mintty 3.0.3 or above, you can switch between different mintty windows with several shortcuts:\nctrl + right-click ctrl + right-click in the window title bar ctrl + menu References # Virtual tabs. Virtual tab discussions. Open file, directory or links # Use ctrl+left-click to open a file, directory or URL (beginning with www).\nChange cursor when IME is on # The option IMECursorColour can be used to set the cursor color when IME is on. For example:\nIMECursorColour=255,0,0 this will set cursor color to red when IME is on.\nShow selection text size # The option SelectionShowSize can be used to show the size of selection. 0 disable this feature. A value of 1-12 shows the size of selected text in a position corresponding to the clock hours.\n","date":"16 October 2019","externalUrl":null,"permalink":"/2019/10/16/useful_mintty_tips_configs/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share some useful tips and configurations about \u003ca href=\"https://github.com/mintty/mintty\" target=\"_blank\"\u003emintty\u003c/a\u003e.\u003c/p\u003e","title":"Mintty Tips and Configurations","type":"posts"},{"content":" I have been using Vim plugin Tagbar for viewing and navigating tags inside my source file. However, for Markdown files, there is no support out of the box. In this post, I would like to share how to set up tagbar to show tags for Markdown.\nMarkdown set up # The tagbar wiki has instructions on setting up Markdown support. Using markdown2ctags is the best way among the three methods given. Unfortunately, it is not detailed enough and only works for Linux-like systems.\nThe original script has some issues when running it in Python 3 and with Markdown files containing Unicode characters. I have modified the original script and make it work in Python 3. You can find it here.\nLinux # For Linux, put the script to folder tools under Neovim config directory1. You have to give it execution right (this is very crucial but the author fails to say so):\nchmod u+x markdown2ctags.py Inside Nvim config, add the following settings:\n\u0026#34; Add support for markdown files in tagbar. if has(\u0026#39;win32\u0026#39;) let g:md_ctags_bin=fnamemodify(stdpath(\u0026#39;config\u0026#39;).\u0026#34;\\\\tools\\\\markdown2ctags.exe\u0026#34;, \u0026#34;:p\u0026#34;) else let g:md_ctags_bin=fnamemodify(stdpath(\u0026#39;config\u0026#39;).\u0026#34;/tools/markdown2ctags.py\u0026#34;, \u0026#34;:p\u0026#34;) endif let g:tagbar_type_markdown = { \\ \u0026#39;ctagstype\u0026#39;: \u0026#39;markdown.pandoc\u0026#39;, \\ \u0026#39;ctagsbin\u0026#39; : g:md_ctags_bin, \\ \u0026#39;ctagsargs\u0026#39; : \u0026#39;-f - --sort=yes\u0026#39;, \\ \u0026#39;kinds\u0026#39; : [ \\ \u0026#39;s:sections\u0026#39;, \\ \u0026#39;i:images\u0026#39; \\ ], \\ \u0026#39;sro\u0026#39; : \u0026#39;|\u0026#39;, \\ \u0026#39;kind2scope\u0026#39; : { \\ \u0026#39;s\u0026#39; : \u0026#39;section\u0026#39;, \\ }, \\ \u0026#39;sort\u0026#39;: 0, \\ } Windows # For Windows, you can not directly run a script without using python. We have to convert the Python script to a standalone executable, i.e., markdown2ctags.exe. We can use pyinstaller to convert the script to executable files:\npyinstaller --onefile --console markdown2ctags.py The above command will create the executable under the dist folder in the current working directory2. Then you should copy it to the tools folder under the Neovim config directory.\nAfter all these set up, you should be able to see the table of contents in tagbar windows after using TagbarOpen command.\nReferences # Tagbar doc. Markdown support for tagbar. Markdown2ctags repo. Use echo stdpath('config') command inside Nvim to show the config path.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor details on how to generate exe file from python script, see this post\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 October 2019","externalUrl":null,"permalink":"/2019/10/15/tagbar_markdown_setup/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20191015001602.png\"\u003e\n\u003c/p\u003e\n\u003cp\u003eI have been using Vim plugin Tagbar for viewing and navigating tags inside my\nsource file. However, for Markdown files, there is no support out of the box.\nIn this post, I would like to share how to set up tagbar to show tags for\nMarkdown.\u003c/p\u003e","title":"Generating Table of Contents for Markdown with Tagbar","type":"posts"},{"content":"","date":"15 October 2019","externalUrl":null,"permalink":"/tags/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"Introduction # I have a use case where I want to convert my Python script to standalone executable so that I do not need to type python before it to run the script. On Linux, it is easy to achieve with the help of shebang. However, on Windows, it does not work. Then I thought I might convert the script to Windows executable.\nWe can use pyinstaller to convert python script to Windows executable files. You can install it with pip:\npip install pyinstaller How to use pyinstaller # The most simple way to run pyinstaller is to invoke it without options:\npyinstaller my_script.py It will create a dist/my_script directory where the generated executable resides with other DLL files. This executable file can not run alone: it must rely on other DLL files.\nTo create a standalone executable, we can use --onefile option.\nTo build an executable which runs on command line and does not need a GUI windows, we can use the --console option.\nWe can then generate the executable with the following command:\npyinstaller --onefile --console my_script.py The generated executable will be dist/my_script.exe.\nReduce the size of executable # One problem is that the generated executable file is huge even if the script only contains a few lines of code.\nCreate a virtual environment # According to post here, to reduce the size of the produced executable, we can create a clean virtual environment where only packages required for our script are installed.\nIn my case, after building the executable inside a virtual env, I have reduced the executable size from more than 200Mb to only 6Mb!\nUsing UPX # An additional way to reduce executable size is to use UPX to compress files. You can download the UPX windows release file and extract it to a folder. When running the pyinstaller, you can use --upx-dir to include UPX support:\npyinstall --onefile --console --upx-dir=/path/to/upx-folder my_script.py In the above command, you only need to specify the path of the directory containing upx.exe.\nHowever, certain DLL files which is need by the executable should not be compressed by UPX. If they are compressed, you may encounter errors when you run the produced executable:\nError loading Python DLL \u0026#39;C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\_MEI45442\\python36.dll\u0026#39;. LoadLibrary: The parameter is incorrect. Those DLLs failing to load should not be compressed by UPX. You can add --upx-exclude option to pyinstaller when building the executable, and this options can be used multiple times to exclude several files. For example:\npyinstaller.exe --onefile --console --upx-dir=upx-3.95-win64\\upx-3.95-win64\\ --upx-exclude=python36.dll --upx-exclude=vcruntime140.dll my_script.py After that, the executable file can run without errors.\nReferences # Reduce executable size. How to use upx with pyinstaller. Error loading pythonxx.dll. ","date":"14 October 2019","externalUrl":null,"permalink":"/2019/10/14/python_script_to_exe/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eI have a use case where I want to convert my Python script to standalone\nexecutable so that I do not need to type \u003ccode\u003epython\u003c/code\u003e before it to run the script.\nOn Linux, it is easy to achieve with the help of\n\u003ca href=\"https://stackoverflow.com/questions/6908143/should-i-put-shebang-in-python-scripts-and-what-form-should-it-take\" target=\"_blank\"\u003eshebang\u003c/a\u003e.\nHowever, on Windows, it does not work. Then I thought I might convert the\nscript to Windows executable.\u003c/p\u003e","title":"Convert Python Script to Exe on Windows with Pyinstaller","type":"posts"},{"content":"I have been using Ubuntu on Windows via WSL for about a year and it works quite well.\nThe terminal I use for Ubuntu on Windows is wsltty, which is a thin wrapper around mintty and other tools for starting WSL sessions. Recently, when I start clicking the WSL Terminal icon, it start a Window and then quit silently.\nBy looking at the property of \u0026ldquo;WSL Terminal\u0026rdquo; icon, I find that the default command that wsltty uses to start the Ubuntu terminal is:\n%LOCALAPPDATA%\\wsltty\\bin\\mintty.exe --WSL= --configdir=\u0026#34;%APPDATA%\\wsltty\u0026#34; -~ In order to find possible error message, I did a little search. I find that we can add the -h always option to force the terminal window to stay open even if there are some error in the process. The whole command is:\n%LOCALAPPDATA%\\wsltty\\bin\\mintty.exe --WSL= --configdir=\u0026#34;%APPDATA%\\wsltty\u0026#34; -~ -h always The error message I saw is like the following:\nwslbridge error: failed to start backend process note: bash.exe output: Windows Subsystem for Linux has no installed distributions. Distributions can be installed by visiting the Microsoft Store: https://aka.ms/wslstore What?? I have apparently installed a WSL distribution. In order to confirm that, I find from here that the location for a WSL distribution is something like the following:\nC:\\Users\\%USERNAME%\\AppData\\Local\\Packages\\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\\LocalState\\rootfs\\ This is the directory where the root of the Ubuntu for Windows resides. I opened the similar folder on my Windows and found that the rootfs folder is indeed gone!\nFurther dig reveals that the culprit is the Windows update, which has wiped out my WSL distribution somehow.\nAfter knowing the causes, the solution is simple: just re-install a WSL distribution or just dump WSL and use Cygwin!\nReferences # Keep the wsltty window open even if there are erros. ","date":"11 October 2019","externalUrl":null,"permalink":"/2019/10/11/wsl_distro_deleted_after_windows_update/","section":"Posts","summary":"\u003cp\u003eI have been using Ubuntu on Windows via WSL for about a year and it works quite\nwell.\u003c/p\u003e\n\u003cp\u003eThe terminal I use for Ubuntu on Windows is\n\u003ca href=\"https://github.com/mintty/wsltty\" target=\"_blank\"\u003ewsltty\u003c/a\u003e, which is a thin wrapper around\n\u003ca href=\"https://github.com/mintty/mintty\" target=\"_blank\"\u003emintty\u003c/a\u003e and other tools for starting WSL\nsessions. Recently, when I start clicking the WSL Terminal icon, it start a\nWindow and then quit silently.\u003c/p\u003e","title":"Ubuntu on Windows Missing after Windows Update","type":"posts"},{"content":"","date":"11 October 2019","externalUrl":null,"permalink":"/tags/wsl/","section":"Tags","summary":"","title":"WSL","type":"tags"},{"content":"åœ¨ Mac çš„ç»ˆç«¯ (terminal) ä¸‹è½½æ–‡ä»¶æˆ–è€… clone git ä»“åº“çš„æ—¶å€™ï¼Œæ˜æ˜¾æ„Ÿè§‰é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œå³ä½¿æŠŠæ¢¯å­çš„å…¨å±€æ¨¡å¼æ‰“å¼€ä¹Ÿæ— æµäºäº‹ï¼Œéœ€è¦åœ¨ç»ˆç«¯è®¾ç½®ä»£ç†æ‰èƒ½åŠ å¿«ä¸‹è½½é€Ÿåº¦ï¼Œæœ¬æ–‡ç®€è¦æ€»ç»“éœ€è¦çš„é…ç½®ã€‚\nåœ¨ Unix ç»ˆç«¯ï¼Œæœ‰ä¸‰ä¸ªå’Œä»£ç†ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼Œåˆ†åˆ«ä¸º http_proxy, https_proxy å’Œall_proxyã€‚ç²—ç•¥æ¥è¯´ï¼Œhttp_proxy å’Œ https_proxy åˆ†åˆ«ç”¨æ¥è®¾ç½® http å’Œ httpsè¿æ¥çš„ä»£ç†ï¼Œall_proxy è®¾ç½®æ‰€æœ‰è¿æ¥çš„ä»£ç†ã€‚\nå¯¹äº git cloneï¼Œç”±äºè¿æ¥ä¸€èˆ¬æ˜¯ https è¿æ¥ï¼Œå¯ä»¥è®¾ç½® https_proxy æˆ–è€…all_proxy å˜é‡ï¼Œè®¾ç½® http_proxy æ²¡æœ‰ä½œç”¨ã€‚\nä¸€èˆ¬æ¥è¯´ä»£ç†å¯ä»¥æ˜¯ http ä»£ç†ï¼Œä¹Ÿå¯ä»¥æ˜¯ socks5 ä»£ç†ï¼Œæ ¼å¼å¦‚ä¸‹:\nexport https_proxy=127.0.0.1:1087 # http ä»£ç† export https_proxy=\u0026#34;socks5://127.0.0.1:1087\u0026#34; # socks5 ä»£ç† æˆ‘ç›®å‰ä½¿ç”¨çš„ æ¢¯å­ï¼Œæ”¯æŒ socks5 åè®®ï¼Œä¹Ÿæ”¯æŒ http åè®®ï¼Œæ‰“å¼€ åå¥½è®¾ç½® --\u0026gt; é«˜çº§ é€‰é¡¹ï¼Œå¯ä»¥çœ‹åˆ°socks5 åè®®çš„ ip ä»¥åŠç«¯å£ï¼Œåœ¨ http é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ° http ä»£ç†çš„ä¿¡æ¯ã€‚\nè®¾ç½®å¥½ä»£ç†ä»¥åï¼Œå¯ä»¥ä½¿ç”¨ curl cip.cc æŸ¥çœ‹å½“å‰è‡ªå·±çš„ ip ä¿¡æ¯ï¼Œç¡®è®¤ä»£ç†æ˜¯å¦è®¾ç½®æˆåŠŸã€‚\nReferences # https://askubuntu.com/questions/583797/how-to-set-a-proxy-for-terminal https://askubuntu.com/questions/24116/what-is-the-all-proxy-environment-variable-used-for è®©ç»ˆç«¯èµ°ä»£ç†çš„å‡ ç§æ–¹æ³• ç¡®å®šè‡ªå·±çš„ public ip mac ç»ˆç«¯ proxy è®¾ç½® set up proxy in mac terminal ","date":"10 October 2019","externalUrl":null,"permalink":"/2019/10/10/mac_proxy_in_terminal/","section":"Posts","summary":"\u003cp\u003eåœ¨ Mac çš„ç»ˆç«¯ (terminal) ä¸‹è½½æ–‡ä»¶æˆ–è€… clone git ä»“åº“çš„æ—¶å€™ï¼Œæ˜æ˜¾æ„Ÿè§‰é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œå³ä½¿æŠŠæ¢¯å­çš„å…¨å±€æ¨¡å¼æ‰“å¼€ä¹Ÿæ— æµäºäº‹ï¼Œéœ€è¦åœ¨ç»ˆç«¯è®¾ç½®ä»£ç†æ‰èƒ½åŠ å¿«ä¸‹è½½é€Ÿåº¦ï¼Œæœ¬æ–‡ç®€è¦æ€»ç»“éœ€è¦çš„é…ç½®ã€‚\u003c/p\u003e","title":"ä½¿ç”¨ä»£ç†åŠ é€Ÿ Mac ç»ˆç«¯ä¸‹è½½é€Ÿåº¦","type":"posts"},{"content":"In this post, I share my experience and opinions on several popular Zsh plugin managers.\nzplug # I have written about zplug in this post. According to this gist, zplug is slow in loading plugins due to its poor design.\nMy feeling # It has a lot of features. The speed of installing plugins is acceptable but not so fast. Other than that, it is enough for daily usage.\nAntibody # Antibody is proposed to solve the performance issues with antigen. First, we need to install antibody:\ncurl -sfL git.io/antibody | sh -s - -b $HOME/local/bin The -b option specify where you want to install antibody. Antibody will be installed under $HOME/local/bin.\nHow to use # After installing antibody, a typical way to install plugins is like the following:\n# initialize antibody source \u0026lt; (antibody init) antibody bundle zsh-users/zsh-completions antibody bundle caarlos0/zsh-open-github-pr # use the oh-my-zsh plugins antibody bundle robbyrussell/oh-my-zsh path:plugins/aws antibody bundle zsh-users/zsh-syntax-highlighting Antibody can use plugins from the oh-my-zsh repo with the path annotations shown above.\nMy feeling # Antibody is fast in installing the plugins, but it seems that there is no hint or progress bar informing the user of the progress. It also has less feature compared to other plugin managers.\nRef:\nSupercharge your Terminal with Zsh zinit # Update-2020-07-28: Previously zinit is known as zplugin, but the author has decided to rename it to zinit. For more details, see here, here and here. zinit is also an advanced plugin manager with rich features. In fact, I was overwhelmed when I started using it. It is simple to install, just run the below command:\nsh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/zdharma/zinit/master/doc/install.sh)\u0026#34; How to use # To install normal plugins, zinit works like other plugin managers:\nzinit load softmoth/zsh-vim-mode zinit load zsh-users/zsh-autosuggestions zinit load zdharma/fast-syntax-highlighting zinit also has the so-called ice modifiers, which are used to modify the behaviour of the plugin installation command below. For example, to install the pure theme, we can use the following command:\nzinit ice pick\u0026#34;async.zsh\u0026#34; src\u0026#34;pure.zsh\u0026#34; zinit light sindresorhus/pure It means that we will first source async.zsh under the repo and then source pure.zsh.\nInstall oh-my-zsh plugins # To install oh-my-zsh plugins, we need to use zinit snippet command. Oh-my-zsh plugins start with the OMZ:: prefix. Below I show how to install single-files OMZ plugin and multiple-file OMZ plugins.\n# Install a OMZ plugin with multiple files zinit ice svn lucid zinit snippet OMZ::plugins/pip # Install a OMZ plugin with single file zinit ice wait lucid zinit snippet OMZ::plugins/fzf/fzf.plugin.zsh My feeling # zinit has so many ice modifiers and so many features that new users may find it hard to understand all of this. It also has a lot of commands that I do not understand. In summary, it has steeper learning curves compared to other plugin managers.\nReferences # zinit wiki. Load oh-my-zsh plugin from a folder. Comparison of different zsh plugin managers. ","date":"8 October 2019","externalUrl":null,"permalink":"/2019/10/08/zsh_plugin_managers_compare/","section":"Posts","summary":"\u003cp\u003eIn this post, I share my experience and opinions on several popular Zsh plugin\nmanagers.\u003c/p\u003e","title":"My Experience with Several Zsh Plugin Managers","type":"posts"},{"content":"ä½œä¸ºæ·±æ¼‚ï¼Œå¤§æ¦‚æ¯ä¸ªäººéƒ½è¦ä¸ºç§Ÿæˆ¿è´¹ä¸€ç•ªåŠŸå¤«ã€‚\n18 å¹´æ¥æ·±åœ³ä¹‹å‰ï¼Œå…¶å®å·²ç»äº‹å…ˆæŸ¥äº†ç§Ÿæˆ¿çš„äº‹æƒ…ï¼Œå¤§è‡´äº†è§£äº†æ·±åœ³ç§Ÿæˆ¿çš„è¡Œæƒ…ã€‚å¯ä»¥ç§Ÿåˆ°çš„æˆ¿å­ï¼Œä¸»è¦æœ‰å°åŒºæˆ¿å’Œå†œæ°‘æˆ¿ï¼šå°åŒºæˆ¿ç§Ÿé‡‘é€šå¸¸æ¯”å†œæ°‘æˆ¿è´µï¼Œä½†æ˜¯å«ç”ŸçŠ¶å†µï¼Œé‡‡å…‰ï¼Œé€šé£ä»¥åŠå®‰é™ç¨‹åº¦éƒ½æ¯”å†œæ°‘æˆ¿è¦å¥½;å†œæ°‘æˆ¿çš„ä¸»è¦ä¼˜ç‚¹åˆ™æ˜¯ä»·æ ¼ä¾¿å®œï¼Œç¼ºç‚¹æ˜¯å…¶å®ƒæ¡ä»¶æ¯”å°åŒºæˆ¿è¦å·®ï¼Œè€Œä¸”æœ‰çš„æˆ¿ä¸œä¸è®²ä¿¡ç”¨ï¼Œéšæ„æ¶¨ä»·ï¼Œè¿˜æœ‰å„ç§ç§Ÿæˆ¿çš„å‘ã€‚ä¸ºäº†çœå¿ƒï¼Œä¹Ÿä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæœ€åå°±å†³å®šç§Ÿå°åŒºé‡Œé¢çš„æˆ¿å­äº†ã€‚\nç§Ÿæˆ¿çš„é€”å¾„ï¼Œç²—ç•¥æ¥åˆ†ï¼Œå°±ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡ä¸­ä»‹ï¼Œä¾‹å¦‚é“¾å®¶ï¼Œè´å£³æ‰¾æˆ¿ï¼Œè‡ªå¦‚ï¼Œè›‹å£³å…¬å¯“ç­‰ç­‰ï¼›å¦å¤–ä¸€ç§é€”å¾„å°±æ˜¯ç›´æ¥æ‰¾æˆ¿ä¸œï¼Œå¯ä»¥å»è‡ªå·±æ„å‘åœ°ç‚¹é™„è¿‘çš„å°åŒºï¼Œæ‰¾å°åŒºçš„ä¿å®‰æˆ–è€…åœ¨å°åŒºé™„è¿‘å…¬å‘Šæ çœ‹æœ‰æ²¡æœ‰æˆ¿ä¸œè´´çš„æ‹›ç§Ÿä¿¡æ¯ï¼Œæˆ–è€…ç›´æ¥åœ¨è±†ç“£æˆ–è€… 58 åŒåŸï¼Œè®ºå›ç­‰åœ°æ–¹æ‰¾æˆ¿ä¸œç•™ä¸‹çš„ä¿¡æ¯ã€‚é€šè¿‡ä¸­ä»‹æ‰¾æˆ¿çš„ä¼˜ç‚¹æ˜¯çœå¿ƒï¼Œå¯ä»¥å¾ˆå¿«å®šä½åˆ°å“ªé‡Œæœ‰å¯ä»¥ç§Ÿçš„æˆ¿é—´ï¼Œä¸­ä»‹ä¹Ÿä¼šå¸¦ä½ å»çœ‹æˆ¿ï¼Œä¸­ä»‹åœ¨æˆäº¤ä¹‹åä¼šæ”¶å–ä¸­ä»‹è´¹1ï¼Œä½†æ˜¯æ”¶äº†ä¸­ä»‹è´¹ä»¥åä¹Ÿæ²¡æœåŠ¡ï¼Œä¸­ä»‹è´¹ç±»ä¼¼äºä»‹ç»è´¹ã€‚è‡ªå¦‚å’Œè›‹å£³æ¯”è¾ƒç±»ä¼¼ï¼Œéƒ½æ˜¯ä»æˆ¿ä¸œæ‰‹é‡Œæ”¶åˆ°æˆ¿æºï¼Œç»è¿‡è£…ä¿®æ”¹é€ ï¼ŒæŠŠæˆ¿å­é…ç½®æˆæ ‡å‡†çš„é£æ ¼ï¼Œé…å¤‡ä¸Šå®¶å…·ã€å®¶ç”µ(åŒ…æ‹¬ä½†ä¸é™äºå†°ç®±ï¼Œæ´—è¡£æœºï¼Œå¾®æ³¢ç‚‰ï¼Œç‡ƒæ°”ç¶ï¼Œæ¡Œå­)ã€‚é™¤äº†ç§Ÿé‡‘ä¹‹å¤–ï¼Œä»–ä»¬éƒ½ä¼šé¢å¤–æ”¶å–æ¯æœˆæˆ¿ç§Ÿçš„ä¸€å®šæ¯”ä¾‹ä½œä¸ºæœåŠ¡è´¹ï¼Œæ¯å®¶æ¯”ä¾‹ä¸åŒï¼ŒæœåŠ¡è´¹åŒ…å«äº†ä¿æ´ï¼Œç‰©ä¸šï¼Œç»´ä¿®ç­‰è´¹ç”¨ï¼ŒæŒ‰ç…§ä¸€å¹´æ¥ç®—ï¼Œæ¯”é“¾å®¶çš„ä¸­ä»‹è´¹é«˜ä¸å°‘ï¼Œä¸è¿‡å¯ä»¥æ¥å—ï¼Œæ¯ä¸ªæœˆä¸¤åƒå¤šçš„ç§Ÿé‡‘ï¼Œç®—ä¸‹æ¥ä¸€å¹´æœåŠ¡è´¹å¤§æ¦‚ä¹Ÿæ˜¯ä¸¤åƒå¤šã€‚\n18 å¹´çš„æ—¶å€™ï¼Œç”±äºå…¬å¸åŸ¹è®­æœ€åçš„å‡ å‘¨éƒ½åœ¨ä¸œèï¼Œåªæœ‰å‘¨æœ«å¯ä»¥æ‰¾æˆ¿ï¼Œæ—¶é—´ç´§å¼ ï¼Œå°±åœ¨è´å£³æ‰¾æˆ¿ä¸Šé¢ï¼Œçº¦äº†é“¾å®¶çš„ä¸­ä»‹ï¼Œå’ŒåŸ¹è®­æ—¶å€™ä½ä¸€ä¸ªæˆ¿é—´çš„èˆå‹åœ¨æ™¯ç”°é™„è¿‘ç§Ÿäº†å°åŒºçš„æˆ¿å­ã€‚å°åŒºåœ¨åŸä¸­æ‘é™„è¿‘ï¼Œæ¥¼ä¸‹å°±æœ‰å››äº”ä¸ªè¶…å¸‚ï¼Œä¹°èœï¼Œä¹°æ°´æœéƒ½å¾ˆæ–¹ä¾¿ã€‚ä¸è¿‡ç§Ÿçš„æˆ¿å­æ²¡æœ‰ä¿æ´ï¼Œå…¬å…±åŒºåŸŸçš„å«ç”Ÿæ²¡æœ‰äººç»´æŠ¤ï¼Œç‰¹åˆ«æ˜¯å«ç”Ÿé—´å’Œå¨æˆ¿ï¼Œåˆ°äº†åé¢å˜å¾—å¾ˆè„ï¼Œå«ç”Ÿé—´æˆ‘å¶å°”ä¼šæ‰“æ‰«ä¸€æ¬¡ï¼Œå¨æˆ¿åˆ°äº†åé¢ç”±äºä¸å¸¸æ‰“æ‰«ï¼Œæ»‹ç”Ÿäº†å¾ˆå¤šèŸ‘è‚ï¼Œæˆ‘å°±ä¸å†åšé¥­äº†ã€‚æ™¯ç”°çš„æˆ¿å­é¢ç§¯å¾ˆå°ï¼Œå¤§æ¦‚åªæœ‰åå¹³ç±³ï¼Œé™¤äº†ä¸€å¼ åºŠï¼Œä¸€ä¸ªè¡£æŸœï¼Œå‰©ä¸‹çš„é¢ç§¯å°±å°çš„å¯æ€œã€‚å½“æ—¶æˆ¿é—´é‡Œä¹Ÿæ²¡æœ‰é…ç½®ç”µè„‘æ¡Œï¼Œæˆ‘ä»ç½‘ä¸Šä¹°äº†ä¸€ä¸ªç”µè„‘æ¡Œã€‚æˆ¿å­ç§Ÿé‡‘ 2300ï¼Œå†åŠ ä¸Šæ¯æœˆçš„æ°´ç”µã€ç‡ƒæ°”ã€ç‰©ä¸šç­‰è´¹ç”¨ï¼Œå·®ä¸å¤šæ¯ä¸ªæœˆ 2500ã€‚æ™¯ç”°çš„æˆ¿å­ç¦»å…¬å¸å¾ˆè¿‘ï¼Œèµ°è·¯åŠ ååœ°é“å¤§çº¦ 20 åˆ†é’Ÿå°±å¯ä»¥åˆ°å…¬å¸ã€‚\nè¿‡äº†ä¸€å¹´ï¼Œåˆ°äº†æ¢æˆ¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æˆ¿å­ 8 æœˆ 24 å·åˆ°æœŸã€‚å¹³æ—¶ä¸Šç­æ²¡æœ‰æ—¶é—´å»çœ‹æˆ¿ï¼Œåªèƒ½å‘¨æœ«å»çœ‹ï¼Œæ‰€ä»¥å…«æœˆåˆå°±å¼€å§‹æ‰¾æˆ¿å­ï¼Œå…«æœˆåˆçš„ç¬¬ä¸€å‘¨è·Ÿç€è‡ªå¦‚çš„ä¸€ä¸ªç®¡å®¶çœ‹äº†åŠå¤©çš„æˆ¿å­ï¼Œè§‰å¾—å¥½åƒå¯é€‰çš„æˆ¿æºè¿˜æŒºå¤šçš„ï¼Œç¬¬äºŒå‘¨å°±æ²¡å»çœ‹äº†ï¼Œåˆ°äº†ç¬¬ä¸‰å‘¨ï¼Œä¹Ÿå°±æ˜¯æ™¯ç”°çš„æˆ¿å­å¿«è¦åˆ°æœŸçš„å‰ä¸€å‘¨ï¼Œæ‰è§‰å¾—æ—¶é—´æœ‰ç‚¹ç´§å¼ ï¼Œé‚£ä¸€å‘¨äº†è§£äº†ä¸€ä¸‹è›‹å£³å…¬å¯“çš„æˆ¿å­ï¼Œè§‰å¾—ä¹Ÿä¸é”™ã€‚å‘¨æ—¥æˆ‘åˆå»çœ‹äº†ä¸€äº›æˆ¿é—´ï¼Œçœ‹ä¸­äº†ç½—æ¹–æ€¡æ™¯åœ°é“ç«™é™„è¿‘çš„ä¸€ä¸ªæˆ¿é—´ã€‚æœ¬æ¥æƒ³å†ç­‰å‡ å¤©2ï¼Œä¸è¿‡å¥½çš„æˆ¿é—´å‡ºæ‰‹çš„é€Ÿåº¦å¾ˆå¿«ï¼Œæˆ‘ä¹Ÿæ‹…å¿ƒæ»¡æ„çš„æˆ¿é—´è¿‡å‡ å¤©è¢«é¢„å®šï¼Œæœ€åè¿˜æ˜¯åœ¨ç¬¬äºŒå¤©å°±é¢„å®šäº†ã€‚ç„¶å 23 å·å‘¨äº”æ™šä¸Šä¸‹ç­ä»¥åï¼Œè”ç³»äº†è´§æ‹‰æ‹‰ï¼Œç´§å¼ åœ°å®Œæˆäº†æ¬å®¶ã€‚æ–°åœ°æ–¹åœ¨å››æ¥¼ï¼Œæ²¡æœ‰ç”µæ¢¯ï¼Œæˆ‘æ²¡æœ‰æ‰¾æ¬å®¶å…¬å¸ï¼Œæ¬ä¸œè¥¿ä¹Ÿè´¹äº†ä¸€äº›åŠŸå¤«ï¼Œæ²¡æœ‰ç”µæ¢¯çš„æˆ¿é—´æ¥¼å±‚æœ€å¥½ä¸è¦é€‰å¤ªé«˜ï¼Œè¦ä¸ç„¶ä¸œè¥¿å¤šçš„è¯ï¼Œæ¬å®¶æ˜¯ä¸ªé—®é¢˜ã€‚\nç°åœ¨ä½çš„åœ°æ–¹ç¦»å…¬å¸è·ç¦»æ¯”è¾ƒè¿œï¼Œä»å‡ºå‘åˆ°åˆ°è¾¾å…¬å¸å·®ä¸å¤šè¦ 50 åˆ†é’Ÿï¼ŒæœŸé—´éœ€è¦åä¸‰æ¡åœ°é“ï¼Œè½¬ä¸¤æ¬¡çº¿ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå¦å¤– 7 å·çº¿æ—©ä¸Šäººæ€»æ˜¯å¾ˆå¤šï¼Œéœ€è¦æ’é˜Ÿç­‰è½¦ã€‚è·ç¦»è¿œçš„å”¯ä¸€å¥½å¤„æ˜¯æˆ‘å¼€å§‹æœ‰æ—¶é—´åœ¨åœ°é“ä¸Šçœ‹ä¹¦äº†ï¼Œè¿™ä¸€ä¸¤ä¸ªæœˆåœ¨çœ‹ã€ŠThe Making of the Atomic Bombã€‹ï¼Œæ¯å¤©åœ¨ä¸Šä¸‹ç­åœ°é“ä¸Šçœ‹ä¸€ç‚¹ï¼Œç°åœ¨å·²çœ‹äº†ä¸å°‘çš„ç« èŠ‚ï¼Œå¸Œæœ›èƒ½åœ¨è¿™ä¸ªæœˆçœ‹å®Œå®ƒå§ã€‚\nä¾‹å¦‚é“¾å®¶ï¼Œæ”¶å–æˆ¿ç§Ÿçš„ä¸€åŠä½œä¸ºä¸­ä»‹è´¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nè›‹å£³æ˜¯ä»ä½ äº¤å®šé‡‘å°±å¼€å§‹è®¡ç®—æˆ¿ç§Ÿçš„ï¼Œå¤šç§Ÿä¸€å‘¨å°±ä¼šå¤šå·®ä¸å¤š 500 çš„è´¹ç”¨\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 October 2019","externalUrl":null,"permalink":"/2019/10/02/shenzhen_house_rent/","section":"Posts","summary":"\u003cp\u003eä½œä¸ºæ·±æ¼‚ï¼Œå¤§æ¦‚æ¯ä¸ªäººéƒ½è¦ä¸ºç§Ÿæˆ¿è´¹ä¸€ç•ªåŠŸå¤«ã€‚\u003c/p\u003e","title":"æ·±åœ³ç§Ÿæˆ¿å°è®°","type":"posts"},{"content":"In the past few days, I tried to dockerize my development environment and put my daily programming tools inside container. I tried to install zplug inside docker container and met some issues. In this post, I want to share how to install zplug and other plugins inside the Docker container.\nFollowing the recommended way in the zplug git repo, I use the instruction below to install zplug:\nRUN curl -sL --proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh | zsh Unfortunately, the build fails and gives the following error message:\nThe command \u0026lsquo;/bin/sh -c curl -sL \u0026ndash;proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh | zsh\u0026rsquo; returned a non-zero code: 1\nAfter some searching, I find that this issue is caused by the Unicode characters that zplug uses in its message. In order to deal with this, we need to set up a locale in UTF-8 format (see here for details):\nRUN apt-get install -y locales \u0026amp;\u0026amp; locale-gen en_US.UTF-8 ENV LC_ALL en_US.UTF-8 Another issue is that I get an error when I use the following instruction to install plugins:\nRUN zplug install The error message is that:\nzplug: command not found The command zplug install works in a normal terminal, but fails to work when we are building a docker image. I change the instruction to\nRUN [\u0026#34;zsh\u0026#34;, \u0026#34;-ic\u0026#34;, \u0026#34;zplug install\u0026#34;] based on discussions here and I can run the command without errors.\nUnfortunately, another error occurs when zplug tries to install plugins. The errors look like this:\nâœ˜ Unknown error lukechilds/zsh-nvm âœ˜ Unknown error zsh-users/zsh-completions âœ˜ Unknown error junegunn/fzf-bin According to discussions here, it is caused by the missing package gawk. We need to install the gawk package before running the zplug install command:\nRUN apt-get install gawk RUN [\u0026#34;zsh\u0026#34;, \u0026#34;-ic\u0026#34;, \u0026#34;zplug install\u0026#34;] After solving all these issues, I can install zplug and other plugins successfully inside the docker container.\n","date":"1 October 2019","externalUrl":null,"permalink":"/2019/10/01/zplug_install_docker_container/","section":"Posts","summary":"\u003cp\u003eIn the past few days, I tried to dockerize my development environment and put\nmy daily programming tools inside\n\u003ca href=\"https://www.docker.com/resources/what-container\" target=\"_blank\"\u003econtainer\u003c/a\u003e. I tried to\ninstall zplug inside docker container and met some issues. In this post, I want\nto share how to install \u003ca href=\"https://github.com/zplug/zplug\" target=\"_blank\"\u003ezplug\u003c/a\u003e and other\nplugins inside the Docker container.\u003c/p\u003e","title":"How to Install zplug inside Docker Container","type":"posts"},{"content":"In this post, I would like to share causes and solutions to a few issues related to login shell.\nHow to change default shell to Bash # When I logged into a new server, I found that somehow my default shell (echo $SHELL) is /bin/sh instead of /bin/bash. We can change the default shell with chsh command like this:\nchsh -s /bin/bash Make sure that the shell you want to switch are set in /etc/shells. Otherwise you will fail.\nSettings in bashrc or bash_profile do not take effect after login # Another issue is that when I sshed to the server, I found that only settings inside .bash_profile is sourced. Settings inside .bashrc didn\u0026rsquo;t take effect. Before we delve into this problem, we first need to understand the basic concept of a login shell and an interactive shell.\nLogin and interactive shell # login shell # A login shell is usually the shell when the user first log in to the system. If the user start another shell or use bash inside the current shell, then the user will probably start a non-login shell1. To check whether the bash shell is a login shell, use the following command:\n# only works for bash shopt -q login_shell \u0026amp;\u0026amp; echo \u0026#39;Login shell\u0026#39; || echo \u0026#39;Not login shell\u0026#39; Interactive shell # Roughly speaking, an interactive shell is a shell that the user can interact with via the terminal, i.e., typing a command, sending it to the shell and getting output. If you run a script test.sh inside the shell by using bash test.sh, what actually happens is that a non-interactive bash shell is started to execute the commands inside test.sh. Now, you get a sense of what interactive means. To check if a bash shell is interactive, you can see if i is present in the variable $-:\necho $- # output may be: himBHs Different types of shell # According to the above statements, we now have four different types of a shell:\ninteractive login shell interactive non-login shell non-interactive login shell non-interactive non-login shell In the following table, I show how you can get these shells:\ninteractive non-interactive login when you log into a server normally ssh xxx@ip \u0026lt; test.sh non-login start a new bash shell inside the login shell when you execute script inside the login shell Non-interactive login shell is extremely rare. You can start one when you run a local script via ssh on remote.:\nssh xxx@ip \u0026lt; test.sh To verify that we have started a non-interactive login shell, put the following the command inside test.sh:\necho $- shopt -q login_shell \u0026amp;\u0026amp; echo \u0026#39;Login shell\u0026#39; || echo \u0026#39;Not login shell\u0026#39; The output of remote server will be:\nhBs Login shell Why isn\u0026rsquo;t .bashrc sourced? # After looking up the bash manual, the section on startup file explains this behaviour:\nWhen Bash is invoked as an interactive login shell, or as a non-interactive shell with the â€“login option, it first reads and executes commands from the file /etc/profile, if that file exists. After reading that file, it looks for ~/.bash_profile, ~/.bash_login, and ~/.profile, in that order, and reads and executes commands from the first one that exists and is readable. The â€“noprofile option may be used when the shell is started to inhibit this behavior.\nAccording to the above description, when you log into the server (bash is interactive login shell), bash will first source /etc/profile, then it will source ~/.bash_profile, ~/.bash_login and ~/.profile in the order given. The first one that exists and is readable is sourced. So ~/.bashrc is not sourced during the login process.\nIf you need to source .bashrc during login process, you can add the following setting to .bash_profile:\nif [[ -f \u0026#34;$HOME/.bashrc\u0026#34; ]]; then source $HOME/.bashrc fi Why isn\u0026rsquo;t .bash_profile sourced? # Another strange case I met with a new server is that ~/.bash_profile is not executed during login. A little background here: for this destination server, I need to log into a jump server, and choose the destination server. All users are initially logged in to the destination server with the same user name. Then each user will have to switch to his/her own account via su command: su REAL_USERNAME.\nThat is cause of the problem. The shell started by mere su REAL_USERNAME is an interactive non-login shell. The bash manual also says that:\nWhen an interactive shell that is not a login shell is started, Bash reads and executes commands from ~/.bashrc, if that file exists. This may be inhibited by using the â€“norc option. The â€“rcfile file option will force Bash to read and execute commands from file instead of ~/.bashrc.\nIt means that only settings inside $HOME/.bashrc is sourced. The solution to this issue is simple: invoke su command with - or -l option to tell Bash that we want a login shell instead of a non-login shell.\nWhat gets sourced when we run a non-interactive non-login shell? # The Bash manual says that for a non-interactive shell, it has the following behavior:\nWhen bash is started non-interactively, to run a shell script, for example, it looks for the variable BASH_ENV in the environment, expands its value if it appears there, and uses the expanded value as the name of a file to read and execute. Bash behaves as if the following command were executed: if [ -n \u0026#34;$BASH_ENV\u0026#34; ]; then . \u0026#34;$BASH_ENV\u0026#34;; fi but the value of the PATH variable is not used to search for the filename. So only the file represented by BASH_ENV is sourced when a non-interactive shell is started.\nReferences # This post has good graph on what is sourced during bash startup. Bashrc isnâ€™t always run when I log in. Change shell in Ubuntu. How to get non-interactive login shell. How to check if a shellâ€™s type: login or interactive. Difference between login, non-login, interactive and non-interactive shells. Zsh doc on login and interactive shells. Difference between bashrc and bash_profile. That is not always true. For example, for macOS, new terminal started by Terminal.app is actually a login shell, see here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 September 2019","externalUrl":null,"permalink":"/2019/09/29/linux_login_setup/","section":"Posts","summary":"\u003cp\u003eIn this post, I would like to share causes and solutions to a few issues\nrelated to login shell.\u003c/p\u003e","title":"Why don't settings inside bashrc or bash_profile take effect?","type":"posts"},{"content":"","date":"27 September 2019","externalUrl":null,"permalink":"/tags/centos/","section":"Tags","summary":"","title":"CentOS","type":"tags"},{"content":"","date":"27 September 2019","externalUrl":null,"permalink":"/tags/locale/","section":"Tags","summary":"","title":"Locale","type":"tags"},{"content":"Introduction # When I logged into a Ubuntu server, the system interface and messages are all shown in Chinese. I want them to be displayed in English. After some searching, I found out that we can change the locale settings.\nThe definition of locale is:\nIn computing, a locale is a set of parameters \u0026ldquo;Parameter\u0026rdquo;) that defines the user\u0026rsquo;s language, region and any special variant preferences that the user wants to see in their user interface\nSet up locale for normal Linux system # In Linux systems, there are several environment variables related to the locale settings, such as LANG, LC_COLLATE, LC_TIME, LC_ALL etc. A valid locale is like en_US.UTF-8. You can check this documentation on how locale is formed.\nTo see your default settings, use the locale command without any option. The output looks like:\nLANG=en_US.UTF-8 LANGUAGE=zh_CN:zh LC_CTYPE=\u0026#34;en_US.UTF-8\u0026#34; LC_NUMERIC=\u0026#34;en_US.UTF-8\u0026#34; LC_TIME=\u0026#34;en_US.UTF-8\u0026#34; LC_COLLATE=\u0026#34;en_US.UTF-8\u0026#34; LC_MONETARY=\u0026#34;en_US.UTF-8\u0026#34; LC_MESSAGES=\u0026#34;en_US.UTF-8\u0026#34; LC_PAPER=\u0026#34;en_US.UTF-8\u0026#34; LC_NAME=\u0026#34;en_US.UTF-8\u0026#34; LC_ADDRESS=\u0026#34;en_US.UTF-8\u0026#34; LC_TELEPHONE=\u0026#34;en_US.UTF-8\u0026#34; LC_MEASUREMENT=\u0026#34;en_US.UTF-8\u0026#34; LC_IDENTIFICATION=\u0026#34;en_US.UTF-8\u0026#34; LC_ALL= These settings are often pre-set by the system root. On CentOS, the system-wide default locale settings are stored in /ect/locale.conf. On Ubuntu, the system locale settings are store in /etc/default/locale.\nAmong the locale env variables, LC_xxx variables except LC_ALL are ordinary environment variables that can be set individually.\nSpecial variables are LANG, LANGUAGE and LC_ALL. Their priority are listed here:\nLANGUAGE LC_ALL LC_xxx, according to selected locale category: LC_CTYPE, LC_NUMERIC, LC_TIME, LC_COLLATE, LC_MONETARY, LC_MESSAGES, \u0026hellip; LANG LANG is a special variable that will set the LC_* variable if it is not set. LC_ALL will set all other LC_XXX variables to the same value. Usually, you do not need to set up LC_ALL in your bash_profile. LANGUAGE is a variable used for message handling, which has a higher priority than LC_ALL, LC_xxx and LANG for messages (see the link [here](https: //www.gnu.org/software/gettext/manual/html_node/The-LANGUAGE-variable.html#The-LANGUAGE-variable)) . To verify this, suppose that we have the following settings inside .bash_profile:\nexport LANG=en_US.utf8 export LANGUAGE=zh_CN.utf8 After sourcing the file, you will find that the messages given for command output will be in Chinese (i.e., LANG is overridden.)\nSet up locale for docker container # Ubuntu docker # I try to build a Ubuntu docker image. I want to set my locale to en_US.UTF-8 inside the container by simply adding the following ENV instruction:\nENV LC_ALL=en_US.UTF-8 When I run the built image, I get the following warning:\nbash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)\nThe locale command inside container gives the following message:\nInfo locale: Cannot set LC_CTYPE to default locale: No such file or directory locale: Cannot set LC_MESSAGES to default locale: No such file or directory locale: Cannot set LC_ALL to default locale: No such file or directory LANG= LANGUAGE= LC_CTYPE=\u0026quot;en_US.UTF-8\u0026quot; LC_NUMERIC=\u0026quot;en_US.UTF-8\u0026quot; LC_TIME=\u0026quot;en_US.UTF-8\u0026quot; LC_COLLATE=\u0026quot;en_US.UTF-8\u0026quot; LC_MONETARY=\u0026quot;en_US.UTF-8\u0026quot; LC_MESSAGES=\u0026quot;en_US.UTF-8\u0026quot; LC_PAPER=\u0026quot;en_US.UTF-8\u0026quot; LC_NAME=\u0026quot;en_US.UTF-8\u0026quot; LC_ADDRESS=\u0026quot;en_US.UTF-8\u0026quot; LC_TELEPHONE=\u0026quot;en_US.UTF-8\u0026quot; LC_MEASUREMENT=\u0026quot;en_US.UTF-8\u0026quot; LC_IDENTIFICATION=\u0026quot;en_US.UTF-8\u0026quot; LC_ALL=en_US.UTF-8 It seems that the locale file en_US.UTF-8 does not exist inside container. After some searching, I found the correct way to set up locales inside the Ubuntu container. First, we need to install the locales package, which provides the locale-gen command:\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y locales After installing the locales packages, a file named local.gen will be created under /etc. According to the documentation of locale-gen:\nlocale-gen is a program that reads the file /etc/locale.gen and invokes localedef for the chosen localisation profiles. Run locale-gen after you have modified the /etc/locale.gen file.\nWe should uncomment the line # en_US.UTF-8 UTF-8 in locale.gen and run locale-gen command to generate the needed locale file. After that we can set related settings to en_US.UTF-8:\nRUN sed -i -e \u0026#39;s/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/\u0026#39; /etc/locale.gen \u0026amp;\u0026amp; \\ locale-gen ENV LC_ALL en_US.UTF-8 We can also directly generate the locale file by appending the locale as the argument to locale-gen:\nRUN locale-gen en_US.UTF-8 Putting this all together, we may use the following instructions inside Dockerfile:\nRUN apt-get update \u0026amp;\u0026amp; apt-get install -y locales \u0026amp;\u0026amp; locale-gen en_US.UTF-8 CentOS docker # If you tried to build an image based on a CentOS image. You need to use localedef to generate locale files instead of locale-gen:\n# -i: specify the locale definition file # -f: specify the character set RUN localedef -i en_US -f UTF-8 en_US.UTF-8 Other settings are similar to that of Ubuntu.\nReferences # Change locale in CentOS 7 https://help.ubuntu.com/community/Locale The meaning of LANGUAGE variable Set up locale inside Ubuntu docker. Set up locale in Debian and Ubuntu. CentOS: set up locale. ","date":"27 September 2019","externalUrl":null,"permalink":"/2019/09/27/linux_locale_settings/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eWhen I logged into a Ubuntu server, the system interface and messages are all\nshown in Chinese. I want them to be displayed in English. After some searching,\nI found out that we can change the \u003ca href=\"https://en.wikipedia.org/wiki/Locale_%28computer_software%29\" target=\"_blank\"\u003elocale\u003c/a\u003e settings.\u003c/p\u003e","title":"Setting Up Locale in Linux","type":"posts"},{"content":" æˆ‘çš„åšå®¢ç›®å‰åˆ©ç”¨ GitHub pages æœåŠ¡æ‰˜ç®¡ï¼Œä¸éœ€è¦ä»˜è´¹ï¼Œä½†æ˜¯åšå®¢çš„å›¾åºŠé€‰ç”¨äº†è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨ï¼Œæ¯ä¸ªæœˆè¿˜éœ€è¦ä»˜ä¸€ç¬”æµé‡è´¹ç”¨ã€‚ä¸ºäº†ä¿æŒæ”¶æ”¯å¹³è¡¡ï¼Œä¹Ÿä¸ºäº†å¥½ç©ï¼Œå†³å®šç”³è¯·è°·æ­Œçš„ Adsense ä¸€è¯•ã€‚æœ¬æ–‡è®°å½•ç”³è¯· Adsense ä»¥åŠåœ¨ Hugo åšå®¢ä¸­é…ç½® Adsense çš„è¿‡ç¨‹ã€‚\nAdsense ç”³è¯· # Adsense å¯¹ç”³è¯·è€…çš„ç½‘ç«™æœ‰ä¸€å®šè¦æ±‚ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ç½‘ç«™ç”³è¯·éƒ½èƒ½é€šè¿‡ï¼Œè°·æ­Œå†…éƒ¨æœ‰ä¸€å¥—ç®—æ³•æ¥ç¡®å®šç½‘ç«™æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚æ‰€ä»¥ï¼Œè¦ç”³è¯· Adsenseï¼Œåšå®¢çš„æ–‡ç« æ•°é‡ä»¥åŠåšå®¢çš„è®¿é—®é‡è¦è¾¾åˆ°ä¸€å®šçš„æ ‡å‡†ï¼Œå¦‚æœåˆšå»ºç«‹çš„åšå®¢ï¼ŒåŸºæœ¬ä¸Šä¸å¯èƒ½é€šè¿‡ã€‚\næˆ‘åœ¨ 2017 å¹´çš„æ—¶å€™ç”³è¯·è¿‡ä¸€æ¬¡ Adsenseï¼Œä¸è¿‡é‚£æ—¶å€™åšå®¢çš„åšæ–‡å¤ªå°‘äº†ï¼Œç”³è¯·æ²¡å¤šä¹…ï¼Œå°±æ”¶åˆ°äº†è°·æ­Œçš„é€šçŸ¥ï¼šåšå®¢ä¸ç¬¦åˆ Adsense å¼€é€šæ¡ä»¶ã€‚ä»Šå¹´ (2019 å¹´)ï¼Œåšå®¢çš„æ–‡ç« å·²ç»è¶…è¿‡ 100 ç¯‡ï¼Œæˆ‘åˆç”³è¯·äº†ä¸€æ¬¡ã€‚Adsense çš„ç½‘ç«™è¯´å®¡æ ¸ä¸€èˆ¬ä¼šèŠ±è´¹ 3 å¤©å·¦å³çš„æ—¶é—´ï¼Œä½†æ˜¯æˆ‘çš„ç”³è¯·å®¡æ ¸æ˜¾ç„¶é•¿äº†å¾ˆå¤šï¼Œæ¯æ¬¡ç™»å½•ä¸Šå»æŸ¥çœ‹è¿›å±•ï¼Œéƒ½æ˜¯æ­£åœ¨å®¡æ ¸ï¼Œè‡³å°‘è¿‡äº†ä¸€å‘¨çš„æ—¶é—´ï¼Œæ‰æˆåŠŸå®¡æ ¸é€šè¿‡ã€‚\nåœ¨ Hugo ä¸­é…ç½® Adsense # Hugo æœ‰å¾ˆå¤šä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜é…ç½® Adsense çš„æ–¹å¼å¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œæˆ‘çš„åšå®¢ç›®å‰ä½¿ç”¨çš„æ˜¯Even ä¸»é¢˜ã€‚ä¸‹é¢ä»‹ç»å¦‚ä½•åœ¨ Even ä¸»é¢˜ä¸­åŠ å…¥ Adsense é…ç½®ã€‚\nAdsense ç”³è¯·æˆåŠŸä»¥åï¼Œä¼šæœ‰ä¸€æ®µå¹¿å‘Šä»£ç ï¼Œç±»ä¼¼ä¸‹é¢è¿™ç§ï¼š\n\u0026lt;script async src=\u0026#34;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: \u0026#34;ca-pub-6058871559165202\u0026#34;, enable_page_level_ads: true }); \u0026lt;/script\u0026gt; ä¸Šè¿°ä»£ç ä¸­çš„ä¸€ä¸²æ•°å­—è°·æ­Œåˆ†é…çš„ publisher IDï¼Œéœ€è¦æ”¹æˆè‡ªå·±çš„ IDã€‚æŠŠè¿™æ®µä»£ç æ”¾åˆ° Even ä¸»é¢˜ç›®å½•ä¸‹çš„ layouts/partials/head.html æ–‡ä»¶é‡Œé¢ï¼Œç„¶åé‡æ–°éƒ¨ç½²ã€‚\nå¦å¤–ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»º ads.txt æ–‡ä»¶ï¼Œæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š\ngoogle.com, pub-6058871559165202, DIRECT, f08c47fec0942fa0 æ³¨æ„ pub- åé¢è¦æ”¹æˆè‡ªå·±çš„ publisher IDã€‚è¿™ä¸ªæ–‡ä»¶éœ€è¦æ”¾åœ¨åšå®¢çš„æ ¹åŸŸåä¸‹é¢ï¼Œå¦‚æœä½¿ç”¨çš„ Hugoï¼Œé‚£ä¹ˆæ”¾åˆ° Hugo åšå®¢æ ¹ç›®å½•ä¸‹çš„ public ç›®å½•é‡Œå³å¯ã€‚\nç›®å‰è°·æ­Œ Adsense æ”¯æŒè®¾ç½®è‡ªåŠ¨å¹¿å‘Šï¼šç”¨æˆ·ä¸éœ€è¦è‡ªå·±è®¾å®šåœ¨å“ªé‡Œæ”¾å¹¿å‘Šï¼ŒAdsense å¯ä»¥æ„ŸçŸ¥ä½ çš„é¡µé¢ç»“æ„ï¼Œç„¶åè‡ªåŠ¨åœ¨åˆé€‚ä½ç½®æ”¾ç½®å¹¿å‘Šã€‚åˆšä½¿ç”¨ Adsense çš„æ—¶å€™ï¼Œå¹¿å‘Šå±•ç¤ºå¯èƒ½ä¼šæ²¡æœ‰ï¼Œæˆ–è€…æ¯”è¾ƒå°‘ï¼Œåˆ°åé¢é€æ¸ä¼šå¤šèµ·æ¥ï¼Œå¯èƒ½æ˜¯Adsense çš„ç­–ç•¥åŸå› ã€‚\nå…¶ä»– # Adsense æ”¶å…¥è¾¾åˆ° 10 ç¾å…ƒçš„æ—¶å€™ï¼Œè°·æ­Œä¼šå‘ä½ é‚®å¯„ä¸€ä¸ªverification PINï¼Œä½ éœ€è¦åœ¨ Adsense ä¸ŠéªŒè¯ verification PINã€‚Adsense æ”¶å…¥è¾¾åˆ° 100 ç¾å…ƒæ‰å¯ä»¥æç°ã€‚\nå‚è€ƒ # https://www.qikqiak.com/post/add-adsense-in-hugo-article/ https://blog.xu42.com/2018/09/01/google-adsense/ Ads.txt ä»‹ç». å¦‚ä½•æ‰¾åˆ°è‡ªå·±çš„ Adsense publisher ID. ","date":"22 September 2019","externalUrl":null,"permalink":"/2019/09/22/google_adsense_hugo_config/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/GA-L.jpg\", width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eæˆ‘çš„åšå®¢ç›®å‰åˆ©ç”¨ GitHub pages æœåŠ¡æ‰˜ç®¡ï¼Œä¸éœ€è¦ä»˜è´¹ï¼Œä½†æ˜¯åšå®¢çš„å›¾åºŠé€‰ç”¨äº†è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨ï¼Œæ¯ä¸ªæœˆè¿˜éœ€è¦ä»˜ä¸€ç¬”æµé‡è´¹ç”¨ã€‚ä¸ºäº†ä¿æŒæ”¶æ”¯å¹³è¡¡ï¼Œä¹Ÿä¸ºäº†å¥½ç©ï¼Œå†³å®šç”³è¯·è°·æ­Œçš„ Adsense ä¸€è¯•ã€‚æœ¬æ–‡è®°å½•ç”³è¯· Adsense ä»¥åŠåœ¨ Hugo åšå®¢ä¸­é…ç½® Adsense çš„è¿‡ç¨‹ã€‚\u003c/p\u003e","title":"è°·æ­Œ Adsense ç”³è¯·åŠåœ¨ Hugo ä¸­çš„é…ç½®","type":"posts"},{"content":"","date":"21 September 2019","externalUrl":null,"permalink":"/tags/algorithms/","section":"Tags","summary":"","title":"Algorithms","type":"tags"},{"content":" In this post, I want to summarize what I have learned about creating algorithmic pseudo code in LaTeX.\nIn LaTeX, there are several packages which can help you to write pseudo code, notably algorithmicx and algorithm2e. It seems that algorithm2e is more actively maintained1. I decided to give algorithm2e a try. The end result is shown in the title image. The code to create the title image is:\nClick to see the code. \\documentclass{article} \\usepackage[ruled, lined, linesnumbered, commentsnumbered, longend]{algorithm2e} \\usepackage{xcolor} \\begin{document} \\newcommand\\mycommfont[1]{\\small\\ttfamily\\textcolor{blue}{#1}} \\SetCommentSty{mycommfont} \\begin{algorithm} \\SetKwFunction{isOddNumber}{isOddNumber} % \\SetKwInput{Input}{Input} % \\SetKwInput{Output}{Output} \\SetKwInOut{KwIn}{Input} \\SetKwInOut{KwOut}{Output} \\KwIn{A list $[a_i]$, $i=1, 2, \\cdots, n$, where each element is an integer.} \\KwOut{Processed list.} $newList = [\\ ]$ \\tcc{For odd elements in the list, we add 1, and for even elements, we add 2. After the loop, all elements are even.} \\For{$i \\leftarrow 0$ \\KwTo $n-1$}{ \\eIf{$\\isOddNumber(a_i)$}{ $newList.append(a_i + 1)$ \\tcp*[f]{Some thought-provoking comment.} }{ \\tcp{Another comment} $newList.append(a_i + 2)$ } } \\KwRet{$newList$} \\caption{A plain algorithm} \\end{algorithm} \\end{document} Now I am going to explain the code in detail.\nControlling the algorithm style # There are certain options for the algorithm2e package which control the algorithm style. They can be specified when you import the package:\n\\usepackage[ruled, lined, linesnumbered, commentsnumbered, longend]{algorithm2e} The meaning of these options are list below:\nruled: display algorithm like three-line table. lined: display indentation line so that you can clearly see the indentation level. linenumbered: number the statement line. commentnumbered: number the comment line. longend: used end for to end for loop and use end if to end if condition. Keyword input, output and function # Define keyword input and output # First we need to specify the input and output of the algorithm. algorithm2e provides \\KwIn and \\KwOut command for input and output respectively:\n\\KwIn{A list $[a_i]$, $i=1, 2, \\cdots, n$, where each element is an integer.} \\KwOut{Processed list.} These keyword parameters are not aligned in its : symbol. If you prefer an aligned keyword, you need to define the input and output keyword yourself like the following code:\n\\SetKwInOut{KwIn}{Input} \\SetKwInOut{KwOut}{Output} \\KwIn{A list $[a_i]$, $i=1, 2, \\cdots, n$, where each element is an integer.} \\KwOut{Processed list.} In the above code, we redefine the \\KwIn and \\KwOut command with \\SetKwInOut. \\SetKwInOut will make sure that the defined keyword command will algin at the : character.\nDefine keyword function # You can define a keyword function via \\SetKwFunction{COMMAND}{TEXT} command.\nCOMMAND is used to define the keyword function command, and TEXT is the text that will be shown when you invoke the command, for example:\n\\SetKwFunction{isOddNumber}{isOddNumber} Then you can invoke the command via \\isOddNumber.\nComment # By default, the comment used by algorithm2e has its default style (font size, character color, etc.). If you are not satisfied with comment style, you can change it via \\SetCommentSty{} command. For example, the following code, we change the comment font size, font style and color:\n\\usepackage{xcolor} \\newcommand\\mycommfont[1]{\\small\\ttfamily\\textcolor{blue}{#1}} \\SetCommentSty{mycommfont} Algorithm2e provides \\tcc and \\tcp command to create multi-line and single line C-style comments respectively.\nFor example, you can use \\tcc to create a multi-line comment:\n\\tcc{For odd elments in the list, we add 1, and for even elments, we add 2. After the loop, all elements are even.} The created comment looks like:\nYou can use \\tcp to create single line comment. You can put \\tcp{} command on a separate line to the statement you want to comment:\n\\tcp{Another comment} $newList.append(a_i + 2)$ The produced comment is like:\nWhen you want to put \\tcp in the same line with the statement, there is also a stared version \\tcp*[OPTION] {} with options. The options is used to change the comment style slightly. For example, the following code:\n$newList.append(a_i + 1)$ \\tcp*[f]{Some thought-provoking comment.} will create inline comment shown below.\nReferences # Create pseudo code in LaTeX. How to un-align keyword commands. Remove end in if block. More discussions about different packages to produce pseudo in LaTeX can be found here and here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 September 2019","externalUrl":null,"permalink":"/2019/09/21/latex_algorithm_pseudo_code/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190921212617.png\"\u003e\n\u003c/p\u003e\n\u003cp\u003eIn this post, I want to summarize what I have learned about creating\nalgorithmic pseudo code in LaTeX.\u003c/p\u003e","title":"How to Write Algorithm Pseudo Code in LaTeX","type":"posts"},{"content":"This is the 4th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ Check if a string contains a pattern? # There are two simple ways:\nUse match(str, pattern) Use =~# or =~? For match() function, Vim assumes that magic (see :h /magic) option is set for patterns. If pattern is found in str, it will return the index where the pattern starts. Otherwise, it will return -1.\nYou can also use regex match via =~# and =~? (see :h expr4). =~# matches cases during matching, while =~? ignores cases. During matching, it is always assumed that magic option is set.\nReferences # How to check if a string matches a pattern in vim When should I capitalize the function names? # For custom global functions, i.e., functions without the s: (see local-function), the function name must start with an uppercase letter. But for script local functions and auto-loaded functions (see :h autoload), you do not need to start the actual function name with uppercase letter.\nReferences # Do VimScript functions have to start with a capital letter and if so, why? vim functions with script scope How to represent ALT key in mapping? M or A ï¼Ÿ # According to documentation (:h key-notation), \u0026lt;M-...\u0026gt; and \u0026lt;A-...\u0026gt; are the same. Both can be used to refer to Alt key.\nHow to check the actual key press that Nvim receives when I press a key? # Sometimes, due to various reasons, when you press some key, what Nvim receives is not that key press. To check the key that Nvim actually receives, press Ctrl-V in insert mode and then press the key you want to check.\nReferences # https://superuser.com/a/235520/736190 How to repeat some character N timesï¼Ÿ # If you are in normal mode, use \u0026lt;NUM\u0026gt;a\u0026lt;Chars\u0026gt;\u0026lt;ESC\u0026gt; to input \u0026lt;NUM\u0026gt; repeated \u0026lt;Chars\u0026gt;.\nReferences # Repeating characters in VIM insert mode How do I execute a normal mode command in insert mode? # Ctrl-O is used to leave insert mode, execute one normal mode command and go back to insert mode. For example, if you want to see your runtimepath value, you can first press ctrl-o and then use :echo \u0026amp;runtimepath to see the option\u0026rsquo;s value.\nWrap selection with quotes or other characters # Install vim-surround. Go to visual block mode (press v in normal mode), select text you want to wrap, press S, and press the wrapping characters such ' or \u0026quot; or {.\nIf you want to indent the code and as well as wrap it, then you need to go to visual line mode (press V in normal mode)\nReferences # https://superuser.com/questions/875095/adding-parenthesis-around-highlighted-text-in-vim https://github.com/tpope/vim-surround/blob/master/doc/surround.txt Rename multiple occurrences of a variable # First, search the variable you want to rename. Then press cgn to change it. Go back to normal mode, press . (dot), the next match will be replaced with the new name. If you want to skip some match, press n.\nIt is not as powerful as the Sublime Text multiple cursor feature, but should suffice for refactoring your code most of the time.\nReference # How to selectively change a hightlighted string? Search Unicode characters using its code point # For example, if we would like to search a (Unicode code point is u+0041) in Neovim, the correct format is /\\%u0041, see :h /character-classes for more info.\nReferences # regex unicode character in vim ","date":"17 September 2019","externalUrl":null,"permalink":"/2019/09/17/nifty_nvim_techniques_s4/","section":"Posts","summary":"\u003cp\u003eThis is the 4th post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim Techniques That Make My Life Easier -- Series 4","type":"posts"},{"content":"A few grammar-related questions in writing scientific papers.\n\u0026ldquo;As shown\u0026rdquo; or \u0026ldquo;As is shown\u0026rdquo;? # When we refer to figures in a paper, we should use as shown instead of as is shown. Is in this case is superfluous. Similar usages include as discussed..., as pointed out... etc.\nReferences # https://ell.stackexchange.com/questions/102045/may-i-drop-is-in-constructions-like-as-is-shown-by-the-example-of \u0026ldquo;unless otherwise stated\u0026rdquo; or \u0026ldquo;unless stated otherwise\u0026rdquo;? # Both the two forms are correct and mean the same thing. From the Goolge ngram website, it seems that unless otherwise stated is much more popular than unless stated otherwise.\nReferences # https://english.stackexchange.com/questions/37033/unless-stated-otherwise-or-unless-otherwise-stated When to use comma before a conjunction (\u0026ldquo;and\u0026rdquo;, \u0026ldquo;or\u0026rdquo;, \u0026ldquo;but\u0026rdquo;)? # There are three typical uses of conjunctions:\nTo connect two independent clause. A comma should always be used before conjunctions. The rain stopped, and the sun came out. I like to watch movies, but he likes to read novels. To connect two dependent clause. A comma should not be used. He is a healthy and happy boy. To connect three or more items or clauses. A comma is optional. I have travelled to China, Japan, and Thailand in Asia. Should I go to swimming, play basketball, or watch TV? References # https://english.stackexchange.com/questions/30516/should-i-use-a-comma-before-and-or-or \u0026ldquo;if\u0026rdquo; or \u0026ldquo;whether\u0026rdquo;? # If is used to express a condition, while whether is used to give two choices. For example:\nI do not know if the exam will take place in Saturday or Sundary. I do not know whether the exam will take place in Saturday or Sunday. The two sentences above have subtle differences. The first sentence means that the exam may take place in Saturday or Sunday, but it may also take place in other date. The second sentence means that the exam will take place either in Saturday or Sunday. There is only two choices.\nYou should also note that whether should be used after a preposition. For example:\nWe should depend our decision on whether he will come or not. References # https://www.youtube.com/watch?v=Klnroe1UBRs \u0026ldquo;cannot\u0026rdquo; or \u0026ldquo;can not\u0026rdquo; # According to discussion here, cannot is a modern way of writing can not. Technically, there is no difference between them. In practice, cannot is used far more frequently than can not.\n","date":"17 September 2019","externalUrl":null,"permalink":"/2019/09/17/writing_grammar_s1/","section":"Posts","summary":"\u003cp\u003eA few grammar-related questions in writing scientific papers.\u003c/p\u003e","title":"A Few Grammar Questions in Writing","type":"posts"},{"content":"The other day, when I was using OpenCV to read some images and print the image shape, I got an error:\n\u0026lsquo;NoneType\u0026rsquo; object has no attribute \u0026lsquo;shape\u0026rsquo;.\nI was confused and do not know why since the image path is valid. It tooks me a while to understand the cause.\nThe reason is that OpenCV only accepts ASCII characters for image paths when reading and writing images. There is an open PR to add Unicode path support, but it has not been merged. However, there are ways to work around this issue.\nRead images with unicode paths # First, we can read the image with the help of Numpy fromfile() method, and then use cv2.imdecode() to read the image. Here is a sample code:\nimport numpy as np import cv2 # img with unicode path im_path = \u0026#34;æµ‹è¯•ç›®å½•/test.jpg\u0026#34; # img is in BGR format if the underlying image is a color image img = cv2.imdecode(np.fromfile(im_path, dtype=np.uint8), cv2.IMREAD_UNCHANGED) In the above script, the image is read with numpy and converted to a one-dimensional numpy ndarray of type np.uint8. Then we use imdecode() to decode the ndarray to OpenCV image format. cv2.IMREAD_UNCHANGED is a flag for imdecode1.\nWrite images with unicode paths # To write images with unicode paths, we can first encode the image in OpenCV format to one dimension numpy ndarray format. Then we convert this numpy ndarray to image on disk with the tofile() method.\nimport cv2 import numpy as np img = cv2.imread(\u0026#34;test.jpg\u0026#34;, 1) h, w = img.shape[:2] im_resize = cv2.resize(img, (w//2, h//2)) im_save_path = \u0026#34;æµ‹è¯•ç›®å½•/small_img.jpg\u0026#34; # encode the im_resize into the im_buf_arr, which is a one-dimensional ndarray is_success, im_buf_arr = cv2.imencode(\u0026#34;.jpg\u0026#34;, im_resize) im_buf_arr.tofile(im_save_path) In the above code, cv2.imencode() will encode the image as a one-dimension numpy array and tofile() will save this array into disk.\nReferences # How to read image with unicode path in OpenCV. https://github.com/opencv/opencv/issues/4292 Encode image using OpenCV. OpenCV: none type has attribute shape. The complete list of flags available and their description can be found here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 September 2019","externalUrl":null,"permalink":"/2019/09/11/opencv_unicode_image_path/","section":"Posts","summary":"\u003cp\u003eThe other day, when I was using OpenCV to read some images and print the image\nshape, I got an error:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u0026lsquo;NoneType\u0026rsquo; object has no attribute \u0026lsquo;shape\u0026rsquo;.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI was confused and do not know why since the image path is valid. It tooks me a\nwhile to understand the cause.\u003c/p\u003e","title":"How to Read and Write Images with Unicode Paths in OpenCV","type":"posts"},{"content":"In this post, I want to share some tips on writing papers using $\\LaTeX$.\nUse non-breaking space before references # In certain cases, two piece of texts must be close to each other and not appear in different lines, e.g., when you refer to an image or a table. This is when non-breakable space comes to help. In LaTeX, you can insert a non-breakable space with ~. For example, to refer to some figure you have defined, you can use the following:\nThe figure~\\ref{fig:some_fig} shows an interesting result. This will make sure that figure will always be followed by the index number in the same line.\nPeriod (or dot) and sentence spacing # LaTeX use different width of space between words in a sentence and between two sentences. Typically, a lower case letter followed by a dot ends a sentence. An upper case letter followed by a dot is some kind of an acronym and is not considered end of sentence. When these rules are broken, you need to tell LaTeX whether there is an inter-word space or a inter-sentence space.\nIf a dot follows a lower case letter and it is not the end of a sentence, you should follow the dot with an inter-word space (\\ ):\nThe book is first published in the Combin.\\ Journal. For phrases such as Prof. Adam, a non-breakable space is more appropriate:\nProf.~Adam If a dot follows an upper case letter and it is indeed the end of a sentence, you should precede the dot with \\@:\nWHO is a world orgnization, just like WTO\\@. Do not use \\textit for emphasizing text # Some people like to use \\textit for emphasizing text. Although this works most of the time, it is not encouraged. For example, what if you want to emphasize text inside \\textit command? To emphasize text, you should use \\emph{} which is dedicated to do this job and does it well.\nTerminate command with curly braces # If you use chktex, you may see warnings like the following:\ncommand terminated with space\nThat is because if a command does not terminate with a space, the space after it may be ignored by LaTeX.\nGood: \\LaTeX{} is great. Bad: \\LaTeX is great. Space and parentheses # In short, spaces before the opening parentheses is necessary. If you do not need comma or dot, space after closing parentheses is also necessary. In the enclosed text, there is no need to add spaces in the two ends.\nnational basketball association (NBA): âœ”ï¸ national basketball association(NBA): âŒ national basketball association ( NBA ): âŒ Quotation marks # If you use two \u0026quot; for double quotation and two ' for single quotation, you will find the opening quotation is apparently wrong. The correct way to represent double quotation is ``some text''. The correct way to use single quotation is `some text'.\nReferences # When should we use non-breakable space Inter-sentence spacing in LaTeX Sentence spacing Command terminated with space warning https://tug.org/pipermail/texhax/2017-April/022640.html When to use space around parentheses Quotation marks in LaTeX ","date":"28 August 2019","externalUrl":null,"permalink":"/2019/08/28/latex_writing_tips_s1/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share some tips on writing papers using $\\LaTeX$.\u003c/p\u003e","title":"Tips on Writing Papers in LaTeX","type":"posts"},{"content":" The default table style provided by LaTeX is not good-looking and professional. In this post, I would like to talk about how to create professional table with the help of booktabs package. We will create the table shown in the title image.\nFor how to create a normal table without booktabs, see this tutorial. To use booktabs, we need first to import it since it is not loaded by LaTeX by default:\n\\usepackage{booktabs} To create multi-row cells in a table, we need also to include the multirow package:\n\\usepackage{multirow} Professional tables often appear as a three-line table, i.e., top line, middle line and bottom line. The three lines are usually thicker than other lines that appear in the table. Booktabs package provides the \\toprule, \\midrule and \\bottomrule command to represent the three lines. To draw a line which only spans a few columns, you can use \\cmidrule command.\nI show an example to create a table using the booktabs below:\n\\begin{table}[h] \\centering \\begin{tabular}{lllll} \\toprule \\multirow{2}{*}{Models} \u0026amp; \\multicolumn{3}{c}{Metric 1} \u0026amp; Metric 2\\\\ \\cmidrule{2-4} \\cmidrule{5-5} \\\\ {} \u0026amp; precision \u0026amp; recall \u0026amp; F-score \u0026amp; R@10 \\\\ \\midrule model 1 \u0026amp; 0.67 \u0026amp; 0.8 \u0026amp; 0.729 \u0026amp; 0.75 \\\\ model 2 \u0026amp; 0.8 \u0026amp; 0.9 \u0026amp; 0.847 \u0026amp; 0.85 \\\\ \\bottomrule \\end{tabular} \\end{table} The produced table is like:\nThere are several issues with the table:\nThe text in the multi-row cell is not properly aligned. Row 1 and row 2 are not in the same height. The two \\cmidrule are connected to each other in one end. To align the text in multi-row cell vertically, an easy way is to provide a vertical space parameter before the cell text:\n\\multirow{column_num}{cell_width}[vspace]{Text} We can use the vspace parameter to adjust the vertical position of Text. A positive value will move the text up while a negative value will move the text down.\nThe two \\cmidrule line are too close to the text in the first row. We can manually add some space using the \\addlinespace[] command from the booktabs package. This command can be put after the table line separator \\\\ to add extra space.\nTo prevent the two cmidrule from connecting each other in one end, we need to provide the trim parameter to \\cmidurle command. The trim parameter is provide in () after the command, for example, \\cmidrule(lr){2-4}, which means to trim in both left and right side of the rule.\nCombining these improvements together, we have the following code:\n\\begin{table}[h] \\centering \\begin{tabular}{lllll} \\toprule \\multirow{2}{*}[-1em]{Models} \u0026amp; \\multicolumn{3}{c}{Metric 1} \u0026amp; Metric 2\\\\ \\addlinespace[10pt] \\cmidrule(lr){2-4} \\cmidrule(lr){5-5} \\\\ {} \u0026amp; precision \u0026amp; recall \u0026amp; F-score \u0026amp; R@10 \\\\ \\midrule model 1 \u0026amp; 0.67 \u0026amp; 0.8 \u0026amp; 0.729 \u0026amp; 0.75 \\\\ model 2 \u0026amp; 0.8 \u0026amp; 0.9 \u0026amp; 0.847 \u0026amp; 0.85 \\\\ \\bottomrule \\end{tabular} \\end{table} One last issue is that the edge of table is not tight enough: there are apparent space in the left and right side of the table. You can add @{} in the tabular column setup to trim the extra space like the following:\n\\begin{tabular}{@{}lllll@{}} References # Vertical alignment for multirow cell Increase row height Guide to create tables ","date":"27 August 2019","externalUrl":null,"permalink":"/2019/08/27/latex_table_with_booktabs/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190827223626.png\"\u003e\n\u003c/p\u003e\n\u003cp\u003eThe default table style provided by LaTeX is not good-looking and professional.\nIn this post, I would like to talk about how to create professional table with\nthe help of \u003ca href=\"https://ctan.org/pkg/booktabs?lang=en\" target=\"_blank\"\u003ebooktabs\u003c/a\u003e package. We will\ncreate the table shown in the title image.\u003c/p\u003e","title":"Creating A Professional Table in LaTeX with booktabs","type":"posts"},{"content":" Introduction # I started using Neovim about a year ago. During the process, I have been constantly evolving my configuration (the init.vim file): adding some settings and plugins and dropping others. At its peak, my init.vim has over 1600 lines of settings and comments. Managing a configuration of this size requires grouping the relevant settings into different sections or even subsections. This is when I started thinking about folding my configuration properly. The end result is shown in the title image.\nNvim offers several methods to fold a file:\nfold-manual fold-indent fold-expr fold-marker fold-syntax fold-diff I found that fold-expr and fold-marker is easy to use and understand. In this article, I only introduce these two methods.\nFolding with Marker # When we fold with a marker, Nvim will create a fold where the fold marker appears. The default fold marker is {{{ (for opening a fold) and }}} (for closing a fold). To fold the Nvim config with marker, you have to use marker as the folding method:\nset foldmethod=marker To indicate the fold level, you can append a number after the fold marker. I show an example config using fold markers below:\n\u0026#34;{{{ Some settings \u0026#34;{{{2 Plugin install call plug#begin(expand(\u0026#39;~/.local/share/nvim/plugged\u0026#39;)) Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;do\u0026#39;: \u0026#39;./install.sh\u0026#39;} Plug \u0026#39;Shougo/neco-vim\u0026#39; Plug \u0026#39;neoclide/coc-neco\u0026#39; call plug#end() \u0026#34;}}}2 \u0026#34;{{{2 Built-in options set number set relativenumber set pyxversion=3 set foldmethod=marker set wildoptions=pum \u0026#34;}}}2 \u0026#34;}}}1 \u0026#34;{{{ Color schemes set background=dark color desert \u0026#34;}}} In the above sample configuration, I define two level 1 sections. Inside the first level 1 section, there are two level 2 sub-sections.\nIf you open Nvim with the above configuration:\nnvim -u init.vim init.vim the folding is like the following:\n+-- 17 lines: Some settings Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· +-- 4 lines: Color schemesÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· Two level 1 folds will be shown. Go to the first level 1 fold and use zo to open the fold. Now the buffer will be shown as the following:\n\u0026#34;{{{ Some settings +--- 7 lines: Plugin installÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· +--- 7 lines: Built-in optionsÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· \u0026#34;}}}1 +-- 4 lines: Color schemesÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· In the closed fold line, there are some texts shown to indicate the meaning of this fold and how many lines have been folded1. It is called foldtext in Nvim. By default, the foldtext option will use the function foldtext() to evaluate the opening fold line and return a reasonable string as the fold text. See the foldtext() doc for details. If you are not satisfied with the style of the default fold text, you may define your fold text function to replace the foldtext(). We will cover that later in this post.\nFolding with Expression # Folding with marker is not flexible enough since you have to use the marker and indicate the folding level by appending a number behind the marker. Folding with expression is more flexible and powerful.\nTo fold Nvim config with an expression, you have to use expr for the foldmethod option and define your custom folding function:\nset foldmethod=expr set foldexpr=VimFolds(v:lnum) In the above settings, we define the folding function VimFolds(), which will evaluate each line of the config and return its folding level. The variable v:lnum is a special variable which indicates the current line the folding function is evaluating. That is where the power of fold-expr resides: you can structure your configuration the way you want and use the folding function to parse the config and returns the correct folding level for each line.\nWith custom folding expression, we can define our own fold indicator. For example, I am currently using the number of { to indicate the level of a folding:\n\u0026quot;{: level 1 \u0026quot;{{: level 2 \u0026quot;{{{: level 3 \u0026hellip;\u0026hellip; I use the following folding function to parse the configuration:\nfunction! VimFolds(lnum) \u0026#34; get content of current line and the line below let l:cur_line = getline(a:lnum) let l:next_line = getline(a:lnum+1) if l:cur_line =~# \u0026#39;^\u0026#34;{\u0026#39; return \u0026#39;\u0026gt;\u0026#39; . (matchend(l:cur_line, \u0026#39;\u0026#34;{*\u0026#39;) - 1) else if l:cur_line ==# \u0026#39;\u0026#39; \u0026amp;\u0026amp; (matchend(l:next_line, \u0026#39;\u0026#34;{*\u0026#39;) - 1) == 1 return 0 else return \u0026#39;=\u0026#39; endif endif endfunction For lines starting with \u0026quot;{, the above function will extract the number of curly braces and return its folding level. For empty lines which are followed by a level 1 fold, its folding level is 0, which means that this line is not in a fold and will not be folded. For other lines, its folding level is the same as the previous line.\nThe format for the folding level can be found in :h fold-expr.\nCustom Folding Text # Now that we can define the folding level by the folding expression. We need to customize the folding text as well. Or the fold text produced by the default foldtext() function will look ugly:\n+-- 21 lines: { Some settingsÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· +-- 27 lines: { Custom functionsÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· +-- 4 lines: { Color schemesÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· To customize the fold text, as I have mentioned earlier, we need to create a custom fold text function to produce the folding text we want.\nBelow I show a custom folding text function:\nfunction! MyFoldText() let line = getline(v:foldstart) let folded_line_num = v:foldend - v:foldstart let line_text = substitute(line, \u0026#39;^\u0026#34;{\\+\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;g\u0026#39;) let fillcharcount = \u0026amp;textwidth - len(line_text) - len(folded_line_num) return \u0026#39;+\u0026#39;. repeat(\u0026#39;-\u0026#39;, 4) . line_text . repeat(\u0026#39;.\u0026#39;, fillcharcount) . \u0026#39; (\u0026#39; . folded_line_num . \u0026#39; L)\u0026#39; endfunction In the above function, v:foldstart and v:foldend are the special variable provided by Vim for a particular folding level. We need to set the foldtext option to use the custom function:\nset foldtext=MyFoldText() Reopen Nvim and now the fold text becomes:\nSome settings -------------------------------------------------------- (20 L)Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· Custom functions ----------------------------------------------------- (26 L)Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· Color schemes --------------------------------------------------------- (3 L)Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· The trailing Â· characters at the end of each folding line is added by Nvim if there are spaces after the fold text in the current window. If you do not want these trailing characters, you can add the following setting to Nvim config:\n\u0026#34; note that there is a space character behind backslash set fillchars=fold:\\ Conclusion # In this post, I introduced how to create folding for the Nvim configuration file and use custom folding text for a fold. With this knowledge, you can create fancy foldings and folding text as you want.\nReferences # Is there a best practice to fold a vimrc file: https://vi.stackexchange.com/q/3814/15292 See :h fold-foldtext for detailed explanations on fold text.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 August 2019","externalUrl":null,"permalink":"/2019/08/16/nvim_config_folding/","section":"Posts","summary":"\u003cp\u003e\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" loading=\"lazy\" src=\"https://blog-resource-1257868508.file.myqcloud.com/20190817223054.png\" alt=\"Folded config\" /\u003e\n    \n  \u003c/figure\u003e\n\u003c/p\u003e","title":"How to Create Proper Folding for Vim/Nvim Configuration","type":"posts"},{"content":"In this post, I list some of the often-used Linux command in my daily life.\nFind all files under current folder with extension jpg or txt? # find . -type f \\( -iname \u0026#34;*.jpg\u0026#34; -o -iname \u0026#34;*.txt\u0026#34; \\) -print Ref:\nHow to use find command to search for multiple extensions Unix find: multiple file types Got \u0026ldquo;argument list too long error\u0026rdquo; while deleting files # When I delete files directly using rm some_dir/*, I get the error that argument list is too long. We can use find to delete files instead:\nfind . -type f -name \u0026#34;*.jpg\u0026#34; -delete Ref:\nArgument list too long error for rm, cp, mv commands Add a prefix to each line of a file # It is trival to do this via sed:\nsed -i.bak -e \u0026#39;s/^/\u0026lt;Pattern\u0026gt;/\u0026#39; test.txt i.bak means to back up original file and create a new file.\nRef:\nAdd a prefix string to beginning of each line How to use scp to transfer files between local and remote # Transfer remote file to local # scp -P \u0026lt;PORT\u0026gt; USER@remote_IP:/path/to/remote/file /local/directory Transfer local file to remote # scp -P \u0026lt;PORT\u0026gt; /path/to/local/file USER@remote_IP:/path/to/remote_dir You can rename the transfered file if you give a complete path to the file instead of just a remote directory.\nTransfer remote folder to local # scp -P \u0026lt;PORT\u0026gt; -r USER@remote_IP:/path/to/remote/dir /path/to/local/dir Transfer local folder to remote # scp -P \u0026lt;PORT\u0026gt; -r /path/to/local/folder USER@remote_IP:/path/to/remote/folder When transferring folder from local to remote/from remote local, if the remote/local folder exists, the folder will be put as a child directory, otherwise, a new folder will be created with the name you give.\nDownload file using curl and rename # curl -o new_name -L file_link -L tells curl to redirect.\nHow to show system reboot time? # Use last reboot to show system reboot time. who -b can also show the system last reboot time.\nRef:\nHow long has my Linux system been running? Compress (using tar) files from text file? # The files we want to compress are written in a text file, e.g, img_list.txt. Each line in img_list.txt represents a file path. How to compress all these files to a single tar ball?\nWe can use the -T option for tar:\n-T, --files-from=FILE get names to extract or create from FILE The command is:\ntar zcvf images.tgz -T img_List.txt Ref:\nTar archiving that takes input from a list of files Only search a pattern in certain filetypes? # Suppose we want to search PATTERN in certain filetypes, for example, *.py files.\nUse grep # grep -r -i PATTERN --include \\*.py Use ripgrep # Ripgrep is a fast searching tool, commonly referred to as rg. Using rg, it is easier to do this:\nrg PATTERN -g \u0026#34;*.py\u0026#34; Ref:\ngrep, but only certain file extensions https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#manual-filtering-globs Randomly select N files from a folder? # First use find to find the certain files you want to select from, then use shuf to randomly select the files.\nfind . -type f -name \u0026#34;*.jpg\u0026#34; -print | shuf -n 100 Ref:\nHow can I select random files from a directory in bash? ","date":"9 August 2019","externalUrl":null,"permalink":"/2019/08/09/linux_command_cheat_sheet_s1/","section":"Posts","summary":"\u003cp\u003eIn this post, I list some of the often-used Linux command in my daily life.\u003c/p\u003e","title":"Linux Tips and Tricks -- s1","type":"posts"},{"content":"","date":"31 July 2019","externalUrl":null,"permalink":"/tags/exif/","section":"Tags","summary":"","title":"EXIF","type":"tags"},{"content":"The other day I came across a strange bug during work. My colleagues gave me some photographs taken with a smartphone. On their machines (Windows 7), all the photos were shown correctly in landscape mode. However, when I checked those photos, I found that some of those photos were shown in portrait mode (rotated 90 or 270 degrees) or upside-down (rotated 180 degrees).\nI was curious what happened and learned about Exif and all its related stuff.\nHow Does Exif Orientation Work # What is Exif # Exif (Exchangeable image file format) is a protocol to store various meta-information about the images taken by digital cameras. Exif are stored along with the actual image data. Some of the meta info in Exif includes camera maker, shutter speed, focal length, orientation, shooting time etc. These meta info is called tags and each tag has a specific tag number decided by the Exif format standard. A comprehensive list of tags and their related informations can be found here.\nExif Orientation Flag # Here, we are interested in the orientation meta info. When we are taking photos with a camera, we may not always hold the camera in such a position that the camera top corresponds to top of the scene. Image below from this blog illustrates this idea clearly:\nBut no matter how you are holding the camera, if you check the image on your computer, the image is shown in correct orientation. This has something to do with Exif orientation flag. When you are holding the camera with non-upright position, the raw photo you take is stored as a rotated image. The digital device (be a smartphone or digital camera) has a sensor to record the orientation of the camera and writes that information into orientation flag in Exif.\nThe Exif orientation flag can have nine different values from 1 to 91. The image2 below shows eight of them:\nTypically, you will only get flag 1, 8, 3, 6 for digital photos. Flag 2, 7, 4, 5 represent mirrored and rotated version of images.\nWhy Are My Images Wrongly Displayed? # When you use a photo viewer to check the image on your computer, if the photo viewer can read the Exif info and respects that info, it will automatically rotate the raw image based on the orientation info. The end result is that you can see the correctly-oriented photo no matter how it is actually stored.\nNow come to the issue in the beginning of this post. According to this article, Windows systems before Windows 8 does not take into account the Exif orientation flag and show the images as is, i.e., the raw, un-rotated images are shown instead of the properly rotated images. Since the images my colleagues gave me are shown correctly on their Windows 7 machine, we can draw a conclusion that the raw images are in correct orientation. Somehow, the smartphone is reporting the wrong orientation flags for some of the photos. When I show these photos on my Windows 10 machine, since Windows 10 respects the orientation flag, some of the images will be shown as rotated due to the false orientation flag.\nOn the other hand, if you see correct photo on Windows 10 but rotated one on a Windows 7 machine, that is because the raw image is in rotated position and Windows 7 does not respect the orientation info in Exif.\nRead and Write Exif Info # IrfanView # IrfanView is a great image viewer on Windows, which respects the image Exif info. To view the image Exif info, open an image and click Image -\u0026gt; Information. If the image contains Exif info, you can then click the EXIF info button at the bottom left of the popup window to check the image Exif info.\nDisable Auto-rotate for IrfanView # By default, IrfanView respects the Exif info and will auto-rotate the image based on its orientation flag. To disable this behavior, go to Options -\u0026gt; Properties/Settings, click JPG/PCD/GIF and uncheck the box Auto-rotate image according to EXIF info (if available).\nPillow and Exif Info # If you read an image with Pillow and show it or save it again, Pillow will not respect the Exif orientation tag. You may see such issues here and here. There is a pull request to address this issue, which has been merged now.\nPillow is able to read the image Exif info, but it is not able to edit the Exif info. A sample script to show the image Exif info is shown below:\nfrom PIL import Image from PIL. from PIL.ExifTags import TAGS img = Image.open(\u0026#39;test.jpg\u0026#39;) exif = img.getexif() for k, v in exif.items(): print(\u0026#39;{}: {}\u0026#39;.format(TAGS[k], v)) In the above script, We use the Image.getexif()3 to retrieve the image Exif info. TAGS is a dictionary mapping the tag number to a descriptive name.\nPiexif # The Python package piexif can be used to both read and write the image Exif info.\nBased on the example on its documentation site, I show an example of change the image Exif orientation flag and save a new image using the new Exif info.\nfrom PIL import Image import piexif img = Image.open(\u0026#39;test.jpg\u0026#39;) if \u0026#34;exif\u0026#34; in img.info: exif_dict = piexif.load(img.info[\u0026#39;exif\u0026#39;]) if piexif.ImageIFD.Orientation in exif_dict[\u0026#39;0th\u0026#39;]: exif_dict[\u0026#39;0th\u0026#39;][pixeif.ImageIFD.Orientation] = 3 # quick and dirty work around to avoid type error exif_dict[\u0026#39;Exif\u0026#39;][41729] = b\u0026#39;1\u0026#39; exif_bytes = piexif.dump(exif_dict) img.save(\u0026#39;new_img.jpg\u0026#39;, exif=exif_bytes) The primary info of Exif are stored in the 0th key of exif_dict, which is also a Python dictionary. It seems that piexif did not check the value type of the Exif dict so that we may encounter ValueError when we try to dump the exif_dict. After reading the source code of piexif, I use the following line of code to work around this issue just for now.\nexif_dict[\u0026#39;Exif\u0026#39;][41729] = b\u0026#39;1\u0026#39; After that, you should be able to dump the exif_dict without errors.\nReferences # An online service which reads and writes Exif info Windows 10 auto-rotate images Why images do not always appear correctly rotated Disable auto-rotate in IrfanView Derotate image with exiftool JPEG rotation and EXIF orientation How does smartphone decide orientation JPEG Orientation Rotate image based on Exif orientation in Pillow Can not dump exif dict as bytes Read image exif with Pillow Exif orientation tag Flag 9 means undefined.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nImage source: https://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThis method is added in Pillow 6.0.0.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"31 July 2019","externalUrl":null,"permalink":"/2019/07/31/image_rotation_exif_info/","section":"Posts","summary":"\u003cp\u003eThe other day I came across a strange bug during work. My colleagues gave me\nsome photographs taken with a smartphone. On their machines (Windows 7), all\nthe photos were shown correctly in landscape mode. However, when I checked\nthose photos, I found that some of those photos were shown in portrait mode\n(rotated 90 or 270 degrees) or upside-down (rotated 180 degrees).\u003c/p\u003e\n\u003cp\u003eI was curious what happened and learned about\n\u003ca href=\"https://en.wikipedia.org/wiki/Exif\" target=\"_blank\"\u003eExif\u003c/a\u003e and all its related stuff.\u003c/p\u003e","title":"JPEG Image Orientation and Exif","type":"posts"},{"content":"I saw on StackExchange that someone asked about how to see the full path of current file in Vim. I think it would be helpful to write about how I do it.\nTemporary solution # To show the full path of current file, you can press {count}Ctrl-G, that is, a count bigger or equaling to 1, followed by Ctrl-G. If you press 1\u0026lt;C-G\u0026gt;, only the full path of the file will be shown. If you press a number bigger than 1, the buffer index of current file will also be shown. For more info, see :h Ctrl-G.\nYou can also use expand() function to see the full path of current file:\n:echo expand(\u0026#39;%:p\u0026#39;) In the above command, % is special character which represents the name of current file. :p is a path modifier which is used to show the full path of the file. Please see the expand() doc on other types of path modifiers.\nPermanent solution # If you want to show the current file path permanently so that you can see its path whenever you like. A good place to put the file path is the title bar. In order to do that, you need to set the title and titlestring. Currently, I am using the following settings:\nset title set titlestring=%{hostname()}\\ \\ %F\\ \\ %{strftime(\u0026#39;%Y-%m-%d\\ %H:%M\u0026#39;,getftime(expand(\u0026#39;%\u0026#39;)))} It will show the hostname of Vim, then the complete path of the file and followed by last modified time of the file.\nThe titlestring is just a string. You can use pre-defined modifier to show the content of various variables and the results of various functions. It seems a bit complicated. But in fact, it is not so scary. It uses the same syntax as the statusline (see :h statusline).\nIn the above setting for titlestring, we first show the hostname of the Nvim using the hostname() function. %{} is a special modifier, which will evaluate the expression inside and subsititute the returned result as a string. %F is a modifier used to show the full path of the file. The getftime() function is used to show the last modified time of the current file. strftime() function is used to convert the time to pre-defined format, that is YYYY-mm-dd HH:MM.\nThe end result is something like the following\n","date":"31 July 2019","externalUrl":null,"permalink":"/2019/07/31/nvim_show_file_path/","section":"Posts","summary":"\u003cp\u003eI saw on \u003ca href=\"https://vi.stackexchange.com/questions/104/how-can-i-see-the-full-path-of-the-current-file/20768#20768\" target=\"_blank\"\u003eStackExchange\u003c/a\u003e\nthat someone asked about how to see the full path of current file in Vim. I\nthink it would be helpful to write about how I do it.\u003c/p\u003e","title":"How Do I Show the Current File Path In Neovim?","type":"posts"},{"content":"Introduction # The other day, I was haunted by a bug and found that it was an issue with the image quality saved by Pillow after spending a few hours debugging the code.\nInitially, the workflow of my code was like loading the JPEG image with PIL and after some operation, saving the image again. But I didn\u0026rsquo;t give any other parameters except the file name when using Image.save() method.\nThe quality parameter # After looking up the documentation, I find that PIL will save the image with quality factor 75 by default so that the image quality is decreased. The documentation for quality says:\nThe image quality, on a scale from 1 (worst) to 95 (best). The default is 75. Values above 95 should be avoided; 100 disables portions of the JPEG compression algorithm, and results in large files with hardly any gain in image quality.\nUsing a quality factor of 95 should be enough to preserve the image quality:\nimg.save(\u0026#39;test.jpg\u0026#39;, quality=95) Subsampling # According to this post, even if you use quality=100, the saved image will still be slightly different from the original image. This is because PIL will also use subsampling technique to reduce the image size. You can use subsampling=0 to turn off this feature. Overall, to retain the content of original image, you may use:\nimg.save(\u0026#39;test.jpg\u0026#39;, quality=100, subsampling=0) Other options for quality # For JPEG files, there are also a list of preset options you can use for the quality parameter, such web_high, high. The complete list of options can be found here. These preset options will set the subsampling factor and quantization table which is used in image quantization process.\nReferences # Why is the quality of JPEG images produced by PIL so poor? PIL jpeg, how to preserve the pixel color ","date":"20 July 2019","externalUrl":null,"permalink":"/2019/07/20/pil_jpeg_image_quality/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eThe other day, I was haunted by a bug and found that it was an issue with the\nimage quality saved by \u003ca href=\"https://pillow.readthedocs.io/en/stable/\" target=\"_blank\"\u003ePillow\u003c/a\u003e after\nspending a few hours debugging the code.\u003c/p\u003e","title":"JPEG Image Quality in PIL","type":"posts"},{"content":"PyTorch provides a lot of methods for the Tensor type. Some of these methods may be confusing for new users. Here, I would like to talk about view() vs reshape(), transpose() vs permute().\nview() vs reshape() and transpose() # view() vs transpose() # Both view() and reshape() can be used to change the size or shape of tensors. But they are slightly different.\nThe view() has existed for a long time. It will return a tensor with the new shape. The returned tensor shares the underling data with the original tensor. If you change the tensor value in the returned tensor, the corresponding value in the viewed tensor also changes.\nOn the other hand, it seems that reshape() has been introduced in version 0.4. According to the document, this method will\nReturns a tensor with the same data and number of elements as input, but with the specified shape. When possible, the returned tensor will be a view of input. Otherwise, it will be a copy. Contiguous inputs and inputs with compatible strides can be reshaped without copying, but you should not depend on the copying vs. viewing behavior.\nIt means that torch.reshape may return a copy or a view of the original tensor. You can not count on that to return a view or a copy. According to the developer:\nif you need a copy use clone() if you need the same storage use view(). The semantics of reshape() are that it may or may not share the storage and you don\u0026rsquo;t know beforehand.\nAs a side note, I found that torch version 0.4.1 and 1.0.1 behaves differently when you print the id of original tensor and viewing tensor:\nIn [1]: import torch In [2]: a = torch.rand(3, 4) In [3]: id(a), id(a.storage()) Out[3]: (2236511690472, 2236511611848) In [4]: b = a.view(2, 6) In [5]: id(b), id(b.storage()) Out[5]: (2236523527984, 2236470501128) You see that id of a.storage() and b.storage() is not the same. Isn\u0026rsquo;t that their underlying data the same? Why this difference?\nI filed an issue in the PyTorch repo and got answers from the developer. It turns out that to find the data pointer, we have to use the data_ptr() method. You will find that their data pointers are the same.\nview() vs transpose() # transpose(), like view() can also be used to change the shape of a tensor and it also returns a new tensor sharing the data with the original tensor:\nReturns a tensor that is a transposed version of input. The given dimensions dim0 and dim1 are swapped.\nThe resulting out tensor shares itâ€™s underlying storage with the input tensor, so changing the content of one would change the content of the other.\nOne difference is that view() can only operate on contiguous tensor and the returned tensor is still contiguous. transpose() can operate both on contiguous and non-contiguous tensor. Unlike view(), the returned tensor may be not contiguous any more.\nBut what does contiguous mean? # There is a good answer on SO which discusses the meaning of contiguous in Numpy. It also applies to PyTorch.\nAs I understand, contiguous in PyTorch means if the neighboring elements in the tensor are actually next to each other in memory. Let\u0026rsquo;s take a simple example:\nx = torch.tensor([[1, 2, 3], [4, 5, 6]]) # x is contiguous y = torch.transpose(0, 1) # y is non-contiguous Tensor x and y in the above example share the same memory space1.\nprint(x.data_ptr()) # 94018404758288 print(y.data_ptr()) # 94018404758288 If you check their contiguity with is_contiguous(), you will find that x is contiguous but y is not.\nprint(x.is_contiguous()) # True print(y.is_contiguous()) # False Since x is contiguous, x[0][0] and x[0][1] are next to each other in memory. But y[0][0] and y[0][1] is not.\nA lot of tensor operations requires that the tensor should be contiguous, otherwise, an error will be thrown. To make a non-contiguous tensor become contiguous, use call the contiguous(), which will return a new contiguous tensor. In plain words, it will create a new memory space for the new tensor and copy the value from the non-contiguous tensor to the new tensor.\ntranspose() and permute() # permute() and tranpose() are similar. transpose() can only swap two dimension. But permute() can swap all the dimensions. For example:\nx = torch.rand(16, 32, 3) y = x.tranpose(0, 2) z = x.permute(2, 1, 0) Note that, in permute(), you must provide the new order of all the dimensions. In transpose(), you can only provide two dimensions. tranpose() can be thought as a special case of permute() method in for 2D tensors.\nReferences # https://discuss.pytorch.org/t/in-pytorch-0-4-is-it-recommended-to-use-reshape-than-view-when-it-is-possible/17034 tensor data pointers. view after transpose raises non-contiguous error. When to use which, permute, view, transpose. Difference between reshape() and view(). To show a tensor\u0026rsquo;s memory address, use tensor.data_ptr().\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 July 2019","externalUrl":null,"permalink":"/2019/07/10/pytorch_view_reshape_transpose_permute/","section":"Posts","summary":"\u003cp\u003ePyTorch provides a lot of methods for the Tensor type. Some of these methods\nmay be confusing for new users. Here, I would like to talk about\n\u003ca href=\"https://pytorch.org/docs/stable/tensors.html#torch.Tensor.view\" target=\"_blank\"\u003e\u003ccode\u003eview()\u003c/code\u003e\u003c/a\u003e  vs\n\u003ca href=\"https://pytorch.org/docs/stable/torch.html#torch.reshape\" target=\"_blank\"\u003e\u003ccode\u003ereshape()\u003c/code\u003e\u003c/a\u003e,\n\u003ca href=\"https://pytorch.org/docs/stable/torch.html#torch.transpose\" target=\"_blank\"\u003e\u003ccode\u003etranspose()\u003c/code\u003e\u003c/a\u003e vs\n\u003ca href=\"https://pytorch.org/docs/stable/tensors.html#torch.Tensor.permute\" target=\"_blank\"\u003e\u003ccode\u003epermute()\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e","title":"Difference between view, reshape, transpose and permute in PyTorch","type":"posts"},{"content":"Introduction # Sometimes, we may want an in-memory jpg or png image that is represented as binary data. But often, what we have got is image in OpenCV (Numpy ndarray) or PIL Image format. In this post, I will share how to convert Numpy image or PIL Image object to binary data without saving the underlying image to disk.\nIf the image file is saved on disk, we can read it directly in binary format with open() method by using the b flag:\nwith open(\u0026#39;test.jpg\u0026#39;, \u0026#39;rb\u0026#39;) as f: byte_im = f.read() Now the image will be read from disk to memory and is still in binary format.\nWhat if we want to resize the original image and convert it to binary data, without saving the resized image and re-read it from the hard disk? How should we do it?\nConvert image to bytes # We can do it with the help of OpenCV or PIL.\nOpenCV # This is how to achieve that in OpenCV:\nimport cv2 im = cv2.imread(\u0026#39;test.jpg\u0026#39;) im_resize = cv2.resize(im, (500, 500)) is_success, im_buf_arr = cv2.imencode(\u0026#34;.jpg\u0026#34;, im_resize) byte_im = im_buf_arr.tobytes() # or using BytesIO # io_buf = io.BytesIO(im_buf_arr) # byte_im = io_buf.getvalue() A little explanation here. imencode() will encode the Numpy ndarray in the specified format. This method will return two values, the first is whether the operation is successful, and the second is the encoded image in a one-dimension Numpy array.\nThen you can convert the returned array to real bytes either with the tobytes() method or io.BytesIO(). We can finally get the byte_im. It is the same with saving the resized image in hard disk and then reading it in binary format, but the saving step is removed and all the operation is done in memory.\nPIL # If you like to use PIL for image processing. You can use the following code:\nimport io from PIL import Image im = Image.open(\u0026#39;test.jpg\u0026#39;) im_resize = im.resize((500, 500)) buf = io.BytesIO() im_resize.save(buf, format=\u0026#39;JPEG\u0026#39;) byte_im = buf.getvalue() In the above code, we save the im_resize Image object into BytesIO object buf. Note that in this case, you have to specify the saving image format because PIL does not know the image format in this case. The bytes string can be retrieved using getvalue() method of buf variable.\nReferences # Python OpenCV convert image to byte string?. Write OpenCV image in memory to BytesIO or Tempfile. python Image PIL to binary Hex. Convert PIL Image to byte array?. ","date":"6 July 2019","externalUrl":null,"permalink":"/2019/07/06/python_opencv_pil_image_to_bytes/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eSometimes, we may want an in-memory jpg or png image that is represented as\nbinary data. But often, what we have got is image in OpenCV (Numpy ndarray) or\nPIL Image format. In this post, I will share how to convert Numpy image or PIL\nImage object to binary data without saving the underlying image to disk.\u003c/p\u003e","title":"Convert PIL or OpenCV Image to Bytes without Saving to Disk","type":"posts"},{"content":"Introduction # One key spirit of Vim is to accomplish something in as fewer key strokes as possible. When we repeat a command several times to perform an action, we need to ask ourselves if there is a better way to do it. Only in this way, can we make progress in mastering Vim. For example, to delete five lines of texts, if we press dd five times, we are certainly doing it the wrong way. After looking up the Vim manual, we know that we can use 5dd or d4j: only three keystrokes are needed instead of ten!\nThe other day, I saw a post in a forum asking for help on how to quickly move the cursor inside a buffer. After using Neovim for nearly a year, I would like to share what I have learnt about fast movement and navigation inside Neovim/Vim.\nThere are hundreds or thousands of articles about basic Vim command to move the cursor. You can check this cheatsheet to quickly get an overview.\nHere I want to to talk something more advanced, at least in my opinion. Unless otherwise notified, all the commands below are performed in normal mode.\nQuickly go to a line # I have observed that one common and inefficient behaviour of Vim novices is that they often do not know that most Vim commands can be prefixed with a number to avoid manual repeat.\nIn this part, I will talk about how to quickly go to line. Beginners often press j or k non-stop in order to navigate to a specific line below or above the current cursor line. This is a terrible and highly inefficient way to go to where you want.\nTo go to a line, first press the line number, then press gg or G. For example, to go to line 87, press either 87gg or 87G.\nRelative number # We can also move the cursor relatively based on the distance between the destination line and current line. To go to ten lines below or above, we can press 10j or 10k.\nThis requires less key strokes once a file reaches hundreds of lines. The only inconvenience is that we have to manually calculate the distance between the destination line and cursor line. In order to be more efficient, I strongly suggest you turning on both the number and relativenumber options:\nset number set relativenumber After setting these two options, the cursor line will show its absolute line number, while the other lines will show the relative distance to the current line. No more manual calculation needed!\nFor more settings about line number in Neovim, see my other post.\nPrecise cursor movement # Vim provides the f, t or F, T command to jump forward or backward to a character in current line, and you can repeat the action by pressing , or ; (see :h , or :h ;). While these commands are useful, they are not powerful enough to be of real value:\nThe movement is restricted to current line. There are possibly many repetitions since you can only provide one character. As a result, you may need to press ; several times to go to where you want. vim-sneak1 solves these two issues neatly. With vim-sneak, you can go anywhere your eyes can see in just four key strokes in most cases. It is one of the most amazing plugins I have ever seen.\nAfter installing this plugin, add the following minimal settings to your configuration:\nlet g:sneak#label = 1 nmap f \u0026lt;Plug\u0026gt;Sneak_s nmap F \u0026lt;Plug\u0026gt;Sneak_S The above settings will map f and F to search forward and backward respectively and use the sneak label mode.\nFor example, if you want to go to the character i that is followed by m, first press f, then press im. All occurrences of im will be highlighted and given a label (see image below).\nPress the character in a label, the cursor will jump to that location, which is really amazing.\nQuickly go to a previous edit position # When I am writing Python source files, a pattern I notice is that I often forget to import a package or module when I need to use it. My usual work flow will be like:\nChange to normal mode with ESC. Go to the top of the source file and add the import statement I need. Make other necessary adjusts. Scroll down the source file and find the line I have been editing previously. Go to the precise location where I am editing. The annoyance is that it will take some time to go to the exact position we are editing before. This is when marks come to help2. A mark denotes a particular position in the buffer. The following is a simple overview to use marks:\nma: create a mark named a (can be a character in a-z) `a: go the exact position denoted by mark a 'a: go to the line denoted by mark a With marks, we can simplify our workflow. If we want to move to other places but want to go back later, we can simply create a mark in this position. After finishing work in other locations, we can directly go to the previous location with its mark label.\nThe native functionality provided by marks are powerful but not very convenient:\nIf you create several marks, you may not remember the correspondence between buffer positions and mark labels. You have to manually select an unused label for newly created marks. It is also cumbersome to delete a mark. I recommend using plugin vim-signature to manage your marks. This plugin will show the mark labels in the sign column3 so that we can easily go to a marked position. It also provides other commands to manage marks.\nSwitching buffers quickly # When we are working on a large projects, we may open several files at the same time. We can go to a buffer quickly if we know its buffer index. To show the buffer index of opened files, use :ls. An example output is:\n2 %a \u0026#34;movement_navigation_inside_nvim.md\u0026#34; line 153 5 # \u0026#34;~/.config/nvim/init.vim\u0026#34; line 758 The number in the first column is the buffer index. To go to a buffer, first press the buffer index, then press Ctrl + 6.\nIt works but are still not convenient enough, because we have to first find the buffer index using :ls command. My solution is to use vim-airline, which can be configured to show the buffer index on the tabline along with the file names. After installing Vim-airline, add the following settings to your configuration:\nlet g:airline#extensions#tabline#enabled = 1 let g:airline#extensions#tabline#buffer_nr_show = 1 Restart Nvim and you will find that each buffer has a number on the left of the file name (see image below).\nConclusion # In this post, I shared several ways for faster movement and navigation inside Neovim/Vim. I hope that you can apply the techniques here to improve your efficiency and save your time. Hopefully, you may share your own ideas on how to further improve efficiency in the comment below.\nThere is another similar plugin called vim-easymotion.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nsee :h mark-motions for the documentation on marks.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee :h signs for the documentation on signs.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"26 June 2019","externalUrl":null,"permalink":"/2019/06/26/movement_navigation_inside_nvim/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eOne key spirit of Vim is to accomplish something in as fewer key strokes as\npossible. When we repeat a command several times to perform an action, we need\nto ask ourselves if there is a better way to do it. Only in this way, can we\nmake progress in mastering Vim. For example, to delete five lines of texts, if\nwe press \u003ccode\u003edd\u003c/code\u003e five times, we are certainly doing it the wrong way. After\nlooking up the Vim manual, we know that we can use \u003ccode\u003e5dd\u003c/code\u003e or \u003ccode\u003ed4j\u003c/code\u003e: only three\nkeystrokes are needed instead of ten!\u003c/p\u003e","title":"Fast Movement and Navigation Inside Vim or Neovim","type":"posts"},{"content":"tl;dr: glob.glob() is case sensitive in Linux, but case insensitive in Windows.\nRecently, I was bitten by the unintuitive behaviour of glob.glob(). I think it would be beneficial to write down what I have found.\nA little background. I wanted to find all the images under directory test_img with extensions .jpg or *.JPG on my Windows 10 machine. My initial code was like:\nimport glob ext = \u0026#39;.jpg\u0026#39; im_paths1 = glob.glob(\u0026#39;test_img/\u0026#39; + \u0026#39;*\u0026#39; + ext) im_paths2 = glob.glob(\u0026#39;test_img/\u0026#39; + \u0026#39;*\u0026#39; + ext.upper()) I expect that im_paths1 and im_paths2 contain the paths of all the images ending in .jpg and .JPG respectively. But the truth is that im_paths1 and im_paths2 are exactly the same: all images whose names end with either .jpg or .JPG have been matched, i.e., glob.glob() is case insensitive on Windows!\nI run the same code on Linux and find that glob.glob() is case sensitive.\nThis inconsistent behaviour on different platforms drives me to read the source code of glob module. It seems that the culprit is fnmatch.filter(), which is used by glob to get the matching file paths (relevant code is here). fnmatch.filter() uses os.path.normcase() for the pattern and filenames in non-POSIX systems (relevant code here). That is why glob.glob() can not distinguish between lower and upper case files on the Windows platform.\nThis behaviour is a bad design in my opinion, which should be notified to the users.\nTo keep the behaviour of glob.glob() consistent across different systems, I write the following method to find files in a case sensitive manner on Windows:\nClick to check the code. def find_files(directory, pat): \u0026#34;\u0026#34;\u0026#34; Find files in a case sensitive way on Windows. Parameters ---------- directory: str The directory where you want to find files, can be relative or absolute path. pat: str The pattern of file names you want find, for example,`*.jpg` or `*.JPG`. Returns ------- A list of file paths matching the given pattern. Empty if no files under the directory matches the pattern. \u0026#34;\u0026#34;\u0026#34; path_pattern = os.path.join(directory, pat) pths = glob.glob(path_pattern) match = re.compile(fnmatch.translate(path_pattern)).match valid_pths = [pth for pth in pths if match(pth)] return valid_pths print(find_files(\u0026#39;test_img\u0026#39;, \u0026#39;*.jpg\u0026#39;)) References # Ignore case in glob() on Linux: https://stackoverflow.com/q/8151300/6064933 https://bugs.python.org/issue26655 Finding files case insensitively ","date":"24 June 2019","externalUrl":null,"permalink":"/2019/06/24/python_glob_case_sensitivity/","section":"Posts","summary":"\u003cp\u003etl;dr: \u003ccode\u003eglob.glob()\u003c/code\u003e is case sensitive in Linux, but case insensitive in Windows.\u003c/p\u003e\n\u003cp\u003eRecently, I was bitten by the unintuitive behaviour of \u003ccode\u003eglob.glob()\u003c/code\u003e.\nI think it would be beneficial to write down what I have found.\u003c/p\u003e","title":"Unintuitive Behaviour of Case Sensitivity in Python glob","type":"posts"},{"content":"In this post, I want to share how to use bindkeys command to solve a few issues when using Zsh.\nCan not use HOME and END keys normally # After using Zsh, I found that some terminals can not understand Home and End keys correctly, i.e., I can not go to the beginning or end of a line by pressing Home or End key.\nThis is because the key codes that terminal recognizes when you press certain keys can not be recognized by Zsh. You can manually find which key code is sent when you press a key. You can use showkey -a to print the key codes. Here is what it shows when I press Home and End keys.\nAfter we know the key codes for these two keys, we can bind the codes to the operation we want to perform, that is begin-of-line and end-of-line. Add the following settings to your .zshrc:\nbindkey \u0026#39;^[[H\u0026#39; beginning-of-line bindkey \u0026#39;^[[F\u0026#39; end-of-line Bind key to run a custom command # One reader of this post asked a question on how to use shortcut keys to run the following command:\nnvim $(fzf) I searched the web and found a solution. Suppose that we want to bind Ctrl + O to the above command, we can add the following setting to .zshrc:\nbindkey -s \u0026#39;^o\u0026#39; \u0026#39;nvim $(fzf)^M\u0026#39; # you may also use the following one # bindkey -s \u0026#39;^o\u0026#39; \u0026#39;nvim $(fzf)\\n\u0026#39; In the above setting, -s option is used to translate the input string to output string so that when you press the shortcut, it is replaced with the command you want to run. ^M or \\n is used to represent the Enter key so that the command is run automatically.\nReferences # Home and End not recognized https://stackoverflow.com/questions/8638012/fix-key-settings-home-end-insert-delete-in-zshrc-when-running-zsh-in-terminat https://github.com/robbyrussell/oh-my-zsh/issues/3061 Bind keys to a command http://zsh.sourceforge.net/Guide/zshguide04.html http://zsh.sourceforge.net/Doc/Release/Zsh-Line-Editor.html#Zle-Builtins http://zsh.sourceforge.net/Intro/intro_11.html https://github.com/tomsquest/dotfiles/blob/master/zsh/bindkey.zsh https://unix.stackexchange.com/questions/285208/how-to-remove-a-zsh-keybinding-if-i-dont-know-what-it-does https://unix.stackexchange.com/questions/79897/how-can-i-use-bindkey-to-run-a-script ","date":"13 June 2019","externalUrl":null,"permalink":"/2019/06/13/zsh_bind_keys/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how to use \u003ccode\u003ebindkeys\u003c/code\u003e command to solve a few\nissues when using Zsh.\u003c/p\u003e","title":"Binding Keys in Zsh","type":"posts"},{"content":"","date":"10 June 2019","externalUrl":null,"permalink":"/tags/keyboard/","section":"Tags","summary":"","title":"Keyboard","type":"tags"},{"content":"6.18 å¿«åˆ°äº†ï¼ŒåŠ ä¸Šåœ¨å®¶é‡Œä½¿ç”¨çš„ IKBC C87 é’è½´å£°éŸ³å¤ªå¤§ï¼Œæ•²å‡»è´¹åŠ›ï¼Œæ‰€ä»¥åŠ¨äº†æ¢ä¸€æŠŠæ›´åŠ é™éŸ³ï¼Œè§¦å‘åŠ›åº¦æ›´å°çš„é”®ç›˜çš„å¿ƒæ€ã€‚åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šå…¥æ‰‹äº†å¤šæ¬¾é”®ç›˜è¯•ç”¨ï¼Œä¸å¾—ä¸è¯´ï¼Œä¸€æŠŠå¥½çš„é”®ç›˜çœŸçš„æ˜¯éš¾é€‰å•Šã€‚è‡ªä»å»å¹´åŒåä¸€å…¥æ‰‹äº†ä¸€æŠŠ Leopold çº¢è½´é”®ç›˜ä»¥åï¼Œå…¶ä»–çš„é”®ç›˜çœŸçš„å¾ˆéš¾å…¥æˆ‘çš„çœ¼ç›äº†ã€‚è¯•ç”¨è¿‡çš„å‡ æŠŠé”®ç›˜ä»¥åŠæ„Ÿå—å¦‚ä¸‹ï¼š\næœä¼½ Durgod k320ï¼Œé™éŸ³çº¢è½´ï¼Œæ·±ç°è‰² # è¿™æ¬¾é€‰çš„æ˜¯æ·±ç°è‰²çš„ 87 é”®é™éŸ³çº¢è½´ï¼Œä¹‹å‰æ²¡æœ‰ç”¨è¿‡é™éŸ³çº¢è½´ï¼Œå°±é€‰æ‹©è¿™ä¸ªè½´ä½“éªŒäº†ä¸€ä¸‹ã€‚æœä¼½é‡‡ç”¨é”®çº¿åˆ†ç¦»è®¾è®¡ï¼Œè¿™ç§è®¾è®¡åº”è¯¥æ˜¯æœºæ¢°é”®ç›˜çš„æ ‡é…ï¼Œå¹¶ä¸”æä¾›äº†ä¸¤ç§ä¸åŒçš„è¿æ¥çº¿ï¼Œä¸€ç§æ˜¯è¿æ¥ç”µè„‘çš„æ¥å£æ˜¯ type Cï¼Œå¦å¤–ä¸€ç§æ˜¯ä¼ ç»Ÿçš„ USB æ¥å£ï¼Œè¿æ¥é”®ç›˜çš„æ¥å£éƒ½é‡‡ç”¨çš„æ˜¯ type C æ¥å£ã€‚\né—æ†¾çš„æ˜¯é”®ç›˜çš„å¤–å£³ä½¿ç”¨çš„å¡‘æ–™ä¸ªäººæ„Ÿè§‰æè´¨ä¸å¥½ï¼Œè¿˜ä¸å¦‚æ›´åå®œçš„ IKBCï¼Œå¤–å£³è¿˜æœ‰ä¸€ç§ç•¥å¾®å‘›äººçš„å¡‘æ–™å‘³é“ï¼Œä»¤äººå°è±¡ä¸ä½³ã€‚\nå†è¯´è¯´é”®ç›˜çš„æ•²å‡»æ„Ÿå—ï¼Œä¸çŸ¥é“æ˜¯é™éŸ³çº¢è½´çš„åŸå› è¿˜æ˜¯é”®ç›˜è®¾è®¡åŸå› ï¼Œæ•²å‡»é”®ç›˜çš„æ—¶å€™æœ‰ä¸€ç§è‚‰è‚‰çš„æ„Ÿè§‰ï¼Œä¸æ˜¯å¾ˆè„†ï¼Œæ¯”è¾ƒé—·ï¼Œç”¨äº†ä¸€ä¼šï¼Œå°±æ„Ÿè§‰ä¸å–œæ¬¢ã€‚\nå®èŠ # Plum niz micro84 åŒæ¨¡ # è¿™æ¬¾é”®ç›˜é‡‡ç”¨äº†æ¯”è¾ƒå°‘è§çš„ 84 é”®è®¾è®¡ï¼Œé”®ç›˜æ•´ä½“è®¾è®¡ç´§å‡‘ï¼Œé”®å¸½å’Œå¤–å£³ç”¨åˆ°çš„å¡‘æ–™è´¨æ„Ÿä¹Ÿä¸é”™,é¢œå€¼è¿˜æ˜¯ä¸é”™çš„ã€‚é”®ç›˜ç¯ä½äºé”®å¸½ä¸‹çš„é¢æ¿ä¸Šï¼Œä¸æ˜¯å¾ˆæ˜æ˜¾ã€‚\nPlum é‡‡ç”¨çš„æ˜¯é™ç”µå®¹é”®ç›˜ï¼Œä¹Ÿæ¯”è¾ƒè½¯ï¼Œå®¹æ˜“è§¦å‘ï¼Œä½†æ˜¯æ„Ÿè§‰æ•²å‡»çš„æ—¶å€™ä¹Ÿæœ‰ä¸€ç‚¹é—·ï¼Œä¸æ¸…è„†ï¼Œå¦å¤–é”®å¸½åœ¨æ‰“å­—çš„æ—¶å€™æ„Ÿè§‰æœ‰äº›æ™ƒåŠ¨ï¼Œä¸ç¨³ã€‚é”®ç›˜æ‰‹æ„Ÿå’Œè–„è†œé”®ç›˜æœ‰ç‚¹ç±»ä¼¼ï¼Œä¸ªäººä¹Ÿä¸æ˜¯å¾ˆå–œæ¬¢ã€‚\nè¿™æ¬¾é”®ç›˜ä¸€å¤§ç‰¹ç‚¹æ˜¯ï¼Œæä¾›äº†éå¸¸å¤šçš„è®¾ç½®ä»¥åŠå¿«æ·æŒ‰é’®ï¼Œè®¾ç½®è¿˜å¯ä»¥æ¨¡æ‹Ÿé¼ æ ‡æ“ä½œç­‰ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰å¤§éƒ¨åˆ†éƒ½æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå¯èƒ½æ¯”è¾ƒé€‚åˆå¯¹é”®ç›˜æ¯”è¾ƒæŒ‘å‰”çš„æ¸¸æˆç©å®¶ï¼Ÿ\nPlum niz mini84ï¼Œæœ‰çº¿ # è¿™æ¬¾é”®ç›˜å’Œ micro84 æ¯”è¾ƒç›¸ä¼¼ï¼ŒåŒºåˆ«æ˜¯é”®ç›˜è®¾è®¡ç•¥æœ‰ä¸åŒï¼Œé‡‡ç”¨ä¸åŒçš„æ¨¡å…·ï¼Œå¦å¤–ï¼Œè¿™æ¬¾æ˜¯æœ‰çº¿çš„ï¼Œæ²¡æœ‰è“ç‰™åŠŸèƒ½ï¼Œå…¶ä»–æ¯”è¾ƒç±»ä¼¼ micro84.\nIKBC C87 çº¢è½´ # ä¸ºäº†é€‰æ‹©é€‚åˆè‡ªå·±çš„é”®ç›˜ï¼Œç»§ç»­å…¥äº† IKBC C87 çº¢è½´é”®ç›˜ï¼ŒIKBC çš„é”®ç›˜é…è‰²è¿‡äºå•è°ƒï¼Œéƒ½æ˜¯çº¯è‰²ï¼Œè¿™æ¬¡å…¥çš„é”®ç›˜æ˜¯é»‘è‰²çš„ã€‚åˆ°äº†ä»¥åï¼Œå‘ç°è¿™æ¬¾çš„é»‘è‰²åšçš„å¤ªé»‘äº†ï¼Œé¢œè‰²æ¯”è¾ƒå‘†æ¿ï¼Œå¤–è§‚ä¸Šæ˜¯ä¸å¤ªå¥½çœ‹çš„ã€‚\nä¹‹å‰è¯´æœºæ¢°é”®ç›˜ä¸€èˆ¬éƒ½æ˜¯é”®çº¿åˆ†ç¦»è®¾è®¡ï¼Œè¿™æ¬¾ IKBC C87 ä¸æ˜¯ï¼Œä¼°è®¡æ˜¯ä¸ºäº†èŠ‚çœæˆæœ¬ï¼Œæ¯•ç«Ÿäº¬ä¸œå…¥æ‰‹ä»·æ ¼åªæœ‰ä¸‰ç™¾å‡ºå¤´ã€‚\nè™½ç„¶ä»·æ ¼åå®œï¼Œä½†æ˜¯è¿™æ¬¾é”®ç›˜çš„è¾“å…¥ä½“éªŒè¿˜æ˜¯ä¸é”™çš„ï¼Œç›¸å¯¹äºæˆ‘ 900+ ä»·æ ¼çš„ Leopold çº¢è½´ï¼Œè¾“å…¥ä½“éªŒä¸Šå¹¶æ²¡æœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œæ¯” Leopold çš„çº¢è½´ä¼¼ä¹ç•¥ç¡¬äº†é‚£ä¹ˆä¸€ç‚¹ç‚¹ï¼Œä½ éœ€è¦æ›´å¤§ä¸€ç‚¹åŠ›æ°”å»æ•²å‡»ï¼Œé™¤æ­¤ä¹‹å¤–ä½“éªŒå‡ ä¹ä¸€è‡´ã€‚ä¸è¿‡ç©ºæ ¼é”®ä¼¼ä¹åšçš„ä¸å¥½ï¼Œæ•²å‡»çš„æ—¶å€™èƒ½å¤Ÿå¬åˆ°é”®å¸½ä¸‹é¢å¼¹ç°§çš„å£°éŸ³ã€‚è€ƒè™‘åˆ°è¿™æ¬¾é”®ç›˜çš„ä»·æ ¼ï¼Œå¦‚æœä¸åœ¨æ„è¿™ä¸ªé¢œè‰²ï¼Œè¿˜æ˜¯éå¸¸å€¼å¾—å…¥æ‰‹çš„ã€‚\næœä¼½ K320ï¼Œçº¢è½´ï¼Œç°ç™½è‰² # æ²¡æœ‰æ”¾å¼ƒæœä¼½ï¼Œåˆä»æŸå®å…¥äº†ç°ç™½è‰²çš„çº¢è½´é”®ç›˜(è§ä¸Šå›¾)ï¼Œç™½è‰²æ¬¾å¤–è§‚çœ‹ä¸Šå»æ¯”æ·±ç°è‰²çš„è¦èˆ’æœï¼Œæ›´æœ‰è´¨æ„Ÿä¸€äº›ï¼Œç°ç™½çš„æ­é…ä¹Ÿæ²‰é™è€Œä¼˜é›…ã€‚å’Œæ·±ç°è‰²é”®ç›˜ä¸€æ ·ï¼Œåˆšåˆšæ‰“å¼€ï¼Œä¾ç„¶åˆä¸€è‚¡å¡‘æ–™çš„å‘³é“ï¼Œç»è¿‡ä¸€å¤©çš„æ”¾ç½®ï¼Œå‘³é“åŸºæœ¬ä¸Šå·²ç»æ•£å»äº†ã€‚\nä¸Šé¢è¯´é™éŸ³çº¢è½´å¤ªè‚‰ï¼Œå£°éŸ³ä¸è„†ï¼Œç”¨è¿™æ¬¾çº¢è½´ä½“éªŒäº†ä¸€ç•ªï¼Œæœç„¶çº¢è½´è¦å¥½å¾ˆå¤šï¼Œå£°éŸ³è„†ï¼Œä½†æ˜¯åˆä¸åƒé’è½´é‚£æ ·å¤ªåµï¼Œæ­£æ˜¯æˆ‘å–œæ¬¢çš„ç±»å‹ã€‚è¿™æ¬¾çš„åšå·¥è¦æ¯” IKBC C87 çº¢è½´åšå·¥å¥½ï¼Œç©ºæ ¼é”®æ•²å‡»çš„æ—¶å€™ä¸ä¼šæœ‰å¼¹ç°§çš„å£°éŸ³ã€‚\n","date":"10 June 2019","externalUrl":null,"permalink":"/2019/06/10/mechanical_keyboard_try/","section":"Posts","summary":"\u003cp\u003e6.18 å¿«åˆ°äº†ï¼ŒåŠ ä¸Šåœ¨å®¶é‡Œä½¿ç”¨çš„ IKBC C87 é’è½´å£°éŸ³å¤ªå¤§ï¼Œæ•²å‡»è´¹åŠ›ï¼Œæ‰€ä»¥åŠ¨äº†æ¢ä¸€æŠŠæ›´åŠ é™éŸ³ï¼Œè§¦å‘åŠ›åº¦æ›´å°çš„é”®ç›˜çš„å¿ƒæ€ã€‚åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šå…¥æ‰‹äº†å¤šæ¬¾é”®ç›˜è¯•ç”¨ï¼Œä¸å¾—ä¸è¯´ï¼Œä¸€æŠŠå¥½çš„é”®ç›˜çœŸçš„æ˜¯éš¾é€‰å•Šã€‚è‡ªä»å»å¹´åŒåä¸€å…¥æ‰‹äº†ä¸€æŠŠ Leopold çº¢è½´é”®ç›˜ä»¥åï¼Œå…¶ä»–çš„é”®ç›˜çœŸçš„å¾ˆéš¾å…¥æˆ‘çš„çœ¼ç›äº†ã€‚è¯•ç”¨è¿‡çš„å‡ æŠŠé”®ç›˜ä»¥åŠæ„Ÿå—å¦‚ä¸‹ï¼š\u003c/p\u003e","title":"å‡ æŠŠæœºæ¢°é”®ç›˜è¯•ç”¨ä½“éªŒ","type":"posts"},{"content":"Note: this post is deprecated, I use nvim-cmp for auto-completion now.\nDeoplete is a good auto-completion plugin for Neovim. In this post, I introduce how to set up auto-completion for Nvim with the help of deoplete.\nStrictly speaking, it is an auto-completion engine. In order to enable auto-completion for a certain programming language, you need to install the corresponding source.\nInstall Deoplete # To use deoplete, you should make sure that you are using Python3 . You need to install pynvim \u0026ndash; the Python client to Neovim:\npip3 install --user pynvim Deoplete is easy to install. You can install deoplete with vim-plug:\nPlug \u0026#39;Shougo/deoplete.nvim\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:UpdateRemotePlugins\u0026#39; } Since deoplete is a completion engine, in order to use auto-completion for a specific language, you need to install the corresponding source for it. The complete list of sources supporting deoplete can be found here.\nFollow the guide of the specific completion source to install it and enable completion for that language. For example, you can check here on how to set up deoplete and deoplete-jedi for Python auto-completion.\nThe minimum settings on deoplete\u0026rsquo;s side is to enalbe it at the start of Nvim:\nlet g:deoplete#enable_at_startup = 1 Other settings # Disable buffer and around source # The buffer and around source for deoplete is of little use for auto-completion. I would rather ignore them. To ignore these two sources, use the following settings:\ncall deoplete#custom#option(\u0026#39;ignore_sources\u0026#39;, {\u0026#39;_\u0026#39;: [\u0026#39;around\u0026#39;, \u0026#39;buffer\u0026#39;]}) References # https://github.com/Shougo/deoplete.nvim/issues/545 change the max width of the completion window # Sometimes, the completion term has long strings which are cut down due to limited completion window width. So change the max width allowed for completion window, use the following settings:\n\u0026#34; maximum candidate window length call deoplete#custom#source(\u0026#39;_\u0026#39;, \u0026#39;max_menu_width\u0026#39;, 80) References # https://github.com/Shougo/deoplete.nvim/issues/752 ","date":"6 June 2019","externalUrl":null,"permalink":"/2019/06/06/nvim_deoplete_settings/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eNote: this post is deprecated, I use \u003ca href=\"https://github.com/hrsh7th/nvim-cmp\" target=\"_blank\"\u003envim-cmp\u003c/a\u003e for auto-completion now.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Shougo/deoplete.nvim\" target=\"_blank\"\u003eDeoplete\u003c/a\u003e is a good auto-completion plugin for Neovim.\nIn this post, I introduce how to set up auto-completion for Nvim with the help of deoplete.\u003c/p\u003e","title":"Nvim Autocompletion with Deoplete","type":"posts"},{"content":" update log 2022-07-19: Add build method via neovim æœ¬æ–‡çš„ä¸­æ–‡ç‰ˆæœ¬å‚è§ è¿™é‡Œã€‚\nOver the past few years, I have been using some dedicated note-taking software to manage my notes. However, all these tools I have tried are unsatisfactory: they are either slow or cumbersome in terms of note searching. Finally, I decided to take my notes in Markdown and convert them to PDF using Pandoc for reading. In this post, I will summarize how I do it.\nTaking our notes in Markdown format has several benefits:\nWe can edit the Markdown files with our favorite editor, for example, neovim, Sublime Text, which means more efficient editing and pleasant writing experience. Since a Markdown file is a textual file, we can search it using powerful tool such as grep or ripgrep. We can covert the Markdown files to various formats such as PDF, HTML, epub, mobi etc., for better reading experience, with the help of Pandoc. The notes are all text files and are small in size, which means easier and faster syncing or backup between your native PC and the cloud service. In this post, I would like to share how to generate beautiful PDF files from Markdown. I will also give solutions to the issues I have encountered during the process.\nPrerequisite # Before we begin, we need to make sure that the following tools are installed:\nFirst, Pandoc. After installation, you should add the path of the Pandoc executable to the system PATH. TeX distribution. Please make sure that TeX has been installed on your system. You can use either TeX Live or MiKTeX or MacTeX base on your platform. You may need to set up the PATH variable1. A powerful text editor. One of my favorite is Neovim. You can also choose to use VS Code or Sublime Text. Generating PDF from Markdown with Pandoc # Background # For those who are not familiar with Pandoc, Pandoc is a powerful tool for converting document between different formats. It is called the Swiss knife of document converter. There are actually two steps involved in converting a Markdown file to a PDF file:\nThe Markdown source file is converted to a LaTeX source file. Pandoc invokes the pdflatex or xelatex or other TeX command and converts the .tex source file to a PDF file. When converting Markdown to LaTeX, pandoc uses a template file. We can run command pandoc -D latex |less to check the template file used.\nBecause I often use non-ASCII characters, quotations, tables, and other complex elements in my Markdown files, I have met a few problems during the conversion process. In the following sections of this post, I will share how to solve these issues.\nHow to Handle Languages other than English # By default, Pandoc uses pdflatex to generate PDF files, which can not handle Unicode characters well. We will encounter errors when we convert Markdown files containing Unicode characters to PDF files.\nIn order to handle Unicode characters, we need to use xelatex instead. For the CJK languages, we need to use CJKmainfont option to specify the proper font that supports the language we are using2. In this post, I will use the Chinese language as an example.\nOn Windows systems, for Pandoc 2.0 and above, we can use the following command to generate the PDF file:\npandoc --pdf-engine=xelatex -V CJKmainfont=\u0026#34;KaiTi\u0026#34; test.md -o test.pdf In the above command, KaiTi is the name of a font that supports the Chinese. How do we find a font supporting a particular language? First, we need to know the language code for the language in use. For example, the language code for Chinese is zh. Then, use fc-list command to look up the fonts that support this language3:\nfc-list :lang=zh The output of this command is like the following:\nThe font name is the string after the font location. Since a font name may contain spaces, we need to quote it when we want to use a particular font, e.g., -V CJKmainfont=\u0026quot;Source Han Serif CN\u0026quot;.\nIn Pandoc version 2.0, --pdf-engine option replaces the old --latex-engine option. On Linux systems where the Pandoc version is old, the above command will not work. We need to use the following command instead4:\npandoc --latex-engine=xelatex -V mainfont=\u0026#39;WenQuanYi Micro Hei\u0026#39; test.md -o test.pdf On Linux, the way to find the font supporting your language is the same as Windows.\nIssues and techniques # Debug issues effectively # As discussed in the previous section, markdown to PDF is a two-step process. The key to get what we want is to directly check the intermediate LaTeX file that pandoc generates. Then we can patch or update the command that pandoc uses.\nTo check the generated LaTeX file, we can add the -s (means standalone) and output LaTeX instead:\npandoc --pdf-engine=xelatex \\ --highlight-style kate \\ --table-of-contents \\ --number-sections \\ -s \\ test.md -o test.tex Add title, author and date info # Pandoc supports adding these info via its YAML header extension. We can easily add the document title, author and date info like this:\n--- title: \u0026#34;My demo title\u0026#34; author: \u0026#34;jdhao\u0026#34; date: 2021-06-27 --- Block quote, table and list are not correctly rendered # The reason is that Pandoc requires that you leave an empty line before block quote, list and table environment.\nIf the lines in the block quote are not correctly broken, i.e., all the lines are merged as one paragraph, we can add a space after each line to solve this issue.\nAdd highlight to block code # Pandoc supports block code syntax highlighting for many languages and offers several highlight themes. To list the highlight themes that Pandoc provides, run the following command:\npandoc --list-highlight-styles To list all the languages that Pandoc supports, run the following command:\npandoc --list-highlight-languages To use syntax highlighting for different languages, we need to specify the language in the block quote and use --highlight-style, e.g.,:\npandoc --pdf-engine=xelatex --highlight-style zenburn test.md -o test.pdf In the above command, we use the zenburn theme, I also recommend using the tango or breezedark theme.\nAdd numbered sections and TOC # By default, there is no table of contents (TOC) in the generated PDF and no numbers in the headers5. To add TOC, use the --toc option; to add section numbers, use the -N option. A complete example is as follows:\npandoc --pdf-engine=xelatex --toc -N -o test.pdf test.md Add colors to links # According to the Pandoc user guide, we can add colors to different links via the colorlinks option:\ncolorlinks add color to link text; automatically enabled if any of linkcolor, filecolor, citecolor, urlcolor, or toccolor are set\nTo customize the color of different types of links, Pandoc offers different options:\nlinkcolor, filecolor, citecolor, urlcolor, toccolor color for internal links, external links, citation links, linked URLs, and links in table of contents, respectively: uses options allowed by xcolor, including the dvipsnames, svgnames, and x11names lists\nFor example, to set the URL color to NavyBlue and set the TOC color to red, we can use the following command:\npandoc --pdf-engine=xelatex -V colorlinks -V urlcolor=NavyBlue -V toccolor=red test.md -o test.pdf Note that the urlcolor option will not color the raw URL links in the text. To color those raw links, you can enclose those links with \u0026lt;\u0026gt;, e.g., \u0026lt;www.google.com\u0026gt;.\nChange the PDF margin # The default margin for the generated PDF is too large. According to the Pandoc FAQ, you can use the following option to change the margin:\n-V geometry:\u0026#34;top=2cm, bottom=1.5cm, left=2cm, right=2cm\u0026#34; The complete command is:\npandoc --pdf-engine=xelatex -V geometry:\u0026#34;top=2cm, bottom=1.5cm, left=2cm, right=2cm\u0026#34; -o test.pdf test.md Error when using backslash inside Markdown # In ordinary Markdown format, it is fine to use backslash characters inside the files. However, Pandoc interpret the backslash and string after it as LaTeX command by default. As a result, you may encounter weird errors when trying to compile Markdown files containing backslash characters. Based on discussions here and here, the solution is to make Pandoc treat the Markdown file as normal Markdown files and not interpret the LaTeX command. You need to add the following flag:\npandoc -f markdown-raw_tex Or you can use two backslash to represent a literal backslash, e.g., \\\\sometxt. If you want to express a LaTeX command, enclose the command with inline code block, like this: \\textt{}.\nAdd background color to inline code # In translating Markdown source file to TeX files, Pandoc use the \\texttt{} command to represent the inline code. So inline code has no background color in the generated PDF files. To increase the readability of inline code, we can modify the \\texttt command to add background color to text.\nFirst, we need to create a file named head.tex and add the following settings to it:\n% change background color for inline code in % markdown files. The following code does not work well for % long text as the text will exceed the page boundary \\definecolor{bgcolor}{HTML}{E0E0E0} \\let\\oldtexttt\\texttt \\renewcommand{\\texttt}[1]{ \\colorbox{bgcolor}{\\oldtexttt{#1}} } When converting Markdown files, use the -H option to refer the head.tex file, e.g.,:\npandoc --pdf-engine=xelatex -H head.tex test.md -o test.pdf In the generated PDF, the inline code will have grey background color.\nChange the default style of block quote # By default, when converting Markdown to PDF, Pandoc use the quote environment for Markdown block quotes. The texts inside quotation are only indented, making it hard to recognize the environment.\nWe can create a custom environment to add background color and indentation to the quotation environment. Add the following setting to head.tex:\n% change style of quote, see also https://tex.stackexchange.com/a/436253/114857 \\usepackage[most]{tcolorbox} \\definecolor{linequote}{RGB}{224,215,188} \\definecolor{backquote}{RGB}{249,245,233} \\definecolor{bordercolor}{RGB}{221,221,221} % change left border: https://tex.stackexchange.com/a/475716/114857 % change left margin: https://tex.stackexchange.com/a/457936/114857 \\newtcolorbox{myquote}[1][]{% enhanced, breakable, size=minimal, left=10pt, top=5pt, frame hidden, boxrule=0pt, sharp corners=all, colback=backquote, borderline west={2pt}{0pt}{bordercolor}, #1 } % redefine quote environment to use the myquote environment, see https://tex.stackexchange.com/a/337587/114857 \\renewenvironment{quote}{\\begin{myquote}}{\\end{myquote}} When you want to convert Markdown file to PDF, you can use the following command:\npandoc -H head.tex test.md -o test.pdf The produced PDF is like the following:\nReferences # Change background color of quotation. Redefining existing environment in LaTeX. Tricks: put the settings to head.tex # You may have noticed the clumsiness if you try to customize a lot of settings. When converting Markdown to PDF, we often need to use several settings. If we specify all these options on the command line, it would be time consuming and cumbersome to edit. A good way to ease the issue is to put some settings to head.tex and refer to this file during Markdown file conversion.\nFor example, we can put the settings related to margin, inline code highlighting to head.tex:\nClick to see the code. \\usepackage{fancyvrb,newverbs} \\usepackage[top=2cm, bottom=1.5cm, left=2cm, right=2cm]{geometry} % change background color for inline code in % markdown files. The following code does not work well for % long text as the text will exceed the page boundary \\definecolor{bgcolor}{HTML}{E0E0E0} \\let\\oldtexttt\\texttt \\renewcommand{\\texttt}[1]{ \\colorbox{bgcolor}{\\oldtexttt{#1}} } Nested list level exceed the limit # One reader Karl Liu mentioned that if the nested list level exceeds 6, you will encounter the following error when trying to generate PDF file:\n! LaTeX Error: Too deeply nested.\nMore detailed discussions can be found here. The solution proposed is to add the following settings in head.tex:\nClick to see the code. \\usepackage{enumitem} \\setlistdepth{9} \\setlist[itemize,1]{label=$\\bullet$} \\setlist[itemize,2]{label=$\\bullet$} \\setlist[itemize,3]{label=$\\bullet$} \\setlist[itemize,4]{label=$\\bullet$} \\setlist[itemize,5]{label=$\\bullet$} \\setlist[itemize,6]{label=$\\bullet$} \\setlist[itemize,7]{label=$\\bullet$} \\setlist[itemize,8]{label=$\\bullet$} \\setlist[itemize,9]{label=$\\bullet$} \\renewlist{itemize}{itemize}{9} \\setlist[enumerate,1]{label=$\\arabic*.$} \\setlist[enumerate,2]{label=$\\alph*.$} \\setlist[enumerate,3]{label=$\\roman*.$} \\setlist[enumerate,4]{label=$\\arabic*.$} \\setlist[enumerate,5]{label=$\\alpha*$} \\setlist[enumerate,6]{label=$\\roman*.$} \\setlist[enumerate,7]{label=$\\arabic*.$} \\setlist[enumerate,8]{label=$\\alph*.$} \\setlist[enumerate,9]{label=$\\roman*.$} \\renewlist{enumerate}{enumerate}{9} Add anchors in Markdown # I try to use anchors in Markdown following the discussion here. Unfortunately, in the generated PDF, the anchor does not work: when I click the linking text, there is no jump to the destination page.\nInstead, we should use the attribute to give an id to the location we want to jump to, and refer to it in other places using the id. Here is an example:\n## head 2 {#my_head2} Please click [here](#my_head2) to go to head 2. How to resize image # We can also resize images using the attribute. We can specify width or height in absolute pixel values or as percentage relative to the page or column width. For example:\nyou can use absolute pixel values ![test image](test.jpg){width=128px} or you can use relative value to the page or column width ![test image](test.jpg){width=90%} How to start a new page for each section # By default, when we generate PDF from Markdown files, each section started by the level 1 header does not start from a new page. It will continue from where the last section ends. If we want to start a new page when a new section starts, we need to add the following settings to head.tex according to this:\n\\usepackage{titlesec} \\newcommand{\\sectionbreak}{\\clearpage} But when I tried to produce PDF with the updated head.tex files, I got an error:\n! Argument of \\paragraph has an extra }. \u0026lt;inserted text\u0026gt; \\par l.1290 \\ttl@extract\\paragraph pandoc: Error producing PDF According to discussions here, it is because Pandoc\u0026rsquo;s default LaTeX redefines the \\pragraph command. We have to disable this behaviour. We need to use -V subparagraph when invoking the pandoc command:\npandoc -V subparagraph -o file.pdf file.md Start a new page only after TOC # What if we only want to add a new page after the table of contents page? An easy way is to hack the \\tableofcontents command. Add the following command to head.tex to redefine \\tableofcontents command:\n\\let\\oldtoc\\tableofcontents \\renewcommand{\\tableofcontents}{\\oldtoc\\newpage} In the above command, we first save the old command and then redefine it to avoid recursive calls.\nLine breaks # In Markdown, you can create a hard linebreak by appending two spaces after a line:\nhello\u0026lt;space\u0026gt;\u0026lt;space\u0026gt; world Using space at the line end for formatting is annoying since it causes the trailing whitespace warning. The space characters are also not visible.\nPandoc also provides an escaped_line_breaks extension. You can use \\ in the end of a line followed by newline character to represent a hard line break:\nhello\\ world Images references # Pandoc supports LaTeX command inside Markdown, to refer to an image, we can use the LaTeX syntax:\n![my great image\\label{fig-my-great-img}](image_great.jpg) In Fig.\\ref{fig-my-great-img}, I show a great image. Generate PDF using Sublime Text build system # It is cumbersome to switch to the terminal and use Pandoc to generate the PDF files and preview it after finishing writing the Markdown files. To simply the process, I use the Sublime Text build system for building PDF file and previewing. I use the light-weight Sumatra PDF reader for PDF previewing.\nAn example build system is shown below:\nClick to see the code. { \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=KaiTi \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;text.html.markdown\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Convert to PDF and Preview\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=KaiTi \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026amp;\u0026amp;SumatraPDF \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; } ] } You can download the build system and head.tex file here. An updated version of head.tex can be found here.\nPandoc is not recognized on Windows systems # For some reasons unknown to me, when using the above build systems to compile Markdown files, I encountered the following errors:\nâ€˜pandocâ€™ is not recognized as an internal or external command, operable program or batch file.\nAfter looking up the Sublime Text documentation, I find that we can add path in the build system. So I adjust the above build system:\nClick to see the code. { \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=\\\u0026#34;Source Han Serif SC\\\u0026#34; \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/east/AppData/Local/Pandoc/;%PATH%\u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;text.html.markdown\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Convert to PDF and Preview\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=\\\u0026#34;Source Han Serif SC\\\u0026#34; \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026amp;\u0026amp;SumatraPDF \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/east/AppData/Local/Pandoc/;%PATH%\u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; } ] } After that, everything goes well.\nGenerate PDF via Neovim # We can also define a command to generate and preview the PDF via Neovim. For the details, see this commit.\nConclusion # In this post, I give a complete summary on how to generate beautiful PDF files from Markdown. I also share several solutions to the issues I have encountered. I hope that you can now generate beautiful PDF from Markdown files.\nReferences # pandoc variables for LaTeX: https://pandoc.org/MANUAL.html#variables-for-latex change hyperref color: https://stackoverflow.com/a/58885711/6064933 colors provided by dvipsnames pandoc LaTeX template: https://github.com/Wandmalfarbe/pandoc-latex-template Dealing with Chinese in Pandoc Pandoc\u0026rsquo;s handling of block quote Pandoc syntax highlighting Pandoc section number Pandoc command not found Anchors in Pandoc https://github.com/jgm/pandoc/issues/1299 https://github.com/jgm/pandoc/issues/684 Resize image start a new page after toc Pandoc hard line break https://stackoverflow.com/a/48330289/6064933 https://stackoverflow.com/a/28283340/6064933 Image reference in Pandoc Make sure that you can use latex command on the command line.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor other languages, you need to use --mainfont option.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor Windows system, you can use fc-list command after installing the TeX Live full edition. For Linux systems, this command is usually pre-installed.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTested on Pandoc version 1.12.3.1.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nOnly the font size varies for different header levels.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"30 May 2019","externalUrl":null,"permalink":"/2019/05/30/markdown2pdf_pandoc/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-07-19: Add build method via neovim\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eæœ¬æ–‡çš„ä¸­æ–‡ç‰ˆæœ¬å‚è§ \u003ca href=\"https://jdhao.github.io/2017/12/10/pandoc-markdown-with-chinese/\" target=\"_blank\"\u003eè¿™é‡Œ\u003c/a\u003eã€‚\u003c/p\u003e\n\u003cp\u003eOver the past few years, I have been using some dedicated note-taking software to manage my notes.\nHowever, all these tools I have tried are unsatisfactory: they are either slow or cumbersome in terms of note searching.\nFinally, I decided to take my notes in Markdown and convert them to PDF using Pandoc for reading.\nIn this post, I will summarize how I do it.\u003c/p\u003e","title":"Converting Markdown to Beautiful PDF with Pandoc","type":"posts"},{"content":"","date":"30 May 2019","externalUrl":null,"permalink":"/tags/pandoc/","section":"Tags","summary":"","title":"Pandoc","type":"tags"},{"content":"","date":"30 May 2019","externalUrl":null,"permalink":"/tags/sublime-text/","section":"Tags","summary":"","title":"Sublime-Text","type":"tags"},{"content":"Introduction # Suppose that we have the following text in normal mode (cursor is indicated by ^):\nhello world ^ If we use dw, we delete hello\u0026lt;Space\u0026gt;1 and only world is left; if we use de, hello is deleted and \u0026lt;Space\u0026gt;world is left. Have you ever wondered about why dw do not delete w while de will delete the o in hello? It seems that motion e and w are somewhat inconsistent in their behaviours. It turns out that it has something to do with the exclusivity of motions in Vim.\nExclusive and inclusive motion explained # Most Vim motions are either exclusive or inclusive. This nature of a motion is best revealed when you perform an operation (these operations include, but are not limited to c, d, y) followed by these motions. Inclusive means that the texts between the start and end position of the cursor is used for that operation, while exclusive means that the last character near the end of current buffer2 is not included in the operation.\nIf you had known the above difference between the exclusive and inclusive motion, you would not be surprised about the so called inconsistency between dw and de. The reason is that w is an exclusive motion and e is an inclusive motion. Someone has asked on the Stack Exchange site on why backward delete such db can not delete the character in the cursor position. That is also because b is an exclusive motion so that the last character toward the end of the buffer is not included.\nChange the exclusivity of a motion # To force an exclusive motion to be inclusive or vice versa, you can prepend the motion by v (from Vim doc):\nv When used after an operator, before the motion command: Force the operator to work characterwise, also when the motion is linewise. If the motion was linewise, it will become |exclusive|. If the motion already was characterwise, toggle inclusive/exclusive. This can be used to make an exclusive motion inclusive and an inclusive motion exclusive. Take the case in the first paragraph for an example, dvw will delete hello\u0026lt;Space\u0026gt;w (w becomes inclusive) and dve will delete only hell (e becomes exclusive). To find more detailed doc on this behaviour, read :h exclusive carefully.\nReferences # https://stackoverflow.com/questions/21686886/making-backwards-motions-always-inclusive https://stackoverflow.com/questions/16815627/in-vim-why-is-the-behavior-of-w-word-selector-inconsistent-when-preceded-by-d https://stackoverflow.com/questions/23041326/why-dmotion-command-is-not-consistent-with-motion-command-in-vim/56179473#56179473 \u0026lt;Space\u0026gt; indicates a space character.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nYou need to interpret this carefully. When you do forward motions, the last character is where the motion lands. If you do backward motions, the last character in this context means the character your motion starts at.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 May 2019","externalUrl":null,"permalink":"/2019/05/18/nvim_exclusive_inclusive_motion/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eSuppose that we have the following text in normal mode (cursor is indicated by\n\u003ccode\u003e^\u003c/code\u003e):\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ehello world\n^\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIf we use \u003ccode\u003edw\u003c/code\u003e, we delete \u003ccode\u003ehello\u0026lt;Space\u0026gt;\u003c/code\u003e\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e and only \u003ccode\u003eworld\u003c/code\u003e is left; if we\nuse \u003ccode\u003ede\u003c/code\u003e, \u003ccode\u003ehello\u003c/code\u003e is deleted and \u003ccode\u003e\u0026lt;Space\u0026gt;world\u003c/code\u003e is left. Have you ever wondered\nabout why \u003ccode\u003edw\u003c/code\u003e do not delete \u003ccode\u003ew\u003c/code\u003e while \u003ccode\u003ede\u003c/code\u003e will delete the \u003ccode\u003eo\u003c/code\u003e in \u003ccode\u003ehello\u003c/code\u003e? It\nseems that motion \u003ccode\u003ee\u003c/code\u003e and \u003ccode\u003ew\u003c/code\u003e are somewhat inconsistent in their behaviours. It\nturns out that it has something to do with the exclusivity of motions in Vim.\u003c/p\u003e","title":"Exclusive and Inclusive Motion in Neovim/Vim","type":"posts"},{"content":"This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ How do I use last search pattern in substitute command? # As is often the case, when we want to replace some patterns, we may not be able to write the correct regular expression in one pass and have to refine it many times. I often search first to make sure that the search pattern is correct. Then I manually type the search pattern again in substitute command to replace it with the text I want. This is acceptable when the pattern is simple to type. It becomes unacceptable once the search patterns are complicated.\nTo use the last search pattern, you can keep the search part empty in substitute command, e.g., %s//REPLACE/g, which will replace all occurrences of last search pattern with REPLACE. Alternatively, you could use \u0026lt;C-R\u0026gt;/ to input your last search pattern, that is, first press Ctrl+ R and then press /1.\nReferences # Substitue last search How do I write the output of a command or built-in function to a buffer? # A least three ways are possible (take function strftime() and command :scriptnames (:h :scriptnames) for an example).\nUse \u0026lt;C-R\u0026gt;= in insert mode. In insert mode, press Ctrl+R followed by =, then type the function (e.g., strftime('%c')) or use execute() to run a command (e.g., execute('scriptnames')). The output will inserted right after the current cursor.\nUse :put= in command mode. In command mode, first input put=, then input the function or execute() command. The output will be put below the current cursor line.\nUse redir. We first use redir to redirect the output to a Vim register and then paste the content of the register to current buffer. For functions, use the following\n:redir @a | echo strftime(\u0026#39;%c\u0026#39;) | redir END\u0026lt;CR\u0026gt; For commands, use:\n:redir @a | silent scriptnames |redir END\u0026lt;CR\u0026gt; This will redirect the output of function strftime() or command scriptnames to register a. To paste the content of register a, use \u0026quot;ap in normal mode.\nYou can also directly redirect the output to current file:\n:redir \u0026gt;\u0026gt; % | silent scriptnames|redir END|edit , which may be more convenient sometimes.\nUse let with a register. This is similar to using redir, but more concise. For function outputs, use:\n:let @a = strftime(\u0026#34;%c\u0026#34;)\u0026lt;CR\u0026gt; For command outpus, use:\n:let @a = execute(\u0026#34;silent scriptnames\u0026#34;)\u0026lt;CR\u0026gt; Then you can paste the register content to current buffer with \u0026quot;ap\nUsing \u0026lt;C-R\u0026gt;= in insert mode is not good. It will write the output line by line, thus are very slow if your output has hundreds or thousands of the lines. The line indentation may also break if you use this method.\nReferences # How to insert the result of a command into the text in vim? Dump the output of internal vim command into buffer How to redirect ex command output into current buffer or file? Why can\u0026rsquo;t I search some Unicode characters? # For example, given the following text:\nå…è´¹\tå…è´¹ ğŸ†“ï¸ï¸ if you place the cursor on the emoji and use ga, the output is:\n\u0026lt;ğŸ†“\u0026gt; 127379, Hex 0001f193, Octal 370623 \u0026lt; ï¸\u0026gt; 65039, Hex fe0f, Octal 177017 \u0026lt; ï¸\u0026gt; 65039, Hex fe0f, Octal 177017 It shows that this character is actually made up of three Unicode characters! This is called variant form and the Unicode character U+FE0F is called a variant selector . There are other forms of multi-Unicode-char characters, for example, combining characters, where the character is made up of a base character and one or more decoration characters. In Vim, the main character is called base character and the other character that follows is called composing character.\nIf you use search the base character or the composing character using their Unicode code points, you will find disappointedly that no pattern are found.\nIt turns out the way we search the characters are wrong. To search the base character, you should follow it by \\%C (in no-magic mode) or %C (in magic mode). For example, to search the above base character in the emoji, use\nMagic mode: \\v%U1f193%C No-Magic Mode: \\%U1f193\\%C To search the composing character, it is more complicated. You should type /\u0026lt;Ctrl-V\u0026gt;ufe0f:\n\u0026lt;Ctrl-v\u0026gt;u: start Unicode input fe0f: the code point of the composing character Then press Enter to search.\nReferences # Some emojis (e.g. â˜) have two unicode, u\u0026rsquo;\\u2601\u0026rsquo; and u\u0026rsquo;\\u2601\\ufe0f\u0026rsquo;. What does u\u0026rsquo;\\ufe0f\u0026rsquo; mean? Is it the same if I delete it? Can I search for a Unicode combining character in Vim? regex unicode character in vim How do I clear the message on the status line? # If you set the option laststatus to 2, after searching a word using *, you will find that the text is not cleared automatically. To clear the text , you can press Ctrl+L .\nReferences # How to clear output of function call in VIM? How to make vi redraw screen? How do I use a variable when calling shell command inside Neovim? # You can use :execute, which will evaluate the expression followed before executing it. Suppose that you have defined a download URL variable URL, in order to download it using wget inside Neovim, you can use the following command:\n:execute \u0026#39;!wget \u0026#39; . URL Note the space inside '!wget ' because we use . to concatenate the arguments behind execute to form an expression. Without the space, the command you are going to run is !wget{the_content_of_URL}, which is apparently wrong.\nReferences # function to call shell script with arguments Using variables in a vim shell command How to remove the trailing newline when using the system() function? # When I wanted to assign the output of an external shell command to a Vim variable using system() function, I found that a trailing newline character was present in the returned string, which breaks a lot of things. For example,\nlet python_path = system(\u0026#39;which python\u0026#39;) the variable python_path will contain an annoying newline. To remove this newline character, you can use various methods:\nsubstitute(): you can replace the trailing newline with an empty string to remove it:\nsubstitute(python_path, \u0026#39;\\n$\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;g\u0026#39;) string indexing: you can also utilize string indexing (see :h expr-[:]) if you are sure that there is only one newline at the end of the string:\n\u0026#34; remove last byte from the string let new_path=python_path[:-2] References # Get rid of null character in vim variable? http://vim.1045645.n5.nabble.com/Trimming-newlines-from-calls-to-system-td5720467.html How to remove ^@ character returned by system()? How do you â€œchompâ€ a string in Vim? see :h c_CTRL-R for more information.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"14 May 2019","externalUrl":null,"permalink":"/2019/05/14/nifty_nvim_techniques_s3/","section":"Posts","summary":"\u003cp\u003eThis is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Nvim Techniques Which Make My Life Easier -- Series 3","type":"posts"},{"content":"Currently I am writing all my Python code using Neovim and a couple of plugins to provide auto-completion, linting, etc.\nFor code auto-completion, I use deoplete as my completion engine and deoplete-jedi as the completion source for Python. They work great most of the time. However, occasionally I can not get any auto-completion for some object instances. For example, auto-completion for object instances returned by the Image.open() method in the package Pillow does not work. I decide to take a look.\nAt first, I think it is an issue with deoplete or deoplete-jedi. However, I find that auto-completion for Image instances returned by other methods, e.g., Image.new(), works as expected. If this is an issue with deoplete or deoplete-jedi, then auto-completion should not work anymore. Maybe it is due to the static type checker Jedi that deoplete-jedi relies on?\nTo find out the real reason, I use the following script to check if Jedi can provide completion for Image instances returned by Image.open() and Image.new() method1:\nimport jedi source1 = \u0026#39;\u0026#39;\u0026#39; from PIL import Image im = Image.new(\u0026#39;test.jpg\u0026#39;, (128, 128)) im. \u0026#39;\u0026#39;\u0026#39; script1 = jedi.Script(source1, 4, len(\u0026#39;im.\u0026#39;), \u0026#39;example1.py\u0026#39;) print(script1.completions()) source2 = \u0026#39;\u0026#39;\u0026#39; from PIL import Image im = Image.open(\u0026#39;test.jpg\u0026#39;) im. \u0026#39;\u0026#39;\u0026#39; script2 = jedi.Script(source2, 4, len(\u0026#39;im.\u0026#39;), \u0026#39;example2.py\u0026#39;) print(script2.completions()) As expected, the first print() shows a list of completion results, while the second print() shows an empty list.\nSo this is actually an issue with Jedi. I filed an issue on the Jedi GitHub repo. After a while, I got a reply from the maintainer of this project. The root cause is that Jedi can not infer the type returned by Image.open() method since it is too dynamic to infer. The author suggested that I may use type hints to help Jedi infer the types of the return objects. I tried two ways based on the type hinting documentation of Jedi.\nThe first way is to use function annotations. I find the source file of Image.open() on my system and change the its definition from\ndef open(fp, mode=\u0026#34;r\u0026#34;) : to\ndef open(fp, mode=\u0026#34;r\u0026#34;) -\u0026gt; Image: Now the auto-completion works for instance returned by Image.open() method. While this method works, it is cumbersome to use since it requires changing the source files of various packages.\nThe second way is to use type hints in inline comments. But the auto-completion does not work anymore. My test script is:\nimport jedi source = \u0026#39;\u0026#39;\u0026#39; from PIL import Image im = Image.open(\u0026#39;test.png\u0026#39;) # type: Image im. \u0026#39;\u0026#39;\u0026#39; script = jedi.Script(source, 4, len(\u0026#39;im.\u0026#39;), \u0026#39;example.py\u0026#39;) print(script.completions()) The print function shows an empty list.\nSo for now, you may stick to function annotations if you really want type hints to work for Jedi.\nReferences # Type hints cheat sheet Type hinting in Pycharm 5 The script is adapted from the tutorial code of Jedi from here\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"13 May 2019","externalUrl":null,"permalink":"/2019/05/13/jedi_autocomplete_type_hints/","section":"Posts","summary":"\u003cp\u003eCurrently I am writing all my Python code using Neovim and \u003ca href=\"https://jdhao.github.io/2018/12/24/centos_nvim_install_use_guide_en/#plugin-install-and-settings\" target=\"_blank\"\u003ea couple of\nplugins\u003c/a\u003e\nto provide auto-completion, linting, etc.\u003c/p\u003e","title":"Why Doesn't Jedi Autocompletion Work for Some Methods","type":"posts"},{"content":"Vim/Nvim has powerful ability in editing texts. But if you are in a browser and want to input some text, can we somehow utilize the editing power of Vim? In this post, I would like to share several ways to use Vim or Vim-like editing when you are working inside a browser.\nGhostText (â˜…â˜…â˜…) # There is also a browser plugin called GhostText which lets you write in the text area using your favorite editor. It supports several popular editors such as Atom, VS Code and Neovim.\nFor Neovim, you need to install vim-ghost.\nHow to use # Open nvim-qt and run :GhostStart to start the server Put your cursor in text area in the browser and click the GhostText plugin. A temp file will be opened in nvim-qt. Start editing the file and the text will be synced to the text ares in your browser in real time. :bd! will stop the server and delete the buffer. Shortcomings # Current vim-ghost has no way to customize the extensions of the temp file created, thus limiting its usefulness. The biggest disadvantage is that you need to perform two steps in order to actually start typing texts.\nText Editor Anywhere (â˜…â˜…â˜…â˜†) # Text Editor Anywhere is a tool to invoke the editors on your system to edit the text areas in your browser. You can add custom file extensions. When you activate this tool, it lets you select the file extension to use and create a temp file of that extension so you can utilize the full power of the various plugins you have installed.\nCurrently, it is only available on the Windows platform.\nSurfingkeys (â˜…â˜…â˜…â˜…) # Surfingkeys is a Chrome plugin which serves the same purpose as Vimium, if you know what that is. Basically, it lets you use your browser mouseless by providing Vim-like key bindings for various operations you may perform inside the browser.\nSurfingkeys can open up a Vim editor for various text areas inside the browser. You can activate the editor using Ctrl+ i. After you have finished writing, use Ctrl + Enter (in insert mode) or Enter (in normal mode) to write the text.\nwasavi (â˜…â˜…â˜…â˜…) # From the doc of wasavi:\nwasavi is an extension for Chrome, Opera and Firefox. wasavi transforms TEXTAREA element of any page into a VI editor, so you can edit the text in VI. wasavi supports almost all VI commands and some ex commands.\nSo you can see that wasavi is pretty powerful.\nYou can press Ctrl + Enter to activate wasavi when the cursor is focused in a text area. Then you can use almost all your familiar Vim command inside it. To write the text into the text area, use ZZ or :wq as you would probably do in normal Vim.\nFirenvim (â˜…â˜…â˜…â˜…â˜…) # Since Neovim support external UIs. This year (2019), another project named firenvim starts to build an external UI in the textarea of web browsers, which is really amazing. So what does that really mean? It means that you can use your favorite Nvim plugins inside the browser without any compromise. It is a true neovim running inside the browser!\nCheck the firenvim homepage on how to install it for FireFox or Chrome. You can also check here on how to install firenvim on different platforms.\nConclusion # In this post, I introduced several tools to help you input text using Vim-like command or actually using Vim/Nvim. If you work mostly on the Windows platform, Text Editor Anywhere is also a good choice since it can directly invoke the editor installed on your computer. If you work cross platform and want powerful editing ability of Nvim without compromise, then firenvim will definitely be your choice.\nUpdate # 2020-01-01: Add description about firenvim. References # https://news.ycombinator.com/item?id=11023428 ","date":"11 May 2019","externalUrl":null,"permalink":"/2019/05/11/nvim_text_input_browser/","section":"Posts","summary":"\u003cp\u003eVim/Nvim has powerful ability in editing texts. But if you are in a browser and\nwant to input some text, can we somehow utilize the editing power of Vim? In\nthis post, I would like to share several ways to use Vim or Vim-like editing\nwhen you are working inside a browser.\u003c/p\u003e","title":"Vim-like Editing inside Browser","type":"posts"},{"content":"åœ¨è¿‡å»å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘éƒ½åœ¨ä½¿ç”¨ Sublime Text æ¥ç¼–è¾‘ Markdown æ–‡ä»¶ï¼ŒSublime Textæœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå¯ä»¥è®¾å®š wrap_width å’Œ word_wrap é€‰é¡¹ï¼Œè‡ªåŠ¨åœ¨è®¾å®šçš„ 80ä¸ªå­—ç¬¦é•¿åº¦å¤„ softwrap æ–‡æœ¬ã€‚æ‰€ä»¥å³ä½¿ä¸€ä¸ªæ®µè½å†™æˆä¸€è¡Œï¼Œç¼–è¾‘èµ·æ¥æˆ–è€…çœ‹èµ·æ¥éƒ½ä¸è¿å’Œã€‚\næœ€è¿‘å°† Markdown ç¼–è¾‘å™¨ä» Sublime Text æ¢æˆ Neovim ä»¥åï¼Œç”±äº Neovim å½“å‰å¹¶æ²¡æœ‰å°†æ–‡æœ¬ softwrap åˆ°ç‰¹å®šå­—ç¬¦å®½åº¦çš„åŠŸèƒ½ï¼Œäºæ˜¯æˆ‘è½¬è€Œä½¿ç”¨textwidthé€‰é¡¹ï¼Œå¼ºåˆ¶æ‰€æœ‰æ–‡æœ¬åœ¨è¾¾åˆ° textwidth ä»¥åè‡ªåŠ¨æ¢è¡Œã€‚å¯¹äºè‹±æ–‡ï¼Œè¿™å€’æ²¡æœ‰ä»€ä¹ˆå½±åƒï¼Œä½†æ˜¯å¯¹äºä¸­æ–‡ï¼Œä¸¤è¡Œé¦–å°¾ç›¸æ¥ä½ç½®çš„å­—ç¬¦ä¹‹é—´å°±ä¼šè«åå…¶å¦™åœ°å¤šå‡ºä¸€ä¸ªç©ºæ ¼ã€‚ä¾‹å¦‚ä¸‹é¢çš„å¥å­\nä½ å¥½å— æˆ‘å¾ˆå¥½ æ¸²æŸ“æˆ HTML ä»¥åï¼Œä¼šå˜æˆ ä½ å¥½å— æˆ‘å¾ˆå¥½ï¼Œæ±‰å­—å—å’Œæˆ‘ä¹‹é—´å¤šäº†ä¸€ä¸ªç©ºæ ¼ã€‚\nè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯å½“åˆ HTML çš„è®¾è®¡è€…éƒ½æ˜¯ä»¥è‹±è¯­ä¸ºä¸»è¦è¯­è¨€ï¼Œè‹±è¯­ä¸­å•è¯ä¹‹é—´ä½¿ç”¨ç©ºæ ¼æ¥åˆ†éš”ï¼Œå› æ­¤ä¸åŒè¡Œä¹‹é—´çš„è‹±æ–‡å•è¯ä¸­é—´çš„æ¢è¡Œç¬¦è¢«è½¬æ¢æˆäº†ç©ºæ ¼ï¼Œå…·ä½“å‚è§è¿™é‡Œã€‚ä½†æ˜¯ä¸­æ–‡å­—ç¬¦ä¹‹é—´å¹¶ä¸éœ€è¦ç©ºæ ¼æ¥åˆ†éš”ï¼Œæ‰€ä»¥å°±å‡ºç°äº†ä¸Šè¿°çš„é—®é¢˜ã€‚æ”¹ HTML æ ‡å‡†æ˜¯ä¸å¯èƒ½çš„äº†ï¼Œå› æ­¤åªèƒ½é€šè¿‡å…¶ä»–æ–¹æ³•æ¥å¤„ç†ã€‚\nHugo è§£å†³åŠæ³• # é€šè¿‡æŸ¥æ‰¾ï¼Œæˆ‘å‘ç° Hugo ä½¿ç”¨çš„ blackfriday å¼•æ“æ˜¯æ”¯æŒå¤„ç†ä¸­æ–‡å­—ç¬¦ä¹‹é—´çš„ç©ºæ ¼é—®é¢˜çš„ï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨ Hugo çš„é…ç½®æ–‡ä»¶ config.toml ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š\n[blackfriday] extensions = [\u0026#34;joinLines\u0026#34;] ç»è¿‡è§‚å¯Ÿå‘ç°ï¼Œè¯¥é€‰é¡¹ä¸ä»…å¯¹ä¸­æ–‡æœ‰æ•ˆï¼Œå¯¹è‹±æ–‡ä¹Ÿæœ‰æ•ˆï¼Œå› æ­¤ä¸Šä¸‹ä¸¤è¡Œä¹‹é—´çš„è‹±æ–‡å•è¯æœ¬æ¥åº”è¯¥æœ‰çš„ç©ºæ ¼ä¹Ÿä¼šè¢«å–æ¶ˆï¼Œæ‰€ä»¥ä»¥ä¸Šçš„æ–¹æ³•å¹¶ä¸å¥½ï¼Œè°¨æ…ä½¿ç”¨ï¼Œé™¤éä½ ä¸»è¦ä½¿ç”¨çš„æ˜¯ä¸­æ–‡ã€‚\nPandoc è§£å†³åŠæ³• # å¦‚æœä½ ä½¿ç”¨ Pandoc å°† Markdown è½¬ä¸º HTMLï¼Œé‚£ä¹ˆå¯ä»¥åŠ å…¥ Extension east_asian_line_breaksï¼Œè¿™ä¸ª Extension å°±æ˜¯ä¸“é—¨é’ˆå¯¹ä¸Šè¿°çš„æƒ…å†µè®¾è®¡çš„ã€‚\næƒå®œä¹‹è®¡ # å¦‚æœä¸­æ–‡å’Œè‹±æ–‡çš„åšå®¢éƒ½å†™ï¼Œå¹¶ä¸”ä½¿ç”¨ Hugoï¼Œç›®å‰ä¼¼ä¹æ²¡æœ‰å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚åªå¥½æŠŠä¸€ä¸ªæ®µè½çš„é—®é¢˜éƒ½å†™æˆä¸€è¡Œï¼Œä¸ºäº†è¾¾åˆ° softwrap çš„æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Goyoï¼Œè¿‘ä¼¼å®ç°åƒ Sublime Text ä¸­é‚£æ ·çš„ç»“æœã€‚\nå‚è€ƒèµ„æ–™ # Hugo å¯¹ä¸­æ–‡å­—ç¬¦ä¹‹é—´ç©ºæ ¼çš„å¤„ç† https://lizyn.com/zh/post/2018/md-space-between-cjk/ https://github.com/gohugoio/hugo/pull/3574 Pandoc ä¸­è¿™ç§æƒ…å†µçš„å¤„ç† https://talk.commonmark.org/t/soft-line-breaks-should-not-introduce-spaces/285/8 https://github.com/jgm/pandoc/pull/534 å¯¹äº Vim softwrap width çš„è®¨è®º https://stackoverflow.com/questions/989093/soft-wrap-at-80-characters-in-vim-in-window-of-arbitrary-width https://vi.stackexchange.com/questions/8961/soft-linewrap-width https://github.com/neovim/neovim/issues/4386 https://www.reddit.com/r/vim/comments/8ov6l6/soft_wrap_at_a_certain_number_of_characters/ ","date":"4 May 2019","externalUrl":null,"permalink":"/2019/05/04/markdown_extra_space/","section":"Posts","summary":"\u003cp\u003eåœ¨è¿‡å»å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘éƒ½åœ¨\u003ca href=\"https://jdhao.github.io/2017/03/04/Sublime-Windows-Markdown/\" target=\"_blank\"\u003eä½¿ç”¨ Sublime Text æ¥ç¼–è¾‘ Markdown æ–‡ä»¶\u003c/a\u003eï¼ŒSublime Textæœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œ\u003ca href=\"https://stackoverflow.com/q/25900954/6064933\" target=\"_blank\"\u003eå¯ä»¥è®¾å®š \u003ccode\u003ewrap_width\u003c/code\u003e  å’Œ \u003ccode\u003eword_wrap\u003c/code\u003e é€‰é¡¹\u003c/a\u003eï¼Œè‡ªåŠ¨åœ¨è®¾å®šçš„ 80ä¸ªå­—ç¬¦é•¿åº¦å¤„ softwrap æ–‡æœ¬ã€‚æ‰€ä»¥å³ä½¿ä¸€ä¸ªæ®µè½å†™æˆä¸€è¡Œï¼Œç¼–è¾‘èµ·æ¥æˆ–è€…çœ‹èµ·æ¥éƒ½ä¸è¿å’Œã€‚\u003c/p\u003e","title":"Markdown ç”Ÿæˆ HTML æ—¶æ±‰å­—ä¹‹é—´å‡ºç°å¤šä½™ç©ºæ ¼é—®é¢˜","type":"posts"},{"content":"äº”ä¸€å‡æœŸå…¥æ‰‹äº†å°ç±³9ï¼Œåœ¨å®‰è£…è°·æ­Œ Play å•†åº—ä»¥åŠå¯ç”¨è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç‰¹æ­¤è®°å½•è§£å†³æ–¹æ³•ã€‚\nè°·æ­ŒæœåŠ¡å¯ç”¨ä»¥åŠ Play store å®‰è£… # ç”±äºä¹‹å‰ä½¿ç”¨çš„æ‰‹æœºæ˜¯ä¸€åŠ  3Tï¼Œå½“æ—¶å®‰è£…è°·æ­Œæ¡†æ¶ä»¥åŠè°·æ­ŒæœåŠ¡ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå« Go è°·æ­Œå®‰è£…å™¨ çš„åº”ç”¨ï¼Œå®‰è£…è¿™ä¸ªåº”ç”¨ä¹‹åï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®‰è£…æ‰€éœ€è¦çš„æ‰€æœ‰è°·æ­Œå¥—ä»¶ã€‚è¿™æ¬¡å°ç±³ 9 åˆ°äº†ä»¥åï¼Œæˆ‘ä¹Ÿä¸‹è½½å®‰è£…äº†è¿™ä¸ªåº”ç”¨ï¼Œä½†æ˜¯æ‰“å¼€åº”ç”¨ä»¥åï¼Œå®ƒæ£€æµ‹çš„ç»“æœæ˜¯è°·æ­ŒæœåŠ¡å·²ç»å®‰è£…äº†ï¼Œç”šè‡³è°·æ­Œ Play å•†åº—ä¹Ÿå®‰è£…äº†ï¼Œè¿™è®©æˆ‘æ„Ÿåˆ°å¥‡æ€ªã€‚æˆ‘åœ¨æ‰‹æœºä¸Šæ‰¾äº†ä¸€åœˆï¼Œçš„ç¡®æ‰¾åˆ°äº†è°·æ­ŒæœåŠ¡çš„å¼€å¯å¼€å…³ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ‰¾åˆ°è°·æ­Œ play å•†åº—ã€‚\nç½‘ä¸Šçš„å„ç§æ•™ç¨‹æ»¡å¤©é£ï¼Œä½†æ˜¯å¾ˆå¤šéƒ½æ˜¯è¯­ç„‰ä¸è¯¦ï¼Œå…¶å®å°ç±³ 9 çš„ MIUI 10.2.15.0 ç‰ˆæœ¬å·²ç»è‡ªå¸¦äº†è°·æ­ŒæœåŠ¡ï¼Œä¸éœ€è¦å®‰è£…è°·æ­ŒæœåŠ¡äº†ã€‚è°·æ­ŒæœåŠ¡å…·ä½“æ‰“å¼€æ–¹æ³•ä¸º: æ‰“å¼€æ‰‹æœºè®¾ç½®ï¼Œæœç´ ã€Œè°·æ­Œã€, ä¼šçœ‹åˆ°ã€Œè°·æ­ŒæœåŠ¡ã€, ç‚¹å‡»è¿›å…¥ï¼Œç„¶åæ‰“å¼€å¼€å…³å³å¯ã€‚\næ¥ä¸‹æ¥å°±éœ€è¦å®‰è£…è°·æ­Œ Play å•†åº—äº†ï¼Œå¯ä»¥ä» APKMIRROR ä¸‹è½½æœ€æ–°ç‰ˆçš„ Google play APKï¼Œç‚¹å‡» è¿™é‡Œ è¿›å…¥ä¸‹è½½é¡µé¢ã€‚ä¸‹è½½ä»¥åå®‰è£…å³å¯ã€‚\nPlay å•†åº—å¡åœ¨æ ¸å¯¹ä¿¡æ¯ç¯èŠ‚ # è£…å¥½ Play å•†åº—ï¼Œæ‰“å¼€æ¢¯å­ï¼Œç„¶åæ‰“å¼€ Play å•†åº—åº”ç”¨ï¼Œä¸€ç›´å¡åœ¨ã€Œæ­£åœ¨æ ¸å¯¹ä¿¡æ¯ã€è¿™ä¸ªç”»é¢ã€‚\nä»ç½‘ä¸Šæ‰¾äº†å„ç§å¸–å­ï¼Œæœ‰ä¸€ä¸ªå¸–å­æåˆ°ï¼Œå¯ä»¥ä»åº”ç”¨å•†åº—æœç´¢ã€Œè°·æ­Œå®‰è£…å™¨ã€,ç„¶ååˆ°è±Œè±†èšä¸‹è½½å®‰è£…è¯¥åº”ç”¨ï¼Œä¼šè‡ªåŠ¨å®‰è£…æ‰€æœ‰éœ€è¦çš„ç¨‹åºã€‚ç»è¿‡æµ‹è¯•ï¼Œè¯¥åº”ç”¨åœ¨å®‰è£…è°·æ­ŒæœåŠ¡æ—¶ï¼Œä¼šå‡ºé”™ï¼Œç³»ç»Ÿä¼šæç¤ºã€Œå®‰è£…å¤±è´¥ï¼ˆ-25ï¼‰ã€ï¼Œå¤±è´¥åŸå› ï¼šã€Œæ— æ³•é™çº§å®‰è£…ã€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåå¤å°è¯•å‡æ— æ•ˆï¼Œè¯´æ˜è¯¥æ–¹æ³•æ˜¯æœ‰é—®é¢˜çš„ï¼Œå¯èƒ½å¹¶ä¸é€‚ç”¨äºæœ€æ–°çš„ MIUI ç³»ç»Ÿã€‚å¦å¤–æœ‰äººè¯´æ˜¯æ¢¯å­ä¸è¡Œï¼Œå…¶å®å¹¶ä¸æ˜¯ï¼Œå› ä¸ºæŒ‚ä¸Šæ¢¯å­ä»¥åï¼Œåœ¨æµè§ˆå™¨é‡Œé¢ï¼Œæ˜¯å¯ä»¥æ­£å¸¸è®¿é—® Google ä»¥åŠ YouTube ç­‰ç½‘ç«™çš„ï¼Œè¯´æ˜å¹¶ä¸æ˜¯æ¢¯å­æœ¬èº«çš„é—®é¢˜ã€‚\néªŒè¯æˆåŠŸçš„æ–¹æ³• # é¦–å…ˆå®‰è£…æœ€æ–°çš„è°·æ­Œ Play æœåŠ¡ï¼Œä» è¿™é‡Œ ä¸‹è½½ï¼Œä¸‹è½½çš„ç¨‹åºæ˜¯å¯ä»¥é¡ºåˆ©å®‰è£…çš„ã€‚\næ¥ç€ç¡®ä¿ç³»ç»Ÿä¸­çš„è°·æ­ŒæœåŠ¡æ˜¯å¼€å¯çŠ¶æ€ï¼ˆå‚è€ƒä¸Šé¢çš„å°ç±³ 9 è°·æ­ŒæœåŠ¡å¯åŠ¨æ–¹æ³•ï¼‰ã€‚\nç„¶åï¼Œå®‰è£… OurPlay è¿™ä¸ªåº”ç”¨ï¼Œä» å®˜ç½‘ å¯ä»¥ä¸‹è½½ï¼Œä¸‹è½½å®‰è£…ä»¥åï¼Œç‚¹å‡»è¿›å…¥åº•éƒ¨çš„ã€Œå¯åŠ¨ã€é¡µé¢ï¼ŒOurPlay ä¼šè‡ªåŠ¨ä¸‹è½½ä¸€äº›å¿…è¦çš„ç»„ä»¶ã€‚ç„¶åï¼Œåœ¨è¯¥é¡µé¢çš„ä¸Šéƒ¨ï¼Œé€‰æ‹©ã€Œä¸åŠ é€Ÿã€ã€‚\næœ€åï¼Œé‡å¯æ‰‹æœºï¼ŒæŒ‚ä¸Šæ¢¯å­ï¼Œæ‰“å¼€ Play å•†åº—ï¼Œåº”è¯¥å°±ä¸ä¼šå¡åœ¨æ ¸å¯¹ä¿¡æ¯ç•Œé¢äº†ã€‚\næœªç»éªŒè¯çš„æ–¹æ³• # ä¹Ÿæœ‰äººè¯´å¹¶ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦ï¼Œä¸€ç›´å¡åœ¨æ ¸å¯¹ä¿¡æ¯ç•Œé¢ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰æ¸…é™¤ Play å•†åº—çš„ç¼“å­˜ç­‰æ•°æ®ä¿¡æ¯ã€‚\nè§£å†³æ–¹æ³•ï¼šè¿›å…¥ç³»ç»Ÿè®¾ç½®ï¼Œæ‰¾åˆ° åº”ç”¨ç®¡ç† -\u0026gt; æ›´å¤šåº”ç”¨ -\u0026gt; Google Play å•†åº—ï¼Œç‚¹å‡»è¿›å…¥ï¼Œç„¶åç‚¹å‡»ã€Œå­˜å‚¨å ç”¨ã€, è¿›å…¥æ–°çª—å£ï¼Œç‚¹å‡» æ¸…é™¤æ•°æ® -\u0026gt; æ¸…é™¤å…¨éƒ¨æ•°æ®ã€‚é‡å¯æ‰‹æœºï¼ŒæŒ‚å¥½æ¢¯å­ï¼Œå†ç™»å½• Play å•†åº—ï¼Œå¯ä»¥æ­£å¸¸ç™»å½•ã€‚\nå‚è€ƒ # æŸä¹ä¸Šçš„æ–¹æ¡ˆ æ¸…é™¤ç¼“å­˜å’Œæ•°æ®ä¼¼ä¹å¯ä»¥å‚è€ƒ è¿™é‡Œ ä»¥åŠ è¿™é‡Œ. å…¨éƒ¨é‡è£…è°·æ­Œå¥—ä»¶ï¼Œä¸æ¸…æ¥šæ˜¯å¦å¯è¡Œï¼Œå¯ä»¥ä¸€è¯•. v2ex ä¸Šçš„ç±»ä¼¼è¯é¢˜. ","date":"4 May 2019","externalUrl":null,"permalink":"/2019/05/04/mi9_google_play_configure/","section":"Posts","summary":"\u003cp\u003eäº”ä¸€å‡æœŸå…¥æ‰‹äº†\u003ca href=\"https://zh.wikipedia.org/wiki/%E5%B0%8F%E7%B1%B39\" target=\"_blank\"\u003eå°ç±³9\u003c/a\u003eï¼Œåœ¨å®‰è£…è°·æ­Œ Play å•†åº—ä»¥åŠå¯ç”¨è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç‰¹æ­¤è®°å½•è§£å†³æ–¹æ³•ã€‚\u003c/p\u003e","title":"å°ç±³ 9 å®‰è£…è°·æ­Œå•†åº—ï¼ˆGoogle Play Storeï¼‰ä¸ç›¸å…³é…ç½®","type":"posts"},{"content":" Many normal mode commands accept a count, which means to repeat the motion count times. For example, 3j moves the cursor 3 lines below the current line and 4w will move the cursor four words forward. Usually, the user-defined mappings can not take a count. Even if they can, they will most probably not work the way you expect them to. In this post, I will describe what I have learned to make a fairly complex mapping repeatable with a count.\nThe Problem # I find myself often doing something like adding one or two blank lines below the current line to separate the structure of the code or text. So I created a mapping for this operation after some search:\nnnoremap oo :execute \u0026#34;normal! m`o\\\u0026lt;Esc\u0026gt;``\u0026#34;\u0026lt;cr\u0026gt; Unfortunately, the above mapping does not work1, it will print an error:\nE114: Missing quote: \u0026ldquo;normal! m`a\\\nThe above mapping does not work because the way we escape Esc is not correct. When you press oo, it is like we have typed :execute \u0026quot;normal! m`o in the command line and then press the Esc key.\nYou have to use either one of the following mappings to indicate that you want to press the \u0026lt;Esc\u0026gt; key, not type \u0026lt;, E, s, c, \u0026gt; literally:\nnnoremap oo :execute \u0026#34;normal! m`o\\\u0026lt;lt\u0026gt;Esc\u0026gt;``\u0026#34;\u0026lt;cr\u0026gt; nnoremap oo :execute \u0026#34;normal! m`o\u0026lt;c-v\u0026gt;\u0026lt;Esc\u0026gt;``\u0026#34;\u0026lt;cr\u0026gt; nnoremap oo :execute \u0026#34;normal! m`o\\e``\u0026#34;\u0026lt;cr\u0026gt; This is becoming too complicated. nnoremap is actually equivalent to normal!. So we can simply the above mappings to avoid complications:\nnnoremap oo m`o\u0026lt;Esc\u0026gt;`` In the above mapping, we first create a mark ` for the initial cursor position, the insert a newline, go back to normal mode and restore the cursor position2. Then end result is that we insert a newline and maintain the cursor position.\nBut this mapping only works once, i.e., it can not take a count. In order to add two lines below, we have to press oo two times, which is not ideal for me.\nAfter searching the Internet, I found this vim cast, which address this issue specifically. It introduced two ways to create a mapping that accepts a count.\nTwo Solutions # The imperfect one \u0026ndash; using :normal command # The first way is to use :normal command on the right-hand side of the mapping. The :normal {expr} command will execute {expr} as normal mode command just as you have typed them in normal mode. For example, if you execute :normal G in Vim command line, the cursor will be put at the last line of current buffer.\nThe :normal command will take into account the mappings you have defined. If you have defined G to other command, you may not get what you want. To remedy this, Vim also provides a bang version: :normal!, which will use Vim\u0026rsquo;s default mapping for the key.\nThe :normal! command can take an optional {range}, which means to execute the {expr} for current cursor line as well as lines indicated by {range}3.\nCombining the above knowledge, we can create the following mapping:\nnnoremap oo :normal! m`o\u0026lt;Esc\u0026gt;`` This mapping can take a count. If you press 2oo in normal mode, two lines will be insert below current line. But you will notice that the position of the cursor is changed because the :normal! command with range will move the cursors:\nBefore executing the {commands}, the cursor is positioned in the first column of the range, for each line.\nThere is also a pitfall when using this mapping in the last line of current buffer. If you use a count bigger than one, you will get an error:\nE16: Invalid range\nsince there is no lines below the current line.\nThe better \u0026ndash; using the expression register @= # Another method is to use expression register4. The expression register can store a command string or store the result of some functions. The mapping we will use is:\nnnoremap oo @=\u0026#39;m`o\u0026lt;C-V\u0026gt;\u0026lt;Esc\u0026gt;``\u0026#39;\u0026lt;CR\u0026gt; Here, we define the command we will use in the expression register. Note that to represent Esc, we have to precede it with \u0026lt;C-v\u0026gt;. This mapping can take a count and work as expected (the cursor is moved).\nAlso note that the below mappings do not work:\nnnoremap oo @=\u0026#39;m`o\\\u0026lt;lt\u0026gt;Esc\u0026gt;``\u0026#39;\u0026lt;cr\u0026gt; nnoremap oo @=\u0026#39;m`o\\e``\u0026#39;\u0026lt;cr\u0026gt; I do not know why. But they just do not work any more. If anyone knows the reason, do not hesitate to tell me, please.\nUpdate: 2019-05-12\nNote if we change the single quote to double quote, the following mappings using the expression register will work as expected.\nnnoremap oo @=\u0026#34;m`o\\\u0026lt;lt\u0026gt;Esc\u0026gt;``\u0026#34;\u0026lt;cr\u0026gt; nnoremap oo @=\u0026#34;m`o\\e``\u0026#34;\u0026lt;cr\u0026gt; It seems like an issue with single quote, where every character inside is interpreted literally.\nThe best # Although using the expression register mapping solves the problem, it is error prone when writing such expressions without considerable familiarity with the various oddities of Vim.\nI posted my question on Reddit and received a few replies. A new solution based on \u0026lt;expr\u0026gt; (see :h map-\u0026lt;expr\u0026gt;) emerged and it seems the best solution ever:\nnnoremap \u0026lt;expr\u0026gt; oo \u0026#39;m`\u0026#39; . v:count1 . \u0026#39;o\u0026lt;Esc\u0026gt;``\u0026#39; nnoremap \u0026lt;expr\u0026gt; OO \u0026#39;m`\u0026#39; . v:count1 . \u0026#39;O\u0026lt;Esc\u0026gt;``\u0026#39; The expression mapping will evaluate the RHS string before executing it. v: count1 is a special Vim variable. It is the count you supplied to this mapping. If no count is given, it has the default value of 1 (see :h v:count1).\nThis mapping has two benefits. One is that it is clearer. The second is that it executes faster than expression register mappings where the mapping is repeated count times and you can see obvious lags between each mapping.\nA special note about backslash in command line and Vim script # During the process, I have also learned that the meaning of \\ may change depending on the B flag in cpoptions.\nSuppose that we have defined the following insert mode mapping in command line or in Vim script.\nimap \u0026lt;c-a\u0026gt; \\\u0026lt;Home\u0026gt; When you press \u0026lt;C-a\u0026gt; in insert mode, the output will depend on if B flag is in cpoptions.\nwith B flag in cpoptions # Backslash is take literally as is. A backslash is inserted and the cursor is moved to the beginning of cursor line.\nwithout B flag in cpotions # Backlash will escape \u0026lt; the character. When you press \u0026lt;c-a\u0026gt; in insert mode, the 6 characters (i.e., \u0026lt;, H, o, m, e, \u0026gt;) is inserted.\nWhen define mappings, the \u0026lt; should be handled carefully, or you will not get what you want.\nConclusion # In this post, I have summarized how to define a map that can accept a count. Overall, defining the map via expression register is preferred and works great. Extra care must be paid when you include special keys such as Esc inside the expression register.\nReferences # Create a mapping to insert a new line below. :normal command explained and why should we use :normal! combine :execute and :normal command (also about how to represent ). For using \u0026lt;Esc\u0026gt; inside :execute string in script mappings, see here and here. Supply a count to a map. Note that in command line, :execute \u0026quot;normal! m`o\\\u0026lt;Esc\u0026gt;``\u0026quot; will work, also see :h expr-quote. But it does not work in mappings inside a Vim script. It is f**king complicated!\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n`M will move the cursor to the position marked by marker M, see :h mark-motions.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee :h :normal-range for more information.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nsee also :h quote_=\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"29 April 2019","externalUrl":null,"permalink":"/2019/04/29/nvim_map_with_a_count/","section":"Posts","summary":"\u003cp\u003e\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" loading=\"lazy\" src=\"https://blog-resource-1257868508.file.myqcloud.com/20190503204410.png\" alt=\"Mappings\" /\u003e\n    \n  \u003c/figure\u003e\n\u003c/p\u003e\n\u003cp\u003eMany normal mode commands accept a \u003ccode\u003ecount\u003c/code\u003e, which means to repeat the motion\n\u003ccode\u003ecount\u003c/code\u003e times. For example, \u003ccode\u003e3j\u003c/code\u003e moves the cursor 3 lines below the current\nline and \u003ccode\u003e4w\u003c/code\u003e will move the cursor four words forward. Usually, the\nuser-defined mappings can not take a count. Even if they can, they will most\nprobably not work the way you expect them to. In this post, I will describe\nwhat I have learned to make a fairly complex mapping repeatable with a count.\u003c/p\u003e","title":"Create Mappings That Take A Count in Neovim","type":"posts"},{"content":" Update log 2021-10-17: add spellsuggest option. In this post, I want to talk about how to enable the built-in spell checking feature in Nvim.\nEnable spell check # First we need to add spell checking languages:\n\u0026#34; spell languages set spelllang=en,cjk In the above config, we set spell languages to en and cjk. Item cjk is used to prevent CJK characters from being marked as spell errors. This is also documented in the Nvim doc:\nIf the name \u0026ldquo;cjk\u0026rdquo; is included, East Asian characters are excluded from spell checking. This is useful when editing text that also has Asian words.\nAnother option to tweak is spellsuggest, I use the following settings:\n\u0026#34; Show nine spell checking candidates at most set spellsuggest=best,9 To enable spell checking, run command :set spell. I have set up two mappings to toggle spell checking:\nnnoremap \u0026lt;silent\u0026gt; \u0026lt;F11\u0026gt; :set spell!\u0026lt;cr\u0026gt; inoremap \u0026lt;silent\u0026gt; \u0026lt;F11\u0026gt; \u0026lt;C-O\u0026gt;:set spell!\u0026lt;cr\u0026gt; We can then press F11 to toggle spell checking.\nCorrect spell errors # In insert mode, if you have typed a word which Vim thinks is miss-spelled, an underline is shown below. To correct this error, press \u0026lt;C-x\u0026gt; followed by s. A completion menu will show a list of suggestions. You can then choose the correct one.\nIn normal mode, to navigate between possible spell errors, use the following shortcut:\n[s: go to previous spell error ]s: go to next spell error The built-in spell checker is not perfect and can create false positives easily. If you think a word is not a spell error, you can use zg to add it to your spell file. To correct an error, press z=. A list of candidate words will be shown. You are prompted to enter a number to select the correct one. Or you may use 1z= to choose the first candidate directly.\nReferences # https://stackoverflow.com/q/640351/6064933 An auto-correctly plugin: https://github.com/sedm0784/vim-you-autocorrect ","date":"29 April 2019","externalUrl":null,"permalink":"/2019/04/29/nvim_spell_check/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-10-17: add \u003ccode\u003espellsuggest\u003c/code\u003e option.\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I want to talk about how to enable the built-in spell checking\nfeature in Nvim.\u003c/p\u003e","title":"Spell Checking in Nvim","type":"posts"},{"content":" Some words are hard to type, it is handy if Neovim can provide auto-completion for the words we are typing. We can achieve word completion in Neovim in two ways.\nNative method # The first method is to use a dictionary file. The dictionary file is a text file which contains plain English words, usually one word a line. In the Neovim config file, add the following settings for dictionary option:\nif has(\u0026#39;unix\u0026#39;) set dictionary+=/usr/share/dict/words else set dictionary+=~/AppData/Local/nvim/words endif For Linux systems, the dictionary file is usually /usr/share/dict/words. For Windows, there is no dictionary file. But you can copy the Linux dict file and place it under ~/AppData/Local/nvim/.\nThen start editing a file, type the first several characters of a word, then press , the completion items will be shown on a completion menu. Typing \u0026lt;CTRL-X\u0026gt;\u0026lt;CTRL-K\u0026gt; is cumbersome. You can add the following setting to complete option:\nset complete+=k Now, in insert mode, you can press \u0026lt;CTRL-N\u0026gt; to start auto-completion and move selection to next word in the completion menu, while pressing \u0026lt;CTRL-P\u0026gt; will move the selection to the previous word.\nUse deoplete for completion # The second method is to install deoplete-spell. If you have installed deoplete, the only setting you need is :set spell. Then you should be able to see the autocompletion menu when you start typing characters.\nThere is also a plugin called neco-look which uses the look command on Linux system to provide auto-completion. But it does not work natively on Windows.\nReferences # https://vim.fandom.com/wiki/Dictionary_completions ","date":"26 April 2019","externalUrl":null,"permalink":"/2019/04/26/words_completion_nvim/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n   \u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190430093054.png\" alt=\"\"\u003e\n\u003c/p\u003e\n\u003cp\u003eSome words are hard to type, it is handy if Neovim can provide auto-completion\nfor the words we are typing. We can achieve word completion in Neovim in two\nways.\u003c/p\u003e","title":"English Words Completion inside Neovim/Vim","type":"posts"},{"content":"Introduction # I have been using Vim-airline for a while to customize my statusline. We can change the theme used for statusline with the many themes available in vim-airline-themes. Not all these themes looks good since it depends on the background color you use for Neovim and certainly your aesthetics.\nI only use a handful of themes myself and I change my themes when I feel bored with one theme. It occurs to me that I can write a simple script to randomly pick a theme from my favorite list1. It turns out writing such a script is not easy for Neovim newbies like me.\nIn this post, I would like to share how I end up achieving what I want by mixing Vim script and Python script.\nPrerequisite # This post is specifically targeted at Neovim users so that some of the settings may not apply if you use Vim.\nFirst, you need to install Python and Python 3 is preferable since Python 2 support will stop in 2020. Make sure that you can call python from the command line. When you start Neovim and :echo has('python3') will print 1 in the command line.\nYou should also install pynvim, which is the Python client and plugin host for Neovim. You can install it with pip:\npip install pynvim Finally, you should set the variable g:python3_host_prog to the location of Python executable. If your Python executable path is ~/anaconda3/bin/python, you should add the following setting in your init.vim:\nlet g:python3_host_prog=expand(\u0026#39;~/anaconda3/bin/python\u0026#39;) After that, open Neovim and run :checkhealth provider and make sure there is no error in the part about Python 3. A sample output is shown below:\n## Python 3 provider (optional) - INFO: Using: g:python3_host_prog = \u0026#34;D:/Anaconda/python\u0026#34; - INFO: Executable: D:\\Anaconda\\python - INFO: Python version: 3.6.5 - INFO: pynvim version: 0.3.2 - OK: Latest pynvim is installed. Pick a random airline theme # Generate a random number in the given range # To pick a random theme from my favorite themes, I need to create a function which return a random index of the theme given the lowest and highest index. First, I will show my final function and then I will explain it bit by bit.\nClick to see the function. \u0026#34; generate a random integer from range [Low, High] using Python function! RandInt(Low, High) abort \u0026#34; if you use Python 3, the python block should start with `python3` instead of \u0026#34; `python`, see https://github.com/neovim/neovim/issues/9927 python3 \u0026lt;\u0026lt; EOF import vim import random # using vim.eval to import variable outside Python script to python idx = random.randint(int(vim.eval(\u0026#39;a:Low\u0026#39;)), int(vim.eval(\u0026#39;a:High\u0026#39;))) # using vim.command to export variable inside Python script to vim script so # we can return its value in vim script vim.command(\u0026#34;let index = {}\u0026#34;.format(idx)) EOF return index endfunction In the above function RandInt(), we define a function which accept two parameter Low and High. We generate a random integer between in the range $[Low, High]$ using the Python package random and return the index.\nThe format for Python script is as follows:\npython[3] \u0026lt;\u0026lt; MARKER # python code here MARKER If you use Python 2, you should use python keyword, otherwise use python3, which is explained here. To manipulate Neovim inside Python script, we need to import package vim.\nTo get the value of Vim variable Low and High inside Python script, we need to import them. vim.eval()2 is used to get their value, which is used to evaluate the expression using built-in expression evaluator. According to documentation, the return value is:\na string if the Vim expression evaluates to a string or number So we need to use int() to convert the return value to integer.\nAfter we get the value of idx, how do we use it outside the Python script? We can use vim.command() to achieve that:\nvim.command(\u0026#34;let index = {}\u0026#34;.format(idx)) vim.command(str) will execute str as Vim command, thus assigning the value of idx to Vim variable index.\nPick a airline theme # Now we can define a list of themes to pick and generate a random index and set the airline theme using the theme at the index. An example code is shown below:\nlet s:candidate_airlinetheme = [\u0026#39;alduin\u0026#39;, \u0026#39;ayu_mirage\u0026#39;, \u0026#39;base16_flat\u0026#39;, \\ \u0026#39;monochrome\u0026#39;, \u0026#39;base16_grayscale\u0026#39;, \u0026#39;lucius\u0026#39;, \u0026#39;base16_tomorrow\u0026#39;, \\ \u0026#39;base16color\u0026#39;, \u0026#39;biogoo\u0026#39;, \u0026#39;distinguished\u0026#39;, \u0026#39;gruvbox\u0026#39;, \u0026#39;jellybeans\u0026#39;, \\ \u0026#39;luna\u0026#39;, \u0026#39;raven\u0026#39;, \u0026#39;seagull\u0026#39;, \u0026#39;solarized_flood\u0026#39;, \u0026#39;term\u0026#39;, \u0026#39;vice\u0026#39;, \u0026#39;zenburn\u0026#39;] let s:idx = RandInt(0, len(s:candidate_airlinetheme)-1) let s:theme = s:candidate_airlinetheme[s:idx] let g:airline_theme=s:theme In the above script, len() is used to get the length of a list.\nConclusion # In this post, I introduced how to mix Python script with Vim script. Specifically, I write a simple function to generate a random index and then pick a airline theme based on the index. I have just scratched the surface of the powerful ability of Python programming inside Vim. For more information, see :h python.\nReferences # Hack vim with Python. python or python3 in script. Export value from Python to Vim. Can I script vim using Python. Import vim variable to Python script. Note that vim-airline provides a command AirlineTheme random to pick a random theme, but you cannot set the list of color themes you want to use.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee :h python-eval for detailed documentation.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"22 April 2019","externalUrl":null,"permalink":"/2019/04/22/mix_python_and_vim_script/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eIntroduction \n    \u003cdiv id=\"introduction\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#introduction\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eI have been using \u003ca href=\"https://github.com/vim-airline/vim-airline\" target=\"_blank\"\u003eVim-airline\u003c/a\u003e for\na while to customize my statusline. We can change the theme used for statusline\nwith the many themes available in\n\u003ca href=\"https://github.com/vim-airline/vim-airline-themes\" target=\"_blank\"\u003evim-airline-themes\u003c/a\u003e. Not\nall these themes looks good since it depends on the background color you use\nfor Neovim and certainly your aesthetics.\u003c/p\u003e","title":"How to Use Python Inside Vim Script with Neovim","type":"posts"},{"content":"This is the 2nd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/ How to add a newline after some pattern? # In other styles of regular expressions, \\n is used to denote a newline character. In nvim, it is a bit complicated. In search, you can use \\n to search a newline. But in replace, you need to use \\r to insert a newline. \\n in replace mode will insert NULL character (shown as \\@) in nvim.\nReferences\nHow to replace a character by a newline in Vim Vim - how to replace one new line \\n with two \\n\u0026rsquo;s :h sub-replace-special How to output the value of a nvim option or variable to current buffer? # For a variable, to output its value to the buffer. You have two options:\nUse :put= followed by variable name in NORMAL mode. For example, if you want to put the value of airline_theme to current buffer, use :put=airline_theme. Use \u0026lt;C-R\u0026gt;= in INSERT mode. In INSERT mode, first press Ctrl+R, then press =, input a variable name, e.g., airline_theme. For a Nvim option, the operation is similar except that you need to add a \u0026amp; before option. For example, to put the value timeoutlen into current buffer, you can either use :put=\u0026amp;timeoutlen\u0026lt;CR\u0026gt; or use \u0026lt;C-R\u0026gt;=\u0026amp;timeoutlen\u0026lt;CR\u0026gt;.\nReferences\nhow to write value of variable into current edit file in vim script How to copy the value of a vim option to a register How do I set multiple options in one autocmd? # Based on some event or the filetypes, we may want to set up several options at once. How do we do it in Vim?\nFor example, when we open a terminal inside Nvim, reset the number and relativenumber settings, we can use the following command:\nautocmd TermOpen * setlocal nonumber norelativenumber References\nMultiple autocommands in vim How do I open a terminal window inside neovim? # For neovim, to open a vertical terminal window, the following works:\n:vnew term://bash :vsplit term://bash :vnew term://zsh :vsplit term://zsh\nTo open a horizontal window, remote v in the above command. More documentation can be found by using :h :terminal inside neovim.\nReferences\nOpening a vertical terminal in Vim 8.1 How do I use all kinds of shortcut in vim command mode? # When we enter the vim command mode by using :, we can not use the many shortcut provided by vim (we are in INSERT MODE in some sense), which makes command editing inefficient. Vim also provides a more powerful command window, which you can open by either press \u0026lt;C-F\u0026gt; in command mode or press q: in NORMAL mode window.\nIn the command mode, a list of history command is shown. To execute a specific command, move the cursor to that line and press \u0026lt;CR\u0026gt; in NORMAL mode. The command will be executed as if from the window where the command window is started. To edit a command, move to the line and start editing using all the shortcut provided by Vim.\nBy default, you will be in NORMAL mode when you open the command window. To open the command window and start inserting command automatically, we will employ the CmdwinEnter event provided by Vim:\nautocmd CmdwinEnter [:] startinsert How to quit command window # :quit Press \u0026lt;C-c\u0026gt; References\nHow can I move around in the Vim command line? How do I create folds in vim configuration? # For long Vim configuration files, it is hard to grasp the structure of the whole file and to navigate the file. Thus it is desirable to create fold for each section of the vim configuration.\nTo achieve this, we can employ the modeline to set the fold-related options for Vim config file only.\nFirst, add the following line to the first or last line of your Vim configuration:\n\u0026#34; Vim: set fdm=marker fmr={{{,}}} fdl=0 fdls=-1: In the above setting, we set the foldmethod (fdm) to marker and set foldmarker (fmr) to {{{,}}}. The start and end fold markers are separated by a comma. So in this example, the start and end fold marker are respective {{{ and }}}. Then Nvim will try to close the fold automatically based on the fold marker. If you use modeline, you must turn on the modeline options if it is off.\ncreate a fold # In your vim configuration, in order to create a section Nvim built-in options and settings, you can use the following boilerplate code:\n\u0026#34; Nvim built-in options and settings {{{ \u0026#34; put all your settings inside here set number set relative number \u0026#34; etc...... \u0026#34; }}} When you save the file and open it again, you will find that the fold takes effect.\nReferences\nIs there a best practice to fold a vimrc file How do I fold my .vimrc non-temporarily using vim code-folding? (sp13-vim) How to find the doc of some settings if we do not know its exact key-words? # I saw some vimrc which have the following settings:\nsyntax spell toplevel Since I donot know the keyword for this setting, I can not go to it directly with :h KEYWORD. We can use helpgrep instead, which will put a list of related results in a quickfix window. In this case, we can use :helpgrep toplevel and it returns 7 results. You can open the quickfix window with :cwindow command and then navigate a window using :cprevious and :cnext command.\nReferences\nvim doc: :h helpgrep How do I set the working directory to where the currently opened file is? # If you are editting a file, how to set vim\u0026rsquo;s working directory to the folder the file reside? In Vim, we can use :cd %:h. % represents the current file and :h is a modifier which gets the path to the current file. For more info about file modifiers, see :h cmdline-special.\nReferences\nchange working directory to current opened file Change working directory to currently opened file ","date":"17 April 2019","externalUrl":null,"permalink":"/2019/04/17/nifty_nvim_techniques_s2/","section":"Posts","summary":"\u003cp\u003eThis is the 2nd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 1: \u003ca href=\"https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Little Nvim Techniques to Make My Life Easier -- Series 2","type":"posts"},{"content":"If you have used Sublime Text before, you may be familiar with its snippet feature. Snippets let us type a trigger word and expand it to some boilerplate code or texts that we do not want to repeat typing. We will increase our efficiency dramatically with the help of snippets.\nSeveral snippet plugins are available for Vim/Neovim: snipmate, neosnippet and ultisnips etc. All these plugins are good enough for simple use cases. If you don\u0026rsquo;t know which one to use, just try ultisnips. In this post, I would like to share how to configure ultisnips and use your own snippets in Neovim.\nInstall # In fact, ultisnips is just a snippet engine. To use the real snippets, you also need to install vim-snippets, which provides a comprehensive list of snippets for various filetypes. You can install the two plugins with your favorite plugin manager.\nUltisnips integrates automatically with the auto-completion engine deoplete. If you have installed deoplete, you will see the auto-completion menu for your snippet keywords without any settings.\nThe minimum settings for ultisnips are:\n\u0026#34; Trigger configuration. Do not use \u0026lt;tab\u0026gt; if you use \u0026#34; https://github.com/Valloric/YouCompleteMe. let g:UltiSnipsExpandTrigger=\u0026#39;\u0026lt;tab\u0026gt;\u0026#39; \u0026#34; shortcut to go to next position let g:UltiSnipsJumpForwardTrigger=\u0026#39;\u0026lt;c-j\u0026gt;\u0026#39; \u0026#34; shortcut to go to previous position let g:UltiSnipsJumpBackwardTrigger=\u0026#39;\u0026lt;c-k\u0026gt;\u0026#39; In the above setting, we set the trigger key to Tab, i.e., after typing the trigger word for a snippet, we can then press Tab to trigger snippet expansion. We may define several positions (these positions may optionally contains placeholder texts) in a snippet, which are called tabstops by Ultisnips. In the above settings, Ctrl-J and Ctrl-K are used to jump forward and backward in these tabstops.\nHow to use # All the snippets provided by vim-snippets can be found here. The snippet file for filetype FOO has name FOO.snippets, e.g., for python, the snippet file is python.snippets. Filetype snippets are only available for the specific file types. There is also a special snippet file named all.snippets, which means that snippets inside are available for all file types.\nA snippet has the following form:\nsnippet KEYWORD \u0026#34;some description\u0026#34; [FLAG] snippet body... endsnippet , where KEYWORD is the trigger for the snippet. If you type KEYWORD and press the trigger key, it will be expanded to the snippet body.\nFor example, there is a date keyword in all.snippets, if you type date, and then press Tab, it will be expanded to the current date.\nHow to use your own snippets # It is easy to write a simple snippet. For example, to create a kbd tag quickly when writing Markdown files, we can create a snippet for it. Here is how to do it.\nFirst, create a file named markdown.snippets and add the following content:\nsnippet kbd \u0026#34;HTML kbd tag\u0026#34; \u0026lt;kbd\u0026gt;$1\u0026lt;/kbd\u0026gt; endsnippet This will create a snippet named kbd for filetype markdown.\nWhere to store my custom snippets? # After creating the snippet file, we should put it in a directory where ultisnips can find it. This is a little tricky for Neovim.\nThe documentation of UltiSnips has explained how the snippet files are searched (see :h UltiSnips-how-snippets-are-loaded). However, it is still not crystal clear how to configure so that our custom snippets can be found by UltiSnips.\nFrom the documentation of UltiSnips:\nUltiSnips will search each \u0026lsquo;runtimepath\u0026rsquo; directory for the subdirectory names defined in g:UltiSnipsSnippetDirectories in the order they are defined. For example, if you keep your snippets in ~/.vim/mycoolsnippetsand you want to make use of the UltiSnips snippets that come with other plugins, add the following to your vimrc file.\nlet g:UltiSnipsSnippetDirectories=[\u0026ldquo;UltiSnips\u0026rdquo;, \u0026ldquo;mycoolsnippets\u0026rdquo;]\nThe description above is both informative and confusing since it is written for Vim users, not Neovim users. Because the Neovim config file follows the XDG Base Directory specification and is stored under $HOME/.config/nvim, not $HOME/.vim! As a result, if you follow the above example, you will find that your custom snippets are not available.\nIn the following, I will summarize what is working for Neovim.\nFirst, open nvim and use the command :echo \u0026amp;runtimepath. This command will print all the runtime paths that Neovim will search. According to the documentation, your custom snippets directory should be put under one of these runtime paths. On my Windows machine, the output is like (the full output is omitted for brevity):\nC:\\Users\\Administrator\\AppData\\Local\\nvim,C:\\Users\\Administrator\\AppData\\Local\\nvim\\plugged\\deoplete.nvim,C:\\Users\\Administrator\\AppData\\Local\\nvim\\plugged\\deoplete-jedi,C:\\Users\\Administrator\\AppData\\Local\\nvim\\plugged\\neco-vim,\u0026hellip;..\nOn my Linux machine, the output is like (the full output is omitted):\n/home/jdhao/.config/nvim,/home/jdhao/.local/share/nvim/plugged/deoplete.nvim/,/home/jdhao/.local/share/nvim/plugged/deoplete-jedi/,/home/jdhao/.local/share/nvim/plugged/jedi-vim/,\u0026hellip;..\nDifferent runtime paths are separated by a comma. The steps of configuring custom snippets are the same for both Windows and Linux. So in the following part, I will only focus on Linux since it is more popular.\nOne of the runtime paths on Linux is /home/jdhao/.config/nvim. This directory is where the neovim config file init.vim1 is stored. We choose this directory and create a folder named my_snippets under it. Then move the markdown.snippets file into this folder2.\nmkdir -p $HOME/.config/nvim/my_snippets mv markdown.snippets $HOME/.config/nvim/my_snippets In the third step, we add the following setting to init.vim:\n\u0026#34; `my_snippets` is the directory we created before let g:UltiSnipsSnippetDirectories=[\u0026#34;UltiSnips\u0026#34;, \u0026#34;my_snippets\u0026#34;] Now, open a Markdown file and start typing kbd and you should be able to see the kbd auto-complete item:\nThe completion engine I am using is deoplete and US means that this completion item is from UltiSnips.\nA common error to avoid # You may have write your own snippet for a filetype and put it under the custom snippet directory. However, the snippet does not seem to work.\nOne reason for this is that you have used the wrong name for the filetype. For example, for LaTeX, the filetype is actually tex. So you need to create a file named tex.snippets, not latex.snippets under your custom snippet directory.\nReferences # https://castel.dev/post/lecture-notes-1/ https://github.com/SirVer/ultisnips/issues/830 Difference between different snippet plugins. To check the location of this directory for your computer, use command :echo stdpath('config') inside Neovim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nYou can find all my snippets here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 April 2019","externalUrl":null,"permalink":"/2019/04/17/neovim_snippet_s1/","section":"Posts","summary":"\u003cp\u003eIf you have used Sublime Text before, you may be familiar with its\n\u003ca href=\"http://sublimetext.info/docs/en/extensibility/snippets.html\" target=\"_blank\"\u003esnippet\u003c/a\u003e feature.\n\u003ca href=\"https://en.wikipedia.org/wiki/Snippet_%28programming%29\" target=\"_blank\"\u003eSnippets\u003c/a\u003e let us type a\ntrigger word and expand it to some boilerplate code or texts that we do not\nwant to repeat typing. We will increase our efficiency dramatically with the\nhelp of snippets.\u003c/p\u003e","title":"Setting up Ultisnips for Neovim","type":"posts"},{"content":"æœ¬æ–‡ç®€å•æ€»ç»“ Macbook Pro ä¸Šç½—æŠ€ M590 é¼ æ ‡çš„è®¾ç½®ã€‚\nä½¿ç”¨è“ç‰™è¿æ¥ç”µè„‘ # ç½—æŠ€ M590 é‡‡ç”¨åŒæ¨¡é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨è“ç‰™è¿æ¥ Macï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼˜è”æ¥æ”¶å™¨è¿æ¥ Macã€‚æˆ‘é€‰æ‹©ä½¿ç”¨è“ç‰™è¿æ¥ã€‚ M590 é¼ æ ‡æ»šè½®ä¸‹æ–¹æœ‰ä¸€ä¸ªæŒ‰é’®ï¼ŒæŒ‰é’®åé¢æœ‰ 1ï¼Œ2 ä¸¤ä¸ªæ•°å­—é…æœ‰æŒ‡ç¤ºç¯ï¼Œè¿™ä¸ªæŒ‰é’®ç”¨æ¥åˆ‡æ¢é¼ æ ‡è¿æ¥ç”µè„‘çš„æ–¹å¼ã€‚æŒ‡ç¤ºç¯ 1 äº®çš„æ—¶å€™ï¼Œè¡¨ç¤ºå°†ä½¿ç”¨ä¼˜è”æ¥æ”¶å™¨ä¸ç”µè„‘è¿æ¥ï¼Œè½»æŒ‰åˆ‡æ¢æŒ‰é’®ï¼Œä¼šçœ‹åˆ°æŒ‡ç¤ºç¯ 2 å¼€å§‹ç¼“æ…¢é—ªåŠ¨ï¼Œè¡¨ç¤ºæˆ‘ä»¬å°†è¦ä½¿ç”¨è“ç‰™è¿æ¥ç”µè„‘ã€‚ç„¶åé•¿æŒ‰åˆ‡æ¢æŒ‰é’® 3 ç§’é’Ÿï¼ŒæŒ‡ç¤ºç¯å¼€å§‹å¿«é€Ÿé—ªåŠ¨ï¼Œæ­¤æ—¶é¼ æ ‡è¿›å…¥äº†é…å¯¹æ¨¡å¼ï¼Œåœ¨ Mac çš„è“ç‰™è®¾ç½®æœç´¢é¼ æ ‡ï¼Œç„¶åç‚¹å‡»è¿æ¥å³å¯ã€‚\né…ç½® # Logitech Options # é¦–å…ˆéœ€è¦å®‰è£… Logitech Options è½¯ä»¶ï¼Œè¯¥è½¯ä»¶ç”¨æ¥é…ç½®é¼ æ ‡å„ä¸ªæŒ‰é”®çš„åŠŸèƒ½ï¼Œå®‰è£…å®Œæˆä»¥åæ‰“å¼€ï¼Œè½¯ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«å½“å‰å’Œç”µè„‘è¿æ¥çš„é¼ æ ‡ï¼Œç‚¹å‡»é¼ æ ‡çš„å„ä¸ªæŒ‰é”®ï¼Œå¯ä»¥å¯¹æŒ‰é”®çš„åŠŸèƒ½è¿›è¡Œè®¾å®šï¼Œè®¾å®šé¼ æ ‡æ»šè½®æ»šåŠ¨é€Ÿåº¦ï¼ŒæŒ‡é’ˆé€Ÿåº¦ç­‰ã€‚\nç½—æŠ€é¼ æ ‡æ»šè½®å¤±çµçš„å¤„ç†æ–¹æ³• # å½“ä½ æŠŠç½—æŠ€é¼ æ ‡è¿æ¥ Mac ä»¥åï¼Œå¯èƒ½ä¼šå‘ç°é¼ æ ‡çš„æ»šè½®ä¸èµ·ä½œç”¨ã€‚å¯ä»¥è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š\næ‰“å¼€ã€Œç³»ç»Ÿåå¥½è®¾ç½®ã€ï¼Œè¿›å…¥ã€Œå®‰å…¨æ€§ä¸éšç§è®¾ç½®ã€ åœ¨ã€Œéšç§ã€é¡µé¢çš„ã€Œè¾…åŠ©åŠŸèƒ½ã€é€‰é¡¹ï¼Œå‹¾é€‰ã€ŒLogitech Options Daemonã€ ç„¶åï¼Œé¼ æ ‡æ»šè½®åº”è¯¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚\nå¹³æ»‘æ»šåŠ¨ä¸åè½¬é¼ æ ‡æ»šåŠ¨æ–¹å‘ # å¦‚æœä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨ Mac ä¸Šé¼ æ ‡ï¼Œä½ ä¼šå‘ç°æ»šè½®æ–¹å‘å’Œ Windows ä¸Šæ˜¯ç›¸åçš„ï¼Œå½“é¼ æ ‡æ»šè½®å‘ä¸‹æ»šåŠ¨ï¼Œç½‘é¡µæˆ–è€…æ–‡æ¡£é¡µé¢æ˜¯å‘ä¸Šèµ°çš„ï¼Œåä¹‹ï¼Œå½“é¼ æ ‡æ»šè½®å‘ä¸Šæ»šåŠ¨ï¼Œç½‘é¡µæˆ–æ–‡æ¡£çš„é¡µé¢æ˜¯å‘ä¸‹èµ°çš„ã€‚å¹¶ä¸”ï¼Œæ»šåŠ¨ä¸æ˜¯ç‰¹åˆ«å¹³æ»‘ã€‚ä¸ºäº†æ”¹è¿›è¿™ç§è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Mosè¿™æ¬¾å°å·¥å…·è°ƒèŠ‚é¼ æ ‡çš„æ»šåŠ¨è¡Œä¸ºã€‚\nå®‰è£… Mos ä»¥åï¼Œåœ¨é¼ æ ‡è®¾ç½®é‡Œé¢ï¼ŒæŠŠã€Œå¹³æ»‘æ»šåŠ¨ã€å’Œã€Œåè½¬æ–¹å‘ã€é€‰é¡¹æ‰“å¼€ï¼Œå°±å¯ä»¥è·å¾—æ¯”è¾ƒèˆ’é€‚çš„é¼ æ ‡ä½“éªŒäº†ã€‚\nå‚è€ƒ # http://www.up4dev.com/2018/12/24/logintech-mouse-whele-not-working/ https://www.v2ex.com/t/539054#; https://www.reddit.com/r/MacOS/comments/8ubvlh/mojave_beta_logitech_mx_master_scroll_does_not/ https://community.logitech.com/s/question/0D55A00007eQqkXSAS/scrolling-not-working-on-macos-mojave https://support.logitech.com/en_us/article/Logitech-Options-permission-prompts-on-macOS-Mojave ","date":"2 April 2019","externalUrl":null,"permalink":"/2019/04/02/mac_logitech_mouse_setting/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ç®€å•æ€»ç»“ Macbook Pro ä¸Š\u003ca href=\"https://item.jd.com/4462453.html\" target=\"_blank\"\u003eç½—æŠ€ M590 é¼ æ ‡\u003c/a\u003eçš„è®¾ç½®ã€‚\u003c/p\u003e","title":"Mac ä¸Šç½—æŠ€ M590 é¼ æ ‡è®¾ç½®","type":"posts"},{"content":"This is the 1st post of a series posts on nifty techniques that make my editing experience in Neovim smoother.\nClick here to check other posts in this series. Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 3: https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ How do we select the current line, but not including the newline character? # In Neovim, if we want to select from the current cursor position to the end of the line, we usually use v$. However, the annoyance is that newline character is also selected. We have to press h to move the cursor one character left.\nHow do we select only to the last character of the line? Fortunately, we can use g_ to do that. According to the documentation:\ng_ To the last non-blank character of the line and [count - 1] lines downward |inclusive|. To select from the cursor position to the last character of this line, we can use vg_.\nThere is also a selection option in Neovim that controls how the selection behaves. If we use set selection=exclusive, then the last character will not be included when we use $.\nAnother way is to remap $ in visual mode. Add the following settings to your config:\nxnoremap $ g_ References\nExtend visual selection til the last character on the line (excluding the new line character) Select entire line in VIM, without the new line character Case-changing operators # Neovim provides several shortcuts to change character cases quickly. All the following operations should be followed by motions (e.g., $, w, e etc.) or text objects:\ng~: switch the case of character gu: change characters to lower case gU: change characters to upper case Add character pair to text objects # Sometimes, we want to add a pair of characters to existing text objects. The ys operator provided by vim-surround is used for that purpose. To use it, the format is\nys\u0026lt;TextOjbect\u0026gt;\u0026lt;char\u0026gt; Suppose we have the following texts, and we want to surround the word welcome with a pair of square bracket ([])\n# | indicate cursor position \u0026#34;wel|come to a new world\u0026#34; Our key strokes should be ysiw]1\nThe above text now becomes:\n\u0026#34;[welcome] to a new world\u0026#34; If you want to surround \u0026quot;welcome to a new world\u0026quot; with (), you can use ysi\u0026quot;)2\nHow do I check the help doc for a keyword under the cursor? # When we are browsing the help file, we may want to check the doc for a keyword quickly. For example, when the cursor is in the keyword clipboard (keywords in the help files are colored as opposed to the regular text), how do we check its documentation immediately?\nIt is very simple: just press K, and you will go the documentation of the keyword. You can also press Ctrl+] to go to the documentation.\nIf you have enabled mouse support in nvim (set mouse=a), you can also double click the keyword to open its documentation. If you are using mintty terminal, clicking the keyword while you are pressing Ctrl will also work.\nBy the way, to go back to previous position in the help file, press Ctrl+O or Ctrl+T.\nReferences\nNvim user manual How to navigate in Nvim help file. Search vim help for keyword under cursor https://vimrcfu.com/snippet/19 Setting up textwidth in Nvim # For text files such as Markdown, LaTeX, we may want to restrict the line length to 80 characters at most for better readability. To set line length of the file, we should use textwidth option:\nMaximum width of text that is being inserted. A longer line will be broken after white space to get this width. A zero value disables this\nAdd the following setting to your init.vim should work:\naugroup my_textwidth au! autocmd FileType text,markdown,tex setlocal textwidth=80 augroup END If we open an existing file, we will find that the file content isn\u0026rsquo;t changed automatically. It turns out that we have to manually format the existing texts. We can use gggqG to format the entire document. When you type new text, it will be correctly splitted to next line at textwidth.\nReferences\nhttps://thoughtbot.com/blog/wrap-existing-text-at-80-characters-in-vim Vim textwidth has no effect How to show the full path of current file? # You can use {count}Ctrl-G to show the full path of current buffer:\n{count}CTRL-G Like CTRL-G, but prints the current file name with full path. If the count is higher than 1, the current buffer number is also given. To show only the full path of file, press 1 followed by Ctrl-G. To also show its buffer number, use a count higher than 1, e.g., 2\u0026lt;C-G\u0026gt;.\nReferences\nHow can I see the full path of the current file? iw means inner word text object.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\ni\u0026quot; is a quote object.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"28 March 2019","externalUrl":null,"permalink":"/2019/03/28/nifty_nvim_techniques_s1/","section":"Posts","summary":"\u003cp\u003eThis is the 1st post of a series posts on nifty techniques that make my editing experience in \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003e smoother.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eClick here to check other posts in this series.\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003eSeries 11: \u003ca href=\"https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 10: \u003ca href=\"https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 9: \u003ca href=\"https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 8: \u003ca href=\"https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 7: \u003ca href=\"https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 6: \u003ca href=\"https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 5: \u003ca href=\"https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 4: \u003ca href=\"https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 3: \u003ca href=\"https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSeries 2: \u003ca href=\"https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\" target=\"_blank\"\u003ehttps://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e","title":"Nifty Little Nvim Techniques to Make My Life Easier -- Series 1","type":"posts"},{"content":" Update log 2021-02-20: Add inverse search settings on Windows and macOS Previously, I have written a post on how to write and compile LaTeX source code in Sublime Text. Now that I am familiar with Neovim, I want to do everything related to text editing inside Neovim. In this post, I would like to share how to configure Neovim for LaTeX editing and previewing.\nMy complete config for vimtex can be found here (search vimtex) on my nvim-config repo .\nPre-requisite # Before we begin, you should make sure that you have installed the following software and plugins.\nTeX Distribution: TeX Live is preferred since it is bundled with the possible many tools you will ever need for writing LaTeX. Auto-complete plugin: Since I use Neovim, so I recommend using deoplete. Snippet Engine and snippet plugin: I recommend Ultisnips along with the many snippets provided by plugin vim-snippets. Then we need to install the LaTeX plugin for Neovim. Vimtex is a great choice. To install it, we can use vim-plug:\nPlug \u0026#39;lervag/vimtex\u0026#39; Faster LaTeX source file editing # Auto-completion # In writing LaTeX source code, auto-completion is crucial for fast editing and improves our efficiency dramatically. Vimtex supports completion for citations, labels (for figure, equation, table, section, etc.), commands, environments, packages and document classes and more. For more documentation on completion, see :h vimtex-completion.\nVimtex can work with several completion engines such as deoplete, YouCompleteMe, ncm2. Since I use deoplete for completion, I will just introduce how to configure it for deoplete1. To make vimtex work with deoplete, add the following setting to your init.vim:\n\u0026#34; This is new style call deoplete#custom#var(\u0026#39;omni\u0026#39;, \u0026#39;input_patterns\u0026#39;, { \\ \u0026#39;tex\u0026#39;: g:vimtex#re#deoplete \\}) After that, you should be able to use auto-completion.\nHow to quickly insert an environment? # Vimtex supports autocompletion through autocompletion engines such as deoplete. After configuring vimtex to use deoplete, you should be able to use the snippet provided by Ultisnips2.\nUltisnips is a snippet engine, which uses vim-snippets to provide the actual snippet for various file types. To insert an figure environment, type fig in insert mode and press Tab.\nTo insert an enumerate environment, type enum in insert mode and press Tab. The complete list of snippets provided by vim-snippets can be found here.\nHow to close an environment? # After typing \\begin{ENV}, how do we automatically close it with \\end{ENV}? With vimtex, you can press ]] in insert mode to auto-close an environment.\nUseful mappings and shortcuts # Vimtex provides the e text object to facilitate vim-surround like features for manipulating an environment quickly:\ncse: change an environment dse: delete an environment tseï¼štoggle stared environment and no-star environment, e.g., change from equation* to equation and vice versa. You can also use the standard Vim motion with this object. For example, vie will select the inside an environment, and vae will select the entire environment (including the begin and end commands).\nThere are other shortcuts provided:\n]]: close an environment (only work in insert mode, in normal mode, it will bring cursor to next subsection instead). After you have typed begin{ENV}, use ]] to auto-close it with \\end{ENV} For more mappings, see :h vimtex-default-mappings.\nJumping between references and the definition # It would be nice if we can jump to the definition of a label with the native Vim shortcut Ctrl-]. You have to do several things.\nFirst, you need to install a ctags executable. See here on how to install ctags.\nSecond, you need to install a plugin to manage tags file for you. vim-gutentags is a good option. It will update the tags file automatically once the source file has been changed. To make gutentags work, you need to tell it where your project root is. The easiest way is to make your project a git repository.\nOpen the TeX source file again, the tags file should be created automatically. If the cursor is in \\ref{some_label}, you can press Ctrl + ] to go the position where some_label is defined. BTW, to jump back, you can use Ctrl-T.\nUseful command # :VimtexInfo: show all relevant info about current LaTeX project. :VimtexTocOpen: show table of contents window :VimtexTocToggle: toggle table of contents window :VimtexCompile: Compile the current LaTeX source file and opens the viewer after successful compilation. :VimtexStop: Stop compilation for the current project. :VimtexClean: clean auxiliary files generated in compliation process. Other settings # PDF previewing # Vimtex supports several PDF viewer based on the platform. On Windows, SumatraPDF is a good choice. Below is the settings needed for SumatraPDF to work as the default viewer for the compiled PDF files.\n\u0026#34; settings for sumatraPDF let g:vimtex_view_general_viewer = \u0026#39;SumatraPDF\u0026#39; let g:vimtex_view_general_options \\ = \u0026#39;-reuse-instance -forward-search @tex @line @pdf\u0026#39; let g:vimtex_view_general_options_latexmk = \u0026#39;-reuse-instance\u0026#39; After the above settings, if you use :VimtexCompile command, the compiled PDF will be opened in sumatraPDF automatically. If it does not show up, you can also use :VimtexView to open the PDF manually.\nOn Mac, you can install Skim and use it as a PDF viewer. My current settings for previewing PDF on Mac is:\nClick to see the code. \u0026#34; let g:vimtex_view_method = \u0026#34;skim\u0026#34; let g:vimtex_view_general_viewer = \u0026#39;/Applications/Skim.app/Contents/SharedSupport/displayline\u0026#39; let g:vimtex_view_general_options = \u0026#39;-r @line @pdf @tex\u0026#39; augroup vimtex_mac autocmd! autocmd User VimtexEventCompileSuccess call UpdateSkim() augroup END function! UpdateSkim() abort let l:out = b:vimtex.out() let l:src_file_path = expand(\u0026#39;%:p\u0026#39;) let l:cmd = [g:vimtex_view_general_viewer, \u0026#39;-r\u0026#39;] if !empty(system(\u0026#39;pgrep Skim\u0026#39;)) call extend(l:cmd, [\u0026#39;-g\u0026#39;]) endif call jobstart(l:cmd + [line(\u0026#39;.\u0026#39;), l:out, l:src_file_path]) endfunction Inverse search # Note the below settings are not updated anymore, see this post for a better and up-to-date config without much manual labor.\nFirst, we need to install neovim-remote:\npip install -U neovim-remote Second, we start nvim with a listen address so that nvim can listen for RPC calls.\nnvim --listen localhost:12345 test.tex The port number does not matter as long as it is not taken by other applications. If you use nvim-qt, you can use the following command instead:\nnvim-qt -- --listen localhost:12345 test.tex Now the settings will differ for the PDF viewer you use on different platforms.\nInverse search for Sumatra PDF on Windows # Open Sumatra PDF, go to Settings --\u0026gt; Options, in the bottom part, there is a section Set inverse search command-line, put the following command there:\nnvr --servername localhost:12345 +\u0026#34;%l\u0026#34; \u0026#34;%f\u0026#34; %f: it means the tex source file path corresponding to the current pdf. %l: it means the line in the original tex file. Double click somewhere in the PDF file, your cursor in nvim/nvim-qt should go to the corresponding line in the file buffer.\nInverse search for Skim on macOS # Open Skim PDF viewer, open the Preferences menu and go to Sync page. Set the part PDF-Tex Sync support, use the following settings:\nPreset: Custom Command: nvr Arguments: --servername localhost:12345 +\u0026quot;%line\u0026quot; \u0026quot;%file\u0026quot; Based on discussion here, we can also start nvim without the --listen option (nvim test.tex). When we open a tex file in nvim, we can write the nvim server address to a file and read it when running the nvr command in Skim.\nInside the Nvim config, add the following setting:\naugroup vimtex_mac autocmd! autocmd FileType tex call SetServerName() augroup END function! SetServerName() call system(\u0026#39;echo \u0026#39; . v:servername . \u0026#39; \u0026gt; /tmp/curvimserver\u0026#39;) endfunction For skim, we change the Arguments in Sync page to the following:\nArguments: --servername `cat /tmp/curvimserver` +\u0026quot;%line\u0026quot; \u0026quot;%file\u0026quot; To start inverse search, press Shift and Command key, then click the text you want to inv-search.\nLinting and syntax checking # I use neomake for syntax checking. For LaTeX source file, neomake provides several makers:\nlacheck chktex Proselint Among the makers, lacheck and chktex are installed if you have installed Tex Live. Proselint can be installed via pip:\npip install proselint Setting up table of contents # Vimtex can show a nice little table of contents window on the left side if you use command VimtexTocOpen. By default, the lables in each section is also shown, which makes the TOC clutter with texts. We can customize TOC with following settings:\n\u0026#34; TOC settings let g:vimtex_toc_config = { \\ \u0026#39;name\u0026#39; : \u0026#39;TOC\u0026#39;, \\ \u0026#39;layers\u0026#39; : [\u0026#39;content\u0026#39;, \u0026#39;todo\u0026#39;, \u0026#39;include\u0026#39;], \\ \u0026#39;resize\u0026#39; : 1, \\ \u0026#39;split_width\u0026#39; : 50, \\ \u0026#39;todo_sorted\u0026#39; : 0, \\ \u0026#39;show_help\u0026#39; : 1, \\ \u0026#39;show_numbers\u0026#39; : 1, \\ \u0026#39;mode\u0026#39; : 2, \\} For detailed meaning of the keys in the above dictionary, refer to :h g:vimtex_toc_config.\nTeX directives # If you are compiling a LaTeX source file written in non-English character, you may want to use the TeX directive to specify the compiling program. Vimtex supports two TeX directives: TeX root and TeX program. TeX program directive is useful when we want to compile the LaTeX source code with xelatex instead of pdflatex. In order to compile your LaTeX source file with xelatex, add the following directive to the first line of the source code:\n%!TeX program = xelatex References # https://yufanlu.net/2018/09/03/neovim-latex/ vimtex: Create environment with shortcut Auto-close environment in LaTeX Setting up PDF viewer for Mac. Set up inverse search https://www.sumatrapdfreader.org/docs/Use-Sumatra-as-a-pre-viewer-for-LaTeX-editors.html https://forum.sumatrapdfreader.org/t/can-not-use-the-inverse-search-with-sumatrapdf-and-sublime/1786 https://tex.stackexchange.com/q/460971/114857 https://github.com/mhinz/neovim-remote/issues/132 https://github.com/lervag/vimtex/issues/262 https://github.com/lervag/vimtex/issues/877 https://chiyosuke.blogspot.com/2019/04/neovimvimtextexlive2018tex.html How do I jump from line in Skim to the same line in my text editor? Go to label https://github.com/lervag/vimtex/issues/348 https://github.com/lervag/vimtex/issues/853 TeX directives provided by different programs. For configuring vimtex to work with other completion engines, please refer to :h vimtex-complete-auto.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee this post on how to configure Ultisnips for Neovim.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"26 March 2019","externalUrl":null,"permalink":"/2019/03/26/nvim_latex_write_preview/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-02-20: Add inverse search settings on Windows and macOS\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003ePreviously, I have written \u003ca href=\"https://jdhao.github.io/2018/03/10/sublime-text-latextools-setup/\" target=\"_blank\"\u003ea post\u003c/a\u003e\non how to write and compile LaTeX source code in Sublime Text. Now that I am\nfamiliar with Neovim, I want to do everything related to text editing inside\nNeovim. In this post, I would like to share how to configure Neovim for LaTeX\nediting and previewing.\u003c/p\u003e\n\u003cp\u003eMy complete config for vimtex can be found \u003ca href=\"https://github.com/jdhao/nvim-config/blob/master/core/plugins.vim\" target=\"_blank\"\u003ehere\u003c/a\u003e (search vimtex)\non my nvim-config repo .\u003c/p\u003e","title":"A Complete Guide on Writing LaTeX with Vimtex in Neovim","type":"posts"},{"content":"In image processing, alpha channel is usually used to control the transparency of an image. In itself, the alpha channel is just a gray level image1. In this post, I want to talk about how to add an alpha channel to RGB image and show it using the Pillow package.\nSuppose that we have the following image:\nWe can add an alpha channel to it using the Image.putalpha() method:\nfrom PIL import Image im = Image.open(\u0026#34;owl.jpg\u0026#34;) alpha = Image.new(\u0026#34;L\u0026#34;, im.size, 50) im.putalpha(alpha) im.show() You might expect to see a new image with opaque color, right? But what shows up is nothing different from the original image? Why? Do we use the putalpha() method wrongly?\nIt turns out this has something to do with how image is shown using the show() method on different platforms. From the documentation of Image.show():\nDisplays this image. This method is mainly intended for debugging purposes. On Unix platforms, this method saves the image to a temporary PPM file, and calls either the xv utility or the display utility, depending on which one can be found. On macOS, this method saves the image to a temporary BMP file, and opens it with the native Preview application. On Windows, it saves the image to a temporary BMP file, and uses the standard BMP display utility to show it (usually Paint). So on Windows, the new image is converted to BMP format and shown using the system default image viewer. During the process of format conversion, the alpha transparency is apparently lost2. That is why you see no difference between and new image and original image.\nTo fix this issue, we can patch the Pillow code to use PNG format as default. First, we need to find the root of Pillow package:\nimport PIL print(PIL.__path__) On my system, the output is:\n[\u0026lsquo;D:\\Anaconda\\lib\\site-packages\\PIL\u0026rsquo;]\nGo to this directory and open the file ImageShow.py. I add the following code after the line register(WindowsViewer):\nclass WindowsPNGViewer(Viewer): format = \u0026#34;PNG\u0026#34; def get_command(self, file, **options): return (\u0026#39;start \u0026#34;Pillow\u0026#34; /WAIT \u0026#34;%s\u0026#34; \u0026#39; \u0026#39;\u0026amp;\u0026amp; ping -n 2 127.0.0.1 \u0026gt;NUL \u0026#39; \u0026#39;\u0026amp;\u0026amp; del /f \u0026#34;%s\u0026#34;\u0026#39; % (file, file)) register(WindowsPNGViewer, -1) After that, I can show the image with alpha channel correctly.\nReferences # Image modes in PIL Add alpha channel to image Convert RGBA image to RGB image Image with alpha channel is not displayed correctly on Windows The pixel values are in the range (0, 255), where 0 will black out the image, 255 shows the original image and value between shows opaque image.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThe BMP file format seems to support alpha channel, according to this wiki. But that is not guaranteed.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"7 March 2019","externalUrl":null,"permalink":"/2019/03/07/pillow_image_alpha_channel/","section":"Posts","summary":"\u003cp\u003eIn image processing, \u003ca href=\"https://www.makeuseof.com/tag/alpha-channel-images-mean/\" target=\"_blank\"\u003ealpha channel\u003c/a\u003e is usually used to control the transparency of an image.\nIn itself, the alpha channel is just a gray level image\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\nIn this post, I want to talk about how to add an alpha channel to RGB image and show it using the Pillow package.\u003c/p\u003e","title":"Manipulating Images with Alpha Channels in Pillow","type":"posts"},{"content":" A cheat sheet about regular expressions used in Sublime Text.\nSpecial characters # expression Description . Match any character ^ Match line begin $ Match line end * Match previous RE 0 or more times greedily *? Match previous RE 0 or more times non-greedily + Match previous RE 1 or more times greedily +? Match previous RE 1 or more times non-greedily ? Match previous RE 0 or 1 time greedily ?? Match previous RE 0 or 1 time non-greedily A|B Match either RE A or B {m} Match previous RE exactly m times {m,n} Match previous RE m to n times greedily {m, n}? Match previous RE m to n times, non-greedily Character set # expression Description [abc] Match either a, b or c [^abc] Match any character not in this set (i.e., not a, b and c) [a-z] Match the range from a to z [a-f2-8] Match the range from a to f or the range from 2 to 8 [a\\-z] Match a, - or z [a-] Match a, - [-a] Match -, a [{}*|()[]+\\^$.?] Match either one of the chacters in []{}*|()+^$?. Note that you can also use character class inside [], for example, [\\w] matches any character in word character class. Character class # \u0026ldquo;Multiple character\u0026rdquo; character class # An expression of the form [[:name:]] matches the named character class name.\nclass name Description alnum Any alpha-numeric character alpha Any alphabetic character. digit Any decimal digit. xdigit Any hexadecimal digit character. lower Any lower case character. upper Any upper case character. cntrl Any control character1. print Any printable character. punct Any punctuation character. 2 space Any whitespace character. 3 word Any word character (alphanumeric characters plus the underscore). Note: To use upper and lower, you have to enable case sensitve search.\n\u0026ldquo;Single character\u0026rdquo; character class # class name Description \\d Equal to [[:digit:]] \\l Equal to [[:lower:]] \\u Equal to [[:upper:]] \\s Equal to [[:space:]] \\w Equal to [[:word:]] \\D Equal to [^[:digit:]] \\L Equal to [^[:lower:]] \\U Equal to [^[:upper:]] \\W Equal to [^[:word:]] Regex groups # Defining capture groups # expression Description (?\u0026lt;NAME\u0026gt;pattern) Define a regex group named NAME which you can later refer to with \\g{NAME} (?=pattern) Positive lookahead, consumes zero characters, the preceding RE only matches if this matches (?!pattern) Negative lookahead, consumes zero characters, the preceding RE only matches if this does not match (?\u0026lt;=pattern) Positive lookbehind, consumes zero characters, the following RE will only match if preceded with this fixed length RE. (?\u0026lt;!pattern) Negative lookbehind, consumes zero characters, the following RE will only match if not preceded with this fixed length RE. Refering to matching groups (capture groups) # expression Description \\1 Refer to first regex group \\g{1} Refer to first regex group \\g{12} Refer to 12th regex group \\g{-1} Refer to last regex group \\g{-2} Refer to last but one regex group The regex groups are indexed by the order of their opening braces. Note the \\g{NUM} form allows for matching regex group index larger than 9, for example, \\g{12}. Miscellaneous # Escapes # class name Description \\xdd A hexadecimal escape sequence - matches the single character whose code point is 0xdd. \\x{dddd} A hexadecimal escape sequence - matches the single character whose code point is 0xdddd. Word boundaries # The following escape sequences match the boundaries of words:\nclass name Description \\\u0026lt; Matches the start of a word. \\\u0026gt; Matches the end of a word. \\b Matches a word boundary (the start or end of a word). \\B Matches only when not at a word boundary. References # https://www.boost.org/doc/libs/1_44_0/libs/regex/doc/html/boost_regex/syntax/perl_syntax.html http://docs.sublimetext.info/en/latest/search_and_replace/search_and_replace_overview.html https://github.com/stajahlee/sublime-cheat-sheets/blob/master/cheat-sheets/Regular%20Expressions.cheatsheet Character class The title image is taken from here.\nControl character explanation: https://en.wikipedia.org/wiki/Control_character\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThere are 14 punctuation marks in English: https://grammar.yourdictionary.com/punctuation/what/fourteen-punctuation-marks.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor whitespace characters, see https://en.wikipedia.org/wiki/Whitespace_character\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"28 February 2019","externalUrl":null,"permalink":"/2019/02/28/sublime_text_regex_cheat_sheet/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190304221654.png\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eA cheat sheet about regular expressions used in \u003ca href=\"https://www.sublimetext.com/\" target=\"_blank\"\u003eSublime Text\u003c/a\u003e.\u003c/p\u003e","title":"Sublime Text Regular Expression Cheat Sheet","type":"posts"},{"content":"In computer vision tasks, we need to crop a rotated rectangle from the original image sometimes, for example, to crop a rotated text box. In this post, I would like to introduce how to do this in OpenCV.\nIf you search on the internet about cropping rotated rectangle, there are several answers in the Stack Overflow which suggest using minAreaRect() to find the minimum bounding rectangle, rotating the original image and finally cropping the rectangle from the image. You can find these questions here and here. While some of the answers work, they only work in certain conditions. But if the rotated rectangle is near the edge of the original image, some part of the cropped rectangle is cut out in the output.\nThe imperfect way # Take the following image with rotated text as an example,\nThe corner points1 are (in top left, top right, bottom right, bottom left order):\n[64, 49], [122, 11], [391, 326], [308, 373] If you crop the rectangle using the following script (based on this answer):\nClick to see the code. import cv2 import numpy as np def main(): img = cv2.imread(\u0026#34;big_vertical_text.jpg\u0026#34;) cnt = np.array([ [[64, 49]], [[122, 11]], [[391, 326]], [[308, 373]] ]) # find the exact rectangle enclosing the text area # rect is a tuple consisting of 3 elements: the first element is the center # of the rectangle, the second element is the width, height, and the # third element is the detected rotation angle. # Example output: ((227.5, 187.50003051757812), # (94.57575225830078, 417.98736572265625), -36.982906341552734) rect = cv2.minAreaRect(cnt) print(\u0026#34;rect: {}\u0026#34;.format(rect)) box = cv2.boxPoints(rect) box = np.int0(box) # print(\u0026#34;bounding box: {}\u0026#34;.format(box)) cv2.drawContours(img, [box], 0, (0, 0, 255), 2) # img_crop will the cropped rectangle, img_rot is the rotated image img_crop, img_rot = crop_rect(img, rect) cv2.imwrite(\u0026#34;cropped_img.jpg\u0026#34;, img_crop) cv2.waitKey(0) def crop_rect(img, rect): # get the parameter of the small rectangle center, size, angle = rect[0], rect[1], rect[2] center, size = tuple(map(int, center)), tuple(map(int, size)) # get row and col num in img height, width = img.shape[0], img.shape[1] # calculate the rotation matrix M = cv2.getRotationMatrix2D(center, angle, 1) # rotate the original image img_rot = cv2.warpAffine(img, M, (width, height)) # now rotated rectangle becomes vertical, and we crop it img_crop = cv2.getRectSubPix(img_rot, size, center) return img_crop, img_rot if __name__ == \u0026#34;__main__\u0026#34;: main() In the above code, we first find the rectangle enclosing the text area based on the four points we provide using the cv2.minAreaRect() method. Then in function crop_rect(), we calculate a rotation matrix and rotate the original image around the rectangle center to straighten the rotated rectangle. Finally, the rectangle text area is cropped from the rotated image using cv2.getRectSubPix method.\nThe original, rotated and cropped image are shown below:\nWe can see clearly that some parts of the text are cut out in the final result. Of course, you can pad the image beforehand, and crop the rectangle2 from the padded image, which will prevent the cutting-out effect.\nThe better way # Is there a better way? Yes!\nIn the above code, when we want to draw the rectangle area in the image, we use cv2.boxPoints() method to get the four corner points of the real rectangle. We also know the width and height of rectangle from rect. Then we can directly warp the rectangle from the image using cv2.warpPerspective() function. The following script shows an example:\nClick to see the code. import cv2 import numpy as np def main(): img = cv2.imread(\u0026#34;big_vertical_text.jpg\u0026#34;) # points for test.jpg cnt = np.array([ [[64, 49]], [[122, 11]], [[391, 326]], [[308, 373]] ]) print(\u0026#34;shape of cnt: {}\u0026#34;.format(cnt.shape)) rect = cv2.minAreaRect(cnt) print(\u0026#34;rect: {}\u0026#34;.format(rect)) # the order of the box points: bottom left, top left, top right, # bottom right box = cv2.boxPoints(rect) box = np.int0(box) print(\u0026#34;bounding box: {}\u0026#34;.format(box)) cv2.drawContours(img, [box], 0, (0, 0, 255), 2) # get width and height of the detected rectangle width = int(rect[1][0]) height = int(rect[1][1]) src_pts = box.astype(\u0026#34;float32\u0026#34;) # coordinate of the points in box points after the rectangle has been # straightened dst_pts = np.array([[0, height-1], [0, 0], [width-1, 0], [width-1, height-1]], dtype=\u0026#34;float32\u0026#34;) # the perspective transformation matrix M = cv2.getPerspectiveTransform(src_pts, dst_pts) # directly warp the rotated rectangle to get the straightened rectangle warped = cv2.warpPerspective(img, M, (width, height)) # cv2.imwrite(\u0026#34;crop_img.jpg\u0026#34;, warped) cv2.waitKey(0) if __name__ == \u0026#34;__main__\u0026#34;: main() Now the cropped rectangle becomes\nIf you check carefully, you will notice that there are some black area in the cropped image. That is because a small part of the detected rectangle is out of the bound of the image. To remedy this, you may pad the image a bit and do the crop after that. An example is given here (By me :)).\nAbout the angle of the return rectangle # The last element of the returned rect is the detected angle of the rectangle. But it has confused a lot of people, for example, see here and here.\nThis angle is in the range $[-90, 0)$. After much experiment, I have found that the relationship between the rectangle orientation and output angle of minAreaRect(). It can be summarized in the following image\nThe following description assume that we have a rectangle with unequal height and width length, i.e., it is not square.\nIf the rectangle lies vertically (width \u0026lt; height), then the detected angle is -90. If the rectangle lies horizontally, then the detected angle is also -90 degree.\nIf the top part of the rectangle is in first quadrant, then the detected angle decreases as the rectangle rotate from horizontal to vertical position, until the detected angle becomes -90 degrees. In first quadrant, the width of detected rectangle is longer than its height.\nIf the top part of the detected rectangle is in second quadrant, then the angle decreases as the rectangle rotate from vertical to horizontal position. But there is a difference between second and first quadrant. If the rectangle approaches vertical position but has not been in vertical position, its angle approaches 0. If the rectangle approaches horizontal position but has not been in horizontal position, its angle approaches -90 degrees.\nThis post here is also good at explaining this.\nConclusion # In this post, I compared the two methods to crop the rotated rectangle from the image and also explained the meaning of angle returned by cv2.minAreaRect() method. Overall, I like the second method since it does not require rotating the image and can deal with this problem more elegantly with less code.\nReferences # https://docs.opencv.org/3.1.0/dd/d49/tutorial_py_contour_features.html rotation angle OpenCV\u0026rsquo;s RotatedRect angle does not provide enough information. MinAreaRect angles - Unsure about the angle returned https://namkeenman.wordpress.com/2015/12/18/open-cv-determine-angle-of-rotatedrect-minarearect/ We only need to provide roughly the 4 corner points of the rectangle. Then we can use OpenCV to find the exact the rectangle enclosing the rectangle text area.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nYou need to re-calculate the corner points of the rectangle after padding the original image.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"23 February 2019","externalUrl":null,"permalink":"/2019/02/23/crop_rotated_rectangle_opencv/","section":"Posts","summary":"\u003cp\u003eIn computer vision tasks, we need to crop a rotated rectangle from the original\nimage sometimes, for example, to crop a rotated text box. In this post, I would\nlike to introduce how to do this in OpenCV.\u003c/p\u003e","title":"Cropping Rotated Rectangles from Image with OpenCV","type":"posts"},{"content":"In my previous post, I have introduced how to build Zsh from source and install oh-my-zsh to enhance your terminal experience. In this post, I\u0026rsquo;d like to show you how to manage plugins with zplug and a few more plugins to boost your productivity.\nPlugin management with zplug # Oh-my-zsh has a lot of built-in plugins and works great. But there are also a lot of plugins which are not packaged with oh-my-zsh. You can manually add a plugin foo to the oh-my-zsh custom folder and activate it in .zshrc like the following:\nplugins=( [...other plugins...] foo ) The above method works but becomes tedious once you need to install several external plugins. This is when plugin manager comes to help.\nJust like what you see in Vim, several competing plugin managers are out there for Zsh users, such as antigen, zplug, antibody, zgen1. I decided to use zplug for its boasted speed and its versatility.\nIt is very easy to install:\ncurl -sL --proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh | zsh Then add the following backbone setting for zplug in .zshrc:\n# the backbone of zplug source ~/.zplug/init.zsh # plugins installation goes below zplug load --verbose All the plugin installation settings should be put inside the backbone code. After adding a plugin, do not forget to source .zshrc. To install plugins, use command zplug install on the command line. Please consult the zplug doc for more usage.\nRecommended plugins # Below I will introduce several plugins and themes I find useful.\nAuto suggestions # Plugin zsh-autosuggestions will suggest you the command you want to use based on your command history, making it quicker to execute your frequent command.\nInstall it with zplug:\n# command auto-suggestion based on history zplug \u0026#34;zsh-users/zsh-autosuggestions\u0026#34; Faster directory navigation # z.lua is plugin which makes directory navigation faster. Install it with zplug:\nzplug \u0026#34;skywind3000/z.lua\u0026#34; For its settings and usage, see here.\nVim mode # In zsh, we can use the vi mode for faster command editing. Vi is activated by following command:\nbindkey -v To go to NORMAL mode, press ESC. Basic vi motion and change oprations are provided for you to manipulate the command. Unfortunately, there is no visual indication which mode you are in, making it hard to use the vi mode.\nThe plugin zsh-vim-mode solves this issue by adding the mode indicator in the RPS12. It also adds a few enhanced functions to tweak the vim mode.\nFirst, install it with zplug:\n# enhanced zsh vim mode zplug \u0026#34;softmoth/zsh-vim-mode\u0026#34; You can customize the cursor shape with this plugin, for example:\nMODE_CURSOR_VICMD=\u0026#34;green block\u0026#34; MODE_CURSOR_VIINS=\u0026#34;#20d08a blinking bar\u0026#34; MODE_CURSOR_SEARCH=\u0026#34;#ff00ff blinking underline\u0026#34; To add the current mode indicator on the right prompt, add the following the setting:\nMODE_INDICATOR_VIINS=\u0026#39;%F{15}\u0026lt;%F{8}INSERT\u0026lt;%f\u0026#39; MODE_INDICATOR_VICMD=\u0026#39;%F{10}\u0026lt;%F{2}NORMAL\u0026lt;%f\u0026#39; MODE_INDICATOR_REPLACE=\u0026#39;%F{9}\u0026lt;%F{1}REPLACE\u0026lt;%f\u0026#39; MODE_INDICATOR_SEARCH=\u0026#39;%F{13}\u0026lt;%F{5}SEARCH\u0026lt;%f\u0026#39; MODE_INDICATOR_VISUAL=\u0026#39;%F{12}\u0026lt;%F{4}VISUAL\u0026lt;%f\u0026#39; MODE_INDICATOR_VLINE=\u0026#39;%F{12}\u0026lt;%F{4}V-LINE\u0026lt;%f\u0026#39; The effect is shown below:\nMinor issues # It should be noted that in order to use the surround object provided by this plugin, the value of environment variable KEYTIMEOUT should not be too low.\nAnother issue with this plugin is that it changes the default behaviour of Home and End keys: pressing Home will run help for the current command and pressing End will escape the command line into normal mode. To fix this issue, you need to bindkey Home and End key specifically:\nbindkey \u0026#39;^[[H\u0026#39; beginning-of-line bindkey \u0026#39;^[[F\u0026#39; end-of-line The above settings should be put after the position where this plugin is loaded to take effect.\nSyntax highlight # The plugin fast-syntax-highlighting will highlight your command on the command line, making it easy to distinguish between different parts of the command. To install it, add the following setting:\n# defer means to load this plugin after all the other plugins zplug \u0026#34;zdharma/fast-syntax-highlighting\u0026#34;, defer:2 Conclusions # In this post, I have introduced zplug \u0026mdash; the plugin manager for Zsh and a few useful plugins. For a more comprehensive list of zsh plugins, you may find this awesome zsh list useful. As a concluding remark: you should choose plugins wisely and only install those you truly need.\nReferences # How to indicate vim mode on command line awesome zsh Zsh bindkey and keymaps Zsh parameters. More plugin managers and frameworks can be found here. Choose the one you feel is best.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThis prompt is displayed on the right-hand side of the screen when the primary prompt is being displayed on the left.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"19 February 2019","externalUrl":null,"permalink":"/2019/02/19/zsh_advanced_configuration/","section":"Posts","summary":"\u003cp\u003eIn my \u003ca href=\"https://jdhao.github.io/2018/10/13/centos_zsh_install_use/\" target=\"_blank\"\u003eprevious\npost\u003c/a\u003e, I have\nintroduced how to build Zsh from source and install\n\u003ca href=\"https://github.com/robbyrussell/oh-my-zsh\" target=\"_blank\"\u003eoh-my-zsh\u003c/a\u003e to enhance your terminal\nexperience. In this post, I\u0026rsquo;d like to show you how to manage plugins with\n\u003ca href=\"https://github.com/zplug/zplug\" target=\"_blank\"\u003ezplug\u003c/a\u003e and a few more plugins to boost your\nproductivity.\u003c/p\u003e","title":"Boosting Your Productivity on Terminal with Zsh and Plugins","type":"posts"},{"content":" æ›´æ–°æ—¥å¿— 2022-11-06: æ›´æ–°åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠä¸€äº›ä¸æ¸…æ¥šçš„åœ°æ–¹ã€‚ ä¹‹å‰ä¸€ç›´å¬è¯´è¿‡ Rime è¿™ä¸ªç¥çº§è¾“å…¥æ³•çš„å¤§åï¼Œä¸€ç›´è¿Ÿè¿Ÿæ²¡æœ‰è¯•ç”¨ï¼Œä¸€æ–¹é¢ç°æœ‰çš„å„ç§è¾“å…¥æ³•ç”¨ç€å¯ä»¥ï¼Œå¦å¤–ï¼Œå¯¹äº Rime æ²¡æœ‰ GUI ç•Œé¢çš„é…ç½®æ„Ÿè§‰å‘æ€µã€‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯ QQ è¾“å…¥æ³•ï¼Œæœ€è¿‘ä¸€æ¬¡å‡çº§ï¼Œé€ æˆ Chrome æµè§ˆå™¨é¢‘é¢‘å´©æºƒï¼Œæ˜¯å¯å¿å­°ä¸å¯å¿ï¼Œæ­£å¥½è¶æ­¤æœºä¼šå¸è½½ QQ è¾“å…¥æ³•ï¼Œè¯•è¯• Rime äº†ã€‚å…³äº Rime çš„é…ç½®ï¼Œç½‘ä¸Šèƒ½å¤Ÿæ‰¾åˆ°çš„èµ„æ–™å®åœ¨æ˜¯è¿‡äºä¸°å¯Œï¼Œä¸ºäº†ä½¿æ–‡ç« ä¸è¿‡äºå†—é•¿ï¼Œä¸€äº›ç®€å•çš„è®¾ç½®æˆ‘å°†ä¸å†é‡å¤ã€‚\nå€¼å¾—æ³¨æ„ï¼ŒRime çš„å®˜æ–¹æ–‡æ¡£å¹¶ä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œæ‰€ä»¥ç½‘ä¸Šçš„å¾ˆå¤šé…ç½®ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ï¼Œæ³¨æ„è‡ªå·±åˆ†è¾¨å’Œè¯•éªŒã€‚\nåŸºæœ¬æ¦‚å¿µ # Rime æ˜¯ä¸€æ¬¾è¾“å…¥æ³•ï¼Œä½ ä¹Ÿç†è§£å®ƒæ˜¯è¾“å…¥æ³•å†…æ ¸ã€‚åŒæ—¶é’ˆå¯¹ä¸åŒçš„å¹³å°å®ƒåˆæœ‰ä¸åŒçš„å‰ç«¯ï¼Œè¿™äº›å‰ç«¯åˆæœ‰è‡ªå·±çš„åå­—ã€‚\nWindowsï¼šweaselï¼Œä¸­æ–‡ä¹Ÿå«â€œå°ç‹¼æ¯«â€ã€‚ macOSï¼šsquirrelï¼Œä¸­æ–‡ä¹Ÿå«â€œé¼ é¡»ç®¡â€ã€‚ Linuxï¼šibus-rimeï¼Œä¸­æ–‡ä¹Ÿå«â€œä¸­å·éŸµâ€ã€‚ Androidï¼šlinkï¼Œä¸­æ–‡ä¹Ÿå«â€œåŒæ–‡è¾“å…¥æ³•â€ã€‚ è¿™æ˜¯ç”¨æˆ·åˆæ¬¡æ¥è§¦çš„æ—¶å€™ä¼šæ„Ÿè§‰å›°æƒ‘çš„åœ°æ–¹ã€‚\nRime çš„é…ç½®æ–¹å¼ä¸é…ç½®ç›®å½• # Rime æ²¡æœ‰ GUI è®¾ç½®ç•Œé¢ï¼Œå¿…éœ€é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œè®¾ç½®ï¼Œè¿™ç‚¹å’Œ Vim/Neovim ç±»ä¼¼ï¼Œå®ƒçš„é…ç½®æ–‡ä»¶ä½¿ç”¨ YAML æ ¼å¼ã€‚æ¯æ¬¡æ›´æ”¹é…ç½®æ–‡ä»¶ä»¥åï¼Œéƒ½å¿…éœ€è¦é‡æ–°éƒ¨ç½²ï¼Œæ–°çš„è®¾ç½®æ‰èƒ½ç”Ÿæ•ˆã€‚\nRime é…ç½®éƒ½æ”¾åœ¨ç”¨æˆ·é…ç½®ç›®å½•ä¸‹ï¼Œå…·ä½“ä½ç½®è§ Rime wikiã€‚\nç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹å¦‚ä½•é…ç½® # ç½‘ä¸Šçš„å¾ˆå¤šæ•™ç¨‹æ•™ç”¨æˆ·ç›´æ¥åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹çš„ build ç›®å½•ä¸‹ä¿®æ”¹ default.yaml ,è¾“å…¥æ–¹æ¡ˆ.schema.yamlï¼ˆè¿™é‡Œ è¾“å…¥æ–¹æ¡ˆ åªæ˜¯æŸç§å…·ä½“æ–¹æ¡ˆçš„ä»£ç§°ï¼‰, weasel.yaml ç­‰æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸æ­£ç¡®çš„æ–¹å¼ï¼Œå› ä¸º Rime å‡çº§æ—¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢«è¦†ç›–ã€‚ æ­£ç¡®çš„æ–¹å¼æ˜¯ï¼Œåœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹å»ºç«‹ default.custom.yaml å’Œ {è¾“å…¥æ–¹æ¡ˆ}.custom.yaml ({è¾“å…¥æ–¹æ¡ˆ} ä»£è¡¨æŸç§å…·ä½“è¾“å…¥æ–¹æ¡ˆ), weasel.custom.yaml æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç›¸å½“äºæ˜¯è¡¥ä¸ï¼Œéƒ¨ç½²ä»¥åä¼šæ›´æ–°åˆ°é»˜è®¤çš„é…ç½®é‡Œé¢ã€‚å®šåˆ¶æŒ‡å—é‡Œé¢ä¹Ÿæœ‰æ˜ç¡®æåˆ°ã€‚\nä¸»é¢˜ä½¿ç”¨ä»¥åŠæ·»åŠ æ–°çš„é¢œè‰²ä¸»é¢˜ # Rime ä¸­ï¼Œè¾“å…¥æ³•çš„æ˜¾ç¤ºæ•ˆæœç§°ä¸ºã€Œé¢œè‰²ä¸»é¢˜ã€(color scheme)ï¼Œå®ƒå·²ç»é»˜è®¤å¸¦äº†ä¸€äº›ä¸»é¢˜ï¼Œé»˜è®¤çš„ä¸»é¢˜åœ¨ è¿™é‡Œå¯ä»¥æ‰¾åˆ°ã€‚è¦ä½¿ç”¨é»˜è®¤çš„ä¸»é¢˜ï¼Œä¾‹å¦‚ä½¿ç”¨ lost_templeï¼Œåªè¦åœ¨å¹³å°é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ macï¼Œå°±æ˜¯ squirrle.custom.yaml) ä¸­æ·»åŠ ä¸‹é¢çš„é…ç½®ï¼š\npatch: \u0026#34;style/color_scheme\u0026#34;: lost_temple åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ä¸»é¢˜ï¼Œå¦‚ä½•æ·»åŠ åˆ° Rime ä¸­ä½¿ç”¨å‘¢ï¼Ÿä»¥ Windows å¹³å°ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬è¦åŠ å…¥è¿™é‡Œæä¾›çš„ã€Œä¸¹é’ã€ä¸»é¢˜ï¼Œåœ¨ç³»ç»Ÿ custom è®¾ç½®æ–‡ä»¶ (å³ weasel.custom.yaml) ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®å³å¯ï¼š\n\u0026#34;preset_color_schemes/tantsing\u0026#34;: # åœ¨é…è‰²æ–¹æ¡ˆåˆ—è¡¨è£åŠ å…¥æ¨™è­˜çˆ² tantsing çš„æ–°æ–¹æ¡ˆ author: Mijiag back_color: 0xE3E3E3 border_color: 0x000000 candidate_text_color: 0x000000 comment_text_color: 0x474747 hilited_back_color: 0x1A0791 hilited_candidate_back_color: 0x6F0B73 hilited_candidate_text_color: 0xE3E3E3 hilited_text_color: 0xE3E3E3 name: \u0026#34;ä¸¹é’ï¼Tantsing\u0026#34; text_color: 0x000000 å¼•ç”¨è¯¥ä¸»é¢˜çš„æ—¶å€™ï¼Œä½¿ç”¨åå­— tantsingï¼Œ\n\u0026#34;style/color_scheme\u0026#34;: tantsing æ•ˆæœå¦‚ä¸‹ï¼š\nå¦‚æœè¦è‡ªå·±åˆ¶ä½œ Rime ä¸»é¢˜ï¼Œã€ŒRime è¥¿ç±³ã€æ˜¯ä¸€æ¬¾ç½‘é¡µç«¯å·¥å…·ï¼Œå¯ä»¥è¾…åŠ©åˆ¶ä½œï¼Œå®æ—¶æ¸²æŸ“é¢œè‰²ï¼Œä¾¿äºæŸ¥çœ‹æœ€ç»ˆæ˜¾ç¤ºæ•ˆæœã€‚è¿™é‡Œæœ‰ä¸€äº›é¢„å®šä¹‰çš„ä¸»é¢˜å¯ä¾›ä½¿ç”¨ã€‚\nç¬¦å·è‡ªå®šä¹‰ # é¦–å…ˆä» Rime å®‰è£…æ ¹ç›®å½•ä¸‹çš„ data å­ç›®å½•æ‹·è´ symbols.yaml æ–‡ä»¶åˆ° Rime ç”¨æˆ·ç›®å½•1ï¼ˆå®‰è£… Rime ä»¥åï¼Œæˆ‘çš„ç”¨æˆ·ç›®å½•å¹¶æ²¡æœ‰åƒç½‘ä¸Šæ•™ç¨‹æ‰€è¯´çš„åŒ…å« symbols.yamlæ–‡ä»¶ï¼‰ï¼Œå¹¶ä¸”æŠŠè¯¥æ–‡ä»¶é‡å‘½åä¸º symbols.custom.yamlã€‚\nç„¶åä»¿ç…§é‡Œé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„ç¬¦å·äº†ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æˆ‘å¢åŠ çš„ä¸€äº›ç¬¦å·ï¼š\n# ä¸ªäººå¸¸ç”¨ä¿¡æ¯ \u0026#39;/gr\u0026#39;: [jdhao@hotmail.com, 132******68, jdhao] # å¿«é€Ÿè¾“å…¥å‹¾å’Œå‰ \u0026#39;/gc\u0026#39;: [âœ“, ğŸ—¹, âœ—, â˜’] ç„¶åï¼Œåœ¨æ–°å»ºçš„ luna_pinyin_simp.custom.yaml (luna_pinyin_simp æ˜¯æ²§æœˆç®€ä½“è¾“å…¥æ–¹æ¡ˆçš„ä»£å·)é‡Œé¢ï¼ŒåŠ å…¥ä¸‹é¢çš„è®¾ç½®å³å¯ï¼š\npatch: # å¼•ç”¨ `symbols.custom` æ–‡ä»¶é‡Œé¢çš„ç¬¦å· \u0026#39;punctuator/import_preset\u0026#39;: symbols.custom \u0026#39;recognizer/patterns/punct\u0026#39;: \u0026#34;^/([a-z]+|[0-9])$\u0026#34; ç„¶ååœ¨ä¸­æ–‡æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ /gcï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºè‡ªå®šä¹‰çš„ç¬¦å·ï¼Œè¾“å…¥å¯¹åº”çš„æ•°å­—ï¼Œç¬¦å·å°±ä¼šä¸Šå±ã€‚\nè¾“å…¥ç›´è§’å¼•å· # æœ‰çš„äººå–œæ¬¢åœ¨å†™ä½œçš„æ—¶å€™ä½¿ç”¨ç›´è§’å¼•å·ï¼šã€Œã€å’Œã€ã€ï¼ŒRime åœ¨ symbols.yaml é‡Œé¢ï¼Œå·²ç»æä¾›äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¸è¿‡æ˜¯åœ¨ [ å’Œ ] æŒ‰é”®ä¸Šæä¾›çš„ï¼Œä¸­æ–‡è¾“å…¥æ³•çŠ¶æ€ä¸‹ï¼ŒæŒ‰ä¸‹[ (])ï¼Œè¿”å›çš„ç»“æœä¸­åŒ…å« ã€Œ (ã€)ï¼Œå¦‚æœæŒ‰ä½ Shift é”®ï¼ŒæŒ‰ä¸‹ [ (])ï¼Œè¿”å›çš„ç»“æœä¸­åŒ…å« ã€ (ã€)ã€‚\nä½†æ˜¯å› ä¸ºè¿™æ¯•ç«Ÿæ˜¯å¼•å·ï¼Œæœ€å¥½æ˜¯æŒ‰ä¸‹å¼•å·çš„æ—¶å€™ï¼Œèƒ½å¤Ÿè¾“å‡ºç›´è§’å¼•å·ï¼Œåœ¨symbols.custom.yaml ä¸­ï¼Œæ‰¾åˆ° punctuator éƒ¨åˆ†ä¸‹çš„ hafl_shape (åŠè§’çš„æ„æ€)ä¸‹é¢ï¼Œ\næŠŠä¸‹é¢çš„æ˜ å°„\n\u0026#39;\u0026#39;\u0026#39;\u0026#39; : { pair: [ \u0026#39;â€˜\u0026#39;, \u0026#39;â€™\u0026#39; ] } \u0026#39;\u0026#34;\u0026#39; : { pair: [ \u0026#39;â€œ\u0026#39;, \u0026#39;â€\u0026#39; ] } æ”¹æˆ\n\u0026#39;\u0026#39;\u0026#39;\u0026#39; : { pair: [ \u0026#39;ã€\u0026#39;, \u0026#39;ã€\u0026#39; ] } \u0026#39;\u0026#34;\u0026#39; : { pair: [ \u0026#39;ã€Œ\u0026#39;, \u0026#39;ã€\u0026#39; ] } è¿™æ ·å°±å¯ä»¥ç›´æ¥è¾“å…¥ç›´è§’å¼•å·äº†ï¼Œå¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯åæ–‡å°†è¦æåˆ°çš„åœ¨è¯å…¸ä¸­æ·»åŠ ç›´è§’å¼•å·æ˜ å°„ã€‚\nç»™æ²§æœˆç®€ä½“å¢åŠ è¯å…¸ # åœ¨è¿™é‡Œå¯ä»¥ä¸‹è½½ç”¨äºæ²§æœˆæ‹¼éŸ³æ–¹æ¡ˆçš„è¯åº“ï¼Œåªä¸‹è½½ä¸‹é¢å‡ ä¸ªæ–‡ä»¶å³å¯ï¼š\nluna_pinyin.cn_en.dict.yaml luna_pinyin.extended.dict.yaml luna_pinyin.hanyu.dict.yaml luna_pinyin.poetry.dict.yaml è¿™å‡ ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€äº›è¯å…¸æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä»¿ç…§è¿™äº›è¯å…¸æ–‡ä»¶å»ºç«‹è‡ªå·±é¢å¤–çš„è¯å…¸ï¼Œå¢åŠ è‡ªå·±çš„è¯æ±‡ã€‚ä¾‹å¦‚ï¼Œå»ºç«‹åä¸º jdhao.dict.yaml çš„æ–‡ä»¶ï¼Œç„¶åæ·»åŠ å‡ ä¸ªè‡ªå·±å¸¸ç”¨çš„è¯æ±‡ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n# jdhao.dict.yaml æ–‡ä»¶å†…å®¹ name: jdhao version: \u0026#34;2019-02-16\u0026#34; sort: by_weight use_preset_vocabulary: true import_tables: - luna_pinyin - luna_pinyin.extended - luna_pinyin.hanyu - luna_pinyin.poetry - luna_pinyin.cn_en ... GitHub\tgithub\t100 Stack Overflow\tso\t1000 ä¸Šè¿°æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ import_tables æŠŠåˆšæ‰ä¸‹è½½çš„æ‰€æœ‰è¯å…¸è¿˜æœ‰ luna æœ¬èº«çš„è¯å…¸éƒ½ç»™åŒ…å«è¿›æ¥äº†ï¼Œç„¶ååœ¨ä¸‹é¢å†åŠ ä¸Šæˆ‘ä»¬è‡ªå·±å»ºç«‹çš„è¯æ±‡ã€‚\nè¯å…¸çš„æ ¼å¼ # è¯å…¸çš„æ ¼å¼ä¸º: è¯æ±‡\u0026lt;Tab\u0026gt;ç¼–ç \u0026lt;Tab\u0026gt;è¯é¢‘ï¼Œå„ä¸ªé¡¹ç›®ä¹‹é—´å¿…é¡»ç”¨ Tabï¼ˆä¹Ÿå°±æ˜¯åˆ¶è¡¨ç¬¦ï¼‰åˆ†å‰²ï¼Œåˆšå¼€å§‹æˆ‘ä¸çŸ¥é“ï¼Œç»“æœä½¿ç”¨äº†ç©ºæ ¼ï¼Œè‡ªå·±æ·»åŠ çš„è¯æ±‡æ€»æ˜¯ä¸æˆåŠŸï¼Œéœ€è¦æ³¨æ„ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ Sublime Text æ¥ç¼–è¾‘è¿™ä¸ª YAML æ–‡ä»¶ä¸€å®šè¦æ³¨æ„ä¸è¦å¼€å¯translate_tabs_to_spaces é€‰é¡¹ã€‚è¯é¢‘éƒ¨åˆ†å¯ä»¥ä¸è¦ã€‚\nä¸€åˆ‡æ·»åŠ å¦¥å½“ä¹‹åï¼Œé‡æ–°éƒ¨ç½²ã€‚ç„¶åè¯•ç€è¾“å…¥ï¼Œupï¼Œå€™é€‰åˆ—è¡¨ä¼šå‡ºç° Uç›˜ï¼Œè¾“å…¥ yizhanghongï¼Œå‡ºç° ä¸€ä¸ˆçº¢ï¼Œè¯´æ˜è¯æ±‡å·²ç»æ·»åŠ æˆåŠŸäº†ï¼\nç›´è§’å¼•å· # å‰é¢æåˆ°äº†ä¿®æ”¹è‡ªå¸¦çš„å¼•å·æ˜ å°„æ¥è¾“å…¥ç›´è§’å¼•å·çš„æ–¹å¼ï¼Œä½†æ˜¯ä¿®æ”¹ä»¥åï¼Œå¦‚æœæƒ³è¦è¾“å…¥ä¸­æ–‡çš„å•å¼•å·ï¼ŒåŒå¼•å·å°±ä¸å¤ªæ–¹ä¾¿äº†ã€‚åˆ©ç”¨è¯å…¸çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¾“å…¥ç›´è§’å¼•å·ï¼Œåœ¨jdhao.dict.yaml ä¸­åŠ å…¥ä¸‹é¢çš„æ˜ å°„å³å¯ï¼š\nã€Œã€\tsyh\t1000 ã€ã€\tdyh\t1000 æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º\nå®‰è£…å¹¶å¯ç”¨å°é¹¤åŒæ‹¼ # æœ€æ–°ç‰ˆ weasel å¹¶ä¸å¸¦æœ‰å°é¹¤åŒæ‹¼è¾“å…¥æ–¹æ¡ˆï¼Œéœ€è¦è‡ªå·±ä¸‹è½½ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\nå³é”®ä»»åŠ¡æ å°ç‹¼æ¯«çš„å›¾æ ‡ï¼Œæ‰“å¼€èœå•ï¼Œé€‰æ‹©ã€Œè¾“å…¥æ³•è®¾å®šã€ï¼Œè¿›å…¥è¾“å…¥æ³•é€‰æ‹©ç•Œé¢ï¼š ç„¶åç‚¹å‡»ã€Œè·å–æ›´å¤šè¾“å…¥æ–¹æ¡ˆã€ï¼Œä¼šæ‰“å¼€ä¸€ä¸ª Cmd çª—å£,å†…å®¹å¦‚ä¸‹ï¼š\nRime package installer Working directory: d:\\Program Files (x86)\\Rime\\weasel-0.13.0 Package installer directory: d:\\Program Files (x86)\\Rime\\weasel-0.13.0\\ Download cache directory: C:\\Users\\ADMINI~1\\AppData\\Local\\Temp Rime user directory: C:\\Users\\Administrator\\AppData\\Roaming\\Rime Enter package name, URL, user/repo or downloaded ZIP to install: è¾“å…¥è¦ä¸‹è½½çš„è¾“å…¥æ³•æ–¹æ¡ˆå³å¯ï¼ŒåŒæ‹¼æ–¹æ¡ˆåœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°ï¼Œåç§°ä¸º double-pinyinï¼Œåœ¨ä¸Šé¢çš„å¯¹è¯æ¡†è¾“å…¥ä»¥åå°±å¯ä»¥ä¸‹è½½ Rime æä¾›çš„åŒæ‹¼æ–¹æ¡ˆã€‚ ç„¶ååœ¨ä¸Šå›¾çš„è¾“å…¥æ–¹æ¡ˆé€‰æ‹©ç•Œé¢ï¼Œé€‰æ‹©è¦å¯ç”¨çš„è¾“å…¥æ–¹æ¡ˆã€‚åœ¨è¾“å…¥æ±‰å­—çš„ç•Œé¢ï¼ŒæŒ‰ F4 é€‰æ‹©å°é¹¤åŒæ‹¼ï¼Œå³å¯å¯ç”¨ã€‚\nå®‰è£…è¡¨æƒ… emoji # Rime æä¾›äº†å¾ˆå¤šè¡¨æƒ…ï¼Œåœ°å€åœ¨ è¿™é‡Œï¼Œä½†æ˜¯å¯¹å¦‚ä½•å®‰è£…è¿™äº›è¡¨æƒ…å´æœ‰ç‚¹è¯­ç„‰ä¸è¯¦ã€‚\nRime æœ€æ–°ç‰ˆæä¾›äº† ä¸œæ–¹ç ´ æ¥å®‰è£…è¾“å…¥æ–¹æ¡ˆï¼Œè¿™é‡Œ ä¹Ÿç»™å‡ºäº† Windows ç³»ç»Ÿä¸Šä½¿ç”¨çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸‹è½½å®‰è£…ä»¥åï¼Œåœ¨ Cmd ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£… emojiï¼Œ\nrime-install emoji æˆ–è€…ä½¿ç”¨\nrime-install.bat emoji éƒ½ä¼šè¾“å‡ºä¸‹é¢çš„é”™è¯¯ä¿¡æ¯ï¼š\nRime package installer Working directory: C:\\Users\\Administrator\\AppData\\Roaming\\plum Package installer directory: C:\\Users\\Administrator\\AppData\\Roaming\\plum\\ Download cache directory: C:\\Users\\ADMINI~1\\AppData\\Local\\Temp Rime user directory: C:\\Users\\Administrator\\AppData\\Roaming\\Rime rime-install: line 2: $\u0026#39;\\r\u0026#39;: command not found rime-install: line 53: syntax error near unexpected token `$\u0026#39;do\\r\u0026#39;\u0026#39; \u0026#39;ime-install: line 53: `for target in \u0026#34;${targets[@]}\u0026#34;; do è¿™ä¸ªè„šæœ¬åœ¨ cmd ä¸Šè¿è¡Œä¸äº†ã€‚å¿…é¡»ä½¿ç”¨ bash ç¯å¢ƒæ‰èƒ½è¿è¡Œï¼Œå¯ä»¥å®‰è£… git for Windowsã€‚\nå®‰è£…ä»¥åï¼Œcd åˆ°åˆšæ‰å®‰è£… plum æ‰€åœ¨çš„ç›®å½•ï¼Œé¦–å…ˆè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… emojiï¼Œ\nbash rime-install emoji ç„¶åï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç»™è¾“å…¥æ–¹æ¡ˆæ‰“ patchï¼Œæˆ‘ä½¿ç”¨çš„è¾“å…¥æ–¹æ¡ˆæ˜¯ luna_pinyin_simpï¼Œæ‰€ä»¥å‚è€ƒ è¿™é‡Œ çš„å‘½ä»¤ï¼š\nbash rime-install emoji:customize:schema=luna_pinyin_simp è¿™æ ·æ‰ä¼š patch æˆåŠŸï¼Œè¿™æ—¶ï¼Œä½äº %appdata%/rime ç›®å½•ä¸‹çš„luna_pinyin_simp.custom.yaml æ–‡ä»¶ä¸­ä¼šå¢åŠ ä»¥ä¸‹é…ç½®ï¼š\n__patch: # Rx: emoji:customize:schema=luna_pinyin_simp { - patch/+: __include: emoji_suggestion:/patch # } ç„¶åé‡æ–°éƒ¨ç½²ï¼Œemoji æ·»åŠ æˆåŠŸäº†ï¼\næ²§æœˆç®€ä½“é»˜è®¤è¾“å‡ºè‹±æ–‡ # å¦‚æœç»å¸¸å’Œè‹±è¯­æ‰“äº¤é“ï¼Œå¶å°”è¾“å…¥æ±‰å­—ï¼Œå¯ä»¥æŠŠæ²§æœˆæ‹¼éŸ³åˆå§‹çŠ¶æ€è®¾ä¸ºè‹±è¯­ï¼Œè¿™æ ·å°±ä¸ç”¨åœ¨éœ€è¦è¾“å…¥è‹±æ–‡æ—¶åˆ‡æ¢è¾“å…¥çŠ¶æ€äº†ã€‚å‚è€ƒ è¿™é‡Œç»™å‡ºçš„è¯´æ˜ï¼Œåœ¨ luna_pinyin_simp.custom.yaml æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢çš„è®¾ç½®ï¼š\npatch: \u0026#34;switches/@0/reset\u0026#34;: 1 # åˆå§‹çš„ ascii mode è®¾ç½®ä¸ºã€Œè¥¿æ–‡ã€ ä¸€äº›å°é—®é¢˜ # å„ç§é…ç½®åˆ°åº•æ”¾åœ¨å“ªé‡Œå•Šï¼Ÿ # æœ‰çš„é…ç½®æ˜¯æŸä¸ªå¹³å°ç‹¬æœ‰çš„ï¼Œè¦æ”¾åœ¨å¹³å°ç›¸å…³çš„ï¼Œæœ‰çš„é…ç½®åªæƒ³æŸä¸ªè¾“å…¥æ–¹æ¡ˆç‹¬æœ‰ï¼Œæ”¾åœ¨æ–¹æ¡ˆçš„é…ç½®é‡Œé¢ï¼Œå¦‚æœå„ä¸ªæ–¹æ¡ˆéƒ½æƒ³è¯•ç”¨æŸä¸ªé…ç½®ï¼Œå°±æ”¾åœ¨ default.custom.yaml é‡Œé¢ï¼Œå‚è€ƒè¿™é‡Œ.\næœ‰çš„é…ç½®æ€ä¹ˆä¸ç”Ÿæ•ˆï¼Ÿ # å¾ˆæœ‰å¯èƒ½æ˜¯å¿˜è®°éƒ¨ç½²äº†ï¼Œä»»ä½•æ›´æ”¹ï¼Œéƒ½å¿…é¡»åœ¨éƒ¨ç½²ä»¥åæ‰èƒ½ç”Ÿæ•ˆã€‚å½“ç„¶ï¼Œä¹Ÿå¯èƒ½æ˜¯é…ç½®å¡«å†™çš„æ—¶å€™æ²¡æœ‰æŒ‰ç…§æ ¼å¼è§„èŒƒä¹¦å†™ï¼Œå†™é”™äº†ï¼Œè¿™æ—¶å€™éƒ¨ç½²å°±æ— æ³•ç”Ÿæ•ˆï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ log ç¡®è®¤ï¼ŒRime çš„ log æ–‡ä»¶åœ°å€ï¼š\nã€ä¸­å·éŸ»ã€‘ /tmp/rime.ibus.* ã€å°ç‹¼æ¯«ã€‘ %TEMP%\\rime.weasel.* ã€é¼ é¬šç®¡ã€‘ $TMPDIR/rime.squirrel.* é€šè¿‡æŸ¥çœ‹æœ€è¿‘çš„ log æ–‡ä»¶ï¼Œä¹Ÿè®¸èƒ½å‘ç°å…·ä½“é”™è¯¯åœ¨å“ªé‡Œã€‚\nä¸ºä»€ä¹ˆè®¾ç½®å€™é€‰è¯ç«–æ’æ˜¾ç¤ºæ— æ•ˆï¼Ÿ # å¾ˆå¤šæ•™ç¨‹ä¸­è¯´åˆ°ï¼Œåœ¨ weasel.custom.yaml é‡Œé¢ä½¿ç”¨å¦‚ä¸‹çš„è®¾ç½®ï¼Œä½¿å€™é€‰è¯ç«–æ’æ˜¾ç¤ºï¼š\npatch: \u0026#34;style/horizontal\u0026#34;: false ä½†æ˜¯éƒ¨ç½²ä»¥åï¼Œå€™é€‰è¯è¿˜æ˜¯æ¨ªæ’æ˜¾ç¤ºï¼Œè¿™æ˜¯ä¸ºä½•ï¼Ÿå¯èƒ½æ˜¯å› ä¸ºæŸäº› color_scheme æœ¬èº«æŠŠå€™é€‰è¯è®¾ä¸ºäº†æ¨ªæ’æ˜¾ç¤ºï¼Œä¸»é¢˜è®¾ç½®çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œæ‰€ä»¥ä»ç„¶æ¨ªæ’æ˜¾ç¤ºï¼Œä¾‹å¦‚ Rime é¼ é¡»ç®¡æœ‰å¤šæ¬¾ä¸»é¢˜éƒ½åœ¨ä¸»é¢˜è®¾ç½®ä¸­æŠŠå€™é€‰è¯è®¾ç½®ä¸ºæ¨ªæ’2ï¼Œå¯ä»¥æŸ¥çœ‹ä¸»é¢˜çš„é…ç½®æ¥ç¡®å®šã€‚\nå‚è€ƒ # è¿™ä¸ªä»“åº“çš„é…ç½®ä¸€ç›´åœ¨æ›´æ–°ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒï¼šhttps://github.com/ssnhd/rime æ•™ç¨‹\u0026amp;æŒ‡å— Rime ç”¨æˆ·æŒ‡å— (å®˜æ–¹æ–‡æ¡£ï¼Œéœ€è¦è®¤çœŸç ”è¯») è‡´ç¬¬ä¸€æ¬¡å®‰è£… Rime çš„ä½  https://mogeko.github.io/2018/031/ https://xinlu.ink/blog/2018/03/13/rime/ æ·»åŠ è¡¨æƒ… https://github.com/rime/rime-emoji/issues/6 https://github.com/rime/rime-emoji/issues/4 è¯å…¸ç›¸å…³ Rime é¢å¤–çš„è¯å…¸ï¼ˆé’ˆå¯¹æ²§æœˆè¾“å…¥æ–¹æ¡ˆï¼‰ å¦å¤–çš„ä¸€äº›åšå¥½çš„è¯å…¸ Rime æ·»åŠ è¯å…¸ è¾“å…¥æ³•è¯åº“è½¬æ¢ç¨‹åº GitHub ä»“åº“ Rime è¯å…¸æ ¼å¼è¯¦è§£ å¯¼å…¥è¯åº“(å†™åœ¨è´´å§é‡Œé¢ï¼Œæ ¼å¼ä¸å¥½ï¼Œçœ‹ç€è´¹åŠ²) æ’ç‰ˆ ä¸­æ–‡æ’ç‰ˆæŒ‡å—(å…³äºç›´è§’å¼•å·ä½¿ç”¨) æ’ç‰ˆï¼ˆå°‘æ•°æ´¾æ–‡ç« ï¼‰ ** é¢˜å›¾æˆªå–è‡ª Rime å®˜æ–¹ç½‘ç«™ã€‚\nåœ¨æˆ‘çš„ Windows ç³»ç»Ÿä¸Šï¼Œæ ¹ç›®å½•åœ°å€ä¸º D:\\Program Files (x86)\\Rime\\weasel-0.13.0ï¼Œç”¨æˆ·é…ç½®ç›®å½•åœ°å€ä¸º C:\\Users\\Administrator\\AppData\\Roaming\\Rimeã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nMac ä¸Šé¼ é¡»ç®¡é»˜è®¤æä¾›çš„ä¸»é¢˜å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 February 2019","externalUrl":null,"permalink":"/2019/02/18/rime_configuration_intro/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190217233344.png\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eæ›´æ–°æ—¥å¿—\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-11-06: æ›´æ–°åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠä¸€äº›ä¸æ¸…æ¥šçš„åœ°æ–¹ã€‚\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eä¹‹å‰ä¸€ç›´å¬è¯´è¿‡ \u003ca href=\"https://rime.im/\" target=\"_blank\"\u003eRime\u003c/a\u003e è¿™ä¸ªç¥çº§è¾“å…¥æ³•çš„å¤§åï¼Œä¸€ç›´è¿Ÿè¿Ÿæ²¡æœ‰è¯•ç”¨ï¼Œä¸€æ–¹é¢ç°æœ‰çš„å„ç§è¾“å…¥æ³•ç”¨ç€å¯ä»¥ï¼Œå¦å¤–ï¼Œå¯¹äº Rime æ²¡æœ‰ GUI ç•Œé¢çš„é…ç½®æ„Ÿè§‰å‘æ€µã€‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯ QQ è¾“å…¥æ³•ï¼Œæœ€è¿‘ä¸€æ¬¡å‡çº§ï¼Œé€ æˆ \u003ca href=\"https://www.v2ex.com/t/535393\" target=\"_blank\"\u003eChrome æµè§ˆå™¨é¢‘é¢‘å´©æºƒ\u003c/a\u003eï¼Œæ˜¯å¯å¿å­°ä¸å¯å¿ï¼Œæ­£å¥½è¶æ­¤æœºä¼šå¸è½½ QQ è¾“å…¥æ³•ï¼Œè¯•è¯• Rime äº†ã€‚å…³äº Rime çš„é…ç½®ï¼Œç½‘ä¸Šèƒ½å¤Ÿæ‰¾åˆ°çš„èµ„æ–™å®åœ¨æ˜¯è¿‡äºä¸°å¯Œï¼Œä¸ºäº†ä½¿æ–‡ç« ä¸è¿‡äºå†—é•¿ï¼Œä¸€äº›ç®€å•çš„è®¾ç½®æˆ‘å°†ä¸å†é‡å¤ã€‚\u003c/p\u003e\n\u003cp\u003eå€¼å¾—æ³¨æ„ï¼ŒRime çš„å®˜æ–¹æ–‡æ¡£å¹¶ä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œæ‰€ä»¥ç½‘ä¸Šçš„å¾ˆå¤šé…ç½®ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ï¼Œæ³¨æ„è‡ªå·±åˆ†è¾¨å’Œè¯•éªŒã€‚\u003c/p\u003e","title":"æœ€æ–°ç‰ˆ Rime è¾“å…¥æ³•ä½¿ç”¨ (2022 æ›´æ–°)","type":"posts"},{"content":"With the help of Windows Subsystem for Linux (WSL, for short)1, we can use the nearly full Linux environment on Windows system. In this post, I would like to share how to display images inside Ubuntu on Windows, which is one of the popular distrubtions.\nIf you try to show an image with Pillow using the following code inside WSL:\nfrom PIL import Image im = Image.open(\u0026#34;test.jpg\u0026#34;) im.show() you will find that nothing happens if you run the above code. The reason is two-fold:\nThere is no valid image viewer on your Ubuntu on Windows (Pillow will use the system default image viewer, which is Imagemagick on Linux) There is no X server by which you can use GUI applications. After knowing the reasons, the solution is simple. First, we need to install Imagemagick for Ubuntu on Windows (not on Windows 10 itself, this is important!):\nsudo apt install imagemagick Then we need to install a X server on the Windows system, which will serve your GUI applications. A good option for Windows is Vcxsrv. You can install it manually or with the help of Chocolatey:\nchoco install vcxsrv After install, run it on your system. Inside Ubuntu on Windows, you should also set the DISPALY environment variable in your .bashrc:\necho \u0026#34;export DISPLAY=localhost:0.0\u0026#34; \u0026gt;\u0026gt; ~/.bashrc \u0026amp;\u0026amp; source ~/.bashrc Run your Python code again and you should be able to see the image displayed properly on your screen.\nReferences # Image.show() can not display image Install X server and set up for WSL DISPLAY environment variable See here on how to install a Linux distribution with WSL enabled.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 February 2019","externalUrl":null,"permalink":"/2019/02/16/pillow_show_image_on_wls/","section":"Posts","summary":"\u003cp\u003eWith the help of \u003ca href=\"https://docs.microsoft.com/en-us/windows/wsl/about\" target=\"_blank\"\u003eWindows Subsystem for Linux (WSL, for\nshort)\u003c/a\u003e\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e, we can use the\n\u003cem\u003enearly full\u003c/em\u003e Linux environment on Windows system. In this post, I would like\nto share how to display images inside Ubuntu on Windows, which is one of the\npopular distrubtions.\u003c/p\u003e","title":"Display Image with Pillow inside Ubuntu on Windows","type":"posts"},{"content":"","date":"16 February 2019","externalUrl":null,"permalink":"/tags/x11/","section":"Tags","summary":"","title":"X11","type":"tags"},{"content":"","date":"14 February 2019","externalUrl":null,"permalink":"/tags/cmder/","section":"Tags","summary":"","title":"Cmder","type":"tags"},{"content":"If you work with terminals extensively, you may be tired of typing cd to go to directories, especially when directory names are very long. z.lua is such a tool to make your life easier by jumping to the desired directory smartly.\nInstall # Linux (bash) # If you are using bash shell, you need to download the plugin manually. Down and z.lua file and add the following setting to your .bashrc.\n# change /path/to/z.lua to the actual path of z.lua file eval \u0026#34;$(lua /path/to/z.lua --init bash enhanced once)\u0026#34; Linux (zsh) # If you are using zsh, you can install this plugin with antigen:\nantigen bundle skywind3000/z.lua Windows (Cmder) # z.lua requires that the lua binary is in your PATH. The easiest way to install lua binary is to install LuaDist. Just extract it to somewhere on your system and add the path the lua.exe to your system PATH.\nThen, copy file z.lua and z.cmd to $CMDERROOT/vendor folder and add $CMDERROOT/vendor to your system PATH.\nMake sure to reboot your computer after you have updated the system PATH to make the change take effect.\nHow to use # First, you need to cd to a few directories after installing z.lua to build the cd history. After that, to go a directory containing keyword foo, use the following command:\nz foo Command completion # z.lua supports command completion. To start completion, press \u0026lt;Tab\u0026gt; after the keyword, for example,\nz foo\u0026lt;Tab\u0026gt; Interactive selection # Sometimes, several directories may contain the same keywords. You can use z with -i option to start interactive path selection:\nz -i foo All directories containing foo will be listed with its index, you can then type a index to go to a specific directory.\nJump backward to parent folder # To jump backward to parent directories, use z -b command. Suppose that you are in directory ~/github/foo/bar/util, to go to foo directory, simply use the following command:\nz -b foo other settings # Other useful settings are:\nexport _ZL_MATCH_MODE=1 # enhanced matching mode export _ZL_ECHO=1 # display the path after cd export _ZL_ADD_ONCE=1 # only add path if the $PWD is changed We can also create alias for commonly-used command:\n# alias for z.lua alias zi=\u0026#34;z -i\u0026#34; # interactive selection alias zb=\u0026#34;z -b\u0026#34; # jump backward References # Install z.lua under zsh Discussion on HN ","date":"14 February 2019","externalUrl":null,"permalink":"/2019/02/14/fast_dir_navigation_zlua/","section":"Posts","summary":"\u003cp\u003eIf you work with terminals extensively, you may be tired of typing \u003ccode\u003ecd\u003c/code\u003e to go\nto directories, especially when directory names are very long.\n\u003ca href=\"https://github.com/skywind3000/z.lua\" target=\"_blank\"\u003ez.lua\u003c/a\u003e is such a tool to make your life\neasier by jumping to the desired directory \u003cem\u003esmartly\u003c/em\u003e.\u003c/p\u003e","title":"Faster Directory Navigation with z.lua","type":"posts"},{"content":"In this post, I summarize some of the advanced configurations of Cmder.\nHow to set up the default startup directory for a task? # Open Cmder settings and go to Startup --\u0026gt; Tasks and choose a task (cmd::Cmder or Cmd::Cmder as Admin, etc.). Click Startup dir... on the bottom right of the page and choose the appropriate directory. Restart Cmder and you should be able to see that Cmder start up in the given directory.\nBut, if you have set up startup directory this, cmder here feature will not any more: Cmder will always open the directory you have set up.\nAdd custom color scheme to Cmder # There is a project ConEmu-Color-Themes which provides a few color schemes for ConEmu, on which Cmder is based.\nFirst, we need to clone this project to our local machine:\ngit clone https://github.com/joonro/ConEmu-Color-Themes cd ConEmu-Color-Themes This project provides a powershell script Install-ConEmuTheme.ps1 to simplify the installation of color themes. To run this script, we need to give it execution permission:\nOpen powershell and run it as administrator Run the following command inside powershell: Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force Next, in order to avoid any errors, export your current Cmder settings to a custom directory.\nThen, run the following command in Cmder:\npowershell ./Install-ConEmuTheme.ps1 -ConfigPath /path/to/exported/setting/ConEmu.xml -Operation Add -ThemePathOrName themes\\moe-dark.xml It will add the theme moe-dark to the theme list. Be careful with the space in path. If a path has space in it, you will encounter ParameterArgumentValidationError exception. The solution is to enclose the path with single quote.\nFinally, open Cmder setting and import the new setting file from the custom directory. You should be able to see the new color schemes.\nCreating an alias in Cmder # Sometimes, we need to type a command over and over again. It is better to create a shorter alias for it. A great example is changing to directories on other drives on Windows. Due to histortical reasons, the cd command can only go to directories on the current drive by default. To go to directories on other drives, we need the /d parameters. Having to use cd /d each time is cumbersome.\nIf you expect cd to go to another directory no matter whether it is on the current drive or another drive, you can create an alias for it. Here is how to do it in Cmder:\nGo to $CMDER_ROOT/config and open the file user_aliaes.cmd Add the following to the end of the file: cd=cd /d $* Another way is to open cmder settings (Win+ Alt + P), go to Startup --\u0026gt; Environment, and add the following alias for cd:\ncd=cd /d $* Restart Cmder and you should be able to cd to any directory you want! It is a small trick, but it works great and saves your time.\nReferences # Dealing with space in powershell script parameters. Enable the execetuion of powershell script. Microsoft official doc on Set-ExecutionPolicy. doskey documentation. How to go to directory on another drive on Windows. Add custom alias in Cmder. Add custom alias in Cmder. Make alias which accept parameters. Change startup directory https://superuser.com/q/556248/736190 https://conemu.github.io/en/SettingsEnvironment.html#aliases ","date":"3 February 2019","externalUrl":null,"permalink":"/2019/02/03/cmder_advanced_configuration/","section":"Posts","summary":"\u003cp\u003eIn this post, I summarize some of the advanced configurations of\n\u003ca href=\"https://jdhao.github.io/2017/12/29/cmder-usage/\" target=\"_blank\"\u003eCmder\u003c/a\u003e.\u003c/p\u003e","title":"Cmder Advanced Configurations","type":"posts"},{"content":"To run Neovim on Windows, you can either use the terminal Neovim or use a GUI for Neovim. If you use terminal Nvim, you may encounter various annoying issues. Based on my experience, I recommend you using a GUI client for Nvim instead of the terminal one.\nNvim-qt is one of the many GUI front end for Neovim, and it is packaged with Neovim by default on Windows platform. In this post, I will give a summary on how to solve a few issues with Nvim-qt.\nGeneral settings # Where should I put configurations related to nvim-qt? # Nvim-qt will use your Nvim configurations as well as a GUI configuration file1. The GUI config file is named ginit.vim, and you should put it under the same directory as init.vim. The directory is something like C:\\Users\\Administrator\\AppData\\Local\\nvim on Windows. If you are inside Neovim, you can also use the command :echo stdpath('config') to show the exact directory.\nHow do I pass options to neovim when starting nvim-qt on the command line? # Since nvim-qt has its own options, it will get confused if you simply provide it with nvim startup options. You need to specify nvim options after --. For example, to open a file using specific configuration, use the following command:\nnvim-qt some_file.txt -- -u init.vim Shift+Insert does not work in nvim-qt # In Nvim-qt, when we press Shift+Insert in insert mode, it will add a literal \u0026lt;S-Insert\u0026gt;, instead of placing the text on the system clipboard to the cursor position. To fix this issue, we can use the following mapping:\ninoremap \u0026lt;silent\u0026gt; \u0026lt;S-Insert\u0026gt; \u0026lt;C-R\u0026gt;+ GUI settings # Nvim-qt has also provided a list of its own command to configure its behaviors. I list some of the settings in the following sections.\nHow to change the font used? # You can change the font Nvim-qt uses by default. To check the default font used, use GuiFont command without argument inside nvim-qt. On my system, the output is Consolas:h11.\nAccording to nvim-qt documentation, the following attributes for fonts are available:\nhXX - height is XX in points b - bold weight l - light weight i - italic You can chain different attribute with : character. For example, to use font Hack in 10 point and light weight, use the following command:\n:GuiFont Hack:h10:l After issuing the above command, you may see the following warning message:\nWarning: Font \u0026ldquo;Hack\u0026rdquo; reports bad fixed pitch metrics.\nTo suppress this message, use the bang version of GuiFont command instead:\n:GuiFont! Hack:h10:l How to turn off the GUI tabline? # The GUI tabline of nvim-qt is ugly. We can use GuiTabline 0 inside ginit.vim to disable GUI tabline and use the TUI tabline.\nAlthough we have set GuiTabline 0 in ginit.vim, but it seems that it is still not disabled completely. If you open up a file with nvim-qt, the GUI tabline appears and then disappears quickly.\nTo disable it completely, i.e., not showing at all, there are two ways currently. One way is to use the --no-ext-tabline option when invoking nvim-qt:\nnvim-qt --no-ext-tabline The second way is to edit the Windows registry for nvim-qt. Go to Computer\\HKEY_CURRENT_USER\\Software\\nvim-qt\\nvim-qt and add a new String Value. The Name field should be ext_tabline and the Data field should be false. Then the GUI tabline should disappear completely.\nHow to turn off GUI completion menu? # The GUI completion menu is also ugly and too long, since it shows the detailed docstrings of object methods (see image below).\nYou can disable it by adding the following setting in ginit.vim:\nGuiPopupmenu 0 How to reduce line space? # You can use command GuiLinespace to control the line space in nvim-qt, for example, GuiLinespace 1.\nHow to open nvim-qt with maximized window? # Add the following settings to your ginit.vim file:\ncall GuiWindowMaximized(1) How to change cursor color in nvim-qt? # According to this issue, currently, it is not possible to change the cursor position color in nvim-qt. Nvim-qt just sets the cursor to the reverse of background color.\nMy complete configurations for Neovim can be found in my GitHub repo. For How to configure Neovim for Python development, see this post.\nReferences # nvim-qt does not recognize neovim options? nvim-qt and nvim options Disable GUI tabline Suppress font warning in nvim-qt Suppress font warning in nvim-qt Nvim-qt documentation Open nvim-qt with maximized window How to disable GUI tabline completely? See also :h ginit.vim\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 January 2019","externalUrl":null,"permalink":"/2019/01/17/nvim_qt_settings_on_windows/","section":"Posts","summary":"\u003cp\u003eTo run Neovim on Windows, you can either \u003ca href=\"https://jdhao.github.io/2018/11/15/neovim_configuration_windows/\" target=\"_blank\"\u003euse the terminal\nNeovim\u003c/a\u003e or\nuse a GUI for Neovim. If you use terminal Nvim, you may encounter various\nannoying issues. Based on my experience, I recommend you using a GUI client for\nNvim instead of the terminal one.\u003c/p\u003e","title":"Nvim-qt Settings on Windows 10","type":"posts"},{"content":"In this post, I want to share how to manage tmux plugins with Tmux plugin manager (i.e., tpm) and also mention a few useful plugins.\nInstall the plugin manager # Like Vim, to add new tmux plugins, we can either manually install them or employ a plugin manager. Tpm is designed for this purpose, which helps to manage our plugins automatically.\nInstall tpm # First, we need to install tpm itself:\ngit clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm Add the following setting to your tmux configuration file .tmux.conf:\n# List of plugins set -g @plugin \u0026#39;tmux-plugins/tpm\u0026#39; set -g @plugin \u0026#39;tmux-plugins/tmux-sensible\u0026#39; # .... maybe more plugins here # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf) run -b \u0026#39;~/.tmux/plugins/tpm/tpm\u0026#39; Then you should refresh the tmux environment to make the change take effect:\ntmux source ~/.tmux.conf Plugin management with tpm # The following operations assume that you are in a tmux session.\nplugin install # Add new plugin to ~/.tmux.conf with set -g @plugin '...'\nPress \u0026lt;prefix\u0026gt; + I1 (capital I) to fetch the plugin.\nplugin update # Press \u0026lt;prefix\u0026gt; + U to update existing plugins\nplugin uninstall # Delete or comment out the plugin line in .tmux.conf\nPress \u0026lt;prefix\u0026gt; + alt + u to remove the plugin\nAutomatic install of tpm on new machines # According to doc here, to automatically install tpm on a new machine, you can add the following setting to your .tmux.conf:\nif \u0026#34;test ! -d ~/.tmux/plugins/tpm\u0026#34; \\ \u0026#34;run \u0026#39;git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm \u0026amp;\u0026amp; ~/.tmux/plugins/tpm/bin/install_plugins\u0026#39;\u0026#34; Plugins to Install # Themes # Themes are great. Here are a few themes you can try.\nTmux theme pack # Tmux theme pack is a collection of themes.\nInstall it with tpm (add the following setting to .tmux.conf):\nset -g @plugin \u0026#39;jimeh/tmux-themepack\u0026#39; Pick a theme:\nset -g @themepack \u0026#39;powerline/block/cyan\u0026#39; tmux-colors-solarized # tmux-colors-solarized is a solarized color theme for tmux.\nInstall it with tpm:\nset -g @plugin \u0026#39;seebi/tmux-colors-solarized\u0026#39; Four themes are provided: 256, dark, light and base16. You can choose one via .tmux.conf option:\nset -g @colors-solarized \u0026#39;256\u0026#39; # set -g @colors-solarized \u0026#39;dark\u0026#39; # set -g @colors-solarized \u0026#39;light\u0026#39; # set -g @colors-solarized \u0026#39;base16\u0026#39; tmux-resurrect # Tmux-resurrect let you easily restore all your tmux session after a system restart so that you do not need to do it manually.\nInstall it with tpm:\nset -g @plugin \u0026#39;tmux-plugins/tmux-resurrect\u0026#39; key bindings # It provides two key bindings for save and restore your tmux environment:\nSave: \u0026lt;prefix\u0026gt; + Ctrl-s Restore: \u0026lt;prefix\u0026gt; + Ctrl-r For more plugins, you can find them here and here.\n\u0026lt;prefix\u0026gt; is your prefix key for tmux\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 January 2019","externalUrl":null,"permalink":"/2019/01/17/tmux_plugin_management/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to share how to manage tmux plugins with \u003ca href=\"%28https://github.com/tmux-plugins/tpm%29\"\u003eTmux plugin\nmanager\u003c/a\u003e (i.e., tpm) and also mention a few useful plugins.\u003c/p\u003e","title":"Tmux Plugin Install and Management","type":"posts"},{"content":"","date":"16 January 2019","externalUrl":null,"permalink":"/tags/debug/","section":"Tags","summary":"","title":"Debug","type":"tags"},{"content":" When I use Pycharm a while ago, I get used to debugging my code with its built-in GUI debugger, which works really well. But when I write code on a server without X11 support, I am forced to use Neovim for Python development. My debugging is reduced to a serize of print statement in the source code. It works well for simple programs. Once my source code becomes long enough or complex enough, it becomes inefficient to add print one by one to just play with an object.\nFinally, I decided to give terminal debuggers a try. In this post, I introduce three debuggers.\nPdb # Python ships with a native debugger called pdb.\nYou can debug your code with intrusive way or non-introsive way. For the intrusive way, you need to modify your source code:\nimport pdb # put the following statement where you want the code to stop and step to pdb pdb.set_trace() Personally, I prefer the non-intrusive way to invode pdb. You can run pdb as module:\npython -m pdb your_script.py It will start debugging your code from the begining of the code.\nCommon commands # Pdb provides a few commands to help you debug your code on its interacitve interface. Here, I list some of the commands and their meanings:\nn: execute the next line p: print the value of an object s: step into a function r: return from a function b [num]: set a breakpoint at line [NUM] c: continue to run the code until a break point is met unt [NUM]: run the code until line [NUM] whatis: print the type of object (similar to p type(some_object)) l: list the context of current line (default 11 lines) h: show help message q: quit the debugger How to enable autocomplete # By default, pdb does not provide auto-completion for variable names and object methods. To enable auto-completion, create a file .pdbrc under your HOME directory with the following settings:\nimport rlcompleter import pdb pdb.Pdb.complete=rlcompleter.Completer(locals()).complete ipdb # Ipdb is like pdb, but with built-in autocompletion, syntax highlighting and more commands. You can install it with pip:\npip install ipdb Its usage is similar to pdb, so I will not waste time here. One thing worth noting is that ipdb adds a sticky command:\nsticky [start end] Toggle sticky mode. When in sticky mode, it clear the screen and longlist the current functions, making the source appearing always in the same position. Useful to follow the flow control of a function when doing step-by-step execution. If ``start`` and ``end`` are given, sticky mode is enabled and only lines within that range (extremes included) will be displayed. It means that in stick mode, the current function will be shown and current line will be highlighted to make your follow the execution of program easier.\npudb # Another terminal debugger worth trying is pudb. First, install it with pip:\npip install pudb To invoke it, you can either use\npython -m pudb my_script.py or simply\npudb3 my_script.py Pudb creates a GUI-like interface for debugging your code. It will show your code, current variable, stack trace, break points and a terminal window in its terminal interface.\nYou can use k and j to move the cursor line up and down and use b to set a break point, which will be highlighted in red. To execute next line of code, use n. To run the code until a break point, use c. For more usage, press h.\nOverall, it is quite powerful, considering that it is implemented in a terminal.\nConclusion # In this post, I introduced three Python debuggers \u0026mdash; pdb, ipdb and pudb. They can both help us to debug the code. Personally, I think pudb is the most beautiful one I want to use.\nReferences # Enable auto-completion for pdb. Python debugger discussions A list of Python debugger. Title image is taken from here\n","date":"16 January 2019","externalUrl":null,"permalink":"/2019/01/16/debug_python_in_terminal/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190116225245.jpg\" width=\"600\"\u003e\n\u003c/p\u003e","title":"How to Debug Python Code in Terminal","type":"posts"},{"content":" Introduction # As a Neovim user who has been using Sublime Text for code editing for some time, I miss the experience I get when dealing with Markdown files with the help plugins such as MarkdownEditing1 and MarkdownPreview2. In this post, I would like to share my settings for Markdown editing inside Neovim to get similar experience, even better!\nMarkdown editing # When we are editing Markdown files, it is nice to have some code snippets to improve efficiency. Fortunately, UltiSnips combined with vim-snippets3 provides a lot of useful snippets for Markdown files.\nThe two plugins can be install via vim-plug:\nPlug \u0026#39;SirVer/ultisnips\u0026#39; Plug \u0026#39;honza/vim-snippets\u0026#39; We need to set up UltiSnips to use it. The following is an example setting:\n\u0026#34; Trigger configuration. Do not use \u0026lt;tab\u0026gt; if you use https://github.com/Valloric/YouCompleteMe. let g:UltiSnipsExpandTrigger=\u0026#34;\u0026lt;tab\u0026gt;\u0026#34; \u0026#34; use \u0026lt;Tab\u0026gt; to trigger autocompletion let g:UltiSnipsJumpForwardTrigger=\u0026#34;\u0026lt;c-j\u0026gt;\u0026#34; let g:UltiSnipsJumpBackwardTrigger=\u0026#34;\u0026lt;c-k\u0026gt;\u0026#34; In the above setting, we use Tab to trigger snippet expansion, which means that after entering the snippet keyword for a particular snippet, using \u0026lt;Tab\u0026gt; will expand the keyword to the full snippet template. If you have used Tab for other mappings, you can set other snippet trigger, e.g., Ctrl + J:\nlet g:UltiSnipsExpandTrigger=\u0026#34;\u0026lt;C-J\u0026gt;\u0026#34; For example, if we type link and then press \u0026lt;Tab\u0026gt;, it will be expanded to the following text:\n[Text](http://www.url.com) Your cursor will be placed at Text, with Text being in selection mode and waiting for you to type the real text. The setting UltiSnipsJumpForwardTrigger and UltiSnipsJumpBackTrigger set up the shortcut key to go to next and previous text area of a snippet, making the snippet editing more convenient. Take the above inline link snippet for an example. Suppose we want to add an inline link to Neovim official website (the address is https://neovim.io/), we can follow the steps below:\nEnter link and press \u0026lt;Tab\u0026gt; to get the link template. Start typing Neovim and Text will be replaced by Neovim. Press \u0026lt;Ctrl-F\u0026gt;. www.url.com will be selected. Start typing https://neovim.io/. There are many more snippets you can use. Some of the commonly used snippet keywords are listed below:\nHeader: Level 1: sec Level 2: ssec Level 3: sssec Level 4: par Level 5: spar Links: Inline link: link Reference link: refl Image link: img Code: Code block: cbl Inline code: ilc Text rendering: Italic text: * Bold text: ** Italic and bold text: *** General: date: date time: time date and exact time: datetime date in ISO format: diso Often times, you will find you want to more snippets to cover your use cases. For example, I have set up a snippet meta which can generate the Markdown front matter fore me, check this post for more details.\nFor how to set up Ultisnips and writing your own snippets, check this post.\nDistraction-free writing # When we are writing Markdown files, we may wish to focus on the task and temporarily disable the distraction elements in Neovim. The plugin goyo is designed specifically for this purpose. We can install it via vim-plug:\nPlug \u0026#39;junegunn/goyo.vim\u0026#39; After installing this plugin, we can use Goyo command to toggle between the normal mode and distraction-free mode.\nThe author also suggests installing limelight, which will dim all lines except the current line when turned on.\nFirst, install it with vim-plug:\nPlug \u0026#39;junegunn/limelight.vim\u0026#39; After install, we can use Limelight to activate it. To deactivate, use Limelight!.\nWe can also integrate goyo and limelight together with the following setting:\nautocmd! User GoyoEnter Limelight autocmd! User GoyoLeave Limelight! when you turn on/off goyo, limelight will also be turn on/off.\nMarkdown syntax highlighting # Code highlighting is also important, which helps us to see the structure of the source code more clearly. The first plugin we should install is vim-markdown. We can install it via vim-plug:\n\u0026#34; tabular plugin is used to format tables Plug \u0026#39;godlygeek/tabular\u0026#39; \u0026#34; JSON front matter highlight plugin Plug \u0026#39;elzr/vim-json\u0026#39; Plug \u0026#39;plasticboy/vim-markdown\u0026#39; Vim-markdown provides a lot of functionalities such as folding, conceal etc. Here, we mainly use its syntax highlighting feature. Below are some settings for vim-markdown:\n\u0026#34; disable header folding let g:vim_markdown_folding_disabled = 1 \u0026#34; do not use conceal feature, the implementation is not so good let g:vim_markdown_conceal = 0 \u0026#34; disable math tex conceal feature let g:tex_conceal = \u0026#34;\u0026#34; let g:vim_markdown_math = 1 \u0026#34; support front matter of various format let g:vim_markdown_frontmatter = 1 \u0026#34; for YAML format let g:vim_markdown_toml_frontmatter = 1 \u0026#34; for TOML format let g:vim_markdown_json_frontmatter = 1 \u0026#34; for JSON format This plugin also provides a few shortcuts and commands:\nShortcut: ]]: go to next header [[: go to previous header Command: Toc: create a vertical window of table of contents TableFormat: format the table under current cursor For more settings about these plugins, please consult their documentations.\nAnother good Markdown syntax plugin I recommend is vim-pandoc-syntax. It provides more syntax highlight and better conceal features. First, install it via vim-plug:\nPlug \u0026#39;vim-pandoc/vim-pandoc-syntax\u0026#39; It is designed to work with vim-pandoc. To use it as a standalone plugin, we should add the following settings in our Neovim configuration file:\naugroup pandoc_syntax au! BufNewFile,BufFilePre,BufRead *.md set filetype=markdown.pandoc augroup END After all this settings, your Markdown file will be like what is shown in the following image:\nMarkdown previewing # There are several Markdown previewer for Neovim on GitHub. I have tried previm and markdown-preview.nvim, both of which have cross-platform support for Nvim (Windows, Linux and macOS are supported). After some trail, I think markdown-preview is superior in terms of speed, functionality provided and rendering result. It is easy to install with vim-plug:\n\u0026#34; if you don\u0026#39;t have node and yarn, use pre build Plug \u0026#39;iamcco/markdown-preview.nvim\u0026#39;, { \u0026#39;do\u0026#39;: { -\u0026gt; mkdp#util#install() }} Here is my setting for this plugin:\n\u0026#34; do not close the preview tab when switching to other buffers let g:mkdp_auto_close = 0 To start previewing a markdown file, use MarkdownPreview command. Your default browser will be opened automatically. You can also add a custom key mapping for this command:\nnnoremap \u0026lt;M-m\u0026gt; :MarkdownPreview\u0026lt;CR\u0026gt; For other custom settings, see its documentation.\nSummary # In this post, I introduced the plugins and settings I use for Markdown editing, syntax highlighting and previewing. The end result is the smoothes writing experience I get.\nhttps://github.com/SublimeText-Markdown/MarkdownEditing\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/facelessuser/MarkdownPreview\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nUltiSnips is the snippet engine, while vim-snippets provides the actual snippet.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 January 2019","externalUrl":null,"permalink":"/2019/01/15/markdown_edit_preview_nvim/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20200214144759.png\" width=\"600\"\u003e\n\u003c/p\u003e","title":"Markdown Writing and Previewing in Neovim -- A Complete Guide","type":"posts"},{"content":"In this post, I would like to share line number settings in Neovim to move the cursor more efficiently.\nAbsolute number and relative number in Neovim # Show absolute line number # To know where we are in a file, it is useful to show the line number on the leftmost column of the window. To show line numbers in neovim, we can set the number option:\nset number The absolute line number will be shown at the leftmost column of current window.\nCombine absolute number and relative number # While the number option is useful, it is not convenient for us to move the cursor to other lines. Because cursor movement in Neovim is based on relative distance. For example, to go to 3 lines above or below the current line, we use 3k or 3j. If we want to go to a specific line, we have to manually calculate the distance between current cursor line and the destination line, which is cumbersome and error-prone.\nTo alleviate this issue, Neovim also support showing relative number:\nset relativenumber This option can be combined with the number option. The end result is that only the cursor line shows absolute line number, and all the other lines show relative number( or distance) relative to current line.\nAutomatic toggle of relative line number # In some situations, it is more convenient to see absolute line numbers, e.g., when we want to debug a file and run to specific lines. We can the use plugin vim-numbertoggle to automatically toggle relative number based on several events. e.g., when we enter insert mode or lost focus of a window.\nAutomatic number toggle does not work inside Tmux? # I have found that the number toggle function does not work inside tmux sessions by default1. If I open two tmux panes side by side and open a file in Neovim in one pane and then switch to another tmux pane, the relative line number in Neovim does not change to absolute number.\nI opened an issue on the Neovim GitHub repo and get the right answer from the developer. We need to turn on the focus-events option for tmux. From the Tmux documentaion:\nfocus-events [on | off] When enabled, focus events are requested from the terminal if supported and passed through to applications running in tmux. Attached clients should be detached and attached again after changing this option. We need to edit the tmux config file ~/.tmux.conf and add the following setting:\nset -g focus-events on Refresh the tmux session or start a new tmux session and automatic relative number toggle should work as expected now.\nReferences # Nvim documentation: :h number_relativenumber. Automatic relative number toggle. Issue opened in Neovim GitHub repo. Issue opened in vim-numbertoggle repo. Questions on StackExchange. I am using Tmux 2.8-rc\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 January 2019","externalUrl":null,"permalink":"/2019/01/11/line_number_setting_nvim/","section":"Posts","summary":"\u003cp\u003eIn this post, I would like to share line number settings in Neovim to move the\ncursor more efficiently.\u003c/p\u003e","title":"Line Number Settings for More Efficient Movement in Neovim","type":"posts"},{"content":"ç›®å‰è¿›è¡Œçš„å·¥ä½œéœ€è¦å¤§è§„æ¨¡çš„è¯­æ–™åº“æ¥ç”Ÿæˆä¸­æ–‡æ–‡æœ¬å›¾åƒï¼Œå› æ­¤æŸ¥æ‰¾èµ„æ–™ï¼Œæ‰¾äº†ä¸€äº›ä¸­æ–‡è¯­æ–™åº“ã€‚æœ¬æ–‡ä»‹ç»å…¶ä¸­çš„ä¸¤ä¸ªæœ€å¤§çš„è¯­æ–™åº“ï¼ŒTHUCNews è¯­æ–™åº“å’Œä¸­æ–‡ç»´åŸºç™¾ç§‘è¯­æ–™åº“ï¼Œä»¥åŠå¦‚ä½•å¯¹åŸå§‹è¯­æ–™åº“æ–‡ä»¶è¿›è¡Œç®€å•é¢„å¤„ç†ã€‚\nTHUCNews è¯­æ–™åº“ # THUCNews è¯­æ–™åº“ç”±æ¸…åå¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†ä¸ç¤¾ä¼šäººæ–‡è®¡ç®—å®éªŒå®¤æ”¶é›†æ•´ç†å‘å¸ƒï¼Œè¯­æ–™åº“æ˜¯æ ¹æ®æ–°æµªæ–°é—» RSS è®¢é˜…é¢‘é“ 2005~2011 å¹´é—´çš„å†å²æ•°æ®ç­›é€‰è¿‡æ»¤ç”Ÿæˆï¼ŒåŒ…å«äº† 836062ç¯‡æ–‡æœ¬æ ¼å¼çš„æ–‡æ¡£1ï¼Œæ–‡æ¡£ç¼–ç ä½¿ç”¨ UTF-8 ç¼–ç ã€‚è¿™äº›æ–‡æ¡£è¢«åˆ’åˆ†ä¸º 14 å¤§ç±»ï¼Œåˆ†åˆ«ä¸ºï¼šè´¢ç»ã€å½©ç¥¨ã€æˆ¿äº§ã€è‚¡ç¥¨ã€å®¶å±…ã€æ•™è‚²ã€ç§‘æŠ€ã€ç¤¾ä¼šã€æ—¶å°šã€æ—¶æ”¿ã€ä½“è‚²ã€æ˜Ÿåº§ã€æ¸¸æˆã€å¨±ä¹ã€‚\nè¯¥è¯­æ–™åº“å…è´¹æä¾›ç»™ç ”ç©¶è€…ä½¿ç”¨ï¼Œä¸‹è½½åœ°å€ä¸ºTHUCNews.zipã€‚\nè¯¥è¯­æ–™åº“æ–‡æ¡£éƒ½æ˜¯ txt æ–‡ä»¶ï¼Œä¸éœ€è¦å†è¿›è¡Œæ–‡æœ¬æå–çš„å¤„ç†ã€‚\nä¸­æ–‡ç»´åŸºç™¾ç§‘è¯­æ–™åº“ # ç»´åŸºç™¾ç§‘ä¼šå®šæœŸæŠŠå„ç§è¯­è¨€çš„ç™¾ç§‘ç½‘é¡µå…¨éƒ¨æ‰“åŒ…å­˜å‚¨èµ·æ¥ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©å…¶ä¸­çš„ä¸­æ–‡ç»´åŸºç™¾ç§‘ç½‘é¡µï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä½œä¸ºä¸­æ–‡è¯­æ–™åº“æ¥ä½¿ç”¨ã€‚åŸå§‹ç»´åŸºç™¾ç§‘æ•°æ®æ˜¯å‹ç¼©çš„ xml æ–‡ä»¶ï¼Œä¸ºäº†æå–å…¶ä¸­è¯æ¡çš„çº¯æ–‡æœ¬å†…å®¹ï¼Œå»æ‰ä¼—å¤š xml æ ‡è®°ï¼Œæˆ‘ä»¬å¿…é¡»è¦å¯¹åŸå§‹çš„å‹ç¼©æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œæå–æœ‰ç”¨ä¿¡æ¯ã€‚\nè¯­æ–™åº“å¤„ç† # é¦–å…ˆä¸‹è½½åŸå§‹çš„ä¸­æ–‡ç»´åŸºç™¾ç§‘ç½‘é¡µæ–‡ä»¶ï¼Œä¸‹è½½åœ°å€ä¸ºhttps://dumps.wikimedia.org/zhwiki/latest/zhwiki-latest-pages-articles.xml.bz2ï¼Œæ–‡ä»¶å¤§å°åœ¨ 1.5G ä»¥ä¸Šï¼Œåœ¨ Windows ç³»ç»Ÿä¸‹ï¼Œæ¨èä½¿ç”¨ Free Download Manager ä¸‹è½½ã€‚\nä¸ºäº†è¯»å–å…¶ä¸­çš„æ–‡æœ¬ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©æå–å·¥å…·ï¼ŒWikiExtractor æ˜¯ä¸€æ¬¾ä¸é”™çš„å¼€æºæå–å·¥å…·ï¼Œä½¿ç”¨è¯¥å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¤„ç†è¯­æ–™åº“ï¼Œè¾“å‡ºä¸ºæƒ³è¦çš„å­˜å‚¨æ ¼å¼ã€‚é¦–å…ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…è¯¥å·¥å…·ï¼š\ngit clone https://github.com/attardi/wikiextractor cd wikiextractor python setup.py install wikiextractor ä¼šæŠŠæ•´ä¸ªè¯­æ–™åº“åˆ†å‰²ä¸ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ï¼Œæ–‡ä»¶çš„æ ¼å¼é»˜è®¤ä¸º xml æ ¼å¼ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š\n\u0026lt;doc id=\u0026#34;xxx\u0026#34; url=\u0026#34;xxx\u0026#34; title=\u0026#34;xxxx\u0026#34;\u0026gt; xxxxx \u0026lt;/doc\u0026gt; \u0026lt;doc id=\u0026#34;xxx\u0026#34; url=\u0026#34;xxx\u0026#34; title=\u0026#34;xxxx\u0026#34;\u0026gt; xxxxx \u0026lt;/doc\u0026gt; \u0026lt;doc id=\u0026#34;xxx\u0026#34; url=\u0026#34;xxx\u0026#34; title=\u0026#34;xxxx\u0026#34;\u0026gt; xxxxx \u0026lt;/doc\u0026gt; ... æ¯ä¸ªç”Ÿæˆçš„æ–‡ä»¶åŒ…å«è‹¥å¹²ä¸ªè¯æ¡ã€‚è¦ç”Ÿæˆ xml æ ¼å¼çš„è¯­æ–™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nWikiExtractor -o extracted_xml --process 2 -b 512K zhwiki-latest-pages-articles.xml.bz2 -o ç”¨æ¥æŒ‡å®šè¾“å‡ºç›®å½•ï¼Œ--process ç”¨æ¥æŒ‡å®šä½¿ç”¨çš„è¿›ç¨‹æ•°ç›®ï¼ˆé»˜è®¤ä¸º 1ï¼‰ï¼Œ-b é€‰é¡¹ç”¨æ¥æ§åˆ¶å•ä¸ªç”Ÿæˆæ–‡ä»¶çš„å¤§å°ï¼ˆé»˜è®¤ä¸º 1Mï¼Œæ–‡ä»¶è¶Šå¤§ï¼ŒåŒ…å«çš„è¯æ¡ä¹Ÿè¶Šå¤šï¼‰ï¼Œæœ€åçš„å‚æ•°ä¸ºè¦å¤„ç†çš„åŸå§‹å‹ç¼©è¯­æ–™æ–‡ä»¶åç§°ã€‚ç¨‹åºè¿è¡Œå®Œæˆä»¥åï¼Œåœ¨è¾“å‡ºç›®å½•ä¸‹é¢ä¼šç”Ÿæˆå¤šä¸ªå­ç›®å½•ï¼Œæ¯ä¸ªç›®å½•ä¸‹é¢æœ‰ä¸€äº›ç”Ÿæˆçš„æ–‡ä»¶ã€‚\nå¦‚æœè¦ç”Ÿæˆ json æ ¼å¼çš„è¯­æ–™æ–‡ä»¶ï¼Œåªéœ€è¦åŠ ä¸Š --json é€‰é¡¹ï¼š\nWikiExtractor -o extracted_xml --process 2 -b 512K --json zhwiki-latest-pages-articles.xml.bz2 æ¯ä¸ªç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œæ¯è¡Œå¯¹åº”ä¸€ä¸ªä»¥ JSON æ ¼å¼å­˜å‚¨çš„è¯æ¡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\n{\u0026#34;id\u0026#34;: \u0026#34;xxx\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;xxx\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;xxx\u0026#34;, \u0026#34;text\u0026#34;: \u0026#34;xxxxxx\u0026#34;} å…¶ä¸­ text å¯¹åº”çš„æ˜¯æŸä¸ªè¯æ¡çš„çœŸæ­£å†…å®¹ã€‚\nå¦‚ä½•æå– JSON æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„ text å†…å®¹ï¼Ÿå¯ä»¥ä½¿ç”¨json.loads() æ–¹æ³•å°†ç¬¦åˆ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º Python ä¸­çš„å­—å…¸ã€‚ä¾‹å¦‚\nIn [6]: s = \u0026#39;{\u0026#34;apple\u0026#34;: 1, \u0026#34;bananas\u0026#34;: 2, \u0026#34;pear\u0026#34;: 2.5}\u0026#39; In [7]: json.loads(s) Out[7]: {\u0026#39;apple\u0026#39;: 1, \u0026#39;bananas\u0026#39;: 2, \u0026#39;pear\u0026#39;: 2.5} ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•è¯»å–ä¸€ä¸ªæ–‡ä»¶æ‰€æœ‰è¯æ¡ text å¹¶ä¸”æ•´åˆçš„ä»£ç ï¼š\ntexts = \u0026#34;\u0026#34; # file is a generated file with open(file, encoding=\u0026#39;utf-8\u0026#39;) as f: # each line in the file is a wiki page for line in f: # read the line as valid json and select text field text = json.loads(line)[\u0026#39;text\u0026#39;] texts += text æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œå¯ä»¥æŠŠæ¯ä¸€è¡Œçš„ text å­˜ä¸ºæ–°çš„æ–‡ä»¶ï¼Œæˆ–è€…æŠŠåŸæ¥æ–‡ä»¶é‡Œé¢çš„æ‰€æœ‰è¯æ¡çš„ text åˆåœ¨ä¸€èµ·å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚\nå¦å¤–ï¼Œä¸­æ–‡ç»´åŸºç™¾ç§‘çš„æ–‡å­—å¾ˆå¤šéƒ½æ˜¯ç¹ä½“ï¼Œå¦‚æœéœ€è¦ç®€ä½“ä¸­æ–‡ï¼Œå¯ä»¥ä½¿ç”¨OpenCC Python åº“æŠŠç¹ä½“æ–‡å­—ç»Ÿä¸€è½¬æ¢ä¸ºç®€ä½“å†ä¿å­˜ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è§ Opencc çš„æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚\nå‚è€ƒ # https://www.zhihu.com/question/22956189 https://www.zhihu.com/question/21177095 https://blog.csdn.net/wangyangzhizhou/article/details/78348949 https://github.com/Embedding/Chinese-Word-Vectors THUCNews è¯­æ–™åº“ä¸»é¡µï¼šhttp://thuctc.thunlp.org/ ä¸­æ–‡ wiki dump ä¸»é¡µï¼šhttps://dumps.wikimedia.org/zhwiki/ ä½¿ç”¨ find THUCNews_ROOT -type f -name '*.txt' -print|wc -l å¯ä»¥æŸ¥çœ‹è¯­æ–™åº“ä¸­æ–‡æœ¬æ–‡ä»¶çš„æ•°ç›®ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 January 2019","externalUrl":null,"permalink":"/2019/01/10/two_chinese_corpus/","section":"Posts","summary":"\u003cp\u003eç›®å‰è¿›è¡Œçš„å·¥ä½œéœ€è¦å¤§è§„æ¨¡çš„è¯­æ–™åº“æ¥ç”Ÿæˆä¸­æ–‡æ–‡æœ¬å›¾åƒï¼Œå› æ­¤æŸ¥æ‰¾èµ„æ–™ï¼Œæ‰¾äº†ä¸€äº›ä¸­æ–‡è¯­æ–™åº“ã€‚æœ¬æ–‡ä»‹ç»å…¶ä¸­çš„ä¸¤ä¸ªæœ€å¤§çš„è¯­æ–™åº“ï¼ŒTHUCNews è¯­æ–™åº“å’Œä¸­æ–‡ç»´åŸºç™¾ç§‘è¯­æ–™åº“ï¼Œä»¥åŠå¦‚ä½•å¯¹åŸå§‹è¯­æ–™åº“æ–‡ä»¶è¿›è¡Œç®€å•é¢„å¤„ç†ã€‚\u003c/p\u003e","title":"ä¸¤ä¸ªå¤§è§„æ¨¡ä¸­æ–‡è¯­æ–™åº“ä»‹ç»ä»¥åŠå¤„ç†","type":"posts"},{"content":"","date":"7 January 2019","externalUrl":null,"permalink":"/tags/listary/","section":"Tags","summary":"","title":"Listary","type":"tags"},{"content":" å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„å·¥å…·èƒ½ä½¿äººæ•ˆç‡å€å¢ï¼Œè¿™ç¯‡åšå®¢ä»‹ç»æœ¬äººå¸¸ç”¨çš„ä¸€äº›æå‡æ•ˆç‡çš„å·¥å…·ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°è¯»è€…ã€‚\nListary (æ¨èæŒ‡æ•°â˜…â˜…â˜…â˜…â˜…) # æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å’Œç¨‹åºçš„æ—¶å€™ï¼Œè¿˜åœ¨ä½¿ç”¨é¼ æ ‡å„ç§ç‚¹ç‚¹ç‚¹ï¼Ÿå¦‚æœä½ ç»å¸¸éœ€è¦æ‰“å¼€ç¨‹åºæˆ–è€…æ‰“å¼€æŸä¸ªæ–‡ä»¶å¤¹ï¼ŒListary æ˜¯ä½ ä¸å¯é”™è¿‡çš„å·¥å…·ï¼ŒListary ä¸€æ¬¾ Windows ç³»ç»Ÿä¸‹çš„ç¨‹åºå¯åŠ¨ã€æ–‡ä»¶æœç´¢å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€ç¨‹åºæˆ–è€…æ‰“å¼€æ–‡ä»¶(å¤¹)ï¼ŒåŒæ—¶ Listary å¯ä»¥è‡ªåŠ¨æ‰“å¼€é»˜è®¤æµè§ˆå™¨ï¼Œå¹¶ä¸”ä½¿ç”¨æŒ‡å®šçš„æœç´¢å¼•æ“æœç´¢ç”¨æˆ·è¾“å…¥çš„å…³é”®è¯ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚æœ€æ–°ç‰ˆæœ¬çš„ Listary 6 betaï¼Œä¸‹è½½åœ°å€è§è¿™é‡Œã€‚\nå®‰è£…ä»¥åï¼ŒListary ä¼šåœ¨åå°è¿è¡Œï¼ŒåŒå‡» Ctrl ä¼šæ‰“å¼€ Listary çš„è¿è¡Œç•Œé¢ï¼ˆä¸‹è½½ä»¥åéœ€è¦ç­‰å¾…ä¸¤ä¸‰åˆ†é’Ÿï¼ŒListary éœ€è¦ç´¢å¼•ç”µè„‘ä¸Šçš„æ–‡ä»¶ï¼Œç„¶åæ‰èƒ½æ­£å¸¸æœç´¢æ–‡ä»¶å’Œåº”ç”¨ï¼Œåˆšä¸‹è½½å°±è¿è¡Œï¼Œå¯èƒ½æœç´¢ä¸åˆ°ä»»ä½•ç»“æœï¼‰ï¼Œç›´æ¥è¾“å…¥æ–‡ä»¶æˆ–è€…ç›®å½•çš„åç§°ï¼Œæˆ–è€…è¾“å…¥åº”ç”¨çš„åç§°ï¼Œå¯ä»¥å¿«é€Ÿæœç´¢ç›¸å…³ç›®å½•ã€æ–‡ä»¶å’Œåº”ç”¨ã€‚\nåšæ–‡å¼€å¤´çš„å›¾ç‰‡å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Listary æœç´¢æ–‡ä»¶æˆ–åº”ç”¨ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦è¾“å…¥æ–‡ä»¶å¤¹æˆ–åº”ç”¨çš„å…³é”®è¯ï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œgenverti, sublimeï¼‰ï¼ŒListary å³å¯æ™ºèƒ½æŠŠåŒ¹é…åº¦æœ€é«˜çš„ç»“æœæ”¾åœ¨ç¬¬ä¸€ä½ï¼Œç„¶åä½¿ç”¨ Enter å³å¯æ‰“å¼€ã€‚\né€šå¸¸ï¼Œåœ¨éœ€è¦ä½¿ç”¨æœç´¢å¼•æ“æœç´¢æŸä¸ªå†…å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå…ˆæ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡»è¾“å…¥æ¡†ï¼Œè¾“å…¥å…³é”®è¯ï¼Œå›è½¦æœç´¢ï¼Œæ•´ä¸ªæ­¥éª¤éå¸¸ç¹çã€‚Listary çš„å¦å¤–ä¸€ä¸ªå¼ºå¤§åŠŸèƒ½æ˜¯å¯ä»¥ä½¿ç”¨ä¸åŒæœç´¢å¼•æ“ç›´æ¥æ‰“å¼€æµè§ˆå™¨è¿›è¡Œç½‘ç»œæœç´¢ï¼Œä¾‹å¦‚è¦ä½¿ç”¨è°·æ­Œæœç´¢ python listï¼Œæ‰“å¼€Listaryï¼Œè¾“å…¥ gï¼Œç„¶åæŒ‰ä¸‹ç©ºæ ¼ï¼Œç„¶åè¾“å…¥æ£€ç´¢å…³é”®è¯ python list,å›è½¦ï¼Œç³»ç»Ÿé»˜è®¤çš„æµè§ˆå™¨å°†ä¼šæ‰“å¼€è°·æ­Œæœç´¢æŒ‡å®šå…³é”®è¯çš„é¡µé¢ï¼Œéå¸¸æ–¹ä¾¿ã€‚Listary æ”¯æŒå¤šä¸ªæœç´¢å¼•æ“ï¼Œä¾‹å¦‚ç™¾åº¦ï¼ˆå…³é”®è¯ bï¼‰ï¼Œå¿…åº”(å…³é”®è¯ bing)\næƒ³è¦äº†è§£æ›´å¤š Listary ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡åšæ–‡ã€‚\nCmder (æ¨èæŒ‡æ•°â˜…â˜…â˜…â˜…â˜…) # è¿˜åœ¨ä½¿ç”¨æ²¡æœ‰è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œç¼ºå°‘ Linux ä¸‹å„ç§å¸¸ç”¨å‘½ä»¤ï¼Œå¹¶ä¸”å‘†æ¿ç”Ÿç¡¬ï¼Œç¼ºå°‘ä¸ªæ€§åŒ–é…ç½®çš„ Windows Cmdï¼Ÿæ˜¯æ—¶å€™ç”¨ä¸€ä¸‹ Cmder äº†ï¼Œ Cmder æ˜¯ä¸€æ¬¾ç»ˆç«¯æ¨¡æ‹Ÿå™¨(terminal emulator)ï¼Œç±»ä¼¼ Windows CMDï¼Œä½†æ˜¯åŠŸèƒ½æ¯” CMD å¼ºå¤§å¤ªå¤šï¼Œæ”¯æŒä¸°å¯Œçš„ä¸ªæ€§åŒ–ä¸»é¢˜ã€‚åŒæ—¶ï¼ŒCmder å®Œæ•´ç‰ˆåŒ…å«äº† git for windowsï¼Œæ”¯æŒå¸¸ç”¨çš„ Linuxå‘½ä»¤ï¼Œä¾‹å¦‚ ls, cd, pwd, grep, find ç­‰ï¼Œå¹¶ä¸”æ”¯æŒ Tab è‡ªåŠ¨è¡¥å…¨ã€‚ä¸‹è½½åœ°å€ç‚¹è¿™é‡Œ(å…å®‰è£…ï¼Œè§£å‹å³å¯ä½¿ç”¨).\næ›´å¤šå…³äº Cmder çš„ä½¿ç”¨ï¼Œå‚è€ƒè¿™ç¯‡åšå®¢ã€‚\nVimium (æ¨èæŒ‡æ•°â˜…â˜…â˜…â˜…) # Vimium æ˜¯ä¸€æ¬¾ Chrome æµè§ˆå™¨æ’ä»¶ï¼Œä½¿ä½ èƒ½å¤ŸåŒæ‰‹ä¸ç¦»å¼€é”®ç›˜å®Œæˆå¤§å¤šæ•°ç½‘é¡µæ“ä½œã€‚Vimium ä½œè€…å¯¹å®ƒçš„ä»‹ç»æ˜¯ï¼š\nThe Hacker\u0026rsquo;s Browser\nVimium çš„å¿«æ·é”®è®¾è®¡æ¨¡ä»¿ Vimï¼Œå¯¹ Vim ç†Ÿæ‚‰çš„ç”¨æˆ·ä¸Šæ‰‹åº”è¯¥å¾ˆå®¹æ˜“ã€‚å¸¸ç”¨çš„å¿«æ·æ“ä½œï¼š\ngg: å›åˆ°ç½‘é¡µé¡¶ç«¯ G: å›åˆ°ç½‘é¡µä½ç«¯ j: å¾€ä¸‹æ»šåŠ¨ç½‘é¡µ k: å¾€ä¸Šæ»šåŠ¨ç½‘é¡µ dï¼šå¾€ä¸‹æ»šåŠ¨åŠä¸ªç½‘é¡µ u: å¾€ä¸Šæ»šåŠ¨åŠä¸ªç½‘é¡µ f: åœ¨å½“å‰æ ‡ç­¾é¡µæ‰“å¼€å½“å‰ç½‘é¡µçš„æŸä¸ªé“¾æ¥ï¼Œå½“å‰ç½‘é¡µå¯ç”¨çš„é“¾æ¥ä¼šè¢«é«˜äº®æ˜¾ç¤ºï¼Œå¹¶ç”¨å­—æ¯è¡¨ç¤ºï¼Œè¾“å…¥å¯¹åº”å­—æ¯å³å¯åœ¨å½“å‰æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥ã€‚ F: å’Œ f åŠŸèƒ½ç±»ä¼¼ï¼Œä½†æ˜¯åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥ã€‚ gi: æ¿€æ´»å½“å‰ç½‘é¡µå¯è¾“å…¥æ–‡ä»¶æ¡†ï¼Œå‡†å¤‡è¾“å…¥æ–‡å­—ï¼Œä¾‹å¦‚æ‰“å¼€ https://github.com/ï¼ŒæŒ‰ä¸‹ giï¼Œæ­¤æ—¶å…‰æ ‡ä¼šç§»åŠ¨åˆ°å·¦ä¸Šè§’è¾“å…¥æ¡†ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥å†…å®¹ã€‚ b: åœ¨å½“å‰æ ‡ç­¾é¡µæ‰“å¼€æ”¶è—çš„æŸä¸ªç½‘é¡µï¼ŒæŒ‰ä¸‹ bï¼Œä¼šå‡ºç°è¾“å…¥æ¡†ï¼Œè¾“å…¥æ”¶è—ç½‘é¡µå…³é”®è¯ï¼Œé€‰ä¸­ä¸€ä¸ªæ¡ç›®ï¼ŒæŒ‰ä¸‹ Enterï¼Œåœ¨å½“å‰æ ‡ç­¾é¡µæ‰“å¼€æ”¶è—ã€‚ B: ç±»ä¼¼ bï¼Œä½†æ˜¯åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æ”¶è—ç½‘é¡µã€‚ o: åœ¨å½“å‰æ ‡ç­¾é¡µï¼Œæ‰“å¼€ç½‘é¡µï¼Œæ”¶è—æˆ–è€…å†å²è®°å½•æŸä¸ªé“¾æ¥ O: ç±»ä¼¼ oï¼Œä½†æ˜¯åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ç½‘é¡µï¼Œæ”¶è—æˆ–å†å²è®°å½•æŸä¸ªé“¾æ¥ yy: å¤åˆ¶å½“å‰ç½‘é¡µé“¾æ¥åˆ°å‰ªåˆ‡æ¿ p: åœ¨å½“å‰é€‰é¡¹å¡æ‰“å¼€å‰ªåˆ‡æ¿ä¸Šçš„é“¾æ¥ P: åœ¨æ–°é€‰é¡¹å¡æ‰“å¼€å‰ªåˆ‡æ¿ä¸Šçš„é“¾æ¥ x: å…³é—­æŸä¸ªé€‰é¡¹å¡ X: é‡æ–°æ‰“å¼€ä¸Šä¸€ä¸ªå…³é—­çš„é€‰é¡¹å¡ æ›´å¤šæ“ä½œï¼Œå‚è€ƒ Vimium å®˜æ–¹æ–‡æ¡£ã€‚\n","date":"7 January 2019","externalUrl":null,"permalink":"/2019/01/07/windows_tools_for_programmers/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/listary_search_file_apps.gif\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„å·¥å…·èƒ½ä½¿äººæ•ˆç‡å€å¢ï¼Œè¿™ç¯‡åšå®¢ä»‹ç»æœ¬äººå¸¸ç”¨çš„ä¸€äº›æå‡æ•ˆç‡çš„å·¥å…·ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°è¯»è€…ã€‚\u003c/p\u003e","title":"Windows ç³»ç»Ÿä¸‹å‡ æ¬¾ç¨‹åºå‘˜ä¸å¯ä¸ç”¨çš„ç¥å™¨","type":"posts"},{"content":"2018 å¹´å¯¹äºæˆ‘æ¥è¯´ï¼Œæ˜¯å˜åŒ–å¾ˆå¤§çš„ä¸€å¹´ï¼Œæˆ‘å¾ˆé«˜å…´è‡ªå·±èƒ½å¤Ÿä¸‹å®šå†³å¿ƒåšä¸€äº›å†³å®šã€‚è¿™ä¸€å¹´è¯»ä¹¦çš„æ•°é‡å¹¶ä¸å¤šï¼Œå› ä¸ºæœ‰å‡ éƒ¨æ¯”è¾ƒå¤§éƒ¨å¤´ï¼Œè¯»å®ŒèŠ±è´¹äº†ç›¸å½“å¤šçš„æ—¶é—´ã€‚å¹´åˆå¯’å‡çš„æ—¶å€™ï¼Œä¹°äº†æœ€æ–°æ¬¾çš„ Kindle Oasis2ï¼Œæ›¿æ¢äº†å‡ å¹´å‰ä¹°çš„ Kindle Paper White1ã€‚æœ€å€¼å¾—é«˜å…´çš„äº‹æƒ…æ˜¯ç°åœ¨å¯ä»¥å®Œå…¨æ— å‹åŠ›é˜…è¯»è‹±æ–‡åŸç‰ˆä¹¦ç±ï¼Œæ²¡æœ‰é˜…è¯»çš„éšœç¢ã€‚\nSoulstealers: The Chinese Sorcery Scare of 1768 # è¿™æœ¬ä¹¦ä¸­æ–‡åå«ã€Šå«é­‚ï¼š1768å¹´ä¸­å›½å¦–æœ¯å¤§ææ…Œã€‹,ä»¥å°è§å¤§ï¼Œå†™å‡ºäº†\u0026quot;ç››ä¸–\u0026quot;ä¸‹çš„é˜´å½±ï¼Œä¸ºäº†ç¨³å®šï¼Œåœ¨çš‡å¸çš„å…³ç…§ä¸‹ï¼Œåœ°æ–¹æ€§çš„\u0026quot;å«é­‚\u0026quot;äº‹ä»¶é€æ­¥å‡çº§ä¸ºå…¨å›½æ€§çš„è¿åŠ¨ï¼Œä»¥é—¹å‰§æ”¶åœºã€‚\nå°å§¨å¤šé¹¤ # ä¸¥æ­Œè‹“çš„å°è¯´ï¼ŒæŠ—æˆ˜ç»“æŸåæ—¥æœ¬äººç•™ä¸‹çš„å¤šé¹¤çš„åˆ«æ ·äººç”Ÿã€‚ä¸¥æ­Œè‹“çš„å°è¯´æœ‰æµæ°´çº¿ç”Ÿäº§çš„æ„Ÿè§‰ï¼Œè™½æ— å¤§çš„ç‘•ç–µï¼Œä½†æ˜¯è¯»èµ·æ¥æ€»è§‰å¾—ç¼ºäº†ä»€ä¹ˆã€‚\nSteve Jobs # ã€Šçˆ±å› æ–¯å¦ä¼ ã€‹ä½œè€…æ²ƒç‰¹-è‰¾è¨å…‹æ£®å†™çš„ä¹”å¸ƒæ–¯ä¼ è®°ï¼Œæœ€å¤§çš„æ„Ÿæƒ³å°±æ˜¯åšäº‹éœ€è¦æè‡´ï¼Œæœ‰è‡ªå·±çš„å“²å­¦ï¼Œåšè‡ªå·±æœ‰æ¿€æƒ…å’Œæœ‰å…´è¶£çš„äº‹æƒ…ï¼Œç›¸ä¿¡è‡ªå·±çš„åˆ¤æ–­ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººéƒ½æ˜¯åº¸ä¼—ï¼Œå³ä½¿æ˜¯æœ‰åæœ›çš„äººï¼Œä¹Ÿä¸ä¸€å®šé«˜ç»è¿œç©ï¼Œæ‹¥æœ‰åˆ¤æ–­åŠ›ã€‚\nThe Emperor of All Maladies: A Biography of Cancer # è¿™æœ¬ä¹¦çš„ä½œè€…æ˜¯ä¸€ååŒ»ç”Ÿï¼Œä½œè€…åœ¨ä¹¦ä¸­å…¨æ™¯å¼ä»‹ç»äº†äººç±»å¯¹ç™Œç—‡è®¤è¯†å†ç¨‹ï¼Œä»¥åŠå¯¹ç™Œç—‡æ²»ç–—æ–¹æ³•çš„é©æ–°ï¼Œç§‘æ™®æ€§å’Œæ•…äº‹æ€§èåˆçš„æ°åˆ°å¥½å¤„ï¼Œå¼•äººå…¥èƒœï¼Œå½“æ—¶è¯»å®Œè¿˜ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« .\nThe Innovators: How a Group of Hackers, Geniuses, and Geeks Created the Digital Revolution # æ²ƒç‰¹-è‰¾è¨å…‹æ£®çš„æ–°ä½œï¼Œè®²è¿°äº†è®¡ç®—æœºï¼Œäº’è”ç½‘çš„å‘å±•å†ç¨‹ï¼Œæœ‰å¾ˆå¤šæœ‰è¶£çš„æ•…äº‹ï¼Œåé¢æœ‰å‡ ç« å†™çš„ç•¥å¾®æ²‰é—·ï¼Œæ€»ä½“ä¸é”™ã€‚\nAnd the Band Played On: Politics, People, and the AIDS Epidemic # ä¸»è¦æ˜¯ä»ç¾å›½äººçš„è§’åº¦,è®²è¿°äº†è‰¾æ»‹ç—…ä»å‡ºç°åˆ°ä¸å—é‡è§†ç›´è‡³è”“å»¶å¼€æ¥ï¼ŒæœŸé—´åŒ»ç”Ÿï¼Œå­¦æœ¯ç•Œï¼Œæ”¿åºœå®˜å‘˜ï¼ŒåŒæ€§æ‹ç¾¤ä½“ï¼Œç¤¾ä¼šæ™®é€šå¤§ä¼—ç­‰çš„ä¼—ç”Ÿç™¾æ€ã€‚ä»ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ç¾å¸å¹¶ä¸æ˜¯é‚£ä¹ˆç¾å¥½å…‰æ˜ï¼Œé‡Œæ ¹æ€»ç»Ÿæ‰€ä»£è¡¨çš„æ”¿åºœä¸ä½œä¸ºï¼Œç»™è‰¾æ»‹çš„æ‰©æ•£èµ·åˆ°äº†æ¨æ³¢åŠ©æ¾œçš„ä½œç”¨ï¼Œæ”¿åºœå®˜å‘˜å’Œè¡¨ç°ç®€ç›´å’Œxxå¦‚å‡ºä¸€è¾™ï¼Œä½†æ˜¯ç¾å¸æœ‰é‚£ä¹ˆä¸€ç¾¤äººä¸é‚£ä¹ˆä¸€ç§åˆ¶åº¦æ–‡åŒ–ï¼Œç¡®æ˜¯xxæ¬ ç¼ºçš„ï¼Œç›¸åŒçš„äº‹æƒ…å°±æœ‰äº†ä¸åŒçš„ç»“å±€ã€‚\nå·¨æµæ²³ # é½é‚¦åª›ä»¥ä¸€ä¸ªå›½æ°‘å…šé«˜å®˜å¥³å„¿çš„è§†è§’è®²è¿°äº†å¥¹æ‰€ç»å†çš„äººç”Ÿï¼Œä»åŒ—äº¬åˆ°é‡åº†ï¼Œä»é‡åº†åˆ°ä¹å±±ã€æ­¦æ±‰ï¼Œåœ¨æˆ˜ç«ä¸­è¾—è¾—è½¬æµç¦»ï¼Œä½†å¼¦æ­Œä¸è¾ï¼Œæœ€åå†åˆ°å°æ¹¾æ•™ä¹¦è‚²äººï¼Œå…¨ä¹¦æ–‡ç¬”ä¼˜ç¾æµç•…ã€‚å°è±¡æœ€æ·±çš„æ˜¯å‰é¢æå†™æ¯äº²å·å·ä¸ºè‡ªå·±æ—©é€çš„å­©å­æŠ¹çœ¼æ³ªçš„æ‚²è‹¦æƒ…èŠ‚ï¼Œçœ‹å¾—æˆ‘å–‰å’™å‘ç´§ï¼Œçœ¼æ³ªç›´æ‰“è½¬ã€‚å¥¹å’Œå¼ å¤§é£çš„é—æ†¾çš„çˆ±æƒ…ï¼Œä¹Ÿè®©æˆ‘ä¼¤æ„Ÿè½æ³ªï¼š\nè¿™ä¸€å¹´å¤å¤©ï¼Œæˆ‘å‘Šåˆ«äº†ä¸€ç”Ÿæœ€ç¾å¥½çš„ç”Ÿæ´»ï¼Œæº¯é•¿æ±Ÿè¿œèµ´å·è¥¿ã€‚ä¸€ä¹å››ä¸‰æ˜¥é£è¿œçŸ£ã€‚\nä»Šç”Ÿï¼Œæˆ‘æœªå†è§ä»–ä¸€é¢ã€‚\nThe Tragedy of Liberation: A History of the Chinese Revolution 1945-1957 # å†å²ä¹¦é‡Œä¸€å¥è¯ï¼Œä½ å¯çŸ¥é“èƒŒåå‘ç”Ÿäº†å¤šå°‘äº‹ï¼Ÿ\näº‹å®ä¸Šï¼Œé™¤äº†å±å¹•å‡çº§ï¼Œè®¾è®¡ä¸Šé‡‡ç”¨ä¸å¯¹ç§°é€ å‹ï¼Œå±å¹•æ›´å¤§ï¼Œå¤„ç†é€Ÿåº¦å¿«ï¼Œæ–°æ¬¾çš„æœºå™¨ä¹Ÿå¹¶æ²¡æœ‰å¤ªå¤šå€¼å¾—éª„å‚²çš„åœ°æ–¹ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"25 December 2018","externalUrl":null,"permalink":"/2018/12/25/my_reading_list_2018/","section":"Posts","summary":"\u003cp\u003e2018 å¹´å¯¹äºæˆ‘æ¥è¯´ï¼Œæ˜¯å˜åŒ–å¾ˆå¤§çš„ä¸€å¹´ï¼Œæˆ‘å¾ˆé«˜å…´è‡ªå·±èƒ½å¤Ÿä¸‹å®šå†³å¿ƒåšä¸€äº›å†³å®šã€‚è¿™ä¸€å¹´è¯»ä¹¦çš„æ•°é‡å¹¶ä¸å¤šï¼Œå› ä¸ºæœ‰å‡ éƒ¨æ¯”è¾ƒå¤§éƒ¨å¤´ï¼Œè¯»å®ŒèŠ±è´¹äº†ç›¸å½“å¤šçš„æ—¶é—´ã€‚å¹´åˆå¯’å‡çš„æ—¶å€™ï¼Œä¹°äº†æœ€æ–°æ¬¾çš„ \u003ca href=\"https://goo.gl/g2rYKZ\" target=\"_blank\"\u003eKindle Oasis2\u003c/a\u003eï¼Œæ›¿æ¢äº†å‡ å¹´å‰ä¹°çš„ Kindle Paper White\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eã€‚æœ€å€¼å¾—é«˜å…´çš„äº‹æƒ…æ˜¯ç°åœ¨å¯ä»¥å®Œå…¨æ— å‹åŠ›é˜…è¯»è‹±æ–‡åŸç‰ˆä¹¦ç±ï¼Œæ²¡æœ‰é˜…è¯»çš„éšœç¢ã€‚\u003c/p\u003e","title":"æˆ‘çš„ 2018 é˜…è¯»æ¸…å•","type":"posts"},{"content":" Change log 2022-01-29: Add deprecation notice 2021-01-17: Install nvim via tar ball instead of appimage 2020-12-01: Add detailed guide on installing Neovim on Linux TL;DR: My complete nvim configuration is here. Follow the guide there on how to use it. Most of the config below also applies to Windows and Mac. For how to configure Neovim on Windows, you may also be interested in this post.\n2022-01-29: Note that this post is written more than three years ago. Some of the plugins mentioned here may not be maintained or may not be the best fit for Neovim, or even not needed, e.g., highlighted yank is builtin in Neovim since May 2020. I have shared some of the plugin changes in this post.\nVim is a popular code editor on Unix/Linux systems, and it is often compared with Emacs, another great code editor among programmers. The debate about which one is the best editor never cease. Vim is powerful, but it has its own shortcomings as an old editor1. Over the years, Vim\u0026rsquo;s code base has grown increasing larger, which makes it hard for maintenance and for adding new features quickly. It has only one core developer, Bram Moolenaar. Although Vim has a lot of contributors, nearly all patches are merged by Bram2. To overcome the shortcomings of Vim, preserve its advantages (i.e., compatible with Vim) and make the development of Vim faster, the Neovim project is created.\nIn this post, I will give a detailed guide on how to install Neovim and configure it as an IDE-like environment for Python development (in the rest of this post, I will use Neovim and Nvim interchangeably).\nInstall Nvim # Neovim has pre-built binary package for Linux, you can download it from the Neovim GitHub release page:\nmkdir -p $HOME/tools/ \u0026amp;\u0026amp; cd $HOME/tools/ wget https://github.com/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz tar zxvf nvim-linux64.tar.gz The executable file is located in $HOME/tools/nvim-linux/bin/nvim.\nNow, we need to add the bin directory to the system PATH. Open .bash_profile and add the following line:\nexport PATH=$HOME/tools/nvim-linux64/bin:$PATH Save the file and source it to make the change take effect.\nNow, Neovim has been installed on your system successfully. You can open neovim on terminal with nvim command.\nNvim configuration file # Neovim use a different configuration file from Vim. You need to create a file named init.vim under the directory $HOME/.config/nvim (if this directory does not exist, just create one)3. All configurations can be put into this file.\nMost of the configuration options for Neovim are the same with Vim. You can copy your vim configurations if you have used Vim before.\nInstall and use a plugin manager # One of main reasons for the powerfulness of Vim comes from the various plugins written for it. With these plugins, you can achieve all sorts of crazy things which are hard to achieve with plain Vim. If you have installed a lot of plugins manually, you will find it difficult to manage them. Like Vim, Neovim does not have a built-in plugin manager. We need to install one ourselves.\nThere are two plugin managers in wide use among Nvim users. One is dein and the other is vim-plug. Vim-plug has a larger user base and seems more popular. Finally, I decided to give vim-plug a try.\nInstall vim-plug # Install vim-plug itself: curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim After installing vim-plug, you may need to restart Nvim.\nEdit init.vim and add the configuration for vim-plug. I show an example configuration below (modified from the vim-plug GitHub page): call plug#begin(\u0026#39;~/.local/share/nvim/plugged\u0026#39;) Plug \u0026#39;davidhalter/jedi-vim\u0026#39; call plug#end() Note that all the plugin installation command must be put inside the two call command above. I will not repeat that later.\nHow to use vim-plug # You can execute following command in Nvim command mode:\nInstall pluginsï¼š:PlugInstall Update pluginsï¼š:PlugUpdate Remove pluginsï¼š:PlugClean (First, comment the plugin install command in init.vim. Open Nvim and use :PlugClean to uninstall plugins) Check the plugin statusï¼š:PlugStatus Upgrade vim-plug itselfï¼š:PlugUpgrade Disable a plugin only temporarily # If you want to disable certain plugin for a while but do not want to delete it, you can try two methods:\nComment out the plugin and reopen Nvim.\nAccording to discussions here, to disable plugin foo/bar, you can use the following settings:\nPlug \u0026#39;foo/bar\u0026#39;, { \u0026#39;on\u0026#39;: [] } Plugin install and settings # Auto-completion plugin deoplete # deoplete is an auto-completion plugin designed for Neovim:\nDeoplete is the abbreviation of \u0026ldquo;dark powered neo-completion\u0026rdquo;. It provides an extensible and asynchronous completion framework for neovim/Vim8.\nStrictly speaking, it is an auto-completion engine. In order to enable auto-completion for a certain programming language, you need to install the corresponding source.\nDeoplete is easy to install. Use the following settings inside the vim-plug calls:\nPlug \u0026#39;Shougo/deoplete.nvim\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:UpdateRemotePlugins\u0026#39; } The minimum setting for deoplete is as follows:\nlet g:deoplete#enable_at_startup = 1 For more options and their meanings, check :h deoplete-options inside Nvim.\nInstall plugin deoplete-jedi # As I have said, deoplete supports auto-completion for various languages via different sources. In order to do auto-completion for Python, we need to install deoplete-jedi. In the following, I list the steps to install deoplete-jedi.\nStep 1: Install dependency packages\nFirst we need to install pynvimï¼Œ\npip install pynvim We also need to install jedi. If you happen to use the latest version of Anaconda, jedi is already installed. Otherwise, you can install jedi via pip:\npip install jedi Step 2: Install and set up deoplete-jedi\nFirst, we need to install deoplete-jedi using vim-plug:\nPlug \u0026#39;zchee/deoplete-jedi\u0026#39; After that, if nothing wrong happens, you can use auto-completion now! Open a Python source file with Nvim and start editing, you will see the auto-completion pop-up menu like what is shown in the following image:\nHow to use deoplete # How to navigate between the items in the auto-completion list? According to discussions here, you can navigate through the auto-completion list with \u0026lt;Ctrl-N\u0026gt; and \u0026lt;Ctrl-P\u0026gt;.\nHow to automatically close the method preview window? When we navigate through the auto-completion list, a small window will appear on top of current window and gives hints about the parameters of current selected method. But this window will not disappear after auto-completion is done. According to discussions here, we can use the following setting to close the preview window automatically:\nautocmd InsertLeave,CompleteDone * if pumvisible() == 0 | pclose | endif How can I open the preview window below the current window? By default, preview windows will open on top of current window. You can change this behaviour by adding set splitbelow in the configuration file. For more info, see here.\nHow can I navigate through the auto-completion list with Tab? Add the following setting in the Nvim configuration file:\ninoremap \u0026lt;expr\u0026gt;\u0026lt;tab\u0026gt; pumvisible() ? \u0026#34;\\\u0026lt;c-n\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;tab\u0026gt;\u0026#34; Status bar plugin: vim-airline # The default status bar of Nvim is simple and can not provide much useful information like Sublime Text or other modern code editors. However, the status bar can be customized to achieve wonderful effects. An excellent plugin is called vim-airline, which can achieve the same functionalities as Sublime Text status bar. It is easy to install:\nPlug \u0026#39;vim-airline/vim-airline\u0026#39; Use :PlugInstall to install this plugin and restart Nvim. You should be able to see the new status bar with more information displayed.\nSwitch vim-airlinetheme # Vim-airline provides a lot of themes for you to customize your status bar. Check here to see what different theme looks like. Vim-airline has put the various themes in another plugin called vim-airlinetheme. To change the theme, we need to install this plugin:\nPlug \u0026#39;vim-airline/vim-airline-themes\u0026#39; Then, in the Nvim configuration file, add the following settings:\nlet g:airline_theme=\u0026#39;\u0026lt;theme\u0026gt;\u0026#39; \u0026#34; \u0026lt;theme\u0026gt; is a valid theme name Automatic quote and bracket completion # When input quote and bracket, we often wish to input them as pairs. Nvim does not support this feature. Auto-pairs can achieve this and much more. Simply install it:\nPlug \u0026#39;jiangmiao/auto-pairs\u0026#39; How to use # Let\u0026rsquo;s take manipulating double quotes as an example. In insert model, press \u0026quot;, it will automatically become two double quotes. At the same time, the cursor is placed between the two double quotes, waiting for input. When you finish inputting text between the quotes, you may want to place the cursor after the right quote and continue inserting text. Here comes the magic part: just press \u0026quot; one more time, and the cursor will be placed right behind the right quote.\ncomment plugin # Different programming languages have different specifications for comment. It would be great to change the comment style for the current file based on its file type. nerdcommenter is one such plugin. Install it with vim-plug:\nPlug \u0026#39;scrooloose/nerdcommenter\u0026#39; To comment out a single line, use \u0026lt;leader\u0026gt;cc (leader is a prefix key in Nvim, the default leader key is backslash \\); to uncomment a line, use \u0026lt;leader\u0026gt;cu. To comment or uncomment several lines, add a repeating number to corresponding command, just like what you do in plain Vim. For more usages, check nerdcommenter\u0026rsquo;s documentation.\ncode auto-format plugin # Neoformat can be used to format your source code. Install it with vim-plug:\nPlug \u0026#39;sbdchd/neoformat\u0026#39; For Python code, you need to install a Python code formatter to work together with neoformat. We will choose yapf. First, we install this formatter with pip:\npip install yapf Then, you can format Python code with yapf formatter using neoformat.\nHow to format code? # In command mode, input Neoformat, neoformat will auto-format your source code.\nIf neoformat can not detect your file type or you haven\u0026rsquo;t installed any formatter. You can add the following command to your Nvim configuration to let neoformat do some basic format for the file:\n\u0026#34; Enable alignment let g:neoformat_basic_format_align = 1 \u0026#34; Enable tab to space conversion let g:neoformat_basic_format_retab = 1 \u0026#34; Enable trimmming of trailing whitespace let g:neoformat_basic_format_trim = 1 There is another format plugin vim-autoformat which you can try.\nCode jump (go-to) plugin # We often need to jump to the definition of class and method to check their implementation details. We can use jedi-vim to achieve this. Actually, jedi-vim can also do code auto-completion. Since we have installed deoplete and deoplete-jedi, we can disable code completion and only use the code jump function of jedi-vim. Install jedi-vim with vim-plug:\nPlug \u0026#39;davidhalter/jedi-vim\u0026#39; Use the following simple configuration:\n\u0026#34; disable autocompletion, because we use deoplete for completion let g:jedi#completions_enabled = 0 \u0026#34; open the go-to function in split, not another buffer let g:jedi#use_splits_not_buffers = \u0026#34;right\u0026#34; How to use jedi-vim # Move the cursor to the class or method you want to check, then press the various supported shortcut provided by jedi-vim:\n\u0026lt;leader\u0026gt;d: go to definition K: check documentation of class or method \u0026lt;leader\u0026gt;n: show the usage of a name in current file \u0026lt;leader\u0026gt;r: rename a name File managing and exploration plugin # Those who have been working with GUI code editors are familiar with the sidebar on the left side of the code editor, which provides an overview of files and folders in current project. How do we achieve similar functions in Nvim? You can use nerdtree. First, install it using vim-plug:\nPlug \u0026#39;scrooloose/nerdtree\u0026#39; How to use nerdtree? # How to open file navigation window? In command mode, input :NERDTree to open the directory your current file resides.\nHow do I open a file in the file explorer? Place the cursor in the file you want to open and press o to open this file in the right window.\nHow do I switch between file window and nerdtree file navigation window? This is the same as how you switch windows in Vim. Press ctrl and press w two times quickly to switch window. You can also press \u0026lt;Ctrl-w\u0026gt; and then press L.\nHow do I exit or close file explorer window? Press q while your cursor is this window? Or use NERDTreeClose command in command mode.\nFor more customization, refer to this post.\nCode checker plugin # Neomake is a tool for code syntax check and build automation for Nvim. Install it with vim-plug:\nPlug \u0026#39;neomake/neomake\u0026#39; Neomake\u0026rsquo;s syntax check for various languages relies on various linters. After installation, you need to install linters according to your programming languages. The linter for different languages are listed here.\nFor Python, we can use pylint as linter. Install pylint with pip or conda:\nconda install pylint # pip install pylint After installing pylint, we need to set it in init.vim as the Python code checker:\nlet g:neomake_python_enabled_makers = [\u0026#39;pylint\u0026#39;] Code checking # In command mode, use Neomake command to start syntax check. We can also enable automatic code check. Just add the following setting in Nvim configuration file:\ncall neomake#configure#automake(\u0026#39;nrwi\u0026#39;, 500) Pylint checks extensively on your code, which makes it a bit slow. Another code linter you can try is flake8, which is faster.\nMultiple cursor editing plugin # If you have used Sublime Text before, you must be impressed by Sublime Text\u0026rsquo;s ability to edit multiple position in the code simultaneously. This function is great when you want to refactor your code. You can achieve similar function with the help of vim-multiple-cursors. Install it with:\nPlug \u0026#39;terryma/vim-multiple-cursors\u0026#39; How to use # In normal mode, move the cursor to a variable you want to rename, press \u0026lt;Ctrl-N\u0026gt; and this variable will be highlighted. Continue press \u0026lt;Ctrl-N\u0026gt;, the next occurrence of this variable will be highlighted. If you want to skip a certain occurrence (for example, a string may contain a sub-string which is the same as the variable), just press \u0026lt;Ctrl-X\u0026gt; after this position has been highlighted. Continue selecting the occurrence of this variable until all its occurrence has been selected.\nNow, press c (in Nvim, c means to change ) and enter insert mode. Input a new name and save.\nBut, I should say that this plugin is not perfect. When you have a lot of occurrences of the variable in the file, the refactor of variable name is slow.\nThere are some discussions about Neovim\u0026rsquo;s native support for multiple cursors. But it seems that this function is still not finished as of today. You can find relevant discussions in the following links:\nhttps://github.com/neovim/neovim/issues/3845 https://github.com/neovim/neovim/issues/211 https://github.com/neovim/neovim/issues/7257 https://github.com/onivim/oni/issues/184 Highlight your yank area # In Nvim, if you yank (i.e., copy) a block of text, you do not get a visual hint about exactly what you have copied. Unless you are very familiar with Nvim, you may have copied less or more than what you want to copy, which is annoying. With the help of vim-highlightedyank, you can now highlight the text region which you have yanked. Handy little feature, isn\u0026rsquo;t it?\nYou can install it with vim-plug:\nPlug \u0026#39;machakann/vim-highlightedyank\u0026#39; Most of the time, you do not need any further settings after installing this plugin. But, for some colorschemes, you will not be able to see the highlight colors. To fix this issue, add the following setting to Nvim configuration:\nhi HighlightedyankRegion cterm=reverse gui=reverse If you feel that the highlight duration time is too short, you can increase the highlight duration (measured in ms):\n\u0026#34; set highlight duration time to 1000 ms, i.e., 1 second let g:highlightedyank_highlight_duration = 1000 Code folding plugin # For large code base, it is helpful to fold some part to get a better idea of the structure of the code. SimplyFold is nice plugin for code folding. Install it with vim-plug:\nPlug \u0026#39;tmhedberg/SimpylFold\u0026#39; You do not need further settings. It works out of the box.\nsimple usage # There are some shortcuts to manipulate code folding:\nzoï¼š Open fold in current cursor position zOï¼š Open fold and sub-fold in current cursor position recursively zcï¼š Close the fold in current cursor position zCï¼š Close the fold and sub-fold in current cursor position recursively Theme install and configuration # Before we begin # Neovim has several built-in colorschemes or themes. You may not like them and want better themes. It is easy to install a theme. But it is little tricky to make the theme display correctly as what the theme homepage shows. A lot of themes will not display well if you use an SSH client which has poor support for true colors. For Windows system, after trying several SSH clients, I find that ZOC works best. For Mac, you can use the open source tool iTerm2. To find more SSH clients which support true colors, visit this page.\nInstall themes # Gruvbox is a popular Vim colorscheme. Install it with vim-plug:\nPlug \u0026#39;morhetz/gruvbox\u0026#39; Then use :PlugInstall to install it just like you install other plugins.\nIn Nvim configuration file, activate this theme with the following setting:\ncolorscheme gruvbox It has two modes, i.e., dark and light, which can be switched using the following settings:\nset background=dark \u0026#34; use dark mode \u0026#34; set background=light \u0026#34; uncomment to use light mode Restart Nvim and you will activate the new theme. It looks like the following on my Mac:\nOther themes # There are other themes you may want to try:\none dark monokai jellybeans NeoSolarized How do I change the font? # Unlike Sublime Text, you can not set up which font to use in Nvim\u0026rsquo;s configuration. Instead, Nvim will use the font you choose for your terminal emulator. So you need to set up your favorite font in the terminal. Some good programming fonts are:\nHack FiraCode Source Code Pro Check nerd fonts for more programming fonts.\nHow to find more interesting plugins? # There is a website called vimawesome, which collects information about various Vim plugins. You can find helpful plugins on this website.\nSince most Vim plugins are published on GitHub, you can also search with vim and other keywords on GitHub to find relevant plugins. For example, search vim colorschem or vim theme to find themes designed for Vim.\nBuiltin terminal # Neovim has support for terminal emulator so that you can directly run a shell inside Neovim. It is handy for temporary shell operations.\nTo open the terminal, use :terminal or :vnew term://bash or new term://bash. After entering the terminal, you are in normal mode. Press i to start typing terminal command.\nTo exit insert mode in terminal emulator, press \u0026lt;Ctrl+\\\u0026gt;\u0026lt;Ctrl+N\u0026gt;.\nTo exit terminal emulator and close the window, use exit.\nThe difference between Nvim and Vim # Support for bracketed paste mode # Neovim has support for bracketed paste mode. The paste option in Vim is obsolete. Use :h paste and you will the following documentation:\nThis option is obsolete; bracketed-paste-mode is built-in.\nNeovim is all nocompatible # In Nvim normal mode, use :h comatible, and you will see that:\nNvim is always \u0026ldquo;nocompatible\u0026rdquo;\nFor more differences between Nvim and Vim, see here.\nTrouble shooting # In this part, I introduce some issues found when using Nvim and how to fix these issue.\nNvim colorscheme does not look right inside Tmux # If your terminal supports true color, first install the latest version of tmux4, add the following config to ~/.tmux.conf (extracted from here)\nset -g default-terminal \u0026#34;screen-256color\u0026#34; set -ga terminal-overrides \u0026#34;,xterm-256color*:Tc\u0026#34; Then the color should be fine. Otherwise, in the Nvim config file init.vim, use the following setting instead:\nset notermguicolors Also, there are some discussions here.\nHow do I get a log file when starting Neovim # Use nvim -VNUMnvim.log. NUM is used to indicate verbose level, for example:\nnvim -V10nvim.log The above command creates a log file nvim.log with verbose level 10.\nMore reference here. See also nvim --help.\nOK, that is end of this long post. You can find my complete Nvim configurations here. Happy Vimming!\nVim was first released in 1991. Its predecessor is Vi, born in 1978.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nDevelopers would send a patch to Bram. Bram will review it and then merge it on GitHub if he thinks the patch is okay.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nFor Windows, the config directory is different. Open neovim and run command :echo stdpath('config') to find the exact directory.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nCheck here on how to build the latest version of tmux from source.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 December 2018","externalUrl":null,"permalink":"/2018/12/24/centos_nvim_install_use_guide_en/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/Xnip2020-04-04_21-39-49.jpg\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"blue\"\u003eChange log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2022-01-29: Add deprecation notice\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-01-17: Install nvim via tar ball instead of appimage\u003c/font\u003e\u003c/li\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2020-12-01: Add detailed guide on installing Neovim on Linux\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eTL;DR: My complete nvim configuration is \u003ca href=\"https://github.com/jdhao/nvim-config\" target=\"_blank\"\u003ehere\u003c/a\u003e. Follow the guide there on how to\nuse it. Most of the config below also applies to Windows and Mac. For how to\nconfigure Neovim on Windows, you may also be interested in \u003ca href=\"https://jdhao.github.io/2018/11/15/neovim_configuration_windows/\" target=\"_blank\"\u003ethis post\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e2022-01-29: Note that this post is written more than three years ago.\nSome of the plugins mentioned here may not be maintained or may not be the best fit for Neovim, or even not needed,\ne.g., \u003ca href=\"https://jdhao.github.io/2020/05/22/highlight_yank_region_nvim/#neovim-only\" target=\"_blank\"\u003ehighlighted yank is builtin in Neovim since May 2020\u003c/a\u003e.\nI have shared some of the plugin changes in \u003ca href=\"https://jdhao.github.io/2021/12/31/using_nvim_after_three_years/#what-remains-what-has-changed-and-some-new-plugins\" target=\"_blank\"\u003ethis post\u003c/a\u003e.\u003c/strong\u003e\u003c/p\u003e","title":"A Complete Guide to Neovim Configuration for Python Development","type":"posts"},{"content":" Every programmer knows newline character, but may be not so familiar. In this post, I want to share what I have learned about newline handling in various cases.\nNewline characters on different platforms # Due to historical reasons, different platforms use different characters to signify a new line. On Windows, \u0026lt;CR\u0026gt;\u0026lt;LF\u0026gt; (byte code 0x0D0x0A) is used to represent newline. On Linux, \u0026lt;LF\u0026gt;(byte code 0x0A) is used to represent newline. On older Mac1, \u0026lt;CR\u0026gt;(byte code 0x0D) is used.\n\u0026lt;CR\u0026gt; and \u0026lt;LF\u0026gt; date back to the old time when typewriters is used for printing texts on paper. \u0026lt;CR\u0026gt; represents carriage return, which means to put the carriage to its left-most position. \u0026lt;LF\u0026gt; represents line feed, which means to move the paper a little higher so that you can type on a new line. You can see that these two actions combined will start a new line ready for typing.\nNewline handling in Python # Python 2 and Python 3 have different way of handling newlines. In Python 2, there is a universal newline mode, which means that no matter what the file line ending is, it will all be translated to \\n when reading files with mode specifier rU.\nIn Python 3, things have changed. The old U mode specifier has been deprecated in favor of a newline parameter in the open() method. According to the documentation:\nnewline controls how universal newlines mode works (it only applies to text mode). It can be None, \u0026lsquo;\u0026rsquo;, \u0026lsquo;\\n\u0026rsquo;, \u0026lsquo;\\r\u0026rsquo;, and \u0026lsquo;\\r\\n\u0026rsquo;. It works as follows:\nWhen reading input from the stream, if newline is None, universal newlines mode is enabled. Lines in the input can end in \u0026lsquo;\\n\u0026rsquo;, \u0026lsquo;\\r\u0026rsquo;, or \u0026lsquo;\\r\\n\u0026rsquo;, and these are translated into \u0026lsquo;\\n\u0026rsquo; before being returned to the caller. If it is \u0026lsquo;\u0026rsquo;, universal newlines mode is enabled, but line endings are returned to the caller untranslated. When writing output to the stream, if newline is None, any \u0026lsquo;\\n\u0026rsquo; characters written are translated to the system default line separator, os.linesep. If newline is \u0026rsquo;\u0026rsquo; or \u0026lsquo;\\n\u0026rsquo;, no translation takes place. when reading text files, newline is None by default, which means that system-dependent newline will be quietly replaced by \\n. If you are not aware of this behavior, you may get into trouble. For example, when you read a file with \\r\\n line ending and want to split the text into lines on Windows platform, if you use the following snippet:\nwith open(\u0026#34;some_file.txt\u0026#34;, \u0026#34;r\u0026#34;) as f: text = f.read() lines = text.split(os.linesep) you will not be able to split the text into lines. That is because on Windows platform, os.linesep is \\r\\n. But Python has secretly translated the \\r\\n in the file to \\n!\nWhen writing files, you should also be aware that \\n will be translated to platform-dependent line endings.\nNewline handling in different editors # Vim # When reading a file into the buffer, Vim will automatically detect the file format2. Then Vim will replace the platform-dependent newline characters with a special mark to mark the end of each line. When writing the buffer content back into the file, Vim will write the actual newline characters based on the detected file format.\nFor example, if you open a file with Windows-style line ending, Vim will replace all \u0026lt;CR\u0026gt;\u0026lt;LF\u0026gt; with its own newline mark. If you try to search these two characters using their byte code (\\%x0A for \u0026lt;CR\u0026gt; and \\%x0D for \u0026lt;LF\u0026gt; ), you will find nothing. Neither can you find \u0026lt;CR\u0026gt; characters using \\r in Windows file in Vim (suppose fileformats include dos). When searching in Vim, \\n is used to specify end of line, no matter what the actual newline character is for this file. So you can search the line end with \\n.\nHow do I show the \u0026lt;CR\u0026gt; characters in Vim then? # You can open a Windows file in Vim and use e ++ff=unix3 to force Vim to treat this file as a unix file. Vim will then treat the \\n characters as newline, thus removing it from the buffer. But the \\r characters in the file will now be treated as normal characters and will be shown as ^M. You will see it now.\nYou can also press \u0026lt;Ctrl-V\u0026gt; and then press \u0026lt;Enter\u0026gt; to type a carriage return character. Then you can search this character using \\r.\nA pitfall in searching and replacing newlines # In Vim, \\n is used to represent newline only when you are searching it. If you want to represent a newline in replacement, use \\r instead4. This makes no sense, but that is how Vim works.\nSublime Text # According to discussions here, Sublime Text will also convert platform-dependent newline to \\n in memory. When writing to files, it will write newlines based on the detected file type (Windows, Unix or Mac).\nNotepad++ # Notepad++ is also a popular code editor. It can detect your line endings, but it will not replace the newline with \\n. To show the newline characters in a file, go to View --\u0026gt; Show Symbol and toggle on option Show End of Line, you will be able to see the newline characters.\nConversion between different file formats? # In Vim, you can use set ff=\u0026lt;Format\u0026gt; to covert the current file to desired format, where \u0026lt;Format\u0026gt; can be unix, dos or mac.\nIn Sublime Text, just choose the desired format from the bottom right status bar.\nIn Notepad++, go to Edit --\u0026gt; EOL Conversion and choose the desired file format.\nThere are also tools such as dos2unix and unix2dos which convert between different file formats.\nReferences # Newline handling in Python3. Discussions of newline characters on StackOverflow. Different parts of a typewriters explained. https://groups.google.com/d/msg/vim_use/s0HF9GJyCo8/I0VKA2Z32BIJ https://stackoverflow.com/q/34939473/6064933 See line breaks and carriage returns in editor. How to get rid of ^M. Why does Vim sometimes shows ^M. https://blogs.msdn.microsoft.com/oldnewthing/20040318-00/?p=40193 Title image is taken from here.\nNewer Mac system also use the unix-style newline character, see discussion here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIn vim, use :h fileformats, :h file-read and :h file-formats for more info about how Vim detects and file format and reads files.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nUse :h ++ff to find more information about what this command means.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIn replace, \\n means null character \\0, which is show as ^@ in Vim. See here for more discussions.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"8 December 2018","externalUrl":null,"permalink":"/2018/12/08/newline_vim_python_sublime_notepad/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20181208223253.png\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eEvery programmer knows newline character, but may be not so familiar. In this\npost, I want to share what I have learned about newline handling in various\ncases.\u003c/p\u003e","title":"How Is Newline Handled in Python and Various Editors?","type":"posts"},{"content":"In this post, I want to write about two issues related to the ImageFont module in the PIL package.\nCan not use non-ASCII characters in font path on Windows # On Windows, if you use non-ASCII characters in font path in ImageFont.truetype() method, you will get the following error:\nOSError Traceback (most recent call last) \u0026lt;ipython-input-2-72cffff24bf9\u0026gt; in \u0026lt;module\u0026gt;() ----\u0026gt; 1 font = ImageFont.truetype(\u0026#34;../æµ‹è¯•.ttf\u0026#34;) D:\\Anaconda\\lib\\site-packages\\PIL\\ImageFont.py in truetype(font, size, index, encoding, layout_engine) 278 279 try: --\u0026gt; 280 return FreeTypeFont(font, size, index, encoding, layout_engine) 281 except IOError: 282 ttf_filename = os.path.basename(font) D:\\Anaconda\\lib\\site-packages\\PIL\\ImageFont.py in __init__(self, font, size, index, encoding, layout_engine) 143 if isPath(font): 144 self.font = core.getfont(font, size, index, encoding, --\u0026gt; 145 layout_engine=layout_engine) 146 else: 147 self.font_bytes = font.read() OSError: cannot open resource This is an issue related to how Unicode file paths are handled on Windows platform.\nA simple solution is to rename the font file to include only ASCII characters. Another solution is to read the font file in binary form. A working example is shown below:\nfrom PIL import ImageFont from io import BytesIO with open(\u0026#34;æµ‹è¯•.ttf\u0026#34;, \u0026#34;rb\u0026#34;) as f: bytes_font = BytesIO(f.read()) font = ImageFont.truetype(bytes_font) print(font.getsize(\u0026#34;test\u0026#34;)) Invalid reference when drawing text on image # When drawing text on image using PIL, you may see an error complaining about invalid reference:\npython draw_text.py Traceback (most recent call last): File \u0026#34;draw_text.py\u0026#34;, line 12, in \u0026lt;module\u0026gt; drawer.text((10, 10), \u0026#34;å¤§ç¾ä¸­åœ‹\u0026#34;, font=font, fill=(10, 10, 10)) File \u0026#34;D:\\Anaconda\\lib\\site-packages\\PIL\\ImageDraw.py\u0026#34;, line 275, in text *args, **kwargs) File \u0026#34;D:\\Anaconda\\lib\\site-packages\\PIL\\ImageFont.py\u0026#34;, line 185, in getmask2 size, offset = self.font.getsize(text, direction, features) OSError: invalid reference This is caused by a missing table in the font, which is discussed here. To fix this problem, we need to use the open-source tool ttfautohint.\nAfter downloading this tool, we can process the font to get a fixed font:\nttfautohint test.ttf test_processed.ttf After this process, you should be able to draw text on images using the processed font without any error.\n","date":"4 December 2018","externalUrl":null,"permalink":"/2018/12/04/two_issues_related_to_imagefont_pillow/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to write about two issues related to the\n\u003ca href=\"https://pillow.readthedocs.io/en/5.1.x/reference/ImageFont.html\" target=\"_blank\"\u003eImageFont\u003c/a\u003e\nmodule in the \u003ca href=\"https://github.com/python-pillow/Pillow\" target=\"_blank\"\u003ePIL\u003c/a\u003e package.\u003c/p\u003e","title":"Two Issues Related to ImageFont Module in PIL","type":"posts"},{"content":"GoldenDict æ˜¯ä¸€æ¬¾å¼€æºå­—å…¸åº”ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§å­—å…¸æ ¼å¼ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒç½‘ç»œèµ„æºã€‚æ¬§è·¯è¯å…¸ æ˜¯ä¸€æ¬¾å›½äº§çš„æŸ¥è¯è½¯ä»¶ï¼Œäº§å“åšå¾—ä¹Ÿå¾ˆä¸é”™ï¼ŒåŒæ ·æ”¯æŒå¤šç§å­—å…¸æ ¼å¼ã€‚æœ¬æ–‡ä»‹ç» GoldenDict ä»¥åŠæ¬§è·¯è¯å…¸çš„é…ç½®, ä»¥åŠå¦‚ä½•åœ¨Listary ä¸­è°ƒç”¨å®ƒä»¬å®ç°æŸ¥è¯åŠŸèƒ½ã€‚\nGoldenDict å®‰è£…é…ç½® # GoldenDict æœ€æ–°ç‰ˆå¯ä»¥ä»è¿™é‡Œä¸‹è½½ï¼Œä¸‹è½½ç›´æ¥è§£å‹å³å¯ï¼Œå…å®‰è£…ã€‚\nå®‰è£…è¯åº“ # å¦‚å‰é¢æ‰€è¯´ï¼ŒGoldenDict æ”¯æŒå¤šç§å­—å…¸æ ¼å¼ï¼Œå…¶ä¸­ MDX æ–‡ä»¶æ˜¯éå¸¸å¸¸ç”¨çš„å­—å…¸æ ¼å¼ï¼Œä»è¿™é‡Œå¯ä»¥ä¸‹è½½åˆ°ç‰›æ´¥é«˜é˜¶è¯å…¸çš„ mdx æ–‡ä»¶ã€‚ä¸‹è½½ä»¥åè§£å‹ã€‚\næ‰“å¼€ GoldenDictï¼Œè¿›å…¥ ç¼–è¾‘ -\u0026gt; è¯å…¸ï¼Œåœ¨é»˜è®¤çš„â€œè¯å…¸æ¥æºâ€é¡µé¢ä¸‹ï¼Œç‚¹å‡»â€œæ–‡ä»¶â€ï¼Œç„¶åç‚¹å‡»â€œæ·»åŠ â€ï¼Œé€‰æ‹©åˆšæ‰è§£å‹ç‰›æ´¥è¯å…¸çš„æ–‡ä»¶å¤¹ï¼Œå‹¾é€‰ â€œé€’å½’æœç´¢â€ï¼Œç„¶åç‚¹å‡»â€œé‡æ–°æ‰«æâ€ï¼Œè¿™æ ·ç‰›æ´¥è¯å…¸å°±æ·»åŠ æˆåŠŸäº†ã€‚\nç‚¹å‡» â€œè¯å…¸â€é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ç‰›æ´¥è¯å…¸å·²ç»åœ¨è¯å…¸åˆ—è¡¨é‡Œé¢äº†ï¼ˆé»˜è®¤çš„æ˜¯ç»´åŸºç™¾ç§‘è¯å…¸ï¼‰ã€‚\né…åˆ Listary ä½¿ç”¨ # Listary æ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„å‘½ä»¤å¯åŠ¨ä¸æ–‡ä»¶æœç´¢å·¥å…·ï¼Œèƒ½ä¸èƒ½ç›´æ¥ä½¿ç”¨ Listary æ¥è°ƒç”¨ GoldenDict æ¥æŸ¥è¯å‘¢ï¼Ÿå¯ä»¥çš„ï¼Œåªéœ€ç®€å•é…ç½®å³å¯ã€‚\nè¿›å…¥ Listary çš„è®¾ç½®ï¼Œç„¶åç‚¹å‡» â€œå…³é”®å­— -\u0026gt; è‡ªå®šä¹‰â€ï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„ +ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼Œé…ç½®å¦‚ä¸‹ï¼š\nå…³é”®å­—ï¼šgd æ˜¾ç¤ºåç§°ï¼šsearch word with goldenDict è·¯å¾„ï¼š \u0026lt;æ­¤å¤„å¡«å†™ goldenDict.exe çš„å®Œæ•´è·¯å¾„ï¼Œå¼•å·ä¸æ˜¯å¿…é¡»çš„\u0026gt; å‚æ•°ï¼š {query} ä¸€ä¸ªç¤ºä¾‹é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\né…ç½®å®Œæˆä»¥åï¼Œä½¿ç”¨ Ctrl-Ctrl è°ƒå‡º Listary çš„æŸ¥è¯¢ç•Œé¢ï¼Œç„¶åè¾“å…¥ gd \u0026lt;query\u0026gt; å³å¯æ‰“å¼€ GoldenDict æŸ¥è¯¢å•è¯ \u0026lt;query\u0026gt;ã€‚\næ­¤æ—¶ï¼ŒGoldenDict çš„ç®€æ˜“æŸ¥è¯ç•Œé¢å°†ä¼šå¼¹å‡ºï¼Œç»™å‡ºæ‰€æŸ¥å•è¯çš„é‡Šä¹‰ï¼š\næ¬§è·¯è¯å…¸çš„é…ç½® # æ¬§è·¯è¯å…¸ä¸‹è½½åœ°å€ä¸º https://www.eudic.net/v4/en/app/download,ä¸‹è½½å®‰è£…æ¬§è·¯è¯å…¸ä»¥åï¼Œå¯ä»¥åœ¨è®¾ç½®é‡Œæ·»åŠ ä¸‹è½½å¥½çš„ mdx è¯åº“ï¼Œè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œå…è´¹ç‰ˆæœ¬é»˜è®¤æ”¯æŒä¸¤æœ¬å¤–éƒ¨è¯åº“ã€‚\nä¸ GoldenDict ä¸åŒï¼Œè¦åœ¨ Listary ä¸­è°ƒç”¨æ¬§è·¯è¯å…¸ï¼Œéœ€è¦æŒ‡å®š --word æˆ– -w é€‰é¡¹ï¼Œä½¿ç”¨æœ€æ–°çš„ Listary 6 ç‰ˆæœ¬ï¼Œé…ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå‚è€ƒ # https://discussion.listary.com/t/listary-goldendict/3740 https://jdhao.github.io/2017/03/01/Listary_intro/#search-in-the-web-or-in-the-app æ¬§è·¯è¯å…¸å¦‚ä½•å®‰è£…è¯åº“ ","date":"4 December 2018","externalUrl":null,"permalink":"/2018/12/04/golden_dict_install_usage/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/goldendict/goldendict\" target=\"_blank\"\u003eGoldenDict\u003c/a\u003e æ˜¯ä¸€æ¬¾å¼€æºå­—å…¸åº”ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§å­—å…¸æ ¼å¼ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒç½‘ç»œèµ„æºã€‚\u003ca href=\"https://www.eudic.net/v4/en/app/eudic\" target=\"_blank\"\u003eæ¬§è·¯è¯å…¸\u003c/a\u003e æ˜¯ä¸€æ¬¾å›½äº§çš„æŸ¥è¯è½¯ä»¶ï¼Œäº§å“åšå¾—ä¹Ÿå¾ˆä¸é”™ï¼ŒåŒæ ·æ”¯æŒå¤šç§å­—å…¸æ ¼å¼ã€‚æœ¬æ–‡ä»‹ç» GoldenDict ä»¥åŠæ¬§è·¯è¯å…¸çš„é…ç½®, ä»¥åŠå¦‚ä½•åœ¨Listary ä¸­è°ƒç”¨å®ƒä»¬å®ç°æŸ¥è¯åŠŸèƒ½ã€‚\u003c/p\u003e","title":"åœ¨ Listary ä¸­è°ƒç”¨ GoldenDict æˆ–æ¬§è·¯è¯å…¸æŸ¥å•è¯","type":"posts"},{"content":"If you are using Python 3 on Windows, you may have seen a Unicode decoding error when opening files in UTF-8 format:\nUnicodeDecodeError: \u0026lsquo;gbk\u0026rsquo; codec can\u0026rsquo;t decode byte 0xaf in position 5: illegal multibyte sequence\nIf you read the same file on Linux or macOS, you will find that this file can be opened without any error. Why is there a difference? It has something to do with the default encoding Python chooses to use on different platforms.\nThe reason and the solution # Reading UTF-8 files # To show the default encoding used by Python on your platform, use the following snippet:\nimport locale locale.getpreferredencoding() The method locale.getpreferredencoding() is used to get the encoding for text files on the system. On Linux, the output is UTF-8 and on my Windows (a Chinese simplified version of Windows 10 Pro), the output is cp936, which means that UTF-8 is used as the default encoding on Linux and cp936 is used as the default encoding on Windows1.cp936 is the abbreviation for \u0026ldquo;Microsoft code page 936\u0026rdquo;, which encodes all the characters in the GBK character set.\nThe solution to this issue is quite simple. If you are sure that the file to read is encoded in UTF-8, you can use encoding=\u0026quot;utf-8\u0026quot; in the built-in open() method:\nwith open(\u0026#34;test.txt\u0026#34;, \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;): text = f.read() The Python 3 official documentation for encoding parameter says:\nencoding is the name of the encoding used to decode or encode the file. This should only be used in text mode. The default encoding is platform dependent (whatever locale.getpreferredencoding() returns), but any text encoding supported by Python can be used. See the codecs module for the list of supported encodings.\nWriting UTF-8 files # You may wonder that when you write non-ASCII characters to files on Windows, you haven\u0026rsquo;t encountered any issues related to encoding. The reason is probably that the gbk codec used can encode the characters by chance. If you use characters not in the GBK character set, you will see encoding errors. To verify this, use the following snippet:\nwith open(\u0026#34;test.txt\u0026#34;, \u0026#34;w\u0026#34;) as f: f.write(\u0026#34;ì¡°ì„ ë§\u0026#34;) If you run the above script on Windows, you may see the following error message:\nUnicodeEncodeError Traceback (most recent call last) in () 1 with open(\u0026ldquo;test.txt\u0026rdquo;, \u0026ldquo;w\u0026rdquo;) as f: \u0026mdash;-\u0026gt; 2 f.write(\u0026ldquo;ì¡°ì„ ë§\u0026rdquo;) 3\nUnicodeEncodeError: \u0026lsquo;gbk\u0026rsquo; codec can\u0026rsquo;t encode character \u0026lsquo;\\uc870\u0026rsquo; in position 0: illegal multibyte sequence\nTo solve this issue and save files in UTF-8 encoding, you should use encoding=\u0026quot;utf-8\u0026quot; when writing texts to files.\nReferences # https://stackoverflow.com/questions/36303919/python-3-0-open-default-encoding https://github.com/rkern/line_profiler/issues/37#issuecomment-153257214 UTF-8 mode in Python 3.7 Note that in different regions, the output of locale.getpreferredencoding() will change.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"3 December 2018","externalUrl":null,"permalink":"/2018/12/03/text_file_read_write_on_windows/","section":"Posts","summary":"\u003cp\u003eIf you are using Python 3 on Windows, you may have seen a Unicode decoding\nerror when opening files in UTF-8 format:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eUnicodeDecodeError: \u0026lsquo;gbk\u0026rsquo; codec can\u0026rsquo;t decode byte 0xaf in position 5: illegal multibyte sequence\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIf you read the same file on Linux or macOS, you will find that this file can\nbe opened without any error. Why is there a difference? It has something to do\nwith the default encoding Python chooses to use on different platforms.\u003c/p\u003e","title":"Reading and Writing Text Files on Windows","type":"posts"},{"content":" Steve Jobs once said that â€œtechnology alone is not enoughâ€. He thinks that truly great products reside on the intersection of technology and liberal arts. He had also told a story about how he dropped Reed college and attended the calligraphy class, which had a great impact on the font he decided to adopt on Macintosh later1.\nIn my opinion, computer font is a great demonstration of arts and aesthetics combined seamless with technology. In this post, I try to understand the mathematics behind the beauty of font. Below is the Source Han Serif font designed by Google and Adobe.\nYou may have noticed already that most fonts in use nowadays can be resized to arbitrary size and still looks good and smooth. This kind of fonts are called outline fonts (or vector fonts), as opposed to the already deprecated bitmap fonts. The fonts we now use are mostly opentype fonts, which is an extension of the truetype font format2.\nThe word â€œoutlineâ€ means that the shape of each glyph in a font is made up of straight and curved lines. Various fonts mainly use two major outline types â€” truetype outline and postscript outline. Truetype outlines are represented using quadratic BÃ©zier curves, while postscript outlines are represented using cubic BÃ©zier curves. Quadratic BÃ©zier curve is a special case for cubic BÃ©zier curve. As a result, quadratic curves can be converted to cubic curves without any loss of accuracy, while cubic curves can only be approximated by several quadratic curves.\nSince opentype font can either use truetype or postscript outlines, we can convert truetype font to opentype format without loss of accuracy, but not the other way around3.\nHow does BÃ©zier curves represent the font outline? BÃ©zier curves are parametric curves whose shapes are controlled by a parameter t and some on and off curve points. In this part, we focus on quadratic BÃ©zier curves. The shape of quadratic curves are determined by two on-curve points (or end points) and one off-curve point. The off-curve point is used to control the shape of the curve. Suppose we have three pointsï¼š \\((A_x, A_y)\\) (point A), \\((B_x, B_y)\\) (point B), and \\((C_x, C_y)\\) (point C). A and C are the end points and B is the control point. The parametric equation for the underlying curve is:\n\\[\\begin{align} P_x \u0026amp;= (1-t)^2A_x + 2t(1-t)B_x + t^2C_x \\\\ P_y \u0026amp;= (1-t)^2A_y + 2t(1-t)B_y + t^2C_y \\\\ \\end{align}\\]\nWhen parameter \\(t\\) is changed from 0 to 1 in the above equations, we can get all the points \\((P_x, P_y)\\) in the underling curve. That is, this curve can be uniquely determined once we know the position of point A, B and C.\nSee the figure above for an example of quadratic B-curve. In this example, A is \\((1.0, 1.0)\\), B is \\((1.5, 2.0)\\) and C is \\((3.0, 1.5)\\). The blue line is the generated curve when we change \\(t\\) from 0 to 1.\nFor a glyph in a font, its outline can be split into multiple small curves until it can be represented by B-curves4, which is in turn represented by three points. Ultimately, if we simplify things a bit, we can represent each glyph in a font with a set of points.\nIn the below image, I show the outline for character e from a font5:\nIn the above image, the character e is made up of two outlines. The red dots are the end points of B-curves and the cross symbols are the control points. You can see that for complex characters, the outline consists of a dozen small curves.\nHow are the characters filled? Knowing only the glyph outline is not enough. How do we actually fill the characters, i.e., how do you decide what is inside the character and what is outside? In fact, there is a rule. Each point is given a unique number starting from zero. When you traverse the outline from lower number to higher number, the â€œinsideâ€ of character is always on your right. So the outer outline of a character is numbered clockwise and the inner outline is numbered counter-clockwise. See the below image for an example:\nFurthermore, if one on-curve point is exactly in the center of two control points, it can be omitted without loss of information. So you may see there are several consecutive control points with no on-curve points in between. In the above image, for example, point 7, 8, 9 and 10 are both control points. More discussion regarding this issue can be found here.\nConclusion In this post, I have roughly covered how font outline works, that is, how the glyph shapes for a font are represented. But how we should display or print the font at various size (usually measured in pt) is another long story. Hopefully, I will try to describe that on another posts soon.\nReferences https://fontforge.github.io/bezier.html Truetype outlines How outline font is rendered on screen Very good documentation about font outline and how to convert hand design to acutal font outline Microsoft truetype font documentation You can find a detailed discussion here.â†©ï¸\nA good read about history of fonts can be found hereâ†©ï¸\nBut cubic curves can be approximated using quadratic curves with arbitary precisions. See here for more discussions.â†©ï¸\nYou can find more discussion here.â†©ï¸\nYou can use the well-known open source tool FontForge to check the character outlines of a font.â†©ï¸\n","date":"27 November 2018","externalUrl":null,"permalink":"/2018/11/27/font_shape_mathematics_bezier_curves/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20200223203853.png\"\u003e\n\u003c/p\u003e","title":"The Mathematics behind Font Shapes --- BÃ©zier Curves and More","type":"posts"},{"content":"åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“å›¾ç‰‡ä¸­çš„æ–‡å­—ç”¨çš„æ˜¯å“ªç§å­—ä½“ï¼Œæœ¬æ–‡ä»‹ç»å‡ ç§åœ¨çº¿å­—ä½“è¯†åˆ«å·¥å…·ï¼ˆä»å›¾ç‰‡è¯†åˆ«æ‰€ç”¨çš„å­—ä½“ï¼‰ï¼Œå¹¶ä¸”ç»™å‡ºä¸€äº›æé«˜å­—ä½“è¯†åˆ«å‡†ç¡®ç‡çš„æ–¹æ³•ã€‚\nè‹±æ–‡å­—ä½“è¯†åˆ« # ç”±äºè‹±æ–‡å­—ç¬¦è¾ƒå°‘ï¼Œå¸‚é¢ä¸Šè‹±æ–‡å­—ä½“è¿œå¤šäºä¸­æ–‡å­—ä½“ï¼Œè€Œä¸”å¾ˆå¤šè‹±æ–‡å­—ä½“ä¹‹é—´çš„å·®å¼‚éå¸¸ç»†å¾®ï¼Œæ‰€ä»¥æŸ¥æ‰¾è‹±æ–‡å­—ä½“æ¯”ä¸­æ–‡å­—ä½“è¦å›°éš¾ã€‚æœ‰ä¸¤ä¸ªç½‘ç«™å¯ä»¥è¯•è¯•ï¼Œä½†æ˜¯æ•ˆæœä¸æ•¢æ­ç»´ï¼Œè¿™ä¸¤ä¸ªç½‘ç«™åˆ†åˆ«æ˜¯ WhatTheFont å’Œ What Font is.\nä½¿ç”¨æ–¹æ³•ï¼šç›´æ¥æŠŠåŒ…å«è‹±æ–‡å­—ç¬¦çš„å›¾ç‰‡ä¸Šä¼ åˆ°ç½‘ç«™ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå³å¯ã€‚åŒ…å«å­—ç¬¦çš„å›¾ç‰‡è¦å°½å¯èƒ½å¤§ä¸€äº›ï¼Œè¯†åˆ«çš„æ•ˆæœæ‰ä¼šæ¯”è¾ƒå‡†ç¡®ã€‚\nä¸­æ–‡å­—ä½“è¯†åˆ« # æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸­æ–‡å­—ä½“è¯†åˆ«ï¼Œæœ‰ä¸¤ä¸ªä¸é”™çš„å­—ä½“åœ¨çº¿è¯†åˆ«ç½‘ç«™ï¼Œä¸€ä¸ªæ˜¯ è¯†å­—ä½“ç½‘ï¼ˆlikefontï¼‰ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ æ±‚å­—ä½“ç½‘ã€‚\nä¸¤ä¸ªç½‘ç«™ä½¿ç”¨æ–¹æ³•ç±»ä¼¼ï¼Œä¸ªäººæ„Ÿè§‰è¯†å­—ä½“ç½‘ çš„å­—ä½“è¯†åˆ«å‡†ç¡®ç‡æ›´é«˜ã€‚ç›´æ¥å°†åŒ…å«å­—ä½“çš„å›¾ç‰‡ä¸Šä¼ åˆ°ç½‘ç«™ï¼Œç½‘ç«™å°†ä¼šæ™ºèƒ½è¯†åˆ«å›¾ç‰‡ä¸­åŒ…å«çš„å­—ç¬¦ï¼Œå¦‚æœæ™ºèƒ½è¯†åˆ«çš„ç»“æœä¸ç†æƒ³ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„â€œæ‰‹åŠ¨æ‹¼å­—â€æ¨¡å¼ã€‚åœ¨â€œæ‰‹åŠ¨æ‹¼å­—â€æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªå­—ç¬¦å¯èƒ½è¢«åˆ†æˆäº†å¤šä¸ªå›¾åƒï¼Œæ‹–åŠ¨å›¾ç‰‡æŠŠå±äºä¸€ä¸ªå­—çš„æ‰€æœ‰å›¾åƒåˆå¹¶ï¼Œç›´åˆ°æ‹¼æˆä¸€ä¸ªå­—ã€‚ä¸ºäº†è¯†åˆ«å‡†ç¡®ï¼Œå¯ä»¥å¤šæ‹¼å‡ ä¸ªå­—ï¼Œç„¶ååœ¨æ‰€æ‹¼çš„å­—ä¸‹æ–¹å¡«å…¥å­—ç¬¦å›¾åƒå¯¹åº”çš„çœŸå®å­—ç¬¦ï¼ˆåªèƒ½å¡«å†™ä¸€ä¸ªå­—ç¬¦ï¼Œæ³¨æ„ç®€ä½“ or ç¹ä½“åŒºåˆ«ï¼‰ã€‚\nç„¶åç½‘ç«™ä¼šæ ¹æ®å­—ç¬¦çš„å›¾åƒï¼Œä»ç½‘ç«™çš„æ•°æ®åº“ä¸­æ‰¾å‡ºä¸æ‰€ç»™çš„å­—ç¬¦å›¾åƒç›¸ä¼¼çš„å­—ä½“ï¼Œå¹¶ä¸”ä¼šç»™å‡ºç›¸ä¼¼åº¦çš„è¯„åˆ†ï¼ˆè§ä¸‹å›¾ï¼‰ï¼Œéå¸¸ä¸é”™ã€‚\nå¦‚ä½•å¤„ç†èƒŒæ™¯å’Œå‰æ™¯åŒºåˆ†åº¦ä¸é«˜çš„å›¾ç‰‡ # è¿™ä¸¤ä¸ªç½‘ç«™å¯¹è¾“å…¥çš„å›¾ç‰‡éƒ½æœ‰è¦æ±‚ï¼Œä¸æ˜¯æ‰€æœ‰å›¾ç‰‡çš„è¯†åˆ«æ•ˆæœéƒ½å¾ˆå¥½ï¼š å¦‚æœå›¾ç‰‡ä¸­å­—ç¬¦çš„é¢œè‰²å’ŒèƒŒæ™¯çš„é¢œè‰²ä¸æ˜“åŒºåˆ†ï¼Œæˆ–è€…èƒŒæ™¯çš„é¢œè‰²å¤ªè¿‡å˜ˆæ‚ï¼Œå­—ä½“è¯†åˆ«å°†æ— æ³•å·¥ä½œã€‚\nå¦‚æœè¾“å…¥ä¸€å¼ ä¸ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡ï¼Œæ±‚å­—ä½“ç½‘ç«™ç›´æ¥æç¤ºå›¾ç‰‡ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯†å­—ä½“ç½‘åˆ™æ²¡æœ‰ä»»ä½•ååº”ã€‚ä¾‹å¦‚å¯¹äºä¸‹é¢çš„å›¾ç‰‡ï¼Œ\nå­—ä½“è¯†åˆ«å°†ä¸èƒ½å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å°†èƒŒæ™¯å’Œå‰æ™¯ï¼ˆå³å®é™…çš„å­—ç¬¦ï¼‰åˆ†å¾—æ›´æ¸…æ¥šã€‚\nè§£å†³åŠæ³• # å¯ä»¥ä½¿ç”¨è¿™ä¸ªç½‘ç«™æä¾›çš„å›¾åƒåˆ†å‰²æŠ€æœ¯ï¼ŒæŠŠå›¾åƒçš„å‰æ™¯èƒŒæ™¯åˆ†å‰²å¼€æ¥ï¼Œä»è€Œè·å¾—æ›´åŠ æ¸…æ™°çš„å­—ä½“å›¾åƒã€‚\né¦–å…ˆè¾“å…¥ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åç›´æ¥ç”¨é¼ æ ‡åœ¨å‰æ™¯ä¸Šç‚¹å‡»ï¼Œæ ‡è®°ä¸€äº›å‰æ™¯åƒç´ ç‚¹1ï¼Œä¸ºäº†æ ‡æ³¨å‡†ç¡®ï¼Œå¯ä»¥æ›´æ”¹ç¬”å°–å¤§å°ï¼ˆpen sizeï¼‰ã€‚\næ ‡è®°å®Œæˆä¹‹åï¼Œç‚¹å‡» runï¼Œç®—æ³•å°†ä¼šè®¡ç®—å‰æ™¯ä¸èƒŒæ™¯ï¼Œç”ŸæˆäºŒå€¼åŒ–çš„é»‘ç™½åˆ†å‰²å›¾åƒã€‚\nç‚¹å‡» \u0026ldquo;Marker\u0026rdquo; ä¼šæ˜¾ç¤ºä¹‹å‰æ ‡è®°çš„ markerï¼Œç‚¹å‡» \u0026ldquo;Segmentation result\u0026rdquo;ï¼Œæ˜¾ç¤ºçš„æ˜¯åˆ†å‰²ä»¥åçš„ç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næœ€åï¼ŒæŠŠåˆ†å‰²åçš„å›¾åƒè¾“å…¥å­—ä½“è¯†åˆ«ç½‘ç«™ï¼Œèƒ½å¤Ÿå¾—åˆ°æ¯”è¾ƒå¥½çš„å­—ä½“è¯†åˆ«ç»“æœï¼š\nå‚è€ƒèµ„æ–™ # https://sspai.com/post/39518 è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼åˆ†å‰²ç®—æ³•å°†åˆ©ç”¨æ ‡è®°çš„å‰æ™¯ç‚¹æ¥å¯»æ‰¾æ‰€æœ‰å‰æ™¯åƒç´ ï¼Œç†è®ºä¸Šæ ‡è®°çš„ç‚¹è¶Šå¤šï¼Œæ ‡è®°çš„è¶Šå‡†ç¡®ï¼Œåˆ†å‰²çš„ç»“æœè¶Šå¥½ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"22 November 2018","externalUrl":null,"permalink":"/2018/11/22/online_font_recognition_tool/","section":"Posts","summary":"\u003cp\u003eåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦çŸ¥é“å›¾ç‰‡ä¸­çš„æ–‡å­—ç”¨çš„æ˜¯å“ªç§å­—ä½“ï¼Œæœ¬æ–‡ä»‹ç»å‡ ç§åœ¨çº¿å­—ä½“è¯†åˆ«å·¥å…·ï¼ˆä»å›¾ç‰‡è¯†åˆ«æ‰€ç”¨çš„å­—ä½“ï¼‰ï¼Œå¹¶ä¸”ç»™å‡ºä¸€äº›æé«˜å­—ä½“è¯†åˆ«å‡†ç¡®ç‡çš„æ–¹æ³•ã€‚\u003c/p\u003e","title":"å¿«é€Ÿè¯†åˆ«å›¾ç‰‡å­—ä½“ï¼šå­—ä½“è¯†åˆ«å·¥å…·ä»‹ç»","type":"posts"},{"content":"Today when I use :checkhealth to check if there are anything wrong with my Neovim and related packages. I got an info that Python neovim package is not up to date. So I tried to update neovim with pip install --upgrade neovim. This is the start of a disaster which wastes me several hours.\nAfter the upgrade, when I open Neovim, it complains:\nUltiSnips requires py \u0026gt;= 2.7 or py3\nI add the following setting in my init.vim:\nlet g:python3_host_prog=\u0026#39;/home/jdhao/tools/anaconda3/bin/python\u0026#39; The above warning message disappears. Each time I open nvim, I see the error message:\n[deoplete] deoplete failed to load. Try the :UpdateRemotePlugins command and restart Neovim. See also :checkhealth.\nI follow the guide and use :UpdateRemotePlugins command. Then I got another error message:\nfunction remote#host#UpdateRemotePlugins[6]..\u0026lt;SNR\u0026gt;36_RegistrationCommands[15]..remote#host#Require[10]..provider#pythonx#Require[13]..provider#Poll, line 4 Vim(if):ch 3 was closed by the client function remote#host#UpdateRemotePlugins[6]..\u0026lt;SNR\u0026gt;36_RegistrationCommands[15]..remote#host#Require[10]..provider#pythonx#Require[13]..provider#Poll, line 14 Failed to load python3 host. You can try to see what happened by starting nvim with $NVIM_PYTHON_LOG_FILE set and opening the generated log file. Also, the host stderr is available in messages. remote/host: generated rplugin manifest: /home/jdhao/.local/share/nvim/rplugin.vim I may also get the error message:\nfunction remote#host#UpdateRemotePlugins[6]..\u0026lt;SNR\u0026gt;36_RegistrationCommands[15]..remote#host#Require[10]..provider#pythonx#Require[13]..provider#Poll, line 4 Vim(if):ch 3 was closed by the client Traceback (most recent call last): File \u0026#34;\u0026lt;string\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; ModuleNotFoundError: No module named \u0026#39;neovim\u0026#39; function remote#host#UpdateRemotePlugins[6]..\u0026lt;SNR\u0026gt;36_RegistrationCommands[15]..remote#host#Require[10]..provider#pythonx#Require[13]..provider#Poll, line 14 Failed to load python3 host. You can try to see what happened by starting nvim with $NVIM_PYTHON_LOG_FILE set and opening the generated log file. Also, the host stderr is available in messages. remote/host: generated rplugin manifest: /home/jdhao/.local/share/nvim/rplugin.vim In fact, neovim is already installed and conda list|grep neovim shows:\nneovim 0.3.1 I tried to unistall neovim and reinstall:\npip uninstall neovim pip install neovim # or pip install --no-cache-dir neovim and the error was not gone. Installing the neovim package under user directory also does not work:\n# does not work pip install --user neovim Why is neovim package not found but pip reports that neovim is installed? When I go to $ANACONDA_ROOT/Lib/site-packages, ls neovim* only shows the neovim egg/wheel info directory. There is acutually no package installed. That is the reason why neovim pacakge is not found.\nFinally, I decided to do a complete uninstall and reinstall neovim. By complete uninstall, I mean to remove all dependency packages installed along with neovim. These dependency packages are:\npynvim msgpack greenlet After uninstalling these packages and reinstall neovim with pip install --no-cache-dir neovim, the error finally disappeared:\npip uninstall -y neovim pynvim msgpack greenlet pip install neovim Now, ls|grep neovim command in Anaconda Python site package directory shows:\n205:neovim/ 206:neovim-0.3.1.dist-info/\nSo the neovim Python client is successfully installed. Now open neovim and use issue UpdateRemotePlugins command, you will see:\nremote/host: python3 host registered plugins [\u0026#39;deoplete\u0026#39;] remote/host: generated rplugin manifest: /home/jdhao/.local/share/nvim/rplugin.vim Restart Neovim and the error message will disappear. You will be able to use autocompletion again.\nReferences # https://github.com/Shougo/deoplete.nvim/issues/550 https://github.com/neovim/neovim/issues/8085 https://github.com/neovim/pynvim/issues/380 ","date":"19 November 2018","externalUrl":null,"permalink":"/2018/11/19/deoplete_failed_to_load_neovim/","section":"Posts","summary":"\u003cp\u003eToday when I use \u003ccode\u003e:checkhealth\u003c/code\u003e to check if there are anything wrong with my\nNeovim and related packages. I got an info that \u003ca href=\"https://github.com/neovim/pynvim\" target=\"_blank\"\u003ePython \u003ccode\u003eneovim\u003c/code\u003e\npackage\u003c/a\u003e is not up to date. So I tried to\nupdate neovim with \u003ccode\u003epip install --upgrade neovim\u003c/code\u003e. This is the start of a\ndisaster which wastes me several hours.\u003c/p\u003e","title":"Deoplete Failed to Load at Startup after Updating Python neovim Package","type":"posts"},{"content":"On Windows system, if you install Python3 via Anaconda. Under Anaconda root directory, there is a directory named Scripts, in which pip.exe, pip3.exe and pip3.6.exe all exist. When we want to install a package, a natural question arises, is there any difference if I use pip install PACKAGE or pip3 install PACKAGE?\nOn Windows # The three executables have exactly the same file size and file last-mod time:\nIf you show their version information, the output is also exactly the same. On my system, the output is:\npip 18.1 from d:\\anaconda\\lib\\site-packages\\pip (python 3.6)\nSo, on Windows, the three executables have no difference.\nWhat about Linux? # On Linux, the default python is usually Python 2. If you are a system administrator and install python2-pip package, you will see that pip and pip2 under /usr/bin are the same. If you also installed python3-pip, there will an executable named pip3 under /usr/bin. Under this situation, pip and pip2 is used for installing Python 2.X packages and pip3 is used for Python 3.\nYou can also verify this by using pip[3] --version. On my system (Ubuntu on Windows), the result of pip --version is:\npip 9.0.1 from /usr/lib/python2.7/dist-packages (python 2.7)\n, while the output of pip3 --version is;\npip 9.0.1 from /usr/lib/python3/dist-packages (python 3.6)\nIt is clear that they are different.\nReferences # https://www.reddit.com/r/learnpython/comments/4j1f3x/do_i_use_pip_or_pip3_or_pip34_to_install_packages/ https://stackoverflow.com/questions/40832533/pip-or-pip3-to-install-packages-for-python-3 ","date":"19 November 2018","externalUrl":null,"permalink":"/2018/11/19/anaconda3_windows_difference_between_pip_pip3/","section":"Posts","summary":"\u003cp\u003eOn Windows system, if you install Python3 via\n\u003ca href=\"https://www.anaconda.com/download/#windows\" target=\"_blank\"\u003eAnaconda\u003c/a\u003e. Under Anaconda root directory,\nthere is a directory named \u003ccode\u003eScripts\u003c/code\u003e, in which \u003ccode\u003epip.exe\u003c/code\u003e, \u003ccode\u003epip3.exe\u003c/code\u003e and\n\u003ccode\u003epip3.6.exe\u003c/code\u003e all exist. When we want to install a package, a natural question\narises, is there any difference if I use \u003ccode\u003epip install PACKAGE\u003c/code\u003e or \u003ccode\u003epip3 install PACKAGE\u003c/code\u003e?\u003c/p\u003e","title":"What Is The Difference between pip, pip3 and pip3.6 Shipped with Anaconda3?","type":"posts"},{"content":" æœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨ Windows ç³»ç»Ÿä¸‹å®‰è£…å¹¶é…ç½®ç»ˆç«¯ä¸Šçš„ Neovimã€‚å…³äºå¦‚ä½•é…ç½® Neovim çš„ GUI å®¢æˆ·ç«¯ nvim-qtï¼Œå¯ä»¥å‚è€ƒ è¿™ç¯‡åšå®¢ã€‚\nTL;DR: é•¿æ—¶é—´åœ¨ Windows ä½¿ç”¨ Neovim ç¼–ç¨‹ä»¥åï¼Œæˆ‘è®¤ä¸ºè¦åœ¨ Windows ä¸Šè·å¾—ä½¿ç”¨ Neovim çš„æœ€ä½³ä½“éªŒï¼Œå¿…é¡»ä½¿ç”¨ GUI å®¢æˆ·ç«¯ï¼ˆä½¿ç”¨ GUI å®¢æˆ·ç«¯èƒ½é¿å…å¾ˆå¤šå°é—®é¢˜ï¼‰ï¼Œè€Œä¸æ˜¯åœ¨ç»ˆç«¯å‘½ä»¤è¡Œä½¿ç”¨ Neovimã€‚å¦å¤–ï¼ŒWindows ç³»ç»Ÿä¸‹ä¸€äº›ä¸é”™çš„ GUI å®¢æˆ·ç«¯æœ‰ Nvim-qt å’Œ fvimï¼ˆæ–°å‡ºæ¥çš„ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œä½“éªŒä¸é”™ï¼‰ã€‚\nå¼€å§‹ä¹‹å‰ # Windows è‡ªå¸¦çš„ CMD å‘½ä»¤è¡Œéå¸¸ç³Ÿç³•ï¼Œä¸ä»…é¢œè‰²éš¾çœ‹ï¼Œè€Œä¸”ç¼ºä¹è®¸å¤šå¸¸ç”¨çš„ Linux å‘½ä»¤ã€‚ä¸å»ºè®®ä½¿ç”¨ CMD ä½œä¸ºå‘½ä»¤è¡Œç»ˆç«¯ï¼Œå»ºè®®ä½¿ç”¨ Cmderã€‚Cmder å®‰è£…çš„æ—¶å€™ï¼Œä¹Ÿé™„å¸¦å®‰è£…äº† Git for Windows å’Œå…¶ä»–çš„ä¸€äº›å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨ Linux ä¸‹çš„å¸¸ç”¨å‘½ä»¤ï¼Œå¦‚ ls, find, pwd ç­‰ç­‰ã€‚\nå¦‚ä½•å®‰è£… Neovim # Neovim é’ˆå¯¹å„ä¸ªç³»ç»Ÿå‡æœ‰ç¼–è¯‘å¥½çš„å®‰è£…åŒ…ï¼Œç”¨æˆ·æ— éœ€è‡ªå·±ç¼–è¯‘ï¼Œçœå»äº†å¤§é‡é…ç½®æ—¶é—´ï¼Œå®‰è£…éå¸¸æ–¹ä¾¿ã€‚ä» è¿™é‡Œ å¯ä»¥ä¸‹è½½åˆ° Neovim win-64 ä½å®‰è£…åŒ…ï¼Œç›´æ¥è§£å‹å®‰è£…åŒ…å³å¯å®Œæˆå®‰è£…ã€‚å¦å¤–ï¼Œéœ€è¦æŠŠ Neovim å¯æ‰§è¡Œç¨‹åºæ‰€åœ¨çš„ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿçš„ PATH ä¸­ï¼Œç¡®ä¿åœ¨å‘½ä»¤è¡Œå¯ä»¥ä½¿ç”¨ nvim è¿™ä¸ªå‘½ä»¤æ‰“å¼€ Neovimã€‚\nå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ Chocolatey æˆ–è€… scoop ç­‰åŒ…ç®¡ç†å·¥å…·å®‰è£… Neovimï¼Œå…·ä½“å¯ä»¥å‚è€ƒ è¿™é‡Œ çš„è¯´æ˜ã€‚\né…ç½® # é…ç½®æ–‡ä»¶åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ # Neovim ä½¿ç”¨äº†å’Œ Vim ä¸åŒçš„é…ç½®æ–‡ä»¶åç§°ä»¥åŠé…ç½®æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼Œæ ¹æ® Neovim å®˜æ–¹æ–‡æ¡£ï¼ŒNeovim çš„é…ç½®æ–‡ä»¶åº”è¯¥å‘½åä¸º init.vimï¼Œå¹¶ä¸”åº”è¯¥æ”¾åœ¨ ~/AppData/Local/nvim ç›®å½•ä¸‹1ã€‚\nå®‰è£…æ’ä»¶ç®¡ç†å™¨ vim-plug # Vim-plug æ˜¯ä¸€ä¸ªä¸é”™çš„æ’ä»¶ç®¡ç†å™¨ï¼Œè¦å®‰è£… vim-plugï¼Œé¦–å…ˆæ‰“å¼€ PowerShell çª—å£ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹çš„å‘½ä»¤ï¼š\nmd ~\\AppData\\Local\\nvim\\autoload $uri = \u0026#39;https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\u0026#39; (New-Object Net.WebClient).DownloadFile( $uri, $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath( \u0026#34;~\\AppData\\Local\\nvim\\autoload\\plug.vim\u0026#34; ) ) åœ¨ Neovim çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹çš„ vim-plug ç¤ºä¾‹é…ç½®ï¼š\ncall plug#begin(\u0026#39;~/AppData/Local/nvim/plugged\u0026#39;) \u0026#34; below are some vim plugin for demonstration purpose Plug \u0026#39;joshdick/onedark.vim\u0026#39; Plug \u0026#39;iCyMind/NeoSolarized\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; call plug#end() æ‰“å¼€ Neovimï¼Œç„¶åè¿è¡Œ :PlugInstall å‘½ä»¤ï¼Œæ‰€æœ‰è¦å®‰è£…çš„æ’ä»¶éƒ½ä¼šè¢«å®‰è£…åˆ°ç›®å½• ~/AppData/Local/nvim/plugged ä¸‹. å½“ç„¶ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚ï¼Œæ›´æ”¹æ’ä»¶å®‰è£…çš„ç›®å½•ã€‚\né—®é¢˜åŠè§£å†³æ–¹æ¡ˆ # é€€å‡º Neovim çª—å£çš„æ—¶å€™ï¼Œbuffer é‡Œé¢çš„å†…å®¹æœªæ¸…ç©º # åœ¨å‘½ä»¤è¡Œä½¿ç”¨ Neovim æ—¶ï¼Œå½“é€€å‡º Neovim çª—å£ï¼ŒåŸæ¥çš„çª—å£é‡Œé¢çš„æ–‡å­—å†…å®¹ä»ç„¶æ˜¾ç¤ºåœ¨å‘½ä»¤è¡Œï¼Œå¹¶æœªè¢«æ¸…ç©ºï¼Œæµªè´¹äº†å¤§é‡çš„ç©ºé—´ã€‚è¿™å’Œ Neovim åœ¨ Linux ä¸‹çš„è¡¨ç°ä¸ç›¸åŒï¼Œå¦‚ä½•åœ¨é€€å‡º Neovim ä»¥åè‡ªåŠ¨æ¸…é™¤è¿™äº›æ–‡å­—å†…å®¹å‘¢ï¼Ÿ\nç»è¿‡ä¸€ç•ªæœç´¢ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªå¯¹ Cmder æœ‰æ•ˆçš„è§£å†³æ–¹æ³•ã€‚æ‰“å¼€ Cmder çš„é…ç½®ï¼Œæ‰¾åˆ° Startup -\u0026gt; Environmentï¼Œæ·»åŠ å¦‚ä¸‹çš„é…ç½®ï¼š\nset TERM=xterm-256color é‡å¯ Cmderï¼Œä»¥ä¸Šçš„é—®é¢˜åº”è¯¥å°±æ¶ˆå¤±äº†ã€‚æ›´å¤šè®¨è®ºï¼Œå‚è§è¿™é‡Œ.\nå½“é…ç½®æ–‡ä»¶å‡ºé”™æ—¶ï¼Œæ— æ³•è¿›å…¥ Neovim çª—å£ # åœ¨å‘½ä»¤ä½¿ç”¨ Neovimï¼Œå¦‚æœé…ç½®æ–‡ä»¶æŸè¡Œè®¾ç½®æœ‰é”™ï¼Œåœ¨æ‰“å¼€ Neovim æ—¶ï¼Œæˆ‘ä»¬ä¼šæ”¶åˆ°å¦‚ä¸‹æç¤ºï¼š\nPress ENTER or type command to continue\nç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬æŒ‰ä¸‹ Enterï¼ŒNeovim ä¹Ÿä¸ä¼šå¯åŠ¨ã€‚Neovim ç¨‹åºä¼šå¡æ­»åœ¨é‚£é‡Œï¼Œé™¤éä½ ä½¿ç”¨ Ctrl+ C å¼ºè¡Œå…³é—­è¿™ä¸ªè¿›ç¨‹ã€‚\nä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæ ¹æ® è¿™é‡Œ çš„å›ç­”ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Neovimï¼š\nnvim --cmd silent! ä¸€äº›å¿«æ·é”®æ— æ³•æ­£å¸¸å·¥ä½œ # Neovim å’Œ Cmder çš„å¿«æ·é”®å†²çª # éƒ¨åˆ†åŸå› æ˜¯ Neovim å’Œ Cmder çš„æŸäº›å¿«æ·é”®æœ‰å†²çªï¼Œä¾‹å¦‚åœ¨ Cmder ä¸­ï¼ŒCtrl-W ç”¨æ¥å…³é—­ä¸€ä¸ª console çª—å£ã€‚ä½†æ˜¯ Ctrl-W åœ¨ Neovim è¢«ç”¨äºå’Œçª—å£ç›¸å…³çš„æ“ä½œã€‚å¯èƒ½è¿˜å­˜åœ¨å…¶ä»–æœ‰å†²çªçš„å¿«æ·é”®ï¼Œä¾‹å¦‚ Ctrl-v æ— æ³•åƒ Linux ä¸‹é‚£æ ·å·¥ä½œã€‚\nè¦ç¦æ­¢ Cmder ä¸­å’Œ Neovim å†²çªçš„å¿«æ·é”®ï¼Œå¯ä»¥åœ¨è®¾ç½®çš„ Keys \u0026amp; Macro éƒ¨åˆ†æ›´æ”¹æˆ–è€…ç¦æ­¢é‚£äº›å†²çªçš„å¿«æ·é”®ï¼Œ\n\u0026lt;Ctrl-6\u0026gt; æ— æ³•å·¥ä½œ? # åœ¨ Linux æˆ–è€… Mac ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Ctrl-^(å®é™…ä¸Šæ˜¯Ctrl-6) æ¥åˆ‡æ¢ Neovim çš„ bufferï¼Œä½†æ˜¯åœ¨ Windows Cmder å‘½ä»¤è¡Œä¸‹é¢ï¼Œæˆ‘å‘ç° \u0026lt;Ctrl-6\u0026gt; ä¸èµ·ä½œç”¨ï¼ŒæŒ‰ä¸‹ä»¥åä¹Ÿæ— æ³•åˆ‡æ¢ bufferã€‚æˆ‘è¯•ç€æŠŠ Ctrl-6 æ˜ å°„ä¸º Ctrl-^:\nnnoremap \u0026lt;C-6\u0026gt; \u0026lt;C-^\u0026gt; è¿˜æ˜¯ä¸èµ·ä½œç”¨ã€‚ç›®å‰æš‚æ—¶ä½¿ç”¨ Ctrl+shift+6 æ¥åˆ‡æ¢ bufferã€‚\næˆ‘çš„å®Œæ•´ Neovim é…ç½®å¯ä»¥åœ¨ è¿™é‡Œ æŸ¥çœ‹ã€‚å…³äºå¦‚ä½•é…ç½® Neovim Python å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥çœ‹ è¿™ç¯‡æ–‡ç« ã€‚\nå‚è€ƒé“¾æ¥ # Neovim é…ç½®æ–‡ä»¶åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ è®¾ç½® Cmder çš„ç»ˆç«¯ç±»å‹ã€‚ Changing Cmder hotkey Ctrl-6 ä¸èµ·ä½œç”¨ã€‚ Shift+Insert ä¸èµ·ä½œç”¨ã€‚ Shift+Insert ä¸èµ·ä½œç”¨ã€‚ æ‰“å¼€ Neovimï¼Œä½¿ç”¨ :echo stdpath('config') å¯ä»¥æŸ¥çœ‹è¯¥ç›®å½•çš„å…·ä½“ä½ç½®ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 November 2018","externalUrl":null,"permalink":"/2018/11/16/neovim_configuration_windows-zh/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190119221237.png\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003eæœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨ Windows ç³»ç»Ÿä¸‹å®‰è£…å¹¶é…ç½®ç»ˆç«¯ä¸Šçš„ \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003eã€‚å…³äºå¦‚ä½•é…ç½® Neovim çš„ GUI å®¢æˆ·ç«¯ \u003ca href=\"https://github.com/equalsraf/neovim-qt\" target=\"_blank\"\u003envim-qt\u003c/a\u003eï¼Œå¯ä»¥å‚è€ƒ \u003ca href=\"https://jdhao.github.io/2019/01/17/nvim_qt_settings_on_windows/\" target=\"_blank\"\u003eè¿™ç¯‡åšå®¢\u003c/a\u003eã€‚\u003c/p\u003e","title":"Windows 10 ç³»ç»Ÿä¸‹ Neovim å®‰è£…ä¸é…ç½®","type":"posts"},{"content":"Today when I try to move a file using shutil.move() on my Windows machine, I encounter an error message:\nPermissionError: [WinError 32] The process cannot access the file because it is being used by another process\nIn this post, I will write about what I have learned from this error.\nHow to move files correctly on Windows # On Windows, before moving a file, you must close it. Or, you will see the above error message.\nSuppose that we want to move images in a child directory images/ to another child directory small_image/ if the width of an image is below a threshold. On Windows system, the correct way to do it is like the following:\nfrom glob import glob from PIL import Image all_images = glob(\u0026#34;images/*.jpg\u0026#34;) for i, im_path in enumerate(all_images): im = Image.open(im_path) width = im.width # we must close the image before moving it to another directory im.close() if width \u0026lt; 15: shutil.move(im_path, \u0026#39;small_images/\u0026#39;) On Linux, you are not required to close the file before moving it, i.e., you can move a file even if it is opened by another process.\nHow to move a file if a file with the same name already exists in the destination directory? # On both Linux and Windows, when you try to move a file using shutil.move(src, dst) with dst set as a directory path, you will encounter the following error message if a file with the same name already exists under dst:\nshutil.Error: Destination path \u0026lsquo;./test.txt\u0026rsquo; already exists\nThe solution is to use the full file path in dst, i.e., a complete path to the new file. If a file with the same name exists under the destination folder, it will be silently replaced. If that behaviour is not what you want, you may consider renaming the file under the new directory.\nReferences # Solve the issue of \u0026ldquo;file used by another process\u0026rdquo; Solve the \u0026ldquo;file already exists\u0026rdquo; error when using shutil.move(). Different behaviour of shutil.move on Windows and Mac. ","date":"15 November 2018","externalUrl":null,"permalink":"/2018/11/15/shutil_linux_windows_usage/","section":"Posts","summary":"\u003cp\u003eToday when I try to move a file using\n\u003ca href=\"https://docs.python.org/3/library/shutil.html#shutil.move\" target=\"_blank\"\u003e\u003ccode\u003eshutil.move()\u003c/code\u003e\u003c/a\u003e on\nmy Windows machine, I encounter an error message:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ePermissionError: [WinError 32] The process cannot access the file because it is being used by another process\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIn this post, I will write about what I have learned from this error.\u003c/p\u003e","title":"How to Use shutil.move() on Windows and Linux","type":"posts"},{"content":" update: 2020-11-15, add detailed instruction for Neovim config location.\nTL;DR: After nearly one year of using Neovim on Windows, I find that the best experience one can get on Windows is to use GUI Neovim client such as Nvim-qt or fvim, not the terminal Nvim1.\nIn this post, I want to share how to install and configure Neovim on Windows 102. For configurations of nvim-qt on Windows, check this post.\nBefore we begin # The built-in CMD on Windows is awful and lacks features of a normal Linux terminal. I strongly recommend readers using a better terminal emulator, for example, Cmder, which comes with Git for Windows and other utilities for you.\nInstall # You can download the neovim nightly release from its GitHub repo. Then extract the package, add the extracted folder to your system PATH variable, and make sure that you can invoke nvim on the command line.\nSee here for other ways to install Neovim on Windows.\nConfiguration # Where to put the configuration file? # A common confusion for novice users of Neovim is that they do not know where to put the config files. It is in fact quite simple.\nFirst of all, the neovim config file is named init.vim regardless of your system.\nSecond, based on Neovim official documentation, you should put init.vim under the directory ~/AppData/Local/nvim on Windows. To find here that directory is exactly, use the command :echo stdpath('config') inside Neovim.\nIf this directory does not exist, do not worry. Just create it and put your config file there.\nInstall plugin-manager vim-plug # vim-plug is popular plugin manager for Neovim. To install it on Windows, open a PowerShell terminal (not Windows CMD!), and execute the following command:\nmd ~\\AppData\\Local\\nvim\\autoload $uri = \u0026#39;https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\u0026#39; (New-Object Net.WebClient).DownloadFile( $uri, $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath( \u0026#34;~\\AppData\\Local\\nvim\\autoload\\plug.vim\u0026#34; ) ) In init.vim, use the following settings for vim-plug:\ncall plug#begin(\u0026#39;~/AppData/Local/nvim/plugged\u0026#39;) \u0026#34; below are some vim plugins for demonstration purpose. \u0026#34; add the plugin you want to use here. Plug \u0026#39;joshdick/onedark.vim\u0026#39; Plug \u0026#39;iCyMind/NeoSolarized\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; call plug#end() When we run command :PlugInstall, all the plugins will be installed under ~/AppData/Local/nvim/plugged. We can also change this directory to where we want, for example, ~/AppData/Local/nvim-data/plugged.\nIssues # The Neovim window content is not cleared when I exit # When I exit Neovim, the text content inside the buffer is still shown in the command line, wasting a lot of space. How do we clear the Neovim window content after exit?\nAfter some research, I have finally found a solution that works for Cmder. Open Cmder settings and go to Startup -\u0026gt; Environment, add the following settings:\nset TERM=xterm-256color Restart Cmder and the issue should disappear. More discussions can be found here.\nCan not enter Neovim if there are errors in config file # If there are errors in init.vim, Neovim will prompt you the following message during startup:\nPress ENTER or type command to continue\nHowever, pressing Enter has no effect. Neovim will hang unless you press Ctrl-C to terminate the process.\nTo circumvent this issue, according to this issue, try to open Neovim with the following option:\nnvim --cmd silent! Some shortcuts do not work # Shortcut conflict with Cmder # For Cmder, Ctrl-W is used to close a console. Unfortunately, this shortcut is also used by Neovim as prefix for window operations. Maybe there are some other conflicting shortcuts, for example, Ctrl-V does work like Linux.\nTo disable the conflicting shortcuts in Cmder, go to Keys \u0026amp; Macro part to change or disable a shortcut.\n\u0026lt;Ctrl-6\u0026gt; does not work? # On Linux, we can use Ctrl-^(actually Ctrl-6) to switch buffers. However, on Windows, using \u0026lt;Ctrl-6\u0026gt; for buffer switching does not work in terminal nvim. I try to map Ctrl-6 to Ctrl-^:\nnnoremap \u0026lt;C-6\u0026gt; \u0026lt;C-^\u0026gt; It doesn\u0026rsquo;t work either. Until I find the solution , I use Ctrl+shift+6 to switch buffers.\nMy complete configurations for Neovim can be found in this repo. For How to configure Neovim for Python development, check this post.\nReferences # Where to put Neovim config file. Set terminal type for Cmder. Changing Cmder hotkeys Ctrl-6 does not work Shift+Insert does not work Shift+Insert does not work Maybe the situation will change after Microsoft\u0026rsquo;s windows terminal become mature enough.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIt should work for Windows 7 as well.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"15 November 2018","externalUrl":null,"permalink":"/2018/11/15/neovim_configuration_windows/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190119221237.png\" width=\"600\"\u003e\n\u003c/p\u003e\n\u003cp\u003e\u003cfont color=\"blue\"\u003eupdate: 2020-11-15, add detailed instruction for Neovim config location.\u003c/font\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTL;DR\u003c/strong\u003e: After nearly one year of using Neovim on Windows, I find that the\nbest experience one can get on Windows is to use GUI Neovim client such as\n\u003ca href=\"https://github.com/equalsraf/neovim-qt\" target=\"_blank\"\u003eNvim-qt\u003c/a\u003e or \u003ca href=\"https://github.com/yatli/fvim\" target=\"_blank\"\u003efvim\u003c/a\u003e, not the terminal Nvim\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e.\u003c/p\u003e\n\u003cp\u003eIn this post, I want to share how to install and configure Neovim on Windows 10\u003csup id=\"fnref:2\"\u003e\u003ca href=\"#fn:2\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e2\u003c/a\u003e\u003c/sup\u003e.\nFor configurations of \u003ca href=\"https://github.com/equalsraf/neovim-qt\" target=\"_blank\"\u003envim-qt\u003c/a\u003e on Windows, check \u003ca href=\"https://jdhao.github.io/2019/01/17/nvim_qt_settings_on_windows/\" target=\"_blank\"\u003ethis post\u003c/a\u003e.\u003c/p\u003e","title":"Neovim configuration on Windows 10","type":"posts"},{"content":"On Linux system, if we do not have root priviledge, we can not use package managers to install a package to its default location (usually under /usr). Besides, the packages installed by the package managers are often too old to have the latest features. Or, even if we have root priviledge, we do not want to mess up with the system-wide packages and just want to experiment with a package locally. On these ocassions, we may want to install the package to a custom location.\nThe standard procedure to build and install a package from source is something like the following:\n./configure make \u0026amp;\u0026amp; make install By default, the package will be installed under /usr and you must have root priviledge. If you are not familiar with these steps. Read here and here for more discussions on what each step does.\nIn order to install the package to a custom location and find dependency packages which are not installed on standard locations, we need to set custom options and variables for the configure script. In this post, I will explain the meaning of --prefix, CLFAGS, CXXFLAGS, CPPFLAGS and LDFLAGS.\nThe meaning of these options and variables # --prefix # --prefix is used to tell make where to install the compiled packages. For example, if you use --prefix=$HOME/local, after building the package using make -j, if you do a make install, the binary file will be put in $HOME/local/bin, the library file will be put in $HOME/local/lib or $HOME/local/lib64, the header file will be put in $HOME/local/include and the help file and other resources may be put in $HOME/local/share.\nCFLAGS and CXXFLAGS # CFLAGS and CXXFLAGS are used to set up C and C++ compilers respectively. On most Linux system, the C compiler is usually gcc, while the C++ compilers is usually g++.\nCPPFLAGS # The CPPFLAGS is often mis-understood to set up C++ compiler options. In fact, it is used by C/C++ preprocessors. It tells preprocessor where to find the header files. If you need to set up C++ compiler, you should use CXXFLAGS variable. A valid CPPFLAGS is something like CPPFLAGS=\u0026quot;-I$HOME/local/include\u0026quot;.\nLDFLAGS # LDFLAGS is used to set up the path of library files. For example, LDFLAGS=\u0026quot;-L$HOME/local/lib\u0026quot;.\nConclusion # In this post, I introduced some of the most commonly-used options and flags for the configure script when building packages from source. Understanding these options and flags will help you succeed in building the packages.\nReference # CPPFLAGS vs CXXLAGS. CFLAGS vs CPPFLAGS Variable meanings from GNU offical doc compiler flags on Unix system ","date":"7 November 2018","externalUrl":null,"permalink":"/2018/11/07/option_flag_meaning_build_packages_from_source/","section":"Posts","summary":"\u003cp\u003eOn Linux system, if we do not have root priviledge, we can not use package\nmanagers to install a package to its default location (usually under \u003ccode\u003e/usr\u003c/code\u003e).\nBesides, the packages installed by the package managers are often too old to\nhave the latest features. Or, even if we have root priviledge, we do not want\nto mess up with the system-wide packages and just want to experiment with a\npackage locally. On these ocassions, we may want to install the package to a\ncustom location.\u003c/p\u003e","title":"Commonly-used Building Options Explained","type":"posts"},{"content":" fzf is a fast and powerful fuzzy file search tool on the command-line. In this post, I will introduce its installation and usage.\nInstallation # Two step install # We can use git to install fzf:\ngit clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf ~/.fzf/install The above command will install fzf under ~/.fzf/bin.\nIf you want to enable fzf inside Neovim, add the following setting to Neovim configuration (suppose your plugin manager is vim-plug):\nPlug \u0026#39;~/.fzf\u0026#39; One step install # We can install fzf and enable it inside Neovim in one step. Use the following configuration for Neovim:\nPlug \u0026#39;junegunn/fzf\u0026#39;, { \u0026#39;dir\u0026#39;: \u0026#39;~/.fzf\u0026#39;, \u0026#39;do\u0026#39;: \u0026#39;./install --all\u0026#39; } You can change the directory where you want to install fzf.\nHow to use # As Nvim plugin # Inside Nvim, we can search and open files quickly using the command provided by fzf:\n:FZF \u0026#34; find file under current directory :FZF ~ \u0026#34; find file under HOME directory For convenience, we can add shortcut mappings for the above commands:\nnnoremap \u0026lt;silent\u0026gt; \u0026lt;leader\u0026gt;f :FZF\u0026lt;cr\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;leader\u0026gt;F :FZF ~\u0026lt;cr\u0026gt; You can use Ctrl + N and Ctrl + P or the arrow key to navigate through the list of files found by fzf. To open the file in Neovim, fzf provides several shortcut key:\n\u0026lt;Enter\u0026gt;: open file in current window Ctrl + T: open file in new tab page Ctrl + X: open file in new horizontal window Ctrl + V: open file in new vertical window To close the file search window, use Esc or Ctrl+C.\nUse fzf with other command # You can also use fzf in conjunction with other command. For example, you can use fzf and nvim together. Fzf is used to find the file and then open the file with nvim:\nnvim $(fzf) Use fzf alone # Fzf provide several command-line shortcut after installation:\nCtrl + T: paste the path of file or directory found on the command line Ctrl + R: find history command and paste command on the command line Alt + C: cd to specific directory Note that Ctrl + T å’Œ Alt + C will only find file or folder under current directory. If you can not find a file, please make sure that it exists under current directory.\nBy default, fzf use find to search files. You can use the variable FZF_DEFAULT_COMMAND to change the default search command. For example, if you have installed the silver searcher, AKA, ag, you may want to use the following setting in your .bash_profile:\nexport FZF_DEFAULT_COMMAND=\u0026#39;ag --hidden --ignore .git -g \u0026#34;\u0026#34;\u0026#39; Autocompletion on command line # Auto-complete file or directory names # When you are using vim and cd, you can activate file and directory fuzzy completion with ** as a trigger (press Tab to trigger auto-completion):\nvim **\u0026lt;TAB\u0026gt; # open file under current directory vim ../**\u0026lt;TAB\u0026gt; # open file under parent directory vim ~/**\u0026lt;TAB\u0026gt; # open file under $HOME cd **\u0026lt;TAB\u0026gt; # go to a directory under current directory The auto-completion function only supports a few commands. If you want to add your own command, say, pylint, it is easy to set up. Following the guide here, you need to add the below command to your .bash_profile:\ncomplete -o bashdefault -o default -F _fzf_path_completion pylint Do not forget to source your .bash_profile. Then you can trigger auto-complete for pylint just like what you do with vim and cd:\n# open some file under home directory in a recursive manner pylint ~/**\u0026lt;TAB\u0026gt; Autocompletion for environment variables # Fzf can also auto-complete environment variables:\nexport **\u0026lt;TAB\u0026gt; unalias **\u0026lt;TAB\u0026gt; unset **\u0026lt;TAB\u0026gt; search hidden file by default # By default, fzf does not search hidden files. In order to search hidden files by default, use the following setting (suppose that you use ag):\nexport FZF_DEFAULT_COMMAND=\u0026#39;ag --hidden --ignore .git -g \u0026#34;\u0026#34;\u0026#39; See here for more discussions.\nMake fzf work under Zsh on macOS # If you are using zsh on Mac with oh-my-zsh, zsh has a plugin to make fzf work with it.\nFirst, add the following setting in .zshrc:\n# suppose you have installed fzf to ~/.fzf, change it to what suits you export FZF_BASE=\u0026#34;$HOME/.fzf\u0026#34; In the .zshrc plugin part, enable this plugin:\nplugins=( ... fzf ) Source .zshrc to make changes take effect. Fzf should work now on Zsh.\nThere is one gotcha, Alt + C does not work: it will just print the character Ã§. If you are using iterm2, it is easy to fix. Open the iterm2 preference settings, go to Profiles -\u0026gt; Keys. In the bottom right of the window, there are different buttons to choose the behaviour of Option key. Just choose Esc+ and everything should be fine.\n","date":"5 November 2018","externalUrl":null,"permalink":"/2018/11/05/fzf_install_use/","section":"Posts","summary":"\u003cscript id=\"asciicast-218493\" src=\"https://asciinema.org/a/218493.js\" async\u003e\u003c/script\u003e","title":"Fzf Installation and Usage","type":"posts"},{"content":"Linux is great for programming compared to Windows. If you miss the experience you get on Linux, maybe you should try Cygwin, which set up a Linux-like environment on Windows platform. In this post, I want to talk about how to configure Cygwin and how to use mintty terminal on Windows 10 to get excellent programming experience.\nHow to install new packages? # There is no official way to install a new package. Just run the Cygwin setup tool one more time and select the package you want to install. It will not rewrite the package you have installed, only the new package will be installed.\nIf the package download speed is slow, you can choose a local mirror for Cygwin. In China, TUNA is good.\nReference # https://superuser.com/a/304543/736190 When I use ssh to connect to my server, I got an error message \u0026ldquo;Pseudo-terminal will not be allocated because stdin is not a terminal\u0026rdquo; # On Windows 10, there is a built-in ssh program under C:/Windows/System32/OpenSSH/ssh.exe. You are probably using this program. If that is the case, you have to install openssh yourself. Just run the Cygwin setup program one more time to install the additional package. Then this issue should disappear.\nReference # https://stackoverflow.com/a/18091711/6064933 Mintty settings # Cygwin use the popular mintty terminal as its terminal emulator. In this part, I document several settings related to mintty.\nHow do I set up the mintty terminal emulator type, i.e., TERM variable? # Right-click Cygwin window title and choose Options..., go to Terminal, and choose Type to be xterm-256color. That is all.\nHow to use an external color theme for mintty? # By default, mintty provides a few color themes. The color theme for mintty are just a list of settings for different colors. There are several places where you can find mintty themes. A non-exhaustive list is:\nhttps://github.com/oumu/mintty-color-schemes A python tool with several built-in color themes, https://github.com/joakimkarlsson/mintty-colors How do I change colors on-the-fly in mintty? Save the color theme file under $CYGWIN_ROOT/usr/share/mintty/themes. Open mintty options (right click on Cygwin title bar), go to Looks pane and choose from the Theme pull-down menu a color theme you want to use.\nAlternatively, create a .minttyrc file under your HOME. Paste the content of color theme in this file and save it. The next time you open Cygwin, mintty will automatically use the configurations in .minttyrc.\nReferences # https://github.com/mintty/mintty/wiki/Tips#using-colour-schemes-themes How do I configure mintty to use the settings from a config file and what are the available options? # As I have said, create a .minttyrc under your HOME, and put mintty settings in this file. To see all the options available, visit this page.\nHow to open URL in browser # In the iTerm terminal, we can click a URL to open it in the browser, which is convenient. Actually mintty also supports this feature.\nBut sometimes, Ctrl+click won\u0026rsquo;t work properly. It has something to do with the mouse mode of various programs. When mouse mode is enabled for Neovim and Tmux, to open a URL in browser, I have to use Ctrl+Shift+click . If the mouse mode is turned off, I can open a URL with just Ctrl+click.\nReferences # https://github.com/mintty/mintty/issues/694 https://github.com/mintty/mintty/issues/164 How to update mintty? # It is the same as you install or update other packages. Run setup_x86_64.exe and install the latest version of Mintty.\n","date":"23 October 2018","externalUrl":null,"permalink":"/2018/10/23/cygwin_install_and_use/","section":"Posts","summary":"\u003cp\u003eLinux is great for programming compared to Windows. If you miss the experience\nyou get on Linux, maybe you should try \u003ca href=\"https://www.cygwin.com/\" target=\"_blank\"\u003eCygwin\u003c/a\u003e, which\nset up a Linux-like environment on Windows platform. In this post, I want to\ntalk about how to configure Cygwin and how to use mintty terminal on Windows 10\nto get excellent programming experience.\u003c/p\u003e","title":"Execellent Development Experience with Cygwin and Mintty Terminal on Windows 10","type":"posts"},{"content":"In this post, I will summarize a list of questions related to Tmux during the process of learning how to use it.\nHow to set the right status bar to show load average? # Show system load average and time at right of status bar\nset -g status-right \u0026#34;#[fg=red,bold]#(uptime | cut -d \u0026#39;,\u0026#39; -f 4-) #[fg=blue,bold][%Y-%m-%d %H:%M]#[default]\u0026#34; # increase the length of status bar, or the characters won\u0026#39;t fit set -g status-right-length 100 You may need to change the part cut -d ',' -f 4- to cut -d ',' -f 3-. Because, on my system, the output of uptime is something like this:\n16:36:09 up 9 days, 5:30, 40 users, load average: 31.12, 24.51, 21.68\nWith the above setting, the current load average and time will be shown on the right side of tmux status bar.\nHow does tmux color work? # You may use the following setting to set the color of some Tmux window component:\n# set the status bar background color to colour10 set -g status-bg colour10 The colors are from the 256 colors supported by the terminal. we can use script below to show what these colors look like:\nfor i in {0..255}; do printf \u0026#34;\\x1b[38;5;${i}mcolour${i}\\x1b[0m\\n\u0026#34; done Then, inside Tmux config file ~/.tmux.conf, we can use a color with index \u0026lt;INDEX\u0026gt; as colour\u0026lt;INDEX\u0026gt;.\nSee here for more discussions.\nHome and End key does not work inside Tmux? # Inside Tmux, the home and end key does not work. The reason is probably that the terminal type inside Tmux conflict with terminal type set outside. Try to use the following setting in .tmux.conf:\nset -g default-terminal \u0026#34;screen-256color\u0026#34; Also make sure that you do not manually set TERM variable in .bash_profile or other shell configuration files. You should set TERM in your terminal emulator configurations. This will most probably fix the issue.\nSee also reference here.\nWhat is terminfo and how to check the content of a term files? # For almost every terminal, there is terminfo file describing the ability of this terminal. Usually, programs have to know the terminal type to send the correct command to terminal. So the terminal or (terminal emulators) are responsible for telling what they are capable of (i.e., what kind of terminal they are). Then the various program depending on this information will read this message and work accordingly. That is why we need to set default term for Tmux for it to work nicely with Neovim/Vim.\nTo see the content of a term file, you can use infocmp followed by the term name. For example:\ninfocmp xterm-256color The command above will print the info of term file xterm-256color. If you use infocmp without any argument, it will print the info of term file currently in use.\nRedraw window when switching from a smaller window to a bigger one? # When you attach to a session in two different terminal applications. You may notice that some of the window space is filled with dots. That is because the session window before is smaller than the current window. How to redraw the current window so that it can fill the whole space?\nYou can use tmux detach -a inside the current session window. This command will detach all session window except the current one.\nThere is another solution. When you attach to a session, you can use -d option, which will detach all previous sessions opened elsewhere. The syntax is:\ntmux a -d -t \u0026lt;SESSION_NUM\u0026gt; How to copy text inside Tmux when set -g mouse on? # Press \u0026lt;Shift\u0026gt; and drag mouse to select text, the selected text will be copied automatically.\nTo copy a block of text when there are multiple vertical splits, press \u0026lt;Alt\u0026gt;+\u0026lt;Shift\u0026gt; and drag mouse to select a rectangle text region.\nOr you can temporarily zoom the current pane to make it occupy the whole window and copy text. After you have copied the text, press \u0026lt;Prefix\u0026gt; z again to go back to normal state.\nWhat does -n in bind -n mean? # By default, when you bind key to a Tmux command, you need to first press the prefix key (the default prefix key is Ctrl-b). For example,\nbind s split-window -v In the above settings, s is binded to horizontally split a window. To invoke it, you have to press \u0026lt;prefix\u0026gt; s. The -n options means that no prefix is needed, thus we can directly press the keys to invoke a command. The Tmux man page says:\nbind-key [-nr] [-T key-table] key command [arguments] (alias: bind) Bind key key to command. Keys are bound in a key table. By default (without -T), the key is bound in the prefix key table. This table is used for keys pressed after the prefix key (for example, by default â€˜câ€™ is bound to new-window in the prefix table, so â€˜C-b câ€™ creates a new window). The root table is used for keys pressed without the prefix key: binding â€˜câ€™ to new-window in the root table (not recommended) means a plain â€˜câ€™ will create a new window. -n is an alias for -T root. Keys may also be bound in custom key tables and the switch-client -T command used to switch to them from a key binding. The -r flag indicates this key may repeat, see the repeat-time option. There is a delay to exit Vim when pressing Esc key inside Tmux? # Tmux has a escape-time option to control how Esc is interpreted:\nescape-time time. Set the time in milliseconds for which tmux waits after an escape is input to determine if it is part of a function or meta key sequences. The default is 500 milliseconds. You should set escape-time to a lower value to prevent it from being interpreted as a Meta key. For example:\nset -gs escape-time 10 See more discussions here and here.\nDifference between set and set-option? # set is an alias for set-option, see here.\nDifference between bind and bind-key? # bind is an alias for bind-key, see here.\nrz and sz does not work inside Tmux? # rz and sz are not so popular and supporting it will add more code. So the Tmux author decide to not support them. See here.\nTmux hangs or freezes when there are a lot of output from one pane # When you open a Tmux session and start multiple vertical splits, if there are a lot of output from one pane, for example, when you use tar to compress a large amount of files, you may find that tmux is very slow to respond your input in another pane split.\nIt seems that there is no good solution for this issue. You may need to change your terminal emulator.\nMore discussions can be found here, here and here.\nReferences # Is there any way to redraw tmux window when switching smaller monitor to bigger one? How can I check which terminal definitions are available? https://www.tldp.org/HOWTO/Text-Terminal-HOWTO-16.html http://man7.org/linux/man-pages/man5/terminfo.5.html Tmux mouse-mode on does not allow to select text with mouse https://news.ycombinator.com/item?id=7758368 ","date":"23 October 2018","externalUrl":null,"permalink":"/2018/10/23/tmux_questions_and_trouble_shooting/","section":"Posts","summary":"\u003cp\u003eIn this post, I will summarize a list of questions related to Tmux\nduring the process of learning how to use it.\u003c/p\u003e","title":"Tmux Questions and Trouble Shootings","type":"posts"},{"content":"If you connect your Android device to a Macbook, you will notice that your phone is not recognized. Unlike Windows, Apple\u0026rsquo;s Mac is not so friendly to Android devices. Of course, you can install Android File Transfer provided by Google and connect your phone to Mac. But it is kinda cumbersome and does work so well. In this post, I want to share several ways to transfer files between Android and Mac wirelessly.\nI have tested the three different methods listed below on my Mac and Android. For your reference, the device info is:\nMac: Macbook Pro 2018 with the latest macOS Mojave (version 10.14) Phone: OnePlus 3T with Android 8.0.0 Bluetooth # In order to share files between Android and Mac using Bluetooth, you need to set up Mac first. Open the system preference setting and open the Sharing panel. Turn on the Bluetooth Sharing service and set up the destination folder properly. Then you can share files via Bluetooth easily.\nPros and Cons # The advantage of this method is that you do not need to install any additional software since Bluetooth is the standard utility across different OS. The disadvantage is also obvious: the file transfer speed is slow. I have observed that the transfer speed is about 100kb/s. For large files, it will take a lot of time. Unless you are always transferring small files, I would not recommend using Bluetooth.\nKDE connect and Soduto # From the KDE connect GitHub repo:\nKDE Connect is a multi-platform app that allows your devices to communicate (eg: your phone and your computer).\nFirst, you need to install kdeconnect for Android from the Google Play store. There is no official package for Mac. Fortunately, there is a software called Soduto which is like KDE connect. So you can install Soduto on Mac instead.\nAfter installing these applications, you should make sure that your Mac and Android device is connected to the same wireless router. Open kdeconnect on your phone, you should be able to see your Macbook automatically like the image below.\nTap the Macbook device and let your phone pair with it. Now, you can browse files on your phone easily and share files freely.\nWith kdeconnect, you can not only share files, but also share the clipboard between your Android phone and Mac. When you copy text on one device, it will be automatically synced to another device. Amazing, isn\u0026rsquo;t it? The transfer speed is also high.\nThe disadvantage is that you need to install an application both on your phone and on your Mac.\nMiXplorer # The third way is to install MiXplorer file manager on your phone. MiXplore is a light-weight yet powerful file manager. With it, you can create FTP server or http servers on your phone, which your Mac can later connect to.\nCreate a HTTP server # Open MiXplorer and click top-right button and click servers\u0026hellip; menu, you will be prompted to choose a server type. Choose Start HTTP Server.\nYou will see a notification on your notification bar like the following:\nOpen the HTTP address in your browser, and you should be able to see all the files on your phone. Click a file to download it to your Mac1. To upload files to your phone, first choose a file and then hit the upload button in the interface.\nThe transfer speed is high and the process is stable.\nCreate a FTP server # Like the way to create a HTTP server, we can also create a FTP server on our phone.\nAfter starting the FTP server, we need to connect to it to share files. To connect to the FTP server. We need a FTP client. You may try the free software such as cyberbuck or filezilla. Let\u0026rsquo;s take filezilla for an example. Install this application, open it and set up the FTP server, you will see an interface like the image below:\nThe file transfer speed is also quite high.\nConclusion # In this post, I introduced three ways to share files between Android device and Mac wirelessly. Overall, I recommend the second (using Soduto) and third way (using MiXplorer), since these two methods can all guarantee high transfer speed. If you need to exchange texts, URLs and other small text snippet between Android and Mac frequently, maybe Soduto suits you better.\nReferences # Set up Bluetooth sharing on Mac This may not work on Apple Safari. On Chrome, it works.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 October 2018","externalUrl":null,"permalink":"/2018/10/21/transfer_file_between_android_mac_wireless/","section":"Posts","summary":"\u003cp\u003eIf you connect your Android device to a Macbook, you will notice that your\nphone is not recognized. Unlike Windows, Apple\u0026rsquo;s Mac is not so friendly to\nAndroid devices. Of course, you can install \u003ca href=\"https://www.android.com/filetransfer/\" target=\"_blank\"\u003eAndroid File Transfer\u003c/a\u003e\nprovided by Google and connect your phone to Mac. But it is kinda cumbersome\nand does work so well. In this post, I want to share several ways to transfer\nfiles between Android and Mac wirelessly.\u003c/p\u003e","title":"File Sharing between Android and Mac Wirelessly without Pain","type":"posts"},{"content":"å»å¹´å»ºç«‹åšå®¢çš„æ—¶å€™ï¼Œé€‰æ‹©äº†ä¸ƒç‰›å¯¹è±¡å­˜å‚¨æ¥å­˜æ”¾åšå®¢çš„å›¾ç‰‡ï¼Œæœ€è¿‘æ”¶åˆ°äº†ä¸ƒç‰›çš„é‚®ä»¶ï¼Œä¹‹å‰ä¸€ç›´åœ¨ç”¨çš„åŸŸååªæ˜¯ä¸€ä¸ªæµ‹è¯•åŸŸåï¼Œå†è¿‡ä¸€é˜µå°±è¦å›æ”¶äº†ï¼Œåˆ°æ—¶å¿…é¡»ä½¿ç”¨è‡ªå·±çš„åŸŸåã€‚å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ï¼Œç”³è¯·è‡ªå·±çš„åŸŸåè¿˜è¦æ¶‰åŠæ³¨å†Œå’Œå¤‡æ¡ˆï¼Œæˆ‘ä»…ä»…æ˜¯éœ€è¦å­˜å‚¨å›¾ç‰‡ï¼Œè¿™æ ·å¤ªè´¹å‘¨ç« ï¼Œæ‰€ä»¥å†³å®šæŠŠåšå®¢çš„å›¾ç‰‡ä»ä¸ƒç‰›è¿ç§»å‡ºæ¥ã€‚\nç»è¿‡ä¸€ç•ªæŸ¥æ‰¾æ¯”è¾ƒï¼Œæœ€åå†³å®šä½¿ç”¨è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨ COSï¼Œç”±äºæˆ‘çš„å›¾ç‰‡é‡å¾ˆå°‘ï¼Œæ‰€ä»¥å°±ç®—ä»˜è´¹ï¼Œæ¯ä¸ªæœˆå®é™…çš„æ”¯å‡ºä¹Ÿä¸ä¼šå¤ªå¤§ã€‚æœ¬æ–‡ä»‹ç»å›¾ç‰‡è¿ç§»è¿‡ç¨‹ã€‚\nä»ä¸ƒç‰› bucket ä¸‹è½½å›¾ç‰‡ # ä¸ƒç‰›æä¾›äº†å‘½ä»¤è¡Œå·¥å…·qshell æ¥å¯¹ä¸ƒç‰›å­˜å‚¨è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå·¥å…·æŠŠ bucket é‡Œé¢çš„å›¾ç‰‡å…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°ã€‚å¯¹äº Mac ç³»ç»Ÿï¼Œä¸‹è½½ä»¥åè§£å‹æ–‡ä»¶ï¼Œqshell_darwin_x64 å³ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸ºäº†æ–¹ä¾¿åç»­æ“ä½œï¼Œå…ˆå»ºç«‹ qshell è½¯é“¾æ¥ï¼ŒæŒ‡å‘å®é™…çš„å¯æ‰§è¡Œç¨‹åºï¼š\nchmod u+x qshell_darwin_x64 ln -s qshell_darwin_x64 qshell ç„¶åé…ç½®è‡ªå·±çš„è´¦æˆ·ï¼š\nqshell account \u0026lt;AK\u0026gt; \u0026lt;SK\u0026gt; \u0026lt;AK\u0026gt; å’Œ \u0026lt;SK\u0026gt; åˆ†åˆ«æ˜¯è‡ªå·±çš„ access key and secret keyï¼Œå¯ä»¥ä»ä¸ƒç‰›è´¦æˆ·çš„ä¸ªäººé¢æ¿çš„ å¯†é’¥ç®¡ç† æ¨¡å—æŸ¥çœ‹ã€‚\nqshell æä¾›äº†ä¸€ä¸ª qdownload åŠŸèƒ½ï¼Œå¯ä»¥æ‰¹é‡ä» bucket ä¸‹è½½å›¾ç‰‡ï¼Œä½†æ˜¯è¯¥åŠŸèƒ½çš„ä¸‹è½½æµé‡é»˜è®¤æ˜¯æ”¶è´¹çš„ï¼Œå¦‚æœæƒ³è¦å…è´¹ï¼Œå»ºç«‹é…ç½®æ–‡ä»¶ qdownload.confï¼Œä¸€ä¸ªç¤ºä¾‹é…ç½®å†…å®¹å¦‚ä¸‹ï¼š\n{ \u0026#34;dest_dir\u0026#34; : \u0026#34;/Users/jdhao/Documents/qiniu_bucket_files\u0026#34;, \u0026#34;bucket\u0026#34; : \u0026#34;github-pages-image-storage\u0026#34;, \u0026#34;prefix\u0026#34; : \u0026#34;\u0026#34;, \u0026#34;suffixes\u0026#34; : \u0026#34;\u0026#34;, \u0026#34;cdn_domain\u0026#34; : \u0026#34;olvlcptdv.bkt.clouddn.com\u0026#34;, \u0026#34;referer\u0026#34; : \u0026#34;\u0026#34;, \u0026#34;log_file\u0026#34; : \u0026#34;download.log\u0026#34;, \u0026#34;log_level\u0026#34; : \u0026#34;info\u0026#34;, \u0026#34;log_rotate\u0026#34; : 1, \u0026#34;log_stdout\u0026#34; : false } dest_dir å¡«å†™ä¸‹è½½çš„å›¾ç‰‡å­˜æ”¾è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„å­˜åœ¨ï¼›bucket å¡«å†™ä½ åœ¨ä¸ƒç‰›å»ºç«‹çš„ bucket çš„åç§°ï¼›cdn_domain å¡«å†™ä¸ƒç‰›ç»™çš„æµ‹è¯•åŸŸåï¼›å…¶ä»–ä¿¡æ¯å¯ä»¥ä¸ç”¨å¡«å†™ã€‚\né…ç½®æ–‡ä»¶å¡«å†™å¥½ä»¥åï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤ä¸‹è½½ bucket é‡Œé¢æ‰€æœ‰å›¾ç‰‡ï¼š\nqshell qdownload qdownload.conf ç¨‹åºè¿è¡Œç»“æŸä»¥åï¼Œæ‰€æœ‰çš„å›¾ç‰‡å°±è¢«ä¸‹è½½åˆ°äº†æŒ‡å®šçš„ç›®å½•ä¸‹é¢ã€‚\nè®¾ç½®è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ # æ³¨å†Œè…¾è®¯äº‘ï¼Œç„¶ååœ¨å¯¹è±¡å­˜å‚¨é‡Œé¢å»ºç«‹ä¸€ä¸ªå­˜æ”¾åšå®¢å›¾ç‰‡çš„ bucketï¼Œæ³¨æ„æƒé™è¦è®¾ç½®ä¸ºã€Œå…¬æœ‰è¯»ç§æœ‰å†™ã€1ï¼Œè¿™æ ·åˆ«äººè®¿é—®åšå®¢çš„æ—¶å€™ï¼Œæ‰èƒ½çœ‹åˆ°å›¾ç‰‡ã€‚\nç„¶åæŠŠåˆšæ‰ä¸‹è½½çš„å›¾ç‰‡å…¨éƒ¨ä¸Šä¼ åˆ°è¿™ä¸ª bucket é‡Œé¢ï¼Œå¯ä»¥æ‰¹é‡æ‹–æ‹½ä¸Šä¼ ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸ƒç‰› bucket ä¸‹æœ‰æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆæ‹·è´åˆ°è…¾è®¯äº‘ï¼Œä¹Ÿè¦ä¿æŒæ–‡ä»¶å¤¹ç»“æ„ï¼Œå¦åˆ™æ›¿æ¢åˆ°è…¾è®¯çš„åŸŸåä»¥åå›¾ç‰‡å°†æ— æ³•è®¿é—®ã€‚\næ›¿æ¢åŸæœ‰çš„å›¾ç‰‡ä¸­ä¸ƒç‰›åŸŸå # æ¥ä¸‹æ¥ï¼Œä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·æˆ–è€…å¸¦æœ‰æ­£åˆ™è¡¨è¾¾å¼çš„ç¼–è¾‘å™¨ï¼Œæ‰¹é‡æ›¿æ¢æ‰€æœ‰åšå®¢æºä»£ç ä¸­å›¾ç‰‡çš„åœ°å€ï¼ŒæŠŠä¸ƒç‰›äº‘çš„æµ‹è¯•åŸŸåï¼Œæ›¿æ¢ä¸ºè…¾è®¯äº‘å­˜å‚¨æä¾›çš„åŸŸåã€‚åˆ›å»ºçš„ bucket çš„è®¿é—®åŸŸåå¯ä»¥ç‚¹å‡»ã€ŒåŸºç¡€é…ç½®ã€ä¸€æ ï¼Œã€ŒåŸºæœ¬ä¿¡æ¯ã€éƒ¨åˆ†æœ‰åŸŸåä¿¡æ¯ã€‚\nå¦å¤–ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨ä¸ƒç‰›æ—¶å€™ä½¿ç”¨äº†å›¾åƒå¤„ç†æ“ä½œï¼ŒåŸæœ‰å›¾ç‰‡é“¾æ¥ä¸­çš„å›¾åƒæ“ä½œéƒ¨åˆ†ä¹Ÿåº”è¯¥å»æ‰ã€‚\nå›¾ç‰‡ä¸Šä¼ å·¥å…· # æ‰¾äº†ä¸€åœˆï¼Œæ”¯æŒä¸Šä¼ åˆ°è…¾è®¯äº‘å­˜å‚¨çš„æœ‰ä¸¤ä¸ªä¸é”™çš„ç¨‹åºï¼Œä¸€ä¸ªæ˜¯iPicï¼Œå¦å¤–ä¸€ä¸ªæ˜¯PicGoã€‚iPic å…è´¹ç‰ˆåªèƒ½ä½¿ç”¨æ–°æµªå¾®åšå›¾åºŠï¼Œè¦ä½¿ç”¨å…¶ä»–å›¾åºŠï¼Œéœ€è¦ä»˜è´¹ç‰ˆï¼Œæ¯å¹´ $9.9ï¼Œä¸ªäººè§‰å¾—å¤ªè´µï¼Œä¸å€¼è¿™ä¹ˆå¤šï¼Œæ‰€ä»¥æ”¾å¼ƒã€‚PicGo æ”¯æŒè…¾è®¯äº‘ï¼Œå¹¶ä¸”å…è´¹ï¼Œæ­£å¥½æ»¡è¶³éœ€è¦ã€‚\nå…·ä½“é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹wikiã€‚å¯ä»¥ç›´æ¥æ‹–æ‹½å›¾ç‰‡åˆ° PicGO çš„èœå•æ å›¾æ ‡å®ç°å›¾ç‰‡ä¸Šä¼ ï¼Œæˆ–è€…å¦‚æœå·²ç»æŠŠå›¾ç‰‡æ‹·è´åˆ°å‰ªåˆ‡æ¿ï¼Œä½¿ç”¨é»˜è®¤çš„ Command + shift + P å¿«æ·é”®ä¸Šä¼ å›¾ç‰‡ï¼Œå½“ç„¶å¿«æ·é”®å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ã€‚\nè…¾è®¯äº‘å¯¹è±¡å­˜å‚¨é…ç½® CDN # å¦‚æœç›´æ¥ä½¿ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨æä¾›çš„å›¾ç‰‡ URLï¼Œæ¯ä¸ªæœˆçš„æµé‡è´¹è¿˜æ˜¯æ¯”è¾ƒè´µçš„ï¼Œå¼ºçƒˆå»ºè®®æ­é…è…¾è®¯äº‘æä¾›çš„ CDNï¼Œèƒ½å¤Ÿå‡å°‘æµé‡è´¹ç”¨æ”¯å‡ºã€‚å…·ä½“é…ç½®æ–¹æ³•è§ è¿™é‡Œã€‚\nå¦‚æœè¦é…ç½® CDNï¼Œå¯ä»¥è®¾ç½®æƒé™ä¸ºã€Œç§æœ‰è¯»ç§æœ‰å†™ã€ï¼Œå…·ä½“è®¾ç½®è§ å®˜æ–¹æ–‡æ¡£ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"20 October 2018","externalUrl":null,"permalink":"/2018/10/20/qiuniu_migrate_to_tencent_cos/","section":"Posts","summary":"\u003cp\u003eå»å¹´å»ºç«‹åšå®¢çš„æ—¶å€™ï¼Œé€‰æ‹©äº†\u003ca href=\"https://www.qiniu.com/\" target=\"_blank\"\u003eä¸ƒç‰›\u003c/a\u003eå¯¹è±¡å­˜å‚¨æ¥å­˜æ”¾åšå®¢çš„å›¾ç‰‡ï¼Œæœ€è¿‘æ”¶åˆ°äº†ä¸ƒç‰›çš„é‚®ä»¶ï¼Œä¹‹å‰ä¸€ç›´åœ¨ç”¨çš„åŸŸååªæ˜¯ä¸€ä¸ªæµ‹è¯•åŸŸåï¼Œå†è¿‡ä¸€é˜µå°±è¦å›æ”¶äº†ï¼Œåˆ°æ—¶å¿…é¡»ä½¿ç”¨è‡ªå·±çš„åŸŸåã€‚å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ï¼Œç”³è¯·è‡ªå·±çš„åŸŸåè¿˜è¦æ¶‰åŠæ³¨å†Œå’Œå¤‡æ¡ˆï¼Œæˆ‘ä»…ä»…æ˜¯éœ€è¦å­˜å‚¨å›¾ç‰‡ï¼Œè¿™æ ·å¤ªè´¹å‘¨ç« ï¼Œæ‰€ä»¥å†³å®šæŠŠåšå®¢çš„å›¾ç‰‡ä»ä¸ƒç‰›è¿ç§»å‡ºæ¥ã€‚\u003c/p\u003e","title":"åšå®¢å›¾åºŠä»ä¸ƒç‰›äº‘å­˜å‚¨è¿ç§»åˆ°è…¾è®¯äº‘å­˜å‚¨","type":"posts"},{"content":" Update log 2021-11-23: update tmux and nvim version to the latest and fix other issues.\nIn this post, I want to share how to set up true color support in Tmux, Nvim and the shell to make them work nicely together.\nThere are tons of posts on the Internet regarding how to set up true color support to make Tmux, Nvim and terminal work together. Time flies and settings may change. Many people also do not really understand the reason behind all the settings and often give some ad-hoc settings. All these lead to chaos. It turns out that setting up true color support is painfully difficult and costs me several hours.\nVersion info # Before we begin, I will list the info about all the necessary components so that you can reproduce on your device:\nTerminal: iTerm2 and kitty, which support True color by default. Tmux: Version 3.2 (tmux -V) and installed via HomeBrew Neovim: v0.5.1 (nvim --version) and installed via HomeBrew First, we have to understand that not all terminals support true colors. Whether you use a terminal emulator to connect to remote host or use a native terminal, make sure that your terminal supports true colors. For a list of terminals supporting true colors, see this wonderful repo.\nSetting up true color support # terminal emulator settings # iTerm2 settings # For iTerm2, make sure the output of echo $TERM is xterm-256color. If the output is wrong, you should set it properly in iTerm2. Open the iTerm2 preference settings, go to Profiles --\u0026gt; Terminal, in the Terminal Emulation part, choose xterm-256color as the reported terminal type.\nDo not set TERM variable in your shell profile! It is your terminal emulator that is responsible for reporting what kind of terminal it supports. If you set TERM variable in your shell, the TERM variable inside Tmux will also be set to that value when the shell is initialized, which is simply wrong!1. Do not do this.\nkitty settings # Open ~/.config/kitty/kitty.conf and use the following setting:\nterm xterm-256color Neovim settings # Neovim has good support for true colors. According to official doc, to enable true color support, you need to add the following setting to init.vim:\nset termguicolors Tmux settings # In order to make Nvim colorscheme work well inside Tmux, you need to add these settings to your .tmux.conf2:\nset -g default-terminal \u0026#34;screen-256color\u0026#34; # tell Tmux that outside terminal supports true color set -ga terminal-overrides \u0026#34;,xterm-256color*:Tc\u0026#34; # for tmux 3.2, you can use the following setting instead: # set -as terminal-features \u0026#34;,xterm-256color:RGB\u0026#34; You can also use tmux-256color instead of screen-256color. Tmux-256color supports italics inside Tmux. In case your system does not have an entry for tmux-256color, you can download terminfo database and build a more complete one:\ncurl -LO http://invisible-island.net/datafiles/current/terminfo.src.gz gunzip terminfo.src.gz tic -x terminfo.src This will install a terminfo library under your HOME in the directory .terminfo.\nVerifying # Open up a Tmux session, inside Tmux, the output of echo $TERM should be screen-256color or tmux-256color depending on which term file you choose to use, but the output definitely should not be xterm-256color.\nIf you have set up all these properly, run the following command on the command line:\nawk \u0026#39;BEGIN{ s=\u0026#34;/\\\\/\\\\/\\\\/\\\\/\\\\\u0026#34;; s=s s s s s s s s; for (colnum = 0; colnum\u0026lt;77; colnum++) { r = 255-(colnum*255/76); g = (colnum*510/76); b = (colnum*255/76); if (g\u0026gt;255) g = 510-g; printf \u0026#34;\\033[48;2;%d;%d;%dm\u0026#34;, r,g,b; printf \u0026#34;\\033[38;2;%d;%d;%dm\u0026#34;, 255-r,255-g,255-b; printf \u0026#34;%s\\033[0m\u0026#34;, substr(s,colnum+1,1); } printf \u0026#34;\\n\u0026#34;; }\u0026#39; The above script will print a color band. If something is wrong, the color band will show obvious gradient between different parts (see image below for an example).\nIf everything works well, you should be able to see a smooth color band both inside and outside Tmux.\nCongratulations, you have finally got it right!\nReferences # https://github.com/tmux/tmux/wiki/FAQ#how-do-i-use-rgb-colour https://stackoverflow.com/q/15375992/6064933 Good explanation about what terminal-overrides does. https://stackoverflow.com/q/41783367/6064933 https://www.reddit.com/r/neovim/comments/825dj7/the_endless_litany_of_tmux_and_nvim_color_problems/ Why you should not set TERM inside shell config file. You should not set TERM inside shell config file. You can find more discussion here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf the file .tmux.conf does not exist under your HOME, just create an empty one and start editing it..\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"19 October 2018","externalUrl":null,"permalink":"/2018/10/19/tmux_nvim_true_color/","section":"Posts","summary":"\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"2\" color=\"red\"\u003eUpdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cp\u003e\u003cfont color=\"blue\"\u003e2021-11-23: update tmux and nvim version to the latest and fix other issues.\u003c/font\u003e\u003c/p\u003e\n\u003c/details\u003e\n\u003cp\u003eIn this post, I want to share how to set up true color support in Tmux, Nvim\nand the shell to make them work nicely together.\u003c/p\u003e","title":"Setting up True Color Support for Neovim and Tmux on Mac","type":"posts"},{"content":"Today I want to use some regular expressions for searching and replacing in my files. But I found that Nvim/Vim regular expression engine has its own flavor, which is different from the regex engine used by Sublime Text1. I ended up learning some of the basics of Nvim-style regex. In this post, I want to share about how to use lookaround2 in Nvim.\nLookaround in Nvim # First, in Nvim, the syntax for look around is:\n\\@=: positive lookahead \\@!: negative lookahead \\@\u0026lt;=: positive lookbehind \\@\u0026lt;!: negative lookbehind But how to use look around in Nvim? Let is take an example to explain this. Suppose we have text as follows:\nfoobar foo barfoo To match foo which is followed by bar (bar not part of the match), use the following regex:\n/foo\\(bar\\)\\@= In Nvim, ( and ) matches literally, which is different from PCRE. In order to use lookaround in Nvim, we have to include the lookaround pattern in a group, hence the escaped parentheses \\(\\) around bar.\nSo the first foo in the above text matches:\nfoobar foo barfoo ^ one match here Similarly, we have the following 4 patterns:\nMatch foo which is not followed by bar: /foo\\(bar\\)\\@! # now we have two matches foobar foo barfoo ^ ^ two matches here Match foo which is preceded by bar: /\\(bar\\)\\@\u0026lt;=foo foobar foo barfoo ^ one match here Match foo which is not preceded by bar: /\\(bar\\)\\@\u0026lt;!foo foobar foo barfoo ^ ^ two matches here Match foo which is neither followed nor preceded by bar: /\\(bar\\)\\@\u0026lt;!foo\\(bar\\)\\@! foobar foo barfoo ^ one match here Combine magic mode and look around # Several months after I first wrote this article, I learned that Nvim also has a very magic mode (see :h /magic for more info) which behaves more like PCRE. The very magic mode is activate by preceding the search pattern with \\v. In the very magic mode, you have to remove the \\ character from the look around pattern. So in the very magic mode, the following regex should be used instead:\npositive look ahead: @= negative look ahead: @! positive look behind: @\u0026lt;= negative look behind: @\u0026lt;! For example, to match foo which is followed by bar, you should use:\n\\vfoo(bar)@= \\ze and \\zs for positive lookaround # We may also use \\zs and ze for positive lookbehind and lookahead. \\zs means that the actual match starts from here and \\ze means that the actual match ends here. Take the above foobar text as an example:\nMatch foo preceded by bar: \\bar\\zsfoo Match foo followed by bar: foo\\zebar In the above two match, bar is not part of the match. You can see that\\ze and \\zs simplify the pattern for positive lookaround.\nA last example # Let\u0026rsquo;s take another example (adapted from this post):\nrs11223-A -A rs23300-G -TTA rs9733-T -G rs11900000-GT -TTG Suppose we want to find - in the first part of each line, how do we write the regex pattern?\nUsing positive lookbehind # With positive lookbehind, the pattern can be (definitely not the only one):\n/\\(\\d\\+\\)\\@\u0026lt;=- In the above regex pattern, \\+ means to match previous pattern 1 or more time, which is a bit different from what we are accustomed to in Sublime Text.\nUsing \\zs # With \\zs, we can simplify the match pattern:\n/\\d\\+\\zs- Ok, that is all. Hope you can finally understand how to correctly use lookaround regex in Nvim.\nReferences # https://vi.stackexchange.com/questions/3036/is-lookaround-possible-in-vims-regex-system Vim regex cheatsheet A good post about vim lookaround regex. Use :h perl-patterns to find the difference of Nvim regex and Perl\u0026rsquo;s regex.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf you are not familiar with what lookaround in regex means, you can find a intro here and here\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 October 2018","externalUrl":null,"permalink":"/2018/10/18/regular_expression_nvim/","section":"Posts","summary":"\u003cp\u003eToday I want to use some regular expressions for searching and replacing in my\nfiles. But I found that Nvim/Vim regular expression engine has its own flavor,\nwhich is different from the regex engine used by Sublime Text\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e. I ended up\nlearning some of the basics of Nvim-style regex. In this post, I want to share\nabout how to use lookaround\u003csup id=\"fnref:2\"\u003e\u003ca href=\"#fn:2\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e2\u003c/a\u003e\u003c/sup\u003e in Nvim.\u003c/p\u003e","title":"An Introduction to Lookaround Regular Expression in Neovim/Vim","type":"posts"},{"content":"Tmux is a great terminal multiplexer. Tmux installed via the package manager is often too old. So I decided to install the latest version of Tmux that supports true colors from source. Since I do not have root privilege on the system, I have to build Tmux and install it under my HOME. If that is also what you want, keep reading.\nTmux has two dependencies: libevent and ncurses. We have to build and install these two libraries first.\nBuild libevent # First, we use the following script to build and install libevent:\nwget https://github.com/libevent/libevent/releases/download/release-2.1.11-stable/libevent-2.1.11-stable.tar.gz tar zxvf libevent-2.1.11-stable.tar.gz cd libevent-2.1.11-stable mkdir -p $HOME/local # install libevent under $HOME/local ./configure --prefix=\u0026#34;$HOME/local\u0026#34; make -j \u0026amp;\u0026amp; make install Libevent will be install to $HOME/local.\nBuild ncurses # We also need to build ncurses library:\nwget https://ftp.gnu.org/pub/gnu/ncurses/ncurses-6.2.tar.gz tar zxvf ncurses-6.2.tar.gz cd ncurses-6.2/ ./configure --prefix=\u0026#34;$HOME/local\u0026#34; make -j\u0026amp;\u0026amp; make install The above command will install ncurses under $HOME/local.\nBuild Tmux # Finally, we download the latest Tmux release tar ball from GitHub and build it:\nwget https://github.com/tmux/tmux/releases/download/3.1b/tmux-3.1b.tar.gz tar zxvf tmux-3.1b.tar.gz cd tmux-3.1b # the CPPFLAGS and LDFLAGS are important, make sure you have written them correctly, or the build will fail ./configure --prefix=$HOME/local \\ CPPFLAGS=\u0026#34;-I$HOME/local/include -I$HOME/local/include/ncurses\u0026#34; \\ LDFLAGS=\u0026#34;-L$HOME/local/lib\u0026#34; make -j \u0026amp;\u0026amp; make install After running the above commands, Tmux will be installed to $HOME/local. The tmux executable is under $HOME/local/bin.\nPost install # We need to add Tmux executable to env variable PATH.\nexport PATH=\u0026#34;$HOME/local/bin:$PATH\u0026#34; After building Tmux, we should also update the env variable LD_LIBRARY_PATH to include the libevent and libncurses shared object directory:\nexport LD_LIBRARY_PATH=\u0026#34;$HOME/local/lib:$LD_LIBRARY_PATH\u0026#34; Or you may meet the following error when starting tmux:\ntmux: error while loading shared libraries: libevent-2.1.so.7: cannot open shared object file: No such file or directory\nNow, you can use the latest Tmux and configure it as you wish. You may also be interested in the following posts:\nconfigure tmux to support true color. Tmux questions and trouble shootings. Vim like settings for Tmux. Tmux install and management. The complete script to build Tmux are shown below.\nClick to show the code. # Build libevent wget https://github.com/libevent/libevent/releases/download/release-2.1.11-stable/libevent-2.1.11-stable.tar.gz tar zxvf libevent-2.1.11-stable.tar.gz cd libevent-2.1.11-stable mkdir -p $HOME/local # install libevent under $HOME/local ./configure --prefix=\u0026#34;$HOME/local\u0026#34; make -j \u0026amp;\u0026amp; make install cd .. # Build ncurses wget https://ftp.gnu.org/pub/gnu/ncurses/ncurses-6.2.tar.gz tar zxvf ncurses-6.2.tar.gz cd ncurses-6.2/ ./configure --prefix=\u0026#34;$HOME/local\u0026#34; make -j\u0026amp;\u0026amp; make install cd .. # Build Tmux wget https://github.com/tmux/tmux/releases/download/3.1b/tmux-3.1b.tar.gz tar zxvf tmux-3.1b.tar.gz cd tmux-3.1b # the CPPFLAGS and LDFLAGS are important, make sure you have written them correctly, or the build will fail ./configure --prefix=$HOME/local \\ CPPFLAGS=\u0026#34;-I$HOME/local/include -I$HOME/local/include/ncurses\u0026#34; \\ LDFLAGS=\u0026#34;-L$HOME/local/lib\u0026#34; make -j \u0026amp;\u0026amp; make install References # Build libevent. Build Tmux from source. Tmux readme: https://github.com/tmux/tmux ","date":"16 October 2018","externalUrl":null,"permalink":"/2018/10/16/tmux_build_without_root_priviledge/","section":"Posts","summary":"\u003cp\u003eTmux is a great terminal multiplexer. Tmux installed via the package manager is\noften too old. So I decided to install the latest version of Tmux that supports\ntrue colors from source. Since I do not have root privilege on the system, I\nhave to build Tmux and install it under my \u003ccode\u003eHOME\u003c/code\u003e. If that is also what you\nwant, keep reading.\u003c/p\u003e","title":"Building and Install Tmux from Source on Linux","type":"posts"},{"content":"Update: this is my first post on Zsh install and configuration. For a list of useful plugins I use to boost my productivity, see this post.\nZsh is a powerful shell with better auto-completion and richer features. There are also various plugins to enrich your experience of using Zsh. In this post, I will give a brief summary on how to install and set up zsh.\nInstall # Build and install ncurses # The installation of zsh requires ncurses. On some systems, the ncurses development package is missing. If you do not have root privilege, you need to install ncurses from source:\nwget ftp://ftp.gnu.org/gnu/ncurses/ncurses-6.1.tar.gz tar xf ncurses-6.1.tar.gz cd ncurses-6.1 ./configure --prefix=$HOME/local CXXFLAGS=\u0026#34;-fPIC\u0026#34; CFLAGS=\u0026#34;-fPIC\u0026#34; make -j \u0026amp;\u0026amp; make install The CXXFLAGS=\u0026quot;-fPIC\u0026quot; CFLAGS=\u0026quot;-fPIC\u0026quot; flags are important. Without them, you will encounter errors when you try to build Zsh. See more information here.\nBuild and install Zsh # Latest code of zsh can be found here. It is easy to install:\nZSH_SRC_NAME=$HOME/packages/zsh.tar.xz ZSH_PACK_DIR=$HOME/packages/zsh ZSH_LINK=\u0026#34;https://sourceforge.net/projects/zsh/files/latest/download\u0026#34; if [[ ! -d \u0026#34;$ZSH_PACK_DIR\u0026#34; ]]; then echo \u0026#34;Creating zsh directory under packages directory\u0026#34; mkdir -p \u0026#34;$ZSH_PACK_DIR\u0026#34; fi if [[ ! -f $ZSH_SRC_NAME ]]; then curl -Lo \u0026#34;$ZSH_SRC_NAME\u0026#34; \u0026#34;$ZSH_LINK\u0026#34; fi tar xJvf \u0026#34;$ZSH_SRC_NAME\u0026#34; -C \u0026#34;$ZSH_PACK_DIR\u0026#34; --strip-components 1 cd \u0026#34;$ZSH_PACK_DIR\u0026#34; ./configure --prefix=\u0026#34;$HOME/local\u0026#34; \\ CPPFLAGS=\u0026#34;-I$HOME/local/include\u0026#34; \\ LDFLAGS=\u0026#34;-L$HOME/local/lib\u0026#34; make -j \u0026amp;\u0026amp; make install Since I do not have root privilege, I can not use chsh to change the default logging shell. In order to use Zsh as the default shell, we can add the following settings to .bash_profile,\nexport PATH=$HOME/local/bin:$PATH export SHELL=`which zsh` [ -f \u0026#34;$SHELL\u0026#34; ] \u0026amp;\u0026amp; exec \u0026#34;$SHELL\u0026#34; -l Then source .bash_prfile to make the changes take effect. With this setting, zsh will be activated each time you log into the system.\nInstall oh-my-zsh # Oh-my-zsh is framework for Zsh with rich features. To install, run the below command:\nsh -c \u0026#34;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\u0026#34; oh-my-zsh ships with a bunch of plugins to enhance your experience of using zsh. You can enable these plugins in the .zshrc file. For example,\nplugins=( git pip vi-mode ) The above setting will enable git, pip and vi-mode plugin. The complete list of plugins are listed here.\nFor other plugins that are not shipped by default. You have to install them yourself. You may want to try zsh-autosuggestion. It can give you suggestions when you type command, based on your command history.\nFirst, we need to install this plugin:\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions In .zshrc, add autosuggestions to plugins:\n# different plugins should be separated by space plugins=(zsh-autosuggestions) Do not forget to source .zshrc to make the change take effect.\nWhen you type a command, you will get suggestions. You can use -\u0026gt;(right arrow key) or End key to accept a suggestion. If the suggestion is not what you want, it will disappear as you continue typing.\nInstall zsh-syntax-highlighting # This plugin will highlight your command in command line to enhance your experience. Use the following command to install this plugin:\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting Add it to plugins:\nplugins=( [plugins...] zsh-syntax-highlighting) Then source ~/.zshrc.\nInstall themes # Powerlevel9k # You can use various themes in Zsh. For example, powerlevel9k. Install guide is here\ngit clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k And in .zshrc, use\nZSH_THEME=\u0026#34;powerlevel9k/powerlevel9k\u0026#34; Install a powerline font # powerlevel9k works well if you install a powerline font.\nCustomization # To change the default prompt style, put the following after ZSHTHEME=\u0026quot;powerlevel9k/powerlevel9k\u0026quot;:\nPOWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(dir vcs) POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status root_indicator background_jobs) You can customize more settings following the theme documentation here.\nSpaceship # Spaceship is a simple and elegant theme. If you want simplicity, you may like it.\ngit clone https://github.com/denysdovhan/spaceship-prompt.git \u0026#34;$ZSH_CUSTOM/themes/spaceship-prompt\u0026#34; ln -s \u0026#34;$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme\u0026#34; \u0026#34;$ZSH_CUSTOM/themes/spaceship.zsh-theme\u0026#34; Set ZSH_THEME=\u0026quot;spaceship\u0026quot; in your .zshrc and source your zsh config to use this theme.\nhow to change prompt # In order to show current directory relative to $HOME, use the following setting in .zshrc:\nexport PS1=\u0026#34;[%~]$ \u0026#34; More prompt parameters can be found here.\nFinally, source ~/.bash_profile to change the shell to zsh.\nConclusion # In this post, I gave a summary on how to install zsh and make it your default shell. I also introduced how to install a theme and plugin with the popular framework oh-my-zsh. You can read the zsh and oh-my-zsh documentation for more customizations.\nYou can find my complete zsh configuration here.\nReferences # Use zsh as default shell without root right: https://unix.stackexchange.com/a/136424/221410 Change command prompt: https://stackoverflow.com/q/25090295/6064933 ","date":"13 October 2018","externalUrl":null,"permalink":"/2018/10/13/centos_zsh_install_use/","section":"Posts","summary":"\u003cp\u003e\u003cstrong\u003eUpdate\u003c/strong\u003e: this is my first post on Zsh install and configuration. For a list\nof useful plugins I use to boost my productivity, see \u003ca href=\"https://jdhao.github.io/2019/02/19/zsh_advanced_configuration/\" target=\"_blank\"\u003ethis post\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.zsh.org/\" target=\"_blank\"\u003eZsh\u003c/a\u003e is a powerful shell with better auto-completion and\nricher features. There are also various plugins to enrich your experience of\nusing Zsh. In this post, I will give a brief summary on how to install and set\nup zsh.\u003c/p\u003e","title":"Building Zsh from Source and Configuring It on CentOS","type":"posts"},{"content":"Recently I bought a MacBook Pro 2018. While it is a good design overall, its built-in keyboard is not so great AFAIK. So I bought a mechanical keyboard ikbc c87. The mechanical keyboard is designed for the Windows operating systems. I have to make a few tweaks to make my typing experience smooth.\nBefore we begin # I have tested the below settings on my MacBook Pro 2018 with the latest Mojave system. For older Mac OS, it probably will work too. But I cannot say for sure.\nSwitch Win and Alt key # The Win and Alt keys in the mechanical keyboard correspond to command and option key in the Mac internal keyboard, respectively. But the positions of the two keys are slightly different. In order to make the keyboard work more like Mac internal keyboard, we can use Karabiner-Elements to switch the key mappings of Win and Alt.\nAfter installing Karabiner-Elements, open its preference and choose Simple Modifications. Then, choose your external keyboard as Target Device. Click the Add item button to add one mapping. We need to add four mappings in total, i.e.,\nFrom key To key left_alt left_gui left_gui left_alt right_alt right_gui right_gui right_alt The left_gui and right_gui keys are equal to left_command and right_command.\nAfter this step, you may also consider changing the key caps of Win and Alt to make it clear you have switched the functions of Alt and Win.\nDisable internal keyboard when external keyboard is connected # While using the external keyboard, you may want to disable the internal keyboard temporarily.\nFirst, open Karabiner settings and go to Devices menu. In the bottom section, check the button of external USB keyboard to disable the built-in keyboard when external keyboard is connected.\nMake Home and End key behave like Windows # On Mac, by default, if you press Home and End key, you will go to the beginning and end of current document, which is often not what you expect. We can make the behavior of Home and End key like Windows, i.e., go to the beginning and end of current line.\nFirst, create a folder ~/Library/KeyBindings/ if it does not exist. Then create a file named DefaultKeyBinding.dict and add the following settings into it:\n{ \u0026#34;\\UF729\u0026#34; = moveToBeginningOfLine:; // home \u0026#34;\\UF72B\u0026#34; = moveToEndOfLine:; // end \u0026#34;$\\UF729\u0026#34; = moveToBeginningOfLineAndModifySelection:; // shift-home \u0026#34;$\\UF72B\u0026#34; = moveToEndOfLineAndModifySelection:; // shift-end \u0026#34;^\\UF729\u0026#34; = moveToBeginningOfDocument:; // ctrl-home \u0026#34;^\\UF72B\u0026#34; = moveToEndOfDocument:; // ctrl-end \u0026#34;^$\\UF729\u0026#34; = moveToBeginningOfDocumentAndModifySelection:; // ctrl-shift-home \u0026#34;^$\\UF72B\u0026#34; = moveToEndOfDocumentAndModifySelection:; // ctrl-shift-end } Rebooting is needed. The change should take effect after system restart.\nNow, happy typing!\nReferences # https://damieng.com/blog/2015/04/24/make-home-end-keys-behave-like-windows-on-mac-os-x https://groups.google.com/forum/#!topic/osx-karabiner/k-Yp6IpIovg https://apple.stackexchange.com/a/16137/285595 The cocoa text system that Mac uses Disable Mac internal keyboard ","date":"13 October 2018","externalUrl":null,"permalink":"/2018/10/13/mac_external_keyboard_setup/","section":"Posts","summary":"\u003cp\u003eRecently I bought a MacBook Pro 2018. While it is a good design overall, its\nbuilt-in keyboard is not so great AFAIK. So I bought a mechanical keyboard\n\u003ca href=\"http://www.ikbc.com.tw/c87\" target=\"_blank\"\u003eikbc c87\u003c/a\u003e. The mechanical keyboard is designed for\nthe Windows operating systems. I have to make a few tweaks to make my typing\nexperience smooth.\u003c/p\u003e","title":"Mechanical Keyboard Set up For Mac","type":"posts"},{"content":"In the past, I use plain print() to display some statistics during training process of my models. However, it is not convenient to save the statistics in a file for later inspection. Once the program is finished, we do not have an overview of the training process. I am aware that there are packages such as tensorboardX and visdom, which are specifically designed for inspecting the various statistics during training. Right now, I would rather keep the program plain simple and usable. So I decided to give Python logging package a try.\nIf we want to display messages on the terminal and save to a file, we can use the following setting:\nimport logging logging.basicConfig( level=logging.INFO, datefmt=\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34;, format=\u0026#34;%(asctime)s %(message)s\u0026#34;, handlers=[ logging.FileHandler(\u0026#34;{}/{}\u0026#34;.format(log_path, log_name)), logging.StreamHandler() ] ) The datefmt parameter is used to format the time string in the logging message. With the above format, the time is shown as something like the following:\n2018-10-15 09:44:49 (\u0026hellip;other message\u0026hellip;)\nThe format string uses the standard Python time format. You can find the full list of format directives here.\nThe format parameter is used to set the format of the output message, i.e., what to show in the logging message. We can show time, current file name, process name etc. A list of predefined attributes are (excerpted from the logging documentation):\nClick to see the doc. %(name)s Name of the logger (logging channel) %(levelno)s Numeric logging level for the message (DEBUG, INFO, WARNING, ERROR, CRITICAL) %(levelname)s Text logging level for the message (\u0026#34;DEBUG\u0026#34;, \u0026#34;INFO\u0026#34;, \u0026#34;WARNING\u0026#34;, \u0026#34;ERROR\u0026#34;, \u0026#34;CRITICAL\u0026#34;) %(pathname)s Full pathname of the source file where the logging call was issued (if available) %(filename)s Filename portion of pathname %(module)s Module (name portion of filename) %(lineno)d Source line number where the logging call was issued (if available) %(funcName)s Function name %(created)f Time when the LogRecord was created (time.time() return value) %(asctime)s Textual time when the LogRecord was created %(msecs)d Millisecond portion of the creation time %(relativeCreated)d Time in milliseconds when the LogRecord was created, relative to the time the logging module was loaded (typically at application startup time) %(thread)d Thread ID (if available) %(threadName)s Thread name (if available) %(process)d Process ID (if available) %(message)s The result of record.getMessage(), computed just as the record is emitted The handler parameter is used to set up where logging messages should go. In the above example, we use a FileHandler to save the logging message to a disk file. We use StreamHandler to display messages in the terminal.\nAfter configuring logging, we need a logger:\nlogger = logging.getLogger(__name__) In our program, if we need to log something, use logger.info(). An example usage is shown below:\nlogger.info(\u0026#34;Epoch %d, Accuracy: %f, Loss: %f\u0026#34;, epoch, accuracy, loss) The logging module relies on the old Python string formatting style. If you use the new .format() style string formatting, you will see a pylint warning complaining:\npylint: logging-not-lazy / Specify string format arguments as logging function parameters\nThe above formatting is also slightly different from the old Python formatting style. We do not need to write % between strings and the values. We can just append a list of needed values as the argument for the info method.\nHow to log exceptions # After catching an exception, we may want to log the exception message using our logger. Initially, I have the following code:\ntry: # my code except SomeError as e: logger.debug(\u0026#34;Exception: %s\u0026#34;, e) Unfortunately, this will only print an incomplete exception message and does not help to debug the error.\nUsing str(e) or repr(e) to represent the exception, you also won\u0026rsquo;t get the actual stack trace. So it is not helpful to find where the exception is.\nAfter reading other answers and the logging package doc, the following two ways work great to print the actual stack trace for later debugging:\nuse logger.debug() with parameter exc_info:\ntry: # my code except SomeError as e: logger.debug(e, exc_info=True) use logger.exception() to print the exception directly:\ntry: # my code except SomeError as e: logger.exception(e) References # Log to a file and stdio at the same line. Fix pylint logging-not-lazy warning. Show exception message using logging package. ","date":"12 October 2018","externalUrl":null,"permalink":"/2018/10/12/python_logging_module/","section":"Posts","summary":"\u003cp\u003eIn the past, I use plain \u003ccode\u003eprint()\u003c/code\u003e to display some statistics during training process of my models.\nHowever, it is not convenient to save the statistics in a file for later inspection.\nOnce the program is finished, we do not have an overview of the training process.\nI am aware that there are packages such as \u003ca href=\"https://github.com/lanpa/tensorboardX\" target=\"_blank\"\u003etensorboardX\u003c/a\u003e and \u003ca href=\"https://github.com/facebookresearch/visdom\" target=\"_blank\"\u003evisdom\u003c/a\u003e,\nwhich are specifically designed for inspecting the various statistics during training.\nRight now, I would rather keep the program plain simple and usable.\nSo I decided to give \u003ca href=\"https://docs.python.org/3/library/logging.html\" target=\"_blank\"\u003ePython logging package\u003c/a\u003e a try.\u003c/p\u003e","title":"A Simple Guide on How to Use the Python Logging Module","type":"posts"},{"content":"TL;DR\nIf you want to set a parameter\u0026rsquo;s default value to True using argparse, use\nparser.add_argument(\u0026#39;--param\u0026#39;, action=\u0026#39;store_false\u0026#39;) Otherwise, use\nparser.add_argument(\u0026#39;--param\u0026#39;, action=\u0026#39;store_true\u0026#39;) when we use argparse to manager program parameters and add a parameter, we often use the action options to set the parameter\u0026rsquo;s value to a boolean value. But I have previously misunderstood this options and made a mistake. In this post, I will explain how does this option work and how to use it correctly. Typically we use action='store_true' or action='store_false' to set the parameter to boolean value. Previously, I thought that action='store_true' will set the parameter value to True and action='store_false' will set the parameter value to False. In fact, it is not true. Suppose we have a script toy_parser.py:\nimport argparase parser = argparse.ArgumentParser(description=\u0026#34;A toy argument parser\u0026#34;) parser.add_argument(\u0026#39;--param1\u0026#39;, action=\u0026#39;store_true\u0026#39;) parser.add_argument(\u0026#39;--param2\u0026#39;, action=\u0026#39;store_false\u0026#39;) args = parser.parse_args() print(args) If we run this script on the command line with no argument\npython toy_parser.py the output will be:\nNamespace(param1=False, param2=True)\nThe result is exactly contratry to what we thought.\nWhat about run the script with parameters?\n$ python toy_parser.py \u0026ndash;param1 \u0026ndash;param2 Namespace(param1=True, param2=False)\n$ python toy_parser.py \u0026ndash;param1 Namespace(param1=True, param2=True)\n$ python toy_parser.py \u0026ndash;param2 Namespace(param1=False, param2=False)\nIn summary, if a parameter has action store_true but is missing in the command line, the default value will be False, otherwise, the value will be True. Similarly, if a parameter has action store_false but is missing in the command line, the default value will be True, otherwise, the value will be False.\nThe following two statements are problematic:\nparser.add_argument(\u0026#39;--param1\u0026#39;, action=\u0026#39;store_true\u0026#39;, default=True) parser.add_argument(\u0026#39;--param2\u0026#39;, action=\u0026#39;store_false\u0026#39;, default=False) Wheter you use these paramters on the command line, they will always be True or False, which is not what we want.\n","date":"11 October 2018","externalUrl":null,"permalink":"/2018/10/11/python_argparse_set_boolean_params/","section":"Posts","summary":"\u003cp\u003eTL;DR\u003c/p\u003e\n\u003cp\u003eIf you want to set a parameter\u0026rsquo;s default value to \u003ccode\u003eTrue\u003c/code\u003e using argparse, use\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eparser.add_argument(\u0026#39;--param\u0026#39;, action=\u0026#39;store_false\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eOtherwise, use\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eparser.add_argument(\u0026#39;--param\u0026#39;, action=\u0026#39;store_true\u0026#39;)\n\u003c/code\u003e\u003c/pre\u003e","title":"Set up the Default Value for Boolean Option in Argparse","type":"posts"},{"content":"","date":"10 October 2018","externalUrl":null,"permalink":"/tags/hexo/","section":"Tags","summary":"","title":"Hexo","type":"tags"},{"content":"","date":"10 October 2018","externalUrl":null,"permalink":"/tags/mathjax/","section":"Tags","summary":"","title":"MathJax","type":"tags"},{"content":"è¿™ä¸ªåšå®¢äº 2017 å¹´ 2 æœˆå¼€å§‹æ­å»ºè¿è¡Œï¼Œæœ€åˆä½¿ç”¨çš„æ˜¯ Hexo æ­å»ºï¼Œé…åˆç²¾ç¾çš„ NexT ä¸»é¢˜ï¼Œç»è¿‡é¼“æ£ï¼Œå·®ä¸å¤šç®—æ˜¯åšå‡ºäº†è®©è‡ªå·±æ»¡æ„çš„åšå®¢ã€‚ä¸è¿‡æ¯æ¬¡å®‰è£… Hexoï¼Œè¦é…ç½®çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œæ€»è§‰å¾—ä¸æ˜¯å¾ˆç®€æ´ï¼Œå¦å¤–ï¼Œéšç€æ–‡ç« æ•°é‡çš„å¢åŠ ï¼ŒHexo ç”Ÿæˆåšå®¢çš„é€Ÿåº¦ä¹Ÿæ…¢äº†ä¸‹æ¥ã€‚æ€€ç€å°é²œçš„å¿ƒæ€ï¼Œæˆ‘æŠŠ Hexo åšå®¢è¿ç§»åˆ°äº† Hugoã€‚\nHugo å®‰è£…ä¸é…ç½® # Hugo å®‰è£… # é¦–å…ˆå®‰è£… Hugoï¼Œåœ¨ä¸åŒç³»ç»Ÿä¸Šå®‰è£…éƒ½å¾ˆç®€å•ï¼Œåœ¨ Mac ä¸Šï¼Œä½¿ç”¨ Homebrew å¯ä»¥å®‰è£… Hugoï¼š\nbrew install hugo å»ºç«‹åšå®¢ç«™ç‚¹ # å®‰è£…ä»¥åï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªåšå®¢ç›®å½•ï¼Œä¸‹é¢å­˜æ”¾çš„æ˜¯åšå®¢çš„æ‰€æœ‰é…ç½®ä»¥åŠåšæ–‡ç­‰èµ„æ–™ï¼Œä¾‹å¦‚è¦å»ºç«‹ä¸€ä¸ªåä¸º Blog çš„ç«™ç‚¹ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\nhugo new site Blog ä¼šçœ‹åˆ°ä»¥ä¸‹æç¤ºå†…å®¹ï¼š\nCongratulations! Your new Hugo site is created in /Users/jdhao/Blog.\nJust a few more steps and you\u0026rsquo;re ready to go:\nDownload a theme into the same-named folder. Choose a theme from https://themes.gohugo.io/, or create your own with the \u0026ldquo;hugo new theme \u0026rdquo; command. Perhaps you want to add some content. You can add single files with \u0026ldquo;hugo new /.\u0026rdquo;. Start the built-in live server via \u0026ldquo;hugo server\u0026rdquo;. Visit https://gohugo.io/ for quickstart guide and full documentation.\nå»ºç«‹ç«™ç‚¹ä»¥åï¼Œåšå®¢æ ¹ç›®å½•ä¸‹é»˜è®¤æœ‰è¿™äº›æ–‡ä»¶å’Œå­ç›®å½•ï¼š\narchetypes/ config.toml content/ data/ layouts/ static/ themes/ config.toml å°±æ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œarchetypes ç›®å½•ä¸‹æœ‰ä¸€ä¸ª default.mdï¼Œå­˜æ”¾çš„æ˜¯å»ºç«‹æ–°åšæ–‡æ—¶å€™é»˜è®¤ä½¿ç”¨çš„æ¨¡æ¿ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ã€‚content ç›®å½•ç”¨æ¥å­˜æ”¾åšæ–‡ï¼Œstatic å¯ä»¥å­˜æ”¾ä¸€äº›è‡ªå·±çš„æ–‡ä»¶ï¼Œthemes æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ä¸åŒçš„ä¸»é¢˜ã€‚\nå®‰è£…ä¸»é¢˜ # å»ºç«‹ç«™ç‚¹ä»¥åï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸»é¢˜ï¼ŒHugo æä¾›äº†ä¸€ä¸ªä¸»é¢˜æµè§ˆç½‘ç«™ï¼Œå¯ä»¥æµè§ˆå„ç§ä¸»é¢˜çš„æ•ˆæœï¼Œæ‰¾äº†ä¸€åœˆï¼Œæ²¡æœ‰å‘ç°è‡ªå·±ç‰¹åˆ«ä¸­æ„çš„ã€‚ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ GitHub ä¸Šæœç´¢ Hugo çš„ä¸»é¢˜ï¼Œæœ€åç»è¿‡å„ç§æŸ¥æ‰¾æ¯”è¾ƒï¼Œé€‰æ‹©äº† even ä¸»é¢˜ã€‚\nåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… even ä¸»é¢˜ï¼š\ngit init git submodule add https://github.com/olOwOlo/hugo-theme-even.git themes/even ç„¶åç¼–è¾‘ config.tomlï¼Œè®¾ç½®ä¸»é¢˜ä¸º even:\ntheme = \u0026#34;even\u0026#34; æ–°å»ºåšæ–‡ # è¦å»ºç«‹æ–°çš„åšæ–‡ test.mdï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\nhugo new post/test.md è¿™ä¸ªå‘½ä»¤ä¼šåœ¨ content ç›®å½•ä¸‹å»ºç«‹ post ç›®å½•ï¼Œå¹¶åœ¨ post ä¸‹ç”Ÿæˆ test.md æ–‡ä»¶ï¼Œåšæ–‡ä¹¦å†™å°±åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œä½¿ç”¨ Markdown è¯­æ³•å®Œæˆã€‚åšæ–‡çš„ front matter é‡Œ draft é€‰é¡¹é»˜è®¤ä¸º trueï¼Œéœ€è¦æ”¹ä¸º false æ‰èƒ½å‘è¡¨åšæ–‡ï¼Œå»ºè®®ç›´æ¥æ›´æ”¹ä¸Šé¢è¯´çš„archetypes ç›®å½•ä¸‹çš„ default æ–‡ä»¶ï¼ŒæŠŠ draft: true æ”¹ä¸º draft: falseï¼Œè¿™æ ·ç”Ÿæˆçš„åšæ–‡å°±æ˜¯é»˜è®¤å¯ä»¥å‘è¡¨çš„ã€‚\nå’Œ Hexo ä¸€æ ·ï¼Œåœ¨ front matter é‡Œé¢ï¼Œä½¿ç”¨ tags æŒ‡å®šæ–‡ç« çš„ tagï¼Œä½¿ç”¨ categories æŒ‡å®šæ–‡ç« çš„ç±»åˆ«ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\ntags: [LaTeX, Hexo, font] categories: [Mac, Linux] æŠŠ Hexo åšå®¢é‡Œçš„æ‰€æœ‰åšæ–‡ Markdown æ–‡ä»¶æ‹·è´åˆ° content/post/ ç›®å½•ä¸‹ï¼Œå°±å®Œæˆäº†åšæ–‡çš„è¿ç§»ã€‚\næŸ¥çœ‹ç”Ÿæˆæ•ˆæœ # ä¸ºäº†æŸ¥çœ‹ç”Ÿæˆçš„åšå®¢çš„æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ hugo server å‘½ä»¤ï¼Œç¤ºä¾‹è¾“å‡ºå¦‚ä¸‹ï¼š\n| EN +------------------+-----+ Pages | 196 Paginator pages | 9 Non-page files | 0 Static files | 63 Processed images | 0 Aliases | 53 Sitemaps | 1 Cleaned | 0 Total in 90 ms Watching for changes in /Users/jdhao/Blog/{content,data,layouts,static,themes} Watching for config changes in /Users/jdhao/Blog/config.toml Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop åšå®¢æœ‰ä¸ƒåå¤šç¯‡æ–‡ç« ï¼Œç”Ÿæˆæ—¶é—´æ‰ 90 msï¼Œé€Ÿåº¦æœç„¶æƒŠäººã€‚è¯¥å‘½ä»¤ä¼šå»ºç«‹ä¸€ä¸ªæœ¬åœ°çš„åšå®¢æœåŠ¡å™¨ï¼Œç›´æ¥åœ¨æµè§ˆå™¨è®¿é—®ç½‘å€ http://localhost:1313/ å³å¯æŸ¥çœ‹ç”Ÿæˆçš„åšå®¢æ•ˆæœã€‚\néƒ¨ç½²åˆ° github pages # ç¡®å®šç”Ÿæˆçš„åšå®¢æ•ˆæœæ— è¯¯åï¼Œå°±å¯ä»¥å°†åšå®¢éƒ¨ç½²åˆ°æœåŠ¡å™¨äº†ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å…è´¹çš„ GitHub pages æœåŠ¡ã€‚æœ¬éƒ¨åˆ†å‡å®šæˆ‘ä»¬åœ¨ github pages å»ºç«‹çš„æ˜¯ User/Organization Pages ï¼Œåœ°å€åç§°å½¢å¼ä¸ºhttps://\u0026lt;USERNAME|ORGANIZATION\u0026gt;.github.io/ï¼Œå¦‚æœä¸æ˜¯è¿™ç§ç±»å‹åœ°å€ï¼Œè¯·å‚è€ƒ Hugo å®˜æ–¹æŒ‡å¯¼ã€‚\nå¦‚æœä¹‹å‰å·²ç»å»ºç«‹äº† xxxx.github.io è¿™ç§å½¢å¼çš„ä»“åº“ï¼Œå¹¶ä¸”ä½¿ç”¨ Hexo å¾€è¿™ä¸ªä»“åº“éƒ¨ç½²è¿‡ï¼Œä½†æ˜¯ä¸æƒ³è¦ä¹‹å‰çš„ä¸œè¥¿äº†ï¼Œåœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š\nmkdir public cd public git init git remote add upstream https://github.com/jdhao/jdhao.github.io.git æ‰§è¡Œ hugo -t evenï¼Œhugo ä¼šç”Ÿæˆ blog å†…å®¹ï¼Œæ”¾åˆ° public ç›®å½•ã€‚ç„¶åï¼Œæˆ‘ä»¬æŠŠ public ä¸‹é¢çš„å†…å®¹ push åˆ° github å³å¯ã€‚\ngit add . git commit -m \u0026#34;switch to hugo\u0026#34; git push -f upstream master # ç¬¬ä¸€æ¬¡ push å¿…é¡»ä½¿ç”¨ -fï¼Œå› ä¸ºæ­¤æ—¶è¿œç¨‹ä»“åº“éç©ºï¼Œå’Œæœ¬åœ°æœ‰å†²çª è¿™æ ·å°±éƒ¨ç½²æˆåŠŸäº†ï¼Œä¸€èˆ¬ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè®¿é—®è‡ªå·±çš„åšå®¢ï¼Œå°±èƒ½çœ‹åˆ°æ›´æ–°ä»¥åçš„å†…å®¹ã€‚\næ¯æ¬¡éƒ¨ç½²éƒ½è¾“å…¥ä¸€å¤§å †å‘½ä»¤ï¼Œå¾ˆç¹çï¼Œå‚è€ƒå®˜æ–¹æ•™ç¨‹ï¼Œåšä¸€ä¸ª deploy.sh è„šæœ¬ï¼Œæ–¹ä¾¿æ¯æ¬¡æŠŠåšå®¢ push åˆ° githubã€‚æˆ‘çš„ deploy.sh è„šæœ¬å†…å®¹ä¸ºï¼š\nç‚¹å‡»æŸ¥çœ‹è„šæœ¬å†…å®¹ã€‚ #!/bin/bash echo -e \u0026#34;\\033[0;32mDeploying updates to GitHub...\\033[0m\u0026#34; # build the project hugo -t even cd public git add . msg=\u0026#34;rebuilding site `date`\u0026#34; if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # push source to github git push upstream master # come back to blog root cd .. èµ‹äºˆ deploy.sh æ–‡ä»¶æ‰§è¡Œæƒé™ï¼š\nchmod u+x deploy.sh ä»¥åæ‰§è¡Œ ./deploy.sh å°±å¯ä»¥éƒ¨ç½²åšå®¢åˆ° github äº†ã€‚\næ³¨ï¼šç¬¬ä¸€æ¬¡ push éœ€è¦ä½¿ç”¨ -fï¼Œä»¥å push å°±ä¸éœ€è¦è¯¥å‚æ•°äº†ï¼Œforce push ä»¥åï¼Œgithub ä»“åº“çš„ commit æ•°é‡ä¼šæ¸…é›¶ï¼ŒåŸæœ‰çš„ commit ä¿¡æ¯ä¼šä¸¢å¤±ï¼Œä¸è¿‡è¿™ä¸ªä»“åº“å°±æ˜¯ä¸ºäº†å­˜æ”¾åšå®¢ï¼Œä¸éœ€è¦å’Œå…¶ä»–äººåˆä½œï¼Œæ‰€ä»¥ commit ä¿¡æ¯ä¸¢å¤±é—®é¢˜ä¸å¤§ã€‚\nä¸»é¢˜è®¾ç½®ä¸è¿ç§»ç»†èŠ‚ # æ—¶é—´æ ¼å¼ # Hexo ä¸­æ—¶é—´æ ¼å¼ä¸ Hugo æ ¼å¼ä¸å¤ªç›¸åŒï¼ŒHugo å¯¹æ—¶é—´æ ¼å¼çš„è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼ŒHexo ä¸­YYYY-MM-DD HH:MM æ ¼å¼çš„æ—¶é—´åœ¨ Hugo ä¸­æ— æ³•è¢«æ­£ç¡®è¯†åˆ«ã€‚Hugo ä¸­ä½¿ç”¨çš„æ—¶é—´æ ¼å¼å¦‚ä¸‹ï¼š\nYYYY-MM-DD HH:MM:SS +0800 æœ€åçš„ +0800 ä»£è¡¨ä¸­å›½çš„æ—¶åŒºæ˜¯GMT+8ã€‚\nå¦å¤–ï¼ŒHexo ä¸­ front matter ä»£è¡¨åšå®¢æ›´æ–°æ—¶é—´çš„ updated é€‰é¡¹åœ¨ Hugo ä¸­æ˜¯ lastmodã€‚\nå…·ä½“æ—¶é—´æ ¼å¼çš„æ›¿æ¢ï¼Œæˆ‘é‡‡ç”¨ Sublime Text é…åˆæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¥æ›¿æ¢ã€‚\næ–‡ç« çš„ permalinks è®¾ç½® # Hexo ä¸­ï¼Œæ–‡ç« çš„é“¾æ¥éƒ½æ˜¯ YYYY/MM/DD/post_name/ çš„æ ¼å¼ï¼Œåœ¨ Hugo ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® permalinks å‚æ•°æ¥å®ç°å¹³æ»‘è¿‡æ¸¡ï¼Œåœ¨ config.toml ä¸­åŠ å…¥ä»¥ä¸‹è®¾ç½®ï¼š\n[permalinks] post = \u0026#34;/:year/:month/:day/:filename/\u0026#34; å¤§å°å†™é—®é¢˜ # Hugo é»˜è®¤ä¼šæŠŠ url ä¸­çš„å¤§å†™å­—ç¬¦è½¬ä¸ºå°å†™ï¼Œå¦‚æœä¸æƒ³è½¬æ¢ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥\ndisablePathToLower = true Hugo é»˜è®¤ä¼šæŠŠåˆ†ç±»ï¼ˆcategoriesï¼‰åç§°è½¬ä¸ºå°å†™ï¼Œå¦‚æœä¸æƒ³è½¬æ¢ï¼Œåœ¨é…ç½®ä¸­åŠ å…¥ï¼Œ\npreserveTaxonomyNames = true å¦‚ä½•å®Œç¾æ”¯æŒ LaTeX å…¬å¼ # ç”±äº Markdown ä¸­çš„ \\ï¼Œ_ ç­‰å­—ç¬¦åœ¨ LaTeX å…¬å¼ä¹Ÿæœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¸¤è€…ä¼šæœ‰å†²çªï¼Œä¹‹å‰ä¸ºäº†é…ç½® Hexo åšå®¢çš„æ•°å­¦å…¬å¼æ”¯æŒä¹Ÿè´¹äº†å¾ˆå¤§åŠŸå¤«ï¼Œå…·ä½“è¿‡ç¨‹å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ã€‚è¿ç§»åˆ°Hugoä»¥åï¼Œç»è¿‡æœç´¢ã€æŸ¥æ‰¾ä¸éªŒè¯ï¼Œæ‰¾åˆ°äº†ä¸¤ç§æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ³•ã€‚\n2022-03-04 æ³¨ï¼šmmark å·²ç»è¢« hugo æ·˜æ±°ï¼Œåç»­ä¼šç§»é™¤æ”¯æŒï¼Œä¸å†æ¨èã€‚\n### ä½¿ç”¨ mmark æ ¼å¼ Mmark æ˜¯ä¸€ä¸ª Markdown å¼•æ“ï¼ŒHugo åŸç”Ÿæ”¯æŒã€‚å¯¹äºåŒ…å« LaTeX å…¬å¼çš„æ–‡æ¡£ï¼Œé¦–å…ˆæŠŠåç¼€åæ”¹ä¸º mmarkï¼ˆå³åç§°ç”± *.md \u0026ndash;\u0026gt; *.mmarkï¼‰ï¼Œç„¶ååœ¨æ–‡ç« çš„ front matterï¼ŒåŠ ä¸Šä¸€è¡Œè®¾ç½®\nmarkup: mmark ä½¿ç”¨ Pandoc # Hugo ä¹Ÿæ”¯æŒä½¿ç”¨å¤–éƒ¨çš„å¤„ç†ç¨‹åºæ¥å¤„ç† Markdown æ–‡ä»¶ï¼Œä¾‹å¦‚ asciidocï¼ŒreStructuredText å’Œ Pandocã€‚è¿™é‡Œé€‰æ‹© Pandocï¼Œé¦–å…ˆå®‰è£…Pandocã€‚ç„¶ååœ¨æ–‡ç« çš„ front matterï¼ŒåŠ ä¸Šä¸€è¡Œè®¾ç½®\nmarkup: pandoc hugo åœ¨ç”Ÿæˆåšå®¢çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è°ƒç”¨ pandoc æ¥ç”Ÿæˆ htmlã€‚\nå°é—®é¢˜ # Hugo ä¸­ï¼Œä¸ºäº†æ”¯æŒ LaTeXï¼Œå¦‚æœä½¿ç”¨ mmark æˆ–è€… pandoc æ¥å¤„ç† Markdownï¼Œç”Ÿæˆçš„åšå®¢æ²¡æœ‰ç›®å½•ã€‚å¯¹äº mmark æ ¼å¼ï¼Œæš‚æ—¶ä¸æ”¯æŒç›®å½•ï¼›å¯¹äºPandocï¼Œæ— æ³•ç”Ÿæˆ TOC æ˜¯å› ä¸º hugo åœ¨è°ƒç”¨ Pandoc å°† Markdown æ–‡ä»¶è½¬æ¢ä¸º HTML çš„æ—¶å€™ï¼Œåªä½¿ç”¨äº† --mathjax é€‰é¡¹ï¼Œæ²¡æœ‰ä½¿ç”¨ --toc é€‰é¡¹ï¼Œå…·ä½“ code è§ è¿™é‡Œ, å¦‚æœåŠ ä¸Š --toc é€‰é¡¹åº”è¯¥æ˜¯å¯ä»¥ç”Ÿæˆ TOC çš„ã€‚ä¸å¦¨è¯•ç€åŠ ä¸Š --toc é€‰é¡¹ï¼Œç„¶å è‡ªå·±ç¼–è¯‘hugoçœ‹çœ‹èƒ½ä¸èƒ½ç”Ÿæˆ TOCã€‚\nå‚è€ƒ # https://github.com/gohugoio/hugo/pull/4060 https://stackoverflow.com/questions/37533412/md-with-latex-to-html-with-mathjax-with-pandoc/55106932#55106932 https://github.com/olOwOlo/hugo-theme-even/issues/139 æ–‡ç« ç¼©ç•¥çš„æ ¼å¼ # è¦åœ¨æ–‡ç« æŸä¸ªåœ°æ–¹ç¼©ç•¥ï¼Œè¦ä½¿ç”¨ \u0026lt;!--more--\u0026gt;ã€‚æ³¨æ„ more çš„å‘¨å›´ä¸è¦æœ‰ç©ºæ ¼ï¼ŒHugoæ— æ³•è¯†åˆ«è¿™ç§æœ‰ç©ºæ ¼çš„ç¼©ç•¥æ ¼å¼ï¼Œè¿™é‡Œçš„è®°å½•ä¹Ÿè¯å®äº†è¿™ä¸ªæƒ…å†µã€‚åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å‚è€ƒHugo å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ã€‚\nä¸ªäººæ–‡ä»¶çš„ä½ç½® # å¦‚æœåšå®¢ä¸­æœ‰ä¸€äº›æ–‡ç« è®¾å®šäº†ä¸‹è½½é“¾æ¥ï¼Œå»ºè®®æŠŠæ–‡ä»¶æ”¾åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ static ç›®å½•ï¼Œå¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹åä¸º files çš„ç›®å½•ï¼ˆè¯¥åç§°ä»…ä»…æ˜¯ä¸¾ä¾‹ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½æ›´æ”¹ï¼‰ï¼Œç„¶åæŠŠæ–‡ä»¶æ”¾åœ¨ files ç›®å½•ä¸‹ã€‚å‡å¦‚ files ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶ test.pdfï¼Œå‚è€ƒè¿™é‡Œï¼Œåœ¨åšå®¢ä¸­å¼•ç”¨å®ƒçš„æ­£ç¡®æ–¹å¼æ˜¯:\n[ç‚¹å‡»è¿™é‡Œä¸‹è½½ test.pdf](/files/test.pdf) å®Œæ•´çš„é…ç½®æ–‡ä»¶è§è¿™é‡Œã€‚\nbusuanzi åšå®¢è®¡æ•°å¤±æ•ˆï¼Ÿ # Even ä¸»é¢˜é»˜è®¤ä½¿ç”¨ busuanzi æœåŠ¡æ¥ç»™åšå®¢çš„ pv å’Œsv è®¡æ•°ï¼Œæœ€è¿‘æ‰“å¼€åšå®¢ï¼Œå‘ç°è®¡æ•°éƒ¨åˆ†çš„æ•°å­—æ— æ³•æ˜¾ç¤ºï¼Œä¸€ç›´åœ¨è½¬åœˆã€‚æŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥æ˜¯busuanzi åœ¨ä¸ƒç‰›äº‘ä¸Šçš„åŸŸåå¤±æ•ˆäº†ï¼Œæ‰€ä»¥æœåŠ¡æŒ‚äº†ã€‚\nè§£å†³åŠæ³•å¦‚ä¸‹ï¼Œæ‰“å¼€ even ä¸»é¢˜çš„ç›®å½•ï¼Œæ‰“å¼€ä¸»é¢˜ç›®å½•ä¸‹/layouts/partials/head.html è¿™ä¸ªæ–‡ä»¶ï¼ŒæŠŠ1\n\u0026lt;script async src=\u0026#34;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; æ”¹ä¸º\n\u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; ç„¶åé‡æ–°ç”Ÿæˆåšå®¢ï¼Œéƒ¨ç½²åˆ°åšå®¢æ‰˜ç®¡ç½‘ç«™æœåŠ¡å™¨å³å¯ã€‚\nå‚è€ƒ # Hugo quick start, https://gohugo.io/getting-started/quick-start/ http://www.flysnow.org/2018/07/29/from-hexo-to-hugo.html ç¦æ­¢è½¬æ¢åˆ†ç±»åç§°ä¸ºå°å†™ï¼Œhttps://discourse.gohugo.io/t/solved-disablepathtolower-doesnt-work-for-taxonomic-terms/9429 Hugo configuration, https://gohugo.io/getting-started/configuration/ Hugo æ”¯æŒçš„åšæ–‡æ ¼å¼ï¼Œå†…æœ‰è¯¦ç»†ä»‹ç»ï¼Œhttps://gohugo.io/content-management/formats/ Hugo å¯¹ Pandoc çš„æ”¯æŒï¼Œhttps://github.com/gohugoio/hugo/pull/4060 å¦‚ä½•å¿«é€Ÿå®šä½åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œå‚è€ƒè¿™ç¯‡æ–‡ç« \u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 October 2018","externalUrl":null,"permalink":"/2018/10/10/hexo_to_hugo/","section":"Posts","summary":"\u003cp\u003eè¿™ä¸ªåšå®¢äº 2017 å¹´ 2 æœˆå¼€å§‹æ­å»ºè¿è¡Œï¼Œæœ€åˆä½¿ç”¨çš„æ˜¯ \u003ca href=\"https://hexo.io/zh-cn/\" target=\"_blank\"\u003eHexo\u003c/a\u003e æ­å»ºï¼Œé…åˆç²¾ç¾çš„ \u003ca href=\"https://github.com/theme-next/hexo-theme-next\" target=\"_blank\"\u003eNexT\u003c/a\u003e ä¸»é¢˜ï¼Œç»è¿‡\u003ca href=\"https://jdhao.github.io/tags/Hexo/\" target=\"_blank\"\u003eé¼“æ£\u003c/a\u003eï¼Œå·®ä¸å¤šç®—æ˜¯åšå‡ºäº†è®©è‡ªå·±æ»¡æ„çš„åšå®¢ã€‚ä¸è¿‡æ¯æ¬¡å®‰è£… Hexoï¼Œè¦é…ç½®çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œæ€»è§‰å¾—ä¸æ˜¯å¾ˆç®€æ´ï¼Œå¦å¤–ï¼Œéšç€æ–‡ç« æ•°é‡çš„å¢åŠ ï¼ŒHexo ç”Ÿæˆåšå®¢çš„é€Ÿåº¦ä¹Ÿæ…¢äº†ä¸‹æ¥ã€‚æ€€ç€å°é²œçš„å¿ƒæ€ï¼Œæˆ‘æŠŠ Hexo åšå®¢è¿ç§»åˆ°äº† \u003ca href=\"https://gohugo.io/\" target=\"_blank\"\u003eHugo\u003c/a\u003eã€‚\u003c/p\u003e","title":"æŠŠåšå®¢ä» Hexo è¿ç§»åˆ° Hugo","type":"posts"},{"content":"If you have a nerdtree file navigation window on the left of the current buffer and use :bd1, you will find that the nerdtree window will occupy the whole window. When you open another buffer, you have to manually resize the nerdtree window to a smaller size, which is super annoying.\nHow to prevent this behaviour?\nAn easy way is to switch to another buffer first, and then delete the previous buffer. We can create a shortcut for this:\nnnoremap \\d :bp\u0026lt;cr\u0026gt;:bd #\u0026lt;cr\u0026gt; In the above command, :bp stands for :bprevious, which will change the buffer to the previous buffer. # after the :bd command represents the last used buffer, i.e., the buffer we want to delete.\nThere is also a Nvim plugin called vim-bufkill, which specifically address this issue. After installing this plugin, you can use :BD to delete the current buffer without closing the window.\nReferences # https://github.com/carlhuda/janus/issues/71 https://www.johnplummer.com/tools/macvim-nerdtree-janus-annoyances.html https://github.com/scrooloose/nerdtree/issues/400 https://github.com/vim-airline/vim-airline/issues/460 https://superuser.com/questions/1131952/vim-close-buffer-not-quite-vim https://stackoverflow.com/questions/1864394/vim-and-nerd-tree-closing-a-buffer-properly/ https://stackoverflow.com/questions/4465095/vim-delete-buffer-without-losing-the-split-window In Nvim, bd[elete] will delete the current buffer. But the window for the current buffer will also be closed.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"9 October 2018","externalUrl":null,"permalink":"/2018/10/09/nerdtree_windows_issue_bd_vim/","section":"Posts","summary":"\u003cp\u003eIf you have a nerdtree file navigation window on the left of the current buffer\nand use \u003ccode\u003e:bd\u003c/code\u003e\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e, you will find that the nerdtree window will occupy the whole\nwindow.  When you open another buffer, you have to manually resize the nerdtree\nwindow to a smaller size, which is super annoying.\u003c/p\u003e\n\u003cp\u003eHow to prevent this behaviour?\u003c/p\u003e","title":"Fixing the nerdtree Window Problem with `bd` Command in Nvim","type":"posts"},{"content":"I use a Windows 10 machine and need to connect to Linux servers. After using several ssh clients for connecting to the server, I finally settled for Cygwin and Wsltty, which is open-sourced and use the well-known mintty terminal.\nBut one feature I miss from the SSH tools such as MobaXterm or Xshell is that these tools can save the server IP, port, user name and even password, so that you can log into the server with just a click.\nWith mintty terminal, I have to manually ssh to my server each time, which is tedious and time consuming. Fortunately, I have found the Expect scripting language which is pretty powerful for this task.\nInstall # If you are using Cygwin, you can install Expect package via its setup program. If you are using Ubuntu on Windows, you can install expect with apt-get:\nsudo apt-get install -y expect Usage # Simple case # Expect can execute command, receive input and send output automatically for you. Suppose you want to connect to a server, you can use the following script:\n#!/usr/bin/expect set timeout 10 spawn ssh -p 22 USER@SERVER_IP expect \u0026#34;Password: \u0026#34; send \u0026#34;PASSWORD\\r\u0026#34; You should change USER, SERVER_IP and PASSWORD properly. In the above script, we first use spawn to execute the ssh command for us. Then we use expect to capture the output of the terminal to see if it matches the predefined string. Finally, we use send command to send the right password and a newline character: it is just like you have typed your password and press Enter manually in terminal.\nYou can save this script as auto_login.exp and execute it with\nexpect auto_login.exp Accept command line parameters # In the above script, the user name and password is fixed in the script. If you have multiple user account in the server, it would be better that you can input the user name and password dynamically from the command line. You can use the following script for that:\n#!/usr/bin/expect set timeout 10 set user [lindex $argv 0] set password [lindex $argv 1] spawn ssh -p 22 $user@SERVER_IP expect \u0026#34;Password: \u0026#34; send \u0026#34;$password\\r\u0026#34; In the above script, lindex command is used to get the parameters supplied in the command line. To use a variable, add a $ before it to access its value. In the command line, you can invoke the script like this:\nexpect auto_login.exp user_name some_password References # https://stackoverflow.com/questions/17059682/how-to-pass-argument-in-expect-through-command-line-in-shell-script https://www.geeksforgeeks.org/expect-command-in-linux-with-examples/ ","date":"8 October 2018","externalUrl":null,"permalink":"/2018/10/08/server_autologin_with_expect/","section":"Posts","summary":"\u003cp\u003eI use a Windows 10 machine and need to connect to Linux servers. After using\nseveral \u003ca href=\"https://www.slant.co/topics/149/~best-ssh-clients-for-windows\" target=\"_blank\"\u003essh clients\u003c/a\u003e\nfor connecting to the server, I finally settled for\n\u003ca href=\"https://www.cygwin.com/\" target=\"_blank\"\u003eCygwin\u003c/a\u003e and\n\u003ca href=\"https://github.com/mintty/wsltty\" target=\"_blank\"\u003eWsltty\u003c/a\u003e, which is open-sourced and use the\nwell-known \u003ca href=\"https://github.com/mintty/mintty\" target=\"_blank\"\u003emintty terminal\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eBut one feature I miss from the SSH tools such as MobaXterm or Xshell is that\nthese tools can save the server IP, port, user name and even password, so that\nyou can log into the server with just a click.\u003c/p\u003e\n\u003cp\u003eWith mintty terminal, I have to manually ssh to my server each time, which is\ntedious and time consuming. Fortunately, I have found the\n\u003ca href=\"https://en.wikipedia.org/wiki/Expect\" target=\"_blank\"\u003eExpect\u003c/a\u003e scripting language which is\npretty powerful for this task.\u003c/p\u003e","title":"Server Autologin with Expect","type":"posts"},{"content":"When we want to find out where a method is used across the whole project, how do we do that in Nvim? Various tools are available, for example, ack, ag or rg.\nThese are the 3 most popular tools to use. In the following post, I will introduce how to install and use these packages in Neovim (Nvim).\nInstalling the searching tools # Install ack # Suppose that we want to install it to $HOME/tools/bin, you can use the following install command:\n# directory ~/tools/bin must exist curl https://beyondgrep.com/ack-2.24-single-file \u0026gt; ~tools/bin/ack # make it executable chmod u+x ~/tools/bin/ack Add ack to PATH variable in .bash_profile:\nexport PATH=$HOME/tools/bin:$PATH Then source .bash_profile to make the change take effect:\nsource ~/.bash_profile`. Install ag \u0026ndash; the silver searcher # I have found an exceptional tool for this task. It is called The Silver Searcher, AKA, ag.\nPlease follow the official guide on how to install this tool.\nInstall rg \u0026ndash; ripgrep # Ripgrep is also a great tool for searching patterns. It seems that rg is faster than both ack and ag. So it is also worth a trial.\nFollow the offical guide on installing this tools.\nUse these search tools inside Nvim # You can use these tools directly on the command line. If you want to use it with Vim, you also need to use a front end1 for it.\nInstall ack.vim # To use ack inside Nvim, we also need to install ack.vim:\n# using vim-plug to install this package Plug \u0026#39;mileszs/ack.vim\u0026#39; By default, ack.vim use ack to search for patterns. If you have installed both ag and rg. You can tell ack.vim to use them instead, with a preference for rg.\n\u0026#34; Prefer rg \u0026gt; ag \u0026gt; ack \u0026#34; https://hackercodex.com/guide/vim-search-find-in-project/ if executable(\u0026#39;rg\u0026#39;) let g:ackprg = \u0026#39;rg -S --no-heading --vimgrep\u0026#39; elseif executable(\u0026#39;ag\u0026#39;) let g:ackprg = \u0026#39;ag --vimgrep\u0026#39; endif In Nvim normal mode, use :Ack {PATTERN} [{PATH}] to search {PATTERN} recursively under directory {PATH}. If you omit the {PATH} parameter, the default path is the current path.\nAck.vim will open the first file that matches. If you do not want this behaviour, you can use :Ack! instead. Or, use the following setting in your Nvim config:\ncnoreabbrev Ack Ack! nnoremap \u0026lt;Leader\u0026gt;a :Ack!\u0026lt;Space\u0026gt; It adds a custom shortcut for the :Ack! command. For more information, see the ack.vim documentation.\nIf you are a minimalist # There is high chance that you may have installed fzf and fzf.vim. Then You do not need to install ack.vim. fzf.vim has built-in support for ag and rg.\nBoth fzf and fzf.vim is easy to install. After installation, you can use :Ag PATTERN or rg PATTERN to search for keyword PATTERN under your current root directory. The search speed is quite fast. Enjoy~\nAnother great tool # Recently, I have switched from fzf to Leaderf, which is also a great fuzzy find tool. To use ripgrep with leaderf, you can use the following command:\n:Leaderf rg PATTERN Update history:\n2020-02-21: Add section on Leaderf. References # Ack install: https://beyondgrep.com/install/ https://stackoverflow.com/questions/38398787/how-do-i-search-in-all-files-of-my-project-using-vim By front end, I mean that some Nvim plugin which will invoke this command for you.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"7 October 2018","externalUrl":null,"permalink":"/2018/10/07/nvim_fast_keyword_search/","section":"Posts","summary":"\u003cp\u003eWhen we want to find out where a method is used across the whole project, how\ndo we do that in Nvim? Various tools are available, for example, \u003ca href=\"https://beyondgrep.com/documentation/\" target=\"_blank\"\u003eack\u003c/a\u003e,\n\u003ca href=\"https://github.com/ggreer/the_silver_searcher\" target=\"_blank\"\u003eag\u003c/a\u003e or \u003ca href=\"https://github.com/BurntSushi/ripgrep\" target=\"_blank\"\u003erg\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThese are the 3 most popular tools to use. In the following post, I will\nintroduce how to install and use these packages in Neovim (Nvim).\u003c/p\u003e","title":"The Fastest Way to Search A Keyword across the Project in Neovim","type":"posts"},{"content":"I am a Neovim (or Nvim in abbreviation) user. In Nvim, we use Ctrl-W as prefix for window-related operations. However, the default prefix is Ctrl-B in Tmux. As a result, I often mistakenly press Ctrl-W when trying to change panes inside Tmux, which is annoying. Why not change tmux prefix to be more vim-like?\nTmux does not create a configuration file under your home by default. You have to create one yourself. First, we need to create a config file named .tmux.conf under home directory:\ntouch ~/.tmux.conf Then, we edit this file to customize tmux behaviours.\nChange prefix # To change prefix, add the following settings to .tmux.conf,\nunbind C-b set-option -g prefix C-w bind-key C-w send-prefix Split panes like Vim # By default, tmux use \u0026lt;prefix\u0026gt; % and \u0026lt;prefix\u0026gt; \u0026quot; to split window vertically and horizontally respectively, which is rather obscure. We can change it to be more Vim-like.\n# use \u0026lt;prefix\u0026gt; s for horizontal split bind s split-window -v # use \u0026lt;prefix\u0026gt; v for vertical split bind v split-window -h Then we can use \u0026lt;prefix\u0026gt; s and \u0026lt;prefix\u0026gt; v to create horizontal and vertical split respectively.\nVim-like pane navigation # In order to use the traditional Vim navigation key HJKL to switch between different panes, use the following settings:\nbind h select-pane -L bind j select-pane -D bind k select-pane -U bind l select-pane -R Then we can use \u0026lt;prefix\u0026gt; h/j/k/l to go to pane left/below/above/right.\nWe can also use Altand arrow keys for pane switching,\nbind -n M-Left select-pane -L bind -n M-Right select-pane -R bind -n M-Up select-pane -U bind -n M-Down select-pane -D Then we can press Alt followed by arrow key to switch panes.\nResize panes # # resize panes more easily bind \u0026lt; resize-pane -L 10 bind \u0026gt; resize-pane -R 10 bind - resize-pane -D 10 bind + resize-pane -U 10 To resize pane in the horizontal direction, use \u0026lt;prefix\u0026gt; \u0026lt; or \u0026lt;prefix\u0026gt; \u0026gt;. To resize pane in the vertical direction, use \u0026lt;prefix\u0026gt; + or \u0026lt;prefix\u0026gt; -.\nHow to reload tmux config? # If you are in a tmux session, just press \u0026lt;prefix\u0026gt;, then use command :source ~/.tmux.conf to refresh the Tmux session. If you are outside of a Tmux session, use tmux source ~/.tmux.conf to refresh tmux configurations.\nNote: before changing the tmux prefix key, the old prefix still takes effect. If you want to change the prefix inside a tmux session, you need to use the old prefix.\nReferences # A good gist: https://gist.github.com/rssvihla/789284 TMUX using HJKL to navigate panes https://gist.github.com/spicycode/1229612 changing .tmux.conf binding for prefix ","date":"30 September 2018","externalUrl":null,"permalink":"/2018/09/30/tmux_settings_for_vim_users/","section":"Posts","summary":"\u003cp\u003eI am a \u003ca href=\"https://neovim.io/\" target=\"_blank\"\u003eNeovim\u003c/a\u003e (or Nvim in abbreviation) user. In Nvim, we\nuse \u003ccode\u003eCtrl-W\u003c/code\u003e as prefix for window-related operations. However, the default\nprefix is \u003ccode\u003eCtrl-B\u003c/code\u003e in Tmux. As a result, I often mistakenly press \u003ccode\u003eCtrl-W\u003c/code\u003e when\ntrying to change panes inside Tmux, which is annoying. Why not change tmux\nprefix to be more vim-like?\u003c/p\u003e","title":"Vim-like Settings for Tmux","type":"posts"},{"content":"When working on real projects using Neovim, we often open several files in a window. Each file corresponds to a buffer. How to switch between these buffers quickly?\nTo show a list of opened buffers, we can use the :buffers command. Below is an example output:\n3 \u0026#34;train.py\u0026#34; line 1 4 %a \u0026#34;main.py\u0026#34; line 17 6 \u0026#34;keys.py\u0026#34; line 1 7 \u0026#34;utils.py\u0026#34; line 1 8 # \u0026#34;val_CTC.py\u0026#34; line 2 The first number is a unique buffer number corresponding to each buffer.\nThe native way # In command mode, some of the commands to change buffers are list below:\n:bfirst: change to first buffer in the buffer list :blast: change to last buffer in the buffer list :bnext: change to next buffer :bprevious: change to previous buffer Or you can use :b \u0026lt;TAB\u0026gt; to choose from currently opened buffers.\nIf there are a few buffers, it is easy to switch using the above command. However, if we have a dozen of opened buffers, it is cumbersome to use these commands.\nSwitching buffers using buffer number # We can switch to a buffer quickly if we know its number. If we know the number of a buffer, we can use NUM Ctrl-6 to go to a particular buffer (replace NUM with actual buffer number). For example, to switch to main.py, we will press 4\u0026lt;C-6\u0026gt;.\nThis is still inconvenient \u0026mdash; since we have to find the buffer number first.\nA better solution for buffer switching # If you have installed vim-airline ï¼Œyou can configure it to show the buffer number on the top of the window tabline. Just add the following settings to Nvim config file init.vim:\nlet g:airline#extensions#tabline#enabled = 1 let g:airline#extensions#tabline#buffer_nr_show = 1 Restart Nvim and you will find that each buffer has a number on the left of the file name. Then you can easily go to a buffer.\nIf you do not want to use vim-airline, there are other plugins to show a buffer tabline, such as buf-tabline, which is more lightweight.\nReferences # Fastest way to switch to a buffer in vim? https://github.com/vim-airline/vim-airline/issues/1149 Nvim documentation ","date":"29 September 2018","externalUrl":null,"permalink":"/2018/09/29/switching_buffers_quickly_neovim/","section":"Posts","summary":"\u003cp\u003eWhen working on real projects using Neovim, we often open several files in a\nwindow. Each file corresponds to a buffer. How to switch between these buffers\nquickly?\u003c/p\u003e","title":"How to Switch between Buffers Quickly in Neovim/Vim","type":"posts"},{"content":"If you have a source file with hundreds or thousands of lines of code. How to you see its structure and go to some classes or methods quickly in Nvim? The solution is to use tagbar.\nInstallation # To use tagbar, you have to install universal-ctags, which will generate tag files for tagbar to use.\nInstall universal-ctags # For Linux # We need to build and install by ourself:\ngit clone https://github.com/universal-ctags/ctags.git cd ctags ./autogen.sh ./configure --prefix=/where/you/want/to/install # install to where you have access make -j \u0026amp;\u0026amp; make install # may require extra privileges depending on where to install Under the install directory, there are two directories: bin å’Œ share. The ctags executable is in the bin directory. We need to add this bin directory to the system PATH variable:\n# suppose that you have install ctags to $HOME/tools/ctags echo export PATH=$HOME/tools/ctags/bin:$PATH \u0026gt;\u0026gt; ~/.bash_profile source ~/.bash_profile For Mac OS # For Mac OS, if you have installed Homebrew, you can simply using the following command to install ctags:\nbrew install --HEAD universal-ctags/universal-ctags/universal-ctags Homebrew will do everything for you. No need to set up install path.\nInstall tagbar # Then install tagbar with your favorite plugin manager such as vim-plug:\nPlug \u0026#39;majutsushi/tagbar\u0026#39; Use :PlugInstall to install tagbar.\nUsing tagbar # Open your code and use :TarbarToggle to toggle the tagbar window. You should be able to see the tagbar window with all your classes, methods and variables.\nIn the above image, the window on the right is the tagbar window.\nIf you frequently use tagbar, you should consider adding a shortcut for this command like the following:\nnnoremap \u0026lt;silent\u0026gt; \u0026lt;C-K\u0026gt;\u0026lt;C-T\u0026gt; :TagbarToggle\u0026lt;CR\u0026gt; Tagbar also provides some shortcut for tag operation. Place the cursor on some tags in the tagbar window:\n\u0026lt;Enter\u0026gt;: go to the line in the code where the tag occur, the cursor will be in the source code p: Like the \u0026lt;Enter\u0026gt; key, except that the cursor is still in tagbar window q: quit the tagbar window References # Install ctags on Linux. Install ctags on Mac OS. ","date":"28 September 2018","externalUrl":null,"permalink":"/2018/09/28/nvim_tagbar_install_use/","section":"Posts","summary":"\u003cp\u003eIf you have a source file with hundreds or thousands of lines of code. How to\nyou see its structure and go to some classes or methods quickly in Nvim? The\nsolution is to use \u003ca href=\"https://github.com/majutsushi/tagbar\" target=\"_blank\"\u003etagbar\u003c/a\u003e.\u003c/p\u003e","title":"How to Use Tagbar in Neovim","type":"posts"},{"content":"è¿™æ˜¯ä¸€ç¯‡å¸®åŠ©åˆå­¦è€…å¿«é€Ÿå…¥é—¨ Markdown çš„æ–‡ç« ï¼Œçœ‹å®Œæ­¤ç¯‡ï¼Œä½ åº”è¯¥å°±å¯ä»¥ä½¿ç”¨ Markdown å†™å‡ºæ ¼å¼è§„èŒƒçš„æ–‡ç« äº†ã€‚\nä»€ä¹ˆæ˜¯ Markdown # Markdown æ˜¯ä¸€ç§å¯æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°ï¼Œå¯ä»¥å°†çº¯æ–‡æœ¬å†…å®¹è½¬ä¸ºå†…å®¹ä¸°å¯Œçš„ HTML ç½‘é¡µï¼Œå®ç°å­—ä½“åŠ ç²—ï¼Œé“¾æ¥ï¼Œæ’å…¥å›¾ç‰‡ç­‰ç­‰çº¯æ–‡æœ¬æ— æ³•å®ç°çš„åŠŸèƒ½ã€‚\nMarkdown ç±»ä¼¼ç¼–ç¨‹è¯­è¨€ï¼Œéœ€è¦å…ˆç¼–å†™ï¼Œç„¶åé€šè¿‡æ¸²æŸ“å™¨æŠŠ Markdown æºæ–‡ä»¶è½¬ä¸ºå†…å®¹ä¸°å¯Œ çš„ HTML ç½‘é¡µï¼ˆç±»ä¼¼äºç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ï¼ŒæŠŠä¸€ç§è¯­è¨€ç¿»è¯‘ä¸ºå¦å¤–ä¸€ç§è¯­è¨€ï¼‰ã€‚\nMarkdown ä¼˜ç‚¹ # é‡‡ç”¨ Markdown ç”Ÿæˆçš„æ–‡æ¡£ï¼Œæ ¼å¼è§„èŒƒï¼Œæ¸…æ™°æ˜äº†ï¼Œé¿å…äº†çº¯æ–‡æœ¬æ–‡ä»¶æ— æ³•å¯¹æ–‡æœ¬æ ¼å¼è¿› è¡Œæ§åˆ¶çš„å°´å°¬ï¼Œæ˜¯ä¹¦å†™æŠ€æœ¯æ–‡æ¡£çš„æœ€ä½³é€‰æ‹©ä¹‹ä¸€ã€‚åŒæ—¶ï¼ŒMarkdown åˆä¸åƒç½‘é¡µé‚£æ ·å¤æ‚ï¼Œ ä»…ä»…ä½¿ç”¨ç®€å•çš„è¯­æ³•ï¼Œå°±èƒ½ç”Ÿæˆä¸°å¯Œçš„å†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯ Markdown æµè¡Œçš„åŸå› ã€‚\nMarkdown å…·ä½“è¯­æ³• # æœ¬éƒ¨åˆ†ä»‹ç»å¸¸ç”¨çš„ Markdown è¯­æ³•ï¼Œç”±äº Markdown ç±»ä¼¼ç¼–ç¨‹è¯­è¨€ï¼Œå› æ­¤å¯¹ä¹¦å†™æ ¼å¼æœ‰ä¸€ å®šè¦æ±‚ï¼Œç¬¦åˆè¦æ±‚æ‰èƒ½ç”Ÿæˆæƒ³è¦çš„ç»“æœï¼Œä¹¦å†™æ—¶å€™ä¸€å®šè¦éµå¾ªè§„èŒƒã€‚\næ ‡é¢˜ï¼ˆheadingï¼‰ # Markdown ä¸­çš„æ ‡é¢˜é‡‡ç”¨ # æ¥æ ‡å¿—ï¼Œ# åé¢è·Ÿå…·ä½“çš„æ ‡é¢˜æ–‡æœ¬ã€‚# çš„ä¸ªæ•°ä»£è¡¨æ ‡é¢˜ çº§åˆ«ï¼š1 ä¸ª # ä»£è¡¨ä¸€çº§æ ‡é¢˜ï¼Œ2 ä¸ª # ä»£è¡¨äºŒçº§æ ‡é¢˜ï¼Œä»¥æ­¤ç±»æ¨ã€‚\næ³¨æ„ç‚¹ # # ä¸æ ‡é¢˜çš„æ–‡æœ¬ä¹‹é—´ï¼Œéœ€è¦ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸æ¸²æŸ“ä¸ºæ ‡é¢˜æ ·å¼ æ ‡é¢˜çº§åˆ«ä¸è¦å¤ªå¤šï¼Œäº”å…­çº§æ ‡é¢˜ä¸æ­£æ–‡æ–‡æœ¬å­—ä½“å¤§å°åŒºåˆ«å·²ç»ä¸å¤§ï¼Œå› æ­¤æ„ä¹‰ä¹Ÿä¸å¤§ æ•ˆæœå±•ç¤ºä¸æºä»£ç  # æºä»£ç ï¼š\n# ä¸€çº§æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ ### ä¸‰çº§æ ‡é¢˜ #### å››çº§æ ‡é¢˜ ##### äº”çº§æ ‡é¢˜ ###### å…­çº§æ ‡é¢˜ ç”Ÿæˆçš„æ ‡é¢˜æ•ˆæœä¸ºï¼š\nåˆ—è¡¨ # Markdown ä¸­çš„åˆ—è¡¨ï¼Œåˆ†ä¸ºæœ‰åºåˆ—è¡¨ä»¥åŠæ— åºåˆ—è¡¨ä¸¤ç§ã€‚\nå¯¹äºæœ‰åºåˆ—è¡¨ï¼Œä½¿ç”¨æ•°å­—å¼€å¤´ï¼Œåé¢è·Ÿ .ï¼ˆè‹±æ–‡çš„å¥å·ï¼‰ï¼Œç©ºæ ¼ï¼Œåé¢å†™ä¸Šè¯¥æ­¥éª¤å†…å®¹ã€‚ å¯¹äºæ— åºåˆ—è¡¨ï¼Œä½¿ç”¨ + æˆ–è€… - å¼€å¤´ï¼Œç©ºæ ¼ï¼Œåé¢å†™å…·ä½“å†…å®¹ã€‚ ä½ ä¹Ÿå¯ä»¥åˆ›å»ºå¤šçº§åµŒå¥—åˆ—è¡¨ï¼Œåœ¨æŸä¸€çº§åˆ«ä¸‹å¦èµ·ä¸€è¡Œï¼Œç¼©è¿›å››ä¸ªç©ºæ ¼å¼€å§‹æ›´ä½çº§åˆ«ã€‚\næ³¨æ„ç‚¹ # åˆ—è¡¨é¡¹å‰é¢éœ€è¦ç©ºä¸€è¡Œï¼Œå¦åˆ™æŸäº› Markdown æ¸²æŸ“å™¨æ— æ³•æ­£å¸¸è¯†åˆ«åˆ—è¡¨ åˆ—è¡¨æ ‡å¿—åé¢éœ€ç©ºæ ¼ æ•ˆæœå±•ç¤ºä¸æºä»£ç  # æºä»£ç ï¼š\n1. æœ‰åºåˆ—è¡¨ï¼Œè¿™æ˜¯æ­¥éª¤ä¸€ 1. æ­¥éª¤ 1.1 1. æ­¥éª¤ 1.1.1 2. æ­¥éª¤ 1.1.2 3. æ­¥éª¤ 1.1.3 2. æ­¥éª¤ 1.2 3. æ­¥éª¤ 1.3 2. æœ‰åºåˆ—è¡¨ï¼Œè¿™æ˜¯æ­¥éª¤äºŒ 1. æ­¥éª¤ 2.1 2. æ­¥éª¤ 2.2 3. æœ‰åºåˆ—è¡¨ï¼Œè¿™æ˜¯æ­¥éª¤ä¸‰ + è½¦ + æ±½è½¦ + BMW + BYD + ç«è½¦ + æ™®é€šåˆ—è½¦ + åŠ¨è½¦ + é«˜é“ + è‡ªè¡Œè½¦ + åŠ¨ç‰© + çŒ´å­ + éª†é©¼ + å¤§è±¡ + äºº + ç™½äºº + é»‘äºº + éæ´²é»‘äºº + ç¾æ´²é»‘äºº + äºšæ´²é»‘äºº + é»„äºº ç”Ÿæˆçš„åˆ—è¡¨æ•ˆæœå¦‚ä¸‹å›¾ï¼š\nå¼ºè°ƒä¸ç€é‡è¡¨ç¤º # è¦ä½¿ç”¨æ–œä½“ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¯¹ * æˆ–è€… _åŒ…å›´è¦æ–œä½“çš„æ–‡å­—ï¼›è¦åŠ ç²—æ–‡å­—ï¼Œä½¿ç”¨ä¸¤å¯¹ * æˆ–è€… _ åŒ…å›´æ–‡å­—ã€‚\nå¦‚ä½•æ—¢æ–œä½“åˆåŠ ç²—æ–‡å­—ï¼Ÿ* ä¸ _ äº¤æ›¿ä½¿ç”¨å³å¯ï¼Œåƒè¿™æ · ï¼Œæˆ–è€… è¿™æ · ã€‚\nä»¥ä¸Šæ–‡å­—æºä»£ç ä¸ºï¼š\nè¦ä½¿ç”¨*æ–œä½“*ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¯¹ `*` æˆ–è€… `_`åŒ…å›´è¦æ–œä½“çš„æ–‡å­—ï¼›è¦**åŠ ç²—æ–‡å­—**ï¼Œä½¿ç”¨ä¸¤å¯¹ `*` æˆ–è€… `_` åŒ…å›´æ–‡å­—ã€‚ å¦‚ä½•æ—¢æ–œä½“åˆåŠ ç²—æ–‡å­—ï¼Ÿ`*` ä¸ `_` äº¤æ›¿ä½¿ç”¨å³å¯ï¼Œ*__åƒè¿™æ ·__* ï¼Œæˆ–è€… _**è¿™æ ·**_ ã€‚ æ³¨æ„ç‚¹ # ä½¿ç”¨ _ è¿›è¡Œæ–œä½“æˆ–è€…ç€é‡è¡¨ç¤ºï¼Œå¯èƒ½éœ€è¦å’Œå‘¨å›´æ–‡å­—ä¹‹é—´åŠ ä¸Šç©ºæ ¼ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸æ¸² æŸ“ï¼Œå»ºè®®ä½¿ç”¨ * é“¾æ¥ # å¯ä»¥ç»™æ–‡å­—åŠ ä¸Šé“¾æ¥ï¼Œé“¾æ¥çš„æ ¼å¼ä¸º []()ï¼Œæ–¹æ‹¬å·å†…å¡«å†™å¸Œæœ›æ˜¾ç¤ºçš„æ–‡å­—ï¼Œåœ†æ‹¬å·å†…å¡« å†™è¯¥æ–‡å­—å…·ä½“é“¾æ¥çš„ç½‘é¡µåœ°å€ã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸å¯ä»¥è®¿é—®è°·æ­Œå’Œ YouTubeã€‚ç›´æ¥ä¹¦å†™ç½‘é¡µåœ°å€ä¹Ÿå¯ä»¥ï¼Œç”¨ \u0026lt;\u0026gt; åŒ…å«ç½‘é¡µï¼Œ åƒè¿™æ ·ï¼Œhttps://www.google.com/ã€‚\nå¯ä»¥ç»™æ–‡å­—åŠ ä¸Šé“¾æ¥ï¼Œé“¾æ¥çš„æ ¼å¼ä¸º `[]()`ï¼Œæ–¹æ‹¬å·å†…å¡«å†™å¸Œæœ›æ˜¾ç¤ºçš„æ–‡å­—ï¼Œåœ†æ‹¬å·å†…å¡«å†™è¯¥æ–‡å­—å…·ä½“é“¾æ¥çš„ç½‘é¡µåœ°å€ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸å¯ä»¥è®¿é—®[è°·æ­Œ](https://www.google.com/)å’Œ [YouTube](https://www.youtube.com)ã€‚ç›´æ¥ä¹¦å†™ç½‘é¡µåœ°å€ä¹Ÿå¯ä»¥ï¼Œ ç”¨ `\u0026lt;\u0026gt;` åŒ…å«ç½‘é¡µï¼Œåƒè¿™æ ·ï¼Œ\u0026lt;https://www.google.com/\u0026gt;ã€‚ ä»£ç å—ä¸ä»£ç æ®µ # Markdown ä¸­å¯ä»¥å†™ inline code ä»¥åŠ code blockï¼Œinline code ä½¿ç”¨ä¸€å¯¹ ` ï¼ˆ backtick é”®ï¼‰åŒ…å«ï¼Œsell = np.sin(time)ã€‚code block ä½¿ç”¨ä¸‰ä¸ª ` å¼€å§‹ä¸ç»“ æŸã€‚\nimport matplotlib matplotlib.use(\u0026#39;agg\u0026#39;) import matplotlib.pyplot as plt import numpy as np print(\u0026#34;hello\u0026#34;) for i in range(10): print(i) x = np.linspace(0, 4, 100) y = np.sin(x) fig, ax = plt.subplots() ax.plot(x, y) plt.savefig(\u0026#39;test.png\u0026#39;) ä¸Šè¿°ä»£ç å—æºä»£ç ä¸º\n``` import matplotlib matplotlib.use(\u0026#39;agg\u0026#39;) import matplotlib.pyplot as plt import numpy as np print(\u0026#34;hello\u0026#34;) for i in range(10): print(i) x = np.linspace(0, 4, 100) y = np.sin(x) fig, ax = plt.subplots() ax.plot(x, y) plt.savefig(\u0026#39;test.png\u0026#39;) ``` å›¾ç‰‡ # å¯ä»¥åœ¨ Markdown ä¸­ä½¿ç”¨å›¾ç‰‡ï¼Œæ ¼å¼ä¸º ï¼[Image_caption](Image_link)ã€‚æœ‰ä¸¤ç§æ–¹å¼ æ¥å¼•ç”¨å›¾ç‰‡ï¼š\næœ¬åœ°å›¾ç‰‡ï¼šç›´æ¥å†™ä¸Šå›¾ç‰‡ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹å½“å‰ Markdown æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ ç½‘ç»œå›¾ç‰‡ï¼šç›´æ¥å†™ä¸Šå›¾ç‰‡é“¾æ¥å³å¯ ä»¥ä¸Šå›¾ç‰‡å¯¹åº”çš„æºä»£ç å¦‚ä¸‹ï¼š\n![è¿™æ˜¯ä¸€å¼ ç½‘ç»œå›¾ç‰‡](https://assets-cdn.github.com/images/modules/logos_page/Octocat.png) æ³¨æ„ç‚¹ # å¦‚æœå›¾ç‰‡çš„é“¾æ¥ä¸ºæœ¬åœ°è·¯å¾„ï¼ŒMarkdown æ–‡ä»¶ç§»åŠ¨åˆ°å…¶å®ƒåœ°æ–¹ï¼Œæˆ–è€…åˆ†äº«ç»™ä»–äººä»¥åï¼Œå›¾ç‰‡ å°†ä¸èƒ½æ˜¾ç¤ºã€‚å¯ä»¥ä½¿ç”¨ä¸€äº›å›¾åºŠ1æ¥å­˜æ”¾å›¾ç‰‡ï¼Œä¿ è¯åœ¨å“ªé‡Œéƒ½èƒ½æ˜¾ç¤ºå›¾ç‰‡ã€‚æˆ–è€…ï¼Œå°½é‡ä¸åœ¨ Markdown é‡Œä½¿ç”¨å›¾ç‰‡ã€‚\nè¡¨æ ¼ # Markdown ä¸­ä¹Ÿå¯ä»¥ä¹¦å†™ç®€å•çš„è¡¨æ ¼ï¼š\nå§“å æ•°å­¦ è¯­æ–‡ å¼ ä¸‰ 1 2 æå›› 3 4 ç”Ÿæˆä¸Šè¿°è¡¨æ ¼çš„æºä»£ç ä¸ºï¼š\n|å§“å|æ•°å­¦|è¯­æ–‡| |---|---|---| |å¼ ä¸‰| 1| 2 | |æå››| 3| 4 | è‡ªå·±æ‰‹å†™ä¸€ä¸ªè¡¨æ ¼æ¯”è¾ƒéº»çƒ¦å’Œæ¯ç‡¥ï¼Œå¯ä»¥åˆ©ç”¨åœ¨çº¿çš„å·¥å…·ï¼Œç”Ÿæˆ Markdown æ ¼å¼çš„è¡¨æ ¼ï¼Œ ä¸€ä¸ªä¸é”™çš„ç½‘ç«™æ˜¯ TableGenerator.\nä»»åŠ¡åˆ—è¡¨ # æŸäº›ç§ç±»çš„ Markdown è¿˜æ”¯æŒä»»åŠ¡åˆ—è¡¨è¯­æ³•ï¼Œä¾‹å¦‚ï¼š\nåƒé¥­ [] ç¡è§‰ æ‰“æ€ªå…½ [] å†™ä½œä¸š [] çœ‹ç”µå½± ç”Ÿæˆä¸Šè¿°ä»»åŠ¡åˆ—è¡¨çš„æºä»£ç å¦‚ä¸‹ï¼š\n- [x] åƒé¥­ - [ ] ç¡è§‰ - [x] æ‰“æ€ªå…½ - [ ] å†™ä½œä¸š - [ ] çœ‹ç”µå½± [] ä¸­åŠ ä¸Š x è¡¨ç¤ºæŸä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œå¦åˆ™è¡¨ç¤ºè¯¥ä»»åŠ¡è¿›è¡Œä¸­ã€‚\nMarkdown æºæ–‡ä»¶ç¼–è¾‘ä¸é¢„è§ˆ # æ¨èå‡ æ¬¾ç¼–è¾‘ä¸é¢„è§ˆçš„ç¼–è¾‘å™¨ï¼ŒVNoteï¼ŒSublime Text ä¸ Visual Stuido Code\nVnote # Vnote æ˜¯å›½äººå¼€å‘çš„ Markdown ç¬”è®°è½¯ä»¶ï¼Œä¸“ä¸º Markdown è®¾è®¡ï¼Œå¯ä»¥æ–¹ä¾¿ç¼–å†™ Markdown æ–‡ä»¶ï¼Œè¿›è¡Œé¢„è§ˆï¼Œå¯¹æ–‡ä»¶è¿›è¡Œç®¡ç†ç­‰ã€‚\nVisual Stuido Code # å®‰è£… Visual Studio Codeï¼ŒVScode åŸç”Ÿæ”¯æŒ Markdown æ–‡ä»¶é¢„è§ˆï¼Œæ— éœ€å®‰è£…æ’ä»¶ï¼ŒæŒ‰ Ctrl+Kï¼Œå†æŒ‰ Vï¼Œä¼šåœ¨å½“å‰ç¼–è¾‘çª—å£çš„å³è¾¹æ‰“å¼€æ–‡ä»¶ é¢„è§ˆçª—å£ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ç”Ÿæˆçš„ HTML æ–‡ä»¶æ•ˆæœã€‚æ›´å¤šæŒ‡å¯¼ï¼Œè¯·æŸ¥çœ‹ å®˜æ–¹æ–‡æ¡£ ã€‚\nSublime Text # å®‰è£… Sublime Textï¼Œå¹¶ä¸”å®‰è£…æ’ä»¶ Markdown Previewã€‚\nå†™å¥½ Markdown ä»¥åï¼Œç›´æ¥ä½¿ç”¨å¿«æ·é”® Ctrl+Shift+M æ‰“å¼€æµè§ˆå™¨é¢„è§ˆç”Ÿæˆçš„ HTML ç½‘é¡µæ•ˆ æœã€‚\nå‚è€ƒèµ„æ–™ # Markdown cheatsheetï¼šhttps://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#links Markdown å®˜æ–¹æ–‡æ¡£ï¼šhttps://daringfireball.net/projects/markdown/ æ‰€è°“â€œå›¾åºŠâ€ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å­˜å‚¨å›¾ç‰‡çš„ç½‘ç»œç©ºé—´ï¼Œè¿™æ ·ä¸ç®¡èº«åœ¨ä½•å¤„ï¼Œåªè¦æœ‰ç½‘ç»œï¼Œå°±å¯ä»¥çœ‹åˆ°å›¾ç‰‡ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 September 2018","externalUrl":null,"permalink":"/2018/09/21/markdown_tutorial_for_beginners/","section":"Posts","summary":"\u003cp\u003eè¿™æ˜¯ä¸€ç¯‡å¸®åŠ©åˆå­¦è€…å¿«é€Ÿå…¥é—¨ Markdown çš„æ–‡ç« ï¼Œçœ‹å®Œæ­¤ç¯‡ï¼Œä½ åº”è¯¥å°±å¯ä»¥ä½¿ç”¨ Markdown\nå†™å‡ºæ ¼å¼è§„èŒƒçš„æ–‡ç« äº†ã€‚\u003c/p\u003e","title":"å†™ç»™åˆå­¦è€…çš„ Markdown æ•™ç¨‹","type":"posts"},{"content":"Pylint is a popular static code checker which can effectively find the possible bugs in your source code. It is easy to install pylint with conda or pip:\nconda install pylint # pip install pylint Pylint configuration # The pylint configuration file is named .pylintrc which controls its behaviors. Pylint will try to read the configuration from default locations. The locations of the configuration file vary from system to system:\nLinux/Mac: ~/.pylintrc Windows: %userprofile%\\.pylintrc (%userprofile% is a system variable. You can use echo %userprofile% to show its value.) You can disable certain warnings and errors in the configuration file, which will apply globally for every Python source file you check.\nUsage # pylint warning â€œmodule has no member\u0026quot; # For Python packages which are partly written in C/CPP, such as Numpy and PyTorch, pylint may not be able to find the relevant method for an object. You can set up in [TYPECHECK] section of .pylintrc to disable warning about unfound method for Numpy and PyTorch:\n[TYPECHECK] # List of members which are set dynamically and missed by pylint inference # system, and so shouldn\u0026#39;t trigger E1101 when accessed. Python regular # expressions are accepted. generated-members=numpy.*,torch.* Disable warning for a certain line # If you only want to disable a certain warning or error for a specific line. You can add #pylint: disable=some-message,another-message in the end of the line. For example:\nsys.path.insert(0, \u0026#39;..\u0026#39;) import mymodule #pylint: disable=import-error You can also use the warning or error code instead of the actual message:\nsys.path.insert(0, \u0026#39;..\u0026#39;) import mymodule #pylint: disable=E0401 Disable warning for a certain file # If you want to disable a certain warning or error for a particular file, you can add #pylint: disable=some-message at the top of the file.\nFind the msg id of a certain message # To disable a certain warning, we want to know its message id. On the command line, use the following command:\npylint --list-msgs |grep message For example, to find the message id of unnecessary-comprehension, we can use:\npylint --list-msgs|grep unnecessary-comprehension We may also find the message id from pylint doc.\nConfigure and use pylint with Neovim # To use pylint inside Neovim, you need to install a linting plugin. Neomake is a good choice. The minimum configuration for Neomake is:\n\u0026#34; when to activate neomake call neomake#configure#automake(\u0026#39;nrw\u0026#39;, 50) \u0026#34; which linter to enable for Python source file linting let g:neomake_python_enabled_makers = [\u0026#39;pylint\u0026#39;] Neomake will automatically run pylint for currently edited file and show warning and error symbols in sign column. You can also use :lopen to open the location list window to see all the warnings and errors. To navigate the location list, use :lprevious and :lnext to go to the previous and next item on the list respectively.\nHow to ignore warnings in Neomake # When we lint our Python code with Neomake (using Pylint), it is often the case that our code can not pass the checker 100%. A lot of warnings and errors may occur, e.g., no docstring for method, variable names not conforming to standard. For some warnings, we do not want them to occur. How to ignore these warnings?\nFor example, if we want to ignore invalid-name(corresponding code is C0103) and missing-docstringï¼ˆ corresponding code C0111ï¼‰ï¼Œwe can use two methods.\nConfigure in the nvim config file # The first way is to configure through Nvim configuration file. Add the following settings to your Nvim configuration:\nlet g:neomake_python_pylint_maker = { \\ \u0026#39;args\u0026#39;: [ \\ \u0026#39;-d\u0026#39;, \u0026#39;C0103, C0111\u0026#39;, \\ \u0026#39;-f\u0026#39;, \u0026#39;text\u0026#39;, \\ \u0026#39;--msg-template=\u0026#34;{path}:{line}:{column}:{C}: [{symbol}] {msg}\u0026#34;\u0026#39;, \\ \u0026#39;-r\u0026#39;, \u0026#39;n\u0026#39; \\ ], \\ \u0026#39;errorformat\u0026#39;: \\ \u0026#39;%A%f:%l:%c:%t: %m,\u0026#39; . \\ \u0026#39;%A%f:%l: %m,\u0026#39; . \\ \u0026#39;%A%f:(%l): %m,\u0026#39; . \\ \u0026#39;%-Z%p^%.%#,\u0026#39; . \\ \u0026#39;%-G%.%#\u0026#39;, \\ } let g:neomake_python_enabled_makers = [\u0026#39;flake8\u0026#39;, \u0026#39;pylint\u0026#39;] Find the code corresponding to a warning and paste it in the string after -d options. Separate different warning codes with ,.\nConfigure in .pylintrc # The second way is to create a .pylintrc file and ignore certain warning in this file. First, we need to generate .pylintrc under the home directory:\npylint --disable=invalid-namae,missing-docstring --generate-rcfile \u0026gt; ~/.pylintrc If you want to ignore new warnings, you just need to edit .pylintrc, find the part starting with disable= and add the new warnings to the long list of existing warnings. The format should conform to the existing format in the .pylintrc file.\nReferences # https://github.com/neomake/neomake/issues/612 https://stackoverflow.com/questions/22448731/how-do-i-create-a-pylintrc-file/52362063#52362063 http://pylint.pycqa.org/en/latest/faq.html#how-do-i-find-the-option-name-for-pylintrc-corresponding-to-a-specific-command-line-option https://github.com/pytorch/pytorch/issues/701 https://stackoverflow.com/questions/20553551/how-do-i-get-pylint-to-recognize-numpy-members https://stackoverflow.com/questions/28829236/is-it-possible-to-ignore-one-single-specific-line-with-pylint http://pylint.pycqa.org/en/latest/faq.html http://pylint-messages.wikidot.com/all-messages ","date":"20 September 2018","externalUrl":null,"permalink":"/2018/09/20/disable_warning_neomake_pylint/","section":"Posts","summary":"\u003cp\u003ePylint is a popular static code checker which can effectively find the possible\nbugs in your source code. It is easy to install pylint with conda or pip:\u003c/p\u003e","title":"Use Pylint for Code Checking inside Neovim","type":"posts"},{"content":"Nerdtree is a file explorer for Vim/Neovim. It will generate a file navigation window just like an IDE. We can operate on files easily in the nerdtree window. In this post, I will summarize some of its configurations and usages.\nInstall # We can use vim-plug to install nerdtreeï¼š\nPlug \u0026#39;scrooloose/nerdtree\u0026#39; Then install this plugin in Nvim using command :PlugInstall.\nConfiguration # In normal mode, you can use :NERDTreeToggle to open the nerdtree windows. Nerdtree does not provide a shortcut for this command by default. In order to quickly open or close the file navigation window, we can add a shortcut to this command. For example, imitating the way Sublime Text opens the side bar, we can use this setting:\nnnoremap \u0026lt;silent\u0026gt; \u0026lt;C-k\u0026gt;\u0026lt;C-B\u0026gt; :NERDTreeToggle\u0026lt;CR\u0026gt; If you want to open the nerdtree window when opening up Nvim, but put the cursor in the file-editing window, you can use the following setting:\naugroup nerdtree_open autocmd! autocmd VimEnter * NERDTree | wincmd p augroup END For more info, see here.\nDirectory operation # Create child file or dir under a directory # First, move the cursor to the directory, press m(stand for menu), then press a to create a child node which can be a file or a directory. To create a directory, you need to append / behind the node name. See here for more info.\nHow to exit a menuï¼Ÿ # When you press m to open the file operation menu for a directory, if you do not want to perform any operation, you can press \u0026lt;ESC\u0026gt; or Ctrl-C to exit this menu. See here.\ngo up one level of directory # To show parent directory of current node, press u.\nChange root to the directory where the cursor is # To change the root directory to where the cursor resides, press C.\nOpen/close child directory of current directory recursively # Open recursivelyï¼šO Close recursivelyï¼šX Move the cursor to the first/last node which has the same level with current node # Move to first node of same levelï¼šK Move to last node of same levelï¼š J A node can be a file or directory.\nMove the cursor to the previous/next node which has the same level with current node # Move to previous node of same levelï¼šCtrl + k Move to next node of same levelï¼šCtrl + j File node operations # How to open a file in new Nvim windowï¼Ÿ # To open file in a new window in vertical direction, use i. To open file in a new window in horizontal direction, use s.\nWe can also use gi or gs. The function is the same except that the cursor is still in the nerdtree file navigation window. See reference here.\nHow to rename or move files? # In the nerdtree window, move the cursor to the node that you want rename, then press m. In the opened up menu, press m again. In Neovim window below, you will see prompt to give the path of the new file. Just change the file name.\nIf you want to move the file, the operation is the same: just input a new path for this file (including the file name).\nHow to reveal or show current file in nerdtree window # In normal mode, use :NERDTreeFind command to reveal the position of current file in the file tree. There is no shortcut for this command. According to solution provided here, we can use the following mappings:\nnmap \u0026lt;leader\u0026gt;nf :NERDTreeFind\u0026lt;CR\u0026gt; What is \u0026lt;leader\u0026gt;? See here for an explanation.\nMiscellaneous # How to yank the path of a node in nerdtree window # When we are navigating through the nerdtree window, we may want to copy the full path or the relative path of current node. Nerdtree provide a custom function NERDTreeAddKeyMap to achieve what we want.\nFirst, we need to create a file, e.g., mymapping.vim, under the nerdtree install directory. If you are using Neovim and use vim-plug to manage your plugin, the directory is likely to be ~/.local/share/nvim/plugged/nerdtree/nerdtree_plugin/ or something similar. Anyway, create file mymapping.vim under this directory and edit it.\nTo yank the full path of node using shortcut yy, we can use the following settings:\ncall NERDTreeAddKeyMap({ \\ \u0026#39;key\u0026#39;: \u0026#39;yy\u0026#39;, \\ \u0026#39;callback\u0026#39;: \u0026#39;NERDTreeYankFullPath\u0026#39;, \\ \u0026#39;quickhelpText\u0026#39;: \u0026#39;put full path of current node into the default register\u0026#39; }) function! NERDTreeYankFullPath() let n = g:NERDTreeFileNode.GetSelected() if n != {} call setreg(\u0026#39;\u0026#34;\u0026#39;, n.path.str()) endif call nerdtree#echo(\u0026#34;Node full path yanked!\u0026#34;) endfunction Similarly, to yank the relative path (relative to current root) of current code using yr, we can use the following settings:\ncall NERDTreeAddKeyMap({ \\ \u0026#39;key\u0026#39;: \u0026#39;yr\u0026#39;, \\ \u0026#39;callback\u0026#39;: \u0026#39;NERDTreeYankRelativePath\u0026#39;, \\ \u0026#39;quickhelpText\u0026#39;: \u0026#39;put relative path of current node into the default register\u0026#39; }) function! NERDTreeYankRelativePath() let n = g:NERDTreeFileNode.GetSelected() if n != {} call setreg(\u0026#39;\u0026#34;\u0026#39;, fnamemodify(n.path.str(), \u0026#39;:.\u0026#39;)) endif call nerdtree#echo(\u0026#34;Node relative path yanked!\u0026#34;) endfunction For the meaning of fnamemodify(), see here.\nOk, that is all the settings. Then you can use yy/yr to copy the full/relative path of node under the cursor when you are in the nerdtree file explorer window.\nHow to ignore files and folders # Nerdtree shows all the files and directories under current root by default. If you want to ignore certain files and folder, e.g., *.pyc file and __pycache__ directory, you can use the following settings:\n\u0026#34; the ignore patterns are regular expression strings and seprated by comma let NERDTreeIgnore = [\u0026#39;\\.pyc$\u0026#39;, \u0026#39;^__pycache__$\u0026#39;] You can use regular expression for the ignore pattern and separate several patterns by commas.\nHow to show current root as relative path from $HOME in status bar? # Nerdtree has a setting NERDTreeStatusline for statuslines. Use the following setting in your Nvim config:\nlet NERDTreeStatusline=\u0026#34;%{exists(\u0026#39;b:NERDTree\u0026#39;)?fnamemodify(b:NERDTree.root.path.str(), \u0026#39;:~\u0026#39;):\u0026#39;\u0026#39;}\u0026#34; I got my inspiration from here, here and also the nerdtree documentation.\nReferences # Ignore files in nerdtree: https://github.com/scrooloose/nerdtree/issues/817 https://stackoverflow.com/questions/5601749/how-to-filter-out-files-by-extension-in-nerdtree https://framagit.org/marien.fressinaud/dotfiles/commit/65ded2a418a06e8dd05a0ef3bb70b69c2130b356 Yank the node path, https://stackoverflow.com/questions/16368771/copy-path-file-with-nerdtree-vim-plugin ","date":"10 September 2018","externalUrl":null,"permalink":"/2018/09/10/nerdtree_usage/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://github.com/scrooloose/nerdtree\" target=\"_blank\"\u003eNerdtree\u003c/a\u003e is a file explorer for\nVim/Neovim. It will generate a file navigation window just like an IDE. We can\noperate on files easily in the nerdtree window. In this post, I will summarize\nsome of its configurations and usages.\u003c/p\u003e","title":"Intro to Nvim File Explorer Plugin Nerdtree","type":"posts"},{"content":"æœ€è¿‘å®‰è£…äº† Neovimï¼Œå¹¶ä¸”åœ¨ HOME ç›®å½•ä¸‹çš„ .bash_profile ä¸­è®¾ç½®å¥½äº† Neovim å¯æ‰§è¡Œç¨‹åºå¯¹åº”çš„ PATH å˜é‡ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œæ¯æ¬¡åœ¨ SSH å®¢æˆ·ç«¯æ‰“å¼€ä¸€ä¸ªæ–°çš„æœåŠ¡å™¨è¿æ¥ sessionï¼Œç™»å½•æœåŠ¡å™¨ï¼Œè¿›å…¥è‡ªå·±è´¦å·ä»¥åï¼Œä½äº .bash_profile ä¸­çš„ PATH è®¾ç½®å‘½ä»¤æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯¼è‡´æˆ‘æ— æ³•å¯åŠ¨å®‰è£…çš„ Neovimï¼Œæ¯æ¬¡ç™»å½•ä»¥åï¼Œæˆ‘è¿˜å¿…é¡»æ‰‹åŠ¨ source ä¸€ä¸‹ .bash_profile æ–‡ä»¶ï¼Œç„¶åæ‰èƒ½ä½¿ç”¨ nvim å‘½ä»¤ï¼Œéå¸¸è®©äººæ¼ç«ã€‚æœ¬æ–‡è®°å½•æˆ‘æ’æŸ¥é—®é¢˜çš„è¿‡ç¨‹ä»¥åŠæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆã€‚\né¦–å…ˆï¼Œæˆ‘å°è¯•æŠŠ .bash_profile é‡Œé¢çš„è®¾ç½®æ‹·è´åˆ° .bashrc ä¸­ï¼Œå‘ç°ç™»å½•æœåŠ¡å™¨ä»¥å PATH å˜é‡è®¾ç½®æ˜¯æœ‰æ•ˆçš„ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ Neovimï¼Œè¿™è¯´æ˜ .bash_profile é‡Œé¢çš„è®¾ç½®åœ¨ç™»å½•çš„æ—¶å€™å¹¶æœªè¢«æ‰§è¡Œã€‚\nåŸå› ä½•åœ¨ï¼ŸçŸ¥é“äº†é—®é¢˜ç—‡ç»“ä»¥åï¼Œå¾ˆå¿«æ‰¾åˆ°äº†ç­”æ¡ˆï¼ŒåŸæ¥æ˜¯ç™»å½•è´¦æˆ·æ—¶ä½¿ç”¨çš„ su $USERNAME æŒ‡ä»¤çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„æœåŠ¡å™¨ç™»é™†æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼Œå¹¶ä¸æ˜¯é€šè¿‡ SSH ç›´æ¥ç™»é™†åˆ°è‡ªå·±ç›®æ ‡æœåŠ¡å™¨ï¼Œè€Œæ˜¯å…ˆ SSH ç™»é™†åˆ°ä¸€ä¸ªè·³æ¿æœºï¼Œç„¶åä»¥ä¸€ä¸ªç»Ÿä¸€èº«ä»½ç™»é™†åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œæœ€åæ¯ä¸ªç”¨æˆ·ä½¿ç”¨ su $USERNAME åˆ‡æ¢åˆ°è‡ªå·±çš„è´¦å·ã€‚å¦‚æœä½¿ç”¨è¯¥æŒ‡ä»¤åˆ‡æ¢åˆ°è‡ªå·±çš„è´¦æˆ·ï¼Œæ‰“å¼€çš„ shell æ˜¯ non-login shellï¼Œåªæœ‰ .bashrc é‡Œé¢çš„è®¾ç½®è¢« sourceï¼Œæ‰€ä»¥ .bash_profile é‡Œé¢çš„è®¾ç½®æ‰æ²¡æœ‰ç”Ÿæ•ˆã€‚\nä»€ä¹ˆæ˜¯ non-login shellï¼Ÿè¦è¯´æ¸…è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å…ˆä»‹ç» shell çš„ä¸åŒå·¥ä½œæ¨¡å¼ï¼Œä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œä»…ä»…é’ˆå¯¹ Bashã€‚shell åˆ†ä¸º login shell å’Œ non-login shellï¼›ä¹Ÿå¯ä»¥åˆ†ä¸º interactive shell å’Œ non-interactive shell.\nlogin/non-login shell ä»¥åŠ interactive/non-interactive shell # Login shell ä¸€èˆ¬æŒ‡çš„æ˜¯ç”¨æˆ·é€šè¿‡æ­£å¸¸çš„ ssh ç™»å½•åˆ°æœåŠ¡å™¨ï¼ˆè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼‰è¿›å…¥çš„ shellï¼›å¦‚æœè¿›å…¥ login shell ä»¥åï¼Œå†æ‰“å¼€ GUI terminal æˆ–è€…æ‰§è¡Œ bash å‘½ä»¤ï¼Œæ­¤æ—¶æ‰“å¼€çš„æ˜¯ non-login shellã€‚\nInteractive shell æŒ‡çš„æ˜¯ shell å¯ä»¥è¾“å‡ºç»“æœï¼Œä¹Ÿå¯ä»¥æ¥å—è¾“å…¥ï¼›non-interactive shell åˆ™æ— æ³•æ¥å—ç”¨æˆ·è¾“å…¥ï¼Œå½“è¿è¡Œ script çš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯æœ‰ä¸€ä¸ª non-interactive shell åœ¨æ‰§è¡Œè„šæœ¬æ–‡ä»¶ã€‚\nå“ªäº›é…ç½®æ–‡ä»¶è¢«è¯»å–ï¼Ÿ # é‡‡ç”¨ interactive login shell ç™»å½•çš„æ—¶å€™ï¼Œé¦–å…ˆè¯»å–å¹¶æ‰§è¡Œ /etc/profile æ–‡ä»¶ä¸­å‘½ä»¤ï¼Œç„¶åå†ä¾æ¬¡é¡ºåºå¯»æ‰¾ ~/.bash_profile,~/.bash_login å’Œ ~/.profile æ–‡ä»¶ï¼Œç„¶åä»ç¬¬ä¸€ä¸ªå­˜åœ¨ä¸”å¯è¯»å–çš„æ–‡ä»¶ä¸­è¯»å–å¹¶æ‰§è¡ŒæŒ‡ä»¤ã€‚Bash çš„ man page è¯´æ˜å¦‚ä¸‹ï¼š\nWhen bash is invoked as an interactive login shell, or as a non-interactive shell with the \u0026ndash;login option, it first reads and executes commands from the file /etc/profile, if that file exists. After reading that file, it looks for ~/.bash_profile, ~/.bash_login, and ~/.profile, in that order, and reads and executes commands from the first one that exists and is readable\nå¦‚æœæ˜¯ interactive non-login shell, å¯åŠ¨æ—¶å€™ï¼Œé¦–å…ˆè¯»å–æ‰§è¡Œ /etc/bashrcï¼Œç„¶åå†è¯»å–æ‰§è¡Œ ~/.bashrcã€‚\nä»¥ä¸Šä¸¤ç§æƒ…å†µæ˜¯æœ€å¸¸è§çš„ã€‚\nä½¿ç”¨ su $USERNAME åˆ‡æ¢åˆ°è‡ªå·±çš„è´¦å·ï¼Œæ‰“å¼€çš„ Bash shell å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª interactive non-login shellï¼Œ.bash_profile é‡Œé¢çš„å†…å®¹å¹¶æ²¡æœ‰è¢«æ‰§è¡Œï¼Œæ‰€ä»¥è®¾ç½®æ‰æ²¡æœ‰ç”Ÿæ•ˆã€‚æƒ³è¦åœ¨ç™»å½•è´¦å·çš„æ—¶å€™ç¡®ä¿ .bash_profile é‡Œé¢çš„é…ç½®ç”Ÿæ•ˆï¼Œæ‰“å¼€çš„ shell å¿…é¡»æ˜¯ login shellã€‚su å‘½ä»¤æä¾›äº† -l é€‰é¡¹ï¼ˆç­‰åŒäº -ï¼‰:\n-l Simulate a full login. The environment is discarded except for HOME, SHELL, PATH, TERM, and USER. HOME and SHELL are modified as above. USER is set to the target login. PATH is set to /bin:/usr/bin. TERM is imported from your current environment. The invoked shell is the target login\u0026rsquo;s, and su will change directory to the target login\u0026rsquo;s home directory.\nç®€å•æ¥è¯´ï¼Œ-l æˆ– - ä¿è¯æˆ‘ä»¬æ‰“å¼€çš„æ˜¯ä¸€ä¸ª login shellã€‚æ‰€ä»¥ï¼Œç™»å½•æ—¶å€™ä½¿ç”¨ su - USERNAME å³å¯ä¿è¯ .bash_profile é‡Œé¢çš„è®¾ç½®ç”Ÿæ•ˆã€‚\nå‚è€ƒ # Why ~/.bash_profile is not getting sourced when opening a terminal? .bash_profile not sourced when running su. Why doesn\u0026rsquo;t my ~/.bash_profile work? ","date":"6 September 2018","externalUrl":null,"permalink":"/2018/09/06/login_interactive_shell_bash/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘å®‰è£…äº† \u003ca href=\"https://github.com/neovim/neovim\" target=\"_blank\"\u003eNeovim\u003c/a\u003eï¼Œå¹¶ä¸”åœ¨ HOME ç›®å½•ä¸‹çš„ \u003ccode\u003e.bash_profile\u003c/code\u003e ä¸­è®¾ç½®å¥½äº† Neovim å¯æ‰§è¡Œç¨‹åºå¯¹åº”çš„ PATH å˜é‡ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œæ¯æ¬¡åœ¨ SSH å®¢æˆ·ç«¯æ‰“å¼€ä¸€ä¸ªæ–°çš„æœåŠ¡å™¨è¿æ¥ sessionï¼Œç™»å½•æœåŠ¡å™¨ï¼Œè¿›å…¥è‡ªå·±è´¦å·ä»¥åï¼Œä½äº \u003ccode\u003e.bash_profile\u003c/code\u003e ä¸­çš„ PATH è®¾ç½®å‘½ä»¤æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯¼è‡´æˆ‘æ— æ³•å¯åŠ¨å®‰è£…çš„ Neovimï¼Œæ¯æ¬¡ç™»å½•ä»¥åï¼Œæˆ‘è¿˜å¿…é¡»æ‰‹åŠ¨ source ä¸€ä¸‹ \u003ccode\u003e.bash_profile\u003c/code\u003e æ–‡ä»¶ï¼Œç„¶åæ‰èƒ½ä½¿ç”¨ nvim å‘½ä»¤ï¼Œéå¸¸è®©äººæ¼ç«ã€‚æœ¬æ–‡è®°å½•æˆ‘æ’æŸ¥é—®é¢˜çš„è¿‡ç¨‹ä»¥åŠæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆã€‚\u003c/p\u003e","title":"ä¸ºä»€ä¹ˆ .bash_profile é‡Œé¢çš„è®¾ç½®ä¸ç”Ÿæ•ˆï¼Ÿ","type":"posts"},{"content":" æˆ‘çš„å®Œæ•´ Neovim é…ç½®å¯ä»¥ç‚¹è¿™é‡ŒæŸ¥çœ‹ã€‚\n2022-01-29: æœ¬æ–‡å†™äºä¸‰å¹´ä»¥å‰ï¼Œå…¶ä¸­æåˆ°çš„ä¸€äº›æ’ä»¶å·²ç»ä¸å†ç»´æŠ¤ï¼Œæˆ–è€…å¯¹äº Neovim ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›æ’ä»¶è¢« Nvim è‡ªå¸¦çš„åŠŸèƒ½æ‰€æ›¿ä»£ï¼Œä¾‹å¦‚ï¼Œä» 2020.05 å¼€å§‹ï¼Œhighlighted yank å¼€å§‹å†…ç½®ã€‚æˆ‘åœ¨ è¿™ç¯‡åšæ–‡ åˆ†äº«äº†ä¸€äº›æ’ä»¶è¿ç§»çš„äº‹æƒ…ã€‚\nVim æ˜¯ä¸€æ¬¾ä¸»è¦æµè¡Œäº *nix ç³»ç»Ÿä¸Šçš„å¼ºå¤§çš„ç¼–è¾‘å™¨ï¼Œå¦å¤–ä¸€æ¬¾å¯ä»¥ä¸ä¹‹åª²ç¾çš„ç¼–è¾‘å™¨æ˜¯ Emacsï¼Œè¿™ä¸¤æ¬¾ç¼–è¾‘å™¨å¹¿æ³›æµè¡Œäºç¨‹åºå‘˜ç¾¤ä½“ï¼Œå…³äºè°æ˜¯ç¼–è¾‘å™¨ä¹‹ç‹çš„äº‰è®ºç»ä¹…ä¸æ¯ã€‚Vim çš„åŠŸèƒ½è™½ç„¶å¼ºå¤§ï¼Œä½†æ˜¯ä½œä¸ºä¸€æ¬¾ã€Œå¤è€ã€çš„ç¼–è¾‘å™¨1ï¼Œä¹Ÿä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼šéšç€ Vim ä»£ç é‡çš„å¢åŠ ï¼Œç»´æŠ¤å˜å¾—æ—¥ç›Šå›°éš¾ï¼Œä¸åˆ©äºå¿«é€Ÿå¢åŠ æ–°åŠŸèƒ½ï¼›å¦å¤–ï¼Œå®ƒçš„ä¸»è¦å¼€å‘è€…ç›®å‰åªæœ‰ä¸€ä¸ªäººï¼ŒBram Moolenaarï¼Œä¹Ÿä¸ç¬¦åˆå½“ä»Šå¼€æºç¤¾åŒºå¤šäººåä½œçš„ä¹ æƒ¯ã€‚ä¸ºäº†å…‹æœ Vim çš„è¿™äº›ç¼ºç‚¹ï¼Œä¿ç•™ Vim çš„ä¼˜ç‚¹ï¼ˆæœ€å¤§ç¨‹åº¦å…¼å®¹ Vimï¼‰ï¼Œè®© Vim çš„å¼€å‘èƒ½æœ‰æ›´å¿«çš„è¿­ä»£é€Ÿåº¦ï¼ŒNeovim é¡¹ç›®è¯ç”Ÿäº†ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•å®‰è£… Neovim å¹¶é…ç½® Python å¼€å‘ç¯å¢ƒ(åœ¨ä»¥ä¸‹å™è¿°ä¸­ï¼ŒNeovim å’Œ Nvim å«ä¹‰ç›¸åŒï¼Œä¸å†åŠ ä»¥åŒºåˆ†)2ã€‚\nå®‰è£… Nvim # Neovim æœ‰é’ˆå¯¹ Linux ç³»ç»Ÿçš„ç»Ÿä¸€çš„ appimage æ ¼å¼çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä» Neovim GitHub release é¡µé¢ä¸‹è½½ã€‚ä¸‹è½½ä»¥åï¼Œå…ˆèµ‹äºˆæ–‡ä»¶å¯æ‰§è¡Œæƒé™ï¼Œ\nchmod u+x nvim.appimage ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ Neovim çš„å®‰è£…ç›®å½•ä¸‹å»ºç«‹è½¯é“¾æ¥ï¼Œç”¨ nvim æ¥ä½œä¸ºè¯¥å¯æ‰§è¡Œæ–‡ä»¶çš„å¤–éƒ¨åç§°ï¼š\nln -s nvim.appimage nvim æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°† Neovim çš„å®‰è£…ç›®å½•åŠ å…¥åˆ°ç³»ç»Ÿçš„ $PATH å˜é‡ï¼Œç¼–è¾‘.bash_profile æ–‡ä»¶ï¼ŒæŠŠ Neovim çš„å®‰è£…ç›®å½•ï¼ˆå‡è®¾ä¸º $HOME/tools/nvimï¼‰åŠ å…¥åˆ°$PATHå˜é‡:\nexport PATH=$HOME/tools/nvim:$PATH ä¿å­˜æ–‡ä»¶ï¼Œç„¶å source .bash_profileï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\nè‡³æ­¤ï¼ŒNeovim å®‰è£…å®Œæˆã€‚è¿™æ ·è®¾ç½®ä»¥åï¼Œåœ¨å‘½ä»¤è¡Œä½¿ç”¨ nvim å‘½ä»¤å³å¯æ‰“å¼€ Neovimã€‚\nNvim çš„é…ç½®æ–‡ä»¶ # Neovim ä½¿ç”¨çš„é…ç½®æ–‡ä»¶å’Œ Vim ä¸åŒï¼Œéœ€è¦åœ¨ ~/.config/nvim/ ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ init.vim ï¼Œè¯¥æ–‡ä»¶å°±æ˜¯ Neovim çš„é…ç½®æ–‡ä»¶ï¼ŒNeovim æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥æ”¾å…¥å…¶ä¸­ã€‚\nç”±äº Neovim æ˜¯åŸºäº Vim å¼€å‘çš„ï¼Œæ‰€ä»¥ Neovim å’Œ Vim çš„ç»å¤§å¤šæ•°é…ç½®éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨è¿‡ Vimï¼Œå¯ä»¥æŠŠä¹‹å‰çš„é…ç½®çš„å¤§éƒ¨åˆ†æ‹·è´è¿‡æ¥ä½¿ç”¨ã€‚å…³äº Neovim å’Œ Vim çš„ä¸åŒï¼Œå¯ä»¥å‚è§è¿™é‡Œã€‚\nä½¿ç”¨æ’ä»¶ç®¡ç†å™¨ vim-plug # Vim ä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› æ˜¯å­˜åœ¨å¾ˆå¤šæ’ä»¶ï¼Œåœ¨ Vim æ¼«é•¿çš„å‘å±•è¿‡ç¨‹ä¸­ï¼Œæ— æ•°å¼€å‘è€…ä¸º Vim è´¡çŒ®äº†æ’ä»¶ï¼Œè¿™äº›æ’ä»¶å¯ä»¥å®ç°å„ç§å„æ ·çš„åŠŸèƒ½ã€‚å¦‚æœå®‰è£…æ’ä»¶å¾ˆå¤šï¼Œæ’ä»¶ç®¡ç†æˆä¸ºä¸€ä¸ªéº»çƒ¦çš„é—®é¢˜ã€‚Neovim å’Œ Vim ä¸€æ ·ï¼Œå¹¶æ²¡æœ‰è‡ªå¸¦æ’ä»¶ç®¡ç†å™¨ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å®‰è£…æ’ä»¶ç®¡ç†å™¨ã€‚ç»è¿‡æœç´¢å’Œæ¯”è¾ƒï¼Œå‘ç°æœ‰ä¸¤æ¬¾æ¯”è¾ƒæœ‰åçš„æ’ä»¶ç®¡ç†å™¨åœ¨ Nvim ç”¨æˆ·ä¸­æµè¡Œï¼Œåˆ†åˆ«æ˜¯ dein å’Œ vim-plug. Vim-plug çš„ user base æ›´å¤§ï¼Œæœ€åæˆ‘å†³å®šå®‰è£… vim-plugï¼Œä»¥ä¸‹ä¸º vim-plug å®‰è£…ä»¥åŠç®€å•çš„ä½¿ç”¨è¯´æ˜ã€‚\nvim-plug å®‰è£… # å®‰è£… vim-plug è¿™ä¸ªæ’ä»¶æœ¬èº«ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim å®‰è£… vim-plug ä»¥åï¼Œå¯èƒ½éœ€è¦é€€å‡º Nvim é‡æ–°è¿›å…¥ã€‚\nç¼–è¾‘ init.vim æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­åŠ å…¥ vim-plug é…ç½®éƒ¨åˆ†ï¼Œä»¥ä¸‹ä¸ºä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼ˆæ”¹ç¼–è‡ª vim-plug GitHub ä¸»é¡µï¼Œè§è¿™é‡Œï¼‰ï¼š call plug#begin(\u0026#39;~/.local/share/nvim/plugged\u0026#39;) call plug#end() æ‰€æœ‰å…¶å®ƒæ’ä»¶çš„å®‰è£…éƒ½è¦æ”¾åœ¨ä¸¤ä¸ª call å‘½ä»¤ä¹‹é—´ï¼Œä¸‹é¢ä¸å†èµ˜è¿°ã€‚\nvim-plug ä½¿ç”¨ # ä»¥ä¸‹å‘½ä»¤å‡åœ¨ Nvim å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨\nå®‰è£…æ’ä»¶ï¼š:PlugInstall æ›´æ–°æ’ä»¶ï¼š:PlugUpdate åˆ é™¤æ’ä»¶ï¼š:PlugClean ï¼ˆé¦–å…ˆåœ¨ init.vim ä¸­ï¼Œæ³¨é‡Šæ‰è¯¥æ’ä»¶ï¼Œç„¶åæ‰“å¼€ Nvimï¼Œä½¿ç”¨ :PlugClean å‘½ä»¤æ¸…é™¤è¯¥æ’ä»¶ï¼‰ æŸ¥çœ‹æ’ä»¶çŠ¶æ€ï¼š:PlugStatus å‡çº§ vim-plugï¼š:PlugUpgrade æš‚æ—¶ç¦ç”¨æŸä¸ªæ’ä»¶ # å¦‚æœæƒ³æš‚æ—¶ç¦ç”¨æŸä¸ªæ’ä»¶ï¼Œä½†æ˜¯ä¸åˆ é™¤å®ƒï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚\nåœ¨ inti.vim ä¸­æ³¨é‡Šæ‰è¯¥æ’ä»¶ï¼Œé‡æ–°æ‰“å¼€ Nvim å³å¯ å‚è€ƒè¿™é‡Œç»™å‡ºçš„è§£å†³æ–¹æ³•ï¼Œå¦‚æœè¦ç¦ç”¨æ’ä»¶ foo/barï¼Œä½¿ç”¨å¦‚ä¸‹è®¾ç½® Plug \u0026#39;foo/bar\u0026#39;, { \u0026#39;on\u0026#39;: [] } å¸¸ç”¨æ’ä»¶å®‰è£…ä¸é…ç½® # è‡ªåŠ¨è¡¥å…¨æ’ä»¶ deoplete # deoplete æ˜¯ä¸€æ¬¾å’Œ YouCompleteMe ç±»ä¼¼çš„è‡ªåŠ¨è¡¥å…¨æ’ä»¶ï¼Œå®˜æ–¹å¯¹å®ƒçš„æè¿°ä¸ºï¼š\nDeoplete is the abbreviation of \u0026ldquo;dark powered neo-completion\u0026rdquo;. It provides an extensible and asynchronous completion framework for neovim/Vim8.\nå‡†ç¡®æ¥è¯´ï¼Œå®ƒå…¶å®æ˜¯ä¸€æ¬¾è‡ªåŠ¨è¡¥å…¨çš„å¼•æ“ï¼Œå…·ä½“å¯¹æŸç§ç¼–ç¨‹è¯­è¨€çš„è‡ªåŠ¨è¡¥å…¨æ”¯æŒï¼Œè¦å®‰è£…å¯¹åº”çš„source æ‰èƒ½çœŸæ­£å·¥ä½œ.\ndeoplete å®‰è£…ç›¸å¯¹ç®€å•ï¼Œåœ¨ vim-plug çš„è®¾ç½®é‡ŒåŠ å…¥ä»¥ä¸‹é…ç½®ï¼š\nPlug \u0026#39;Shougo/deoplete.nvim\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:UpdateRemotePlugins\u0026#39; } å…³äº deoplete çš„é…ç½®ï¼Œå®˜æ–¹å¹¶æœªåœ¨ GitHub ä¸»é¡µå¤šè¯´ï¼Œåªç»™å‡ºäº†ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼š\nlet g:deoplete#enable_at_startup = 1 æ›´å¤šé€‰é¡¹ä»¥åŠå¯¹åº”çš„å«ä¹‰ï¼Œå¯ä»¥åœ¨ Nvim ä¸­è¾“å…¥ :h deoplete-options æŸ¥çœ‹ã€‚\nå¦‚å‰é¢æ‰€è¯´ï¼Œdeoplete å¯¹ä¸åŒç¼–ç¨‹è¯­è¨€çš„æ”¯æŒéœ€è¦å®‰è£…ä¸åŒçš„ sourceï¼Œä¸‹é¢ç»™å‡º Pythonè¯­è¨€çš„ source é…ç½®ï¼Œä¾›å‚è€ƒã€‚\nå®‰è£… deoplete-jedi # Deoplete-jedi æ˜¯å’Œ deoplete é…åˆä½¿ç”¨çš„ Python sourceã€‚å®‰è£…ä»¥åŠé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š\néœ€è¦å®‰è£…çš„å…¶ä»–åº“ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… pynvimï¼Œ\npip install pynvim æ¥ç€ï¼Œå®‰è£… jedi. å¦‚æœä½ å®‰è£…äº†æœ€æ–°çš„ Anaconda Python å‘è¡Œç‰ˆï¼Œjedi å·²ç»å®‰è£…äº†ï¼Œå¦åˆ™ï¼Œé‡‡ç”¨ pip å®‰è£…å³å¯ï¼Œ\npip install jedi å®‰è£…ä¸é…ç½® deoplete-jedi æ’ä»¶ ç¼–è¾‘ Nvim çš„é…ç½®æ–‡ä»¶ init.vimï¼Œåœ¨ vim-plugin éƒ¨åˆ†ï¼ŒåŠ å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nPlug \u0026#39;zchee/deoplete-jedi\u0026#39; ç„¶åå®‰è£… deoplete-jediï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œç°åœ¨ä½ å·²ç»å¯ä»¥ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨äº†ï¼ä½¿ç”¨ Nvimæ‰“å¼€ä¸€ä¸ª Python æºæ–‡ä»¶ï¼Œè¯•ç€ç¼–è¾‘ä¸€ä¸‹ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹å›¾çš„è‡ªåŠ¨è¡¥å…¨èœå•ï¼š\nDeoplete çš„ä½¿ç”¨ # å¦‚ä½•åœ¨è‡ªåŠ¨è¡¥å…¨ç»™å‡ºçš„å‡½æ•°æˆ–è€…ç±»çš„åˆ—è¡¨ä¸­ä¸Šä¸‹ç§»åŠ¨é€‰æ‹©ï¼Ÿ å‚è€ƒè¿™é‡Œçš„ç­”æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ Ctrl + N ä»¥åŠ Ctrl + P åœ¨åˆ—è¡¨é¡¹ç›®ä¸­è¿›è¡Œåˆ‡æ¢ã€‚\nå‡½æ•°æ–¹æ³• Preview çš„çª—å£å¦‚ä½•è‡ªåŠ¨å…³é—­ï¼Ÿ åœ¨è‡ªåŠ¨è¡¥å…¨ç»™å‡ºçš„åˆ—è¡¨ä¸­ç§»åŠ¨çš„æ—¶å€™ï¼ŒNvim çš„ä¸ŠåŠéƒ¨åˆ†ä¼šå‡ºç°ä¸€ä¸ªå¾ˆå°çš„çª—å£ï¼Œæç¤ºå½“å‰æ–¹æ³•çš„å‚æ•°ï¼Œä½†æ˜¯è¯¥çª—å£åœ¨è‡ªåŠ¨è¡¥å…¨å®Œæˆåå¹¶ä¸èƒ½è‡ªåŠ¨æ¶ˆå¤±ï¼Œå‚è€ƒè¿™é‡Œï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è®¾ç½®ä½¿å¾—çª—å£è‡ªåŠ¨æ¶ˆå¤±ï¼š\nautocmd InsertLeave,CompleteDone * if pumvisible() == 0 | pclose | endif Preview çª—å£çš„å¯ä»¥è®¾ä¸ºåœ¨å½“å‰çª—å£ä¸‹é¢æ‰“å¼€å—ï¼Ÿ é»˜è®¤ preview çª—å£åœ¨ä¸Šé¢æ‰“å¼€ï¼Œå¯ä»¥é€šè¿‡ set splitbelow ä½¿æ–°å»ºç«‹çš„çª—å£ä½äºå½“å‰çª—å£ä¸‹é¢ï¼Œå‚è§è¿™é‡Œã€‚\nå¦‚ä½•è®¾å®šä¸ºä½¿ç”¨ Tab é”®åœ¨è‡ªåŠ¨è¡¥å…¨çš„åˆ—è¡¨è·³è½¬ï¼Ÿ åœ¨ Nvim çš„é…ç½®ä¸­ï¼ŒåŠ å…¥å¦‚ä¸‹è®¾ç½®å³å¯ï¼š\ninoremap \u0026lt;expr\u0026gt;\u0026lt;tab\u0026gt; pumvisible() ? \u0026#34;\\\u0026lt;c-n\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;tab\u0026gt;\u0026#34; çŠ¶æ€æ æ’ä»¶ vim-airline # åŸç”Ÿçš„ Nvim çŠ¶æ€æ æ¯”è¾ƒç®€å•ï¼Œä¸åƒ Sublime Text é‚£æ ·ï¼ŒçŠ¶æ€æ å¯ä»¥æ˜¾ç¤ºå¾ˆå¤šä¿¡æ¯ã€‚æœ‰ä¸€æ¬¾ä¸é”™çš„æ’ä»¶ vim-airline å¯ä»¥å®ç°ç±»ä¼¼ Sublime Text çš„åŠŸèƒ½ã€‚åœ¨ vim-plugin å®‰è£…åŒºåŠ å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nPlug \u0026#39;vim-airline/vim-airline\u0026#39; ç„¶åè¿è¡Œ PlugInstall å®‰è£…è¯¥æ’ä»¶ï¼Œé‡å¯ Nvim å¯ä»¥çœ‹åˆ°æ›´æ–°åçš„çŠ¶æ€æ ã€‚\nåˆ‡æ¢ vim-airline ä¸»é¢˜ # vim-airline æä¾›äº†å¾ˆå¤šä¸»é¢˜æ¥ä¸ªæ€§åŒ–çŠ¶æ€æ ï¼Œä¸åŒä¸»é¢˜çš„æ ·å­å¯ä»¥å‚è§è¿™é‡Œã€‚æ›´æ”¹vim-airline ä¸»é¢˜æ–¹å¼å¾ˆç®€å•ï¼Œé¦–å…ˆå®‰è£…æ’ä»¶vim-airlinetheme:\nPlug \u0026#39;vim-airline/vim-airline-themes\u0026#39; ç„¶åï¼Œåœ¨ Nvim é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹è®¾ç½®ï¼Œ\nlet g:airline_theme=\u0026#39;\u0026lt;theme\u0026gt;\u0026#39; \u0026#34; \u0026lt;theme\u0026gt; ä»£è¡¨æŸä¸ªä¸»é¢˜çš„åç§° è‡ªåŠ¨å¼•å·\u0026amp;æ‹¬å·è¡¥å…¨ # è¾“å…¥å¼•å·ï¼Œæ‹¬å·æ—¶ï¼Œç»å¸¸å¸Œæœ›èƒ½å¤Ÿè‡ªåŠ¨è¾“å…¥ä¸€å¯¹ï¼ŒåŸå§‹çš„ Nvim ä¸æ”¯æŒè¿™æ ·çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ auto-paris æ’ä»¶å¸®åŠ©æˆ‘ä»¬å®ç°è¿™æ ·çš„åŠŸèƒ½ã€‚æ’ä»¶å®‰è£…ï¼š\nPlug \u0026#39;jiangmiao/auto-pairs\u0026#39; ä½¿ç”¨æ–¹æ³• # ä»¥å¼•å·è¾“å…¥ä¸ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚æŒ‰ä¸‹ \u0026quot;ï¼Œä¼šè‡ªåŠ¨å˜æˆåŒå¼•å·\u0026quot;\u0026quot;ï¼Œæ­¤æ—¶å…‰æ ‡ä½äºåŒå¼•å·çš„ä¸­é—´ï¼Œç­‰å¾…æ’å…¥æ–‡æœ¬ï¼Œæ–‡æœ¬æ’å…¥ç»“æŸä»¥åï¼Œé€šå¸¸æˆ‘ä»¬å¸Œæœ›æŠŠå…‰æ ‡ç½®äºå³è¾¹å¼•å·çš„åé¢ç»§ç»­è¾“å…¥ï¼Œæ­¤æ—¶ï¼Œå†æŒ‰ä¸€æ¬¡ \u0026quot;ï¼Œå…‰æ ‡å°±ä¼šè·³è½¬åˆ°å³è¾¹å¼•å·çš„åé¢ï¼Œç­‰å¾…æˆ‘ä»¬ç»§ç»­è¾“å…¥æ–‡æœ¬ã€‚\næ³¨é‡Šæ’ä»¶ # ä¸åŒç¼–ç¨‹è¯­è¨€ä¸­æ³¨é‡Šçš„è¡¨ç¤ºæ–¹æ³•ä¸å°½ç›¸åŒï¼Œå¦‚æœèƒ½å¤Ÿæ ¹æ®å½“å‰ç¼–è¾‘æ–‡ä»¶å¯¹åº”çš„ç¼–ç¨‹è¯­è¨€è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ³¨é‡Šç¬¦å·ï¼Œå°†æ˜¯æå¥½çš„ã€‚nerdcommenter å°±æ˜¯è¿™æ ·ä¸€æ¬¾æ’ä»¶ã€‚å®‰è£…æ’ä»¶ï¼š\nPlug \u0026#39;scrooloose/nerdcommenter\u0026#39; æ³¨é‡Šå•è¡Œï¼Œä½¿ç”¨ \u0026lt;leader\u0026gt;ccï¼Œå…¶ä¸­ leader æ˜¯åœ¨ Nvim ä¸­è®¾ç½®çš„å‰å¯¼æŒ‰é”®ï¼ˆNvim ä¸­é»˜è®¤ä¸º /ï¼‰ï¼›å¦‚æœè¦åæ³¨é‡Šï¼Œä½¿ç”¨ \u0026lt;leader\u0026gt;cuã€‚æ›´å¤šå…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒæ’ä»¶çš„æ–‡æ¡£ã€‚\nä»£ç è‡ªåŠ¨ format æ’ä»¶ # neoformat å¯ä»¥å¯¹æºä»£ç è‡ªåŠ¨ formatã€‚å®‰è£… ï¼š\nPlug \u0026#39;sbdchd/neoformat\u0026#39; å¯¹äº Python ä»£ç ï¼Œneoformat éœ€è¦é…åˆ Python çš„è‡ªåŠ¨æ ¼å¼åŒ–å·¥å…·ï¼ˆç§°ä¸º formatterï¼‰æ¥ä½¿ç”¨ï¼Œè¿™é‡Œä»¥ yapf ä¸ºä¾‹è¯´æ˜ï¼Œé¦–å…ˆå®‰è£…è¯¥æ ¼å¼åŒ–å·¥å…·ï¼š\npip install yapf ç„¶åï¼Œneoformat åœ¨æ ¼å¼åŒ– Python ä»£ç çš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ yapf formatter äº†ã€‚\nå¦‚ä½•æ ¼å¼åŒ–ä»£ç ï¼Ÿå‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ :Neoformatï¼Œè¯¥æ’ä»¶ä¼šå¯¹æºä»£ç è¿›è¡Œè‡ªåŠ¨ formatã€‚è¿˜æœ‰ä¸€æ¬¾ vim-autoformatï¼Œä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹ã€‚\nå¦‚æœ neoformat æ²¡æœ‰æ£€æµ‹åˆ°æ–‡ä»¶ç±»å‹ï¼Œæˆ–è€…æ²¡æœ‰æ’ä»¶ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä»¥ä¸‹å‘½ä»¤ï¼Œè®© neoformat å¯¹æ–‡ä»¶åšç®€å•çš„ formatï¼š\n\u0026#34; Enable alignment let g:neoformat_basic_format_align = 1 \u0026#34; Enable tab to spaces conversion let g:neoformat_basic_format_retab = 1 \u0026#34; Enable trimmming of trailing whitespace let g:neoformat_basic_format_trim = 1 ä»£ç è·³è½¬(go-to)æ’ä»¶ # æˆ‘ä»¬ç»å¸¸éœ€è¦è·³è½¬åˆ°ç±»ï¼Œæ–¹æ³•ç­‰çš„å®šä¹‰ï¼ŒæŸ¥çœ‹å®ç°ç»†èŠ‚ï¼Œå¯ä»¥ä½¿ç”¨ jedi-vim å®ç°ï¼Œå®é™…ä¸Šï¼Œjedi-vim è¿˜å¯ä»¥è¿›è¡Œ Python ä»£ç çš„è‡ªåŠ¨è¡¥å…¨ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬å·²ç»å®‰è£…äº† deoplete å’Œ deoplete-jediè¿›è¡Œè‡ªåŠ¨è¡¥å…¨ï¼Œæ‰€ä»¥å°† jedi-vim çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å…³é—­ï¼Œåªä½¿ç”¨ä»£ç è·³è½¬åŠŸèƒ½ã€‚\nå®‰è£…ï¼š\nPlug \u0026#39;davidhalter/jedi-vim\u0026#39; jedi-vim é…ç½®å¦‚ä¸‹ï¼Œ\n\u0026#34; disable autocompletion, cause we use deoplete for completion let g:jedi#completions_enabled = 0 \u0026#34; open the go-to function in split, not another buffer let g:jedi#use_splits_not_buffers = \u0026#34;right\u0026#34; ä½¿ç”¨ # \u0026lt;leader\u0026gt;d: go to definition K: check documentation of class or method \u0026lt;leader\u0026gt;n: show the usage of a name in current file \u0026lt;leader\u0026gt;r: rename a name æ–‡ä»¶ç®¡ç†å™¨ nerdtree # ä½¿ç”¨è¿‡ GUI ä»£ç ç¼–è¾‘å™¨çš„äººéƒ½çŸ¥é“ï¼Œç¼–è¾‘å™¨å·¦è¾¹ä¸€èˆ¬æ˜¯é¡¹ç›®æ–‡ä»¶æµè§ˆçª—å£ï¼Œåœ¨ Nvim ä¸­å¦‚ä½•å®ç°è¿™ä¸€åŠŸèƒ½å‘¢ï¼Ÿå¯ä»¥å®‰è£… nerdtree æ¥å®ç°ã€‚å®‰è£…ï¼š\nPlug \u0026#39;scrooloose/nerdtree\u0026#39; ç®€å•ä½¿ç”¨ # å¦‚ä½•æ‰“å¼€ nerdtree æ–‡ä»¶æµè§ˆçª—å£ï¼Ÿ ç›´æ¥åœ¨å‘½ä»¤æ¨¡å¼è¾“å…¥:NERDTree å³å¯æ‰“å¼€å½“å‰ç¼–è¾‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚\nå¦‚ä½•åœ¨æ–‡ä»¶çª—å£ä¸ file explorer çª—å£åˆ‡æ¢ï¼Ÿ æŒ‰ä½ Ctrl, åŒå‡» w å¯ä»¥åœ¨ä¸¤ä¸ªçª—å£ä¹‹é—´åˆ‡æ¢ã€‚\nå¦‚ä½•æ‰“å¼€ file explorer ä¸­æŸä¸ªæ–‡ä»¶ï¼Ÿ æŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åæŒ‰ oï¼Œå³å¯åœ¨å³è¾¹çª—å£æ‰“å¼€è¯¥æ–‡ä»¶ã€‚\nå¦‚ä½•é€€å‡º file explorer çª—å£ï¼Ÿ åœ¨è¯¥çª—å£ç›´æ¥æŒ‰ q å³å¯é€€å‡ºã€‚\næ›´å¤šä¸ªæ€§åŒ–è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡ã€‚\nä»£ç æ£€æŸ¥å·¥å…· # Neomake æ˜¯ä¸º Nvim åšçš„ä¸€æ¬¾ä»£ç è¯­æ³•æ£€æŸ¥å’Œè‡ªåŠ¨åŒ– make å·¥å…·ã€‚å®‰è£…ï¼š\nPlug \u0026#39;neomake/neomake\u0026#39; Neomake å¯¹ä¸åŒç¼–ç¨‹è¯­è¨€çš„æ£€æŸ¥ä¾èµ–å„ç§ linterï¼Œå®‰è£… Neomake ä»¥åï¼Œé’ˆå¯¹è¦ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å¯¹åº”çš„ linterã€‚å„ç§ç¼–ç¨‹è¯­è¨€æ”¯æŒçš„ linter åˆ—è¡¨è§è¿™é‡Œã€‚\nå¯¹äº Pythonï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ pylint ä½œä¸º linterã€‚ç›´æ¥ä½¿ç”¨ pip æˆ– conda å®‰è£… pylintï¼š\nconda install pylint å®‰è£… pylint ä»¥åï¼Œåœ¨ init.vim ä¸­æŒ‡å®šä½¿ç”¨å®ƒä½œä¸º Python ä»£ç æ£€æŸ¥å™¨\nlet g:neomake_python_enabled_makers = [\u0026#39;pylint\u0026#39;] ä»£ç æ£€æŸ¥ # å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ :Neomake å‘½ä»¤æ£€æŸ¥ä»£ç æ­£ç¡®æ€§ã€‚æˆ–è€…ä¹Ÿå¯ä»¥è®¾ç½®è‡ªåŠ¨æ£€æŸ¥ï¼Œåœ¨ Nvim é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹è®¾ç½®ï¼š\ncall neomake#configure#automake(\u0026#39;nrwi\u0026#39;, 500) å¤šç‚¹ç¼–è¾‘æ’ä»¶ vim-multiple-cursors # ä½¿ç”¨è¿‡ Sublime Text çš„äººåº”è¯¥éƒ½å¯¹ Sublime Textä¸­å¤šç‚¹ç¼–è¾‘åŠŸèƒ½çˆ±ä¸é‡Šæ‰‹ï¼Œè¿™ä¸ªåŠŸèƒ½å¯¹äºä»£ç é‡æ„éå¸¸å®ç”¨ï¼Œå¦‚ä½•åœ¨ Nvim ä¸­ä½¿ç”¨ç±»ä¼¼çš„åŠŸèƒ½å‘¢ï¼Ÿå¯ä»¥å€ŸåŠ©äº vim-multiple-cursorsã€‚å®‰è£…ï¼š\nPlug \u0026#39;terryma/vim-multiple-cursors\u0026#39; ç®€å•ä½¿ç”¨ # å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œé¦–å…ˆæŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¦é‡å‘½åçš„å˜é‡å¤„ï¼Œç„¶åå¼€å§‹æŒ‰ Ctrl + Nï¼Œå¯ä»¥çœ‹åˆ°å˜é‡è¢«é«˜äº®ï¼Œç»§ç»­æŒ‰ Ctrl + Nï¼Œå˜é‡ä¸‹ä¸€ä¸ªå‡ºç°çš„åœ°æ–¹è¢«é«˜äº®æ˜¾ç¤ºï¼Œå¦‚æœè¦è·³è¿‡æŸä¸ªä½ç½®è¯¥å˜é‡çš„å‡ºç°ï¼ˆä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²ä¸­ä¹Ÿå¯èƒ½åŒ…å«ä¸è¯¥å˜é‡åç›¸åŒçš„å­å­—ç¬¦ä¸²ï¼‰ï¼Œåœ¨è¯¥å¤„è¢«é«˜äº®ä»¥åï¼Œå†æŒ‰ Ctrl + X å–æ¶ˆé«˜äº®å³å¯ï¼Œä¸æ–­é€‰ä¸­å˜é‡çš„å‡ºç°ä½ç½®ï¼Œç›´åˆ°æ‰€æœ‰æƒ³è¦é€‰ä¸­çš„ä½ç½®å‡é€‰ä¸­å®Œæ¯•ã€‚\næ­¤æ—¶ï¼ŒæŒ‰ä¸‹ cï¼ˆc åœ¨ Nvim ä¸­ä»£è¡¨ change ï¼‰,è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥å˜é‡æ–°çš„åç§°ï¼Œä¿å­˜å³å¯ã€‚æ›´å¤šä½¿ç”¨æ–¹æ³•ï¼Œè¯·å‚è€ƒè¯¥æ’ä»¶çš„æ–‡æ¡£ã€‚\nå‚è€ƒ # https://github.com/neovim/neovim/issues/3845 https://github.com/neovim/neovim/issues/211 https://github.com/neovim/neovim/issues/7257 https://github.com/onivim/oni/issues/184 é«˜äº®æ˜¾ç¤ºå¤åˆ¶åŒºåŸŸ # Nvim ä¸­ï¼Œä½¿ç”¨ y å¤åˆ¶æ–‡æœ¬ä»¥åï¼Œä¸ä¼šæç¤ºå¤åˆ¶äº†å“ªäº›æ–‡æœ¬ï¼Œé™¤éä½¿ç”¨è€…éå¸¸ç†Ÿæ‚‰ NvimæŒ‰é”®ï¼Œå¦åˆ™å¯èƒ½ä¼šå¤šå¤åˆ¶æˆ–å°‘å¤åˆ¶éƒ¨åˆ†å­—ç¬¦ã€‚vim-highlightedyank è¿™æ¬¾æ’ä»¶å¯ä»¥åœ¨å¤åˆ¶ï¼ˆyankï¼‰æ–‡æœ¬ä»¥åé«˜äº®æç¤ºå“ªäº›æ–‡æœ¬è¢«å¤åˆ¶äº†ï¼Œéå¸¸å®ç”¨ã€‚å®‰è£…ï¼š\nPlug \u0026#39;machakann/vim-highlightedyank\u0026#39; é€šå¸¸æƒ…å†µä¸‹ï¼Œå®‰è£…æ’ä»¶ä»¥åä¸éœ€è¦åšä»»ä½•è®¾ç½®å³å¯ä½¿ç”¨ï¼Œä½†æ˜¯å¯¹äºæŸäº›ä¸»é¢˜ï¼Œé«˜äº®çš„é¢œè‰²å¯èƒ½çœ‹ä¸æ¸…æ¥šï¼Œå¯ä»¥åœ¨ Nvim è®¾ç½®ä¸­åŠ å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nhi HighlightedyankRegion cterm=reverse gui=reverse å¦‚æœè§‰å¾—é«˜äº®æ˜¾ç¤ºçš„æ—¶é—´å¤ªçŸ­ï¼Œå¯ä»¥è®¾ç½®å¢åŠ é«˜äº®æ˜¾ç¤ºçš„æ—¶é—´ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰ï¼š\nlet g:highlightedyank_highlight_duration = 1000 \u0026#34; é«˜äº®æŒç»­æ—¶é—´ä¸º 1000 æ¯«ç§’ ä»£ç æŠ˜å æ’ä»¶ # å¯¹äºå¾ˆé•¿çš„ä»£ç ï¼ŒæŠ˜å ä»£ç æœ‰åŠ©äºç†æ¸…ä»£ç æ•´ä½“ç»“æ„ã€‚SimplyFold æ˜¯ä¸€æ¬¾ä¸é”™ä»£ç æŠ˜å æ’ä»¶ã€‚å®‰è£…ï¼š\nPlug \u0026#39;tmhedberg/SimpylFold\u0026#39; å®‰è£…ä»¥åä¸ç”¨è¿›è¡Œè®¾ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚\nç®€å•ä½¿ç”¨ # zoï¼š æ‰“å¼€å…‰æ ‡å¤„çš„ fold zOï¼š é€’å½’æ‰“å¼€å…‰æ ‡å¤„æ‰€æœ‰ fold zcï¼š å…³é—­å…‰æ ‡å¤„ fold zCï¼š å…³é—­å…‰æ ‡å¤„æ‰€æœ‰ fold ä¸»é¢˜å®‰è£…ä¸é…ç½® # Before we begin # Neovim è‡ªå¸¦äº†å‡ æ¬¾ä¸»é¢˜ï¼ˆcolorschemeï¼‰ï¼Œä½ å¯èƒ½ä¸å–œæ¬¢ï¼Œæƒ³è¦å®‰è£…ä¸ªæ€§åŒ–ä¸»é¢˜ã€‚å®‰è£…ä¸»é¢˜ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ï¼ŒæŸäº› SSH ç¨‹åºå¯¹é¢œè‰²çš„æ”¯æŒä¼¼ä¹æœ‰é—®é¢˜ï¼Œå¯¼è‡´ä¸»é¢˜å®‰è£…ä»¥åï¼Œå¹¶ä¸èƒ½å¾ˆå¥½å·¥ä½œã€‚ç»è¿‡è¯•ç”¨å¤šæ¬¾ Windows ç³»ç»Ÿä¸‹çš„ SSH è½¯ä»¶ï¼Œæœ€ç»ˆå‘ç°ZOC æœ€å¥½ç”¨ï¼Œå½“ç„¶Cygwin ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚æ›´å¤šçš„ SSH è½¯ä»¶ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œç»™å‡ºçš„æ”¯æŒ true color çš„ SSH å®¢æˆ·ç«¯ã€‚\nä¸»é¢˜å®‰è£…ä»‹ç» # gruvbox æ˜¯ä¸€æ¬¾ Vim ä¸»é¢˜ã€‚åœ¨ vim-plug å®‰è£…æ’ä»¶éƒ¨åˆ†ï¼ŒåŠ å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š\nPlug \u0026#39;morhetz/gruvbox\u0026#39; è¿è¡Œ :PlugInstall å®‰è£…è¯¥ä¸»é¢˜ã€‚\nåœ¨ Nvim é…ç½®æ–‡ä»¶ä¸­åŠ å…¥\ncolorscheme gruvbox å³å¯å¯ç”¨è¯¥ä¸»é¢˜ï¼Œä¸»é¢˜æœ‰ä¸¤ä¸ªæ¨¡å¼ï¼Œåˆ†åˆ«ä¸º dark å’Œ lightï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œåˆ‡æ¢:\nset background=dark \u0026#34; æˆ–è€… set background=light é‡å¯ Nvimï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸»é¢˜çš„å˜åŒ–ã€‚åœ¨æˆ‘çš„ Mac ä¸Šï¼Œä¸»é¢˜æ˜¾ç¤ºå¦‚ä¸‹ï¼š\nå¦‚ä½•æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„æ’ä»¶ï¼Ÿ # æœ‰ä¸ªå«åš vimawesome çš„ç½‘ç«™æ”¶é›†äº†å¾ˆå¤šä¸åŒç±»å‹ vim æ’ä»¶çš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™å¯»æ‰¾åˆé€‚çš„æ’ä»¶æ¥å°è¯•ã€‚å¦å¤–ï¼Œå¾ˆå¤š Vim æ’ä»¶éƒ½å‘å¸ƒåœ¨GitHub ä¸Šï¼Œå¯ä»¥ç›´æ¥åœ¨ GitHub ä¸Šæœç´¢ vim å’Œç›¸å…³çš„å…³é”®è¯æŸ¥æ‰¾æ’ä»¶ï¼Œä¾‹å¦‚ï¼Œæœç´¢ \u0026ldquo;vim colorscheme\u0026rdquo; æˆ– \u0026ldquo;vim theme\u0026quot;å¯ä»¥æŸ¥æ‰¾ä¸º vim è®¾è®¡çš„ä¸»é¢˜ã€‚\næ›´æ”¹æ˜¾ç¤ºå­—ä½“ # Nvim ä¼šè‡ªåŠ¨ä½¿ç”¨ ssh å®¢æˆ·ç«¯è®¾ç½®çš„å­—ä½“ï¼Œæ‰€ä»¥åœ¨å®¢æˆ·ç«¯è®¾ç½®å­—ä½“å³å¯ã€‚ä¸€äº›æ¯”è¾ƒä¸é”™çš„ç¼–ç¨‹å­—ä½“æœ‰ï¼š\nFiraCode Source Code Pro Hack å†…ç½® terminal # Neovim åŸç”Ÿæ”¯æŒ terminalï¼Œå†…ç½®äº† terminal emulatorï¼Œå¯ä»¥ç›´æ¥åœ¨ Neovim å†…è¿è¡Œ shellï¼Œå¯¹äºä¸€äº›ä¸´æ—¶çš„ shell æ“ä½œéå¸¸æ–¹ä¾¿ã€‚æ‰“å¼€çš„æ–¹å¼ä¸ºåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥ :terminal æˆ–è€…è¾“å…¥ vnew term://bash(è¡¨ç¤ºåœ¨æ°´å¹³æ–¹å‘å†æ‰“å¼€ä¸€ä¸ªbash shell) æˆ–è€… new term://bashï¼ˆåœ¨å‚ç›´æ–¹å‘æ‰“å¼€ä¸€ä¸ª bash shellï¼‰ã€‚\nè¿›å…¥ terminal åï¼Œé»˜è®¤æ˜¯å‘½ä»¤çŠ¶æ€ï¼Œä¸èƒ½è¾“å…¥æ–‡å­—ï¼ŒæŒ‰ i å¼€å§‹è¾“å…¥å‘½ä»¤ã€‚å¦‚ä½•é€€å‡ºterminal window çš„æ’å…¥çŠ¶æ€ï¼ŸæŒ‰\u0026lt;Ctrl+\\\u0026gt;\u0026lt;Ctrl+N\u0026gt;ã€‚\nè¦é€€å‡º terminal çª—å£ï¼Œè¾“å…¥ exit å³å¯ï¼Œæ­¤æ—¶ terminal çš„çª—å£å°†å…³é—­ã€‚\nNeovim ä¸ Vim çš„ä¸åŒ # æ”¯æŒ bracketed paste mode # Neovim å®˜æ–¹æ–‡æ¡£æŒ‡å‡º Neovim æ”¯æŒ bracketed paste modeï¼Œå› æ­¤ Vim ä¸­çš„ paste é€‰é¡¹å·²ç»è¿‡æ—¶äº†ï¼Œåœ¨ Neovim ä¸­ä½¿ç”¨ :h pasteï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„è¯´æ˜ï¼š\nThis option is obsolete; bracketed-paste-mode is built-in.\nNeovim is all nocompatible # åœ¨ Neovim ç•Œé¢ï¼Œä½¿ç”¨ :h compatibleï¼Œç»™å‡ºçš„ä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œ\nNvim is always \u0026ldquo;nocompatible\u0026rdquo;\nä¸€äº›å°é—®é¢˜ # åœ¨ Tmux ä¸­ï¼ŒNvim çš„ä¸»é¢˜é¢œè‰²æ˜¾ç¤ºæœ‰é—®é¢˜ # é¦–å…ˆï¼Œå¦‚æœä½ çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨æ”¯æŒçœŸå½©è‰²ï¼Œé‚£ä¹ˆéœ€è¦å…ˆå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ tmux3ã€‚ç„¶åæŠŠå¦‚ä¸‹é…ç½®åŠ å…¥åˆ° tmux é…ç½®æ–‡ä»¶ (~/.tmux.conf) ä¸­ (å‚è€ƒ è¿™é‡Œ)ï¼š\nset -g default-terminal \u0026#34;screen-256color\u0026#34; set -ga terminal-overrides \u0026#34;,xterm-256color*:Tc\u0026#34; ç„¶åé¢œè‰²æ˜¾ç¤ºåº”è¯¥ä¼šæ­£å¸¸ã€‚å¦‚æœä½ ä½¿ç”¨çš„ç»ˆç«¯ä¸æ”¯æŒçœŸå½©è‰²ï¼Œé‚£ä¹ˆå°±åœ¨ Neovim çš„é…ç½®ä¸­åŠ å…¥ä¸‹é¢çš„è®¾ç½®ï¼š\nset notermguicolors æ›´å¤šçš„è®¨è®ºå‚è€ƒè¿™é‡Œ.\nå¦‚ä½•è®°å½• Neovim å¯åŠ¨æ—¶å€™çš„ log # å‚è€ƒè¿™é‡Œã€‚ä½¿ç”¨ nvim -VNUMnvim.log æ¥å¯åŠ¨ Neovimã€‚ NUM ç”¨æ¥æŒ‡å®š log çš„ verbosity ç­‰çº§ï¼Œä¾‹å¦‚ nvim -V10nvim.log å°†ä¼šç”Ÿæˆä¸€ä¸ª verbosity ç­‰çº§ä¸º 10 çš„ log æ–‡ä»¶ã€‚ å¦å¤–åœ¨å‘½ä»¤è¡Œè¿è¡Œ nvim --help ä¹Ÿæœ‰ç›¸å…³å¸®åŠ©ä¿¡æ¯.\nè‡³æ­¤ï¼ŒNeovim å°±ç®—é…ç½®å®Œæˆäº†ï¼Œç»ˆäºå¯ä»¥æ„‰å¿«ç ä»£ç äº†ã€‚\nVim æœ€åˆäº 1991 å¹´å‘å¸ƒï¼Œå®ƒçš„å‰èº« Vi è¯ç”Ÿäº 1978 å¹´ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå…³äºå¦‚ä½•åœ¨ Windows ä¸Šé…ç½® Neovimï¼Œå‚è€ƒè¿™é‡Œ.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå‚è€ƒè¿™é‡Œï¼Œå®‰è£… Tmux æœ€æ–°ç‰ˆã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"5 September 2018","externalUrl":null,"permalink":"/2018/09/05/centos_nvim_install_use_guide/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/Xnip2020-04-04_21-39-49.jpg\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eæˆ‘çš„å®Œæ•´ Neovim é…ç½®å¯ä»¥ç‚¹\u003ca href=\"https://github.com/jdhao/nvim-config\" target=\"_blank\"\u003eè¿™é‡Œ\u003c/a\u003eæŸ¥çœ‹ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e2022-01-29: æœ¬æ–‡å†™äºä¸‰å¹´ä»¥å‰ï¼Œå…¶ä¸­æåˆ°çš„ä¸€äº›æ’ä»¶å·²ç»ä¸å†ç»´æŠ¤ï¼Œæˆ–è€…å¯¹äº Neovim ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›æ’ä»¶è¢« Nvim è‡ªå¸¦çš„åŠŸèƒ½æ‰€æ›¿ä»£ï¼Œä¾‹å¦‚ï¼Œ\u003ca href=\"https://jdhao.github.io/2020/05/22/highlight_yank_region_nvim/#neovim-only\" target=\"_blank\"\u003eä» 2020.05 å¼€å§‹ï¼Œhighlighted yank å¼€å§‹å†…ç½®\u003c/a\u003eã€‚æˆ‘åœ¨ \u003ca href=\"https://jdhao.github.io/2021/12/31/using_nvim_after_three_years/#what-remains-what-has-changed-and-some-new-plugins\" target=\"_blank\"\u003e è¿™ç¯‡åšæ–‡\u003c/a\u003e åˆ†äº«äº†ä¸€äº›æ’ä»¶è¿ç§»çš„äº‹æƒ…ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eVim æ˜¯ä¸€æ¬¾ä¸»è¦æµè¡Œäº *nix ç³»ç»Ÿä¸Šçš„å¼ºå¤§çš„ç¼–è¾‘å™¨ï¼Œå¦å¤–ä¸€æ¬¾å¯ä»¥ä¸ä¹‹åª²ç¾çš„ç¼–è¾‘å™¨æ˜¯ Emacsï¼Œè¿™ä¸¤æ¬¾ç¼–è¾‘å™¨å¹¿æ³›æµè¡Œäºç¨‹åºå‘˜ç¾¤ä½“ï¼Œ\u003ca href=\"https://en.wikipedia.org/wiki/Editor_war\" target=\"_blank\"\u003eå…³äºè°æ˜¯ç¼–è¾‘å™¨ä¹‹ç‹çš„äº‰è®ºç»ä¹…ä¸æ¯\u003c/a\u003eã€‚Vim çš„åŠŸèƒ½è™½ç„¶å¼ºå¤§ï¼Œä½†æ˜¯ä½œä¸ºä¸€æ¬¾ã€Œå¤è€ã€çš„ç¼–è¾‘å™¨\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eï¼Œä¹Ÿä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼šéšç€ Vim ä»£ç é‡çš„å¢åŠ ï¼Œç»´æŠ¤å˜å¾—æ—¥ç›Šå›°éš¾ï¼Œä¸åˆ©äºå¿«é€Ÿå¢åŠ æ–°åŠŸèƒ½ï¼›å¦å¤–ï¼Œå®ƒçš„ä¸»è¦å¼€å‘è€…ç›®å‰åªæœ‰ä¸€ä¸ªäººï¼Œ\u003ca href=\"https://en.wikipedia.org/wiki/Bram_Moolenaar\" target=\"_blank\"\u003eBram Moolenaar\u003c/a\u003eï¼Œä¹Ÿä¸ç¬¦åˆå½“ä»Šå¼€æºç¤¾åŒºå¤šäººåä½œçš„ä¹ æƒ¯ã€‚ä¸ºäº†å…‹æœ Vim çš„è¿™äº›ç¼ºç‚¹ï¼Œä¿ç•™ Vim çš„ä¼˜ç‚¹ï¼ˆæœ€å¤§ç¨‹åº¦å…¼å®¹ Vimï¼‰ï¼Œè®© Vim çš„å¼€å‘èƒ½æœ‰æ›´å¿«çš„è¿­ä»£é€Ÿåº¦ï¼Œ\u003ca href=\"https://neovim.io/\" target=\"_blank\"\u003eNeovim\u003c/a\u003e é¡¹ç›®è¯ç”Ÿäº†ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•å®‰è£… Neovim å¹¶é…ç½® Python å¼€å‘ç¯å¢ƒ(åœ¨ä»¥ä¸‹å™è¿°ä¸­ï¼ŒNeovim å’Œ Nvim å«ä¹‰ç›¸åŒï¼Œä¸å†åŠ ä»¥åŒºåˆ†)\u003csup id=\"fnref:2\"\u003e\u003ca href=\"#fn:2\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e2\u003c/a\u003e\u003c/sup\u003eã€‚\u003c/p\u003e","title":"Linux ä¸‹ Neovim é…ç½® Python å¼€å‘ç¯å¢ƒæŒ‡å—","type":"posts"},{"content":"In this post, I want to write about how to replace one page of existing PDF files with a new PDF image.\nCrop image and convert it to PDF file # Because the page size of most PDF files is A4 size1. First we need to crop the image to have the same aspect ratio as an A4 paper. We can use FastStone Image Viewer to achieve this.\nOpen the image using FastStone Image Viewer, press x and we will be in the crop mode. We need to add a new aspect ratio for the A4 size.\nIn the pop-up window, click \u0026ldquo;Add\u0026rdquo; and set the width and height of the paper ratios (see image below).\nThen go back to the crop board and choose the ratio we have just set up. Then choose the option \u0026ldquo;Lossless Crop to File\u0026rdquo;. In the pop-up save file window, choose the PDF format.\nEmbed PDF image to the existing PDF files # Now we can embed the produced PDF image to the existing PDF files. We use the free tool pdftk to do this. Download, install it and set the PATH variable properly.\nIf we have a file Thesis.pdf and we want to replace the 5th page with another file sign_page.pdf. We can use the following command:\npdftk A=Thesis.pdf B=sign_page.pdf cat A1-4 B1 A6-end output signed_thesis.pdf This command is pretty self-explanatory. We concatenate page 1 to 4 of Thesis.pdf, the sign_page.pdfand page 6 to end of Thesis.pdf to form a new PDF file. In effect, we have replaced the 5th page of Thesis.pdf. The produced file will be signed_thesis.pdf.\nAnother way to embed PDF files. # If you have purchased Adobe Acrobat Pro, you can use Acrobat to replace a page in PDF files.\nReference # https://superuser.com/questions/611227/how-to-replace-a-single-page-in-a-pdf-using-another-pdf-in-linux https://askubuntu.com/questions/221962/how-can-i-extract-a-page-range-a-part-of-a-pdf The A4 size is 210x297 in mm.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 June 2018","externalUrl":null,"permalink":"/2018/06/04/insert-image-page-to-pdf/","section":"Posts","summary":"\u003cp\u003eIn this post, I want to write about how to replace one page of existing PDF\nfiles with a new PDF image.\u003c/p\u003e","title":"How to Replace A Page of PDF File with Another PDF","type":"posts"},{"content":"In this post, I will share how to position the intersection of x and y axis at a specific point using Matplotlib.\nThe spines # In order to re-position x and y axis, we need to understand an important concept in Matplotlib \u0026mdash;spines. According to Matplotlib documentation:\nSpines are the lines connecting the axis tick marks and noting the boundaries of the data area. They can be placed at arbitrary positions. See function:set_position for more information.\nIn normal plot, we can clearly see four spines around the plot. Like the following plot:\nTwo of the 4 spines, i.e., bottom and left spines are used as x and y axis. Another two spines are used to indicate data boundary.\nMove the spines # In order to move a specific spine, we use the set_position() method of spines. This method accepts a 2-tuple as its parameter. The first element of the tuple is used to indicate the desired coordinate system1, i.e., axes or data. If you use axes, the value for the second element is in the range $[0.0, 1.0]$. If you choose data, the value for the second element is the range of actual data range.\nWe can use ax.spines to get the four spines. The returned object will be a dict, whose keys are bottom, left, top, right. Then we use one of these keys to access a specific spine and customize it.\nPosition spines in data coordinate # Let us take a concrete example. Suppose we want to put the intersection of x and y axis at data coordinate $(0, 0)$, we can use the following snippet:\nax.spines[\u0026#39;left\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0)) ax.spines[\u0026#39;bottom\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0)) The produced image will be:\nThe image looks a bit ugly since top and right spines now seem redundant. How do we remove them? It is easy:\nax.spines[\u0026#39;top\u0026#39;].set_visible(False) ax.spines[\u0026#39;right\u0026#39;].set_visible(False) Now the image will be prettier:\nYou can move the spines to whatever position you want, see more example below:\nPosition spines in axes coordinate # We can also position spines using the axes coordinate system. For example, if you want to place the x and y axis in the top right of the axes, i.e., in the axes coordinate $(1, 1)$, use the following script:\nax.spines[\u0026#39;left\u0026#39;].set_position((\u0026#39;axes\u0026#39;, 1)) ax.spines[\u0026#39;bottom\u0026#39;].set_position((\u0026#39;axes\u0026#39;, 1)) The produced plot is\nReferences # https://www.labri.fr/perso/nrougier/teaching/matplotlib/ How to draw axis in the middle of the figure? If you are not familiar with coordinate system in Matplotlib, you can check this tutorial.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 May 2018","externalUrl":null,"permalink":"/2018/05/21/matplotlib-change-axis-intersection-point/","section":"Posts","summary":"In this post, I will share how to position the intersection of x and y axis at a specific point using Matplotlib.\nThe spines # In order to re-position x and y axis, we need to understand an important concept in Matplotlib \u0026mdash;spines. According to Matplotlib documentation:\nSpines are the lines connecting the axis tick marks and noting the boundaries of the data area. They can be placed at arbitrary positions.","title":"How to Change Intersection Point of X and Y Axis in Matplotlib","type":"posts"},{"content":"æœ¬æ–‡ç®€è¦æ€»ç»“ä¸€ä¸‹å¦‚ä½•åœ¨ PowerPoint ä¸­ä½¿ç”¨æ¯ç‰ˆè§†å›¾åˆ¶ä½œä¸ªæ€§åŒ–çš„é¡µè„šé¡µçœ‰1ï¼Œå…ˆä¸Šæ•ˆæœå›¾ï¼š\nèƒŒæ™¯ä»‹ç» # å‡å¦‚å¼ ä¸‰æ˜¯å“ˆä½›ï¼ˆå“ˆå°”æ»¨ä½›å­¦é™¢ï¼Œç®€ç§°ã€Œå“ˆä½›ã€ï¼‰çš„ä¸€ä¸ªå­¦ç”Ÿï¼Œä»–è¦ä½œä¸€ç¯‡æŠ¥å‘Šï¼Œé¢˜ç›®ä¸ºâ€œè®ºé©¬å…‹æ€ä¸»ä¹‰åœ¨äººå·¥æ™ºèƒ½æ—¶ä»£çš„æŒ‡å¯¼ä½œç”¨â€ï¼Œé™¤äº† PPT çš„é¦–é¡µä¹‹å¤–ï¼Œå…¶ä½™æ¯å¼ å¹»ç¯ç‰‡ï¼ˆslideï¼‰é¡µè„šè¦æ ‡æ˜ä½œè€…ï¼ŒæŠ¥å‘Šçš„é¢˜ç›®ï¼Œæ—¶é—´ï¼Œä»¥åŠå½“å‰å¹»ç¯ç‰‡çš„ç¼–å·å’Œæ‰€æœ‰å¹»ç¯ç‰‡çš„æ•°ç›®ï¼›åœ¨é¡µçœ‰éƒ¨åˆ†ï¼Œå³è¾¹è¦æœ‰å“ˆä½›çš„ä¸€ä¸ªæ ‡å¿—ã€‚å¦‚ä½•æ¥å®ç°ä¸Šè¿°è¦æ±‚ï¼Ÿ\næœ€ç®€å•çš„åŠæ³•å°±æ˜¯æ¯æ’å…¥ä¸€å¼ å¹»ç¯ç‰‡ï¼Œäººå·¥åœ¨é¡µçœ‰ã€é¡µè„šéƒ¨åˆ†åˆ†åˆ«æ’å…¥ä¸Šè¿°è¦æ±‚çš„å†…å®¹ï¼Œè¿›è¡Œè°ƒæ•´ï¼Œæˆ–è€…åšå¥½ä¸€å¼  slideï¼Œæ‹·è´å¤šæ¬¡ï¼Œç„¶åè¿›è¡Œç®€å•ä¿®æ”¹ã€‚ä½†æ˜¯è¿™æ ·çš„æ–¹å¼ï¼Œéå¸¸ç¬¨æ‹™ï¼Œæœ‰å¾ˆå¤šé‡å¤æ€§åŠ³åŠ¨ï¼Œå› ä¸ºè¿™ç§æ ¼å¼ä¸Šçš„è¦æ±‚å¾ˆå¤šéƒ½æ˜¯ä¸å˜çš„ï¼Œè­¬å¦‚ï¼Œé¡µè„šçš„ä½œè€…å§“åï¼Œé¢˜ç›®ï¼Œé¡µçœ‰çš„å“ˆä½›å›¾æ ‡ç­‰ã€‚PowerPoint ä¸­çš„ã€Œæ¯ç‰ˆè§†å›¾ã€ä¸­çš„ã€Œç‰ˆå¼ã€å°±æ˜¯ä¸ºè¿™ç§éœ€æ±‚å‡†å¤‡çš„ã€‚ç®€å•æ¥è¯´ï¼Œç‰ˆå¼å°±æ˜¯ä¸€å¼ å®é™…å¹»ç¯ç‰‡çš„æ¨¡æ¿ï¼Œä»æŸä¸€ç‰ˆå¼æ–°å»ºçš„å¹»ç¯ç‰‡åˆå§‹å†…å®¹éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥çš„ç¼–è¾‘ã€‚\nç‰ˆå¼åˆ¶ä½œè¿‡ç¨‹ # è¿›å…¥æ¯ç‰ˆè§†å›¾ # æ–°å»ºä¸€ä¸ª PowerPoint æ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œä¸è¦æ–°å»ºä»»ä½• slideï¼Œç‚¹å‡»ã€Œè§†å›¾ã€é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡»ã€Œå¹»ç¯ç‰‡æ¯ç‰ˆã€ã€‚è¿™æ—¶ï¼Œèœå•æ ä¼šå¤šå‡ºä¸€ä¸ªã€Œå¹»ç¯ç‰‡æ¯ç‰ˆã€é€‰é¡¹å¡ï¼ŒåŒæ—¶ï¼Œä½ ä¼šçœ‹åˆ°ä¸€å¼ æ¯ç‰ˆï¼Œä¸‹é¢ä»¥æ ‘å½¢ç»“æ„å±•ç¤ºäº†å¤šä¸ªä¸åŒçš„ç‰ˆå¼ã€‚è¦æƒ³å¿«é€Ÿåœ¨æ™®é€šè§†å›¾å’Œæ¯ç‰ˆè§†å›¾ä¹‹é—´åˆ‡æ¢ï¼Œå¯ä»¥æŒ‰ä½ Shift é”®ï¼Œå•å‡» PowerPoint å³ä¸‹è§’çš„ã€Œæ™®é€šè§†å›¾ã€æŒ‰é’®ã€‚\nä¸åŒçš„ç‰ˆå¼å°±æ˜¯ä¸€å¼ å¹»ç¯ç‰‡çš„ä¸åŒæ¨¡æ¿ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™äº›ç‰ˆå¼ï¼Œå¯ä»¥ç›´æ¥æŠŠæ‰€æœ‰ç‰ˆå¼éƒ½åˆ æ‰ï¼ˆä½¿ç”¨ Delete åˆ é™¤ï¼‰ã€‚\nåˆ¶ä½œæ ‡é¢˜å¹»ç¯ç‰‡çš„ç‰ˆå¼ # å•å‡»ã€Œå¹»ç¯ç‰‡æ¯ç‰ˆã€é€‰é¡¹å¡ä¸‹çš„ã€Œæ’å…¥ç‰ˆå¼ã€ï¼Œæ’å…¥ä¸€ä¸ªæ–°çš„ç‰ˆå¼ï¼Œå³é”®å•å‡»è¯¥ç‰ˆå¼ï¼Œå¯ä»¥é‡å‘½åï¼Œæˆ‘ä»¬æŠŠå®ƒå‘½åä¸ºã€Œæ ‡é¢˜ã€ã€‚\nè¿™ä¸ªç‰ˆå¼é»˜è®¤ä¼šæœ‰ä¸€äº›å…ƒç´ (å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥ç›´æ¥åˆ æ‰)ã€‚ç‰ˆå¼ç¼–è¾‘å’Œæ™®é€šå¹»ç¯ç‰‡ç¼–è¾‘åŒºåˆ«ä¸å¤§ï¼Œä¸Šè¿° PPT ç¬¬ä¸€é¡µå¹»ç¯ç‰‡çš„ç‰ˆå¼å¦‚ä¸‹ï¼š\nå¦‚ä½•æ­£ç¡®æ’å…¥å¹»ç¯ç‰‡ç¼–å·å’Œæ‰€æœ‰å¹»ç¯ç‰‡å¼ æ•°ï¼Ÿ # ä¸Šè¿°çš„ã€Œæ ‡é¢˜ã€ç‰ˆå¼éå¸¸ç®€å•ï¼Œè¿™é‡Œé‡ç‚¹è®²ä¸€ä¸‹å¦‚ä½•æ’å…¥å·¦ä¸‹è§’çš„å¹»ç¯ç‰‡ç¼–ç ã€‚é¦–å…ˆï¼Œæ’å…¥ä¸€ä¸ªçŸ©å½¢åˆ°ç‰ˆå¼çš„å·¦ä¸‹è§’ï¼ˆè¿™é‡Œå¯¹çŸ©å½¢çš„å¡«å……é¢œè‰²ï¼Œè¾¹çº¿é¢œè‰²ç­‰è®¾ç½®ä¸å†èµ˜è¿°ï¼‰ï¼Œå³å‡»è¯¥å½¢çŠ¶ï¼Œç¼–è¾‘æ–‡å­—ï¼Œç¡®ä¿é¼ æ ‡å…‰æ ‡ç°åœ¨ä½äºçŸ©å½¢å†…ã€‚ç„¶åå•å‡»ã€Œæ’å…¥ã€é€‰é¡¹å¡ï¼Œæ‰¾åˆ°ã€Œå¹»ç¯ç‰‡ç¼–å·ã€æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œè¿™æ—¶ï¼ŒçŸ©å½¢æ¡†ä¸­å°±æ’å…¥äº†å¹»ç¯ç‰‡ç¬¦å·çš„å ä½ç¬¦ã€‚æˆ‘ä»¬ç»§ç»­ç¼–è¾‘ï¼Œåœ¨å ä½ç¬¦åé¢åŠ ä¸Š /NUMã€‚NUM è¡¨ç¤º PPT çš„ slide é¡µæ•°ï¼Œå¯ä»¥åœ¨åšå®Œå¹»ç¯ç‰‡ä»¥åå†æ·»åŠ ä¸Šè¯¥æ•°å­—ï¼Œæ³¨æ„ï¼Œå¢åˆ äº†å¹»ç¯ç‰‡ï¼Œéœ€è¦è‡ªå·±åœ¨æ¨¡æ¿ä¸­æ‰‹åŠ¨æ›´æ–°è¯¥æ•°å­—ã€‚\nåˆ¶ä½œæ™®é€šå¹»ç¯ç‰‡é¡µé¢ç‰ˆå¼ # å®Œæˆäº†æ ‡é¢˜å¹»ç¯ç‰‡ç‰ˆå¼åˆ¶ä½œï¼Œæˆ‘ä»¬æ¥åˆ¶ä½œæ™®é€šå¹»ç¯ç‰‡é¡µé¢çš„ç‰ˆå¼ï¼ŒåŒæ ·åœ°ï¼Œæ’å…¥æ–°çš„ç‰ˆå¼ï¼Œé‡å‘½åä¸ºã€Œæ™®é€šé¡µé¢ã€ã€‚è¿™ä¸ªç‰ˆå¼ç•¥å¤æ‚ï¼Œä¸»è¦å…ƒç´ è§ä¸‹å›¾è¯´æ˜ï¼š\né¡µçœ‰åˆ¶ä½œ # é¡µçœ‰ä½¿ç”¨çŸ©å½¢ï¼Œå¹¶è®¾ç½®èƒŒæ™¯è‰²åˆ¶ä½œï¼Œç„¶åå³ä¸Šè§’æ’å…¥å“ˆä½›å›¾æ ‡ï¼Œå…·ä½“æ ¼å¼å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½åˆ¶ä½œã€‚\nåŒæ—¶é¡µçœ‰è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å…ƒç´ æ˜¯æ ‡é¢˜å ä½ç¬¦ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šå¦‚æœä¸€å¼ å¹»ç¯ç‰‡ ä»¥ã€Œæ™®é€šé¡µé¢ã€ç‰ˆå¼ä¸ºæ¨¡æ¿ï¼Œé‚£ä¹ˆç”Ÿæˆè¯¥é¡µé¢çš„æ—¶å€™æ ‡é¢˜çš„æ ·å¼ï¼ˆä¸»è¦æ˜¯å­—ä½“å’Œå­—å·ï¼‰å·²ç»è®¾ç½®å¥½ï¼Œæˆ‘ä»¬åªéœ€è¦ç‚¹å‡»è¾“å…¥æ ‡é¢˜å†…å®¹å³å¯ï¼Œä¸éœ€è¦å¯¹æ¯ä¸€å¼ ä½¿ç”¨è¯¥ç‰ˆå¼çš„å¹»ç¯ç‰‡ æ ‡é¢˜é‡æ–°è®¾ç½®ä¸€éå­—ä½“å­—å·ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡æ•ˆç‡ï¼Œæœ‰æœ¨æœ‰ã€‚ä¸‹é¢ä»‹ç»å…·ä½“å¦‚ä½•å®ç°ã€‚\né¦–å…ˆï¼Œåœ¨ç¼–è¾‘ã€Œæ™®é€šé¡µé¢ã€ç‰ˆå¼æ—¶ï¼Œé€‰ä¸­ã€Œæ ‡é¢˜ã€ï¼Œ\nä¼šå‡ºç°ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œå†…æœ‰ã€Œå•å‡»æ­¤å¤„ç¼–è¾‘æ¯ç‰ˆæ ‡é¢˜æ ·å¼ã€å­—æ ·ï¼ŒæŠŠæ–‡æœ¬æ¡†ä¸­çš„æ–‡å­—ç§»åŠ¨åˆ°åˆé€‚ä½ç½®ï¼Œç„¶åä½¿ç”¨ã€Œå¼€å§‹ã€é€‰é¡¹å¡è®¾ç½®æ–‡å­—çš„å­—ä½“ä»¥åŠå­—å·ç­‰æ ¼å¼ï¼ˆè§ä¸‹å›¾ï¼‰ã€‚\né¡µè„šåˆ¶ä½œ # é¡µè„šç”±å››ä¸ªçŸ©å½¢æ‹¼æ¥ç»„æˆï¼Œå‰ä¸¤ä¸ªè¾ƒæ™®é€šï¼Œç›´æ¥åˆ†åˆ«æ’å…¥ä½œè€…ä»¥åŠæŠ¥å‘Šé¢˜ç›®å³å¯ã€‚ç¬¬ä¸‰ä¸ªçŸ©å½¢æ¡†ä¸ºå½“å‰æ—¥æœŸï¼Œæ’å…¥æ–¹æ³•ä¸æ’å…¥å¹»ç¯ç‰‡ç¼–å·ç±»ä¼¼ï¼šé¦–å…ˆç¼–è¾‘è¯¥çŸ©å½¢çš„æ–‡å­—ï¼Œç¡®ä¿å…‰æ ‡ä½äºçŸ©å½¢å†…ï¼Œç„¶ååœ¨ã€Œæ’å…¥ã€é€‰é¡¹å¡æ‰¾åˆ°ã€Œæ—¥æœŸå’Œæ—¶é—´ã€æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œåœ¨å¼¹å‡ºçš„çª—å£é€‰æ‹©æ—¥æœŸæ ¼å¼ï¼Œæ³¨æ„å‹¾é€‰ã€Œè‡ªåŠ¨æ›´æ–°ã€2é€‰é¡¹ï¼Œè§ä¸‹å›¾ï¼Œ\næ’å…¥å¹»ç¯ç‰‡ç¼–å·çš„æ–¹æ³•å·²ç»è¯´è¿‡ï¼Œä¸å†èµ˜è¿°ã€‚è¿™äº›çŸ©å½¢çš„å¤§å°ï¼ŒèƒŒæ™¯è‰²ï¼Œå…¶ä¸­çš„æ–‡å­—å­—ä½“ä»¥åŠæ ¼å¼å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦è°ƒæ•´ã€‚\nè‡³æ­¤ï¼Œè¿™ä¸ªç‰ˆå¼å°±ç®—å®Œæˆäº†ã€‚å®Œæˆäº†è¿™äº›ç‰ˆå¼çš„åˆ¶ä½œä»¥åï¼Œå¯ä»¥å¼€å§‹åˆ¶ä½œå¹»ç¯ç‰‡äº†ï¼šåœ¨ã€Œå¹»ç¯ç‰‡æ¯ç‰ˆã€é€‰é¡¹å¡ä¸‹ï¼Œç‚¹å‡»ã€Œå…³é—­æ¯ç‰ˆè§†å›¾ã€ï¼Œå›åˆ°æ­£å¸¸çš„å¹»ç¯ç‰‡åˆ¶ä½œç•Œé¢ã€‚\nç‰ˆå¼çš„ä½¿ç”¨ # ç‚¹å‡»æ–°å»ºå¹»ç¯ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšæ‰åšå¥½çš„ä¸¤ä¸ªç‰ˆå¼ï¼šã€Œæ ‡é¢˜ã€å’Œã€Œæ™®é€šé¡µé¢ã€ç‰ˆå¼ã€‚é¦–å…ˆæ’å…¥æ ‡é¢˜é¡µé¢ï¼Œç„¶åæ’å…¥å¤šå¼ æ™®é€šé¡µé¢ï¼Œè¿›è¡Œå…·ä½“çš„å†…å®¹åˆ¶ä½œã€‚\nè¿™æ—¶å¦‚æœå†å›åˆ°ã€Œæ¯ç‰ˆè§†å›¾ã€ç•Œé¢ï¼Œç‚¹å‡»ä¸åŒçš„ç‰ˆå¼ï¼ŒPowerPoint ä¼šè‡ªåŠ¨æç¤ºå“ªäº›å¹»ç¯ç‰‡ä½¿ç”¨è¯¥ç‰ˆå¼ï¼Œè§ä¸‹å›¾ï¼š\nä¸ºä»€ä¹ˆæœ‰çš„ç‰ˆå¼åˆ ä¸æ‰ï¼Ÿ # å¦‚æœæœ‰åŸºäºæŸä¸ªç‰ˆå¼çš„å¹»ç¯ç‰‡å­˜åœ¨ï¼Œé‚£ä¹ˆä½ ä¸èƒ½åˆ é™¤è¯¥ç‰ˆå¼ï¼Œè¦åˆ é™¤è¯¥ç‰ˆå¼ï¼Œå…ˆåˆ é™¤æ‰€æœ‰åŸºäºè¯¥ç‰ˆå¼çš„å¹»ç¯ç‰‡ã€‚\nå‚è€ƒ # å¾®è½¯ Office å®˜æ–¹è¯´æ˜ ä¸ºä»€ä¹ˆä¸€äº›ç‰ˆå¼æ— æ³•åˆ é™¤ **æ³¨æ„ï¼š**æœ¬æ–‡ä½¿ç”¨çš„ PowerPoint ä¸º Office 2016 ç‰ˆæœ¬ï¼Œç›¸å…³è®¾å®šå¯¹äºå…¶ä»–ç‰ˆæœ¬ Office ä¸ä¸€å®šé€‚ç”¨ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nä¼šè‡ªåŠ¨æ˜¾ç¤ºä½ æ‰“å¼€å¹»ç¯ç‰‡çš„å½“å¤©çš„æ—¥æœŸ\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"19 May 2018","externalUrl":null,"permalink":"/2018/05/19/powerpoint-header-footer-master-view/","section":"Posts","summary":"æœ¬æ–‡ç®€è¦æ€»ç»“ä¸€ä¸‹å¦‚ä½•åœ¨ PowerPoint ä¸­ä½¿ç”¨æ¯ç‰ˆè§†å›¾åˆ¶ä½œä¸ªæ€§åŒ–çš„é¡µè„šé¡µçœ‰1ï¼Œå…ˆä¸Šæ•ˆæœå›¾ï¼š èƒŒæ™¯ä»‹ç» # å‡å¦‚å¼ ä¸‰æ˜¯å“ˆä½›ï¼ˆå“ˆå°”æ»¨ä½›å­¦é™¢ï¼Œç®€ç§°ã€Œå“ˆä½›ã€ï¼‰çš„ä¸€ä¸ªå­¦ç”Ÿï¼Œ","title":"åˆ©ç”¨æ¯ç‰ˆè§†å›¾åœ¨ PowerPoint ä¸­åˆ¶ä½œä¸ªæ€§åŒ–é¡µè„šé¡µçœ‰","type":"posts"},{"content":"There are two basic cases when we push our local repo to remote repo. These two cases differ in their settings. But sometimes, we are easily confused.\nFirst scenario # The first case is that you have created a local repo and want to store it on GitHub later. In this case, your usual work flow for local repo is:\nInitialize the local repo (git init) Write you code and document, etc. Add changes to index (e.g., git add . ) Commit the changes (git commit -m \u0026quot;some message\u0026quot;) Repeat step 2 \u0026ndash; 4 Then, at some point, you want to push this local repo to GitHub. First, you need to create a new repo in GitHub. But be careful that you should not create a README file in this repo.\nIf you do create a README file, you will encounter errors when you try to push to this remote repo:\nhint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first integrate the remote changes hint: (e.g., \u0026#39;git pull ...\u0026#39;) before pushing again. hint: See the \u0026#39;Note about fast-forwards\u0026#39; in \u0026#39;git push --help\u0026#39; for details. If you try to pull from the remote repo to fix the above error, you will then see error message such as:\nfatal: refusing to merge unrelated histories\nIn order to spare yourself from these troubles, just do not create a README file! Just create an empty repo.\nAfter you have created an empty remote repo, you should add it as one of your remote. You can then push to it smoothly.\ngit remote add upstream \u0026lt;your_repo_url\u0026gt; git push upstream master If you accidentally created it README file, you can also force to push to this remote repo:\ngit push -f upstream master The above option -f will erase the commit on the remote repo. You can then force push to the remote repo.\nSecond scenario # The other case is that you already have a remote repo1 and you want to continue to develop it locally. In this case, you should first clone this remote repo and then develop it locally.\ngit clone \u0026lt;your_remote_repo\u0026gt; After cloning this remote repo, you can develop it locally. In this case, you do not have to manually add this repo as your remote. It will be added as your remote by default with the name origin.\nIn order to push to this repo, we use the following command:\ngit push origin master References # https://stackoverflow.com/questions/17291995/push-existing-project-into-github https://stackoverflow.com/questions/23304688/issue-pushing-to-a-github-repository-created-with-initialize-repo-with-a-readme For example, you have forked someone else\u0026rsquo;s repo.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 May 2018","externalUrl":null,"permalink":"/2018/05/16/git-push-local-to-remote/","section":"Posts","summary":"There are two basic cases when we push our local repo to remote repo. These two cases differ in their settings. But sometimes, we are easily confused.\nFirst scenario # The first case is that you have created a local repo and want to store it on GitHub later. In this case, your usual work flow for local repo is:\nInitialize the local repo (git init) Write you code and document, etc.","title":"How to Push Local Git Repo to Remote Repo in GitHub","type":"posts"},{"content":" update log 2022-09-30: change order of read and write section; other small fixes.\nIn this post, I will share the most convenient way to read and write CSV files (with or w/o headers) in Python.\nRead CSV files # Use the builtin CSV module # Python has a built-in CSV module that deals with CSV files. CSV module provides a CSV reader, which we can use to read CSV files. The CSV reader is an iterable object. We can use the following snippet to read CSV files:\nimport csv with open(\u0026#34;test.csv\u0026#34;, \u0026#34;r\u0026#34;, newline=\u0026#39;\u0026#39;) as f: reader = csv.reader(f, delimiter=\u0026#39;,\u0026#39;) for l in reader: print(l) # l will be a Python list Use Pandas # The famous data processing package Pandas also provides a method read_csv() to read CSV files.\nFor example, in order to read the above test.csv file, we can use the following code:\nimport pandas as pd # delimiter is used to sinify the delimiter between different columns, change it based on your case df = pd.read_csv(\u0026#39;test.csv\u0026#39;, delimiter=\u0026#39;,\u0026#39;) # df is Pandas dataframe df in the above code will be Pandas dataframe object. If the csv file you have does not have header, you should use header=None when reading this file:\ndf = pd.read_csv(\u0026#34;test.csv\u0026#34;, delimiter=\u0026#39;,\u0026#39;, header=None) To show the number of rows in the dataframe, use len(df.index) or df.shape[0]. To show the number of columns, use len(df.columns) or df.shape[1].\nTo get a certain column, we use the column name as key:\ncol0 = df[\u0026#39;name\u0026#39;] # col0 is Pandas Series object df[[\u0026#39;c1\u0026#39;, \u0026#39;c2\u0026#39;]] # to get multiple columns from dataframe print(col0.tolist()) # use tolist() method to make a list The tolist() method in the above code convert Pandas Series to plain Python list. If the csv file does not have a header, you can also use column index to access a certain column. For example, to get column 0, you can use:\ndf[0].values (this is numpy array) df[0].tolist() (plain Python list) To access a certain row, we can use the loc method with the row number.\nrow0 = df.loc[0] # row0 is Pandas Series object df.loc[0].values # a numpy array print(row0.tolist()) # use tolist() method to make a list To get the whole dataframe as a numpy ndarray, you can use df.values.\nWrite CSV files # Use the builtin CSV writer # In order to write to files in CSV format, we build a CSV writer, then write to a file using this writer. Here is a simple example:\nimport csv lines = [[\u0026#39;Bob\u0026#39;, \u0026#39;male\u0026#39;, \u0026#39;27\u0026#39;], [\u0026#39;Smith\u0026#39;, \u0026#39;male\u0026#39;, \u0026#39;26\u0026#39;], [\u0026#39;Alice\u0026#39;, \u0026#39;female\u0026#39;, \u0026#39;26\u0026#39;]] header = [\u0026#39;name\u0026#39;, \u0026#39;gender\u0026#39;, \u0026#39;age\u0026#39;] with open(\u0026#34;test.csv\u0026#34;, \u0026#34;w\u0026#34;, newline=\u0026#39;\u0026#39;) as f: writer = csv.writer(f, delimiter=\u0026#39;,\u0026#39;) writer.writerow(header) # write the header # write the actual content line by line for l in lines: writer.writerow(l) # or we can write in a whole # writer.writerows(lines) In the above code snippet, the newline parameter inside the open method is important. If you do not use newline='', there will an extra blank line after each line on Windows platform. The parameter delimiter is used to denote the delimiter between different columns.\nUse pandas # Another way to generate csv files is to use to_csv() from pandas, which is easier to use. Here is an example using pandas:\nimport pandas as pd lines = [[\u0026#39;Bob\u0026#39;, \u0026#39;male\u0026#39;, \u0026#39;27\u0026#39;], [\u0026#39;Smith\u0026#39;, \u0026#39;male\u0026#39;, \u0026#39;26\u0026#39;], [\u0026#39;Alice\u0026#39;, \u0026#39;female\u0026#39;, \u0026#39;26\u0026#39;]] header = [\u0026#39;name\u0026#39;, \u0026#39;gender\u0026#39;, \u0026#39;age\u0026#39;] new_df = pd.DataFrame(data=lines, columns=header) new_fname = \u0026#34;test.csv\u0026#34; new_df.to_csv(new_fname, sep=\u0026#34;,\u0026#34;, index=False) The parameter index=False disable adding row index to each row, which is often desired. sep is used to change the separation character between columns.\nReferences # Indexing and selecting data in Pandas Get the number of rows or columns in dataframe ","date":"13 May 2018","externalUrl":null,"permalink":"/2018/05/13/read-write-csv-file-with-header/","section":"Posts","summary":"update log 2022-09-30: change order of read and write section; other small fixes.\nIn this post, I will share the most convenient way to read and write CSV files (with or w/o headers) in Python.\nRead CSV files # Use the builtin CSV module # Python has a built-in CSV module that deals with CSV files. CSV module provides a CSV reader, which we can use to read CSV files.","title":"How to Read and Write CSV Files in Python","type":"posts"},{"content":"ä»Šå¤©æ˜¯ 5 æœˆ 12 æ—¥ï¼Œå¯¹äº 2008 å¹´ä»¥åçš„ä¸­å›½äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¥å­ï¼šåå¹´å‰çš„ä»Šå¤©ï¼Œå››å·çœæ±¶å·å¿ç­‰åŒºåŸŸå‘ç”Ÿäº† 8 çº§å¤§åœ°éœ‡ï¼Œé€ æˆäº†é‡å¤§çš„ç”Ÿå‘½æŸå¤±ä¸ä¼¤ç—›ã€‚ä»Šå¤©ä¹Ÿæ¥å†™ä¸€ä¸‹æˆ‘ä¸ªäººå¯¹åœ°éœ‡çš„è®°å¿†ä¸ææƒ§ã€‚\n5 æœˆ 12 æ—¥åœ°éœ‡é‚£æ—¶ï¼Œæˆ‘ä»¬åˆšåˆšå¼€å§‹ä¸‹åˆçš„è¯¾ï¼Œæ•™å®¤è½»å¾®æ‘‡æ™ƒï¼Œæœ‰äººå–Šï¼šâ€œåœ°éœ‡å•¦ï¼â€æˆ‘å°±æƒŠæ…Œåœ°è·Ÿç€å¤§å®¶ä¸€èµ·è·‘å‡ºäº†æ•™å®¤ï¼Œæ¥åˆ°äº†æ“åœºä¸Šï¼Œè…¿éƒ½æ˜¯é¢¤æŠ–çš„ã€‚ç„¶åæˆ‘ä»¬å¾ˆå¿«å°±çŸ¥é“äº†ï¼Œæ˜¯å››å·çš„æ±¶å·å‘ç”Ÿäº†å¤§åœ°éœ‡ï¼Œæˆ‘ä»¬å±±è¥¿å¹¶æ²¡æœ‰å¤ªå¤§çš„æŸå¤±ã€‚æ­¤åå‡ å¤©ä¼¼ä¹æ¢å¤äº†å¹³é™ï¼Œåˆ°åæ¥å­¦æ ¡è¿˜ä¸“é—¨ç»„ç»‡å¤§å®¶è¿›è¡Œé˜²éœ‡æ¼”ç»ƒï¼Œè™½ç„¶ä¸çŸ¥é“è¿™æ ·çš„æ¼”ç»ƒæœ‰æ²¡æœ‰ä½œç”¨ã€‚\nåœ°éœ‡åçš„ä¸€ä¸ªå‘¨æœ«ï¼Œå‘ç”Ÿäº†ä¸€æ¬¡è¾ƒå¤§çš„ä½™éœ‡ï¼Œæˆ‘ä»¬åœ¨å­¦æ ¡ä¹Ÿæ„Ÿå—åˆ°äº†ã€‚æ­¤åå¤§å®¶ä¼¼ä¹è°£ä¼ è¿åŸä¹Ÿä¼šå‘ç”Ÿå¤§åœ°éœ‡ï¼Œäºæ˜¯åˆ°äº†æŸä¸€ä¸ªæ™šä¸Šï¼Œå·²ç»ç†„ç¯ç¡è§‰äº†ï¼Œä¸çŸ¥é“è°å–Šäº†ä¸€å£°â€œåœ°éœ‡äº†â€ï¼Œå®¿èˆåŒºçš„æ‰€æœ‰äººéƒ½è¢«å¸¦åŠ¨äº†èµ·æ¥ï¼Œå¤§å®¶å“å¾—é¡¾ä¸ä¸Šæ¢ä¸Šè¡£æœå°±è·‘å‡ºå®¿èˆï¼Œæ•´æ ‹æ¥¼å› ä¸ºå¤§é‡äººçš„å¿«é€Ÿè·‘åŠ¨ï¼Œå‘å‡ºâ€œè½°éš†éš†â€ä¸€èˆ¬çš„å·¨å“ï¼Œæ­¤åè¿™ç§å£°å“ç®€ç›´æˆäº†ä¸€ç§æ¢¦é­‡ï¼Œæ¯æ¬¡å¬åˆ°è¿™ç§ç±»ä¼¼çš„å£°å“ï¼Œæˆ‘æ€»ç–‘å¿ƒæ˜¯åœ°éœ‡äº†ï¼Œç²¾ç¥å¤„äºæåº¦ç´§å¼ ä¸å®³æ€•çš„çŠ¶æ€ï¼Œè¿™æ ·çš„æ¢¦é­‡ææ€•æ°¸è¿œä¹Ÿé™¤å»ä¸æ‰äº†ã€‚\næ­¤åå¤§å®¶éƒ½ç§¯æææ¬¾ï¼Œè¡¨ç°å‡ºæå¤§çš„çƒ­æƒ…ï¼ŒæŸäº›åŒå­¦ä¹Ÿå› ä¸ºä¸ç§¯æï¼Œå—åˆ°å¤§å®¶çš„è¾±éª‚ä¸æ‰¹è¯„ï¼Œæˆ‘è‡ªå·±æš—åœ°é‡Œå´ä¸åŒæ„è¿™æ ·çš„æ‰¹è¯„ï¼Œæˆ‘è‡³ä»Šä»è®¤ä¸ºæˆ‘çš„æƒ³æ³•æ˜¯å¯¹çš„ã€‚\n2008 å¹´ï¼Œæˆ‘ 17 å²ï¼Œå¯¹ä¸–ç•Œçš„è®¤è¯†è¿˜å¤ªå°‘ï¼Œæˆ‘ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªå­¦ç”Ÿã€‚å‡å¦‚å½“æ—¶ä½ é—®æˆ‘ï¼Œæˆ‘å…³å¿ƒåœ°éœ‡å—ï¼Œæˆ‘å¯èƒ½ä¼šå›ç­”ï¼Œä¹Ÿè®¸æœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹å…³å¿ƒå§ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå…³å¿ƒï¼Œæ¯•ç«Ÿç”Ÿæ´»çç¢æ˜¯æˆ‘æœ€å…³å¿ƒçš„ã€‚åˆ°äº†ä»Šå¤©ï¼Œæˆ‘ç«Ÿç„¶éƒ½ 27 å²äº†ï¼Œæˆ‘åˆçŸ¥é“äº†æ›´å¤šçš„ä»¥å‰ä¸çŸ¥é“çš„äº‹æƒ…ï¼Œæˆ‘æƒ³è¯´ï¼Œæœ‰äº›äº‹æˆ‘ä»¬ä¸åº”è¯¥å¿˜è®°ï¼Œæœ‰äº›äººæˆ‘ä»¬ä¹Ÿä¸åº”è¯¥å¿˜è®°ï¼å¦‚æœæˆ‘ä»¬å¿˜è®°ï¼Œæˆ‘ä»¬å°±æ˜¯ä¸€ä¸ªå¯è€»çš„æ°‘æ—ï¼ä¸€ä¸ªå¯è€»çš„æ°‘æ—ï¼Œæ˜¯æ²¡æœ‰ä¹Ÿä¸é…æœ‰å‰é€”çš„ã€‚\n","date":"12 May 2018","externalUrl":null,"permalink":"/2018/05/12/memory-of-wenchuan-earthquake/","section":"Posts","summary":"ä»Šå¤©æ˜¯ 5 æœˆ 12 æ—¥ï¼Œå¯¹äº 2008 å¹´ä»¥åçš„ä¸­å›½äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¥å­ï¼šåå¹´å‰çš„ä»Šå¤©ï¼Œå››å·çœæ±¶å·å¿ç­‰åŒºåŸŸå‘ç”Ÿäº† 8 çº§å¤§åœ°éœ‡ï¼Œé€ æˆäº†é‡å¤§çš„ç”Ÿå‘½æŸå¤±ä¸ä¼¤ç—›ã€‚","title":"å›å¿†æ±¶å·åœ°éœ‡","type":"posts"},{"content":"æœ¬æ–‡æ€»ç»“ä¸€äº›ä½¿ç”¨ Microsoft Word 2016 æ’°å†™è®ºæ–‡æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³åŠæ³•ã€‚\nWord å¦‚ä½•æ’å…¥åˆ†èŠ‚ç¬¦ï¼Ÿ # ã€Œåˆ†èŠ‚ç¬¦ã€æ˜¯ Word ä¸­ä¸€ä¸ªéå¸¸é‡è¦æ¦‚å¿µï¼Œå¾ˆå¤šè®¾ç½®éƒ½ä¼šæ¶‰åŠåˆ°åˆ†èŠ‚ç¬¦ã€‚åˆ†èŠ‚ç¬¦ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠæ–‡æ¡£ä»æŸå¤„åˆ†èŠ‚ï¼ˆèŠ‚çš„è‹±è¯­ä¸º sectionï¼‰çš„æ ‡å¿—ã€‚å¸¸ç”¨çš„åˆ†èŠ‚ç¬¦ç±»å‹æœ‰ã€Œä¸‹ä¸€é¡µã€ï¼ˆå³ä»å½“å‰ä½ç½®çš„ä¸‹ä¸€é¡µå¼€å§‹æ–°çš„ä¸€èŠ‚ï¼‰ï¼Œã€Œè¿ç»­ã€ï¼ˆå³ä»å½“å‰ä½ç½®å¼€å§‹æ–°çš„ä¸€èŠ‚ï¼‰ã€‚å…·ä½“å¦‚ä½•æ’å…¥åˆ†èŠ‚ç¬¦è§ä¸‹å›¾ï¼ˆä»¥æ’å…¥ã€Œä¸‹ä¸€é¡µã€åˆ†èŠ‚ç¬¦ä¸ºä¾‹ï¼‰ï¼š\nWord ä¸­å¦‚ä½•æ˜¾ç¤ºæ–‡ä¸­æ‰€æœ‰çš„æ§åˆ¶ç¬¦å·ï¼Œä¾‹å¦‚åˆ†é¡µç¬¦ï¼Œåˆ†èŠ‚ç¬¦ç­‰ï¼Ÿ # åœ¨ Word ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ†é¡µç¬¦ï¼Œåˆ†èŠ‚ç¬¦ç­‰æ§åˆ¶ç¬¦å·ï¼Œç”¨æˆ·æ˜¯çœ‹ä¸åˆ°çš„ï¼Œå¦‚æœä½ ä¸å°å¿ƒå¤šæ’å…¥äº†åˆ†èŠ‚ç¬¦ï¼Œå¯èƒ½ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œä½†æ˜¯å¾ˆéš¾æ‰¾å‡ºåŸå› ï¼Œå› æ­¤å»ºè®®æŠŠæ˜¾ç¤ºæ§åˆ¶ç¬¦å·çš„é€‰é¡¹æ‰“å¼€ï¼Œå¸®åŠ©ä½ äº†è§£æ–‡æ¡£ä¸­éƒ½æœ‰å“ªäº›å­—ç¬¦ã€‚\nå¦‚ä½•æ‰“å¼€è¿™ä¸ªé€‰é¡¹ï¼Ÿç‚¹å‡»ã€Œå¼€å§‹ã€é€‰é¡¹å¡ï¼Œç„¶åæ‰¾åˆ°ã€Œæ®µè½ã€éƒ¨åˆ†ï¼Œæ‰“å¼€ã€Œæ˜¾ç¤º/éšè—ç¼–è¾‘æ ‡è®°ã€é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾ï¼š\næˆ–è€…ä½¿ç”¨ Word æä¾›çš„å¿«æ·é”®ï¼ŒCtrl+* æ¥å¼€å¯æˆ–å…³é—­è¿™é¡¹åŠŸèƒ½ã€‚\nå¦‚ä½•åœ¨ç›®å½•éƒ¨åˆ†ä¸æ˜¾ç¤ºç›®å½•æœ¬èº«çš„é¡µç  # ä½ å¯èƒ½ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼šåœ¨ç›®å½•éƒ¨åˆ†ï¼Œç›®å½•æœ¬èº«ä½œä¸ºç¬¬ä¸€é¡¹æ˜¾ç¤ºåœ¨ä¸Šé¢ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚\né€šå¸¸æˆ‘ä»¬å¸Œæœ›ç›®å½•ç¬¬ä¸€é¡¹èƒ½ä»æ‘˜è¦å¼€å§‹ï¼Œä¸è¦åŒ…å«ç›®å½•è‡ªèº«ã€‚ä¹‹æ‰€ä»¥å‡ºç°ç›®å½•è‡ªèº«ï¼Œæ˜¯å› ä¸ºç›®å½•ä¹Ÿé‡‡ç”¨äº†ä¸€çº§æ ‡é¢˜çš„æ ·å¼ï¼Œå› æ­¤ç”Ÿæˆç›®å½•çš„æ—¶å€™ï¼ŒWord è‡ªåŠ¨æŠŠç›®å½•æœ¬èº«ä¹ŸåŠ å…¥äº†è¿›å»ã€‚æˆ‘ä»¬å¯ä»¥å…ˆæ¸…é™¤ç›®å½•çš„æ ¼å¼ï¼Œç„¶åå†æ‰‹åŠ¨æŠŠç›®å½•è®¾ç½®ä¸ºä¸€çº§æ ‡é¢˜è¦æ±‚çš„å­—ä½“ä»¥åŠå­—å·ï¼Œç„¶åå†æ›´æ–°ç›®å½•ï¼Œä½ ä¼šå‘ç°ç¬¬ä¸€é¡¹ä»æ‘˜è¦å¼€å§‹äº†ã€‚\næ¸…é™¤ç›®å½•æ ¼å¼å¾ˆç®€å•ï¼Œé¦–å…ˆé€‰ä¸­ç›®å½•ï¼Œåœ¨ã€Œå¼€å§‹ã€é€‰é¡¹å¡ä¸‹ï¼Œæ‰¾åˆ°ã€Œæ ·å¼ã€ï¼Œç„¶åç‚¹å‡»ä¸‹æ‹‰èœå•ï¼Œæ‰¾åˆ°ã€Œæ¸…é™¤æ ¼å¼ã€ï¼Œç‚¹å‡»å³å¯ï¼ˆè§ä¸‹å›¾ï¼‰ã€‚\nå¦‚ä½•æ›´æ–°ç›®å½•ï¼Ÿç‚¹å‡»ã€Œå¼•ç”¨ã€é€‰é¡¹å¡ï¼Œåœ¨ç›®å½•éƒ¨åˆ†ï¼Œç‚¹å‡»ã€Œæ›´æ–°ç›®å½•ã€ï¼Œç„¶åé€‰æ‹©ã€Œæ›´æ–°æ•´ä¸ªç›®å½•ã€å³å¯ï¼Œè§ä¸‹å›¾ï¼š\nå¦‚ä½•åœ¨ Word å·¦è¾¹æ˜¾ç¤ºå½“å‰æ–‡æ¡£çš„ç›®å½•å¯¼èˆªï¼Ÿ # åœ¨ Word æ–‡æ¡£å·¦è¾¹æ˜¾ç¤ºå½“å‰æ–‡æ¡£çš„ç»“æ„ï¼Œå¯ä»¥æ–¹ä¾¿è·³è½¬åˆ°æŸä¸€éƒ¨åˆ†ï¼Œä½œç”¨ç±»ä¼¼ PDF æ–‡ä»¶ä¸­çš„ä¹¦ç­¾åŠŸèƒ½ã€‚å¦‚ä½•å¼€å¯ï¼Ÿåœ¨ Word ä¸­ç‚¹å‡»ã€Œè§†å›¾ã€é€‰é¡¹å¡ï¼Œç„¶åæ‰¾åˆ°ã€Œæ˜¾ç¤ºã€ç›¸å…³çš„é€‰é¡¹ï¼Œé€‰ä¸­ã€Œå¯¼èˆªçª—å£ã€ï¼Œç›®å½•å°±ä¼šå‡ºç°åœ¨æ–‡æ¡£çš„å·¦è¾¹ï¼ˆå‰ææ˜¯ä½ å·²ç»æ­£ç¡®è®¾ç½®äº†å„çº§æ ‡é¢˜ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå¦‚ä½•ä»æ‘˜è¦éƒ¨åˆ†å¼€å§‹æ–‡æ¡£çš„é¡µç ï¼Ÿ # æ‘˜è¦ä¹‹å‰ä¸€èˆ¬ä¸ºç›®å½•ï¼ŒæŠŠå…‰æ ‡ç½®äºç›®å½•é¡µæœ€åä¸€é¡µï¼ˆå‡è®¾ç›®å½•æœ‰å¤šé¡µï¼‰ï¼Œç„¶åæ’å…¥ä¸€ä¸ªç±»å‹ä¸ºã€Œä¸‹ä¸€é¡µã€åˆ†èŠ‚ç¬¦ï¼Œä½ ä¼šçœ‹åˆ°ç›®å½•é¡µæœ€åä¸€é¡µå¤šäº†ä¸€ä¸ªã€Œåˆ†èŠ‚ç¬¦ã€çš„æ ‡å¿—ï¼š\nç„¶åå¦‚æœæ­¤æ—¶åŒå‡»è¯¥é¡µçš„é¡µè„šï¼ŒWord ä¼šæç¤ºæ–‡æ¡£æ¯ä¸€é¡µä½äºå“ªä¸€èŠ‚ï¼Œä½ ä¼šå‘ç°ç›®å½•é¡µä¸æ­£æ–‡çš„æ‘˜è¦å¤„äºä¸åŒçš„èŠ‚ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„æ•ˆæœï¼Œè§ä¸‹å›¾ï¼Œ\nç„¶åæŠŠå…‰æ ‡ç§»åˆ°ä¸‹ä¸€èŠ‚é¡µè„šçš„ä½ç½®ï¼Œå•å‡»ã€Œè®¾è®¡ã€é€‰é¡¹å¡ï¼Œæ‰¾åˆ°ã€Œé¡µçœ‰ä¸é¡µè„šã€éƒ¨åˆ†ï¼Œç‚¹å‡»ã€Œé¡µç ã€ä¸‹æ‹‰èœå•ï¼Œ\nç„¶ååœ¨èœå•ä¸­é€‰æ‹©ã€Œè®¾ç½®é¡µç æ ¼å¼ã€ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä½¿ç”¨ä¸‹é¢çš„è®¾ç½®ï¼Œ\nå¦‚æœç›®å½•é¡µä»¥åŠç›®å½•é¡µä¹‹å‰çš„éƒ¨åˆ†æœ‰é¡µç å‡ºç°ï¼Œç›´æ¥æŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç›®å½•é¡µé¡µè„šï¼Œåˆ æ‰é‚£äº›é¡µç å³å¯ï¼Œè¿™æ ·è®ºæ–‡å°±æ˜¯ä»æ‘˜è¦å¼€å§‹ç¼–ç äº†ï¼Œèµ·å§‹é¡µç ä¸º 1ã€‚\nå¦‚ä½•ä½¿å¾—è¡¨æ ¼çš„å®½åº¦ç­‰äºé¡µé¢çš„å®½åº¦ # åœ¨ Word ä¸­ï¼Œæœ‰çš„è¡¨æ ¼å®½åº¦å¾ˆçª„ï¼Œå¦‚ä½•ä½¿å¾—è¡¨æ ¼çš„å®½åº¦ç­‰äºå½“å‰ Word é¡µé¢çš„å®½åº¦å‘¢ï¼Ÿé¦–å…ˆé€‰ä¸­æ•´ä¸ªè¡¨æ ¼ï¼Œç„¶åå•å‡»ã€Œå¸ƒå±€ã€é€‰é¡¹å¡ï¼Œæ‰¾åˆ°ã€Œå•å…ƒæ ¼å¤§å°ã€æ ç›®ï¼Œç‚¹å‡»ã€Œè‡ªåŠ¨è°ƒæ•´ã€ä¸‹æ‹‰èœå•ï¼Œç„¶åé€‰æ‹©ã€Œæ ¹æ®çª—å£è‡ªåŠ¨è°ƒæ•´è¡¨æ ¼ã€é€‰é¡¹ï¼Œè§ä¸‹å›¾\nå¦‚ä½•æ’å…¥å…¬å¼ # Word ä¸­è‡ªå¸¦çš„æ’å…¥å…¬å¼åŠŸèƒ½ç®€ç›´æ˜¯å™©æ¢¦ï¼Œæ•ˆç‡æå…¶ä½ä¸‹ã€‚ä¸€ç§è§£å†³çš„åŠæ³•å°±æ˜¯å®‰è£…ç¬¬ä¸‰æ–¹çš„å…¬å¼è¾…åŠ©æ’ä»¶ï¼Œä¾‹å¦‚ MathTypeï¼ˆå›½å¤–ï¼‰ï¼Œæˆ–è€… AxMathï¼ˆå›½å†…ï¼‰ï¼Œè¿™ä¸¤æ¬¾è½¯ä»¶éƒ½æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯åè€…ä»·æ ¼æ›´ä½ï¼Œå¹¶ä¸”çœ‹èµ·æ¥åšçš„æ›´ç¾è§‚ï¼Œå¯ä»¥è€ƒè™‘è´­ä¹°ã€‚å¦å¤–ä¸€ä¸ªéå¸¸ä¸é”™çš„å…è´¹æ’ä»¶ï¼Œå«åš texswordï¼Œå¯ä»¥ç›´æ¥åœ¨å…¶ä¸­ä¹¦å†™ LaTeX å…¬å¼ï¼Œç”Ÿæˆå›¾ç‰‡ï¼Œæ’å…¥åˆ° Word ä¸­ï¼Œå…·ä½“å®‰è£…ä½¿ç”¨å‚è§è¿™é‡Œã€‚\nå¦‚æœå¯¹ LaTeX æ¯”è¾ƒç†Ÿæ‚‰1ï¼Œè¿˜å¯ä»¥å®‰è£…Pandocï¼Œ\nPandoc æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ–‡ä»¶æ ¼å¼è½¬æ¢å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæŠŠ Markdown æ–‡ä»¶æ ¼å¼è½¬ä¸º Word çš„ docx æ ¼å¼ã€‚é¦–å…ˆæ–°å»ºä¸€ä¸ªåç¼€ä¸º md çš„æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯ Markdown æ ¼å¼çš„æ–‡ä»¶ï¼‰ï¼Œåœ¨é‡Œé¢ä¹¦å†™æ•°å­¦å…¬å¼ï¼Œç„¶ååˆ©ç”¨ Pandoc æŠŠè¯¥ md æ–‡ä»¶è½¬ä¸º Word çš„ docx æ ¼å¼ï¼Œ\n# åˆ©ç”¨ Pandoc æŠŠ md æ–‡ä»¶è½¬ä¸º docx æ–‡ä»¶ pandoc equation.md -t equation.docx æŠŠç”Ÿæˆçš„ equation.docx æ–‡ä»¶ä¸­çš„å…¬å¼æ‹·è´åˆ°è¦ä½¿ç”¨å…¬å¼çš„æ–‡æ¡£ä¸­å³å¯ã€‚\nå¦‚ä½•åˆ é™¤é¡µçœ‰æ–‡å­—ä¸‹é¢çš„æ¨ªçº¿ # é¦–å…ˆï¼ŒåŒå‡»é¡µçœ‰åŒºåŸŸï¼Œè¿›å…¥é¡µçœ‰é¡µè„šç¼–è¾‘æ¨¡å¼ï¼Œç„¶åé€‰ä¸­é¡µçœ‰æ–‡å­—ï¼Œç‚¹å‡»ã€Œå¼€å§‹ã€é€‰é¡¹å¡ï¼Œåœ¨æ®µè½éƒ¨åˆ†ï¼Œæ‰¾åˆ°ã€Œè¾¹æ¡†ã€é€‰é¡¹ï¼Œç„¶åé€‰æ‹©ã€Œæ— æ¡†çº¿ã€ï¼Œè¿™æ˜¯é¡µçœ‰æ–‡å­—ä¸‹é¢çš„æ¨ªçº¿å°±ä¼šæ¶ˆå¤±ã€‚æ³¨æ„ä¸€å®šè¦é€‰ä¸­é¡µçœ‰æ–‡å­—ï¼Œè§ä¸‹æ–¹å›¾ç‰‡ã€‚\nå‚è€ƒ # å¦‚ä½•åœ¨ç›®å½•é¡µä¸æ˜¾ç¤ºç›®å½•æœ¬èº«çš„é¡µç  Word æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦ å»é™¤é¡µçœ‰æ¨ªçº¿ ä¸ç†Ÿæ‚‰çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹ LaTex è¾“å…¥å…¬å¼çš„æ•™ç¨‹ï¼Œè¿˜æœ‰è¿™ä¸ª LaTeX ä¸­æ•°å­¦å…¬å¼è¾“å…¥å‘½ä»¤åˆ—è¡¨ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"10 May 2018","externalUrl":null,"permalink":"/2018/05/10/write-paper-word-issues/","section":"Posts","summary":"æœ¬æ–‡æ€»ç»“ä¸€äº›ä½¿ç”¨ Microsoft Word 2016 æ’°å†™è®ºæ–‡æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ä»¥åŠè§£å†³åŠæ³•ã€‚ Word å¦‚ä½•æ’å…¥åˆ†èŠ‚ç¬¦ï¼Ÿ # ã€Œåˆ†èŠ‚ç¬¦ã€æ˜¯ Word ä¸­ä¸€ä¸ªéå¸¸é‡è¦æ¦‚å¿µï¼Œå¾ˆå¤šè®¾ç½®éƒ½ä¼šæ¶‰åŠåˆ°åˆ†èŠ‚ç¬¦ã€‚","title":"ä½¿ç”¨ Microsoft Word æ’°å†™è®ºæ–‡å¸¸è§é—®é¢˜æ€»ç»“","type":"posts"},{"content":"Today I make my first ever GitHub pull request to the great Hexo theme NexT. I will summarize how to make a pull request in following post.\nCreating a fork # According to GitHub documentation:\nIf you don\u0026rsquo;t have write access to the repository where you\u0026rsquo;d like to create a pull request, you must create a fork, or copy, of the repository first.\nIf you do not have write access to the repository you want to contribute to, the first step is to fork it. A fork means a complete copy of the original repository. But now you can do whatever you want on the fork without permission from the maintainer of the original repo.\nIt is easy to fork a public repository. Take the theme NexT for an example. Go to theme NexT\u0026rsquo;s GitHub repo, and click the \u0026ldquo;fork\u0026rdquo; button on the upper right to fork it.\nNow I have a forked repo of the original repo. The address of the forked repo is https://github.com/jdhao/hexo-theme-next.\nCreate a local clone of your forked repo # If you want to start working on your forked repo, first you need to create a local clone the forked repo. Go to the forked repo in GitHub, and copy its address (see image below).\nOn the command line, use the following command to clone the forked repo:\ngit clone https://github.com/jdhao/hexo-theme-next.git # replace this address with your actual address After a while, the forked remote repo will be copied to your local computer. The folder name is hexo-theme-next.\nAdd original remote repo as one of your remote # In order to communicate with the original remote repo, we need to add it as one of our remote repo. Before that, your remote repo is only the forked remote repo. Use the following command to confirm that:\ncd hexo-theme-next \u0026amp;\u0026amp; git remote -v You will see something like:\norigin https://github.com/jdhao/hexo-theme-next.git (fetch) origin https://github.com/jdhao/hexo-theme-next.git (push)\nIn the above output, origin means your forked remote repo. Then go to the original remote and copy its address, just as we do for the forked remote. We then add the original remote as upstream:\ngit remote add upstream https://github.com/theme-next/hexo-theme-next.git Now, using git remote -v again, you will see that original repo is also shown in your remote list:\norigin https://github.com/jdhao/hexo-theme-next.git (fetch) origin https://github.com/jdhao/hexo-theme-next.git (push) upstream https://github.com/theme-next/hexo-theme-next.git (fetch) upstream https://github.com/theme-next/hexo-theme-next.git (push)\nMake changes # Now you can make changes in your local repo. It is good practice to only change one feature at a time and commit it. After you have finished making changes to your local repo, you should commit and push it to your forked remote.\ngit add . git commit -m \u0026#34;change feature xxx\u0026#34; git push origin master # your forked remote will be updated now Make your pull request # Now you can make your pull request. Go to the original repo, and click \u0026ldquo;New pull request\u0026rdquo; button,\nOn the Compare page, click \u0026ldquo;compare across forks\u0026rdquo;, you will see something like the following\nOn the left, there is \u0026ldquo;base fork\u0026rdquo;. On the right, there is \u0026ldquo;head fork\u0026rdquo;. Click the pull-down list to choose the original remote as base fork and choose your forked repo as head fork.\nThen give a title to your pull request. You should also create a description according to the repo\u0026rsquo;s pull request template. Most serious projects have a pull request template. Make sure your pull request description follows their guidelines.\nFinally, click the button \u0026ldquo;create pull request\u0026rdquo; on the bottom of the page to finish your pull request. Stay patient and wait for the original repo owner to review your pull request!\nHow to update your pull request # As is often the case, your pull request may need some polishing before it can be merged. So how do we update our pull request with new changes? It turns out that git can do that for us \u0026ldquo;magically\u0026rdquo;!\nYou just need to make modifications on your local branch, commit the changes and push it to your forked remote. Now go to your pull request page, you will find that the new commit will appear at the bottom of this pull request discussion (see image below for an example).\nHow to sync your master with original repository # A lot of people contribute to an open source project. After you have forked a project, other people may have committed several changes to the original repo\u0026rsquo;s master branch. How to keep your forked remote master up to date with the original repo?\nYou can fetch the changes from the upstream master and then merge the changes with your origin master:\ngit fetch upstream # fetch latest changes in upstream to your local git checkout master # make sure that you are on local master git merge upstream/master # merge changes with your local master git push origin master # push changes to your forked remote master In the git merge stage, there may be some conflict between your master and upstream master. In order to merge, you have to resolve the conflicts. See here as a start on how to handle merge conflicts.\nReferences # How to fork a repo Create a pull request, general guide Create a pull request from a fork Contribute to a project How to update a pull request. How to update a fork update a pull request ","date":"6 May 2018","externalUrl":null,"permalink":"/2018/05/06/first-github-pull-request/","section":"Posts","summary":"Today I make my first ever GitHub pull request to the great Hexo theme NexT. I will summarize how to make a pull request in following post.\nCreating a fork # According to GitHub documentation:\nIf you don\u0026rsquo;t have write access to the repository where you\u0026rsquo;d like to create a pull request, you must create a fork, or copy, of the repository first.\nIf you do not have write access to the repository you want to contribute to, the first step is to fork it.","title":"A Tutorial on Creating GitHub Pull Requests","type":"posts"},{"content":"æœ€è¿‘åœ¨ä½¿ç”¨ 1.9.19 ç‰ˆæœ¬çš„ MX æ’­æ”¾å™¨æ’­æ”¾è§†é¢‘çš„æ—¶å€™ï¼Œæç¤ºä¸æ”¯æŒ E-AC-3 ï¼ˆå…¨ç§°ä¸º Enhanced Audio Codec 3ï¼Œæ˜¯AC-3 çš„å‡çº§ç‰ˆï¼‰éŸ³é¢‘æ ¼å¼ã€‚ç¨å¾®æŸ¥äº†ä¸€ä¸‹ï¼ŒåŸå› æ˜¯ç”±äºç‰ˆæƒé—®é¢˜ï¼Œæ–°ç‰ˆçš„ MX æ’­æ”¾å™¨é»˜è®¤ä¸åŒ…å« AC-3 è§£ç å™¨ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±ä¸‹è½½å®‰è£…è§£ç å™¨ã€‚ä¸‹é¢ç®€å•ä»‹ç»å¦‚ä½•åŠ å…¥å¯¹ AC-3 éŸ³é¢‘çš„æ”¯æŒã€‚\nç¡®å®šè‡ªå·±æ‰‹æœºçš„å¹³å° # ç”±äºæ‰‹æœºå¹³å°çš„ä¸åŒï¼ŒAC-3 çš„è§£ç å™¨ä¹Ÿä¸åŒï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦æ˜ç¡®è‡ªå·±çš„å®‰å“æ‰‹æœºæ˜¯ä»€ä¹ˆå¹³å°ï¼Œä¾‹å¦‚ tegra2, tegra3, x86, neon ç­‰ã€‚æ‰“å¼€ MX æ’­æ”¾å™¨ï¼Œç„¶åä¾æ¬¡æ‰“å¼€å³ä¸Šè§’çš„ å¸®åŠ© -\u0026gt; å…³äº èœå•ï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±çš„æ‰‹æœºå¹³å°ï¼Œä¾‹å¦‚æˆ‘çš„æ‰‹æœºæ˜¯ ARMv7 NEON ã€‚\nä¸‹è½½ç›¸åº”çš„è§£ç å™¨ # æ ¹æ®è‡ªå·±çš„å¹³å°ï¼Œä¸‹è½½å¯¹åº”è¯¥å¹³å°çš„è§£ç å™¨ï¼Œå…·ä½“ä¸‹è½½åœ°å€ä¸º XDA è®ºå›ï¼Œé€‰æ‹©åˆé€‚è‡ªå·±å¹³å°çš„ä¸‹è½½å³å¯ï¼Œå¦‚æœå®åœ¨ä¸ç¡®å®šè‡ªå·±çš„å¹³å°ï¼Œå°±ä¸‹è½½ aio ç‰ˆæœ¬çš„è§£ç å™¨ã€‚\nå®‰è£…è§£ç å™¨ # ä¸‹è½½å®Œè§£ç å™¨ä»¥åï¼Œè¿›å…¥ è®¾ç½® -\u0026gt; è§£ç å™¨ ç•Œé¢ï¼Œåœ¨è¯¥é¡µé¢çš„æœ€ä¸‹é¢ã€Œå¸¸è§„ã€ä¸€æ ï¼Œç‚¹å‡»ã€Œè‡ªå®šä¹‰ç¼–è§£ç å™¨ã€ï¼Œç„¶åæ‰¾åˆ°åˆšæ‰ä¸‹è½½çš„ zip æ–‡ä»¶ï¼Œé€‰ä¸­ã€‚è½¯ä»¶ä¼šæç¤ºï¼š\né‡å¯åº”ç”¨ä»¥é‡æ–°è½½å…¥ç¼–è§£ç å™¨\nç‚¹å‡»ã€Œç¡®å®šã€ï¼Œç„¶åé‡å¯ MX æ’­æ”¾å™¨ã€‚\nç¡®è®¤è§£ç å™¨å®‰è£…æˆåŠŸ # é‡å¯è¿›å…¥ MX æ’­æ”¾å™¨ï¼Œå†æ¬¡è¿›å…¥å…³äºé¡µé¢ï¼Œåœ¨æ‰‹æœºç‰ˆæœ¬æ˜¾ç¤ºçš„åœ°æ–¹ä¼šå¢åŠ æç¤ºï¼š\nè‡ªå®šä¹‰ç¼–è§£ç å™¨ 1.9.18.2\nè¯´æ˜ç¼–ç å™¨å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œç°åœ¨å°±å¯ä»¥ä½¿ç”¨ MX æ’­æ”¾å™¨æ’­æ”¾å«æœ‰ AC-3 éŸ³é¢‘çš„è§†é¢‘æ–‡ä»¶äº†ã€‚\nå‚è€ƒèµ„æ–™ # https://forum.xda-developers.com/apps/mx-player/mx-player-custom-codec-dts-support-t2156254 https://www.3nions.com/fix-ac3-audio-format-not-supported-in-mx-player/ ","date":"24 April 2018","externalUrl":null,"permalink":"/2018/04/24/mxplayer-ac3-codec-support/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘åœ¨ä½¿ç”¨ 1.9.19 ç‰ˆæœ¬çš„ \u003ca href=\"http://mx.j2inter.com/\" target=\"_blank\"\u003eMX æ’­æ”¾å™¨\u003c/a\u003eæ’­æ”¾è§†é¢‘çš„æ—¶å€™ï¼Œæç¤ºä¸æ”¯æŒ E-AC-3 ï¼ˆå…¨ç§°ä¸º Enhanced Audio Codec 3ï¼Œæ˜¯\u003ca href=\"https://en.wikipedia.org/wiki/Dolby_Digital\" target=\"_blank\"\u003eAC-3\u003c/a\u003e çš„å‡çº§ç‰ˆï¼‰éŸ³é¢‘æ ¼å¼ã€‚ç¨å¾®æŸ¥äº†ä¸€ä¸‹ï¼ŒåŸå› æ˜¯ç”±äºç‰ˆæƒé—®é¢˜ï¼Œæ–°ç‰ˆçš„ MX æ’­æ”¾å™¨é»˜è®¤ä¸åŒ…å« AC-3 è§£ç å™¨ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±ä¸‹è½½å®‰è£…è§£ç å™¨ã€‚ä¸‹é¢ç®€å•ä»‹ç»å¦‚ä½•åŠ å…¥å¯¹ AC-3 éŸ³é¢‘çš„æ”¯æŒã€‚\u003c/p\u003e","title":"å¦‚ä½•åœ¨æ–°ç‰ˆ MX æ’­æ”¾å™¨ä¸­åŠ å…¥å¯¹ AC-3 éŸ³é¢‘æ”¯æŒ","type":"posts"},{"content":"åˆšè¯»å®Œã€Šä¼—ç—…ä¹‹ç‹ï¼šç™Œç—‡ä¼ ã€‹ï¼ˆè‹±æ–‡åå­—å«ã€ŠThe emperor of all maladies: a biography of cancerã€‹ï¼‰ï¼Œâ€œæ„å¤–â€å‘ç°è¿™æœ¬ä¹¦æ˜¯ä¸€æœ¬çš„èåˆç§‘æ™®ä¸å†å²çš„ç²¾å“å›¾ä¹¦ã€‚\nè¿™æœ¬ä¹¦æ˜¯ä¸€ä½åä¸ºã€Œæ‚‰è¾¾å¤šâ€¢ç©†å…‹å‰ã€çš„å°åº¦è£”è‚¿ç˜¤åŒ»ç”Ÿå†™çš„ï¼Œè¯¥ä¹¦æ›¾è·å¾— 2011 å¹´æ™®åˆ©ç­–éè™šæ„å°è¯´å¥–ã€‚ä¸»è¦è®²è¿°äº†äººç±»å¯¹æŠ—ç™Œç—‡çš„å†å²ï¼Œä»è’™æ˜§æ—¶ä»£çš„ç²—æš´æ‰‹æ®µï¼Œåˆ°ç°ä»£ç§‘å­¦ä¸€ç‚¹ä¸€ç‚¹æ­å¼€ç™Œç—‡çš„æœ¬è´¨ï¼Œä½¿ç”¨åŸºå› æŠ€æœ¯æ²»ç–—ç™Œç—‡ï¼Œå…¶é—´ä¹Ÿä¸²è”äº†å¾ˆå¤šæœ‰æœºåŒ–å­¦ï¼ŒåŸºå› ï¼Œç–¾ç—…ç­‰æ¦‚å¿µçš„ç§‘æ™®ï¼Œä»‹ç»äº†å¾ˆå¤šå‘ç°èƒŒåçš„æ•…äº‹ï¼Œä¾‹å¦‚å¹½é—¨èºæ†èŒçš„å‘ç°ï¼Œè‰¾æ»‹ç—…çš„å‡ºç°ç­‰ã€‚åˆçœ‹çš„æ—¶å€™ï¼Œè§‰å¾—è¿˜æœ‰ä¸€äº›æ¯ç‡¥ï¼Œçœ‹äº†ä¸€æ®µæ—¶é—´ï¼Œè§‰å¾—è¿™æœ¬ä¹¦å†™çš„å¤ªç²¾å½©äº†ï¼Œåƒå°è¯´ä¸€æ ·è¡æ°”å›è‚ ï¼Œæœ‰ä¸€ç§æƒŠå¿ƒåŠ¨é­„çš„æ°”è´¨ï¼Œèåˆæ•…äº‹æ€§ä¸ç§‘æ™®æ€§ï¼Œå¸å¼•æˆ‘è¯»ä¸‹å»ã€‚\nçœ‹äº†æ­¤ä¹¦ï¼Œæœ‰ä¸€äº›æƒ³æ³•ã€‚ç§‘å­¦ç ”ç©¶å¹¶ä¸æ˜¯å…‰é è®¡åˆ’å°±èƒ½è®¡åˆ’å‡ºæ¥çš„ï¼Œå­˜åœ¨ä¸€å®šå¶ç„¶çš„æˆåˆ†ï¼Œæœ‰ä¸€äº›æŠ—ç™Œçš„åŒ–ç–—è¯ç‰©çš„å‘ç°ï¼Œå°±æ˜¯æ„å¤–çš„å‘ç°ï¼Œä¾‹å¦‚èŠ¥å­æ°”ï¼Œæœ¬æ¥æ˜¯ç”¨äºæˆ˜äº‰çš„åŒ–å­¦æ­¦å™¨ï¼Œç§‘å­¦å®¶æ„å¤–å‘ç°èŠ¥å­æ°”å¯ä»¥é™ä½è¡€æ¶²ä¸­ç™½ç»†èƒçš„æ•°é‡ï¼Œäºæ˜¯èŠ¥å­æ°”è¢«ç”¨æ¥æ²»ç–—ç™Œç—‡ã€‚æœ‰æ—¶å€™ç§‘ç ”å¹¶ä¸æ˜¯èƒ½å¤Ÿè®¡åˆ’å‡ºæ¥çš„ï¼Œé¢å¯¹æœªçŸ¥ï¼Œéœ€è¦ä¸åŒçš„å°è¯•ï¼Œæˆ‘ä»¬åº”è¯¥å®¹è®¸ç§‘ç ”äººå‘˜è¿›è¡Œå°è¯•ï¼Œè€Œä¸æ˜¯äº‹å…ˆè®©ä»–ä»¬å®šå¥½æ‰€è°“çš„è®¡åˆ’ï¼Œè¿™æ ·å‡ºæ¥çš„ç§‘ç ”éƒ½æ˜¯ä»€ä¹ˆç§‘ç ”ï¼Ÿ\nå¦å¤–ï¼Œç§‘å­¦ç ”ç©¶éœ€è¦ç§‘å­¦çš„æ–¹æ³•ï¼Œåœ¨ä¹¦ä¸­ï¼Œä½œè€…ä¹Ÿå¤šæ¬¡å¼ºè°ƒäº†è¿™ä¸ªé—®é¢˜ï¼Œæ— è®ºæ˜¯è¯„ä¼°å…¨å›½èŒƒå›´æ²»ç–—ç™Œç—‡çš„å„ç§æªæ–½æ˜¯å¦æœ‰æ•ˆï¼Œè¿˜æ˜¯è¯„ä¼°æŸç§ç‰©è´¨æ˜¯å¦å…·æœ‰è‡´ç™Œæ€§ï¼ŒæŠ‘æˆ–æ˜¯æŸç§è¯æ˜¯å¦å¯¹ç™Œç—‡æ²»ç–—æœ‰æ˜ç¡®çš„ä½œç”¨ï¼Œéƒ½éœ€è¦å®¢è§‚ç§‘å­¦çš„è¯„ä¼°ã€‚ç§‘å­¦å·¥ä½œè€…éœ€è¦å¯¹æœ€æ–°çš„ç ”ç©¶ä»¥åŠç›¸å…³é¢†åŸŸçš„ç ”ç©¶éƒ½éå¸¸æ•é”ï¼Œæœ‰å¯èƒ½å¿«é€Ÿæ‰¾åˆ°è§£å†³å½“å‰é—®é¢˜çš„æ–°æ€è·¯ã€‚åŒæ—¶ï¼Œä¸åŒçš„å­¦ç§‘ï¼Œå¦‚ç™Œç—‡çš„ç†è®ºç ”ç©¶ï¼Œç™Œç—‡çš„å®é™…æ²»ç–—ï¼ŒåŸºå› ç§‘å­¦ï¼Œç”šè‡³ç‰©ç†ï¼ŒåŒ–å­¦ä¸“å®¶ï¼Œè¿˜æœ‰æ•°å­¦å®¶ï¼Œè®¡ç®—æœºç§‘å­¦å®¶éœ€è¦åˆåŠ›ç ”ç©¶ç™Œç—‡çš„æ²»ç–—ã€‚\næœ€åˆï¼Œå½“ç ”ç©¶äººå‘˜ä¸ä¸´åºŠåŒ»ç”Ÿä¸æ¸…æ¥šç™Œç—‡çš„è‡´ç—…åŸå› æ—¶ï¼Œä¸€äº›å¤–ç§‘åŒ»ç”Ÿå¸Œæœ›é€šè¿‡å¤§é¢ç§¯åˆ‡é™¤è‚¿ç˜¤ä»¥åŠå‘¨è¾¹çš„äººä½“ç»„ç»‡ï¼Œæ¥é˜»æ­¢ç™Œç—‡çš„å¤å‘ï¼Œæœ‰çš„åŒ»ç”Ÿè¿›è¡Œçš„åˆ‡é™¤æ‰‹æœ¯ç”šè‡³å·²ç»åˆ°äº†ç–¯ç‹‚çš„ç¨‹åº¦ï¼Œæœ€æ˜æ˜¾çš„ä¾‹å­å°±æ˜¯å¯¹ä¹³è…ºç™Œçš„æ²»ç–—ã€‚ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œè¿™ç§ç–¯ç‹‚çš„åˆ‡é™¤æ‰‹æœ¯å¹¶ä¸èƒ½é˜»æ­¢ç™Œç—‡çš„åå¼¹ã€‚è¿™äº›åŒ»ç”Ÿä¸æ˜ç™½ï¼Œç™Œç—‡å¯ä»¥å±€éƒ¨ç™Œç—‡å’Œè½¬ç§»æ€§ç™Œç—‡ï¼Œå¦‚æœç™Œç—‡ç»†èƒå·²ç»è½¬ç§»åˆ°å…¶ä»–åœ°æ–¹ï¼Œæ— è®ºå¤šç–¯ç‹‚çš„æ‰‹æœ¯åˆ‡é™¤ï¼Œéƒ½æ˜¯æ— æ³•æ²»æ„ˆç™Œç—‡çš„ã€‚å¦‚æœå¯¹ç™Œç—‡çš„è®¤è¯†ä»…åœç•™åœ¨ç»éªŒå±‚é¢ï¼Œå°±ä¼šå‡ºç°ã€Œç›²äººæ‘¸è±¡ã€ä¸€èˆ¬çš„è®¤è¯†ï¼Œæ‰€æœ‰çš„è®¤è¯†éƒ½æ˜¯æ¼‚æµ®åœ¨è¡¨é¢çš„ï¼Œå› æ­¤ä¼šå‡ºç°æ— æ³•è§£é‡Šçš„çŸ›ç›¾ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯ç™Œç—‡çš„ç—…æ¯’è‡´ç—…å­¦è¯´ï¼Œ1910 å¹´Peyton Rous å‘ç°ä¸€ç§ç—…æ¯’å¯ä»¥å¯¼è‡´è‚¿ç˜¤çš„å‡ºç°ï¼Œè¿™ç§ç—…æ¯’è¢«å‘½åä¸º Rous sarcoma virusï¼ˆRous è‚‰ç˜¤ç—…æ¯’ï¼Œç®€ç§° RSVï¼‰ï¼Œå› æ­¤å¾ˆå¤šå­¦è€…è®¤ä¸ºç™Œç—‡å¯èƒ½æ˜¯ç”±ç—…æ¯’å¯¼è‡´çš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸èƒ½è§£é‡Šä¸ºä»€ä¹ˆå¾ˆå¤šå¸çƒŸçš„äººæ‚£ç™Œç—‡çš„é£é™©å¤§å¤§å¢å¼ºï¼Œéšç€åŸºå› æŠ€æœ¯çš„å‘å±•ï¼Œç§‘å­¦å®¶å‘ç° RSV æ˜¯ä¸€ç§ç¥å¥‡çš„ç—…æ¯’ï¼Œåœ¨ä¸€èˆ¬çš„ç”Ÿç‰©ä½“é—ä¼ ä¿¡æ¯çš„æµåŠ¨æ–¹å‘æ˜¯ DNA -\u0026gt; RNA -\u0026gt; å¤šè‚½ï¼Œä½†æ˜¯ RSV ç—…æ¯’å­˜åœ¨å¦å¤–ä¸€ç§é—ä¼ ä¿¡æ¯æµåŠ¨æ–¹å‘ï¼š RNA -\u0026gt; DNA -\u0026gt; RNA -\u0026gt; å¤šè‚½ï¼Œå› æ­¤ RSV è¢«ç§°ä¸ºé€†è½¬å½•ç—…æ¯’ï¼ŒRSV é€†è½¬å½•å½¢æˆçš„è›‹ç™½è´¨é˜»å¡äº†äººç±»æ­£å¸¸çš„ç»†èƒæœ‰ä¸åˆ†è£‚è°ƒæ§ä¿¡å·é€šè·¯ï¼Œå› æ­¤ç»†èƒå¼€å§‹äº†æ— èŠ‚åˆ¶çš„æœ‰ä¸åˆ†è£‚ï¼Œå½¢æˆäº†ç™Œç—‡ï¼ŒRSV ä¹Ÿä½¿å¾—ç ”ç©¶äººå‘˜å‘ç°äº†äººç±»ç™Œç—‡åŸºå› ï¼ˆoncogeneï¼‰çš„å­˜åœ¨ã€‚åªæœ‰å¯¹ç™Œç—‡çš„è®¤è¯†æ·±å…¥åˆ°åŸºå› å±‚é¢ï¼Œæ‰€æœ‰çœ‹ä¼¼çŸ›ç›¾çš„ç°è±¡æ‰ä¼šæœ‰ç»Ÿä¸€çš„è§£é‡Šï¼Œè¿™ä¹Ÿæ˜¯ç§‘å­¦ç ”ç©¶çš„ä»·å€¼æ‰€åœ¨ã€‚è¯´åˆ°è¿™é‡Œï¼Œæˆ‘åˆæƒ³èµ·äº†å›½å†…æµè¡Œçš„ä¸­è¥¿åŒ»ä¹‹äº‰ï¼Œä¸­åŒ»æ”¯æŒè€…æ€»æ‹¿å‡ åƒå¹´å†å²æ¥è®ºè¯ä¸­åŒ»çš„åˆç†æ€§ï¼Œä½†æ˜¯é—®é¢˜çš„å…³é”®å¹¶ä¸åœ¨è¿™é‡Œï¼Œè¯šç„¶ä¸­åŒ»é‡Œæœ‰ä¸€äº›ç»éªŒçš„ä¸œè¥¿å¯èƒ½å¯¹æ²»ç–—ç–¾ç—…æœ‰ç”¨ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæœ‰ç”¨å‘¢ï¼Œåˆ°åº•æ˜¯å¦‚ä½•ä½œç”¨çš„ï¼Œæœºç†ä½•åœ¨ï¼Œä¸­åŒ»èƒ½ç»™çš„ä¸œè¥¿å¯¥å¯¥ã€‚ç›¸ä¿¡è¥¿åŒ»ï¼Œæ˜¯ç›¸ä¿¡ç§‘å­¦çš„ç ”ç©¶æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯è¥¿åŒ»æ‰€äº§ç”Ÿçš„ä¸€åˆ‡çŸ¥è¯†ï¼Œå› ä¸ºè¿™äº›çŸ¥è¯†éšç€äººç±»è®¤è¯†çš„è¿›æ­¥ï¼Œå¯èƒ½å¹¶ä¸æ­£ç¡®ï¼Œä½†æ˜¯æ€æƒ³ä¸æ–¹æ³•æ˜¯ä¸ä¼šé”™çš„ã€‚ä¸­åŒ»å¦‚ä¸èƒ½åœ¨ç§‘å­¦çš„è·¯ä¸Šèµ°ä¸‹å»ï¼Œåªä¼šæ‹›æ¥ä¸€å¸®éª—å­å’Œæ··å­ä¸ºå…¶æ‘‡æ——å‘å–Šã€‚\nä½œè€…åœ¨è¿™æœ¬ä¹¦é‡Œä¸ä»…è®¨è®ºäº†ä¸€äº›åå­¦æœ¯çš„ä¸œè¥¿ï¼ˆç™Œç—‡çš„è‡´ç—…åŸå› ï¼Œç™Œç—‡çš„æ²»ç–—ç­‰ï¼‰ï¼Œä¹ŸèŠ±äº†å¾ˆå¤šç¯‡å¹…è®²è¿°åŒæ ·é‡è¦çš„æ”¿æ²»ä»¥åŠç¤¾ä¼šåŠ¨å‘˜ã€‚å°½ç®¡ç™Œç—‡å¾ˆè‡´å‘½ï¼Œæœ‰å¾ˆå¤šäººæ‚£ç—…ï¼Œä½†æ˜¯æ”¾åœ¨å…¨ç¾ç”šè‡³å…¨ä¸–ç•Œçš„èŒƒå›´ï¼ŒåŒæ ·ä¼šæ·¹æ²¡åœ¨å–§åš£çš„ä¸–ç•Œï¼Œé™¤äº†ç™Œç—‡ç—…äººä»¥åŠä»–ä»¬çš„äº²å±æœ‹å‹ï¼Œå¹¶ä¸èƒ½å¼•èµ·å¹¿æ³›çš„å…³æ³¨ï¼Œå› æ­¤ä¹Ÿå¸å¼•ä¸äº†èµ„é‡‘æ”¯æŒï¼Œå¼€å±•äº†ä¸äº†å¤§è§„æ¨¡çš„ç ”ç©¶ã€‚å¯¹äºç”Ÿæ´»åœ¨è±¡ç‰™å¡”çš„ç§‘å­¦å®¶æ¥è¯´ï¼Œè¿™å¾€å¾€æ˜¯ä»–ä»¬æ‰€ä¸ç†Ÿæ‚‰çš„é¢†åŸŸï¼Œå¦‚ä½•ä¸æ”¿åºœä»¥åŠå…¬ä¼—æ‰“äº¤é“ï¼Œå¦‚ä½•ç­¹é’±ï¼Œä¹Ÿæ˜¯ç§‘å­¦ç ”ç©¶å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿™æ–¹é¢ï¼Œç—…ç†å­¦å®¶ Sidney Farber ä¸ç¤¾ä¼šæ´»åŠ¨å®¶ Mary Woodard Lasker ç­‰äººè”æ‰‹ï¼Œåˆ›å»ºäº† The Jimmy Fundï¼Œé€šè¿‡ä¸€ç³»åˆ—æ´»åŠ¨æˆåŠŸä½¿ç™Œç—‡æˆä¸ºå…¨ç¾å…³æ³¨çš„ç–¾ç—…ï¼Œæ¨åŠ¨äº†ç¾å›½å›½ä¼šå¯¹ç™Œç—‡ç ”ç©¶æ‹¨æ¬¾çš„å¤§å¹…åº¦å¢åŠ 1ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼ŒLasker å’Œå¥¹ä¸ˆå¤«æˆç«‹äº† Lasker åŸºé‡‘ä¼šï¼Œæ¯å¹´é¢å‘ã€Œæ‹‰æ–¯å…‹å¥–ã€ï¼Œè¯¥å¥–ä¹Ÿè¢«èª‰ä¸ºè¯ºè´å°”å¥–çš„é£å‘æ ‡ï¼Œæˆ‘å›½ç§‘å­¦å®¶å± å‘¦å‘¦å› ä¸ºå‘ç°ã€Œé’è’¿ç´ ã€äº 2011 å¹´æ›¾è·å¾—ã€Œæ‹‰æ–¯å…‹åŸºç¡€åŒ»å­¦å¥–ã€ï¼Œ2015 å¹´è·å¾—è¯ºè´å°”åŒ»å­¦ä¸ç”Ÿç†å­¦å¥–ã€‚\nåœ¨æŠ—å‡»ç™Œç—‡çš„å†å²ä¸Šï¼Œä½œè€…æåˆ°äº†ä¸¤ä½åäººï¼Œä¸€ä½æ˜¯ææ•æ±‚ï¼ˆä»¥ä¸‹å¼•ç”¨æ‘˜è‡ªç»´åŸºç™¾ç§‘ï¼‰ï¼š\n1956å¹´åœ¨å›½ç«‹ç™Œç—‡ç ”ç©¶æ‰€ä¸Hertzä¸€é“ï¼Œç”¨å¶é…¸æ‹®æŠ—å‰‚çš„ç”²æ°¨è¶å‘¤æˆåŠŸæ²»æ„ˆå­å®«è†œç»’æ¯›ç™Œ ï¼Œæ˜¯å†å²ä¸Šç¬¬ä¸€æ¬¡ç”¨åŒ–ç–—æ²»æ„ˆæ¶æ€§å®ä½“è‚¿ç˜¤ï¼Œæ ‡å¿—ç€åŒ–ç–—ç”±å§‘æ¯æ²»ç–—å‘æ²»æ„ˆçš„è¿‡æ¸¡ã€‚ä½œä¸º ç¬¬ä¸€ä½ç”¨åŒ–ç–—æˆåŠŸæ²»æ„ˆæ¶æ€§å®ä½“è‚¿ç˜¤çš„åŒ»ç”Ÿï¼Œ1972å¹´ä¸å½“å¹´åœ¨å›½ç«‹ç™Œç—‡ç ”ç©¶æ‰€çš„åŒäº‹ä»¬å…± 16äººåˆ†äº«äº†æ‹‰æ–¯å…‹ä¸´åºŠåŒ»å­¦å¥–\nå¦å¤–ä¸€ä½æ˜¯ç‹æŒ¯ä¹‰ï¼Œä¸Šæµ·ç‘é‡‘åŒ»é™¢çš„åŒ»ç”Ÿï¼Œä»–çš„è´¡çŒ®åœ¨äºï¼ˆæ‘˜è‡ªç»´åŸºï¼‰ï¼š\né¦–æ¬¡åˆ©ç”¨å…¨åå¼ç»´ç”²é…¸è¯±å¯¼æ€¥æ€§æ—©å¹¼ç²’ç»†èƒç™½è¡€ç—…ç»†èƒåˆ†åŒ–ï¼Œåœ¨ä¸´åºŠä¸Šæå¤§åœ°æé«˜æ€¥æ€§æ—© å¹¼ç²’ç»†èƒç™½è¡€ç—…ç—…äººçš„å®Œå…¨ç¼“è§£ç‡å’Œé•¿æœŸç”Ÿå­˜ç‡ã€‚\né™¤æ­¤ä¹‹å¤–ï¼Œåäººåœ¨æ²»ç–—ç™Œç—‡ä¸Šçš„è´¡çŒ®ä¹å–„å¯é™ˆã€‚\nä¸€æœ¬å¥½ä¹¦åº”è¯¥æ¿€èµ·äººçš„å…´è¶£å»äº†è§£æ›´å¤šçš„çŸ¥è¯†ï¼Œè¿™æœ¬ä¹¦èµ·åˆ°äº†è¿™æ ·çš„ä½œç”¨ã€‚çœ‹äº†è¿™æœ¬ä¹¦ï¼Œæˆ‘å¯¹åŸºå› äº§ç”Ÿäº†å…´è¶£ï¼Œåœ¨ Youtube ä¸Šçœ‹äº†ã€ŠDNA: the secret of lifeã€‹ï¼Œå¯¹åŸºå› ç§‘å­¦äº§ç”Ÿäº†å…´è¶£ï¼Œè¿™æ˜¯ä»¥å‰å­¦ä¹ ç”Ÿç‰©æ—¶ä»æ¥æ²¡æœ‰è¿‡çš„ï¼Œä»¥å‰æ¥å—çš„ç”Ÿç‰©æ•™è‚²ç°åœ¨æƒ³æƒ³å¤ªç³Ÿç³•äº†ï¼Œæ¯ç‡¥ï¼Œæ— èŠã€‚\nåŒæ—¶ï¼Œä¹Ÿè§‰å¾—å¾ˆæ‚²å“€ï¼Œå›½å†…æ ¹æœ¬ä¸å¯èƒ½å‡ºç°è¿™æ ·ä¸€æœ¬ç§‘æ™®ä¹¦ï¼Œå‘å¤§ä¼—æ™®åŠåŸºæœ¬çš„ç™Œç—‡çŸ¥è¯†ï¼Œç™Œç—‡ä¸“å®¶ä¸æ™®é€šäººä¹‹é—´æœ‰ä¸€æ¡é¸¿æ²Ÿã€‚ç›®å‰ç¼ºä¹é«˜è´¨é‡çš„ç§‘æ™®ï¼Œåè€Œå¤§é‡åç§‘å­¦ï¼Œéª—äººã€ä»¥è®¹ä¼ è®¹çš„ä¸œè¥¿æ¨ªè¡Œç½‘ç»œï¼Œä»¤äººå¤±æœ›ã€‚\nä» 1957 å¹´åˆ° 1967 å¹´ï¼Œç¾å›½å›½å®¶ç™Œç—‡ç ”ç©¶æ‰€ï¼ˆNationla Cancer Instituteï¼Œç®€ç§° NCIï¼‰çš„ç»è´¹ï¼Œä» 4800 ä¸‡ç¾å…ƒä¸Šå‡è‡³ 1.76 äº¿ç¾å…ƒã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 April 2018","externalUrl":null,"permalink":"/2018/04/16/cancer-the-emperor-of-all-meladies/","section":"Posts","summary":"\u003cp\u003eåˆšè¯»å®Œ\u003ca href=\"https://book.douban.com/subject/5336588/\" target=\"_blank\"\u003eã€Šä¼—ç—…ä¹‹ç‹ï¼šç™Œç—‡ä¼ ã€‹\u003c/a\u003eï¼ˆè‹±æ–‡åå­—å«ã€ŠThe emperor of all maladies: a biography of cancerã€‹ï¼‰ï¼Œâ€œæ„å¤–â€å‘ç°è¿™æœ¬ä¹¦æ˜¯ä¸€æœ¬çš„èåˆç§‘æ™®ä¸å†å²çš„ç²¾å“å›¾ä¹¦ã€‚\u003c/p\u003e","title":"è¯»ã€Šä¼—ç—…ä¹‹ç‹ï¼šç™Œç—‡ä¼ ã€‹æœ‰æ„Ÿ","type":"posts"},{"content":"Putty is a powerful and slim ssh tool with rich features. It is widely used to connect to the remote servers. I will summarize some of its settings and usages in this post.\nUse X server with putty # Putty supports X11 forwarding. To enable this feature, do the following steps:\nLoad a remote session which you want to use GUI application Go to connection-\u0026gt;SSH-\u0026gt;X11, check the option Enable X11 forwarding (see image below) Go back to Session settings and save the change. After these settings, you should be able to use X11 forwarding. Of course, you need to install a X server application, e.g., xming and vcxsrv.\nHow to remember the username and password of session? # Short answer: remembering username is possible, but remembering password is impossible by deliberate design.\nIn order to set a default username for a session. First load the session. Then go to Connection-\u0026gt;Data. Fill the username in the text box on the right of Auto-login username (see image below).\nHow to save the settings for a session # This question has confused me for a while. Each time I set up a session, the settings are only valid fro the current session. The next time I open the session, I have to configure it again, which is annoying. The correct steps to save your settings are as follows:\nChoose a particular session from the session list and click Load button to load it as the current session (the session name will appear in the text box under Saved Sessions) Change to other settings page and set up the session. Go back to the Session page and click Save button to save your settings. How to start a session directly from the command line # First make sure that putty executable has been added to your system PATH. Then use the following syntax:\nputty -load \u0026#34;\u0026lt;session_name\u0026gt;\u0026#34; to open a session directly from command line. \u0026lt;session_name\u0026gt; must be a valid session name.\nReferences # http://en.tldp.org/HOWTO/XDMCP-HOWTO/ssh.html http://serverfault.com/questions/12295/how-to-make-putty-settings-persistent http://tartarus.org/~simon/putty-snapshots/htmldoc/Chapter4.html#config-saving https://www.chiark.greenend.org.uk/~sgtatham/putty/faq.html#faq-startsess ","date":"12 April 2018","externalUrl":null,"permalink":"/2018/04/12/putty-windows-x11-forwarding-setup/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://www.chiark.greenend.org.uk/~sgtatham/putty/\" target=\"_blank\"\u003ePutty\u003c/a\u003e is a powerful and\nslim ssh tool with rich features. It is widely used to connect to the remote\nservers. I will summarize some of its settings and usages in this post.\u003c/p\u003e","title":"How to Use Putty on Windows","type":"posts"},{"content":"This is a post which follows up my previous post on how to use Chinese characters with Matplotlib.\nIntroduction # If we use some Unicode characters when plotting with Matplotlib, for example, character âœ¹ (Unicode code point is U+2739), you will find that the character may not show up in the rendered image. The reason is simple: the default font used by Matplotlib does not support this Unicode character.\nIn order to plot this Unicode character, we need to do two things. Firstly, we need to find a font which supports this character. Secondly, we need to tell Matplotlib to choose this font for rendering the character.\nFind a valid font # Since this character may not belong to a certain language. It is trickier to find which font supports it. According to post here, we can use the Python package fontTools to check if a character exists in a certain font.\nFirst, we need to install fontTools. If you are using pip, use the following command to install fontTools,\npip install fonttools If you are using conda, use\nconda install -c conda-forge fonttools to install this package.\nThen, we can use the following script to show a list of fonts which contain this Unicode character.\nfrom fontTools.ttLib import TTFont import matplotlib.font_manager as mfm def char_in_font(Unicode_char, font): for cmap in font[\u0026#39;cmap\u0026#39;].tables: if cmap.isUnicode(): if ord(Unicode_char) in cmap.cmap: return True return False uni_char = u\u0026#34;âœ¹\u0026#34; # or uni_char = u\u0026#34;\\u2739\u0026#34; font_info = [(f.fname, f.name) for f in mfm.fontManager.ttflist] for i, font in enumerate(font_info): if char_in_font(uni_char, TTFont(font[0], fontNumber=0)): print(font[0], font[1]) The above script will print a list of font path along with their corresponding font names. All these fonts support the queried character. Sample output on my system is shown below:\n/home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Oblique.ttf DejaVu Sans /home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono.ttf DejaVu Sans Mono /home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf DejaVu Sans /home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-Bold.ttf DejaVu Sans /home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSansMono-Bold.ttf DejaVu Sans Mono /home/jdhao/util/anaconda3/lib/python3.6/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans-BoldOblique.ttf DejaVu Sans /usr/share/fonts/dejavu/DejaVuSansCondensed-BoldOblique.ttf DejaVu Sans /usr/share/fonts/dejavu/DejaVuSansCondensed-Bold.ttf DejaVu Sans /usr/share/fonts/dejavu/DejaVuSansCondensed.ttf DejaVu Sans /usr/share/fonts/dejavu/DejaVuSansCondensed-Oblique.ttf DejaVu Sans /usr/share/fonts/gnu-free/FreeSerif.ttf FreeSerif /usr/share/fonts/opensymbol/opens___.ttf OpenSymbol Plot this character # In order to plot this character with Matplotlib, we need to use FontProperties class in Matplotlib to find this font. Then we can use this font in the plotting command:\nimport matplotlib.pyplot as plt import matplotlib.font_manager as mfm font_path = \u0026#39;/usr/share/fonts/gnu-free/FreeSerif.ttf\u0026#39; prop = mfm.FontProperties(fname=font_path) # find this font # use the font in plotting command plt.text(0.5, 0.5, s=uni_char, fontproperties=prop, fontsize=20) plt.show() In the above code, variable font_path is the path of a font supporting the Unicode character.\nWe can also use the font name to look up a font,\nimport matplotlib.pyplot as plt import matplotlib.font_manager as mfm font_path = \u0026#39;/usr/share/fonts/gnu-free/FreeSerif.ttf\u0026#39; prop = mfm.FontProperties(family=\u0026#39;OpenSymbol\u0026#39;) plt.text(0.5, 0.5, s=uni_char, fontproperties=prop, fontsize=20) plt.show() Output image is shown below\nReferences # Check if a font contains a character Matplotlib FontProperties class Find which characters a font support ","date":"8 April 2018","externalUrl":null,"permalink":"/2018/04/08/matplotlib-unicode-character/","section":"Posts","summary":"\u003cp\u003eThis is a post which follows up my previous post on \u003ca href=\"https://jdhao.github.io/2017/05/13/guide-on-how-to-use-chinese-with-matplotlib/\" target=\"_blank\"\u003ehow to use Chinese\ncharacters with\nMatplotlib\u003c/a\u003e.\u003c/p\u003e","title":"How to Plot Unicode Characters with Matplotlib","type":"posts"},{"content":"You can use two ways to set the GPU you want to use by default.\nSet up the device which PyTorch can see # The first way is to restrict the GPU device that PyTorch can see. For example, if you have four GPUs on your system1 and you want to GPU 2. We can use the environment variable CUDA_VISIBLE_DEVICES to control which GPU PyTorch can see. The following code should do the job:\nCUDA_VISIBLE_DEVICES=2 python test.py The above code ensures that the GPU 2 is used as the default GPU. You do not have to change anything in your source file test.py\nIf you want to set the environment in your script. Then you can use os.environ to set the environment variables. In order to use GPU 2, you can use the following code\nimport os os.environ[\u0026#39;CUDA_VISIBLE_DEVICES\u0026#39;]=\u0026#39;2\u0026#39; There is something that we should notice. If you have set up CUDA_VISIBLE_DEVICES. The actuall device will be numbered from zero. For example, if you use\nos.environ[\u0026#39;CUDA_VISIBLE_DEVICES\u0026#39;]=\u0026#39;2,3\u0026#39; Then GPU 2 on your system now has ID 0 and GPU 3 has ID 1. In other words, in PyTorch, device#0 corresponds to your GPU 2 and device#1 corresponds to GPU 3.\nDirectly set up which GPU to use # You can also directly set up which GPU to use with PyTorch. The method is torch.cuda.set_device. For example, to use GPU 1, use the following code before any GPU-related code:\nimport torch as th th.cuda.set_device(1) References # https://github.com/pytorch/pytorch/issues/260 https://discuss.pytorch.org/t/how-to-change-the-default-device-of-gpu-device-ids-0/1041/13 Their ids are 0, 1, 2, 3\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2 April 2018","externalUrl":null,"permalink":"/2018/04/02/pytorch-gpu-usage/","section":"Posts","summary":"\u003cp\u003eYou can use two ways to set the GPU you want to use by default.\u003c/p\u003e","title":"Set Default GPU in PyTorch","type":"posts"},{"content":"The original LaTeX do not have good support for Chinese. With the development of LaTeX, we can now easily use Chinese in LaTeX document. In this post, I would like to introduce several ways to work with Chinese in LaTeX.\nUse CTeX # Use ctexart documentclass # The CTeX group has developed multiple document classes and packages to deal with the particular need of Chinese typesetting.\nIf you have a long article mainly written in Chinese, you should choose ctexart document class. An MWE is shown below:\n\\documentclass[UTF8]{ctexart} \\begin{document} ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ã€‚ \\end{document} When using the ctexart documentclass, you should also add \\usepackage[T1]{fontenc}. Otherwise, some of the characters will be shown incorrectly.\nUse ctex package # Or you can use the ctex package instead:\n\\documentclass{article} \\usepackage[UTF8]{ctex} \\begin{document} ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ã€‚ \\end{document} You can compile it with latex, pdflatex, xelatex or lualatex. xelatex is recommed from the author of this class.\nUse xeCJK with xelatex # If you only need to type a few Chinese character, you can go with xeCJK package and compile the document with xelatex. A MWE is shown below:\nClick to check the code. % this file can be compiled with xelatex command \\documentclass[12pt, a4paper]{article} \\usepackage{fontspec} \\usepackage[slantfont, boldfont]{xeCJK} % set up English font \\setmainfont{Microsoft YaHei} \\setsansfont{Comic Sans MS} \\setmonofont{Courier New} % set up Chinese font, the font must be valid on your system \\setCJKmainfont{Microsoft YaHei} \\setCJKmonofont{Source Code Pro} \\setCJKsansfont{YouYuan} % correct line break for chinese \\XeTeXlinebreaklocale \u0026#34;zh\u0026#34; \\XeTeXlinebreakskip = 0pt plus 1pt \\title{æµ‹è¯•} \\author{ä¸œ} \\date{2016å¹´6æœˆ6æ—¥} \\begin{document} \\maketitle \\begin{center} æ»¡çº¸è’å”è¨€\\\\ ä¸€æŠŠè¾›é…¸æ³ª\\\\ éƒ½äº‘ä½œè€…ç—´\\\\ è°è§£å…¶ä¸­å‘³\\\\ \\end{center} \\begin{verse} \\texttt{Stray birds of summer come to my window to sing and fly away}. \\\\ \\textsf{And yellow leaves of autumn, which have no songs}, \\\\ \\textrm{flutter and fall there with a sign}.\\\\ \\hfill \\emph{RabindranathTagore} \\end{verse} \\begin{verse} \\texttt{å¤å¤©çš„é£é¸Ÿ}ï¼Œ\\textsf{é£åˆ°æˆ‘çš„çª—å‰å”±æ­Œ}ï¼Œ\\textrm{åˆé£å»äº†}ã€‚\\\\ ç§‹å¤©çš„é»„å¶ï¼Œå®ƒä»¬æ²¡æœ‰ä»€ä¹ˆå¯å”±ï¼Œåªå¹æ¯ä¸€å£°ï¼Œé£è½åœ¨é‚£é‡Œã€‚\\\\ \\hfill \\emph{ç½—å®¾å¾·æ‹‰çº³ç‰¹Â·æ³°æˆˆå°”} \\end{verse} \\end{document} For Chinese, the command \\setCJKmainfont{} are used to set up the font used by main text, which is also used by \\textrm{} command. \\setCJKmonofont{} is used to set up the font used by \\texttt{}. \\setCJKsansfont{} is used to set up the font used by \\textsf{}.\nSo how to find a valid Chinese font to use in these command? If you have installed TeX Live, it is easy to do. Just use the following command in your console:\nfc-list :lang=zh It will list all the fonts on your system which support Chinese. A sample output is as follows:\nYou can pick the font you like or experiment with different fonts to choose the one you want.\nThe above example is based on a number of posts, but I have removed several package since they are now redundant.\nReferences # Solution from the developer of CTeX. http://blog.sina.com.cn/s/blog_5e16f1770100lhbm.html https://bit.ly/2H3Udob Some characters are wrongly displayed: https://tex.stackexchange.com/q/2369/114857 http://texblog.net/latex-archive/uncategorized/symbols/ ","date":"29 March 2018","externalUrl":null,"permalink":"/2018/03/29/latex-chinese/","section":"Posts","summary":"\u003cp\u003eThe original LaTeX do not have good support for Chinese. With the development\nof LaTeX, we can now easily use Chinese in LaTeX document. In this post, I\nwould like to introduce several ways to work with Chinese in LaTeX.\u003c/p\u003e","title":"How to Use Chinese with LaTeX","type":"posts"},{"content":"LaTeX æœ€åˆå¯¹ä¸­æ–‡çš„æ”¯æŒå¹¶ä¸å‹å¥½ï¼Œåªæ”¯æŒ ASCII å­—ç¬¦ï¼Œåæ¥æ‰é€æ¸å˜å¾—å¥½èµ·æ¥ï¼ŒåŠ å…¥äº†å¯¹ Unicode å­—ç¬¦çš„æ”¯æŒã€‚æœ¬æ–‡æ€»ç»“ä¸€ä¸‹å‡ ç§åœ¨ LaTeX ä¸­ä½¿ç”¨ä¸­æ–‡çš„æ–¹æ³•ï¼Œä»¥æœŸèƒ½å¤Ÿå¸®åŠ©è¯»è€…å¿«é€Ÿä½¿ç”¨ LaTeX å¯¹ä¸­æ–‡å†…å®¹è¿›è¡Œæ’ç‰ˆã€‚\nä½¿ç”¨ CTeX # å›½å†…çš„ CTeX å¼€å‘ç»„ä¸ºäº†æ»¡è¶³ç”¨æˆ·åœ¨ LaTeX ä¸­æ’ç‰ˆä¸­æ–‡çš„ç§ç§éœ€æ±‚ï¼Œå·²ç»å¼€å‘äº†å¤šæ¬¾ LaTeX æ–‡æ¡£ç±»ä»¥åŠ LaTeX å®åŒ…ã€‚ä½¿ç”¨è¿™äº›åº“ï¼Œä½ èƒ½å¤Ÿå¾ˆè½»æ¾åœ°åœ¨ LaTeX ä½¿ç”¨ä¸­æ–‡ã€‚å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒCTeX ä¹Ÿæä¾›æ‰€è°“çš„ CTeX å¥—è£…ï¼Œå…¶å®æ˜¯æ‰“åŒ…äº† MikTeX å’Œå…¶ä»–çš„ä¸€äº›å·¥å…·ï¼Œç°åœ¨å·²ç»åŸºæœ¬ä¸Šè¢«æ·˜æ±°äº†ï¼Œéå¸¸è€æ—§ï¼Œä¸å»ºè®®å®‰è£…ä½¿ç”¨ã€‚å»ºè®®è¯»è€…ç›´æ¥å®‰è£… MikTeX æˆ–è€… TeX Live å³å¯ (Mac ç”¨æˆ·å¯ä»¥å®‰è£… MacTeX)ã€‚\nä½¿ç”¨ CTeX æ’ç‰ˆä¸­æ–‡ï¼Œç›®å‰ä¸»è¦å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼ï¼š\nä½¿ç”¨ ctexart æ–‡æ¡£ç±»ï¼ˆè‹±æ–‡ï¼šdocumentclassï¼‰ ä½¿ç”¨ ctex å®åŒ…ï¼ˆè‹±æ–‡ï¼špackageï¼‰ ä½¿ç”¨ ctexart # å¦‚æœä½ çš„æ–‡ç« ä¸»è¦ç”±ä¸­æ–‡æ„æˆï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ CTeX ä¸­çš„ ctexart æ–‡æ¡£ç±»ï¼Œä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ ctexart æ–‡æ¡£ç±»æ¥å†™ä¸­æ–‡æ–‡æ¡£ï¼š\n\\documentclass[UTF8]{ctexart} \\usepackage[T1]{fontenc} \\begin{document} ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ã€‚ \\end{document} ä½¿ç”¨ ctexart documentclass æ—¶å€™ï¼Œæœ€å¥½åŠ ä¸Š \\usepackage[T1]{fontenc}ï¼Œå¦åˆ™æŸäº›ç¬¦å·æ˜¾ç¤ºä¸æ­£ç¡®ã€‚\nä½¿ç”¨ ctex å®åŒ… # é™¤äº†ä½¿ç”¨ ctexart æ–‡æ¡£ç±»ï¼Œä½ å¯ä»¥å¯ä»¥é€‰æ‹©ä½¿ç”¨ ctex å®åŒ…ï¼Œä¸€ä¸ªç®€å•ä¾‹å­å¦‚ä¸‹ï¼š\n\\documentclass{article} \\usepackage[UTF8]{ctex} \\begin{document} ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£ã€‚ \\end{document} ä½¿ç”¨ä»¥ä¸Šä»£ç çš„ LaTeX æºæ–‡ä»¶å¯ä»¥ä½¿ç”¨ latexï¼Œpdflatexï¼Œxelatex æˆ–è€… lualatex å‘½ä»¤æ¥ç¼–è¯‘ç”Ÿæˆ PDF æ–‡ä»¶ã€‚CTeX å¼€å‘è€…æ¨èä½¿ç”¨ xelatex å‘½ä»¤ç¼–è¯‘æºæ–‡ä»¶ã€‚\nä½¿ç”¨ xeCJK # å¦‚æœä½ ä»…ä»…éœ€è¦åœ¨æ–‡æ¡£ä¸­ä½¿ç”¨æœ‰é™çš„ä¸€äº›ä¸­æ–‡å­—ç¬¦ï¼Œä½ å¯ä»¥ä½¿ç”¨ xeCJK å®åŒ…ï¼Œç„¶åä½¿ç”¨ xelatex å‘½ä»¤ç¼–è¯‘æºæ–‡ä»¶ã€‚ä¸€ä¸ªç®€å•å¯è¿è¡Œçš„ä¾‹å­å¦‚ä¸‹ï¼š\nç‚¹å‡»æŸ¥çœ‹ä»£ç  % è¯¥æ–‡ä»¶ä½¿ç”¨ xelatex å‘½ä»¤å¯ä»¥ç¼–è¯‘é€šè¿‡ \\documentclass[12pt, a4paper]{article} \\usepackage{fontspec} \\usepackage[slantfont, boldfont]{xeCJK} % è®¾ç½®è‹±æ–‡å­—ä½“ \\setmainfont{Microsoft YaHei} \\setsansfont{Comic Sans MS} \\setmonofont{Courier New} % è®¾ç½®ä¸­æ–‡å­—ä½“ \\setCJKmainfont{Microsoft YaHei} \\setCJKmonofont{Source Code Pro} \\setCJKsansfont{YouYuan} % ä¸­æ–‡æ–­è¡Œè®¾ç½® \\XeTeXlinebreaklocale \u0026#34;zh\u0026#34; \\XeTeXlinebreakskip = 0pt plus 1pt \\title{æµ‹è¯•} \\author{ä¸œ} \\date{2016å¹´6æœˆ6æ—¥} \\begin{document} \\maketitle \\begin{center} æ»¡çº¸è’å”è¨€\\\\ ä¸€æŠŠè¾›é…¸æ³ª\\\\ éƒ½äº‘ä½œè€…ç—´\\\\ è°è§£å…¶ä¸­å‘³\\\\ \\end{center} \\begin{verse} \\texttt{Stray birds of summer come to my window to sing and fly away}. \\\\ \\textsf{And yellow leaves of autumn, which have no songs}, \\\\ \\textrm{flutter and fall there with a sign}.\\\\ \\hfill \\emph{RabindranathTagore} \\end{verse} \\begin{verse} \\texttt{å¤å¤©çš„é£é¸Ÿ}ï¼Œ\\textsf{é£åˆ°æˆ‘çš„çª—å‰å”±æ­Œ}ï¼Œ\\textrm{åˆé£å»äº†}ã€‚\\\\ ç§‹å¤©çš„é»„å¶ï¼Œå®ƒä»¬æ²¡æœ‰ä»€ä¹ˆå¯å”±ï¼Œåªå¹æ¯ä¸€å£°ï¼Œé£è½åœ¨é‚£é‡Œã€‚\\\\ \\hfill \\emph{ç½—å®¾å¾·æ‹‰çº³ç‰¹Â·æ³°æˆˆå°”} \\end{verse} \\end{document} å¯¹äºä¸­æ–‡æ¥è¯´ï¼Œ\\setCJKmainfont{} å‘½ä»¤ç”¨æ¥è®¾ç½®æ­£æ–‡ä½¿ç”¨çš„ä¸­æ–‡å­—ä½“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ \\textrm{} å‘½ä»¤ä½¿ç”¨çš„å­—ä½“ã€‚\\setCJKmonofont{} ç”¨æ¥è®¾ç½® \\texttt{} å‘½ä»¤ä¸­çš„ä¸­æ–‡ä½¿ç”¨çš„å­—ä½“ã€‚\\setCJKsansfont{} ç”¨æ¥è®¾ç½® \\textsf{} å‘½ä»¤ä¸­çš„ä¸­æ–‡ä½¿ç”¨çš„å­—ä½“ã€‚\né‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•æ‰¾åˆ°å¯ç”¨çš„ä¸­æ–‡å­—ä½“å‘¢ï¼Ÿå¦‚æœä½ å·²ç»å®‰è£…äº† TeX Liveï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“æ‰¾åˆ°ä¸­æ–‡å­—ä½“ã€‚åœ¨ç³»ç»Ÿçš„å‘½ä»¤è¡Œï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\nfc-list :lang=zh è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºç³»ç»Ÿä¸­æ‰€æœ‰æ”¯æŒä¸­æ–‡çš„å­—ä½“ï¼Œä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„ç³»ç»Ÿä¸Šéƒ¨åˆ†è¾“å‡ºå¦‚ä¸‹ï¼š\nä½ å¯é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å­—ä½“ï¼Œæˆ–è€…å¯ä»¥å®éªŒä¸åŒå­—ä½“çš„è¾“å‡ºæ•ˆæœæ¥é€‰æ‹©åˆé€‚çš„å­—ä½“ã€‚\nä»¥ä¸Šä½¿ç”¨ xeCJK çš„ä¾‹å­ï¼Œç»¼åˆå‚è€ƒäº†å¤šä¸ªåšæ–‡ï¼Œä½†æ˜¯æˆ‘å»æ‰äº†å‡ ä¸ªä½¿ç”¨çš„å®åŒ…ï¼Œä¾‹å¦‚xunicode å’Œ xltxtraï¼Œå› ä¸ºè¿™äº›å®åŒ…å·²ç»è¿‡æ—¶äº†ã€‚\nå‚è€ƒèµ„æ–™ # CTeX å¼€å‘è€…ç»™å‡ºçš„è§£ç­”ï¼Œå¾ˆå…¨é¢ã€‚ http://blog.sina.com.cn/s/blog_5e16f1770100lhbm.html https://bit.ly/2H3Udob ä¸€äº›å­—ç¬¦æ˜¾ç¤ºé”™è¯¯è§£å†³æ–¹æ¡ˆ https://tex.stackexchange.com/questions/2369/why-do-the-less-than-symbol-and-the-greater-than-symbol-appear-wrong-as http://texblog.net/latex-archive/uncategorized/symbols/ ","date":"29 March 2018","externalUrl":null,"permalink":"/2018/03/29/latex-chinese.zh/","section":"Posts","summary":"\u003cp\u003eLaTeX æœ€åˆå¯¹ä¸­æ–‡çš„æ”¯æŒå¹¶ä¸å‹å¥½ï¼Œåªæ”¯æŒ ASCII å­—ç¬¦ï¼Œåæ¥æ‰é€æ¸å˜å¾—å¥½èµ·æ¥ï¼ŒåŠ å…¥äº†å¯¹ Unicode å­—ç¬¦çš„æ”¯æŒã€‚æœ¬æ–‡æ€»ç»“ä¸€ä¸‹å‡ ç§åœ¨ LaTeX ä¸­ä½¿ç”¨ä¸­æ–‡çš„æ–¹æ³•ï¼Œä»¥æœŸèƒ½å¤Ÿå¸®åŠ©è¯»è€…å¿«é€Ÿä½¿ç”¨ LaTeX å¯¹ä¸­æ–‡å†…å®¹è¿›è¡Œæ’ç‰ˆã€‚\u003c/p\u003e","title":"å…¨é¢æ€»ç»“å¦‚ä½•åœ¨ LaTeX ä¸­ä½¿ç”¨ä¸­æ–‡ (2020 æœ€æ–°ç‰ˆ)","type":"posts"},{"content":"In this post, I will show how to write and run simple C++ programs in Sublime Text 3.\nWriting source files # The following two part are optional. They are intended to increase your speed of writing C++ programs. If you do not need them, just skip and read how to build and run C++ source code.\nCode snippet # When you are writing code, you may want to create a snippet so that your keywords will be expanded to a template to reduce your typing. For example, we often need to write codes that output something and then output a new line character. Writing this boiler-plate code over and over again is boring. We can create snippet for it.\nIt is easy to create a code snippet in Sublime Text. Go to Tools -\u0026gt; Developer and click New Snippet... (see image below)\nIn the created tab, use the following settings:\n\u0026lt;snippet\u0026gt; \u0026lt;content\u0026gt;\u0026lt;![CDATA[ cout \u0026lt;\u0026lt; \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; ]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;cout\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;scope\u0026gt;source.c++\u0026lt;/scope\u0026gt; \u0026lt;decription\u0026gt;Insert a cout with newline\u0026lt;/decription\u0026gt; \u0026lt;/snippet\u0026gt; Save this snippet and give it a name, e.g., cout_oneline.sublime-snippet. All snippets in Sublime Text end with the extension sublime-snippet.\nWhen you have created this snippet, you can just type cout in the C++ source file and press Tab key to trigger the snippet (see the below image).\nAuto-completion # If you want to auto-complete your code, you can use EasyClangComplete. You can install this package via Package Control. Then you need to install clang for your system.\nThe package offers several ways to configure it. I will just demonstrate one way: configure it via setting file. Open the setting file of EasyClangComplete (see image below):\nExample settings are shown below:\n{ \u0026#34;common_flags\u0026#34; : [ // some example includes \u0026#34;-I/usr/include\u0026#34;, \u0026#34;-I$project_base_path/src\u0026#34;, //include search path of gcc \u0026#34;-I/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../include/c++/4.8.5\u0026#34;, \u0026#34;-I/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../include/c++/4.8.5/x86_64-redhat-linux\u0026#34;, \u0026#34;-I/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../include/c++/4.8.5/backward\u0026#34;, \u0026#34;-I/usr/lib/gcc/x86_64-redhat-linux/4.8.5/include\u0026#34;, \u0026#34;-I/usr/local/include\u0026#34;, // this is needed to include the correct headers for clang \u0026#34;-I/usr/local/lib/clang/4.0.1/include\u0026#34;, ], \u0026#34;cpp_flags\u0026#34; : [ \u0026#34;-std=c++11\u0026#34;, \u0026#34;-Wall\u0026#34; ], \u0026#34;errors_style\u0026#34;: \u0026#34;phantoms\u0026#34;, \u0026#34;hide_default_completions\u0026#34;: true, \u0026#34;progress_style\u0026#34;: \u0026#34;ColorSublime\u0026#34;, \u0026#34;show_type_info\u0026#34;: false, } In the above settings, the include search paths of gcc can be found using the following command:\n`gcc -print-prog-name=cc1plus` -v The output is something like the following (use the paths in the green box):\nNow you should see that the auto-completion works.\nCompile and run C++ code # In order to compile C++ source files. You have to make sure that a C++ compiler is installed in your system. For Linux system, GCC is often installed by default. So further configuration is not needed. For Windows, there is a port of GCC named MinGW-w64. Download the on-line installer and install it. It will install all the component necessary to compile C++ source. After installation, you should add the directory of executables to the Windows PATH. On my Windows system, the executable directory is\nC:\\Program Files\\mingw-w64\\x86_64-7.3.0-posix-seh-rt_v5-rev0\\mingw64\\bin You may need to reboot your system to make the PATH change take effect.\nSublime Text has its own build system for C++. Unfortunately, it has at least one drawback: it can not run the executables in the system console (so if you want to run C++ program that need standard input from terminal, you will fail). We can write our own build system fairly easily.\nSimple build system to compile and run source code # After finishing writing the code, we now compile the code. We can build our own custom build system. Go to Tools â€“\u0026gt; Build System â€“\u0026gt; New Build System.... Use the following settings (I assume that you are using GCC to compile your code):\n{ \u0026#34;cmd\u0026#34; : [\u0026#34;g++ -std=c++11 -Wall ${file_name} -o ${file_base_name} \u0026amp;\u0026amp; ./${file_base_name}\u0026#34;], \u0026#34;selector\u0026#34; : \u0026#34;source.c\u0026#34;, \u0026#34;shell\u0026#34;: true, \u0026#34;working_dir\u0026#34; : \u0026#34;$file_path\u0026#34; } Save it and name it C++.sublime-build (build systems in Sublime Text all end with the extention sublime-build). Press Ctrl+Shift+B to select the build system.\nSelect the C++ build system we have just created and press Enter. Then the source file will be compiled and run. If everything goes well, you will see the output of this program in the bottom of Sublime Text window.\nHow to run the executable right in the system terminal or console # If you are executing a program which needs input from the standard input (often it is just the console), the program can not receive input due to the limit of Sublime Text. How to solve this issue? It is easy. We can add a variants to the build system we just created and run the executable file in the system GUI terminal. Different systems differ in their specific settings.\nHere is an example setting:\n{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34;\u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;source.c++, source.cpp, source.cc, source.cxx\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Run in Terminal\u0026#34;, \u0026#34;linux\u0026#34;: { \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; xterm -e \u0026#39;${file_path}/${file_base_name} \u0026amp;\u0026amp; echo \u0026amp;\u0026amp; echo Press ENTER to continue \u0026amp;\u0026amp; read line \u0026amp;\u0026amp; exit\u0026#39;\u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; gnome-terminal -e \u0026#39;bash -c \\\u0026#34;${file_path}/${file_base_name}\u0026amp;\u0026amp; echo \u0026amp;\u0026amp; echo Press ENTER to continue \u0026amp;\u0026amp; read line \u0026amp;\u0026amp; exit\\\u0026#34;\u0026#39;\u0026#34;, // for gnome-terminal // \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; xterm -e \u0026#39;${file_path}/${file_base_name}; bash\u0026#39;\u0026#34;, // for xterm // \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; xterm -hold -e ${file_path}/${file_base_name}\u0026#34;, // for xterm // \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; konsole --hold -e ${file_path}/./${file_base_name}\u0026#34;, // for konsole }, \u0026#34;windows\u0026#34;:{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; start cmd /k $file_base_name \u0026#34; // \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; }, \u0026#34;osx\u0026#34;:{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; xterm -e \u0026#39;${file_path}/${file_base_name} \u0026amp;\u0026amp; echo \u0026amp;\u0026amp; echo Press ENTER to continue \u0026amp;\u0026amp; read line \u0026amp;\u0026amp; exit\u0026#39;\u0026#34;, }, \u0026#34;shell\u0026#34;: true, }, ] } The above setting file provides settings for different systems. For Linux, options for GUI terminals such as genome-terminal, xterm and Konsole are provided. You can uncomment corresponding line to set up for your currently-used GUI terminal. The above settings will ensure that the GUI terminal window will not be closed immediately after running your program (so that you can examine the result of the program). For Windows, we use the default CMD. For OSX, we use the xterm.\nWhen you want to compile and run files which need input from the console, you can use the build variants Run in Terminal. To use it, press Ctrl+Shift+B to bring up the command plate, and choose option Run in Terminal (see image below).\nReferences # Sublime Text build system overview Sublime Text snippet documentation Windows, prevent the window from closing after program execution, solution 1 Same as above, another solution ","date":"28 March 2018","externalUrl":null,"permalink":"/2018/03/28/sublime-cpp-build-system/","section":"Posts","summary":"\u003cp\u003eIn this post, I will show how to write and run simple C++ programs in \u003ca href=\"https://www.sublimetext.com/\" target=\"_blank\"\u003eSublime\nText 3\u003c/a\u003e.\u003c/p\u003e","title":"A Complete Guide on Writing and Building C++ Programs in Sublime Text","type":"posts"},{"content":"","date":"24 March 2018","externalUrl":null,"permalink":"/tags/bibliography/","section":"Tags","summary":"","title":"Bibliography","type":"tags"},{"content":"æ¯•ä¸šå­£åˆ°äº†ï¼Œå¦‚æœä½¿ç”¨ Word æ¥å†™æ¯•ä¸šè®ºæ–‡ï¼Œè®ºæ–‡å†™ä½œä¸­çš„å‚è€ƒæ–‡çŒ®å¤„ç†ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ï¼Œåœ¨ Word ç®¡ç†å‚è€ƒçš„æ¯”è¾ƒå¥½çš„æ–¹å¼æ˜¯é€šè¿‡ Endnoteã€‚Endnote æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å¯è§†åŒ–ç®¡ç†å‚è€ƒæ–‡çŒ®çš„å·¥å…·ï¼Œæœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Endnote ç»“åˆ Microsoft Word ç»™æ¯ä¸ªç« èŠ‚åˆ†åˆ«è®¾ç½®å‚è€ƒæ–‡çŒ®åˆ—è¡¨ã€‚\næœ¬æ–‡å‡è®¾ä½ å¯¹ Endnote çš„ä½¿ç”¨æœ‰åŸºæœ¬çš„äº†è§£ï¼Œå¦‚æœä¸äº†è§£ï¼Œå¯ä»¥çœ‹è¿™é‡Œã€‚è¦ç»™æ¯ä¸ªç« èŠ‚è®¾ç½®å‚è€ƒæ–‡çŒ®ï¼Œéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š\nç¬¬ä¸€æ­¥ï¼Œéœ€è¦å¯¹ä½ çš„è¾“å‡º style1 è¿›è¡Œä¿®æ”¹ã€‚ ç¬¬äºŒæ­¥ï¼Œåœ¨ Microsoft Word ä¸­è¿›è¡Œå¿…è¦çš„è®¾ç½®ã€‚ ä¿®æ”¹ Endnote çš„ style è®¾ç½® # é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Endnote çš„ output style è¿›è¡Œä¿®æ”¹ï¼Œæ‰¾åˆ°ä½ ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ styleã€‚ä»¥ã€ŒIEEE Proceedingsã€style ä¸ºä¾‹æ¥è¯´æ˜ï¼Œæˆ‘ä»¬éœ€è¦ç¼–è¾‘è¿™ä¸ª styleï¼Œå‚è§ä¸‹å›¾\nåœ¨å¼¹å‡ºçš„ç¼–è¾‘ç•Œé¢ï¼Œæ‰¾åˆ°ã€ŒSectionã€éƒ¨åˆ†ï¼Œé€‰ä¸­ã€ŒCreate a bibliography for each sectionã€ã€‚\nè¯·ç‰¹åˆ«æ³¨æ„ï¼šç»è¿‡ä¸Šé¢çš„è®¾ç½®ï¼Œæ¯ä¸ªç« èŠ‚åçš„å‚è€ƒæ–‡çŒ®åˆ—è¡¨ç¼–å·é»˜è®¤æ˜¯é‡æ–°ä» 1 å¼€å§‹ç¼–å·ã€‚å¦‚æœä½ æƒ³è¦æ¯ç« åé¢çš„å‚è€ƒæ–‡çŒ®åˆ—è¡¨ç¼–å·æ˜¯è¿ç»­çš„ï¼Œé‚£ä¹ˆè¯·å‹¾é€‰ã€ŒCreate a bibliography for each sectionã€ä¸‹é¢çš„ã€ŒContinue numbering\u0026hellip;ã€ã€‚\nè®¾ç½®å®Œä»¥åï¼Œéœ€è¦ä¿å­˜è¿™ä¸ª styleï¼ŒEndnote ä¼šæç¤ºä½ é‡æ–°å‘½åï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬æŠŠåˆšæ‰çš„ã€ŒIEEE Proceedingsã€style å‘½åä¸ºã€ŒIEEE Proceedings bibliographyã€ã€‚\nWord çš„è®¾ç½® # å®Œæˆ Endnote è®¾ç½®ä»¥åï¼Œéœ€è¦å¯¹ Word è¿›è¡Œè®¾ç½®ã€‚ç°åœ¨ï¼Œè¿›å…¥ä½ æ­£åœ¨ç¼–è¾‘çš„ Word æ–‡æ¡£ï¼ŒæŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¦æ’å…¥å‚è€ƒæ–‡çŒ®åˆ—è¡¨çš„ç« èŠ‚çš„æœ«å°¾ï¼Œé€‰æ‹© å¸ƒå±€ -\u0026gt; åˆ†éš”ç¬¦ -\u0026gt; åˆ†èŠ‚ç¬¦ -\u0026gt;ä¸‹ä¸€é¡µï¼ˆå¦‚æœä½ çš„å‚è€ƒæ–‡çŒ®å¯ä»¥å’Œè®ºæ–‡çš„ç« èŠ‚æ­£æ–‡åœ¨ä¸€é¡µï¼Œä½ å¯ä»¥é€‰æ‹©å¸ƒå±€ -\u0026gt; åˆ†éš”ç¬¦-\u0026gt; åˆ†èŠ‚ç¬¦ -\u0026gt; è¿ç»­ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nå¦‚æœä½ è¦åœ¨å¤šä¸ªç« èŠ‚åé¢åˆ†åˆ«æ’å…¥å‚è€ƒæ–‡çŒ®åˆ—è¡¨ï¼Œé‡å¤ä»¥ä¸Šæ’å…¥ã€Œåˆ†èŠ‚ç¬¦ã€çš„æ­¥éª¤ï¼Œç¡®ä¿åœ¨è¦æ’å…¥å‚è€ƒæ–‡çŒ®çš„ç« èŠ‚åé¢éƒ½æ’å…¥äº†ã€Œåˆ†èŠ‚ç¬¦ã€ã€‚\nç„¶åï¼Œç‚¹å‡» Endnote åœ¨ Word ä¸­çš„é€‰é¡¹å¡ï¼Œåœ¨ Style è®¾ç½®é‡Œé€‰ä¸­æˆ‘ä»¬åˆšæ‰ç¼–è¾‘ä¿å­˜çš„styleï¼Œä¹Ÿå°±æ˜¯ ã€ŒIEEE Proceedings bibliographyã€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nç‚¹å‡»ã€ŒUpdate Citations and Bibliographyã€ï¼Œæ›´æ–°å‚è€ƒæ–‡çŒ®åˆ—è¡¨ï¼Œä½ ä¼šå‘ç°æ‰€æœ‰æ’å…¥åˆ†èŠ‚ç¬¦çš„ç« èŠ‚ååˆ†åˆ«å‡ºç°äº†è¯¥ç« çš„å‚è€ƒæ–‡çŒ®åˆ—è¡¨ã€‚\nå‚è€ƒ # https://libguides.uthsc.edu/endnote/cwyw/separate-bibs Endnote ä¸­çš„ style ç”¨æ¥æ§åˆ¶å‚è€ƒæ–‡çŒ®çš„åœ¨æ–‡ç« ä¸­ä»¥åŠæ–‡åçš„è¾“å‡ºæ ¼å¼ï¼Œä¸åŒçš„æœŸåˆŠï¼Œä¼šè®®ä»¥åŠæ ‡å‡†å¯¹æ ¼å¼çš„è¦æ±‚ä¸åŒã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"24 March 2018","externalUrl":null,"permalink":"/2018/03/24/separate-reference-with-endnote/","section":"Posts","summary":"\u003cp\u003eæ¯•ä¸šå­£åˆ°äº†ï¼Œå¦‚æœä½¿ç”¨ Word æ¥å†™æ¯•ä¸šè®ºæ–‡ï¼Œè®ºæ–‡å†™ä½œä¸­çš„å‚è€ƒæ–‡çŒ®å¤„ç†ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ï¼Œåœ¨ Word ç®¡ç†å‚è€ƒçš„æ¯”è¾ƒå¥½çš„æ–¹å¼æ˜¯é€šè¿‡ \u003ca href=\"http://www.ioa.cas.cn/xwzx/zhxw/201410/P020141013364219434960.pdf\" target=\"_blank\"\u003eEndnote\u003c/a\u003eã€‚Endnote æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å¯è§†åŒ–ç®¡ç†å‚è€ƒæ–‡çŒ®çš„å·¥å…·ï¼Œæœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Endnote ç»“åˆ Microsoft Word ç»™æ¯ä¸ªç« èŠ‚åˆ†åˆ«è®¾ç½®å‚è€ƒæ–‡çŒ®åˆ—è¡¨ã€‚\u003c/p\u003e","title":"ä½¿ç”¨ Endnote ä¸ºè®ºæ–‡æ¯ä¸ªç« èŠ‚åˆ¶ä½œå•ç‹¬çš„å‚è€ƒæ–‡çŒ®åˆ—è¡¨","type":"posts"},{"content":"There are a lot of front-end editors for writing LaTeX source, for example, Texmaker, TeXstudio, WinEdt. I have used TeXstudio for a while, but its user interface is a little dull. So I decided to give Sublime Text a shot. In this post, I want to share the configurations necessary to write and compile LaTeX source code and to preview the produced PDF files.\nChoose a TeX distribution # $\\TeX$ is like a programming language, you need a compiler and other necessary components such as packages and classes to compile your source files. For Windows, TeX Live is an excellent choice. You can download it here. When installing TeX Live, you can choose the full scheme, which will install everything you need on your computer.\nThe full installation of TeX Live may take more than half of an hour depending on various factors. Stay patient. After installation, you should add TeX Live executables to your system PATH. On my system, the directory where these executables reside is D:\\texlive\\2017\\bin\\win32.\nRestarting your computer may be required for PATH change to take effect.\nInstall the LaTeXTools package # Now, you should install the LaTeXTools package, which provides a lot of functionalities for writing and compiling LaTeX files. If you have installed package control, you can install this package using package control.\nInstall Sumatra PDF reader # To preview the produced PDF files, I recommend using the well-known light-weight Sumatra PDF reader. After install, we should also set its path properly.\nCheck your system # After all these installations and settings, we can use the built-in function of LaTexTools to check our system. To check if there are any issues, follow the image below on how to do it:\nThe result of Check System is shown below:\nIf there are no issues found, you can now write and compile your LaTeX source files.\nWrite and compile LaTeX source files # Use the shortcut key Ctrl+B to compile the file. You may be prompted to choose a builder. Just choose the basic builder.\nOther packages to install # There are a few packages designed for use with LaTeXTools, for example, LaTex-cwl and LaTeXYZ. You should install them to enhance your experience of writing LaTeX in Sublime Text.\nConfigure inverse search for PDF files # Inverse search is a handy feature. First, compile any tex files and open it with Sumatra PDF reader. Then go to Settings -\u0026gt; Options. In the inverse search part, use the following setting:\n\u0026#34;D:\\Program Files\\Sublime Text 3\\sublime_text.exe\u0026#34; \u0026#34;%f:%l\u0026#34; In the above setting, change the directory of Sublime Text executable to its actual location on your system.\nMore questions? # The LaTeXTools package has an online documentation, which is well written. You can read it here.\nReferences # Set up inverse search on Sumatra. ","date":"10 March 2018","externalUrl":null,"permalink":"/2018/03/10/sublime-text-latextools-setup/","section":"Posts","summary":"\u003cp\u003eThere are a lot of \u003ca href=\"https://en.wikipedia.org/wiki/Comparison_of_TeX_editors\" target=\"_blank\"\u003efront-end\neditors\u003c/a\u003e for writing\nLaTeX source, for example, \u003ca href=\"http://www.xm1math.net/texmaker/\" target=\"_blank\"\u003eTexmaker\u003c/a\u003e,\n\u003ca href=\"https://github.com/texstudio-org/texstudio/releases\" target=\"_blank\"\u003eTeXstudio\u003c/a\u003e,\n\u003ca href=\"http://www.winedt.com/\" target=\"_blank\"\u003eWinEdt\u003c/a\u003e. I have used TeXstudio for a while, but its\nuser interface is a little dull. So I decided to give \u003ca href=\"https://www.sublimetext.com/\" target=\"_blank\"\u003eSublime\nText\u003c/a\u003e a shot. In this post, I want to share the\nconfigurations necessary to write and compile LaTeX source code and to preview\nthe produced PDF files.\u003c/p\u003e","title":"Set up Sublime Text as Your Ultimate LaTeX Editor","type":"posts"},{"content":"As I have posted earlier, Cmder is a better option if you use Windows command line frequently. The full installation of Cmder comes with Git for Windows, which is handy to provide a Linux-like environment. In this post, I will write about how to use Git for Windows to connect to a remote CentOS server and set up X11 forwarding to use the GUI applications on that server.\nEnable X11 forwarding on your CentOS server # First, you need to make sure that your server support X11 forwarding. Edit the file /etc/sshd_config and use the following settings:\nX11Forwarding yes X11DisplayOffset 10 X11UseLocalhost no If you are using CentOS 7, you should use\nsystemctl restart sshd.service to restart the sshd service. If you are on CentOS 6, you should use the following command instead:\nservice sshd restart Install X server program on Windows # In order to use X11 forwarding, you also need to install a X server on your Windows computer. You can choose to install xming or vcxsrv. Vcxsrv is better since it is updated frequently and is free, while latest version of xming requires a license. There is a good post that introduces vcxsrv.\nIn this post, we stick to vcxsrv. Install the application, and you will see two program: xlaunch and vcxsrv. Xlaunch is used to configure the X server and vcxsrv is used to start the server. Open xlaunch and use the default settings. Then start vcxsrv. The program will run in the background. Go to the task bar and point to program, you will see information like the following:\nJD-PC:0.0 - 0 clients\nConfigure ssh # After starting the X server, we need to configure the ssh.\nFirst, open git-bash, change directory to $HOME and create .bash_profile, write following options in the .bash_profile\nexport DISPLAY=localhost:0.0 Save the file and restart git-bash.\nSecond, connect to your remote server using the following command:\nssh -X -v \u0026lt;user\u0026gt;@\u0026lt;server_addresss\u0026gt; The option -v is used to diagnose the X connection problems.\nTrouble shotting # After logging into your server, you may notice a warning message during login:\nWarning: untrusted X11 forwarding setup failed: xauth key data not generated\nIf you try to start a GUI program, e.g., xclock, you may see an error message:\nError: Can\u0026rsquo;t open display:\nIf that is the case, close the session and try to use the following command to connect to your server instead:\nssh -Y -v \u0026lt;user\u0026gt;@\u0026lt;server_addresss\u0026gt; Rerun the xclock program with xclock \u0026amp;. It should works fine.\nWe can run multiple GUI applications, for example xclock \u0026amp;, xeyes \u0026amp;. If you point to vcxsrv icon in the task bar, you will see that now it has 2 clients:\nJD-PC:0.0 - 2 clients\nReferences # https://stackoverflow.com/questions/10129267/x-session-in-git-bash-on-windows https://serverfault.com/questions/273847/what-does-warning-untrusted-x11-forwarding-setup-failed-xauth-key-data-not-ge ","date":"2 March 2018","externalUrl":null,"permalink":"/2018/03/02/windows-connect-server-x11-with-gitbash/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://jdhao.github.io/2017/12/29/cmder-usage/\" target=\"_blank\"\u003eAs I have posted earlier\u003c/a\u003e,\nCmder is a better option if you use Windows command line frequently. The full\ninstallation of Cmder comes with \u003ca href=\"https://gitforwindows.org/\" target=\"_blank\"\u003e\u003cem\u003eGit for Windows\u003c/em\u003e\u003c/a\u003e, which is handy to provide a Linux-like\nenvironment. In this post, I will write about how to use Git for Windows to\nconnect to a remote CentOS server and set up X11 forwarding to use the GUI\napplications on that server.\u003c/p\u003e","title":"Set up X11 Forwarding with Git for Windows (git-bash)","type":"posts"},{"content":"Favicons are used widely in websites. Since you come to this post purposefully, I assume that you have a basic understanding of what favicon is. With Hexo, we can easily customize the favicon of our blog site. In this post, I will describe how to set up a custom favicon in theme NexT.\nConvert your favorite image into favicon # The first step is to convert your favorite image into favicon. You can use favicon generatorï¼Œload your favorite image into this website, and click the button Create Favicon to generate favicons for your blog. Then download the generated favicons (see image below).\nCreate a favicon with only text # If you want to create a favicon with only text. You should use favicon.io. It is simple to use. You can tweak the font type, font size, text box shape, color etc. Then you can download the 1024x1024 PNG image from the website and use favicon generator to generate various favicons.\nSet up in theme NexT # After you have generated the favicons, extract the zipped files, you will see a lot of files.\nGo the blog root, under the source folder, create a folder named images. Copy the extracted files to this folder. Then edit the theme NexT configuration file (i.e., theme/next-new/_config.yml). Find the part about favicon and use the following settings,\nfavicon: small: images/favicon-16x16.png medium: images/favicon-32x32.png apple_touch_icon: images/apple-icon-180x180.png safari_pinned_tab: android_manifest: images/manifest.json ms_browserconfig: images/browserconfig.xml Then deploy your blog to GitHub. You will see that your blog now has a custom favicon (see image below, favicon in the circle)~\n","date":"8 February 2018","externalUrl":null,"permalink":"/2018/02/08/favicon-theme-next-setup/","section":"Posts","summary":"\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Favicon\" target=\"_blank\"\u003eFavicons\u003c/a\u003e are used widely in websites.\nSince you come to this post purposefully, I assume that you have a basic\nunderstanding of what favicon is. With \u003ca href=\"https://github.com/hexojs/hexo\" target=\"_blank\"\u003eHexo\u003c/a\u003e,\nwe can easily customize the favicon of our blog site. In this post, I will\ndescribe how to set up a custom favicon in \u003ca href=\"https://github.com/theme-next/hexo-theme-next\" target=\"_blank\"\u003etheme\nNexT\u003c/a\u003e.\u003c/p\u003e","title":"Customize Favicon for Hexo Blog in Theme NexT","type":"posts"},{"content":"","date":"8 February 2018","externalUrl":null,"permalink":"/tags/next/","section":"Tags","summary":"","title":"NexT","type":"tags"},{"content":"PowerPoint æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„ç»˜å›¾å·¥å…·ï¼Œå¯ä»¥å®Œæˆä¸€äº›ç®€å•çš„ç»˜å›¾å·¥ä½œï¼Œå¹¶ä¸”æ”¯æŒå°† slide å¯¼å‡ºä¸ºå›¾ç‰‡æˆ–è€… PDF æ ¼å¼ï¼Œæ–¹ä¾¿æ’å…¥åˆ°å…¶ä»–æ–‡æ¡£ä¸­ï¼Œä½†æ˜¯é»˜è®¤å¯¼å‡ºçš„å›¾ç‰‡æˆ–è€… PDF æ–‡ä»¶ é€šå¸¸ä¼šæœ‰å¤§é‡å†—ä½™çš„ç™½è¾¹ã€‚å¦‚ä½•è®¾ç½®ï¼Œæ‰èƒ½ä½¿å¾—å¯¼å‡ºçš„æ–‡ä»¶ä¸­çš„ç™½è¾¹å°½å¯èƒ½å°‘å‘¢ï¼Ÿæœ¬æ–‡å°† ç»™å‡ºä¸€ç§åŠæ³•ã€‚\nå¯¼å‡ºå›¾ç‰‡ # PowerPoint æ”¯æŒå¯¼å‡ºå•å¼  slide ä¸ºå›¾ç‰‡ï¼Œè¦æƒ³ä½¿å¾—å¯¼å‡ºçš„å›¾ç‰‡ç™½è¾¹å°½å¯èƒ½å°‘ï¼Œé¦–å…ˆé€‰ä¸­ slide ä¸­çš„å›¾ï¼ŒæŠŠå›¾åœ¨æ°´å¹³ä»¥åŠå‚ç›´æ–¹å‘éƒ½å±…ä¸­æ”¾ç½®ï¼Œç„¶åç‚¹å‡»ã€Œè®¾è®¡ã€é€‰é¡¹å¡ï¼Œè®¾ç½®ã€Œ å¹»ç¯ç‰‡å¤§å°ã€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nç‚¹å‡»ã€Œå¹»ç¯ç‰‡å¤§å°ã€ï¼Œé€‰æ‹©ã€Œè‡ªå®šä¹‰å¹»ç¯ç‰‡å¤§å°ã€ï¼Œ\nåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œé€æ¸ç¼©å°å¹»ç¯ç‰‡çš„é«˜å’Œå®½ï¼Œ\nç‚¹å‡»ã€Œç¡®å®šã€ï¼Œä¼šå¼¹å‡ºæ–°çš„çª—å£ï¼Œé€‰æ‹©ã€Œæœ€å¤§åŒ–ã€ï¼Œ\nç„¶åä½ ä¼šå‘ç° slide çš„ç™½è¾¹å˜å°‘äº†ï¼Œè¾¹ç¼˜æ›´åŠ ç´§å‡‘äº†ã€‚ç„¶åé€æ¸æ›´æ”¹å®½å’Œé«˜ï¼Œå¾—åˆ°è‡ªå·±æƒ³ è¦çš„ç»“æœã€‚æœ€åæŠŠå½“å‰å¹»ç¯ç‰‡å¦å­˜ä¸º JPEG æˆ–è€… PNG æ ¼å¼çš„å›¾ç‰‡å°±å¯ä»¥äº†ã€‚\nå¯¼å‡º PDF # PDF æ–‡ä»¶çš„ä¼˜ç‚¹æ˜¯ä¸ä¼šå› ä¸ºæ”¾å¤§è€Œå˜å½¢ï¼Œå› æ­¤å¦‚æœæƒ³è¦ä¿å­˜é«˜è´¨é‡çš„å›¾ç‰‡ï¼ŒPDF æ ¼å¼æ˜¯é¦– é€‰ï¼ŒPowerPoint æ”¯æŒæŠŠå¹»ç¯ç‰‡ä¿å­˜ä¸º PDF æ ¼å¼ï¼Œä½†æ˜¯ä¼šæŠŠæ‰€æœ‰å¹»ç¯ç‰‡å…¨éƒ¨ä¿å­˜ä¸ºä¸€ä¸ª PDFï¼Œå¹¶ä¸æ”¯æŒæŠŠå•å¼  slide å¯¼å‡º PDFï¼Œå› æ­¤å¦‚æœæƒ³è¦å¯¼å‡ºå•å¼ å¹»ç¯ç‰‡åˆ° PDFï¼Œæ–°å»ºä¸€ä¸ª PowerPoint æ–‡ä»¶ï¼ŒæŠŠæƒ³è¦å¯¼å‡ºä¸º PDF çš„ slide æ‹·è´è¿‡å»ï¼Œç›¸å½“äºå»ºç«‹ä¸€ä¸ªåªæœ‰ä¸€å¼ å¹»ç¯ ç‰‡çš„ PowerPoint æ–‡ä»¶ã€‚è®¾ç½® margin çš„æ–¹å¼ä¸å¯¼å‡ºå›¾ç‰‡æ—¶æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡è‡ªå®šä¹‰å¹» ç¯ç‰‡å¤§å°æ¥å®ç°çš„ã€‚ç„¶åå†å¯¼å‡ºä¸º PDF æ–‡ä»¶å³å¯ã€‚\nå‚è€ƒ # https://answers.microsoft.com/en-us/msoffice/forum/msoffice_powerpoint-mso_mac-mso_mac2016/powerpoint-2016-to-pdf-page-margin-issue/d7f69d16-adb4-4b9a-89a0-3f32359e03f9 https://answers.microsoft.com/en-us/mac/forum/macoffice2011-macpowerpoint/save-a-single-slide-as-a-pdf/9b438c1b-89cc-4a68-b65c-14d8d7ad8461 ","date":"6 February 2018","externalUrl":null,"permalink":"/2018/02/06/export-borderless-img-pdf-from-powerpoint/","section":"Posts","summary":"\u003cp\u003ePowerPoint æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„ç»˜å›¾å·¥å…·ï¼Œå¯ä»¥å®Œæˆä¸€äº›ç®€å•çš„ç»˜å›¾å·¥ä½œï¼Œå¹¶ä¸”æ”¯æŒå°† slide\nå¯¼å‡ºä¸ºå›¾ç‰‡æˆ–è€… PDF æ ¼å¼ï¼Œæ–¹ä¾¿æ’å…¥åˆ°å…¶ä»–æ–‡æ¡£ä¸­ï¼Œä½†æ˜¯é»˜è®¤å¯¼å‡ºçš„å›¾ç‰‡æˆ–è€… PDF æ–‡ä»¶\né€šå¸¸ä¼šæœ‰å¤§é‡å†—ä½™çš„ç™½è¾¹ã€‚å¦‚ä½•è®¾ç½®ï¼Œæ‰èƒ½ä½¿å¾—å¯¼å‡ºçš„æ–‡ä»¶ä¸­çš„ç™½è¾¹å°½å¯èƒ½å°‘å‘¢ï¼Ÿæœ¬æ–‡å°†\nç»™å‡ºä¸€ç§åŠæ³•ã€‚\u003c/p\u003e","title":"å¦‚ä½•ä» PowerPoint å¹»ç¯ç‰‡å¯¼å‡ºæ²¡æœ‰å¤šä½™ç™½è¾¹çš„å›¾åƒæˆ–è€… PDF æ–‡ä»¶","type":"posts"},{"content":"å¥½å‡ ä¸ªæœˆå‰å°±çŸ¥é“æœ‰äººç”¨ GitHub çš„ issue åŠŸèƒ½ä¸º Hexo åˆ¶ä½œäº†ä¸€ä¸ªè¯„è®ºç³»ç»Ÿ gitmentï¼Œå†³å®šå°è¯•ä¸€ä¸‹ gitment ã€‚\nç®€å•é…ç½® # æˆ‘ä½¿ç”¨çš„æ˜¯ NexT ä¸»é¢˜ï¼Œæœ€æ–°ç‰ˆå·²ç»å¼•å…¥äº† gitment çš„æ”¯æŒï¼Œå› æ­¤é…ç½®ç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚é¦– å…ˆç‚¹å‡»è¿™é‡Œæ³¨å†Œ GitHub OAuthï¼Œç¤º ä¾‹é…ç½®å¦‚ä¸‹ï¼š\nåœ¨æ¥ä¸‹æ¥çš„é¡µé¢ï¼Œä¹Ÿä¼šçœ‹åˆ°è‡ªå·±çš„ Client ID ä»¥åŠ Client Secretï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ\næ¥ä¸‹æ¥æ‰“å¼€ NexT ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ï¼Œä½äº hexo\\blog ç›®å½•ä¸‹çš„ theme\\next\\_config.ymlã€‚ æ‰åˆ° gitment éƒ¨åˆ†ï¼Œç¤ºä¾‹é…ç½®å¦‚ä¸‹ï¼š\ngitment: enable: enable mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide \u0026#39;Powered by ...\u0026#39; on footer, and more language: en github_user: jdhao github_repo: jdhao.github.io #the name of the repo used to host your blog client_id: xxxxxxx client_secret: xxxxxx proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled è®¾ç½®å®Œæˆä»¥åé‡æ–° generate blog å³å¯ã€‚\nä½¿ç”¨ # åˆæ¬¡ä½¿ç”¨ï¼Œå¯¹äºä¸€ç¯‡åšå®¢ï¼Œæƒ³è¦è¯„è®ºï¼Œå¿…é¡»ç™»å½•è‡ªå·±çš„ GitHub å¸å·ï¼ŒåŒæ—¶å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ è¯„è®ºï¼Œéœ€è¦ç‚¹å‡» Initialize Comments:\nç„¶åå°±å¯ä»¥è¿›è¡Œè¯„è®ºäº†ã€‚\nå€¼å¾—è­¦æƒ•çš„äº‹æƒ… # å¦‚æœä½ ä½¿ç”¨ GitHub å¸å·è¯„è®ºåˆ«äººçš„åšå®¢ï¼Œåšå®¢çš„ä¸»äººå°†æœ‰æƒåŠ›è¯»å†™ä½ çš„è´¦æˆ·ä¸‹ repo çš„ æ•°æ®ï¼Œæ‰€ä»¥å¯èƒ½ä¼šé€ æˆä¸€äº›å®‰å…¨é—®é¢˜ ï¼Œå¦‚æœä»‹æ„çš„è¯ï¼Œæœ€å¥½ ä¸è¦ä½¿ç”¨ gitmentã€‚\nå‚è€ƒ # https://github.com/imsun/gitment/issues/18 ","date":"1 February 2018","externalUrl":null,"permalink":"/2018/02/01/hexo-comment-gitment-config/","section":"Posts","summary":"\u003cp\u003eå¥½å‡ ä¸ªæœˆå‰å°±çŸ¥é“æœ‰äººç”¨ GitHub çš„ issue åŠŸèƒ½ä¸º Hexo åˆ¶ä½œäº†ä¸€ä¸ªè¯„è®ºç³»ç»Ÿ\n\u003ca href=\"https://imsun.net/posts/gitment-introduction/\" target=\"_blank\"\u003egitment\u003c/a\u003eï¼Œå†³å®šå°è¯•ä¸€ä¸‹ gitment\nã€‚\u003c/p\u003e","title":"æŠŠ Hexo çš„è¯„è®ºç³»ç»Ÿåˆ‡æ¢ä¸º gitment","type":"posts"},{"content":"It is almost destined that at some point of our programming years, we will meet the issue of character set, encoding and all the related stuff. There are tons of articles which explains the meaning of Unicode, UTF-8, UTF-16 etc. I am not going to repeat that here. In this post, I will write about what confused me when I tried to understand all this stuff.\nCharacter, character set, code point and encoding # We use characters every day. They are huge number of them, e.g., English characters (A, B, C), punctuations (,, ., !), Chinese characters (ä½ , å¥½), Japanese characters (ã®, ãŸ).\nIn order to represent all these characters or part of them, we give each character a unique number (you can think of this number as an ID). In other words, when we refer to a number, the corresponding character will be uniquely determined. We call this number code point.\nSimply said, a character set is table which list the correspondence between code points and characters. One of the most simple character set is ASCII, in which characters are represented as code points in the range $[0, 127]$. For example, the code point of letter A is 65 (0x41 in hex format) and the code point of ! is 33 (0x21 in hex format). There are a lot of other character sets available, e.g., Unicode, GB18030, GBK, etc.\nNow, let\u0026rsquo;s talk about encoding. Since we have character set, where each character gets its own code point. But how to represent these code points so that characters can be actually saved in the hard disk (encode issue), and how to read from the hard disk and know which character we are reading (decode issue)? That is what encodings deal with. With proper encoding of character set, we can save characters in disk and read characters from disk without any error. Since encoding is just a way to represent code points in memory, it is natural that various encodings exist for the same character set. Character set and encoding are different concept. Do not confuse them. Take Unicode for an example, Unicode is a character set, and several encodings such as UTF-8, UTF-16 and UTF-32 designed for it exist.\nIt should be noted that for simple character set such as ASCII and Latin 1, the code point of a character and its binary representation in memory are the same. That is because all the code point can be expressed in just one byte. That is why sometimes character set and encoding are use interchangeably. But for Unicode, the code point of a character does not necessarily equal to its binary representation due to encoding issues of several bytes.\nReferences # https://www.w3.org/International/questions/qa-what-is-encoding http://ergoemacs.org/emacs/unicode_basics.html SBCS, DBCS and MBCS # SBCS denotes single-byte character set, where all characters are represented using a single byte. Thus, the maximum characters which can be represented are 256. DBCS denotes double-byte character set, where all characters are represented using two bytes. It is easy to see that both SBCS and DBCS can represent only a limited number of characters. In contrast, a multi-byte character set (MBCS) can represent a character using single byte, two bytes, three bytes or even more bytes. This gives it much more flexibility to represent more characters. Table below lists some representative character sets,\ncharacter set representatives SBCS ASCII, Latin 1 DBCS GB2312 MBCS Unicode Unicode # Unicode is a combined efforts from different organizations to try to standardize the representation of all existing characters in the world. It is the most comprehensive character set in the world, and it is updated regularly. Each character in Unicode is represented using a code point. The Unicode representation for code point starts with U+. For example, the code point for my name is U+90DD, U+6770 and U+4E1C. It is one of the most widely used character set in today\u0026rsquo;s world.\nReferences # Joel Spolsky\u0026rsquo;s Unicode article. Relationship between Unicode and UTF-8, UTF-16, UTF-32 etc. # Unicode is just a comprehensive character set, which assign a code point to each character. In contrast, UTF-8, UTF-16 and UTF-32 are encodings which implement the Unicode. For example, UTF-8 decrees how the different characters in Unicode character set are actually represented in memory. In UTF-8 encoding, code point does not necessarily equal to the actual memory representation of a character. Take the character ä¸œ for an example, its code point is U+4E1C, and the byte representation in memory is E4B89C.\nReferences # Difference between Unicode and UTF-8. http://www.polylab.dk/utf8-vs-unicode.html Difference between Unicode, UTF8, ANSI etc. Difference between Unicode and ASCII. GB2312, GBK, GB18030, Big5 # Like Unicode, both the above names denote different character sets related to Chinese (simplified or traditional).\nGB2312 is an early character set for simplified Chinese, which contains 6763 Chinese characters (simplified) and 682 other signs. From WikiPedia,\nGB2312 includes 6,763 Chinese characters (on two levels: the first is arranged by reading, the second by radical then number of strokes), along with symbols and punctuation, Japanese kana, the Greek and Cyrillic alphabets, Zhuyin, and a double-byte set of Pinyin letters with tone marks\nBig5 is the character set for traditional Chinese characters used in Taiwan, HongKong etc. It is developed by 5 biggest IT companies in Taiwan in the 1980s.\nGBK is an extended character set of the early GB2312 (k denotes Kuozhan in Chinese, which means extend). From WikipPedia,\nGBK not only extended the old standard GB2312 with Traditional Chinese characters, but also with Chinese characters that were simplified after the establishment of GB2312 in 1981. With the arrival of GBK, certain names with characters formerly unrepresentable, like the \u0026ldquo;rÃ³ng\u0026rdquo;(é••) character in former Chinese Premier Zhu Rongji\u0026rsquo;s name, are now representable.\nGB18030 is a further improvement over GB2312 and GBK and is backward compatible with GB2312 and GBK. It encodes all the code points in the Unicode 3.0 standard. So we can convert between Unicode and GB18030.\nReferences # https://www.pinyinjoe.com/pinyin/encoding.htm Microsoft Windows Code page # In the old days before Unicode becomes popular. Microsoft use code pages to deal with different characters used by different regions in the world. The name code page has somewhat combined meanings. Sometimes, it refers to character sets, and other times, it means character encoding.\nFor computers sold in mainland China, the default code page for command line is code page 936 (or cp936 in short form). In the Windows command line, you can check the current code page by using chcp without any argument. If the error message from some executable are in Unicode format and you are using cp936, the error message will be shown as gibberish. The way to fix is to change your code page to UTF-8. The Windows code page for UTF-8 is 65001. You can use chcp 65001 or chcp utf-8 to change your code page to UTF-8.\nReferences # https://msdn.microsoft.com/en-us/library/windows/desktop/dd317756(v=vs.85).aspx Is codepage 65001 and UTF-8 the same? Character set and typeface (or font) # Now that we have character set and encoding. How to display these characters in certain form (fontsize, bold or italic)? This is what the typeface or font (the two terms are often used interchangeably) do:\nA font is a set of printable or displayable text characters in a specific style and size. The type design for a set of fonts is the typeface and variations of this design form the typeface family .\nYou may have already noticed that for a particular character, there are several font which can display it. See the image below for the display of the character ä¸œ in different fonts.\nA font has many glyphs for different characters. But no font contains all the characters in the Unicode standard. According to discussion here, a maximum of 65536 glyphs are allowed for OpenType font. If you want to display a Unicode character in a certain font, you have to make sure the font has the glyph for that character. If the chosen font does not have a glyph for the character, the character may be displayed as a square box. See reference below on how to check if a character is included in a certain font.\nReferences # How to know if a Unicode character is missing from a font. Similar character may have different code point # The other day, I encounter a strange problem. Two characters looking similar are actually different. The two characters are shown below (enlarged in order to show their subtle difference):\nLocale and difference between various UTF-8 locales # In Linux system, we often see the term locale. What does that mean? According to oracle documentation:\nA locale consists of a number of categories for which country-dependent formatting or other specifications exist. A program\u0026rsquo;s locale defines its code sets, date and time formatting conventions, monetary conventions, decimal formatting conventions, and collation (sort) order.\nA locale name can be composed of a base language, country (territory) of use, and codeset. For example, German language is de, an abbreviation for Deutsch, while Swiss German is de_CH, CH being an abbreviation for Confederation Helvetica. This convention allows for specific differences by country, such as currency unit notation. In Oracle Solaris 11 the default locale codeset is UTF-8, an ASCII compatible 8-bit encoding form of Unicode. The fully defined locale name for Swiss German would thus be de_CH.UTF-8.\nMore than one locale can be associated with a particular language, which allows for regional differences. For example, an English-speaking user in the United States can select the en_US.UTF-8 locale (English for the United States), while an English-speaking user in Great Britain can select en_GB.UTF-8 (English for Great Britain).\nThus, different locales can share the same encoding UTF-8, which is why you see locales such as en_US.UTF-8 and zh_CN.UTF-8. In these locales, the characters use the same encoding UTF-8. Their differences reside in region-specific format, e.g., date format and monetary sign ($ or ï¿¥).\nReferences # Difference between zh_CN.UTF-8 and en_US.UTF-8. Difference between UTF-8 and en_AU.UTF-8. What should I set my locale to. Search a Unicode character in Sublime Text using its code point # We usually search a character using the character itself. But certain characters, such as the zero-width space character are hard to type. In that situation, it is easier to search such characters using their code points. In Sublime Text, you can use \\x{CODE_POINT} to search a character with code point CODE_POINT. For example, for zero-width space, you can use \\x{200b} to search it.\nReferences # Character sets, locales, fonts and code page relationship. ","date":"28 January 2018","externalUrl":null,"permalink":"/2018/01/28/unicodede-utf8-gbk/","section":"Posts","summary":"\u003cp\u003eIt is almost destined that at some point of our programming years, we will meet\nthe issue of character set, encoding and all the related stuff. There are tons\nof articles which explains the meaning of \u003ccode\u003eUnicode\u003c/code\u003e,  \u003ccode\u003eUTF-8\u003c/code\u003e, \u003ccode\u003eUTF-16\u003c/code\u003e etc. I\nam not going to repeat that here. In this post, I will write about what\nconfused me when I tried to understand all this stuff.\u003c/p\u003e","title":"Character set, Encoding, Locale, Font and More...","type":"posts"},{"content":"Recently I plan to transplant one of my old post from other site to this new site (you can find the new post here). The old post contains quite a lot of equations in LaTeX format. With so much equations in one post, I find it really hard to refer to some equations without using proper numbering. So I decide to figure out how to use LaTeX equation numbering properly in my post.\nEnable MathJax and equation numbering Update 2018-05-16: This feature has been incorporated into NexT and released in version 6.3.0. You can skip this section safely now.\nIf you use NexT theme, see here on how to enable MathJax. By default, equation numbering is disable by Mathjax, you can enable equation numbering in two ways.\nFirst way According to MathJax official documentation, just paste the following script into the front of your Markdown file,\n\u0026lt;script type=\u0026quot;text/x-mathjax-config\u0026quot;\u0026gt; MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: \u0026quot;AMS\u0026quot; } } }); \u0026lt;/script\u0026gt; Second way Find the file mathjax.swig under theme NexT root (it is in the folder layout\\_third-party). Change the following snippet\n\u0026lt;script type=\u0026quot;text/x-mathjax-config\u0026quot;\u0026gt; MathJax.Hub.Config({ tex2jax: { inlineMath: [ [\u0026#39;$\u0026#39;,\u0026#39;$\u0026#39;], [\u0026quot;\\\\(\u0026quot;,\u0026quot;\\\\)\u0026quot;] ], processEscapes: true, skipTags: [\u0026#39;script\u0026#39;, \u0026#39;noscript\u0026#39;, \u0026#39;style\u0026#39;, \u0026#39;textarea\u0026#39;, \u0026#39;pre\u0026#39;, \u0026#39;code\u0026#39;] } }); \u0026lt;/script\u0026gt; to\n\u0026lt;script type=\u0026quot;text/x-mathjax-config\u0026quot;\u0026gt; MathJax.Hub.Config({ tex2jax: { inlineMath: [ [\u0026#39;$\u0026#39;,\u0026#39;$\u0026#39;], [\u0026quot;\\\\(\u0026quot;,\u0026quot;\\\\)\u0026quot;] ], processEscapes: true, skipTags: [\u0026#39;script\u0026#39;, \u0026#39;noscript\u0026#39;, \u0026#39;style\u0026#39;, \u0026#39;textarea\u0026#39;, \u0026#39;pre\u0026#39;, \u0026#39;code\u0026#39;] }, TeX: {equationNumbers: { autoNumber: \u0026quot;AMS\u0026quot; }} }); \u0026lt;/script\u0026gt; Thanks to post here.\nMake the automatic equation numbering work In general, to make the automatic equation numbering work, you have to wrap your LaTeX equations in equation environment. Using the plain old style (i.e., wrap an equation with two dollar signs in each side) will not work. How to refer to an equation? Just give a \\label{} tag and then in your later text, use \\ref{} or \\eqref{} to refer it. Using \\eqref{} is preferred since if you use \\ref{}, there are no parentheses around the equation number. There are some variations I would like to elaborate.\nSimple equation For simple equations like the following,\n\\[\\begin{equation} E=mc^2 \\end{equation}\\label{eq1}\\]\nIt is easy to write and cite. Just use $\\eqref{eq1}$ to refer to equation \\(\\eqref{eq1}\\). The code to produce the equation \\(\\eqref{eq1}\\) is\n$$\\begin{equation} E=mc^2 \\end{equation}\\label{eq1}$$ Multi-line equation For multi-line equations, inside the equation environment, you can use the aligned environment to split it into multiple lines. For example,\n\\[\\begin{equation} \\begin{aligned} a \u0026amp;= b + c \\\\ \u0026amp;= d + e + f + g \\\\ \u0026amp;= h + i \\end{aligned} \\end{equation}\\label{eq2}\\]\nEquation \\(\\eqref{eq2}\\) is a multi-line equation. The code to produce equation \\(\\eqref{eq2}\\) is\n$$\\begin{equation} \\begin{aligned} a \u0026amp;= b + c \\\\ \u0026amp;= d + e + f + g \\\\ \u0026amp;= h + i \\end{aligned} \\end{equation}\\label{eq2}$$ Multiple aligned equations We can use align environment to align multiple equations. Each of these equations will get its own numbers.\n\\[\\begin{align} a \u0026amp;= b + c \\label{eq3} \\\\ x \u0026amp;= yz \\label{eq4}\\\\ l \u0026amp;= m - n \\label{eq5} \\end{align}\\]\nThere are three aligned equations above: equation \\(\\eqref{eq3}\\), equation \\(\\eqref{eq4}\\) and equation \\(\\eqref{eq5}\\).\nUse the following code to reproduce,\n$$\\begin{align} a \u0026amp;= b + c \\label{eq3} \\\\ x \u0026amp;= yz \\label{eq4}\\\\ l \u0026amp;= m - n \\label{eq5} \\end{align}$$ Since align in and of itself is a complete equation environment1. You do not need to wrap it with equation environment.\nWhat if you do not want to number some equations In the align environment, if you do not want to number one or some equations, just use \\nonumber right behind these equations. Like the following.\n\\[\\begin{align} -4 + 5x \u0026amp;= 2+y \\nonumber \\\\ w+2 \u0026amp;= -1+w \\\\ ab \u0026amp;= cb \\end{align}\\]\nThe code to reproduce is\n$$\\begin{align} -4 + 5x \u0026amp;= 2+y \\nonumber \\\\ w+2 \u0026amp;= -1+w \\\\ ab \u0026amp;= cb \\end{align}$$ Use \\tag to tag equations Sometimes, you want to use more â€œexoticâ€ style to refer your equation. You can use \\tag{} to achieve this. For example\n\\[x+1\\over\\sqrt{1-x^2} \\tag{i}\\label{eq_tag}\\]\nEquation \\(\\eqref{eq_tag}\\) use \\tag{} instead of automatic numbering. The code to produce it is\n$$x+1\\over\\sqrt{1-x^2} \\tag{i}\\label{eq_tag}$$ References http://docs.mathjax.org/en/latest/tex.html https://github.com/mathjax/MathJax/blob/master/test/sample-eqrefs.html https://minenet.me/2016/04/05/how-to-use-mathjax.html#mjx-eqn-1 http://kchen.cc/2016/12/06/latex-in-markdown/ Check here about the difference between aligned and align in LaTeXâ†©ï¸\n","date":"25 January 2018","externalUrl":null,"permalink":"/2018/01/25/hexo-mathjax-equation-number/","section":"Posts","summary":"\u003cp\u003eRecently I plan to transplant one of my old post from other site to\nthis new site (you can find the new post \u003ca\nhref=\"https://jdhao.github.io/2016/01/19/back-propagation-in-mlp-explained/\"\u003ehere\u003c/a\u003e).\nThe old post contains quite a lot of equations in LaTeX format. With so\nmuch equations in one post, I find it really hard to refer to some\nequations without using proper numbering. So I decide to figure out how\nto use LaTeX equation numbering properly in my post.\u003c/p\u003e","title":"LaTeX Equation Numbering Done Right in Hexo","type":"posts"},{"content":"When we want to put legend somewhere in a figure using Matplotlib, most of the time, the option loc='best' will produce the desired results. However, sometimes, we may want to have finer control over where the legend should be in the image. For example, we may want to put the legend outside of the axes, which is impossible using loc='best'.\nPut legend in your desired position # According to the documentation of Axes.legend() method, we can use the parameters loc and bbox_to_anchor to control the position of the legend. Unfortunately, the documentation for the two parameters are not very clear.\nIn plain words, bbox_to_anchor accepts a list of four values: (x0, y0, width, height). It will create a bounding box on the axes, inside which the actual legend will be placed. The lower left coordinate of the bounding box is (x0, y0). Its width and height are given by width and height, respectively. Often, you will see that a list of only two values are given to bbox_to_anchor, which means that the width and height of the bounding box is zero.\nThe parameter loc denotes the alignment relationship between the actual legend box and the bounding box. It means that different position indicated by loc in both the legend box and bounding box will be put at the same point. For example, if loc='center', the center of legend box and the bounding box will be at the same point. If loc='center right', the center of the right edge of the legend box and the bounding box will be aligned (i.e., at the same point).\nSo much for the text. Let\u0026rsquo;s take some examples to better illustrate the idea.\nWhen there are four values for bbox_to_anchor # import matplotlib.pyplot as plt import numpy as np import matplotlib.patches as patches locs = [\u0026#39;upper right\u0026#39;, \u0026#39;lower left\u0026#39;, \u0026#39;center left\u0026#39;, \u0026#39;lower center\u0026#39;, \u0026#39;center\u0026#39;, \u0026#39;right\u0026#39;] x0, y0, width, height = 0.5, 0.5, 0.1, 0.4 x = np.arange(0.1, 4, 0.1) y = 1.0/x fig = plt.figure(figsize=(10, 10)) idx = 1 for i in range(0, 2): for j in range(0, 3): ax = fig.add_subplot(3, 2, idx) ax.plot(x, y, label=r\u0026#39;$\\frac{1}{x}$\u0026#39;) ax.legend(loc=locs[idx-1], bbox_to_anchor=(x0, y0, width, height), edgecolor=\u0026#39;g\u0026#39;, fontsize=\u0026#39;large\u0026#39;, framealpha=0.5, borderaxespad=0) ax.add_patch( patches.Rectangle((x0, y0), width, height, color=\u0026#39;r\u0026#39;, fill=False, transform=ax.transAxes) ) ax.text(0.6, 0.2, s=\u0026#34;loc = \u0026#39;{}\u0026#39;\u0026#34;.format(locs[idx-1]), transform=ax.transAxes) idx += 1 plt.show() The above code will produce the image below\nIn the above image, the red box is the bounding box, and the green box is the legend box. loc in each subplot indicates the alignment between the two boxes.\nWhen there are only two values for bbox_to_anchor # When there are only two values given to bbox_to_anchor, the bounding box width and height are set to zero. So the bounding box will become a tiny little point. Let\u0026rsquo;s modify the above code slightly,\nimport matplotlib.pyplot as plt import numpy as np import matplotlib.patches as patches locs = [\u0026#39;upper right\u0026#39;, \u0026#39;lower left\u0026#39;, \u0026#39;center left\u0026#39;, \u0026#39;lower center\u0026#39;, \u0026#39;center\u0026#39;, \u0026#39;right\u0026#39;] x0, y0, width, height = 0.5, 0.5, 0, 0 x = np.arange(0.1, 4, 0.1) y = 1.0/x fig = plt.figure(figsize=(10, 10)) idx = 1 for i in range(0, 2): for j in range(0, 3): ax = fig.add_subplot(3, 2, idx) ax.plot(x, y, label=r\u0026#39;$\\frac{1}{x}$\u0026#39;) ax.legend(loc=locs[idx-1], bbox_to_anchor=(x0, y0, width, height), edgecolor=\u0026#39;g\u0026#39;, fontsize=\u0026#39;large\u0026#39;, framealpha=0.5, borderaxespad=0) ax.add_patch( patches.Rectangle((x0, y0), width, height, color=\u0026#39;r\u0026#39;, fill=False, transform=ax.transAxes) ) ax.text(0.6, 0.2, s=\u0026#34;loc = \u0026#39;{}\u0026#39;\u0026#34;.format(locs[idx-1]), transform=ax.transAxes) ax.plot(x0, y0, \u0026#39;r.\u0026#39;, markersize=8, transform=ax.transAxes) idx += 1 plt.show() Now, the produced image becomes\nPut legend outside of the axes box # Now that we know how to position the legend, it is trivial to put it outside of the axes. See the example code below on how to do it,\nimport matplotlib.pyplot as plt import numpy as np x = np.arange(-5, 5, 0.1) y1 = np.sin(x) y2 = np.cos(x) fig, ax = plt.subplots() ax.plot(x, y1, label=\u0026#39;sin(x)\u0026#39;) ax.plot(x, y2, label=\u0026#39;cos(x)\u0026#39;) ax.legend(loc=\u0026#39;lower left\u0026#39;, bbox_to_anchor= (0.0, 1.01), ncol=2, borderaxespad=0, frameon=False) plt.show() The produced image is\nCaveat # There is also a fig.legend() method which does similar things as the ax.legend() method, i.e., it can also put the legend outside of the axes. But, if you try to save the figure with its legend produced by fig.legend() using the option bbox_inches='tight', the legend may not be present in the generate image file. This is a bug of Matplotlib. Right now, just stick to the axes.legend() method.\nReferences # https://stackoverflow.com/questions/39803385/what-does-a-4-element-tuple-argument-for-bbox-to-anchor-mean-in-matplotlib/48405821#48405821 https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot?noredirect=1\u0026lq=1 https://stackoverflow.com/questions/48128546/why-is-the-legend-not-present-in-the-generated-image-if-i-use-tight-for-bbox-i ","date":"23 January 2018","externalUrl":null,"permalink":"/2018/01/23/matplotlib-legend-outside-of-axes/","section":"Posts","summary":"\u003cp\u003eWhen we want to put legend somewhere in a figure using Matplotlib, most of the\ntime, the option \u003ccode\u003eloc='best'\u003c/code\u003e will produce the desired results. However,\nsometimes, we may want to have finer control over where the legend should be in\nthe image. For example, we may want to put the legend outside of the axes,\nwhich is impossible using \u003ccode\u003eloc='best'\u003c/code\u003e.\u003c/p\u003e","title":"How To Put Legend outside of Axes Properly in Matplotlib?","type":"posts"},{"content":"This post continues my previous post on various tips and tricks collected during the process of using Matplotlib.\nWorking with math font # Default math font is ugly? # If you try to play with the built-in LaTeX-style math support in the recent version of Matplotlib, e.g., version 2.0. You may have noticed that the default math font is ugly compared to the nicer look of math symbols produced by LaTeX. See the figure above for an example.\nIt is because the default math font has changed since Matplotlib version 2.0. If you want to use the LaTeX-style font. You need to change the default math font to computer modern. There are two ways to achieve to this.\nChange the math font temporarily # You can change math font in your plotting script so that it only takes effect in your script. To do this, add the following statement to your script,\nimport matplotlib as mpl mpl.rcParams[\u0026#39;mathtext.fontset\u0026#39;] = \u0026#39;cm\u0026#39; Change the math font globally # You can also change the math font options in your matplotlibrc files. This will affect all your scripts afterwards. This file is usually located in $HOME under the directory ~/.config/matplotlib. But its location may vary. Use the following command to find where rc file is on your system,\nimport matplotlib as mpl print(mpl.matplotlib_fname()) Then find the line\n#mathtext.fontset : dejavusans Uncomment it and change it to\nmathtext.fontset : cm Now, the math font will look much better. All your script will use the new settings.\nMix math text with regular text # If we want to use line break in math expression, it will be useless since everything inside raw text is interpretted verbatim. In order to combine math expression with regular text, we can concatenate them together.\nimport matplotlib.pyplot as plt fig, ax = plt.subplots() ax.text(0.5, 0.5, r\u0026#34;$\\mu=1$\u0026#34; + \u0026#34;\\n\u0026#34; + r\u0026#34;$\\sigma=2$\u0026#34;, transform=ax.transAxes) plt.show() The produced image is\nType 3 font used by Matplotlib PDF backend # If you use the default Matplotlib setting to produce a PDF file and then include it in your paper, chances are that you will encounter errors when you test the PDF for compliance with the IEEE conference standard. The error shows that Type 3 font has been used in your paper. That is because Matplotlib use Type 3 font to produce PDF file by default.\nThe disadvantage of Type 3 font is that it can not be edited by a PDF editor such as Adobe Acrobat Pro. The \u0026ldquo;advantage\u0026rdquo; is that the produced PDF is small in size.\nYou can change this behavior in your script to use Type 42 font instead. This setting will work locally:\nimport matplotlib as mpl mpl.rcParams[\u0026#39;pdf.fonttype\u0026#39;] = 42 If you want to change this settings globally1, you can edit your matplotlibrc file like the example of changing math font.\nFind the line,\n#pdf.fonttype : 3 # Output Type 3 (Type3) or Type 42 (TrueType) Uncomment it and change it to\npdf.fonttype : 42 # Output Type 3 (Type3) or Type 42 (TrueType) Reducing the PDF size when Type-42 fonts are used # I have come to find that if you use Chinese font in your image and use the Type 42 font, the produced PDF size will be much larger. If you do not want to edit the produce pdf file, I think using Type 3 font may be fine.\nSome publisher explicitly require that Type 3 font is not included. Then we need to reduce the size of PDF in which Type 42 fonts are used. According to solutions here, we can convert the PDF file to Ghostscript file and convert back to PDF.\npdf2ps file.pdf file.ps ps2pdf -dPDFSETTINGS=/prepress file.ps file-optimized.pdf The option -dPDFSETTINGS defines the quality of the produced PDF. Possible options and explanations are listed below:\noption description -dPDFSETTINGS=/screen (screen-view-only quality, 72 dpi images) -dPDFSETTINGS=/ebook (low quality, 150 dpi images) -dPDFSETTINGS=/printer (high quality, 300 dpi images) -dPDFSETTINGS=/prepress (high quality, color preserving, 300 dpi imgs) -dPDFSETTINGS=/default (almost identical to /screen) The conversion process will reduce the PDF size considerably. In my case, the PDF size went from 5.3M to just 29k. The quality of the optimized PDF is acceptable. So this is an viable solution.\nP.S.: The pdffonts shipped by most Linux system can be used to detect which fonts are embedded in your PDF files. Here is another example to use pdffonts command.\nReferences # https://stackoverflow.com/questions/2660319/putting-newline-in-matplotlib-label-with-tex-in-python https://stackoverflow.com/questions/10284847/python-matplotlib-annotate-line-break-with-and-without-latex It means that you do not need to set the fonttype in every source file.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"18 January 2018","externalUrl":null,"permalink":"/2018/01/18/mpl-plotting-notes-201801/","section":"Posts","summary":"\u003cp\u003eThis post continues my \u003ca href=\"https://jdhao.github.io/2017/11/16/matplotlib-plotting-notes/\" target=\"_blank\"\u003eprevious post\u003c/a\u003e\non various tips and tricks collected during the process of using Matplotlib.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/18-1-18/39303776.jpg\"\ntitle=\"Different math symbols produced by Matplotlib and LaTeX\"\nstyle=\"float: middle;\"\u003e\u003c/p\u003e","title":"Working with Fonts in Matplotlib","type":"posts"},{"content":" Intro to Cmder # As a Windows user, now and then, I have to use the Windows CMD to run some simple command. Compared to its Linux counterpart (bash, for example), the Windows CMD is totally disaster: it does not support smart TAB completion, it does not support pipes and it has a dumb UI\u0026hellip; Fortunately, there is a tool called cmder which tries to enhance our experience of using consoles on Windows systems. It has a decent UI with different color themes, support for Linux-style tab completion and more\u0026hellip; It is far better than windows CMD.\nInstallation # Cmder is a combination of several good tools: Conemu, clink and git for Windows. In order to use its full functionality, it is better to install the full version. After download, just extract the zip package into your program folder. Then you can launch cmder using launch tools such as Listary.\nHow to Use # Start cmder in a particular directory # Sometimes, we want to start cmder in current directory. We can configure this easily:\nOpen the cmder executable as an Administrator Go the directory where cmder is extracted, e.g., D:\\Program Files\\cmder Execute .\\cmder.exe /REGISTER ALL command Then go to a directory and right click, you will see a contextual menu option Cmder Here (See image below).\nkeyboard shortcut # Shortcut Description Ctrl+T or Ctrl+Shift+1 start a new console tab Ctrl+W close a console tab Ctrl+R search command history Win+Alt+P open settings page Fore more keyboard shortcut, see here.\nUTF-8 decoding related issue # In order to show Chinese characters properly, we need to set up console to use UTF-8 decoding. Also, the font used should support Chinese characters. First we need to set up the font options, as shown below:\nShow directories with Chinese characters in their names # In its default setting, cmder can not display directories with Chinese characters in their names as shown below.\nThis can be easily fixed. Open the setting page, and go to Startup -\u0026gt; Environment, in the text box, use the following setting:\nset LANG=zh_CN.utf8 Error message containing Chinese characters # When we are executing some command, the error message from the command may contains Chinese characters, which are not displayed properly:\n$ pandoc \u0026ndash;pdf-engine=xelatex -V CJKmainfont=KaiTi test.md -o test.pdf Error producing PDF. ! Undefined control sequence. l.67 \u0026hellip;é”Ÿæ–¤æ‹·æ´ï¸½æ¹é—‚î‡€î•½é”›å±½ç°²ç’‡ãƒ¦å¦¸\\textwidthé¹ãˆ¡åš\nThis can be fixed by adding chcp utf-8 or chcp 65001 in the environment settings (see the above setting image). After applying this change, restart cmder and rerun the command, we find that the error message is correctly displayed now:\n$ pandoc \u0026ndash;pdf-engine=xelatex -V CJKmainfont=KaiTi test.md -o test.pdf Error producing PDF. ! Undefined control sequence. l.67 \u0026hellip;ï¿½ï¿½åº¦æœ‰é—®é¢˜ï¼Œåº”è¯¥æŠŠ\\textwidthæ¢æˆ\nSpurious character is inserted in command prompt when we press up arrow # When we press up arrow \u0026ldquo;â†‘\u0026rdquo; to bring up the history command, then delete the command, we may find that spurious character is inserted at command prompt. This issue is explained more thoroughly here, here and here.\nIn order to fix it, go to the cmder installation folder, the edit the file vendor\\clink.lua.\nFor older versions of Cmder # Replace the following snippet\nif env == nil then lambda = \u0026#34;Î»\u0026#34; else lambda = \u0026#34;(\u0026#34;..env..\u0026#34;) Î»\u0026#34; end with\nif env == nil then lambda = \u0026#34;$\u0026#34; else lambda = \u0026#34;(\u0026#34;..env..\u0026#34;) $\u0026#34; end For latest versions of Cmder # For the latest version of cmder (version 1.3.8), it seems that this old issue still persists. The clink.lua file have changed. Find the line\nlocal lambda = \u0026#34;Î»\u0026#34; and replace it with\nlocal lambda = \u0026#34;$\u0026#34; Restart cmder and the problem should disappear.\nReferences # Solving the issue of incorrectly displayed Chinese in error message How to display Chinese characters correctly in command output How to display Chinese characters correctly in command output, another post Unicode support of cmder. ","date":"29 December 2017","externalUrl":null,"permalink":"/2017/12/29/cmder-usage/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/18-1-1/79824514.jpg\"\n         title=\"A glimpse of Cmder\"\u003e\n\u003c/p\u003e","title":"Cmder --- The Ultimate Command Line Tool for Windows","type":"posts"},{"content":"\nupdate log 2021-06-27: è¡¥å……æ ‡é¢˜å¦‚ä½•ç”Ÿæˆçš„è¯´æ˜ã€‚ For English version of this post, click here.\næœ¬æ–‡ä¸»è¦å†™å¦‚ä½•ä½¿ç”¨ Pandoc ä» Markdown æ–‡ä»¶ç”Ÿæˆæ ¼å¼ç²¾ç¾çš„ PDF æ–‡ä»¶ï¼Œä¹ŸåŒ…å«äº†ä¸€äº›é‡åˆ°çš„é—®é¢˜çš„è§£å†³åŠæ³•ã€‚\nä½ éœ€è¦ä»€ä¹ˆ # åœ¨æ­£å¼å¼€å§‹æ–‡ç« ä¹‹å‰ï¼Œé¦–å…ˆä½ éœ€è¦å®‰è£…ä¸‹é¢çš„è¿™äº›å·¥å…·æ‰èƒ½åœ¨åç»­æ­£å¸¸è¿›è¡Œæ“ä½œï¼š\né¦–å…ˆå½“ç„¶æ˜¯ Pandocï¼Œä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…ï¼Œå®‰è£…å®Œä»¥åï¼Œè®°å¾—æŠŠ Pandoc å®‰è£…ç›®å½•åŠ å…¥ç³»ç»Ÿ PATH å˜é‡ã€‚\nTeX å‘è¡Œç‰ˆã€‚è¯·ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²ç»å®‰è£…äº† TeX è½¯ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ TeX Live æˆ–è€… MiKTeXï¼Œå®‰è£…å®Œæˆä¹‹åå¯èƒ½éœ€è¦è®¾ç½® PATHï¼Œæ¨èå®‰è£… TeX Liveã€‚\nä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå½“ç„¶é¦–æ¨ Sublime Text.å½“ç„¶äº†ï¼ŒVisual Studio Code å’Œ GitHub Atom ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚\nä½¿ç”¨ Pandoc ä» Markdown ç”Ÿæˆ PDF æ–‡ä»¶ # èƒŒæ™¯ä»‹ç» # Pandoc å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹ä¸åŒ Markup è¯­è¨€çš„æ–‡ä»¶è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œå› æ­¤è¢«èª‰ä¸ºæ ¼å¼è½¬æ¢çš„ã€Œç‘å£«å†›åˆ€ã€ã€‚ä½¿ç”¨ Pandoc æŠŠ Markdown æ–‡ä»¶è½¬ä¸º PDF æ–‡ä»¶ï¼Œå®é™…ä¸ŠåŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼š\nç¬¬ä¸€æ­¥ï¼Œ Markdown æ–‡ä»¶è¢«è½¬ä¸º LaTeX æºæ–‡ä»¶ã€‚ ç¬¬äºŒæ­¥ï¼Œè°ƒç”¨ç³»ç»Ÿçš„ pdflatex, xelatex æˆ–è€…å…¶ä»– TeX å‘½ä»¤ï¼Œå°† .tex æ–‡ä»¶è½¬æ¢ä¸ºæœ€ç»ˆçš„ PDF æ–‡ä»¶ (è§ä¸Šå›¾)ã€‚ ç”±äºæˆ‘çš„æ–‡æ¡£æ˜¯ä¸­æ–‡ï¼Œå¹¶ä¸”åŒ…å«å¼•ç”¨ï¼Œè¡¨æ ¼ç­‰æ¯”è¾ƒå¤æ‚çš„æ ¼å¼ï¼Œåœ¨æ–‡ä»¶è½¬æ¢è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä¸‹é¢ä»‹ç»å…·ä½“è§£å†³åŠæ³•ã€‚\nå¦‚ä½•å¤„ç†ä¸­æ–‡ # Pandoc é»˜è®¤ä½¿ç”¨çš„ pdflatex å‘½ä»¤æ— æ³•å¤„ç† Unicode å­—ç¬¦ï¼Œå¦‚æœè¦æŠŠåŒ…å«ä¸­æ–‡çš„Markdown æ–‡ä»¶è½¬ä¸º PDFï¼Œåœ¨ç”Ÿæˆ PDF çš„è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ xelatex æ¥å¤„ç†ä¸­æ–‡ï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨ CJKmainfont é€‰é¡¹æŒ‡å®šæ”¯æŒä¸­æ–‡çš„å­—ä½“ã€‚ åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¯¹äº Pandoc 2.0 ç‰ˆæœ¬ä»¥ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤ç”Ÿæˆ PDF æ–‡ä»¶ï¼š\npandoc --pdf-engine=xelatex -V CJKmainfont=\u0026#34;KaiTi\u0026#34; test.md -o test1.pdf CJKmainfont åé¢è·Ÿçš„æ˜¯æ”¯æŒä¸­æ–‡çš„å­—ä½“åç§°ã€‚é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°æ”¯æŒä¸­æ–‡çš„å­—ä½“å‘¢ï¼Ÿ é¦–å…ˆï¼Œä½ éœ€è¦çŸ¥é“ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€çš„ language code, ä¾‹å¦‚ï¼Œä¸­æ–‡(å³Chinese)çš„ language code æ˜¯ zhã€‚ ç„¶åä½¿ç”¨ fc-list å‘½ä»¤æŸ¥çœ‹æ”¯æŒä¸­æ–‡çš„å­—ä½“(å¯¹äº Windows ç³»ç»Ÿï¼Œfc-list å‘½ä»¤åœ¨å®‰è£… TeX Live å®Œæ•´ç‰ˆä»¥åå¯ä»¥ä½¿ç”¨, Unix ç³»ç»Ÿä¸€èˆ¬ä¼šé¢„è£…è¿™ä¸ªç¨‹åº)ï¼š\nfc-list :lang=zh # zh æ˜¯ä¸­æ–‡çš„ ã€Œlanguage codeã€ ç³»ç»Ÿè¾“å‡ºå¦‚ä¸‹å›¾æ‰€ç¤º:\nå­—ä½“çš„åç§°å°±æ˜¯å­—ä½“æ–‡ä»¶ä½ç½®åé¢çš„å­—ç¬¦ä¸²ï¼Œç”±äºå­—ä½“åç§°å¯èƒ½ä¼šåŒ…å«ç©ºæ ¼ï¼Œå› æ­¤åœ¨å¼•ç”¨çš„æ—¶å€™éœ€è¦åŠ ä¸Šå¼•å·ï¼Œä¾‹å¦‚ -V CJKmainfont=\u0026quot;Source Han Serif CN\u0026quot;ã€‚\nåœ¨ Pandoc 2.0 ç‰ˆæœ¬ä¸­ï¼Œ --pdf-engine å‘½ä»¤å–ä»£äº†åŸæœ‰çš„ --latex-engine å‘½ä»¤ã€‚å¯¹äºLinux ç³»ç»Ÿï¼ŒPandoc ç‰ˆæœ¬å¯èƒ½æ¯”è¾ƒè€ï¼Œä¸Šè¿°ç”Ÿæˆ PDF çš„å‘½ä»¤å¯èƒ½å¹¶ä¸é€‚åˆï¼Œæ­£ç¡®çš„å‘½ä»¤å¦‚ä¸‹ (åœ¨ Pandoc 1.12.3.1 éªŒè¯)ï¼š\npandoc --latex-engine=xelatex -V mainfont=\u0026#39;WenQuanYi Micro Hei\u0026#39; test.md -o test.pdf åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œæ‰¾å‡ºæ”¯æŒä¸­æ–‡çš„å­—ä½“çš„æ–¹å¼ä¸ Windows ç³»ç»Ÿæ˜¯ä¸€æ ·çš„ã€‚\nä½¿ç”¨é—®é¢˜ä»¥åŠæŠ€å·§ # æ·»åŠ æ–‡æ¡£æ ‡é¢˜ï¼Œä½œè€…ï¼Œæ›´æ–°æ—¶é—´ä¿¡æ¯ # Pandoc æ”¯æŒ YAML æ ¼å¼çš„ headerï¼Œé€šè¿‡ header å¯ä»¥æŒ‡å®šæ–‡ç« çš„æ ‡é¢˜ï¼Œä½œè€…ï¼Œæ›´æ–°æ—¶é—´ç­‰ä¿¡æ¯ï¼Œä¸€ä¸ªç¤ºä¾‹ header å¦‚ä¸‹ï¼š\n--- title: \u0026#34;My demo title\u0026#34; author: \u0026#34;jdhao\u0026#34; date: 2021-06-27 --- block quote, table ä»¥åŠ list æœªèƒ½æ­£ç¡®æ¸²æŸ“ # åŸå› æ˜¯åœ¨ Pandoc ä¸­ block quoteï¼Œlist ä»¥åŠ table å‰éœ€è¦ç©ºä¸€è¡Œã€‚å¦å¤– block quote ä¸­æ¯ä¸€è¡Œæ¸²æŸ“æˆ PDF æœªèƒ½æ­£ç¡®æ¢è¡Œï¼Œæ‰€æœ‰è¡Œçš„æ–‡å­—éƒ½è·‘åˆ°äº†ä¸€è¡Œï¼Œå¯ä»¥é€šè¿‡å¼ºåˆ¶åœ¨åŸ block quote çš„æ¯ä¸€è¡Œåé¢åŠ ä¸Šç©ºæ ¼æ¥è§£å†³ã€‚\nç»™ block code åŠ ä¸Š highlight # Pandoc æ”¯æŒç»™ block code é‡Œé¢çš„ä»£ç åŠ ä¸ŠèƒŒæ™¯é«˜äº®ï¼Œå¹¶æä¾›äº†ä¸åŒçš„é«˜äº®ä¸»é¢˜ï¼Œæ”¯æŒéå¸¸å¤šçš„è¯­è¨€ã€‚è¦åˆ—å‡º Pandoc æä¾›çš„é«˜äº®æ–¹æ¡ˆï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤ï¼Œ\npandoc --list-highlight-styles è¦åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„è¯­è¨€ï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤ï¼Œ\npandoc --list-highlight-languages è¦ä½¿ç”¨è¯­æ³•é«˜äº®ï¼ŒMarkdown æ–‡ä»¶ä¸­çš„ block code å¿…é¡»æŒ‡å®šè¯­è¨€ï¼ŒåŒæ—¶åœ¨å‘½ä»¤è¡Œä½¿ç”¨--highlight-style é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š\npandoc --pdf-engine=xelatex --highlight-style zenburn test.md -o test.pdf ä»¥ä¸Šå‘½ä»¤ï¼Œä½¿ç”¨äº† zenburn ä¸»é¢˜, å¦å¤–ï¼Œä¹Ÿæ¨èä½¿ç”¨ tango, zenburn æˆ–è€…breezedark é«˜äº®ä¸»é¢˜ã€‚\nç»™ section åŠ ä¸Šç¼–å·ä»¥åŠç»™æ–‡ç« åŠ ä¸Šç›®å½• # é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„ PDF ä¸å«ç›®å½•ï¼ŒåŒæ—¶å„çº§æ ‡é¢˜ä¸å«ç¼–å·ï¼Œä»…ä»…å­—ä½“å¤§å°æœ‰å˜åŒ–ï¼Œè¦ç»™å„ä¸ª section åŠ ä¸Šç¼–å·ï¼Œå¯ä»¥ç”¨ -N é€‰é¡¹ï¼›åŠ ä¸Šç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨ --toc é€‰é¡¹ã€‚ ä¸€ä¸ªå®Œæ•´ä¾‹å­å¦‚ä¸‹:\npandoc --pdf-engine=xelatex --toc -N -o test.pdf test.md ç»™é“¾æ¥åŠ ä¸Šé¢œè‰² # æ ¹æ® Pandoc user guide çš„è¯´æ˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ colorlinks é€‰é¡¹ç»™å„ç§é“¾æ¥åŠ ä¸Šé¢œè‰²ï¼Œä¾¿äºå’Œæ™®é€šæ–‡æœ¬åŒºåˆ†å¼€æ¥ï¼š\ncolorlinks add color to link text; automatically enabled if any of linkcolor, filecolor, citecolor, urlcolor, or toccolor are set åŒæ—¶ï¼Œä¸ºäº†ç²¾ç¡®æ§åˆ¶ä¸åŒç±»å‹é“¾æ¥é¢œè‰²ï¼ŒPandoc è¿˜æä¾›äº†å¯¹ä¸åŒé“¾æ¥é¢œè‰²çš„ä¸ªæ€§åŒ–è®¾ç½®é€‰é¡¹ï¼š\nlinkcolor, filecolor, citecolor, urlcolor, toccolor color for internal links, external links, citation links, linked URLs, and links in table of contents, respectively: uses options allowed by xcolor, including the dvipsnames, svgnames, and x11names lists ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç»™ URL é“¾æ¥åŠ ä¸Šé¢œè‰²ï¼Œå¹¶ä¸” urlcolor è¦è®¾ä¸º NavyBlue, å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\npandoc --pdf-engine=xelatex -V colorlinks -V urlcolor=NavyBlue test.md -o test.pdf å…¶ä»–é“¾æ¥çš„é¢œè‰²å¯ä»¥æŒ‰ç…§ä¸Šè¿°æ–¹å¼è®¾ç½®ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œurlcolor é€‰é¡¹å¹¶ä¸èƒ½ç»™æ–‡ä¸­ç›´æ¥å±•ç¤ºçš„ raw URL link åŠ ä¸Šé¢œè‰²ã€‚ è¦ç»™ç›´æ¥å±•ç¤ºçš„ URL link åŠ ä¸Šé¢œè‰²ï¼Œå¯ä»¥ç”¨ \u0026lt;\u0026gt; åŒ…å›´è¦å±•ç¤ºçš„é“¾æ¥ï¼Œä¾‹å¦‚\u0026lt;www.google.com\u0026gt;ã€‚\nå¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€‰é¡¹ -f gfmï¼Œå‚è€ƒè¿™é‡Œã€‚å®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼Œ\npandoc --pdf-engine=xelatex -f gfm -Vurlcolor=cyan -o test.pdf test.md ä½¿ç”¨ -f gfm çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ gfm ä¸æ”¯æŒå…¬å¼ï¼Œå› æ­¤å¦‚æœåœ¨ Markdown ä¸­åŒ…å«å…¬å¼ï¼Œå°†ä¸èƒ½æ­£ç¡®æ¸²æŸ“ã€‚è§£å†³åŠæ³•æ˜¯å»æ‰ -f gfm flagï¼Œæˆ–è€…ä½¿ç”¨ Pandoc è‡ªå¸¦çš„ markdownæ ¼å¼ã€‚\næ›´æ”¹ PDF çš„ margin # ä½¿ç”¨é»˜è®¤è®¾ç½®ç”Ÿæˆçš„ PDF margin å¤ªå¤§ï¼Œæ ¹æ® Pandoc å®˜æ–¹FAQï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é€‰é¡¹æ›´æ”¹ marginï¼š\n-V geometry:\u0026#34;top=2cm, bottom=1.5cm, left=2cm, right=2cm\u0026#34; å®Œæ•´å‘½ä»¤ä¸ºï¼š\npandoc --pdf-engine=xelatex -V geometry:\u0026#34;top=2cm, bottom=1.5cm, left=2cm, right=2cm\u0026#34; -o test.pdf test.md Markdown æ–‡ä»¶ä¸­ä½¿ç”¨æ–œæ  backslash ä¼šå‡ºé”™ # åŸå§‹çš„ Markdown æ ¼å¼ï¼Œæ”¯æŒåœ¨æ–‡ä»¶ä¸­ä½¿ç”¨ backslashï¼Œä½†æ˜¯ Pandoc æŠŠ backslash ä»¥åŠåé¢çš„å†…å®¹ç†è§£æˆ LaTeX å‘½ä»¤ï¼Œå› æ­¤åœ¨ç¼–è¯‘åŒ…å« backslash çš„æ–‡ä»¶æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°undefined command é”™è¯¯æˆ–è€…æ›´åŠ å¥‡æ€ªçš„é”™è¯¯ã€‚å‚è€ƒè¿™é‡Œä»¥åŠè¿™é‡Œï¼Œè§£å†³åŠæ³•æ˜¯è®© Pandoc æŠŠ Markdownæ–‡ä»¶å½“æˆæ­£å¸¸çš„ Markdownï¼Œä¸è¦è§£è¯» LaTeX å‘½ä»¤ï¼Œä½¿ç”¨ä¸‹é¢çš„ flag:\npandoc -f markdown-raw_tex æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ª backslash è¡¨ç¤ºå­—é¢æ„ä¹‰çš„ backslashï¼Œä¾‹å¦‚ \\\\columnwidth æˆ–è€…å¦‚æœ backslash åŠåé¢æ–‡å­—åŸæœ¬å°±æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨ inline code block åŒ…å«èµ·æ¥ã€‚\nç»™ inline code åŠ ä¸ŠèƒŒæ™¯è‰² # å°† Markdown è½¬ä¸º PDF æ—¶ï¼Œç”±äº Pandoc ä½¿ç”¨ LaTeX ä¸­çš„ \\textt å‘½ä»¤æ¥è¡¨ç¤º inline codeï¼Œæ‰€ä»¥ inline code æ˜¯æ²¡æœ‰èƒŒæ™¯è‰²çš„ã€‚ä¸ºäº†å¢åŠ  inline code çš„å¯è¯»æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ \\texttt å‘½ä»¤ï¼Œç»™æ–‡æœ¬æ·»åŠ èƒŒæ™¯è‰²ã€‚é¦–å…ˆå»ºç«‹ head.tex æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åŠ å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\n% change background color for inline code in % markdown files. The following code does not work well for % long text as the text will exceed the page boundary \\definecolor{bgcolor}{HTML}{E0E0E0} \\let\\oldtexttt\\texttt \\renewcommand{\\texttt}[1]{ \\colorbox{bgcolor}{\\oldtexttt{#1}} } åœ¨ä½¿ç”¨ Pandoc è½¬æ¢ Markdown æ–‡ä»¶æ—¶ï¼ŒåŠ ä¸Š -H é€‰é¡¹æ¥å¼•ç”¨ head.tex æ–‡ä»¶ï¼Œä¾‹å¦‚\npandoc --pdf-engine=xelatex -H head.tex test.md -o test.pdf è¿™æ ·ç”Ÿæˆçš„ PDF ä¸­ï¼Œinline code å°±ä¼šæœ‰ç°è‰²çš„èƒŒæ™¯è‰²ï¼ŒèƒŒæ™¯é¢œè‰²å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½ä¿®æ”¹ã€‚\næ›´æ”¹å¼•ç”¨ (block quote) çš„é£æ ¼ # é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬æŠŠ Markdown æ–‡ä»¶è½¬ä¸º PDF æ—¶ï¼ŒPandoc ä½¿ç”¨ LaTeX ä¸­çš„ quoteç¯å¢ƒæ¥è¡¨ç¤º block quoteã€‚ç”Ÿæˆçš„ PDF ä¸­ï¼Œå¼•ç”¨æ–‡å­—åªæ˜¯è¢«ç¼©è¿›äº†ï¼Œçœ‹èµ·æ¥å¾ˆä¸æ˜æ˜¾ã€‚\næˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ª quotation ç¯å¢ƒï¼Œç»™ç¯å¢ƒåŠ ä¸ŠèƒŒæ™¯é¢œè‰²å’Œç¼©è¿›ã€‚å°†ä¸‹é¢çš„è®¾ç½®å†™å…¥åˆ° head.tex ä¸­ï¼š\n\\usepackage{framed} \\usepackage{quoting} \\definecolor{bgcolor}{HTML}{DADADA} \\colorlet{shadecolor}{bgcolor} % define a new environment shadedquotation. You can change leftmargin and % rightmargin as you wish. \\newenvironment{shadedquotation} {\\begin{shaded*} \\quoting[leftmargin=1em, rightmargin=0pt, vskip=0pt, font=itshape] } {\\endquoting \\end{shaded*} } % \\def\\quote{\\shadedquotation} \\def\\endquote{\\endshadedquotation} å½“ä½ æƒ³æŠŠ Markdown è½¬ä¸º PDF æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\npandoc -H head.tex test.md -o test.pdf ç”Ÿæˆçš„ PDF ä¸­å¼•ç”¨çš„æ•ˆæœå¦‚ä¸‹ï¼š\nå‚è€ƒ # æ›´æ”¹ quotation ç¯å¢ƒçš„èƒŒæ™¯è‰². å¦‚ä½•é‡æ–°å®šä¹‰ LaTeX ä¸­å·²æœ‰çš„ç¯å¢ƒ. å°†è®¾ç½®æ”¾å…¥ head.tex æ–‡ä»¶ä¸­ # ç”±äºå°† Markdown è½¬ä¸º PDF éœ€è¦è¯¸å¤šé€‰é¡¹ä¸è®¾ç½®ï¼Œå°†è¿™äº›è®¾ç½®éƒ½å†™åœ¨å‘½ä»¤è¡Œä¸Šï¼Œæ—¢æµªè´¹æ—¶é—´ï¼Œä¹Ÿä¸åˆ©äºå°ä¿®å°æ”¹ï¼Œæ‰€ä»¥å¯ä»¥å°†å¸¸ç”¨çš„ä¸€äº›å‘½ä»¤éƒ½æ”¾åˆ° head.tex æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨è½¬æ¢ Markdown æ–‡ä»¶çš„æ—¶å€™å¼•ç”¨è¯¥æ–‡ä»¶å³å¯ã€‚\nä¾‹å¦‚ï¼Œå¯ä»¥å°†è®¾ç½®é¡µé¢å®½åº¦çš„å‘½ä»¤ï¼Œç»™ inline code ç€è‰²çš„å‘½ä»¤ï¼Œä»¥åŠè®¾ç½®é“¾æ¥é¢œè‰²çš„å‘½ä»¤ç»Ÿä¸€æ”¾å…¥ head.tex ä¸­ï¼š\n\\usepackage{fancyvrb,newverbs} \\usepackage[top=2cm, bottom=1.5cm, left=2cm, right=2cm]{geometry} % change background color for inline code in % markdown files. The following code does not work well for % long text as the text will exceed the page boundary \\definecolor{bgcolor}{HTML}{E0E0E0} \\let\\oldtexttt\\texttt \\renewcommand{\\texttt}[1]{ \\colorbox{bgcolor}{\\oldtexttt{#1}} } %% color and other settings for hyperref package \\hypersetup{ bookmarksopen=true, linkcolor=blue, filecolor=magenta, urlcolor=RoyalBlue, } ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ç”¨ -H é€‰é¡¹å¼•ç”¨ä»¥ä¸Šæ–‡ä»¶å³å¯ã€‚\nList åµŒå¥—å±‚æ¬¡å¤ªå¤šçš„é—®é¢˜ # è¯»è€…Karl Liuååº”ï¼Œå¦‚æœä½¿ç”¨ Markdown List åµŒå¥—çš„å±‚æ¬¡å¤ªå¤šï¼ˆå…·ä½“æ˜¯è¶…è¿‡å…­å±‚ï¼‰ï¼Œä½¿ç”¨ Pandoc ç”Ÿæˆçš„ PDF æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šå‡ºç°é”™è¯¯\n! LaTeX Error: Too deeply nested.\nå…·ä½“è®¨è®ºè§è¿™ä¸ª issueï¼Œä½œè€…æå‡ºçš„è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨ head.tex æ–‡ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹è®¾ç½®ï¼š\n\\usepackage{enumitem} \\setlistdepth{9} \\setlist[itemize,1]{label=$\\bullet$} \\setlist[itemize,2]{label=$\\bullet$} \\setlist[itemize,3]{label=$\\bullet$} \\setlist[itemize,4]{label=$\\bullet$} \\setlist[itemize,5]{label=$\\bullet$} \\setlist[itemize,6]{label=$\\bullet$} \\setlist[itemize,7]{label=$\\bullet$} \\setlist[itemize,8]{label=$\\bullet$} \\setlist[itemize,9]{label=$\\bullet$} \\renewlist{itemize}{itemize}{9} \\setlist[enumerate,1]{label=$\\arabic*.$} \\setlist[enumerate,2]{label=$\\alph*.$} \\setlist[enumerate,3]{label=$\\roman*.$} \\setlist[enumerate,4]{label=$\\arabic*.$} \\setlist[enumerate,5]{label=$\\alpha*$} \\setlist[enumerate,6]{label=$\\roman*.$} \\setlist[enumerate,7]{label=$\\arabic*.$} \\setlist[enumerate,8]{label=$\\alph*.$} \\setlist[enumerate,9]{label=$\\roman*.$} \\renewlist{enumerate}{enumerate}{9} åœ¨ç¼–è¯‘ PDF çš„æ—¶å€™ï¼ŒåŠ ä¸Š -H head.tex é€‰é¡¹ã€‚\nä½¿ç”¨ Sublime Text build system ç”Ÿæˆ PDF # å†™å®Œ Markdownï¼Œå†åˆ‡æ¢åˆ° terminal ä½¿ç”¨ Pandoc ç”Ÿæˆ PDF ä»¥åŠé¢„è§ˆ,é¢‡ä¸ºéº»çƒ¦ï¼Œå› æ­¤æˆ‘ä½¿ç”¨ Sublime Text çš„ build system æ¥ç®€åŒ–ç¼–è¯‘ç”Ÿæˆ PDF ä»¥åŠé¢„è§ˆçš„æ•´ä¸ªè¿‡ç¨‹ã€‚PDF é¢„è§ˆä½¿ç”¨äº†è½»é‡çº§çš„ Sumatra PDF readerã€‚\nä¸€ä¸ªç¤ºä¾‹çš„ build system å¦‚ä¸‹ï¼Œ\n{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=KaiTi \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;text.html.markdown\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Convert to PDF and Preview\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=KaiTi \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026amp;\u0026amp;SumatraPDF \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; } ] } åœ¨å‘½ä»¤ä¸­ä½¿ç”¨åˆ°äº†å¼•å·ï¼Œå¿…é¡»ä½¿ç”¨ backslash escapeã€‚å¯ä»¥ä»è¿™é‡Œ ä¸‹è½½è¿™ä¸ª build systemã€‚\nç³»ç»Ÿæ— æ³•è¯†åˆ« Pandoc çš„é—®é¢˜ # ä¸çŸ¥ä»€ä¹ˆåŸå› ï¼Œä¸Šè¿°æŠŠ Markdown æ–‡ä»¶è½¬ä¸º PDF çš„ build system åœ¨ç¼–è¯‘ Markdown æ–‡ä»¶æ—¶ï¼Œçªç„¶ç»™å‡ºå¦‚ä¸‹é”™è¯¯æç¤ºï¼š\n\u0026lsquo;pandoc\u0026rsquo; is not recognized as an internal or external command, operable program or batch file.\né€šè¿‡æŸ¥è¯¢ sublime æ–‡æ¡£ï¼Œå‘ç°æˆ‘ä»¬å¯ä»¥åœ¨ build system é‡Œé¢åŠ ä¸Š path å˜é‡ã€‚å› æ­¤ï¼Œæˆ‘å¯¹ä¸Šè¿°çš„ build system è¿›è¡Œäº†è°ƒæ•´ï¼Œæ–°çš„ build system å¦‚ä¸‹ï¼š\n{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=\\\u0026#34;Source Han Serif SC\\\u0026#34; \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/east/AppData/Local/Pandoc/;%PATH%\u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;text.html.markdown\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Convert to PDF and Preview\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;pandoc --pdf-engine=xelatex --highlight-style=zenburn -V colorlinks -V CJKmainfont=\\\u0026#34;Source Han Serif SC\\\u0026#34; \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026amp;\u0026amp;SumatraPDF \\\u0026#34;${file_path}/${file_base_name}.pdf\\\u0026#34; \u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;C:/Users/east/AppData/Local/Pandoc/;%PATH%\u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; } ] } ä½¿ç”¨æ–°çš„ build system ä»¥åï¼Œä¸€åˆ‡æ¢å¤æ­£å¸¸ã€‚\nç¬”è®°äº‘åŒæ­¥ # äº‘åŒæ­¥å¯ä»¥é€‰æ‹©åšæœäº‘ã€‚åŒæ­¥é€Ÿåº¦å¿«ï¼Œå¹¶ä¸”æ”¯æŒå¤šä¸ªæ–‡ä»¶å¤¹åŒæ­¥ï¼Œæ¯ä¸ªæœˆæœ‰ 1G å…è´¹ä¸Šä¼ æµé‡ï¼Œå¯¹äºæ–‡æ¡£åŒæ­¥æ¥è¯´ï¼Œè¶³å¤Ÿä½¿ç”¨äº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç½‘ç›˜æˆ–è€…äº‘å­˜å‚¨ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œçœ‹è‡ªå·±å–œå¥½ã€‚\næ³¨ï¼šä»¥åæœ‰æ›´æ–°çš„è¯ï¼Œä¼šä¼˜å…ˆæ›´æ–°æ–‡ç« å¼€å¤´æåˆ°çš„è‹±æ–‡ç‰ˆæœ¬ï¼Œç”±äºç²¾åŠ›æœ‰é™ï¼Œæ­¤ç‰ˆæœ¬æ›´æ–°å°†ä¸ä¼šå¾ˆé¢‘ç¹ï¼Œä»¥ä¿®å¤é”™è¯¯ä¸ºä¸»ã€‚\nå‚è€ƒèµ„æ–™ # Pandoc å¤„ç†ä¸­æ–‡. Pandoc å¯¹ block quote çš„å¤„ç†. Pandoc è¯­æ³•é«˜äº®è®¾ç½®. dvipsnames æä¾›çš„é¢œè‰². Pandoc è®¾ç½® section number è§£å†³ Pandoc å‘½ä»¤æ‰¾ä¸åˆ°çš„é—®é¢˜. ","date":"10 December 2017","externalUrl":null,"permalink":"/2017/12/10/pandoc-markdown-with-chinese/","section":"Posts","summary":"\u003cp\u003e\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/18-1-7/731510.jpg\"\ntitle=\"ç”Ÿæˆçš„ PDF æˆªå›¾\"\nstyle=\"float: middle;\"\u003e\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\u003cfont size=\"3\" color=\"red\"\u003eupdate log\u003c/font\u003e\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cfont color=\"blue\"\u003e2021-06-27: è¡¥å……æ ‡é¢˜å¦‚ä½•ç”Ÿæˆçš„è¯´æ˜ã€‚\u003c/font\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cp\u003eFor English version of this post, click \u003ca href=\"https://jdhao.github.io/2019/05/30/markdown2pdf_pandoc/\" target=\"_blank\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eæœ¬æ–‡ä¸»è¦å†™å¦‚ä½•ä½¿ç”¨ Pandoc ä» Markdown æ–‡ä»¶ç”Ÿæˆæ ¼å¼ç²¾ç¾çš„ PDF æ–‡ä»¶ï¼Œä¹ŸåŒ…å«äº†ä¸€äº›é‡åˆ°çš„é—®é¢˜çš„è§£å†³åŠæ³•ã€‚\u003c/p\u003e","title":"çº¯æ–‡æœ¬åšç¬”è®° --- ä½¿ç”¨ Pandoc æŠŠ Markdown è½¬ä¸º PDF æ–‡ä»¶","type":"posts"},{"content":"This post records my collected notes on various tricks in using Matplotlib.\nTwin axes in the same plot with one legend # Often times, we need to make two axes which share the same x axis, but with different scale of y axis. Fortunately, Matplotlib\u0026rsquo;s Axes class has a twinx() which fulfills our need. But another question arises: how to make the two axes share one legend?\nIf we have two axes and use their legend() method seperately. The figure will have two separate legends, which is a bit redundant. In order to use one legend to show the labels of lines in both axes, we need to collect all the lines as well as their corresponding labels.\nTwo different ways to achieve what we want # We can use two slightly different ways to achieve this. First, you can try the following:\nimport matplotlib.pyplot as plt import numpy as np x = np.linspace(0, 10, 100) y1 = 2*x y2 = np.sqrt(x) y3 = np.exp(0.5*x) fig = plt.figure() ax1 = fig.add_subplot(111) line1 = ax1.plot(x, y1, \u0026#39;r\u0026#39;, label=\u0026#34;2x\u0026#34;) line2 = ax1.plot(x, y2, \u0026#39;g\u0026#39;, label=\u0026#34;sqrt(x)\u0026#34;) ax2 = ax1.twinx() line3 = ax2.plot(x, y3, \u0026#39;b\u0026#39;, label=\u0026#34;exp(0.5x)\u0026#34;) lines = line1+line2+line3 labels = [l.get_label() for l in lines] ax2.legend(lines, labels) plt.show() Or you can try the second method:\nimport matplotlib.pyplot as plt import numpy as np x = np.linspace(0, 10, 100) y1 = 2*x y2 = np.sqrt(x) y3 = np.exp(0.5*x) fig = plt.figure() ax1 = fig.add_subplot(111) ax1.plot(x, y1, \u0026#39;r\u0026#39;, label=\u0026#34;2x\u0026#34;) ax1.plot(x, y2, \u0026#39;g\u0026#39;, label=\u0026#34;sqrt(x)\u0026#34;) ax2 = ax1.twinx() ax2.plot(x, y3, \u0026#39;b\u0026#39;, label=\u0026#34;exp(0.5x)\u0026#34;) handles, labels = [], [] for ax in [ax1, ax2]: h, l = ax.get_legend_handles_labels() handles.extend(h) labels.extend(l) ax2.legend(handles, labels) plt.show() Both will produce the same output plot as shown below,\nA side note # Also, what is worth notice is that in first snippet, we use line1+line2+line3. That is possible because the three lines are actually Python list, which is in turn because Matplotlib\u0026rsquo;s plot() method return a list of lines even if you plot just one line.\nLog-scale plot with correct ticks and tick labels # Sometimes, we want to plot in log scale. This is easy to achieve in Matplotlib. We can use the normal plotting command and then set the x axis to log scale. Or we can directly plot in log scale using semi-log method. A simple snippet the shown below,\nimport matplotlib.pyplot as plt import numpy as np import matplotlib colors = [\u0026#34;#e6194b\u0026#34;, \u0026#34;#3cb44b\u0026#34;, \u0026#34;#ffe119\u0026#34;] m1 = np.array([ 0.6125, 0.775, 0.8375, 0.875, 0.9125, 0.9875]) m2 = np.array([0.6750, 0.8125, 0.8625, 0.9000, 0.9375, 0.9750]) m3 = np.array([0.8000, 0.8625, 0.9250, 0.9625, 0.9625, 0.9750]) position = [1, 2, 4, 8, 16, 32] fig, ax = plt.subplots() ax.semilogx(position, m1*100, linestyle=\u0026#39;-\u0026#39;, color=colors[0]) ax.semilogx(position, m2*100, linestyle=\u0026#39;-\u0026#39;, color=colors[1]) ax.semilogx(position, m3*100, linestyle=\u0026#39;-\u0026#39;, color=colors[2]) ax.set_xticks(position) ax.grid(linestyle=\u0026#39;--\u0026#39;) ax.set_xlabel(\u0026#34;K\u0026#34;) ax.set_ylabel(\u0026#34;Recall@k score (%)\u0026#34;) plt.show() The above snippet will produce the following figure,\nNotice that in the above figure, some minor ticks appear in the plot and also the tick labels are not properly shown.\nWe can use tick_params() method of axes and minorticks_off() method to turn off the axis minor ticks. As for the im-properly displayed ticks in x axis, we can use set_major_formatter to correct it. A work example is shown below,\nimport matplotlib.pyplot as plt import numpy as np import matplotlib colors = [\u0026#34;#e6194b\u0026#34;, \u0026#34;#3cb44b\u0026#34;, \u0026#34;#ffe119\u0026#34;] m1 = np.array([ 0.6125, 0.775, 0.8375, 0.875, 0.9125, 0.9875]) m2 = np.array([0.6750, 0.8125, 0.8625, 0.9000, 0.9375, 0.9750]) m3 = np.array([0.8000, 0.8625, 0.9250, 0.9625, 0.9625, 0.9750]) position = [1, 2, 4, 8, 16, 32] fig, ax = plt.subplots() ax.semilogx(position, m1*100, linestyle=\u0026#39;-\u0026#39;, color=colors[0]) ax.semilogx(position, m2*100, linestyle=\u0026#39;-\u0026#39;, color=colors[1]) ax.semilogx(position, m3*100, linestyle=\u0026#39;-\u0026#39;, color=colors[2]) ax.set_xticks(position) ax.get_xaxis().set_major_formatter(matplotlib.ticker.ScalarFormatter()) # use the following method to turn off minor ticks ax.tick_params(axis=\u0026#39;x\u0026#39;, which=\u0026#39;minor\u0026#39;, bottom=\u0026#39;off\u0026#39;) # ax.minorticks_off() # or use minorticks_off method ax.grid(linestyle=\u0026#39;--\u0026#39;) ax.set_xlabel(\u0026#34;K\u0026#34;) ax.set_ylabel(\u0026#34;Recall@k score (%)\u0026#34;) plt.show() The new plot generate is shown below,\nWe can see that all the issues of the first-version plot have been corrected.\nChange line width in the legend # Sometimes, we want to increase the line width in the legend for better readability. The following snippet shows how to do this in Matplotlib using the object oriented API:\nimport numpy as np import matplotlib.pyplot as plt # make some data x = np.linspace(0, 2*np.pi) y1 = np.sin(x) y2 = np.cos(x) fig, ax = plt.subplots() ax.plot(x, y1, linewidth=1.0, label=\u0026#39;sin(x)\u0026#39;) ax.plot(x, y2, linewidth=1.0, label=\u0026#39;cos(x)\u0026#39;) leg = ax.legend() for line in leg.get_lines(): line.set_linewidth(4.0) plt.show() The generated image is shown below,\nReferences # Discussions on Stack Overflow. plot log scale, post in SO. Increase line width in legend ","date":"16 November 2017","externalUrl":null,"permalink":"/2017/11/16/matplotlib-plotting-notes/","section":"Posts","summary":"\u003cp\u003eThis post records my collected notes on various tricks in using Matplotlib.\u003c/p\u003e","title":"Matplotlib Plotting Notes -- Series 1","type":"posts"},{"content":"In PyTorch, Tensor is the primary object that we deal with (Variable is just a thin wrapper class for Tensor). In this post, I will give a summary of pitfalls that we should avoid when using Tensors. Since FloatTensor and LongTensor are the most popular Tensor types in PyTorch, I will focus on these two data types.\nTensor operations # Tensor and Tensor operation # For operations between Tensors, the rule is strict. Both Tensors of the operation must have the same data type, or you will see error messages like\nTypeError: sub received an invalid combination of arguments - got (float), but expected one of: * (int value) didn\u0026#39;t match because some of the arguments have invalid types: (!float!) * (torch.LongTensor other) didn\u0026#39;t match because some of the arguments have invalid types: (!float!) * (int value, torch.LongTensor other) As another example, several loss functions like CrossEntropyLoss require that the target should be torch LongTensor. So before doing operations, make sure that your input Tensor types match the function definitions.\nIt is easy to convert the type of one Tensor to another Tensor. Suppose x and y are Tensor of different types. You can use x.type(y.type()) or x.type_as(y) to convert x to the type of y.\nTensor and scalar operation # For FloatTensor, you can do math operations (multiplication, addition, division etc.) with a scalar of type int or float. But for LongTensor, you can only do math operation with int scalar but not float.\nWhy do some losses require target to be LongTensor? # According to PyTorch developers, some use cases requires that the target be LongTensor type and int just can not hold the target value.\nFloatTensor or DoubleTensor # For deep learning, precision is not a very important issue. Plus, GPU can not process double precision very well. So FloatTensor is enough, which is also the default type for model parameters.\nNumPy array and torch Tensor # Shared memory or not? # You can use torch.from_numpy() method to convert a NumPy array to corresponding torch Tensor, which will share underlying memory with NumPy array. To convert Tensor x to NumPy array, use x.numpy() to convert it to a NumPy array, which also shares the memory with original Tensor.\nDoes torch Tensor and Numpy array always share the underlying memory? The short answer is no. If their underlying data type is not compatible, a copy of original data will be made. For example, if you try to save torch FloatTensor as numpy array of type np.float64, it will trigger a deep copy.\nCorrepsondece between NumPy and torch data type # It should be noted that not all NumPy arrays can be converted to torch Tensor. Below is a table showing NumPy data types which is convertable to torch Tensor type.\nNumPy data type Tensor data type numpy.uint8 torch.ByteTensor numpy.int16 torch.ShortTensor numpy.int32 torch.IntTensor numpy.int torch.LongTensor numpy.int64 torch.LongTensor numpy.float32 torch.FloatTensor numpy.float torch.DoubleTensor numpy.float64 torch.DoubleTensor Speed comparison between NumPy and torch operations # I am curious to know the speed difference between torch Tensor operation and equivalent NumPy ndarray operations. I do it in Jupyter-console using the built-in magic %timeit.\nimport torch import numpy as np # torch Tensor on CPU x = torch.rand(1, 64) y = torch.rand(5000, 64) %timeit z=(x*y).sum(dim=1) # torch Tensor on GPU x, y = x.cuda(), y.cuda() %timeit z = (x*y).sum(dim=1) # numpy ndarray on CPU x = np.random.random((1, 64)) y = np.random.random((5000, 64)) %timeit z = (x*y).sum(axis=1) The result is listed on the following table:\nData type and device Average operation time Tensor on CPU 938 $\\mu s$ Tensor on GPU 38.9 $\\mu s$ NumPy ndarray (on CPU) 623 $\\mu s$ It is pretty clear that Tensor operations on GPU runs orders of magnitute faster than operations on CPU. NumPy, due to its excellent implementation of its core in C, runs a little bit faster than Tensor on CPU.\nConvert scalar to torch Tensor # You can convert a scalar to Tensor by providing the scalr to the Tensor constructor, which will not achieve what you want. For example,torch.Tensor(1) will not give you a Tensor which contains float 1. Instead, the produced Tensor is something like\n1.00000e-20 * 5.4514 [torch.FloatTensor of size 1]\nTo achieve what you want, you have to provide a list with single element 1 to the Tensor constructor.\nReferences # Integer type Tensor only works with integer, but float type Tensor works both with integer and float. Tensor types must match. Some loss functions require target to be LongTensor. NumPy and torch Tensor conversion, shared memory or not? ","date":"15 November 2017","externalUrl":null,"permalink":"/2017/11/15/pytorch-datatype-note/","section":"Posts","summary":"\u003cp\u003eIn PyTorch,\n\u003ca href=\"http://pytorch.org/docs/master/tensors.html#torch-tensor\" target=\"_blank\"\u003e\u003ccode\u003eTensor\u003c/code\u003e\u003c/a\u003e is the\nprimary object that we deal with (\u003ccode\u003eVariable\u003c/code\u003e is just a thin wrapper class for\n\u003ccode\u003eTensor\u003c/code\u003e). In this post, I will give a summary of pitfalls that we should avoid\nwhen using Tensors. Since \u003ccode\u003eFloatTensor\u003c/code\u003e and \u003ccode\u003eLongTensor\u003c/code\u003e are the most popular\n\u003ccode\u003eTensor\u003c/code\u003e types in PyTorch, I will focus on these two data types.\u003c/p\u003e","title":"Notes on PyTorch Tensor Data Types","type":"posts"},{"content":"PyTorch is a relatively new deep learning library which support dynamic computation graphs. It has gained a lot of attention after its official release in January. In this post, I want to share what I have learned about the computation graph in PyTorch. Without basic knowledge of computation graph, we can hardly understand what is actually happening under the hood when we are trying to train our landscape-changing neural networks.\nComputation graphs and its use in PyTorch # The idea of computation graph is important in the optimization of large-scale neural networks. In simple terms, a computation graph is a DAG in which nodes represent variables (tensors, matrix, scalars, etc.) and edge represent some mathematical operations (for example, summation, multiplication). The computation graph has some leaf variables. The root variables of the graph are computed according to operations defined by the graph. During the optimization step, we combine the chain rule and the graph to compute the derivative of the output w.r.t the learnable variable in the graph and update these variables to make the output close to what we want. In neural networks, these learnable variables are often called weight and bias.\nYou can also think of neural network as a computational graph: the input images and the parameters in each layer are leaf variables, the outputs (usually it is called the loss and we minimize it to update the parameters of the network) of neural networks are the root variables in the graph.\nHow is computation graph created and freed? # In PyTorch, the computation graph is created for each iteration in an epoch. In each iteration, we execute the forward pass, compute the derivatives of output w.r.t to the parameters of the network, and update the parameters to fit the given examples. After doing the backward pass, the graph will be freed to save memory. In the next iteration, a fresh new graph is created and ready for back-propagation.\nBecause the computation graph will be freed by default after the first backward pass, you will encounter errors if you are trying to do backward on the same graph the second time. That is why the following error message pops up:\nRuntimeError: Trying to backward through the graph a second time, but the buffers have already been freed. Specify retain_graph=True when calling backward the first time\nA toy example # Now, let\u0026rsquo;s take a small example to illustrate the idea. Suppose that we have a computation graph shown above. The variable d and e is the output, and a is the input. The underlining computation is:\nimport torch from torch.autograd import Variable a = Variable(torch.rand(1, 4), requires_grad=True) b = a**2 c = b*2 d = c.mean() e = c.sum() when we do d.backward(), that is fine. After this computation, the part of graph that calculate d will be freed by default to save memory. So if we do e.backward(), the error message will pop up. In order to do e.backward(), we have to set the parameter retain_graph to True in d.backward(), i.e.,\nd.backward(retain_graph=True) As long as you use retain_graph=True in your backward method, you can do backward any time you want:\nd.backward(retain_graph=True) # fine e.backward(retain_graph=True) # fine d.backward() # also fine e.backward() # error will occur! Real use cases # A real use case that you want to backward through the graph for more than once is multi-task learning where you have multiple losses at different layers. Suppose that you have 2 losses: loss1 and loss2 and they reside in different layers. In order to back-prop the gradient of loss1 and loss2 w.r.t to the learnable weight of your network independently. You have to use retain_graph=True in backward() method in the first back-propagated loss.\n# suppose you first back-propagate loss1, then loss2 # (you can also do it in reverse order) loss1.backward(retain_graph=True) loss2.backward() # now the graph is freed, and next process of batch gradient descent is ready optimizer.step() # update the network parameters References # leaf variable in PyTorch. How is computation graph created Error trying to backward the second time. Understanding graph and state. Graph creation and destroy. What does retain_graph in backward() function mean? Back-propagation on computation graph. ","date":"12 November 2017","externalUrl":null,"permalink":"/2017/11/12/pytorch-computation-graph/","section":"Posts","summary":"\u003cp\u003ePyTorch is a relatively new deep learning library which support dynamic\ncomputation graphs. It has gained a lot of attention after its official release\nin January. In this post, I want to share what I have learned about the\ncomputation graph in PyTorch. Without basic knowledge of computation graph, we\ncan hardly understand what is actually happening under the hood when we are\ntrying to train our \u003cem\u003elandscape-changing\u003c/em\u003e neural networks.\u003c/p\u003e","title":"Understanding Computational Graphs in PyTorch","type":"posts"},{"content":"When we are using convolutional neural networks, most of the time, we need to fix the input image size to feed it to the network. The usual practice is to resize the input image to the given size (the image aspect ratio is no longer kept) and then crop a fixed size patch randomly from the resized image. This practice may work well for image classification where fine details may not be necessary. But for Image retrieval, we want to keep the image aspect ration unchanged. In this post, I will summarize ways to resize an image to square shape with padding and keep its aspect ratio.\nThe main idea is to first resize the input image so that its maximum size equals to the given size. Then we pad the resized image to make it square. A number of packages in Python can easily achieves this.\nUsing PIL # PIL is a popular image processing package in Python. We can use either Image module or the ImageOps module to achieve what we want.\nResize and pad with Image module # First we create a blank square image, then we paste the resized image on it to form a new image. The code is:\nfrom PIL import Image, ImageOps desired_size = 368 im_pth = \u0026#34;/home/jdhao/test.jpg\u0026#34; im = Image.open(im_pth) old_size = im.size # old_size[0] is in (width, height) format ratio = float(desired_size)/max(old_size) new_size = tuple([int(x*ratio) for x in old_size]) # use thumbnail() or resize() method to resize the input image # thumbnail is a in-place operation # im.thumbnail(new_size, Image.ANTIALIAS) im = im.resize(new_size, Image.ANTIALIAS) # create a new image and paste the resized on it new_im = Image.new(\u0026#34;RGB\u0026#34;, (desired_size, desired_size)) new_im.paste(im, ((desired_size-new_size[0])//2, (desired_size-new_size[1])//2)) new_im.show() Resize and pad with ImageOps module # The PIL ImageOps module has a expand() function that will add borders to the 4 side of an image. We need to calculate the padding length in 4 side of the resized image before applying this method.\ndelta_w = desired_size - new_size[0] delta_h = desired_size - new_size[1] padding = (delta_w//2, delta_h//2, delta_w-(delta_w//2), delta_h-(elta_h//2)) new_im = ImageOps.expand(im, padding) new_im.show() Using OpenCV # In OpenCV, we have copyMakeBorder which is handy in making borders. The full code to resize and pad an image is as follows:\nimport cv2 desired_size = 368 im_pth = \u0026#34;/home/jdhao/test.jpg\u0026#34; im = cv2.imread(im_pth) old_size = im.shape[:2] # old_size is in (height, width) format ratio = float(desired_size)/max(old_size) new_size = tuple([int(x*ratio) for x in old_size]) # new_size should be in (width, height) format im = cv2.resize(im, (new_size[1], new_size[0])) delta_w = desired_size - new_size[1] delta_h = desired_size - new_size[0] top, bottom = delta_h//2, delta_h-(delta_h//2) left, right = delta_w//2, delta_w-(delta_w//2) color = [0, 0, 0] new_im = cv2.copyMakeBorder(im, top, bottom, left, right, cv2.BORDER_CONSTANT, value=color) cv2.imshow(\u0026#34;image\u0026#34;, new_im) cv2.waitKey(0) cv2.destroyAllWindows() I have upload the whole script to GitHub and you can download it here.\nReferences # Stack Overflow post on how to add borders to an image. OpenCV copyMakeBorder() method usage Resize an image using PIL ","date":"6 November 2017","externalUrl":null,"permalink":"/2017/11/06/resize-image-to-square-with-padding/","section":"Posts","summary":"\u003cp\u003eWhen we are using convolutional neural networks, most of the time, we need to\nfix the input image size to feed it to the network. The usual practice is to\nresize the input image to the given size (the image aspect ratio is no longer\nkept) and then crop a fixed size patch randomly from the resized image. This\npractice may work well for image classification where fine details may not be\nnecessary. But for Image retrieval, we want to keep the image aspect ration\nunchanged. In this post, I will summarize ways to resize an image to square\nshape with padding and keep its aspect ratio.\u003c/p\u003e","title":"How to Resize, Pad Image to Square Shape and Keep Its Aspect Ratio in Python","type":"posts"},{"content":"","date":"24 October 2017","externalUrl":null,"permalink":"/tags/metric/","section":"Tags","summary":"","title":"Metric","type":"tags"},{"content":"For image retrieval and other similarity-based tasks such as person re-identification, we need to compute the similarity (or distance) between the query image and database images. Then we can rank the database images based on their similarity to the query image. In this post, I want to briefly introduce two measures widely used in image retrieval tasks.\nThe Euclidean distance The Euclidean distance is straightforward, suppose \\(x\\) and \\(y\\) are two feature vectors in \\(\\mathbf{R^n}\\), then the Euclidean distance between the two vectors is:\n\\[\\begin{equation}\\begin{aligned} d_{euclid} \u0026amp;= {\\Vert x - y \\Vert}_2 \\\\ \u0026amp;= \\sqrt{\\sum_{i=1}^{n}(x_i - y_i)^2} \\\\ \u0026amp;= \\sqrt{ {\\Vert x \\Vert}^2 + {\\Vert y \\Vert}^2 - 2x\\cdot y }\\\\ \\end{aligned}\\end{equation}\\]\nIf Euclidean distance between feature vectors of image A and B is smaller than that of image A and C, we may conclude that image B is more similar to A than image C.\nThe cosine similarity Cosine similarity is another commonly used measure. For vector \\(x\\) and \\(y\\), it is defined as:\n\\[\\begin{equation} s = \\frac{x\\cdot y}{\\Vert x \\Vert \\Vert y \\Vert}\\ , \\end{equation}\\]\nwhich is actually the cosine value of angle \\(\\theta\\) between vector \\(x\\) and \\(y\\). Here is a plot illustrating that:\nHow does the above equation come? It can be derived from the The Law of cosines. Based on that law, we have:\n\\[\\begin{equation} \\cos(\\theta) = \\frac{ {\\Vert x \\Vert}^2 +{\\Vert y \\Vert}^2 - {\\Vert x - y\\Vert}^2 }{2\\Vert x \\Vert \\cdot \\Vert y \\Vert}\\ . \\end{equation}\\]\nWe also have the following equality:\n\\[\\begin{equation}\\begin{aligned} {\\Vert x - y\\Vert}^2 \u0026amp;= {d_{euclid}}^2 \\\\ \u0026amp;= {\\Vert x \\Vert}^2 +{\\Vert y \\Vert}^2 - 2x\\cdot y \\end{aligned}\\end{equation}\\]\nCombining the two equations, we finally get the following equation:\n\\[\\begin{equation} \\cos(\\theta) = \\frac{x\\cdot y}{\\Vert x \\Vert \\cdot \\Vert y \\Vert} \\end{equation}\\]\nIf the two vectors \\(x\\) and \\(y\\) both are unit vectors, then we can further get:\n\\[\\begin{equation} \\cos(\\theta) = x \\cdot y \\end{equation}\\]\nIn this case, the cosine similarity between these two vectors equals to their dot product.\nCosine distance and its relation to Euclidean distance In image retrieval, the feature vectors are often \\(L_2\\) normalized to be a unit vector. In this case, the Euclidean distance between two vectors \\(x\\) and \\(y\\) becomes:\n\\[\\begin{equation}\\begin{aligned} d_{euclid} \u0026amp;= \\sqrt{\\sum_{i=1}^{n}(x_i - y_i)^2} \\\\ \u0026amp;= \\sqrt{ {\\Vert x \\Vert}^2 + {\\Vert y \\Vert}^2 - 2x\\cdot y }\\\\ \u0026amp;= \\sqrt{ 2 - 2x\\cdot y }\\\\ \u0026amp;= \\sqrt{ 2(1 - x\\cdot y) }\\\\ \\end{aligned}\\end{equation}\\]\nIn image retrieval, the feature vector elements are all positive. \\(\\cos(\\theta)\\) are in the range \\([0, 1]\\). Then we can define cosine distance as\n\\[\\begin{equation} d_{cosine}(x, y) = 1 - x\\cdot y \\ . \\end{equation}\\]\nNow it is easy to see that\n\\[\\begin{equation} d_{euclid}(x, y) = \\sqrt{ 2d_{cosine} }\\ . \\end{equation}\\]\nSo these two measures are closely related. You can choose either of the two measurement to assess the similarity between two images.\nReferences A good blog post about cosine and Euclidean distance ","date":"24 October 2017","externalUrl":null,"permalink":"/2017/10/24/image-similarity-measure-image-retrieval/","section":"Posts","summary":"\u003cp\u003eFor image retrieval and other similarity-based tasks such as \u003ca\nhref=\"https://arxiv.org/abs/1610.02984\"\u003eperson re-identification\u003c/a\u003e, we\nneed to compute the similarity (or distance) between the query image and\ndatabase images. Then we can rank the database images based on their\nsimilarity to the query image. In this post, I want to briefly introduce\ntwo measures widely used in image retrieval tasks.\u003c/p\u003e","title":"Similarity Measurement in Image Retrieval","type":"posts"},{"content":"","date":"24 October 2017","externalUrl":null,"permalink":"/tags/stack-overflow/","section":"Tags","summary":"","title":"Stack-Overflow","type":"tags"},{"content":"ä¸€ç›´ä»¥æ¥ï¼Œåœ¨æœç´¢ç¼–ç¨‹ã€æŠ€æœ¯ç›¸å…³çš„é—®é¢˜æ—¶ï¼ŒStack Overflow ä¸Šçš„ç­”æ¡ˆç»å¸¸é«˜å±…è°·æ­Œè¿”å›ç»“æœå‰åˆ—ï¼Œè¿™ä¸ªç½‘ç«™ä¸Šæœ‰ä¸€äº›è´¨é‡å¾ˆé«˜çš„ç­”æ¡ˆï¼Œèƒ½å¤ŸçœŸæ­£è§£å†³æˆ‘çš„ç–‘é—®ã€‚å¤§çº¦ä¸€å¹´ä»¥å‰ï¼Œæˆ‘æ­£å¼æ³¨å†Œäº† Stack Overflow çš„ä¼šå‘˜ï¼Œä¹Ÿå¼€å§‹è¯•ç€å›ç­”åˆ«äººçš„æé—®ã€‚è§£ç­”åˆ«äººçš„é—®é¢˜ä¹Ÿè®©æˆ‘å—ç›ŠåŒªæµ…ï¼Œä½†æœ€è¿‘å‘ç”Ÿçš„ä¸€ä»¶äº‹å´è®©æˆ‘å¯¹ Stack Overflow æœ‰äº†æ›´æ·±çš„è®¤è¯†ã€‚\nç”±äºå¯¹ä¸€é“ç®—æ³•é—®é¢˜çš„è§£ç­”ä¸æ˜¯å¾ˆç¡®å®šï¼Œæˆ‘å†³å®šåœ¨ Stack Overflow ä¸Šæé—®ï¼Œå¯»æ±‚é«˜æ‰‹çš„å¸®å¿™ã€‚ç»“æœé—®é¢˜åˆšåˆšè´´ä¸Šå»æ²¡å¤šä¹…ï¼Œé—®é¢˜å°±å¼€å§‹è¢«ç‚¹è¸©äº†ï¼Œç´§æ¥ç€ï¼Œå°±æœ‰äººå¼€å§‹æè®®è¦ å…³é—­æˆ‘çš„é—®é¢˜ã€‚æˆ‘èµ¶å¿™é—®ä¸ºä»€ä¹ˆè¦è¸©æˆ‘çš„é—®é¢˜ï¼Œæœ‰ä¸ªå« melpomene çš„ç”¨æˆ·ï¼ˆç®€ç§° må›ï¼‰å°±å¼€å§‹å’Œæˆ‘ç©èµ·äº†æ–‡å­—æ¸¸æˆã€‚m å›ä¸€ç›´å¼ºè°ƒæˆ‘å†™çš„é—®é¢˜ä¸æ¸…æ¥šï¼Œä¸æ˜¯ä¸€ä¸ªç®—æ³•é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªæ•°å­¦é—®é¢˜ï¼Œæˆ‘åªå¥½ä¸æ–­è§£é‡Šï¼ŒåŒæ—¶ä¹Ÿè¯•å›¾ä¿®æ”¹æˆ‘çš„é—®é¢˜æè¿°ï¼Œä½¿å¾—é—®é¢˜æ›´åŠ æ¸…æ¥šæ˜“æ‡‚ã€‚å¦å¤–ä¸€ä¸ªç”¨æˆ· saschaï¼ˆç®€ç§° s å›ï¼‰ åˆ™è¯´ï¼Œæˆ‘æçš„é—®é¢˜å°±åƒ homework questionï¼Œæˆ‘æ ¹æœ¬æ²¡æœ‰èŠ±è´¹æ—¶é—´å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±ä¸Šæ¥æé—®ï¼Œè°·æ­Œä¸Šå¯ä»¥å®¹æ˜“æœåˆ°è¿™ä¸ªé—®é¢˜çš„è§£ç­”ï¼Œæˆ‘åˆè§£é‡Šäº†ä¸€ç•ªï¼Œè¯´æˆ‘å·²ç»è¯•ç€è‡ªå·±è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè‡ªå·±ä¹Ÿåœ¨è°·æ­Œä¸Šæœç´¢è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªé—®é¢˜çš„è§£ç­”ï¼Œå¹¶ä¸”æŠŠè‡ªå·±å†™çš„ä»£ç ä¹Ÿè´´äº†ä¸Šå»ï¼Œå¹¶è¯´æ˜æˆ‘ä¸æ¸…æ¥šæˆ‘çš„æ–¹æ³•æ˜¯å¦æ˜¯æœ€æœ‰æ•ˆç‡(efficient)çš„ã€‚ s å›åˆå¼€å§‹è¯„è®ºï¼Œä¸æ¸…æ¥šä»€ä¹ˆå« efficientã€‚æˆ‘åªå¥½ç»§ç»­è§£é‡Š efficient æŒ‡çš„æ˜¯ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ä½ã€‚m å›åˆå¼€å§‹å‘éš¾ï¼Œæˆ‘è¦çš„ç­”æ¡ˆåªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ— æ‰€è°“å¤æ‚åº¦ï¼Œæˆ‘åˆè§£é‡Šäº†ä¸€ç•ªã€‚é€æ¸è§‰å¾—è¿™ä¸¤ä¸ªäººåªæ˜¯åœ¨è€å˜´çš®å­ï¼Œå¹¶æ— å¿ƒå»çœŸæ­£è§£å†³æˆ‘çš„é—®é¢˜ã€‚s å›è¯´ä»–å¯ä»¥åœ¨ O(1) çš„æ—¶é—´è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘äºæ˜¯è®©ä»–è´´å‡ºè‡ªå·±çš„ä»£ç ï¼Œè¿™è´§åˆç‹¡è¾©ä¸æ¸…æ¥šæˆ‘è¯´çš„æ˜¯æœ€åå¤æ‚åº¦ï¼Œè¿˜æ˜¯å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œå°±æ˜¯ä¸è´´å‡ºè‡ªå·±çš„ä»£ç ã€‚æˆ‘äºæ˜¯æ€’äº†ï¼Œå¼€å§‹æ€’å–·è¿™ä¸¤ä¸ªè£…é€¼è´§ï¼Œç»“æœ s å›æ€‚äº†ï¼Œä¸å†ç­”è¯ï¼Œä¼°è®¡ä»–ä¹ŸçŸ¥é“è‡ªå·±ç‰›çš®å¹å¤§äº†ï¼Œæ ¹æœ¬æƒ³ä¸å‡ºæ›´å¥½çš„æ–¹æ³•æ¥ï¼Œäºæ˜¯å¤¹ç€å°¾å·´èµ°äº†ã€‚m å›åˆ™ç»™å‡ºäº†ä¸€ä¸ªç­”æ¡ˆï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦æ¯”æˆ‘çš„æ–¹æ³•è¦ä½ï¼Œè¯•äº†ä¸€äº›ç®€å•çš„æµ‹è¯•æ ·ä¾‹ï¼Œè²Œä¼¼ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼Œäº‹æƒ…ä¹Ÿè®¸å°±è¿™ä¹ˆè¿‡å»äº†ã€‚\nç¬¬äºŒå¤©ï¼Œæˆ‘ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå‘ç° m å›çš„ç­”æ¡ˆå…¶å®æ˜¯æœ‰é—®é¢˜çš„ï¼Œå¹¶ä¸æ˜¯æ­£ç¡®çš„è§£æ³•ï¼Œç»™ä»–çš„å›ç­”å¢åŠ äº†è¯„è®ºï¼Œåé¢ä»–ä¹Ÿæ‰¿è®¤è‡ªå·±çš„ç­”æ¡ˆæœ‰é—®é¢˜ï¼Œåˆ æ‰äº†è‡ªå·±çš„ç­”æ¡ˆï¼Œä¿®æ”¹å¥½äº†ä»¥åæ‰åˆæ”¾äº†å‡ºæ¥ï¼Œè¿˜ç»™å‡ºäº†æµ‹è¯•æ ·ä¾‹ï¼Œè¿™æ¬¡ä»–çš„ç­”æ¡ˆæ²¡æœ‰é—®é¢˜äº†ã€‚æ˜¨å¤© m å›å’Œæˆ‘äº‰è®ºè¿™ä¸æ˜¯ä¸€ä¸ªç®—æ³•é—®é¢˜ï¼Œåé¢è‡ªå·±ç»™äº†ä¸€ä¸ªç­”æ¡ˆï¼Œç»“æœå´æ˜¯é”™è¯¯çš„ï¼Œè£…é€¼å¤±è´¥ã€‚è¿™ä»¶äº‹å¾ˆå¥½åœ°è¯´æ˜äº† Stack Overflow ä¸Šä¸€äº›è€ç”¨æˆ·çš„è‡ªå¤§ä¸å‚»é€¼ï¼Œæ€»æ˜¯å±…é«˜ä¸´ä¸‹éšæ„ä¿¯è§†æ–°ç”¨æˆ·ï¼Œåˆ©ç”¨è‡ªå·±çš„æƒåŠ›å¯¹æ–°ç”¨æˆ·ç™¾èˆ¬åˆéš¾ä¸è®½åˆºã€‚\næˆ‘ä»æ¯”è¾ƒæ—©å°±æ³¨æ„åˆ°äº† Stack Overflow å­˜åœ¨çš„è¿™ç§é—®é¢˜ï¼ŒStack Overflow çš„å“²å­¦å°±æ˜¯ä½ è¦åšè¶³è‡ªå·±çš„åŠŸè¯¾ï¼Œå¹¶ä¸”æ¸…æ¥šå¦‚ä½•æé—®ï¼Œç„¶åä½ æ‰å¯ä»¥æå‡ºè‡ªå·±çš„é—®é¢˜ã€‚è‡ªå·±åŠªåŠ›çš„ç¨‹åº¦è¶Šé«˜è¶Šå¥½ï¼Œç›´åˆ°è‡ªå·±è§£å†³äº†é—®é¢˜ï¼Œä»è€Œä¸ç”¨æå‡ºè¿™ä¸ªé—®é¢˜ã€‚ç„¶è€Œè¿™ä»¶äº‹æƒ…å‘å±•çš„æœ‰ç‚¹æç«¯ï¼Œä¼¤å®³äº†å¤§é‡æ–°ç”¨æˆ·ï¼Œç”šè‡³æœ‰äººå®³æ€•åœ¨ Stack Overflow æé—®é¢˜æˆ–è€…è®¤ä¸ºæé—®é¢˜æ˜¯ä¸€ç§è€»è¾±ã€‚\nStack Overflow å¯¹æ–°æ‰‹ç¡®å®æ˜¯ä¸å‹å¥½çš„ï¼Œå¾ˆå¤šé—®é¢˜åˆšä¸€æå‡ºå°±è¢« downvote æˆ–è€…å¹²è„† closeï¼Œæ–°æ‰‹ä»¬å°±åƒå¹¼è‹—ï¼Œæˆ˜æˆ˜å…¢å…¢åœ°é¢å¯¹ç€ä¸€äº›åˆ†æ•° å¾ˆé«˜çš„ç”¨æˆ·ï¼Œå°±è¿æˆ‘è¿™ç§å¹¶ä¸ç®—æ–°æ‰‹çš„ç”¨æˆ·åœ¨æé—®çš„æ—¶å€™ä¹Ÿä¼šæ‹…å¿ƒï¼Œæ€»è§‰å¾—è‡ªå·±åŠªåŠ›çš„è¿˜ä¸å¤Ÿï¼Œæ‹…å¿ƒè‡ªå·±çš„æé—®ä¼šè¢« downvoteã€‚è¿™å¹¶ä¸æ˜¯ä¸€ç§å¾ˆå¥åº·çš„å‘å±•çŠ¶æ€ã€‚\nç½‘ç»œä¸Šæœ‰å¾ˆå¤šå¯¹ Stack Overflow çš„æ‰¹è¯„ï¼Œä¾‹å¦‚ Stack Overflow æ­£åœ¨è¡°è½ï¼Œåˆæˆ–è€…Stack Overflow å¯¹æ–°æ‰‹å¤ªæœ‰æ•Œæ„ç­‰ï¼Œç»è¿‡è¿™æ¬¡çš„äº‹æƒ…ï¼Œæˆ‘å¯¹æ­¤æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚ä½†æˆ‘å¹¶ä¸è®¤åŒ Stack Overflow æ­£åœ¨è¡°è½çš„è¯´æ³•ï¼Œåœ¨è¿™é‡Œä½ ä»ç„¶èƒ½æ‰¾åˆ°æœ€æƒå¨ä¸æœ€ç»†è‡´çš„ç­”æ¡ˆã€‚ä½ çš„é—®é¢˜åœ¨è´´å‡ºå»ä»¥åï¼Œæœ€æœ‰å¯èƒ½åœ¨çŸ­æ—¶é—´å¾—åˆ°å…¶ä»–äººçš„å›ç­”ï¼Œè¿™æ˜¯ä»»ä½•å…¶ä»–ç½‘ç«™æ— æ³•åª²ç¾çš„ã€‚æˆ‘å¸Œæœ›è‡ªå·±çš„ç­”æ¡ˆèƒ½å¤Ÿå¸®åˆ°åˆ«äººï¼Œä¹Ÿå¸Œæœ›è‡ªå·±çš„ç­”æ¡ˆå¾—åˆ°é«˜æ‰‹çš„å›ç­”ã€‚åªæ˜¯å¸Œæœ› Stack Overflow ä¸Šçš„ç¤¾åŒºèƒ½å¤Ÿå¤šä¸€äº›å®½å®¹ï¼Œå°‘ä¸€äº›å°–åˆ»çš„è®½åˆºä¸å±…é«˜ä¸´ä¸‹çš„å‚²æ…¢ã€‚\nè·ç¦»æˆ‘åˆæ¬¡å‘æ–‡å·²ç»è¿‡å»äº†å¤§åŠå¹´ï¼ŒStack Overflow å®˜æ–¹åšå®¢å‘æ–‡æ‰¿è®¤äº†å­˜åœ¨çš„é—®é¢˜ï¼Œå¹¶ç§°å°†è¿›è¡Œæ”¹è¿›ï¼Œå¯¹æ–°ç”¨æˆ·æ›´åŠ å‹å¥½ã€‚\nUpdate: 2020-05-19, æˆ‘çš„ reputation è¾¾åˆ°äº† 8698ã€‚ Update: 2019-04-20, æˆ‘çš„ reputation å¢é•¿åˆ°äº† 4959ã€‚ Update: 2018-05-26, æˆ‘çš„ reputation å·²å¢é•¿åˆ° 2000 äº†ï¼Œä¸å®¹æ˜“å•Šã€‚ ","date":"24 October 2017","externalUrl":null,"permalink":"/2017/10/24/the-stackoverflow-love-and-hatred/","section":"Posts","summary":"\u003cp\u003eä¸€ç›´ä»¥æ¥ï¼Œåœ¨æœç´¢ç¼–ç¨‹ã€æŠ€æœ¯ç›¸å…³çš„é—®é¢˜æ—¶ï¼ŒStack Overflow ä¸Šçš„ç­”æ¡ˆç»å¸¸é«˜å±…è°·æ­Œè¿”å›ç»“æœå‰åˆ—ï¼Œè¿™ä¸ªç½‘ç«™ä¸Šæœ‰ä¸€äº›è´¨é‡å¾ˆé«˜çš„ç­”æ¡ˆï¼Œèƒ½å¤ŸçœŸæ­£è§£å†³æˆ‘çš„ç–‘é—®ã€‚å¤§çº¦ä¸€å¹´ä»¥å‰ï¼Œæˆ‘æ­£å¼æ³¨å†Œäº† Stack Overflow çš„ä¼šå‘˜ï¼Œä¹Ÿå¼€å§‹è¯•ç€å›ç­”åˆ«äººçš„æé—®ã€‚è§£ç­”åˆ«äººçš„é—®é¢˜ä¹Ÿè®©æˆ‘å—ç›ŠåŒªæµ…ï¼Œä½†æœ€è¿‘å‘ç”Ÿçš„ä¸€ä»¶äº‹å´è®©æˆ‘å¯¹ Stack Overflow æœ‰äº†æ›´æ·±çš„è®¤è¯†ã€‚\u003c/p\u003e","title":"å¯¹ Stack Overflow çš„çˆ±ä¸æ¨","type":"posts"},{"content":"In this post, I\u0026rsquo;d like to talk about how to create your own dataset, process it and make data batches ready to be fed into your neural networks, with the help of PyTorch.\nIn PyTorch, in order to feed your own training data into the network, you will mainly deal with two classes: the Dataset class and the Dataloader class. Now I will explain in more detail what they do.\nCreate your Dataset class # Overview # Dataset class is used to provide an interface for accessing all the training or testing samples in your dataset. In order to achieve this, you have to implement at least two methods, __getitem__ and __len__ so that each training sample (in image classification, a sample means an image plus its class label) can be accessed by its index.\nIn the initialization part of the class, you should collect a list of all the images and its labels in the dataset. When we want to get a particular sample, we then read the image, transform it and return the transformed image and the corresponding label.\nA good example is ImageFolder class provided by torchvision package, you can check its source code here to get a sense of how it actually works.\nData augmentation and preprocessing # Data augmentation and preprocessing is an important part of the whole work-flow. In PyTorch, we do it by providing a transform parameter to the Dataset class. Transform are class object which are called to process the given input. You can cascade a series of transforms by providing a list of transforms to torchvision.transforms.Compose method. Then the given transforms will be performed on the input in the order they appear.\nIt should be noted that some of the transforms are for PIL image object, such as RandomCrop() and Resize(). Other transforms are for torch Tensor, such as Normalize. If your dataset contains images, you should first perform all transforms expecting PIL image object, then convert PIL image to Tensor using ToTensor() method. The ToTensor transform will convert PIL image to torch Tensor of shape $H\\times W\\times C$, with its values in the range [0.0, 1.0].\nThe Normalize transform expects torch tensors. Its parameters are the means and standard deviations of RGB channels of all the training images. For ImageNet, the devs have already done that for us, the normalize transform should be\nnormalize = transforms.Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225]) For your own dataset, you have to calculate the statistics yourself.\nCreate data batch using Dataloader # Although we can access all the training data using the Dataset class, but that is not enough. For deep learning, we need the functionality such as batching, shuffling, multiprocess data loading, etc. This is what the Dataloader class do.\nThe Dataloader class accept a dataset and other parameters such as batch_size, batch_sampler and number of workers to load the data and so on\u0026hellip; Then we can iterate over the Dataloader to get batches of training data and train our models.\nLoading variable size input images # By default, Dataloader use collate_fn method to pack a series of images and target as tensors (first dimension of tensor is batch size). The default collate_fn expects all the images in a batch to have the same size because it uses torch.stack() to pack the images. If the images provided by Dataset have variable size, you have to provide your custom collate_fn. A simple example is shown below:\n# a simple custom collate function, just to show the idea # `batch` is a list of tuple where first element is image tensor and # second element is corresponding label def my_collate(batch): data = [item[0] for item in batch] # just form a list of tensor target = [item[1] for item in batch] target = torch.LongTensor(target) return [data, target] Conclusion # In this post, I give an introduction to the use of Dataset and Dataloader in PyTorch. Dataset is used to access single sample from your dataset and transform it, while Dataloader is used to load a batch of samples for training or testing your models. If your training images have variable size, you may also have to use your own custom collate_fn.\nReferences # Normalization for input images. Another post about image normalization. Dataloader with variable size images. ConvNet for variable size input image. ","date":"23 October 2017","externalUrl":null,"permalink":"/2017/10/23/pytorch-load-data-and-make-batch/","section":"Posts","summary":"\u003cp\u003eIn this post, I\u0026rsquo;d like to talk about how to create your own dataset, process it\nand make data batches ready to be fed into your neural networks, with the help\nof PyTorch.\u003c/p\u003e","title":"Writing Your Own Custom Dataset for Classification in PyTorch","type":"posts"},{"content":"In this post I will share some tips on how to use Sublime Text on Windows. These tips are collected over time and will be updated frequently (hopefully).\nOpen and close side bar # You can use Ctrl+K+B to open and close the side bar. The correct way to use this shortcut: hold on Ctrl, first press K and then press B.\nChange the case of selected text # To turn the selected text into upper case, use the shortcut key Ctrl+K+U. Here is how exactly to operate: first you need to press Ctrl, then press K and release it, finally, you press the U key, do not release the Ctrl key in the process. To turn the selected text into lower case, use the shortcut key Ctrl+K+L.\nTo turn the selected text into title case, you need to add a custom key binding. Open your key binding file and add the following setting:\n{ \u0026#34;keys\u0026#34;: [\u0026#34;ctrl+k\u0026#34;, \u0026#34;ctrl+t\u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;title_case\u0026#34; } Then you can convert the selected text into title case with the shortcut Ctrl+K+T.\nSelect text between quotation marks # You can use the Plugin BracketHighlighter to achieve what you want. First, you need to install this Plugin. Then, go to Preferences --\u0026gt; Key Bindings. Add the following key binding setting,\n{ \u0026#34;no_outside_adj\u0026#34;: null, \u0026#34;keys\u0026#34;: [\u0026#34;ctrl+alt+super+s\u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;bh_key\u0026#34;, \u0026#34;args\u0026#34;: { \u0026#34;lines\u0026#34; : true, \u0026#34;plugin\u0026#34;: { \u0026#34;type\u0026#34;: [\u0026#34;__all__\u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;bh_modules.bracketselect\u0026#34; } } } Then you can use the shortcut key Ctrl+Alt+Super+S to select texts between quotation marks.\nShow current file in side bar # In the current file, right click your mouse. In the pop-up contextual menu, choose Reveal in Side Bar and the file will be highlighted in the side bar.\nPrevent a file from opening in the tab when I right click on it # One annoying thing when using Sublime-Text is that when you want to right click on a file in the sidebar to call its contextual menu, the file is automatically opened in the tab. If you want to disable this behaviour, you can add an option in your user Settings:\n{\u0026#34;preview_on_click\u0026#34;: false,} After using this option, you can left click on a file twice to open it.\nOpen a file in the current folder quickly # You can press Ctrl+P and start to type the filename. See the following image,\nFind a string in all files in current project # Press Ctrl+Shift+F, you will see three boxes: Find, Where and Replace. Type the string you want to search in Find box , and specify the folder you want to search in Where box.\nThe search result will be presented in a page called Find Results. If you want to go to specific file which contains the searched string, double click on the line.\nThis tip is based on a wonderful stackoverflow post.\nRename the current file # When you are editing a file, you may wish to change its name. First you should [reveal it in the side bar](# Show current file in side bar). Then right click on the file and rename it.\nQuick goto a class or a function # By pressing Ctrl+R, we can navigate to functions/class in the current file. This ability is really powerful and it works for multiple source file types such as \\*.py, \\*.md, \\*.cpp.\nEdit a variable simultaneously # Sometimes, we want to rename a variable name, but it have several occurrences in the source code. It is easy to select all occurrences of a variable in Sublime Text. You should first point the cursor to the variable and then hit Alt+F3. Now you can edit the variable simultaneously.\nQuickly go to a line # Press Ctrl+G and enter the line number, then press Enter, you will go to that line.\nUnindent lines # You have two choices. The first is to use Shift+Tab, which works only for multiple selected lines. In order to make it work for a single line, set\n\u0026#34;shift_tab_unindent\u0026#34;: true, in your user settings.\nYou can also use Ctrl+[ to un-indent lines on Windows and Linux (Ctrl+] is used to indent lines).\nStop hidden files and folders from showing in the sidebar # By default, hidden file and folders (files and folders starting with a dot) are shown in the sidebar. According to this Stackoverflow post, to disable this behaviour, you need to edit the User settings (just click Preferences -\u0026gt; Settings): add the following options to the User setting file:\n\u0026#34;file_exclude_patterns\u0026#34;: [ \u0026#34;*.pyc\u0026#34;, \u0026#34;*.pyo\u0026#34;, \u0026#34;*.exe\u0026#34;, \u0026#34;*.dll\u0026#34;, \u0026#34;*.obj\u0026#34;,\u0026#34;*.o\u0026#34;,\u0026#34;*.a\u0026#34;, \u0026#34;*.lib\u0026#34;, \u0026#34;*.so\u0026#34;, \u0026#34;*.dylib\u0026#34;, \u0026#34;*.ncb\u0026#34;, \u0026#34;*.sdf\u0026#34;, \u0026#34;*.suo\u0026#34;, \u0026#34;*.pdb\u0026#34;, \u0026#34;*.idb\u0026#34;, \u0026#34;.DS_Store\u0026#34;, \u0026#34;*.class\u0026#34;, \u0026#34;*.psd\u0026#34;, \u0026#34;*.db\u0026#34;, \u0026#34;*.sublime-workspace\u0026#34;, \u0026#34;.*\u0026#34; ], \u0026#34;folder_exclude_patterns\u0026#34;: [ \u0026#34;.svn\u0026#34;, \u0026#34;.git\u0026#34;, \u0026#34;.hg\u0026#34;, \u0026#34;CVS\u0026#34;, \u0026#34;.*\u0026#34; ] The pattern .* matches any file or folder which starts with a dot. The above options works effectively to prevent the hidden files and folders from showing up in your sidebar. You can also add your own custom patterns to the two exclude lists.\nReferences # Disable previewing file when right click on it. Search a file in current folder. Open and close side bar and more. Documentation on search a string in current project. ","date":"21 October 2017","externalUrl":null,"permalink":"/2017/10/21/useful-sublime-shortcut-and-plugin/","section":"Posts","summary":"\u003cp\u003eIn this post I will share some tips on how to use Sublime Text on Windows.\nThese tips are collected over time and will be updated frequently\n(hopefully).\u003c/p\u003e","title":"Sublime Text Tips and Tricks That Will Make Your Life Easier","type":"posts"},{"content":"","date":"19 October 2017","externalUrl":null,"permalink":"/tags/mobike/","section":"Tags","summary":"","title":"Mobike","type":"tags"},{"content":"è®°å½•ä¸€ä¸‹åšçš„å‡ é“ç®—æ³•é—®é¢˜çš„è§£ç­”ã€‚\nç¬¬ä¸€é¢˜ # ç»™å‡ºä¸¤ä¸ªå­—ç¬¦ä¸² A å’Œ Bï¼ŒB çš„é•¿åº¦å¤§äºç­‰äº Aï¼ˆB çš„é•¿åº¦ä¸è¶…è¿‡ 100ï¼‰ï¼Œåœ¨ A çš„å¼€å¤´æˆ–è€…ç»“å°¾æ·»åŠ å­—ç¬¦ï¼Œä½¿å¾— A ä¸ B é•¿åº¦ä¸€æ ·ï¼Œå½“ä¸¤è€…é•¿åº¦ä¸€æ ·æ—¶ï¼ŒA ä¸ B ä¸ç›¸åŒå­—ç¬¦çš„ä¸ªæ•°æœ€å°ä¸ºå¤šå°‘ï¼Ÿä¾‹å¦‚ A æ˜¯ \u0026ldquo;be\u0026rdquo;, B æ˜¯ \u0026ldquo;abd\u0026rdquo;, å¯ä»¥åœ¨ A çš„å¼€å¤´å¢åŠ å­—ç¬¦ \u0026lsquo;a\u0026rsquo;ï¼Œæ­¤æ—¶ A ä¸ B ä¸ç›¸åŒå­—ç¬¦æ•°æœ€å°ï¼Œä¸º 1\næƒ³æ³•ï¼šå› ä¸ºåªèƒ½ç»™ A å¢åŠ å­—ç¬¦ï¼Œæ‰€ä»¥å›ºå®š Bï¼Œé‡‡ç”¨ sliding window çš„æ–¹å¼æ»‘åŠ¨ Aï¼Œè®¡ç®— A ä¸ B çš„æœ€å¤§ç›¸åŒçš„å­—ç¬¦æ•°ç›® Mï¼Œæ‰€æ±‚çš„ç­”æ¡ˆå°±æ˜¯ A çš„é•¿åº¦å‡å» M.\nå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; using namespace std; int main(){ string A, B; cin \u0026gt;\u0026gt; A \u0026gt;\u0026gt; B; int lenA = (int)A.size(); int lenB = (int)B.size(); int minVal = 101; for (int i = 0; i \u0026lt;= lenA - lenB; ++i){ int equalNum = checkEqualNum(A, B.substr(i, lenA)); if (lenA - equalNum \u0026lt; minVal){ minVal = lenA - equalNum; } } cout \u0026lt;\u0026lt; minVal \u0026lt;\u0026lt; endl; } ç¬¬äºŒé¢˜ # ç»™å‡ºä»»æ„ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ˆå¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼‰ï¼Œæ¯æ¬¡åªèƒ½å¯¹æ•°ç»„è¿›è¡Œä¸€ä¸ªæ“ä½œï¼šå–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ”¾åˆ°æ•°ç»„æœ«å°¾ã€‚æœ€å°‘éœ€è¦æ“ä½œå¤šå°‘æ¬¡ï¼Œè¯¥æ•°ç»„èƒ½å¤Ÿå˜æˆä¸€ä¸ªæ’å¥½åºçš„æ•°ç»„ã€‚ ä¾‹å­ è¾“å…¥æ•°ç»„ä¸º {3, 4, 1, 2}ï¼Œè¾“å‡ºåº”è¯¥æ˜¯ 2 è§£é‡Šï¼šå…ˆæŠŠ 3 ç§»åˆ°æ•°ç»„æœ€åï¼Œå†æŠŠ 4 ç§»åˆ°æ•°ç»„æœ€åï¼Œæ’åºå®Œæˆã€‚æ“ä½œ 2 æ¬¡ã€‚\næƒ³æ³•ï¼šå‡è®¾æ•°ç»„å·²ç»æ’å·åºï¼ŒåŸæ•°ç»„ä¸­æœ‰ä¸€éƒ¨åˆ†å…ƒç´ ç›¸å¯¹ä½ç½®åœ¨æ’åºå¥½çš„æ•°ç»„ä¸­ä»ç„¶ä¸å˜ ï¼Œè¿™éƒ¨åˆ†å…ƒç´ ä¸ç”¨ç§»åŠ¨ï¼Œåªç”¨ç§»åŠ¨å‰©ä½™å…ƒç´ å³å¯ã€‚ä¾‹å¦‚ä¸Šè¿°çš„ä¾‹å­ï¼Œ1 å’Œ 2 ä¸¤ä¸ªå…ƒç´ åœ¨åŸ æ•°ç»„ä¸­å·²ç»æ˜¯æœ‰åºçš„ï¼Œå…¶å®æ’åºçš„è¿‡ç¨‹å°±æ˜¯æŠŠ 3 å’Œ 4 ç§»åŠ¨åˆ°æ•°ç»„æœ«å°¾ã€‚å› æ­¤å¯ä»¥æŠŠæ•°ç»„ æ’åºï¼Œç„¶åè®¡ç®—æ’åºå·çš„æ•°ç»„å’ŒåŸæ•°ç»„æœ‰å¤šå°‘å…ƒç´ ç›¸å¯¹ä½ç½®æ˜¯æ­£ç¡®çš„ï¼Œå‰©ä½™å…ƒç´ æ•°ç›®å°±æ˜¯ æœ€å°çš„æ“ä½œæ¬¡æ•°ã€‚\n#include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; using namespace std; int main(){ int N; // N æ˜¯æ•°ç»„çš„å¤§å° cin \u0026gt;\u0026gt; N; vector\u0026lt;int\u0026gt; nums(N); vector\u0026lt;int\u0026gt; nums_copy(N); for (int i = 0; i != N; ++i){ cin \u0026gt;\u0026gt; nums[i]; nums_copy[i] = nums[i]; } sort(nums_copy.begin(), nums_copy.end()); size_t j = 0; for (size_t i = 0, end = nums.size(); i != end; ++i){ if (nums[i] == nums_copy[j]) ++j; } cout \u0026lt;\u0026lt; nums.size() - j \u0026lt;\u0026lt; endl; return 0; } è¯¥æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ $O(n\\log(n))$ï¼Œç©ºé—´å¤æ‚åº¦ $O(n)$. è¿˜æœ‰ä¸€ç§æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤ æ‚åº¦æ›´ä½çš„æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦è€ƒè™‘çš„æ›´åŠ ç»†è‡´ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œçš„è®¨è®º .\nï¼ˆå…¨æ–‡å®Œï¼‰\n","date":"19 October 2017","externalUrl":null,"permalink":"/2017/10/19/mobike-programming-test-20171019/","section":"Posts","summary":"\u003cp\u003eè®°å½•ä¸€ä¸‹åšçš„å‡ é“ç®—æ³•é—®é¢˜çš„è§£ç­”ã€‚\u003c/p\u003e","title":"å‡ é“ç®—æ³•é—®é¢˜è§£ç­”","type":"posts"},{"content":"Today, I came across the open source project visdom and hope to use it in my future PyTorch project. I installed it on my Linux server and met with an issue that I have no way to deal with. I would like to share it in case someone also meet it.\nAfter installing visdom successfully, I started to play with it. But I find that it can not work properly on my CentOS server. After a long time of loading, the final webpage do not contain the tool bar that normal visdom webpages would have.\nIn order to find the cause, I also installed one on my Windows computer and find that it works properly. So I added an issue on github.\nAfter a while, a contributor to visdom responded. We started this nearly 2-hour journey to find what the hell was wrong. Finally, with the help of this kind and patient man, I find that it is because some of the javascript resources can not be loaded on my CentOS server. Why does not that happen on my Windows machine? I tried to switch off my proxy manager. Suddenly, visdom can not work on Windows too. So the root cause is that our great firewall has blokced some of resource addresses used by visdom. Plain and simple.\nI love you, my great country. I have nothing to say.\n","date":"16 October 2017","externalUrl":null,"permalink":"/2017/10/16/fuck-my-great-country/","section":"Posts","summary":"\u003cp\u003eToday, I came across the open source project\n\u003ca href=\"https://github.com/facebookresearch/visdom\" target=\"_blank\"\u003evisdom\u003c/a\u003e and hope to use it in my\nfuture \u003ca href=\"http://pytorch.org/\" target=\"_blank\"\u003ePyTorch\u003c/a\u003e project. I installed it on my Linux\nserver and met with an issue that I have no way to deal with. I would like to\nshare it in case someone also meet it.\u003c/p\u003e","title":"Why Doesn't Visdom Work Fine on CentOS?","type":"posts"},{"content":"It might seem naive to ask how to loop through a C++ vector using index. However, it is not: even experienced programmer may write buggy code to loop through a vector.\nI have long been familiar with code snippet below:\nvector\u0026lt;int\u0026gt; arr(100, 0); for (int i = 0; i != arr.size(); ++i){ // do something with arr[i] } Each time I write code like this, the compiler gives me warnings:\ncomparison between signed and unsigned integer expressions [-Wsign-compare]\nThe reason is simple: arr.size() has type vector\u0026lt;int\u0026gt;::size_type, which is unsigned. We are comparing signed types (int) with unsigned types (vector\u0026lt;int\u0026gt;::size_type), hence the warning. If you insist on using int as index for vector types, you are for some buggy code. The better way is to use unsigned type as index for vector, but we need to be careful.\nChoosing the index type: size_t or size_type? # Theoretically, we should declare the type of index i to be vector\u0026lt;int\u0026gt;::size_type. But it is a lot of code to type. So I prefer to use size_t as the type of index, which is also an unsigned type. Most of the time, you can safely use size_t as the index. If you are interested, you can check the difference between size_type and size_t here.\nHow to loop forward # Looping forward through a vector using index is straightforward. See the sample code below:\nvector\u0026lt;int\u0026gt; arr(100, 0); for (size_t i = 0; i != arr.size(); ++i){ // do something with arr[i] } How to loop backward # The pitfall # Looping backward through a vector when you declare the index as unsigned type has pitfalls that we should avoid. Unfortunately, I have fallen into this trap several times. Consider the following code:\nfor (size_t i = arr.size()-1; i \u0026gt;= 0; --i){ // do something with arr[i] } This code has a serious bug: because i is unsigned type, so i will never be smaller than 0, as a result, the for loop never stops.\nThe correct way # There are two ways to loop backward correctly, the first one is:\nfor (size_t i = arr.size()-1; i != (size_t)-1; --i){ // do something with arr[i] } Because i is unsigned type, when i equals 0, i-1 will become (size_t)-1, which is the largest value that size_t can represent. Then the loop will stop correctly.\nThe second one is:\nfor (size_t i = arr.size(); i-- \u0026gt; 0; ){ // do something with arr[i] } When i equals 0, the condition i-- \u0026gt; 0 will not be met, so the loop will terminate.\nOk, that is all I want to write in this post. Hope it can help you.\nReferences # Loop backward, second way. Loop forward.(There are discussions why you should not ignore warnings about comparison between signed and unsigned type) Possible danger of using unsigned index in C++. Another discussion about the pitfalls. Unsigned type, useful but tricky. How to loop forward and backward for a vector. How to find the maximum value of size_t. ","date":"7 October 2017","externalUrl":null,"permalink":"/2017/10/07/loop-forward-backward-with-cpp-vector/","section":"Posts","summary":"\u003cp\u003eIt might seem naive to ask how to loop through a C++ vector using index.\nHowever, it is not: even experienced programmer may write buggy code to loop\nthrough a vector.\u003c/p\u003e","title":"What Is the Correct Way of Loop Through C++ Vector Using Index?","type":"posts"},{"content":"What is value of a and b in the following statement according to the rules of C++ 11?\nint a = -5 % 2; int b = 5 % -2; If you can not clearly tell the result, then you should update your knowledge about % operator in C++.\nThe rules for remainder operator # Some people call % modulo operator, but its real name is remainder operator. Rules about % operator differs between C++ 11 and pre-C++ 11 era. In pre-C++ 11 era, the result of a%b when a or b is negative is undefined. But in C++ 11, the result is well-defined, the standard says (emphasis added by me):\nThe binary / operator yields the quotient, and the binary % operator yields the remainder from the division of the first expression by the second. If the second operand of / or % is zero the behavior is undefined. For integral operands the / operator yields the algebraic quotient with any fractional part discarded; if the quotient a/b is representable in the type of the result, (a/b)*b + a%b is equal to a.\nIt basically says that a == (a/b)*b + (a%b) and the result of a/b is truncated toward zero. With these two rules, the result of a%b can be calculated without any ambiguity:\na%b = a - (a/b)*b A real example # Take the calculation of a and b in the first paragraph as an example,\n-5/2 ==\u0026gt; -2 -5%2 = -5 - (-2*2) = -1 5/-2 = -2 5%-2 = 5 - (-2*-2) = 1 So, in C++ 11, the value for a and b is -1 and 1 respectively.\nReferences # Remainder operator in C++, post 1. Remainder operator in C++, post 2. Remainder operator in C++, post 3. ","date":"7 October 2017","externalUrl":null,"permalink":"/2017/10/07/modulo-operator-in-cpp/","section":"Posts","summary":"\u003cp\u003eWhat is value of \u003ccode\u003ea\u003c/code\u003e and \u003ccode\u003eb\u003c/code\u003e in the following statement according to the rules of C++ 11?\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-cpp\" data-lang=\"cpp\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eIf you can not clearly tell the result, then you should update your knowledge\nabout % operator in C++.\u003c/p\u003e","title":"Remainder Operator(%) in C++","type":"posts"},{"content":"åœ¨å†™ä½œåšæ–‡çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦è¾“å…¥ä¸€äº›æ•°å­¦å…¬å¼ï¼Œå¦‚æœå…¬å¼è¿‡é•¿ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›æŠŠæ–¹ç¨‹åˆ†æˆå¤šè¡Œæ˜¾ç¤ºï¼Œåœ¨ LaTeX ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ aligned ç¯å¢ƒæ¥ä¹¦å†™å¤šè¡Œå…¬å¼ï¼Œä½†æ˜¯å†™å‡ºæ¥çš„ Markdown ç»è¿‡ Hexo çš„å¤„ç†ä»¥åæ˜¾ç¤ºä¸æ­£ç¡®ï¼ŒåŸå› ä½•åœ¨ï¼ŸåŸæ¥è¿™ä¸ Hexo çš„æ¸²æŸ“å¼•æ“æœ‰å…³ç³»ã€‚\nå¼€å¯å…¬å¼æ”¯æŒ # Hexo çš„è‡ªå¸¦çš„ Markdown å¼•æ“å¹¶ä¸æ”¯æŒ LaTeX å…¬å¼ã€‚ ä½†æ˜¯ MathJax æ”¯æŒï¼Œå› æ­¤é¦–å…ˆè¦å¯ç”¨ MathJax æ‰èƒ½æ¸²æŸ“ LaTeX å…¬å¼ã€‚å¦‚æœä½ å·²ç»å®‰è£…äº† NexT themeï¼Œå¼€å¯ MathJax æ”¯æŒéå¸¸å®¹æ˜“ï¼Œåœ¨æœ€æ–°ç‰ˆçš„NexT ä¸»é¢˜çš„ _config.yml æ–‡ä»¶é‡Œï¼Œæ‰¾åˆ° MathJax ç›¸å…³éƒ¨åˆ†ï¼Œä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼Œ\nmath: enable: true # Default(true) will load mathjax/katex script on demand # That is it only render those page who has \u0026#39;mathjax: true\u0026#39; in Front Matter. # If you set it to false, it will load mathjax/katex srcipt EVERY PAGE. per_page: false engine: mathjax ä½†æ˜¯ï¼Œç”±äº LaTeX ä¸­çš„ä¸€äº›ç¬¦å·åœ¨ Markdown ä¹Ÿä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¾‹å¦‚ ä¸¤ä¸ª _ åœ¨ Markdownä¸­ç”¨æ¥è¡¨ç¤ºæ–œä½“ï¼ˆitalicï¼‰ï¼Œå› æ­¤ä¸¤è€…çš„é…åˆä½¿ç”¨ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜ã€‚\nä»ä¸€ä¸ªä¾‹å­è¯´èµ· # å‡å¦‚æˆ‘ä»¬æƒ³è¦æ˜¾ç¤ºä¸‹é¢çš„æ–¹ç¨‹ï¼Œ\nå¦‚æœä½¿ç”¨å¦‚ä¸‹çš„ LaTeX ä»£ç \n\\begin{align} x \u0026amp;= a +b+c+d\\\\ \u0026amp;= e +f\\\\ \u0026amp;= g \\end{align} ä½¿ç”¨ Hexo æ¸²æŸ“ä»¥åï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ\nå¯ä»¥çœ‹åˆ°ï¼Œæ¢è¡Œå¹¶æœªèµ·ä½œç”¨ï¼Œè¿™æ˜¯å› ä¸º Hexo å¯¹ Markdown æ–‡ä»¶çš„å¤„ç†å®é™…ä¸Šåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š\nHexo ä¸­çš„ Markdown å¼•æ“æŠŠ Markdown å˜ä¸º html æ–‡ä»¶ MathJax è´Ÿè´£è§£é‡Š html çš„æ•°å­¦å…¬å¼ ç¬¬ä¸€æ­¥ä¸­ï¼Œç”±äº backslash åœ¨ Markdown å±äºç‰¹æ®Šå­—ç¬¦ï¼Œç”¨äºå­—ç¬¦è½¬ä¹‰ï¼Œæ‰€ä»¥ä¸¤ä¸ª backslash ç»è¿‡ Markdown å¼•æ“å¤„ç†ï¼Œåªå‰©ä¸‹ä¸€ä¸ªï¼Œç­‰åˆ° MathJax å¼•æ“å¤„ç†æ—¶ï¼Œå®é™…ä¸Š MathJax åªçœ‹åˆ°ä¸€ä¸ª backslashï¼ŒMathJax æŠŠå®ƒå½“ä½œ LaTeX ä¸­çš„ç©ºæ ¼ï¼Œå› æ­¤æˆ‘ä»¬è§åˆ°äº†ä¸Šå›¾æ‰€ç¤ºçš„æ¸²æŸ“ç»“æœã€‚\nçŸ¥é“äº†æ¸²æŸ“é”™è¯¯çš„åŸå› ï¼Œè§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨å››ä¸ª backslash ä»£æ›¿ä¸¤ä¸ª backslashï¼Œç¡®ä¿ MathJax çš„å¼•æ“çœ‹åˆ°çš„æ˜¯ä¸¤ä¸ª backslashï¼Œä¹Ÿå°±æ˜¯æŠŠä¸Šè¿°ä»£ç å˜æˆ\n\\begin{align} x \u0026amp;= a +b+c+d\\\\\\\\ \u0026amp;= e +f\\\\\\\\ \u0026amp;= g \\end{align} è¿™æ—¶äº§ç”Ÿçš„å…¬å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ\nå¦‚æœæƒ³è¦å»æ‰å…¬å¼çš„ç¼–å·ï¼Œåœ¨ LaTeX ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€‰æ‹©åŠ æ˜Ÿå·çš„ align ç¯å¢ƒï¼Œä½†æ˜¯æ³¨æ„åˆ°æ˜Ÿå· ï¼ˆstarï¼‰åœ¨ Markdown ä¹Ÿæœ‰ç‰¹æ®Šå«ä¹‰(ä¸€å¯¹å•æ˜Ÿå·è¡¨ç¤ºæ–œä½“ï¼Œä¸€å¯¹åŒæ˜Ÿå·è¡¨ç¤ºç²—ä½“)ï¼Œå› æ­¤å¿…é¡»å¯¹æ˜Ÿå·è¿›è¡Œè½¬ä¹‰ï¼Œæ‰èƒ½ç¡®ä¿ MathJax è§åˆ°æ˜Ÿå·ï¼Œæ­£ç¡®çš„ä»£ç æ˜¯\n\\begin{align\\*} x \u0026amp;= a +b+c+d\\\\\\\\ \u0026amp;= e +f\\\\\\\\ \u0026amp;= g \\end{align\\*} å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åœ¨ Markdown æ–‡ä»¶ä¸­å†™å…¬å¼ï¼Œæˆ‘ä»¬å°†ä¼šååˆ†ç—›è‹¦ï¼Œå¹¶ä¸”å†™å‡ºæ¥çš„ LaTeX å…¬å¼ä¸èƒ½è¢«æ ‡å‡†çš„ LaTeX å¤„ç†å¼•æ“è¯†åˆ«ï¼Œå› æ­¤è¿™ä¸ªè§£å†³åŠæ³•æ˜¯éå¸¸ç³Ÿç³•çš„è§£å†³åŠæ³•ã€‚æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæœ‰çš„ï¼\nè§£å†³æ–¹æ³• # æˆ‘è¯•ç”¨äº†å¤šæ¬¾å·ç§°èƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜çš„ hexo rendererï¼Œä¾‹å¦‚ hexo-renderer-markdown-it-plus ä»¥åŠ hexo-mathï¼Œæ•ˆæœéƒ½å·®å¼ºäººæ„ã€‚æœ€åå‘ç°ä½¿ç”¨ hexo-renderer-pandoc ååˆ†é è°±ã€‚ä½¿ç”¨è¿™ä¸ª renderer ä¹‹å‰è¯·ç¡®ä¿ä½ å·²ç»å®‰è£…äº†Pandocï¼Œç„¶åå¸è½½ Hexo è‡ªå¸¦çš„ rendererï¼Œå®‰è£… Pandoc renderer:\nnpm uninstall hexo-renderer-marked --save npm install hexo-renderer-pandoc --save æ³¨æ„äº‹é¡¹ # å¦‚æœä½ ä½¿ç”¨è¿™æ¬¾ Pandoc rendererï¼Œé‚£ä¹ˆä¹¦å†™ Markdown æ—¶å€™éœ€è¦éµå¾ª Pandoc å¯¹ Markdown çš„è§„å®šã€‚\næœ‰ä¸€äº›æ¯”è¾ƒæ˜æ˜¾çš„éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼šæ­£å¸¸çš„æ–‡å­—åé¢å¦‚æœè·Ÿçš„æ˜¯list, tableæˆ–è€…quotationï¼Œæ–‡å­—åé¢éœ€è¦ç©ºä¸€è¡Œï¼Œå¦‚æœä¸ç©ºè¡Œï¼Œè¿™äº›ç¯å¢ƒå°†ä¸èƒ½è¢« Pandoc renderer æ­£å¸¸æ¸²æŸ“ã€‚\nå¦å¤–ï¼Œæ–‡ä¸­çš„ URL ä½¿ç”¨ Pandoc æ¸²æŸ“ä»¥åæ˜¯æ™®é€šçš„æ–‡æœ¬æ ¼å¼ï¼Œä¸èƒ½ç‚¹å‡»ï¼Œå¯ä»¥é€šè¿‡ç”¨\u0026lt;\u0026gt; åŒ…å›´ URL çš„æ–¹å¼æŠŠ URL å˜æˆå¯ç‚¹å‡»çš„ URLã€‚\nå‚è€ƒ # Discussion about correct way to use align environment in Markdown. Hexo æ’å…¥å¤šè¡Œæ•°å­¦å…¬å¼. How to make URL clickable ","date":"6 October 2017","externalUrl":null,"permalink":"/2017/10/06/hexo-markdown-latex-equation/","section":"Posts","summary":"\u003cp\u003eåœ¨å†™ä½œåšæ–‡çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦è¾“å…¥ä¸€äº›æ•°å­¦å…¬å¼ï¼Œå¦‚æœå…¬å¼è¿‡é•¿ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›æŠŠæ–¹ç¨‹åˆ†æˆå¤šè¡Œæ˜¾ç¤ºï¼Œåœ¨ LaTeX ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ \u003ccode\u003ealigned\u003c/code\u003e ç¯å¢ƒæ¥ä¹¦å†™å¤šè¡Œå…¬å¼ï¼Œä½†æ˜¯å†™å‡ºæ¥çš„ Markdown ç»è¿‡ Hexo çš„å¤„ç†ä»¥åæ˜¾ç¤ºä¸æ­£ç¡®ï¼ŒåŸå› ä½•åœ¨ï¼ŸåŸæ¥è¿™ä¸ Hexo çš„æ¸²æŸ“å¼•æ“æœ‰å…³ç³»ã€‚\u003c/p\u003e","title":"Hexo ä¹¦å†™ LaTeX å…¬å¼æ—¶çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•","type":"posts"},{"content":"æœ¬æ–‡å°†ä»‹ç»å † (heap)çš„æ¦‚å¿µï¼Œè¿›ä¸€æ­¥ä»‹ç»å¦‚ä½•æŠŠæ™®é€šæ•°ç»„å˜æˆæœ€å¤§å †ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå †æ’åºã€‚\nåŸºç¡€æ¦‚å¿µ è¦è°ˆå †æ’åºï¼Œå¿…é¡»å…ˆè¯´æ¸…æ¥šâ€œå †â€è¿™ç§æ•°æ®ç»“æ„ï¼Œå †çš„å®šä¹‰å¦‚ä¸‹(æ¥è‡ªç»´åŸºç™¾ç§‘)ï¼š\nIn computer science, a heap is a specialized tree-based data structure that satisfies the heap property: if P is a parent node of C, then the key (the value) of node P is greater than the key of node C. A heap can be classified further as either a â€œmax heapâ€ or a â€œmin heapâ€. In a max heap, the keys of parent nodes are always greater than or equal to those of the children and the highest key is in the root node. In a min heap, the keys of parent nodes are less than or equal to those of the children and the lowest key is in the root node.\nåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºçš„å‡æ˜¯æœ€å¤§å †ï¼ˆmax heapï¼‰ã€‚å †æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘(complete binary tree)ï¼Œæ‰€è°“å®Œå…¨äºŒå‰æ ‘ï¼Œå°±æ˜¯æ»¡äºŒå‰æ ‘ (full binary tree)å»æ‰æœ€åä¸€å±‚å³è¾¹çš„ä¸€äº›èŠ‚ç‚¹æ„æˆçš„äºŒå‰æ ‘ã€‚å…³äºäºŒè€…çš„å®šä¹‰ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚ä¸‹é¢æ˜¯ä¸€å¼ å½¢è±¡çš„è¡¨ç¤ºå›¾ï¼Œ\næˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³çš„é¡ºåºç»™å †çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ ¹èŠ‚ç‚¹ç¼–å·ä¸º \\(0\\)ï¼Œå¦‚ä¸Šå›¾ä¸­å³å›¾æ‰€ç¤ºï¼ˆæ³¨æ„ä¸Šå›¾å¹¶ä¸æ˜¯ä¸€ä¸ªæœ€å¤§å †æˆ–è€…æœ€å°å †ï¼Œä»…ä»…æ˜¯ç¤ºæ„å¯ä»¥è¿™æ ·æ¥ç»™å †çš„èŠ‚ç‚¹ç¼–å·ã€‚è¿™æ ·çš„è¯ï¼Œå †å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„ \\(A\\) æ¥è¡¨ç¤ºï¼Œ\\(A[0]\\) è¡¨ç¤ºå †çš„æ ¹èŠ‚ç‚¹çš„å€¼ã€‚ ç”±äºå †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œè®¡ç®—ç¼–å·ä¸º \\(m\\) çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä»¥åŠå·¦å³å­èŠ‚ç‚¹(å¦‚æœå·¦å³å­èŠ‚ç‚¹å­˜åœ¨çš„è¯)éå¸¸å®¹æ˜“ï¼Œè®¡ç®—å…¬å¼ç”±ä»¥ä¸‹å¼å­ç»™å‡ºï¼Œ\nçˆ¶èŠ‚ç‚¹ï¼š\\(\\lfloor \\frac{m-1}{2}\\rfloor\\) å·¦å­èŠ‚ç‚¹ï¼š\\(2m + 1\\) å³å­èŠ‚ç‚¹ï¼š\\(2m + 2\\)\nè¯æ˜å¦‚ä¸‹ï¼Œå‡è®¾æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ä¸ºç¬¬ \\(0\\) å±‚ï¼Œé‚£ä¹ˆç¬¬ \\(i\\) å±‚èŠ‚ç‚¹ä¸ªæ•°ä¸º \\(2^i\\) ä¸ª, ç¬¬ \\(i\\) å±‚å„ä¸ªèŠ‚ç‚¹ç¼–å·ä¸º \\(2^i - 1\\)(ç¬¬ 1 ä¸ªèŠ‚ç‚¹)ï¼Œ\\(2^i + k - 2\\)ï¼ˆç¬¬ k ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œ\\(2^{i+1} - 2\\)ï¼ˆç¬¬ \\(2^i\\) ä¸ªèŠ‚ç‚¹ï¼‰ã€‚å¯¹äºç¬¬ \\(i\\) å±‚ç¬¬ \\(k\\) ä¸ªèŠ‚ç‚¹(ç¼–å·æ˜¯ \\(2^i + k - 2\\))ï¼Œå…¶åœ¨ä¸‹å±‚çš„å·¦å­èŠ‚ç‚¹ç¼–å·è®¡ç®—å…¬å¼ä¸º\n\\[\\begin{equation}\\begin{aligned} \\text{idLeftChild} \u0026amp;= \\left [ 2^i + k - 2 - (2^i - 1)\\right ] + 2^{i+1} - 1\\\\ \u0026amp;= 2k - 2 + 2^{i+1} - 1 \\\\ \u0026amp;= 2^{i+1} + 2k - 4 +1 \\\\ \u0026amp;= \\left (2^i + k - 2 \\right )*2 + 1 \\end{aligned}\\end{equation}\\]\nä»ä»¥ä¸Šå…¬å¼å¯ä»¥å½’çº³å‡ºï¼Œç¼–å·ä¸º \\(m\\) çš„èŠ‚ç‚¹ï¼Œå…¶å·¦å­èŠ‚ç‚¹ç¼–å·ä¸º \\(2m+1\\)ï¼Œå³å­èŠ‚ç‚¹ç¼–å·ä¸º \\(2m+2\\)ï¼Œå…¶çˆ¶èŠ‚ç‚¹ç¼–å·ä¸º \\(\\lfloor \\frac{m-1}{2}\\rfloor\\)ã€‚\nä»»æ„æ™®é€šæ•°ç»„çš„â€œå †åŒ–â€ å› ä¸ºå®Œå…¨äºŒå‰æ ‘å¯ä»¥ç”¨æ•°ç»„è¡¨ç¤ºï¼Œåè¿‡æ¥ä»»æ„çš„æ•°ç»„ä¹Ÿå¯¹åº”ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œåªæ˜¯è¿™ä¸ªå®Œå…¨äºŒå‰æ ‘ä¸ä¸€å®šæ˜¯æœ€å¤§å †ã€‚ ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå¦‚ä½•æŠŠå®ƒå˜ä¸ºä¸€ä¸ªå †å‘¢ï¼Ÿè§‚å¯Ÿä¸€ä¸ªæœ€å¤§å †ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œé™¤äº†å¶å­èŠ‚ç‚¹ï¼Œå…¶ä½™æ¯ä¸ªèŠ‚ç‚¹éƒ½æ»¡è¶³æœ€å¤§å †çš„ç‰¹ç‚¹ï¼Œå› æ­¤è¦æŠŠä¸€ä¸ªæ•°ç»„å¯¹åº”çš„å®Œå…¨äºŒå‰æ ‘å˜ä¸ºæœ€å¤§å †ï¼Œåªéœ€è¦è‡ªåº•å‘ä¸Šï¼Œé€å±‚æŠŠå„ä¸ªéå¶å­èŠ‚ç‚¹é€ä¸€æœ€å¤§å †åŒ–å³å¯ï¼ŒåŒæ—¶è¦ä¿è¯æœ€å¤§å †çš„ç‰¹æ€§åœ¨æœ€å¤§å †åŒ–è¿‡ç¨‹ä¸­ä¸è¢«ç ´åã€‚\nå¯¹äºå¤§å°ä¸º \\(n\\) çš„æ•°ç»„ \\(A\\)ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºä»èŠ‚ç‚¹ \\(0\\) åˆ°èŠ‚ç‚¹ \\(\\lfloor \\frac{n}{2} - 1\\rfloor\\) å«æœ‰å¶å­èŠ‚ç‚¹ï¼Œå…¶ä½™èŠ‚ç‚¹å‡ä¸ºéå¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ€å¤§å †åŒ–çš„è¿‡ç¨‹åªéœ€è¦å¯¹è¿™äº›éå¶å­èŠ‚ç‚¹è¿›è¡Œã€‚ä¸‹é¢æ˜¯æœ€å¤§å †åŒ–çš„ C++ å®ç°ï¼Œ\nvoid max_heapify(vector\u0026lt;int\u0026gt;\u0026amp; arr, const int N, int i){ int largest = i; int l = 2*i + 1; int r = 2*i + 2; if (l \u0026lt; N \u0026amp;\u0026amp; arr[l] \u0026gt; arr[largest]) largest = l; if (r \u0026lt; N \u0026amp;\u0026amp; arr[r] \u0026gt; arr[largest]) largest = r; // if largest val is not in parent node, we need to // switch val of parent node and largest val if (largest != i){ swap(arr[i], arr[largest]); max_heapify(arr, N, largest); } } void make_heap(vector\u0026lt;int\u0026gt;\u0026amp; arr, const int N){ for (int i = N/2 -1; i \u0026gt;= 0; --i){ max_heapify(arr, N, i); } } å †æ’åºçš„æ€æƒ³ä¸å®ç° å¯¹äºçš„ç»™å®šçš„æ•°ç»„ï¼Œå †æ’åºç®—æ³•å·¥ä½œåŸç†å¦‚ä¸‹\næŠŠå½“å‰çš„æ— åºæ•°ç»„å˜ä¸ºæœ€å¤§å †ï¼ˆarr[0] ä¸ºæ•°ç»„æœ€å¤§å…ƒç´ ï¼‰ å¯¹äº i ä» n-1 åˆ° 1ï¼Œ äº¤æ¢ arr[0] ä¸å½“å‰æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½® arr[i-1]ï¼Œç„¶åæŠŠå †çš„å¤§å°å‡ 1 æŠŠå‰©ä½™çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹é‡æ–°å˜ä¸ºæœ€å¤§å †åŒ–ï¼ˆå› ä¸ºè¯¥äºŒå‰æ ‘åªæœ‰æ ¹èŠ‚ç‚¹ä¸æ»¡è¶³æœ€å¤§å †çš„æ¡ä»¶ æŠŠä»¥ä¸Šç®—æ³•å†™æˆä»£ç å¦‚ä¸‹\nvoid heap_sort(vector\u0026lt;int\u0026gt;\u0026amp; arr){ const int N = static_cast\u0026lt;int\u0026gt;(arr.size()); make_heap(arr, N); for (int i = N-1; i \u0026gt;= 1; --i){ swap(arr[0], arr[i]); max_heapify(arr, i, 0); } } ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¯ä»¥è¿è¡Œçš„ä¾‹å­ï¼Œ\n#include \u0026lt;bits/stdc++.h\u0026gt; using namespace std; void printArray(const vector\u0026lt;int\u0026gt;\u0026amp; arr){ for(auto\u0026amp; num: arr){ cout \u0026lt;\u0026lt; num \u0026lt;\u0026lt; \u0026quot; \u0026quot;; } cout \u0026lt;\u0026lt; endl; } int main(){ const int N = 10; const int rangeBegin = 0; const int rangeEnd = 1000; random_device rd; mt19937 gen(rd()); uniform_int_distribution\u0026lt;int\u0026gt; distribution(rangeBegin, rangeEnd); vector\u0026lt;int\u0026gt; arr(N, 0); for (int i = 0; i != N; ++i){ arr[i] = distribution(gen); } cout \u0026lt;\u0026lt; \u0026quot;Original array: \u0026quot;; printArray(arr); heap_sort(arr); cout \u0026lt;\u0026lt; \u0026quot;After heap sort: \u0026quot;; printArray(arr); return 0; } ç¤ºä¾‹è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\næ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦åŠç¨³å®šæ€§ æ„å»ºæœ€å¤§å †çš„æ—¶é—´å¤æ‚åº¦ä¸º \\(O(n)\\) (å¹¶ä¸æ˜¯ \\(O(\\log(n))\\)ï¼Œè¯¦ç»†è®ºè¯è¿‡ç¨‹è§è¿™é‡Œ)ï¼Œheap sort æ—¶é—´å¤æ‚åº¦ä¸º\\(O(n\\log(n))\\)ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º \\(O(n\\log(n))\\)ï¼Œç”±äºå †æ’åºåªä½¿ç”¨äº†å¸¸é‡ç©ºé—´ï¼Œå› æ­¤è¯¥ç®—æ³•ç©ºé—´å¤æ‚åº¦æ˜¯ \\(O(1)\\)ã€‚\nå‰é¢çš„åšå®¢ä¹Ÿæåˆ°è¿‡ï¼Œæ’åºç®—æ³•çš„ç¨³å®šæ€§åœ¨æŸäº›æƒ…å†µä¸‹å¾ˆé‡è¦. æœ¬æ–‡ä¸­çš„å †æ’åºå±äºä¸ç¨³å®šçš„ç®—æ³•ï¼Œä¸¾ä¾‹æ¥è¯´æ˜ï¼Œå‡è®¾è¾“å…¥çš„æ•°ç»„æ˜¯ {2a, 2b, 1} (a, b ç”¨æ¥åŒºåˆ†ç›¸åŒå€¼çš„å…ˆåé¡ºåº)ï¼Œè¿™ä¸ªæ•°ç»„å·²ç»æ˜¯æœ€å¤§å †äº†ï¼Œä½¿ç”¨ heap sort ç®—æ³•ï¼Œå¾—åˆ°çš„æ’åºåçš„ç»“æœåº”è¯¥æ˜¯ {1, 2b, 2a}ï¼Œç›¸åŒæ•°å€¼çš„å…ˆåé¡ºåºè¢«ç ´åï¼Œè¿™å°±è¯´æ˜äº†å †æ’åºæ˜¯ä¸ç¨³å®šçš„ç®—æ³•ã€‚\nReferences Difference between full binary tree and complete binary tree. ä¸€ä¸ªå¾ˆè¯¦ç»†çš„å †æ’åºè®²è§£. https://www.scaler.com/topics/data-structures/heap-sort-algorithm/ ä¸ºä»€ä¹ˆå †æ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•. ","date":"6 October 2017","externalUrl":null,"permalink":"/2017/10/06/heap-sort-explained/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡å°†ä»‹ç»å †\n(heap)çš„æ¦‚å¿µï¼Œè¿›ä¸€æ­¥ä»‹ç»å¦‚ä½•æŠŠæ™®é€šæ•°ç»„å˜æˆæœ€å¤§å †ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå †æ’åºã€‚\u003c/p\u003e","title":"å †æ’åºæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ","type":"posts"},{"content":"In this post, I will write about the stability of sorting algorithms and why it is important.\nWhen we read articles about sorting algorithms, a term that often appears is the \u0026ldquo;stability\u0026rdquo; of an algorithm. The definition of stability is pretty simple: Given an unsorted list and a sorting algorithm. If two equal elements in the original list remain their relative order in the sorted list, then the sorting algorithm is stable, otherwise it is an unstable algorithm.\nNow that we know the definition and there tons of article telling you which sorting algorithm is stable and which is not, we may wonder what is the point of identifying if an algorithm is stable or not. In fact, if you only have a list of single items to sort, the stability of the sorting algorithm is not important. However, if you have a list where each element is some kind of record which has several keys, you way want to sort the record based on several keys. That is where stability comes into play.\nFor example, we have a list of some students who belong to different labs,1\nDave A Alice B Ken A Eric B Carol A We want to sort the records first using the student names as the key, the result is:\nAlice B Carol A Dave A Eric B Ken A Then we want to sort the above result further based on their labs, we may get the result of\nDave A Ken A Carol A Alice B Eric B or\nCarol A Dave A Ken A Alice B Eric B If the use a stable algorithm, it will ensure that the order of previous sorting will be preserved if two keys are the same. So the names corresponding to the same labs are in sorted order. The result will be\nCarol A Dave A Ken A Alice B Eric B In summary, the stability of sorting algorithms is important only when you want to chain multiple sort according to different keys in the record. If your record only has one key, the stability issue is irrelevant.\nReferences # https://stackoverflow.com/questions/1517793/what-is-stability-in-sorting-algorithms-and-why-is-it-important https://stackoverflow.com/questions/808617/what-is-the-benefit-for-a-sort-algorithm-to-be-stable/808668#808668 http://www.drdobbs.com/cpp/why-stable-sorting-is-important/231001864 The example is from this page.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"30 September 2017","externalUrl":null,"permalink":"/2017/09/30/sorting-algorithms-stability/","section":"Posts","summary":"\u003cp\u003eIn this post, I will write about the stability of sorting algorithms and why it\nis important.\u003c/p\u003e","title":"When Does the Stability of Sorting Algorithms Matter?","type":"posts"},{"content":"In the early development of convolutional neural networks (CNNs), convolutions with kernel size \\(3\\times 3\\), \\(5\\times 5\\), \\(7\\times 7\\) or even \\(11\\times 11\\) are often used. In the more recent literature, however, \\(1\\times 1\\) convolutions are becoming prevalent. In this post, I will try to explain what \\(1\\times 1\\) convolutions are and discuss why they are used in CNNs.\nThe meaning of \\(1\\times 1\\) convolutions In essence, \\(1\\times 1\\) convolutions are just convolutions with kernel size equal to \\(1\\), nothing new. Suppose the feature map size of one layer is \\(64\\times 12\\times 12\\), and it is followed by \\(1\\times 1\\) convolutions, and the output channel is \\(C\\). Then in this convolution layer, we will have \\(C\\) filters, each of which has shape \\(64\\times 1\\times 1\\). The convolutional weight shape in this layer is \\(C\\times 64\\times 1\\times 1\\), and the shape of bias terms is \\(C\\times 1\\times 1\\). The output feature map size after this convolutional layer is \\(C\\times 12\\times 12\\). So the spatial size of feature maps is preserved, but the number of feature maps are changed from 64 to \\(C\\).\nThe paper Network in network first proposed to use \\(1\\times 1\\) convolutions. In that paper, multiple \\(1\\times 1\\) convolutional layers is stacked together, which the authors call a mlp layer. Since the kernel size is \\(1\\times 1\\), which can not learn a spatial relationship within channels, it is used solely to learn cross-channel relations of the feature maps. You can also think of it as a fully-connected operation, where for each feature map the multiplying coefficients are the same.\nLater in the Google Inception paper, \\(1\\times 1\\) convolutions are also used in the inception module shown below.\nThe use of \\(1\\times 1\\) convolutions is mainly for dimension reduction in channels to reduce the computational cost of the following \\(3\\times 3\\) or \\(5\\times 5\\) convolutions. Another purpose is to increase the non-linearity as \\(1\\times 1\\) convolutions are immediately followed by ReLU. The two purposes of \\(1\\times 1\\) convolutions are stated clearly in this paper:\nThat is, \\(1\\times 1\\) convolutions are used to compute reductions before the expensive \\(3\\times 3\\) and \\(5\\times 5\\) convolutions. Besides being used as reductions, they also include the use of rectified linear activation making them dual-purpose.\nIn the more recent ResNet paper, the authors proposed to use â€œbottleneckâ€ structure (shown below), which also involves the use of \\(1\\times 1\\) convolutions. The purpose of it is also for reducing or increasing dimensions.\nRelationship between fully-connected layers and \\(1\\times 1\\) convolutions In image classification, researchers often use fixed size input image and fully connected layers as classifiers to classify the image. But according to the father of convolutional neural networks â€“ Yann lecun, there is no such thing as fully-connected layers and you do not need to use fixed size input image in testing time:\nIn Convolutional Nets, there is no such thing as â€œfully-connected layersâ€. There are only convolution layers with 1x1 convolution kernels and a full connection table. Itâ€™s a too-rarely-understood fact that ConvNets donâ€™t need to have a fixed-size input. You can train them on inputs that happen to produce a single output vector (with no spatial extent), and then apply them to larger images. Instead of a single output vector, you then get a spatial map of output vectors. Each vector sees input windows at different locations on the input. In that scenario, the â€œfully connected layersâ€ really act as 1x1 convolutions.\nThat is, we can interpret fully-connected layers as \\(1\\times 1\\) convolutions. For example, in VGG-16 network, the input image size is \\(224\\times 224\\), the output is a classification score for 1000 classes, whose size is \\(1000\\times 1\\times 1\\). If the input images have bigger size than \\(224\\times 224\\), we can interpret the fully-connected layers as convolutions in a sliding windows fashion so that the output of the network is a classification map of size \\(1000\\times W\\times H\\), where \\(W\u0026gt;1\\) and \\(H\u0026gt;1\\). Each point in each classification map represent the probability of the corresponding receptive field in the original image belonging to that specific class.\nConclusions In summary, \\(1\\times 1\\) convolutions are used for 2 purposes: ones is to reduce dimensions in order to reduce computational cost, the other is to increase non-linearity of the network (or the capacity of the network) in a cheap way.\nReferences A discussion about the meaning of \\(1\\times 1\\) convolutions Why \\(1\\times 1\\) convolutions are used Another post about the meaning of \\(1\\times 1\\) convolutions A discussion about the significance of network in network How to interpret the fully-connected layers as convolutions. ","date":"29 September 2017","externalUrl":null,"permalink":"/2017/09/29/1by1-convolution-in-cnn/","section":"Posts","summary":"\u003cp\u003eIn the early development of convolutional neural networks (CNNs),\nconvolutions with kernel size \u003cspan class=\"math inline\"\u003e\\(3\\times\n3\\)\u003c/span\u003e, \u003cspan class=\"math inline\"\u003e\\(5\\times 5\\)\u003c/span\u003e, \u003cspan\nclass=\"math inline\"\u003e\\(7\\times 7\\)\u003c/span\u003e or even \u003cspan\nclass=\"math inline\"\u003e\\(11\\times 11\\)\u003c/span\u003e are often used. In the more\nrecent literature, however, \u003cspan class=\"math inline\"\u003e\\(1\\times\n1\\)\u003c/span\u003e convolutions are becoming prevalent. In this post, I will try\nto explain what \u003cspan class=\"math inline\"\u003e\\(1\\times 1\\)\u003c/span\u003e\nconvolutions are and discuss why they are used in CNNs.\u003c/p\u003e","title":"1x1 Convolutions Demystified","type":"posts"},{"content":"","date":"29 September 2017","externalUrl":null,"permalink":"/tags/cnn/","section":"Tags","summary":"","title":"CNN","type":"tags"},{"content":"","date":"24 September 2017","externalUrl":null,"permalink":"/tags/tools/","section":"Tags","summary":"","title":"Tools","type":"tags"},{"content":"æœ¬æ–‡ä»‹ç»ä¸€äº›æˆ‘å¸¸ç”¨çš„ Android Appsï¼Œå¸Œæœ›ä½ ä¹Ÿèƒ½å–œæ¬¢ã€‚\nTickTick # Ticktick æ˜¯ä¸€æ¬¾å¾…è·¨å¹³å°çš„åŠäº‹é¡¹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ·»åŠ å¾…åŠäº‹é¡¹ï¼ŒåŒæ—¶ app éå¸¸ç®€æ´ï¼Œæ²¡æœ‰å¤šä½™çš„åŠŸèƒ½ï¼Œå¦‚æœè¦ä½¿ç”¨é¢å¤–çš„åŠŸèƒ½ï¼Œéœ€è¦è´­ä¹°ï¼Œä½†æ˜¯åŸºæœ¬åŠŸèƒ½ä¹Ÿè¶³å¤Ÿç”¨äº†ã€‚\nFooview # Fooviewæ˜¯ä¸€æ¬¾è½»é‡çº§ä½†æ˜¯åŠŸèƒ½å¼ºå¤§çš„å·¥å…·ç±»åº”ç”¨ï¼Œæ”¯æŒæˆªå›¾ï¼Œå½•å±ï¼Œè‡ªåŠ¨ OCR(å¹¶ä¸”æœ‰ç±»ä¼¼é”¤å­æ‰‹æœº big bang çš„åŠŸèƒ½)ï¼Œæˆ‘æœ€å–œæ¬¢çš„åŠŸèƒ½æ˜¯æˆªå›¾ï¼Œå¾ˆæ–¹ä¾¿ï¼Œä¸åƒç³»ç»Ÿçš„æˆªå›¾åšçš„é‚£ä¹ˆå¤æ‚ã€‚\nLastpass # Lastpass æ˜¯ä¸€ä¸ªå¤šå¹³å°çš„å¯†ç ç®¡ç†è½¯ä»¶ï¼Œä»¥å‰å¯¹äºå¯†ç éƒ½æ˜¯å¤šä¸ªç½‘ç«™é‡‡ç”¨ä¸€ä¸ªï¼Œä½†æ˜¯è¿™æ ·çš„å®‰å…¨æ€§ä¸è¶³ï¼Œå¯¹äºä¸€äº›é‡è¦çš„å¸å·ï¼Œéœ€è¦å•ç‹¬è®¾ç½®å¯†ç ï¼Œå¦‚æœæ—¶é—´é•¿äº†ï¼Œå¯†ç å°±å¿˜äº†ï¼ŒLastpass å¯ä»¥è®°å½•ç½‘ç«™ä¿¡æ¯å’Œå¯¹åº”çš„å¯†ç ä¿¡æ¯ï¼Œç™»å½•ç½‘ç«™çš„æ—¶å€™å¯ä»¥è‡ªåŠ¨å¡«å……å¸å·å¯†ç ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯è¿™ä¸ªå¯†ç æ˜¯åœ¨äº‘ç«¯å­˜æ”¾çš„ï¼Œå¦‚æœ Lastpass æœåŠ¡å™¨è¢«æ”»ç ´ï¼Œç”¨æˆ·çš„å¯†ç ä¹Ÿå°±ä¸å®‰å…¨äº†ã€‚\nShare # æ–°æµªå¾®åšå®˜æ–¹çš„æ—¶é—´çº¿ä»å¾ˆä¹…ä»¥å‰å°±å¼€å§‹ä¹±äº†ï¼Œç°åœ¨ä¹Ÿå¢åŠ äº†å¾ˆå¤šå¯¹æˆ‘æ¥è¯´æ— ç”¨çš„åŠŸèƒ½ï¼Œæˆ‘åªæƒ³å®‰é™åˆ·å¾®åšï¼Œä¸æƒ³å°è¯•ä»€ä¹ˆâ€œå¾®åšæ•…äº‹â€ã€‚Share ä¸€æ¬¾ç¬¬ä¸‰æ–¹å¾®åšå®¢æˆ·ç«¯ï¼Œç®€æ´å¥½ç”¨ï¼Œæ—¶é—´çº¿ä¸ä¹±ï¼Œä½œè€…å¾ˆç”¨å¿ƒï¼Œæ›´æ–°é€Ÿåº¦å¾ˆé¢‘ç¹ã€‚\nX æµè§ˆå™¨ # ä¸€åŠ æ‰‹æœºè‡ªå¸¦çš„æµè§ˆå™¨æ˜¯ QQ æµè§ˆå™¨çš„æ”¹ç¼–ç‰ˆæœ¬ï¼Œé¦–é¡µå¤ªç¬¨é‡ï¼Œå¹¿å‘Šä¿¡æ¯å¤ªå¤šã€‚æˆ‘å¯¹æµè§ˆå™¨çš„è¦æ±‚æ˜¯èƒ½æŸ¥ä¸œè¥¿å°±å¯ä»¥ï¼Œè¶Šç®€æ´è¶Šå¥½ï¼Œä¸è¦ç»™æˆ‘çœ‹ä»€ä¹ˆæ–°é—»ã€‚ä¹Ÿè¯•ç”¨äº†ä¸€äº›ç®€æ´çš„æµè§ˆå™¨ï¼Œè­¬å¦‚ Via, è¿˜æœ‰å¤¸å…‹æµè§ˆå™¨ï¼Œè¿˜æœ‰ X æµè§ˆå™¨ã€‚ç»è¿‡åå¤æ¯”è¾ƒï¼Œè§‰å¾—è¿˜æ˜¯ X æµè§ˆå™¨ä¸é”™ï¼šæ›´æ–°å¿«ï¼Œç®€æ´ä½†æ˜¯åŠŸèƒ½å¹¶ä¸å°‘ï¼Œå®‰è£…åŒ…ä½“ç§¯ä¹Ÿå¾ˆå°ã€‚å¦‚æœä½ å–œæ¬¢ç®€æ´ï¼Œé‚£ä¹ˆå¼ºçƒˆæ¨èè¿™æ¬¾æµè§ˆå™¨ã€‚\næ¬§è·¯è¯å…¸ # æ¬§è·¯è¯å…¸æ˜¯ä¸€æ¬¾è¢«ä½ä¼°çš„è¯å…¸ï¼Œæœ¬äººè§‰å¾—å®Œå…¨å¯ä»¥åŠæ‰“æœ‰é“è¯å…¸ï¼Œå¿…åº”è¯å…¸ç­‰ä¸€ä¼—åè€Œä¸å®çš„è¯å…¸ã€‚è¯¥è¯å…¸æœ€å¤§çš„ç‰¹è‰²åœ¨äºå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„è¯å…¸åº“ï¼Œä¾‹å¦‚æœ—æ–‡è¯å…¸(Langman)ï¼Œç‰›æ´¥è¯å…¸(OLAD) å’Œç§‘æ—æ–¯è¯å…¸ç­‰ã€‚åœ¨è°·æ­Œä¸Šæœç´¢ â€œmdx è¯å…¸â€å…³é”®è¯ï¼Œå¯ä»¥æœç´¢åˆ°å¾ˆå¤šç›¸å…³çš„èµ„æºä»¥åŠå¦‚ä½•ä½¿ç”¨çš„æ•™ç¨‹ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚\nåœ¨æ„ç©ºæ°” # ä¸€æ¬¾ç©ºæ°”è´¨é‡ APP æ˜¯å¿…é¡»çš„ï¼Œåœ¨æ„ç©ºæ°”æ˜¯ä¸€æ¬¾ä¸é”™çš„ç©ºæ°”è´¨é‡æ£€æµ‹åº”ç”¨ï¼Œå¯ä»¥æŸ¥çœ‹å„åœ°å®æ—¶çš„ç©ºæ°”è´¨é‡æ•°æ®ï¼Œå¦‚ AQIï¼ŒPM2.5 ç­‰,å¹¶ä¸”å®ƒè¿˜æ”¯æŒä»¥ä¸–ç•Œå„åœ°ä¸åŒçš„æ ‡å‡†åº¦é‡å½“å‰ç©ºæ°”è´¨é‡ï¼ˆç¾å›½æ ‡å‡†ï¼Œæ¬§ç›Ÿæ ‡å‡†ï¼‰ã€‚\nMX Player # MX Player ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ‰‹æœºæ’­æ”¾å™¨ï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµè§†é¢‘æ ¼å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰è§£ç å™¨ï¼Œæ”¯æŒåŠ è½½å¤–éƒ¨å­—å¹•ç­‰ç­‰ã€‚\nï¼ˆå…¨æ–‡å®Œï¼‰\n","date":"24 September 2017","externalUrl":null,"permalink":"/2017/09/24/some-good-android-apps/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ä»‹ç»ä¸€äº›æˆ‘å¸¸ç”¨çš„ Android Appsï¼Œå¸Œæœ›ä½ ä¹Ÿèƒ½å–œæ¬¢ã€‚\u003c/p\u003e","title":"å–„ç”¨ä½³è½¯---æˆ‘å¸¸ç”¨çš„ Android åº”ç”¨","type":"posts"},{"content":"è¿™æ˜¯ä¸€é“å°ç±³ 2018 æ ¡æ‹›ç®—æ³•å·¥ç¨‹å¸ˆçš„ç¼–ç¨‹é¢˜ç›®ï¼Œç±»ä¼¼ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œä½†æ˜¯è¯¥é¢˜ä¸èƒ½ä½¿ç”¨ Pythonï¼Œå› æ­¤éœ€è¦è‡ªå·±å®ç°è¿™ä¸ªç®€å•çš„åŒ¹é…ï¼Œé¢˜ç›®å¦‚ä¸‹:\nç»™å‡ºä¸¤ä¸ªå­—ç¬¦ä¸² text å’Œ pattern, ä¸¤ä¸ªå­—ç¬¦ä¸²å‡ç”±å°å†™å­—æ¯æ„æˆï¼Œæ‰¾å‡º text ä¸­åŒ¹é… pattern çš„æœ€çŸ­å­å­—ç¬¦ä¸²çš„èµ·å§‹ä»¥åŠç»ˆæ­¢çš„ç´¢å¼•å·ç ï¼Œæ‰€è°“åŒ¹é…ï¼Œæ˜¯æŒ‡ pattern ä¸­å­—ç¬¦éƒ½å‡ºç°åœ¨è¯¥å­å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”é¡ºåºä¸å˜ï¼Œè¿™äº›å­—ç¬¦ä¸­é—´å¯ä»¥æœ‰å…¶ä»–å­—ç¬¦å‡ºç°ï¼Œä¸è¦æ±‚è¿ç»­ã€‚ æ ·ä¾‹è¾“å…¥æ ¼å¼ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œè¾“å‡ºä¸ºæœ€çŸ­çš„åŒ¹é…å­—ç¬¦ä¸²çš„å‰åç´¢å¼•ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¾“å‡º -1ï¼Œ -1. æ ·ä¾‹è¾“å…¥ï¼š axxxbcaxbcaxxbc abc abcd x axxxbaxbab ab æ ·ä¾‹è¾“å‡ºï¼š 6 9 -1 -1 8 9\nè¿™é“é¢˜ç›®çš„æ€è·¯æ˜¯ä¾æ¬¡éå† text, å¦‚æœ pattern çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¢«æ‰¾åˆ°ï¼Œé‚£ä¹ˆä»å½“å‰ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹éå† text æ‰¾ pattern çš„ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°pattern çš„æœ€åä¸€ä¸ªå­—ç¬¦è¢«æ‰¾åˆ°ï¼Œæˆ–è€…éå† text ä¹Ÿæœªæ‰¾åˆ° pattern ä¸­æ‰€æœ‰å­—ç¬¦ä¸²ã€‚ æ¯æ‰¾åˆ°è¿™æ ·çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œå°±è®°å½•è¯¥å­—ç¬¦ä¸²å‰åçš„ç´¢å¼•ï¼Œå¦‚æœå­å­—ç¬¦ä¸²é•¿åº¦ç­‰äºpatternï¼Œæ­¤æ—¶æˆ‘ä»¬å·²ç»æ‰¾åˆ°æœ€çŸ­åŒ¹é…ï¼Œåœæ­¢ç»§ç»­æœç´¢ï¼›å¦‚æœä» text æŸä¸ªä½ç½®å¼€å§‹ï¼Œæœªæ‰¾åˆ°åŒ¹é… pattern çš„å­å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯¥ä½ç½®ä»¥åä¹Ÿä¸å¯èƒ½ä¼šæœ‰ï¼Œåœæ­¢æœç´¢ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’çš„ä»£ç æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¾ªç¯ä»£ç ï¼Œé€’å½’æ–¹å¼çš„ä»£ç å¦‚ä¸‹ï¼š\n#include \u0026lt;bits/stdc++.h\u0026gt; using namespace std; string text, pattern; // posInPattern mean the next search character in pattern // posInText means the next pos the search start int dfs(int posInPattern, int posInText){ if (posInPattern == (int)pattern.size()){ return posInText-1; } int endID = -1; for (int i = posInText; i != (int)text.size(); ++i){ if (text[i] == pattern[posInPattern]){ endID = dfs(posInPattern+1, i+1); break; } } return endID; } int main(){ cin \u0026gt;\u0026gt; text \u0026gt;\u0026gt; pattern; int lenText = (int)text.size(); int lenPattern = (int)pattern.size(); vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; records; for (int i = 0; i \u0026lt;= lenText-lenPattern; ++i){ if (text[i] == pattern[0]){ int end = dfs(1, i+1); if (end != -1){ records.push_back(make_pair(i, end)); }// if no matching substring are found starting from current //position, then no substring can be found after this position. else{ break; } } } if (records.empty()) {// if no matching substring is found cout \u0026lt;\u0026lt; \u0026#34;-1 -1\\n\u0026#34;; } else{ // if mathcing substring is found, then select the shortest one. int begin = records[0].first, end = records[0].second; for (auto it = records.begin()+1; it != records.end(); ++it){ if (it-\u0026gt;second - it-\u0026gt;first \u0026lt; end - begin){ begin = it-\u0026gt;first; end = it-\u0026gt;second; } } cout \u0026lt;\u0026lt; begin \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; end \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; } return 0; } é‡‡ç”¨å¾ªç¯æ–¹å¼çš„ä»£ç å¦‚ä¸‹ï¼š\n#include \u0026lt;bits/stdc++.h\u0026gt; using namespace std; int main(){ string text, pattern; cin \u0026gt;\u0026gt; text \u0026gt;\u0026gt; pattern; int lenText = (int)text.size(); int lenPattern = (int)pattern.size(); vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; record; for (int i = 0; i \u0026lt;= lenText-lenPattern; ++i){ if (text[i] != pattern[0]){ continue; } else{ int j = i+1; // next search position in text int k = 1; // next search character in pattern while (j \u0026lt; lenText \u0026amp;\u0026amp; k \u0026lt; lenPattern){ if (text[j] == pattern[k]){ ++k; } ++j; } // if we found the string if (k == lenPattern){ record.push_back(make_pair(i, j-1)); } else{ break;} // we cann\u0026#39;t find any string after, so break } } if (records.empty()) {// if no matching substring is found cout \u0026lt;\u0026lt; \u0026#34;-1 -1\\n\u0026#34;; } else{ // if mathcing substring is found, then select the shortest one. int begin = records[0].first, end = records[0].second; for (auto it = records.begin()+1; it != records.end(); ++it){ if (it-\u0026gt;second - it-\u0026gt;first \u0026lt; end - begin){ begin = it-\u0026gt;first; end = it-\u0026gt;second; } } cout \u0026lt;\u0026lt; begin \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; end \u0026lt;\u0026lt; \u0026#39;\\n\u0026#39;; } return 0; } (å…¨æ–‡å®Œ)\n","date":"21 September 2017","externalUrl":null,"permalink":"/2017/09/21/xiaomi201818-pattern-match/","section":"Posts","summary":"\u003cp\u003eè¿™æ˜¯ä¸€é“å°ç±³ 2018 æ ¡æ‹›ç®—æ³•å·¥ç¨‹å¸ˆçš„ç¼–ç¨‹é¢˜ç›®ï¼Œç±»ä¼¼ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œä½†æ˜¯è¯¥é¢˜ä¸èƒ½ä½¿ç”¨ Pythonï¼Œå› æ­¤éœ€è¦è‡ªå·±å®ç°è¿™ä¸ªç®€å•çš„åŒ¹é…ï¼Œé¢˜ç›®å¦‚ä¸‹:\u003c/p\u003e","title":"å°ç±³ 2018 æ ¡æ‹›ç®—æ³•å·¥ç¨‹å¸ˆç¼–ç¨‹ä¹‹å­—ç¬¦ä¸²åŒ¹é…","type":"posts"},{"content":"The C++ standard library doesn\u0026rsquo;t support big integer operations such as addition and multiplication. In this post, I will show how to solve such problems in C++.\nBig integer addition # The built in integer types in C++ are mainly short, int, long and long long. These types can only represent relatively small integers. If we store big integers in these types, integer overflow may happen. As a solution, we can store big integers as strings and do integer addition the same way as we do in paper.\nThe following code accepts two integers represented as strings and return their sum as a string,\nstring bigIntAddition(const string\u0026amp; num1, const string\u0026amp; num2){ string result; int i = static_cast\u0026lt;int\u0026gt;(num1.size() - 1); int j = static_cast\u0026lt;int\u0026gt;(num2.size() - 1); int carry = 0; while (i \u0026gt;= 0 or j \u0026gt;= 0 or carry != 0){ int sum = (i \u0026lt; 0 ? 0 : num1[i--] - \u0026#39;0\u0026#39;) + (j \u0026lt; 0 ? 0 : num2[j--] - \u0026#39;0\u0026#39;) + carry; result += ((sum % 10) + \u0026#39;0\u0026#39;); carry = sum / 10; } std::reverse(result.begin(), result.end()); return result; } Big integer multiplication # Integer multiplication is bit more complex, if two integers have $m$ and $n$ digits, then the final result have a maximum of $m + n$ digits. One post on leetcode gives an excellent explanation of how to do mulitiplication manually, digit by digit. The basic idea is this\nStart from the least significant digit of both integers, and calculate their product. If the indices of the digits are $i$, $j$, then the product will be added to indices $i+j$ and $i+j+1$.\nThis is a repeated process where each digit in the result is gradually built by addition. Until we finished the process, the digits are changing their values continuously.\nFollowing is the code to do interger(expresses as string) multiplications,\nstring bigIntMultiplication(const string\u0026amp; num1, const string\u0026amp; num2){ if (num1 == \u0026#34;0\u0026#34; or num2 == \u0026#34;0\u0026#34;){ return \u0026#34;0\u0026#34;; } int N = static_cast\u0026lt;int\u0026gt;(num1.size()); int M = static_cast\u0026lt;int\u0026gt;(num2.size()); vector\u0026lt;int\u0026gt; result(N+M, 0); for (int i = N-1; i \u0026gt;= 0; --i){ for (int j = M-1; j \u0026gt;= 0; --j){ int tmp = (num1[i] - \u0026#39;0\u0026#39;) * (num2[j] - \u0026#39;0\u0026#39;); int sum = tmp + result[i+j+1]; result[i+j+1] = sum % 10; result[i+j] += sum / 10; } } // in case the result only have N+M-1 digits or one of num is zero ostringstream out; int i = 0; while (result[i] == 0) {++i;} for (; i != N+M; ++i){ out \u0026lt;\u0026lt; result[i]; } return out.str(); } Factorial of n # Factorial increases really fast, for example, the factorial of 100! has 158 digits. In order to represent such big integer, we can use an array to store its digit separately. Below is an algorithm to find the factorial of n,\ncreate an array res[N] big enough to store all the digits in n!, initialize res[0] to 1\nlet m be the number of digits that current result takes up, the initialize m to be 1\nfor num from 2 to n\ninitialize carry to 0 for each digit in current result (i.e., from res[0] to res[m-1]), let cur = num*res[j] + carry, put last digit of cur in res[j], put other digit in cur in carry. if carry is not zero, put every digit in carry into res by incresing m In order to simplify computation, we store all the digits of the result in reverse order, which means that the least significant digit is stored in the smallest index of the array, kind of like \u0026ldquo;small endian\u0026rdquo;. In each iteration, we also keep track of how many digits the current result takes up. The following code is an implementation of this idea,\nstring factorial(int n){ const int N = 10000; int* digits = new int[N]; digits[0] = 1; int m = 1; for (int num = 2; num \u0026lt;= n; ++num){ // multipy num and every digit in current result int carry = 0; for (int j = 0; j != m; ++j){ int cur += num*digits[j]; digits[j] = cur % 10; carry = cur / 10; } // if carry is not zeros, span current result using digits in carry while (carry){ digits[m++] = carry % 10; carry /= 10; } } ostringstream out; for (int i = m-1; i \u0026gt;= 0; --i){ out \u0026lt;\u0026lt; digits[i]; } delete[] digits; return out.str(); } References # Leetcode, add two strings. Leetcode, string multiplication. Calculating factorials of big intergers. ","date":"21 September 2017","externalUrl":null,"permalink":"/2017/09/21/big-integer-operations-cpp/","section":"Posts","summary":"\u003cp\u003eThe C++ standard library doesn\u0026rsquo;t support big integer operations such as\naddition and multiplication. In this post, I will show how to solve such\nproblems in C++.\u003c/p\u003e","title":"Some Programming Questions Related to Operations with Big Integers","type":"posts"},{"content":"The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not support the complete C++11 standard, for example, it does not fully support regular expressions. In order to use regular expression functions, we need to install at least GCC 4.9.0. The following installation procedure is applicable to CentOS 7 and are not tested on other Linux systems. Also you have to make sure that you have root privelege.\nUpdate:\nGCC 8.3 has been released on Feb 22, 2019. The installation process is the same as prvevious versions. Download the corrent tar file from the GNU ftp server, compile and install it.\nDownloading GCC source code # You can download the GCC source code from the official GNU ftp. I choose to install version 5.4.0.\ncurl https://ftp.gnu.org/gnu/gcc/gcc-5.4.0/gcc-5.4.0.tar.bz2 -O tar jxvf gcc-5.4.0.tar.bz2 Install dependencies # We need to install 3 dependencies packages. It is recommended to install these packages through yum.\nyum install gmp-devel mpfr-devel libmpc-devel Configuration and install # Unlike other packages, it is recommended to create another build directory outside of the GCC source directory to build GCC.\nmkdir gcc-5.4.0-build cd gcc-5.4.0-build ../gcc-5.4.0/configure --enable-languages=c,c++ --disable-multilib make -j$(nproc) \u0026amp;\u0026amp; make install The comiplation process may take a long time and you need to be patient. It will install GCC under /usr/local. You can change the install dir using --prefix option if you prefer.\nPost-installation # You should add the install dir of GCC to your PATH and LD_LIBRARY_PATH in order to use the newer GCC. Add the following settings to /etc/profile:\nexport PATH=/usr/local/bin:$PATH export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH Maybe a restart of your current session is also needed.\nYou can download the whole install script here.\nReferences # https://gist.github.com/craigminihan/b23c06afd9073ec32e0c GCC install wiki GNU GCC ftp site GCC configure options ","date":"4 September 2017","externalUrl":null,"permalink":"/2017/09/04/install-gcc-newer-version-on-centos/","section":"Posts","summary":"\u003cp\u003eThe default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not\nsupport the complete C++11 standard, for example, it does not fully support\n\u003ca href=\"http://en.cppreference.com/w/cpp/regex\" target=\"_blank\"\u003eregular expressions\u003c/a\u003e. In order to use\nregular expression functions, \u003ca href=\"https://stackoverflow.com/a/8061172/6064933\" target=\"_blank\"\u003ewe need to install at least GCC\n4.9.0\u003c/a\u003e. The following installation\nprocedure is applicable to CentOS 7 and are not tested on other Linux systems.\nAlso you have to make sure that you have root privelege.\u003c/p\u003e","title":"How to Compile and Install Latest Version of GCC on CentOS 7","type":"posts"},{"content":"The problem is as follows:\nGiven an array $A$ of length $N$, $A[i] \\ge 0$ ( $0 \\le i \\le N-1$) , and a number $K$. Find the longest subarray whose sum is divisible by $K$, if there are no such subarray, return 0;\nThe idea is to traverse the array and record the result of cumulative sum modulo $K$ and its corresponding index. If for index $i, j$, the remainder is the same, then the subarray between $i, j$ must be a valid subarray (i.e., its sum is divisible by $K$). In order to find the longest subarray, we can keep a list of index corresponding to each remainder (there are $K$ remainders, $0, 1, 2, \u0026hellip;, K-1$). During the traversing process, we can also easily find the longest subarray (index list of each remainder is stored in ascending order).\nBelow is the implementation of the above idea:\nint findLongestSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums){ int N = nums.size(); map\u0026lt;int, vector\u0026lt;int\u0026gt;\u0026gt; indexInfo; index[0].push_back(-1); // the remainder at current index int cur_remainder = 0; int maxLen = 0; for (int i = 0; i \u0026lt; N; i++) { cur_remainder = (cur_remainder + nums[i]) % K; if (indexInfo[cur_remainder].size() != 0){ maxLen = max(maxLen, i - indexInfo[cur_remainder].front()); } indexInfo[cur_remainder].push_back(i); } return maxLen; } Note that the line index[0].push_back(-1); is needed. Otherwise, for $A = [3]$ and $k=3$, we can not the right answer.\nTime complexity: traversing the array and finding the maxLen during the process takes $O(n)$ time. Space complexity is apparently $O(n)$.\nP.S. Thanks to Scott for pointing out that there is no need to sort the list corresponding to each remainder, because they are already in sorted order.\nReference # A blog here describing the algorithm ","date":"1 September 2017","externalUrl":null,"permalink":"/2017/09/01/longest-subarray-modulo-k/","section":"Posts","summary":"\u003cp\u003eThe problem is as follows:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eGiven an array $A$ of length $N$, $A[i] \\ge 0$ ( $0 \\le i \\le N-1$) , and a\nnumber $K$. Find the longest subarray whose sum is divisible by $K$, if there\nare no such subarray, return 0;\u003c/p\u003e\n\u003c/blockquote\u003e","title":"Find Longest Subarray Whose Sum Is Divisible by K","type":"posts"},{"content":"ä¸€é“äºŒåˆ†æœç´¢é—®é¢˜ # ä¸‹åˆåšäº†ä¸€é“ Leetcode çš„ç¼–ç¨‹é¢˜ç›®ï¼Œç‰µæ‰¯å‡ºäº†äºŒåˆ†æœç´¢å®ç°ä¸­éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®å¦‚ä¸‹\nYou are a product manager and currently leading a team to develop a new product. Unfortunately, the latest version of your product fails the quality check. Since each version is developed based on the previous version, all the versions after a bad version are also bad.\nSuppose you have n versions [1, 2, \u0026hellip;, n] and you want to find out the first bad one, which causes all the following ones to be bad.\nYou are given an API bool isBadVersion(version) which will return whether version is bad. Implement a function to find the first bad version. You should minimize the number of calls to the API.\nè¿™é“é¢˜å¯ä»¥ä½¿ç”¨äºŒåˆ†æœç´¢æ¥è§£å†³ï¼Œæˆ‘å†™å‡ºäº†è‡ªè®¤ä¸ºæ­£ç¡®çš„ç®—æ³•ï¼Œè¿è¡Œçš„æ—¶å€™å´æ€»æ˜¯æç¤º â€œTime Limit Exceededâ€ï¼Œæœ€åˆçš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\nint firstBadVersion(int n) { int head = 1, tail = n; while (head != tail) { int mid = (head + tail) / 2; if (isBadVersion(mid)) { tail = mid; } else { head = mid + 1; } } return head; } çœ‹äº†ä¸€ä¸‹è¿™é“é¢˜ç›®çš„è®¨è®ºï¼Œæœ‰äººä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•å‡ºå¥‡ç®€å•ã€‚é—®é¢˜çš„å…³é”®å°±åœ¨ä¸‹é¢è¿™è¡Œçœ‹ä¼¼æ­£ç¡®å®åˆ™é”™è¯¯çš„ä»£ç ï¼š\nint mid = (head + tail)/2; æ”¹æ­£è¿™ä¸ªé”™è¯¯ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†ä¸Šè¿°çš„å†™æ³•æ¢æˆå¦å¤–ä¸€ç§ã€Œå½¢å¼ä¸Šç­‰ä»·ã€çš„å†™æ³•ï¼š\nint mid = head + (tail - head)/2; ä¹‹æ‰€ä»¥è¯´æ˜¯ã€Œå½¢å¼ä¸Šç­‰ä»·ã€æ˜¯å› ä¸ºï¼Œä»…ä»æ•°å­¦æ¨å¯¼ä¸Šæ¥è¯´ï¼Œä¸Šé¢ä¸¤ç§å†™æ³•ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è®¡ç®—æœºç§‘å­¦å¹¶ä¸æ˜¯ä»…ä»…æ˜¯ç†è®ºï¼Œå®é™…ä¸­ï¼Œæ¯ç§åŸºæœ¬æ•°æ®ç±»å‹æ‰€èƒ½è¡¨è¾¾çš„æ•°å­—éƒ½æ˜¯æœ‰èŒƒå›´çš„ï¼Œå¦‚æœè¶…è¿‡äº†èŒƒå›´ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘æ•´å½¢æº¢å‡º (overflow) é—®é¢˜ã€‚å‡è®¾ head ä¸ tail éƒ½ä¸è¶…è¿‡ int æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§æ­£æ•´æ•°ï¼ˆç”¨ INT_MAX è¡¨ç¤ºï¼‰ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯ head + tail ä¸è¶…è¿‡ INT_MAXï¼Œå¦‚æœä¸¤è€…ä¹‹å’Œå¤§äº int ç±»å‹æ‰€èƒ½è¡¨è¾¾çš„æœ€å¤§çš„æ­£æ•´æ•°æ—¶(è¯¥æ•°ä¸º $2^{31}-1$)ï¼Œå°±ä¼šå‘ç”Ÿæº¢å‡ºï¼›é‡‡ç”¨ç¬¬äºŒç§å†™æ³•ï¼Œç”±äºæ¯ä¸€æ­¥çš„è®¡ç®—éƒ½æ²¡æœ‰æº¢å‡ºçš„å¯èƒ½ï¼Œæœ€ç»ˆçš„ç»“æœä¹Ÿä¸ä¼šæº¢å‡ºï¼Œå› æ­¤æ˜¯æ›´å®‰å…¨çš„å†™æ³•ã€‚\næ ¹æ®Wikiä¸Šçš„è¯´æ³•ï¼Œå¸‚é¢ä¸Šæµä¼ çš„å¾ˆå¤šäºŒåˆ†æœç´¢çš„å®ç°éƒ½å­˜åœ¨æº¢å‡ºé—®é¢˜ã€‚å°±è¿å¤§åé¼é¼çš„ã€ŠProgramming Pearlsã€‹è¿™æœ¬ä¹¦åœ¨ 1986 å¹´ç‰ˆæœ¬ä¸Šæä¾›çš„ä¹Ÿæ˜¯ç¬¬ä¸€ç§å†™æ³•ï¼Œç›´åˆ°äºŒåå¤šå¹´åæ‰æ”¹ä¸ºç¬¬äºŒç§å†™æ³•ï¼›Java è¯­è¨€ä¸­çš„äºŒåˆ†æœç´¢å®ç°èµ·åˆä¹Ÿå­˜åœ¨è¿™ä¸ªæº¢å‡º bugï¼Œè¿™ä¸ª bug å­˜åœ¨äº†é•¿è¾¾ä¹å¹´æ‰è¢«æ›´æ­£ã€‚åœ¨è®¡ç®—æœºå‘å±•æ—©æœŸ,å¯èƒ½è°ä¹Ÿæ²¡æœ‰é¢„æ–™åˆ°ï¼Œæœªæ¥çš„æ•°æ®é‡ä¼šå¦‚æ­¤åºå¤§ï¼Œä»¥è‡³äºæ•°ç»„çš„ index ç›¸åŠ ä¹Ÿä¼šé€ æˆæº¢å‡ºã€‚Google Research Blog ä¹Ÿæ›¾å‘å¸ƒè¿‡ä¸€ç¯‡å…³äºäºŒåˆ†æœç´¢å®ç°çš„åšæ–‡ã€‚\nå½“æº¢å‡ºå‘ç”Ÿï¼Œåˆ°åº•ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ # ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œå¦‚æœå‘ç”Ÿæº¢å‡ºï¼Œåˆ°åº•ä¼šæœ‰ä»€ä¹ˆåæœå‘¢ï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª int ç±»å‹çš„æ•° num ç­‰äº INT_MAXï¼Œé‚£ä¹ˆ num å†åŠ ä¸Šä¸€ä¸ªæ­£æ•°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼ŸC++ æ ‡å‡†å¯¹æ­¤æœ‰æ˜ç¡®è§„å®šï¼Œ\nIf during the evaluation of an expression, the result is not mathematically defined or not in the range of representable values for its type, the behavior is undefined, unless such an expression is a constant expression, in which case the program is ill-formed. [Note: most existing implementations of C++ ignore integer overflows].\nä¹Ÿå°±æ˜¯è¯´ï¼Œnum å†åŠ ä¸Šä¸€ä¸ªæ­£æ•°ï¼Œè¿™æ˜¯ \u0026ldquo;Undefined behaviour\u0026rdquo;ï¼Œä»»ä½•ç»“æœéƒ½æœ‰å¯èƒ½å‡ºç°ã€‚\nä¸Šè¿°ç»“æœæ˜¯å¯¹äºæœ‰ç¬¦å·ç±»å‹ (signed type) æ¥è¯´çš„ï¼Œå¯¹äºæ— ç¬¦å·ç±»å‹ (unsigned type)ï¼ŒC++ æ ‡å‡†æœ‰å¦‚ä¸‹è§„å®šï¼š\nThis implies that unsigned arithmetic does not overflow because a result that cannot be represented by the resulting unsigned integer type is reduced modulo the number that is one greater than the largest value that can be represented by the resulting unsigned integer type.\nç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šæ— ç¬¦å·ç±»å‹ä¸ä¼šå‘ç”Ÿæº¢å‡ºã€‚å¦‚æœä¸€ä¸ªæ— ç¬¦å·ç±»å‹çš„æ•°åŠ ä¸Šä¸€ä¸ªæ­£æ•°äº§ç”Ÿçš„ç»“æœå¤§äºè¯¥æ— ç¬¦å·ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§æ•°ï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœå°±æ˜¯åŸç»“æœä¸æœ€å¤§æ•°åŠ 1å–ä½™çš„ç»“æœã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ num æ˜¯ unsigned int æ‰€èƒ½è¡¨è¾¾çš„æœ€å¤§çš„æ•°ï¼Œé‚£ä¹ˆ num + 1 = 0ï¼Œ num + 2 = 1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¸€ä¸ªç¤ºä¾‹ç¨‹åºå¦‚ä¸‹ï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;limits\u0026gt; using namespace std; int main(){ unsigned int num = std::numeric_limits\u0026lt;unsigned int\u0026gt;::max(); for (int i = 1; i \u0026lt;= 3; i++){ unsigned result = num + i; cout \u0026lt;\u0026lt; result \u0026lt;\u0026lt; (i==3?\u0026#39;\\n\u0026#39;:\u0026#39; \u0026#39;); } return 0; } è¯¥ç¨‹åºè¿è¡Œè¾“å‡ºç»“æœä¸ºï¼š\n0 1 2 (å…¨æ–‡å®Œ)\nå‚è€ƒ # å½“æº¢å‡ºäº§ç”Ÿï¼Œåˆ°åº•ä¼šå‘ç”Ÿä»€ä¹ˆï¼ŸStackoverflow ä¸Šçš„ä¸€ä¸ªè®¨è®ºã€‚ ","date":"27 August 2017","externalUrl":null,"permalink":"/2017/08/27/binary-search-overflow-issue/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eä¸€é“äºŒåˆ†æœç´¢é—®é¢˜ \n    \u003cdiv id=\"%E4%B8%80%E9%81%93%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#%E4%B8%80%E9%81%93%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eä¸‹åˆåšäº†\u003ca href=\"https://leetcode.com/problems/first-bad-version/description/\" target=\"_blank\"\u003eä¸€é“ Leetcode çš„ç¼–ç¨‹é¢˜ç›®\u003c/a\u003eï¼Œç‰µæ‰¯å‡ºäº†äºŒåˆ†æœç´¢å®ç°ä¸­éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®å¦‚ä¸‹\u003c/p\u003e","title":"ä»äºŒåˆ†æœç´¢å®ç°ä¸­çš„ä¸€ä¸ª bug è¯´èµ·","type":"posts"},{"content":"æ®è¯´å¢™å‡çº§äº†ï¼Œæœ¬æ¥ç”¨å¾—å¾ˆæµç•…çš„æœåŠ¡ä¹Ÿä¸è¡Œäº†ï¼Œæ—¶ä¸æ—¶æ–­æ‰ï¼Œè®©äººå¾ˆæ¼ç«ã€‚æœ‰å¿…è¦å‡çº§ä¸€ä¸‹æ¢¯å­äº†ï¼Œäºæ˜¯æˆ‘ä¹Ÿç ”ç©¶äº†ä¸€ä¸‹åˆ©ç”¨ VPS è‡ªå»ºæ¢¯å­çš„æ–¹æ³•ã€‚æœ¬æ–‡æ€»ç»“ä¸€ä¸‹å®‰è£…ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³åŠæ³•ï¼Œåªé’ˆå¯¹ CentOS 7 ç³»ç»Ÿï¼Œå…¶ä»– Linux ç³»ç»Ÿé…ç½®æ–¹æ³•æ˜¯ç±»ä¼¼çš„ã€‚\nå…³äº Shadowsocks åŸç†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æºï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚è¦ä½¿ç”¨ Shadowsocksï¼Œé¦–å…ˆè¦æœ‰å¯ä»¥è®¿é—®å¤–ç½‘çš„æœåŠ¡å™¨ï¼Œé…ç½®å¥½æœåŠ¡å™¨ï¼ˆä¸»è¦æ˜¯é…ç½® Shadowsocks çš„æœåŠ¡ç«¯ï¼‰ï¼Œç„¶åä¸‹è½½å¯¹åº”äºä¸åŒå¹³å°çš„å®¢æˆ·ç«¯ï¼Œå¯¹åº”é…ç½®ï¼Œå°±å¯ä»¥è®¿é—®è°·æ­Œäº†ã€‚å› æ­¤ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦è´­ä¹°ä¸€å°å¢ƒå¤–çš„ VPS ï¼ˆè™šæ‹ŸæœåŠ¡å™¨ï¼‰ã€‚\nVPS é€‰æ‹©ä¸ æ“ä½œç³»ç»Ÿå®‰è£… # VPS æä¾›å•†æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ Vultrï¼ŒLinodeï¼ŒDigital oceanï¼ŒBandwagonhostã€‚è¿™äº› VPS æä¾›å•†çš„ç½‘ç«™å¯èƒ½ä¼šä¸Šä¸å»ï¼Œå› æ­¤æ³¨å†Œä¹‹å‰æœ€å¥½ç¡®ä¿è‡ªå·±æœ‰ä¸€æ¬¾å…è´¹çš„çˆ¬å¢™æ¢¯å­ï¼Œä¾‹å¦‚èµ›é£ï¼Œå¯ä»¥å‘è¿™ä¸ªåœ°å€å‘é‚®ä»¶ç´¢è¦ä¸‹è½½åœ°å€ï¼›æˆ–è€…è“ç¯ã€‚\nåœ¨è¿™å‡ ä¸ª VPS æä¾›å•†ä¸­ï¼ŒVultr å’Œ Bandwagonhost æ¯”è¾ƒå®æƒ ï¼ŒVultr æœ‰ä¸€ä¸ªæœ€ä¾¿å®œçš„2.5 ç¾å…ƒä¸€ä¸ªæœˆçš„å¥—é¤ï¼Œå¾ˆæŠ¢æ‰‹ï¼Œç»å¸¸æ–­è´§ï¼ŒBandwagon æœ‰ä¸€ä¸ª 19.99 ç¾å…ƒåŒ…å¹´çš„å¥—é¤ï¼Œä¹Ÿéå¸¸ä¸é”™ã€‚å¦‚æœé€‰ç”¨ Vultrï¼Œæ”¯ä»˜çš„è¯å¯ä»¥ä½¿ç”¨ paypalï¼Œpaypal å¯ä»¥æ·»åŠ å›½å†…çš„é“¶è”å¡ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½¿ç”¨ Bandwagonhost æ”¯ä»˜æ›´æ–¹ä¾¿ï¼Œç›´æ¥æ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ VPSéƒ½ä¼šæä¾›ä¸åŒçš„æ“ä½œç³»ç»Ÿä¾›ç”¨æˆ·é€‰æ‹©ï¼Œä¾‹å¦‚ CentOSï¼ŒUbuntuï¼ŒFreeBSD ç­‰ç­‰ã€‚æˆ‘å¯¹CentOS éå¸¸ç†Ÿæ‚‰ï¼Œæ‰€ä»¥å°±é€‰äº† CentOS ç³»ç»Ÿï¼ŒVultr æä¾›çš„æ˜¯ CentOS 7 ç³»ç»Ÿï¼Œè·ŸCentOS 6 çš„æœ‰ä¸€å®šçš„åŒºåˆ«ï¼Œéœ€è¦æ³¨æ„ã€‚Bandwagonhost é»˜è®¤æä¾›çš„æ˜¯ CentOS 6 çš„ç³»ç»Ÿï¼Œå¦‚æœä½ éœ€è¦å®‰è£… CentOS 7 çš„ç³»ç»Ÿï¼Œéœ€è¦è‡ªå·±é‡è£…ç³»ç»Ÿï¼ˆå¾ˆæ–¹ä¾¿ï¼Œå¤§çº¦å‡ åˆ†é’Ÿå°±èƒ½æå®šï¼‰ã€‚\nBandwagonhost è´­ä¹°åŠä½¿ç”¨ # Bandwagonhost æ³¨å†ŒæˆåŠŸä»¥åï¼Œå¯ä»¥åœ¨æ³¨å†Œé€‰æ‹©è‡ªå·±æƒ³è¦è´­ä¹°çš„è™šæ‹ŸæœåŠ¡å™¨ï¼Œç„¶åæŒ‰ç…§æç¤ºæ“ä½œè´­ä¹°å°±å¯ä»¥ï¼ŒæœåŠ¡å™¨ location å¯ä»¥é€‰æ‹© Los Angelesï¼Œæ”¯ä»˜çš„è¯é€‰æ‹© Alipay ç›´æ¥ç”¨æ”¯ä»˜å®ä»˜æ¬¾ã€‚\næœåŠ¡å™¨è´­ä¹°ä»¥åï¼Œç‚¹å‡»å³ä¸Šè§’ã€ŒClient Areaã€ï¼Œ\nç„¶åç‚¹å‡»ã€ŒServicesã€,é€‰æ‹©ã€ŒMy Servicesã€ï¼Œä¼šå‡ºç°è´­ä¹°çš„æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚\nåœ¨å‡ºç°çš„é¡µé¢ï¼Œä¼šæ˜¾ç¤ºè®¢è´­çš„æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nç‚¹å‡»ã€ŒKiwiVM Control Panelã€ï¼Œä¼šè¿›å…¥æœåŠ¡å™¨çš„æ§åˆ¶ä¸æ“ä½œç•Œé¢ï¼Œåœ¨è¿™é‡Œå¯ä»¥å¯¹è®¢è´­çš„è™šæ‹ŸæœåŠ¡å™¨è¿›è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚ä¿®æ”¹å¯†ç ï¼Œé‡è£…ç³»ç»Ÿï¼Œè¾“å…¥ç®€å•æˆ–è€…å¤æ‚çš„æŒ‡ä»¤ç­‰ç­‰ï¼Œè§ä¸‹å›¾ã€‚\nBandwagonhost é»˜è®¤å®‰è£…çš„æ˜¯ CentOS 6 ç³»ç»Ÿï¼Œå¦‚æœéœ€è¦å…¶ä»–ç³»ç»Ÿå¯ä»¥è‡ªå·±é‡æ–°å®‰è£…ã€‚å¦å¤–ï¼ŒCentOS 6 ç³»ç»Ÿå¯ä»¥ç›´æ¥ä¸€é”®å®‰è£… shadowsocks æœåŠ¡ï¼Œç®€ç›´æ˜¯ä¸ºæˆ‘å›½äººæ°‘é‡èº«å®šåšã€‚\nä»çŸ­æš‚çš„ä½¿ç”¨ä¸Šçœ‹ï¼ŒVultr å’Œ Bandwagonhost ä½¿ç”¨èµ·æ¥é€Ÿåº¦éƒ½å¯ä»¥ï¼Œç”¨ ssh å®¢æˆ·ç«¯é“¾æ¥æœåŠ¡å™¨çš„æ—¶å€™ï¼Œéƒ½ä¸æ˜¯å¾ˆç¨³å®šï¼Œè¾“å…¥å‘½ä»¤æˆ–è€…ä½¿ç”¨ Vim ç¼–è¾‘æ–‡æœ¬çš„æ—¶å€™ç»å¸¸æ²¡æœ‰ååº”ï¼Œå¡æ­»ï¼Œæˆ‘ä¸å¾—ä¸ç»å¸¸é‡æ–°æ‰“å¼€ä¸€ä¸ª sessionã€‚Bandwagonhost ä¿®æ”¹ firewalld æœåŠ¡ä»¥åï¼Œä½¿ç”¨ ssh å®¢æˆ·ç«¯ä¸€æ®µæ—¶é—´å†…æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼ŒVultr æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µã€‚\nå¦å¤–ï¼Œå¦‚æœè¦ä½¿ç”¨ Vultr æœåŠ¡ï¼Œå¯ä»¥ç‚¹å‡»æ­¤é“¾æ¥æ³¨å†Œï¼Œæ®è¯´ä¼šæœ‰ä¼˜æƒ ã€‚Bandwagonhost ä¸€äº›ç½‘ç«™ä¹Ÿæœ‰ä¼˜æƒ ç ï¼Œè´­ä¹°ä¹‹å‰å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢ä¸€ä¸‹ï¼Œæ¯•ç«Ÿéƒ½æ˜¯æŒ‰ç…§ç¾åˆ€ç»“ç®—çš„ï¼Œè‹è‡è…¿ä¹Ÿæ˜¯è‚‰å•Šï¼Œæˆ‘çš„æ¨èé“¾æ¥ä¸º https://bandwagonhost.com/aff.php?aff=27252ã€‚\nSS æœåŠ¡ç«¯çš„å®‰è£…åŠé…ç½® # ä¸€é”®å¼å®‰è£… # SS æœåŠ¡çš„å®‰è£…ï¼Œä¸»è¦å‚è€ƒäº†è¿™ç¯‡åšæ–‡ï¼Œå‚»ç“œå¼å®‰è£…ï¼Œå¯¹ Linux ç³»ç»Ÿç†Ÿæ‚‰çš„äººåº”è¯¥éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š\nwget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh chmod +x shadowsocks-all.sh ./shadowsocks-all.sh 2\u0026gt;\u0026amp;1 | tee shadowsocks-all.log æœ‰å››ç§ SS æœåŠ¡ç«¯å¯ä»¥å®‰è£…ï¼Œæ¨èé€‰æ‹©ç¬¬ä¸€ä¸ªï¼šshadowsocks-pythonã€‚ç„¶åç›´æ¥æŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥å¾€ä¸‹å°±å¯ä»¥å®‰è£…äº†ã€‚å®‰è£…æˆåŠŸä»¥åï¼Œä¼šæœ‰æç¤ºï¼Œå‘Šè¯‰ä½ æœåŠ¡å™¨çš„åœ°å€ï¼Œç«¯å£å·ï¼Œä»¥åŠå¯†ç ã€‚å®‰è£…æˆåŠŸçš„æç¤ºå¤§æ¦‚ç±»ä¼¼äºä¸‹é¢ï¼š\nCongratulations, your_shadowsocks_version install completed! Your Server IP :your_server_ip Your Server Port :your_server_port Your Password :your_password Your Encryption Method:your_encryption_method Your QR Code: (For Shadowsocks Windows, OSX, Android and iOS clients) ss://your_encryption_method:your_password@your_server_ip:your_server_port Your QR Code has been saved as a PNG file path: your_path.png Welcome to visit:https://teddysun.com/486.html Enjoy it! ä½¿ç”¨è¿™äº›ä¿¡æ¯å°±å¯ä»¥åœ¨è‡ªå·±å®¢æˆ·ç«¯ä½¿ç”¨ ss æœåŠ¡äº†ï¼Œä¸Šé¢çš„é“¾æ¥æœ‰è¯¦ç»†æ“ä½œã€‚\nå®‰è£…å¥½ä»¥åï¼Œå¯æ‰§è¡Œç¨‹åºä½äº /etc/init.d/ ç›®å½•,åç§°ä¸º shadowsocks-pythonï¼Œè¯¥ç¨‹åºæœ‰å››ä¸ªé€‰é¡¹ï¼Œ\n/etc/init.d/shadowsocks-python start #å¯åŠ¨ /etc/init.d/shadowsocks-python stop #åœæ­¢ /etc/init.d/shadowsocks-python restart #é‡å¯ /etc/init.d/shadowsocks-python status #å½“å‰çŠ¶æ€ /etc/shadowsocks-python ç›®å½•ä¸‹æ˜¯æœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶ config.jsonï¼Œå¦‚æœè¦å¯¹æœåŠ¡ç«¯é…ç½®è¿›è¡Œæ›´æ”¹ï¼Œä¾‹å¦‚æ›´æ”¹å¯†ç ä»¥åŠç«¯å£å·ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹è¯¥æ–‡ä»¶ã€‚ä¿®æ”¹å®Œæ–‡ä»¶ä»¥åï¼Œè¯¥é…ç½®å¹¶ä¸èƒ½ç”Ÿæ•ˆï¼Œéœ€è¦è‡ªå·±é‡å¯ shadowsocks æœåŠ¡ï¼šç›´æ¥ä½¿ç”¨/etc/init.d/shadowsocks-python restart å‘½ä»¤é‡å¯æœåŠ¡ã€‚\nå¼€å¯å¤šç”¨æˆ·æ¨¡å¼ # Vultr ä»¥åŠ Bandwagonhost çš„å¥—é¤æä¾›äº†æ¯æœˆæä¾›äº†å¤§é‡çš„æµé‡ï¼Œ500G åˆ° 1000 G ä¸ç­‰ï¼Œè¶³å¤Ÿå¤šäººä½¿ç”¨ï¼Œæ ¹æ®è¿™é‡Œ çš„è¯´æ˜ï¼Œç›®å‰åªæœ‰ Python ä»¥åŠ Go æœåŠ¡ç«¯å¯ä»¥å¼€å¯å¤šç”¨æˆ·æ¨¡å¼ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹config.json æ–‡ä»¶æ¥å®ç°å¤šç”¨æˆ·æ¨¡å¼(ä¸è¦å¿˜è®°åœ¨æ›´æ”¹åé‡å¯ shadowsocks æœåŠ¡)ã€‚ä¸€ä¸ªç¤ºä¾‹å¤šç”¨æˆ·é…ç½®å¦‚ä¸‹ï¼š\n{ \u0026#34;server\u0026#34;:\u0026#34;0.0.0.0\u0026#34;, \u0026#34;local_address\u0026#34;:\u0026#34;127.0.0.1\u0026#34;, \u0026#34;local_port\u0026#34;:1080, \u0026#34;port_password\u0026#34;:{ \u0026#34;4278\u0026#34;:\u0026#34;fuckgfw1\u0026#34;, \u0026#34;4279\u0026#34;:\u0026#34;fuckgfw2\u0026#34;, \u0026#34;4280\u0026#34;:\u0026#34;fuckgfw3\u0026#34;, \u0026#34;4281\u0026#34;:\u0026#34;fuckgfw4\u0026#34; }, \u0026#34;timeout\u0026#34;:300, \u0026#34;method\u0026#34;:\u0026#34;aes-256-cfb\u0026#34;, \u0026#34;fast_open\u0026#34;:false } è¯·ä¸¥æ ¼éµå¾ª json æ–‡ä»¶çš„æ ¼å¼ï¼Œé™¤äº†æœ€åä¸€ä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªé€‰é¡¹åé¢éƒ½éœ€è¦ä¸€ä¸ªé€—å·ã€‚\næŒ‰ç…§ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œæ›´æ”¹ json æ–‡ä»¶ï¼Œé‡å¯ shadowsocks æœåŠ¡ï¼Œå‘ç°æ–°å¢åŠ çš„ç«¯å£åœ¨å®¢æˆ·ç«¯ä»è¿æ¥ä¸ä¸Šã€‚ç»è¿‡æŸ¥æ‰¾ï¼Œå‘ç°åŸå› æ˜¯æ–°å¢åŠ çš„ç«¯å£è¢«ç³»ç»Ÿçš„ firewall æœåŠ¡å±è”½äº†ï¼Œéœ€è¦æŠŠæ–°å¢åŠ çš„ç«¯å£åŠ å…¥ç™½åå•ï¼Œå‚è€ƒè¿™é‡Œç»™å‡ºçš„è§£å†³åŠæ³•ï¼Œå¦‚æœæ–°å¢åŠ çš„ç«¯å£æ˜¯ 1234ï¼Œé‚£ä¹ˆé‡‡ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å¯è¯¥ç«¯å£ï¼Œ\nfirewall-cmd --permanent --zone=public --add-port=1234/tcp firewall-cmd --permanent --zone=public --add-port=1234/udp systemctl restart firewalld firewalld æœåŠ¡çš„é‡å¯æ˜¯å¿…è¦çš„ï¼Œå¦åˆ™åœ¨å®¢æˆ·ç«¯ä»ç„¶æ— æ³•ä½¿ç”¨è¯¥ç«¯å£è¿æ¥ SS æœåŠ¡ã€‚ç»è¿‡ä»¥ä¸Šæ“ä½œï¼Œæ–°å¢åŠ çš„ç«¯å£å°±å¯ä»¥æ­£å¸¸è¿æ¥äº†ã€‚\nå®šæ—¶æ£€æŸ¥ SS æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ # ç”±äºä½ æ‡‚çš„åŸå› ï¼ŒSS æœåŠ¡å¹¶ä¸ç¨³å®šï¼Œå¯èƒ½ä¼šæ–­æ‰ã€‚æ–­æ‰ä»¥åï¼Œæˆ‘ç«‹é©¬é‡‡ç”¨å¦å¤–ä¸€ä¸ªæ¢¯å­å»Bandwagonhost å®˜ç½‘çœ‹äº†ä¸€ä¸‹æˆ‘çš„å¸å·ï¼Œå‘ç° SS æœåŠ¡è‡ªåŠ¨å…³é—­äº†ï¼Œäºæ˜¯è‡ªå·±æ‰‹åŠ¨é‡å¯äº†ä¸€ä¸‹ã€‚ä¸Šç½‘æœäº†ä¸€ä¸‹ï¼Œå¯ä»¥é‡‡ç”¨è„šæœ¬æ£€æµ‹ SS æœåŠ¡è¿›ç¨‹æ˜¯å¦è¿˜å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨é‡å¯æœåŠ¡ï¼Œåˆ©ç”¨ Linux ç³»ç»Ÿçš„ cronæ¥å®šæ—¶æ‰§è¡Œè„šæœ¬ã€‚æœ‰äººå·²ç»å†™å¥½äº†è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤\nwget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-crond.sh chmod +x shadowsocks-crond.sh ç„¶åéœ€è¦ç¡®å®šç³»ç»Ÿçš„ crond æœåŠ¡å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä½¿ç”¨ systemctl status crond.serviceï¼Œç¤ºä¾‹è¾“å‡ºå¦‚ä¸‹:\nâ— crond.service - Command Scheduler Loaded: loaded (/usr/lib/systemd/system/crond.service; enabled; vendor preset: enabled) Active: active (running) since Sun 2017-06-04 21:19:23 EDT; 2 months 21 days ago Main PID: 1638 (crond) Memory: 164.0K CGroup: /system.slice/crond.service â””â”€1638 /usr/sbin/crond -n å¦‚æœè¯¥é¡¹æœåŠ¡è¢«å…³é—­äº†ï¼Œç›´æ¥ä½¿ç”¨ systemctl restart crond.service é‡å¯æœåŠ¡å³å¯ã€‚ç„¶åç¼–è¾‘æ–‡ä»¶ /etc/crontabï¼Œåœ¨æ–‡ä»¶æœ€ååŠ ä¸Šä¸€è¡Œï¼Œ\n*/5 * * * * root bash /root/shadowsocks-crond.sh ä»¥ä¸Šå‘½ä»¤è¡¨ç¤ºæ¯ 5 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬ /root/shadowsocks-crond.shï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µæŒ‡å®šæ—¶é—´ï¼Œè­¬å¦‚ååˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼Œä¿è¯æœåŠ¡å™¨æ–­æ‰ä¹‹åå¯ä»¥å°½å¿«æ¢å¤ã€‚\nShadowsocks å®¢æˆ·ç«¯å®‰è£… # é…ç½®å¥½æœåŠ¡ç«¯ä»¥åï¼Œæˆ‘ä»¬éœ€è¦é…ç½®å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨ Shadowsocksã€‚Shadowsocks çš„å®¢æˆ·ç«¯æ¶µç›–ä¸»æµå¹³å°ï¼ŒWindows PCï¼ŒLinuxï¼ŒMACï¼ŒAndroidï¼ŒiOSéƒ½æœ‰å¯¹åº”çš„å®¢æˆ·ç«¯ã€‚ä¸‹è½½ä»¥åï¼Œå¯¹åº”è‡ªå·±åœ¨æœåŠ¡å™¨ç«¯çš„è®¾ç½®ï¼Œé…ç½®å®¢æˆ·ç«¯å³å¯ï¼Œå°±å¯ä»¥é¡ºåˆ©è®¿é—®è°·æ­Œäº†ã€‚Happy Googling~\nï¼ˆå…¨æ–‡å®Œï¼‰\nå‚è€ƒ # https://www.liquidweb.com/kb/how-to-start-and-enable-firewalld-on-centos-7/ https://shadowsocks.be/6.html ","date":"6 August 2017","externalUrl":null,"permalink":"/2017/08/06/vps-ss-issue-solution/","section":"Posts","summary":"\u003cp\u003eæ®è¯´å¢™å‡çº§äº†ï¼Œæœ¬æ¥ç”¨å¾—å¾ˆæµç•…çš„æœåŠ¡ä¹Ÿä¸è¡Œäº†ï¼Œæ—¶ä¸æ—¶æ–­æ‰ï¼Œè®©äººå¾ˆæ¼ç«ã€‚æœ‰å¿…è¦å‡çº§ä¸€ä¸‹æ¢¯å­äº†ï¼Œäºæ˜¯æˆ‘ä¹Ÿç ”ç©¶äº†ä¸€ä¸‹åˆ©ç”¨ VPS è‡ªå»ºæ¢¯å­çš„æ–¹æ³•ã€‚æœ¬æ–‡æ€»ç»“ä¸€ä¸‹å®‰è£…ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³åŠæ³•ï¼Œåªé’ˆå¯¹ CentOS 7 ç³»ç»Ÿï¼Œå…¶ä»– Linux ç³»ç»Ÿé…ç½®æ–¹æ³•æ˜¯ç±»ä¼¼çš„ã€‚\u003c/p\u003e","title":"CentOS 7 ç³»ç»Ÿå®‰è£… Shadowsocks å¹¶ä¸”å¼€å¯å¤šç”¨æˆ·æ¨¡å¼æŒ‡å—","type":"posts"},{"content":"In some situations, we have several subplots and we want to use only one colorbar for all the subplots. How to do this in Matplotlib?\nTwo ways can be employed.\nThe conventional method # The first method is like normal plotting: first draw the main plot, then add a colorbar to the main plot. Matplotlib provide different ways to add a colorbar: explicit or implicit way.\nThe explicit way # The idea is to adjust the existing axes manually to make room for an additional colorbar. Then explicitly add an axes where the colorbar resides. See the code below for details:\nimport matplotlib.pyplot as plt import numpy as np fig, axes = plt.subplots(nrows=2, ncols=3, figsize=(8.5, 5)) for ax in axes.flat: ax.set_axis_off() im = ax.imshow(np.random.random((16, 16)), cmap=\u0026#39;viridis\u0026#39;, vmin=0, vmax=1) fig.subplots_adjust(bottom=0.1, top=0.9, left=0.1, right=0.8, wspace=0.02, hspace=0.02) # add an axes, lower left corner in [0.83, 0.1] measured in figure coordinate with axes width 0.02 and height 0.8 cb_ax = fig.add_axes([0.83, 0.1, 0.02, 0.8]) cbar = fig.colorbar(im, cax=cb_ax) set the colorbar ticks and tick labels cbar.set_ticks(np.arange(0, 1.1, 0.5)) cbar.set_ticklabels([\u0026#39;low\u0026#39;, \u0026#39;medium\u0026#39;, \u0026#39;high\u0026#39;]) plt.show() In this way, we can control the position of colorbar precisely. The output image is like this:\nThe implicit way # Matplotlib also offers method which can adjust the existing axes and make room for a colorbar implicitly. See the code below for an example:\nimport matplotlib.pyplot as plt import numpy as np fig, axes = plt.subplots(nrows=2, ncols=3, figsize=(8.5, 5)) for ax in axes.flat: ax.set_axis_off() im = ax.imshow(np.random.random((16, 16)), cmap=\u0026#39;viridis\u0026#39;, vmin=0, vmax=1) # notice that here we use ax param of figure.colorbar method instead of # the cax param as the above example cbar = fig.colorbar(im, ax=axes.ravel().tolist(), shrink=0.95) cbar.set_ticks(np.arange(0, 1.1, 0.5)) cbar.set_ticklabels([\u0026#39;low\u0026#39;, \u0026#39;medium\u0026#39;, \u0026#39;high\u0026#39;]) plt.show() In this way, you have to manually tweak the shrink param of fig.colorbar method to make the main plot and the colorbar appear the same height. See the output image below Both the two methods have an disadvantage that it is difficult to control the padding space between subplots. You have to adjust the figure aspect ratio and also the padding params to make the padding between the subplots appear the same. In fact, the padding in horizontal and vertical direction is not the same for the above two plots even after tweaking.\nUsing the axesgrid approach # Matplotlib also provides a AxesGrid toolkit to deal with padding and colorbar issues arising from plotting multiple subplots. By using axesgrid, the padding between subplots are guaranted to be the same. Also the colorbar have exactly the same height as the main plot. Following is a working example showing how to use axesgrid:\nimport matplotlib.pyplot as plt from mpl_toolkits.axes_grid1 import AxesGrid import numpy as np fig = plt.figure(figsize=(6, 4)) grid = AxesGrid(fig, 111, nrows_ncols=(2, 3), axes_pad=0.05, cbar_mode=\u0026#39;single\u0026#39;, cbar_location=\u0026#39;right\u0026#39;, cbar_pad=0.1 ) for ax in grid: ax.set_axis_off() im = ax.imshow(np.random.random((16,16)), vmin=0, vmax=1) # when cbar_mode is \u0026#39;single\u0026#39;, for ax in grid, ax.cax = grid.cbar_axes[0] cbar = ax.cax.colorbar(im) cbar = grid.cbar_axes[0].colorbar(im) cbar.ax.set_yticks(np.arange(0, 1.1, 0.5)) cbar.ax.set_yticklabels([\u0026#39;low\u0026#39;, \u0026#39;medium\u0026#39;, \u0026#39;high\u0026#39;]) plt.show() See the output image below.\nYou can see that the padding between subplots are all the same, also the colorbar have the same height as the main plot. Conveniently, isn\u0026rsquo;t it?\nSummary # Using the normal way is more flexible but also annoying because you have to adjust the paramters by trial and error. By employing the axesgrid, you can simplify the plotting of multiple plot with just one colorbar, significantly. In my opinion, the latter way is prefered.\nReferences # https://stackoverflow.com/questions/13784201/matplotlib-2-subplots-1-colorbar https://goo.gl/BT6Maz https://goo.gl/lHF3Aa https://matplotlib.org/examples/pylab_examples/subplots_adjust.html ","date":"11 June 2017","externalUrl":null,"permalink":"/2017/06/11/mpl_multiplot_one_colorbar/","section":"Posts","summary":"\u003cp\u003eIn some situations, we have several subplots and we want to use only one\ncolorbar for all the subplots. How to do this in Matplotlib?\u003c/p\u003e","title":"How to Plot Only One Colorbar for Multiple Plot Using Matplotlib","type":"posts"},{"content":"In Matplotlib, Axes is the primary place where we put plot elements, such as lines, texts and legends. However, for a long time, I failed to grasp the meaning of aspect ratio in Matplotlib, thus was constantly frustrated by the behavior of Maplotlib every time I attempted to change the aspect ratio of a plot. This post is the result of my attempt to understand it and my findings. Hope it can help you too.\nA first unsuccessful try Suppose I have the following code:\nimport matplotlib.pyplot as plt import numpy as np plt.style.use(\u0026#39;ggplot\u0026#39;) x = np.linspace(-5, 5, 100) y1 = np.exp(0.5*x) y2 = np.sin(x) fig = plt.figure() ax = fig.add_subplot(111) ax.plot(x, y1) ax.plot(x, y2) plt.show() The code snippet above produces the following image\nThis image is a bit thin. What if I want the width of the output image to be longer than its height, for example , an image with aspect ratio 0.6? According to the official documentation of Matplotlib, we can use set_aspect method of Axes class to set aspect ratio of an Axes object. This method has a parameter aspect which can be any positive number num. The description for num is rather vague:\na circle will be stretched such that the height is num times the width. aspect=1 is the same as aspect=â€˜equalâ€™.\nAfter I add a statement\nax.set_aspect(aspect=0.5) in the above script, the rendered output image becomes\nApparently, this is not what I want: the new output image is even thinner. But what has gone wrong? It took me a lot of efforts to find out.\nThe meaning of aspect ratio in Matplotlib Before we get into aspect ratio, we should first know that there are four different coordinate systems in Matplotlib, which you are dealing with implicitly. Below is a brief description:\nCoordinate system Description data The userland data coordinate system, controlled by the xlim and ylim axes The coordinate system of the Axes; (0,0) is bottom left of the axes, and (1,1) is top right of the axes. figure The coordinate system of the Figure; (0,0) is bottom left of the figure, and (1,1) is top right of the figure. display This is the pixel coordinate system of the display; (0,0) is the bottom left of the display, and (width, height) is the top right of the display in pixels. Usually, these coordinate systems will work under the hood and you can hardly notice their existence. In our case, what we really want to set is the aspect ratio in the display coordinate system, i.e., the physical length of axes height divided by its width. But the aspect ratio in the set_aspect() method refers to the aspect ratio in data coordinate system. For example, if the aspect ratio equals 1, then in the display coordinate, the same length in data coordinate have the same displayed length. See the following image for an example (aspect=1):\nYou can easily verify that for the same interval in data coordinate system in x and y axis, they have the same length in display coordinate system.\nTransform between data and display coordinate Now that we know this distinction, the issue boils down to calculating the right aspect ratio to use in data coordinate system given the desired aspect ratio in display coordinate system. Suppose the axes height and width of the output plot are denoted as \\(disp_h\\) and \\(disp_w\\), then the desired display aspect ratio is\n\\[disp_r=\\frac{disp_h}{disp_w}\\ .\\]\nIf we denote the height and width in the data coordinate system as \\(data_h\\) and \\(data_w\\), we have the following equation:\n\\[\\frac{disp_w}{data_w}*aspect=\\frac{disp_h}{data_h}\\ .\\]\nThen the aspect we need to use in the set_aspect() method is\n\\[\\begin{equation}\\begin{aligned} aspect \u0026amp; = \\frac{data_w}{data_h}*\\frac{disp_h}{disp_w}\\\\ \u0026amp; =\\frac{data_w}{data_h}*disp_r \\\\ \u0026amp; = \\frac{1}{data_r}*disp_r \\end{aligned}\\end{equation}\\]\n\\(data_h\\) and \\(data_w\\) in the above equation can be easily calculated once we get the x and y axis limit using get_xlim() and get_ylim()methods of an Axes class object. Or we can directly calculate the dataRatio using the get_data_ratio() method of Axes class.\nThe final plot Now we are ready to set the display aspect ratio to whatever value we want using the following code:\nClick to show the code. import matplotlib.pyplot as plt import numpy as np plt.style.use(\u0026#39;ggplot\u0026#39;) x = np.linspace(-5, 5, 100) y1 = np.exp(0.8*x) y2 = np.sin(x) fig = plt.figure() ax = fig.add_subplot(111) ax.plot(x, y1) ax.plot(x, y2) ratio = 0.3 xleft, xright = ax.get_xlim() ybottom, ytop = ax.get_ylim() # the abs method is used to make sure that all numbers are positive # because x and y axis of an axes maybe inversed. ax.set_aspect(abs((xright-xleft)/(ybottom-ytop))*ratio) # or we can utilise the get_data_ratio method which is more concise # ax.set_aspect(1.0/ax.get_data_ratio()*ratio) plt.show() The following images are plotted using the same data but with different display aspect ratios.\n(red numbers in each plot denote their axes aspect ratio)\nWhen we have shared x axis Usually, when we plot two subplots in a 1*2 layout, they have the same x axis but different y axis limit. If we share their x axis, we must set the parameter adjustable to â€œbox-forcedâ€ in order to set the aspect ratios correctly. Below is a valid example showing how to do this\nClick to show the code. import matplotlib.pyplot as plt import numpy as np y1 = np.random.uniform(0.1, 0.7, size=(167,)) y2 = np.random.uniform(1, 100, size=(167,)) y1 = sorted(y1) y2 = sorted(y2) fig = plt.figure(figsize=(10,3)) fig.set_edgecolor(\u0026#39;red\u0026#39;) ax1 = fig.add_subplot(121) ax2 = fig.add_subplot(122, sharex=ax1) ax1.plot(y1) ax1.set_ylim([min(y1)*0.9, max(y1)*1.1]) ax1.set_ylabel(\u0026#39;y1\u0026#39;) ax2.plot(y2) ax2.set_ylim([min(y2)*0.9, max(y2)*1.1]) ax2.set_ylabel(\u0026#39;y2\u0026#39;) ratio = 0.4 for ax in [ax1, ax2]: xmin, xmax = ax.get_xlim() ymin, ymax = ax.get_ylim() print((xmax-xmin)/(ymax-ymin)) ax.set_aspect(abs((xmax-xmin)/(ymax-ymin))*ratio, adjustable=\u0026#39;box-forced\u0026#39;) plt.show() The produced figure is\nThe two subplots in the above figure have exactly the same display aspect ratio.\nOK, this is the end of this post, I hope that now you can finally under this and set the desired image aspect ratio without any difficulty.\nReferences https://stackoverflow.com/a/14911939/6064933 https://stackoverflow.com/a/43806072/6064933 https://stackoverflow.com/q/18572234/6064933 ","date":"3 June 2017","externalUrl":null,"permalink":"/2017/06/03/change-aspect-ratio-in-mpl/","section":"Posts","summary":"\u003cp\u003eIn Matplotlib, \u003ca\nhref=\"https://matplotlib.org/api/axes_api.html\"\u003e\u003ccode\u003eAxes\u003c/code\u003e\u003c/a\u003e is\nthe primary place where we put plot elements, such as lines, texts and\nlegends. However, for a long time, I failed to grasp the meaning of\naspect ratio in Matplotlib, thus was constantly frustrated by the\nbehavior of Maplotlib every time I attempted to change the aspect ratio\nof a plot. This post is the result of my attempt to understand it and my\nfindings. Hope it can help you too.\u003c/p\u003e","title":"How to Set the Aspect Ratio of Image (or Axes) in Matplotlib?","type":"posts"},{"content":"A few days ago, I found that Matplotlib can not show some Unicode characters (some Chinese characters) using its default settings. In the rendered output image, Chinese characters are shown as blank boxes. After reading a lot of posts on this issue, I am finally clear about how to use Unicode characters properly in Matplotlib.1\nThe reason that Chinese characters are shown as boxes is that Matplotlib\u0026rsquo;s default font does not support Chinese. In order to use Chinese, we need to tell Matplotlib to use a font which supports Chinese. Or, more directly, we can provide the path of a Chinese font to Matplotlib.\nThis post assumes that fc-list is available on your system. If this is not the case, you should first install fontconfig. On Linux, fontconfig is usually pre-installed, so no need to worry. On Windows, you can install MiKTeX or TeX Live in order to use fc-list.\nSpecify Chinese font by name # The first way to use Chinese is to give a valid font name to Matplotlib. Before going on to the next step, make sure that there are Chinese fonts on your system. If that is not the case, or if you want to try a new Chinese font, for example, Source Han Serif recently released by Google and Adobe2.\nFind valid Chinese fonts # Matplotlib provides the FontManager class to deal with fonts. This class has an attribute ttflist which provides a list of font files indexed by Matplotlib. We can also get each font\u0026rsquo;s name easily from this list. The problem is that we do not know which of these fonts support Chinese.\nThis is when fc-list comes to help. This command can help us find Chinese fonts installed on the system. The command fc-list :lang=zh will list all the available Chinese fonts. But it should be noted that not all Chinese fonts are indexed by Matplotlib. Some of the ttc font files can not be used by Matplotlib. So we need to find the intersection of available Chinese fonts and fonts indexed by Matplotlib.\nUse a font # After we have found a valid Chinese font indexed by Matplotlib, we can tell Matplotlib to use it by changing the Matplotlib rc in our script. In this way, all the following plotting command will use the new font. Suppose that you have installed \u0026ldquo;STKaiti\u0026rdquo; on your system, the following code will use it to render Chinese:\nimport matplotlib as mpl font_name = \u0026#34;STKaiti\u0026#34; mpl.rcParams[\u0026#39;font.family\u0026#39;]=font_name mpl.rcParams[\u0026#39;axes.unicode_minus\u0026#39;]=False # in case minus sign is shown as box plt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;) plt.show() In the above code, font_name can be the name of any valid Chinese font. If you just want to use a Chinese font for a particular command, you can directly specify the font\u0026rsquo;s name in the plotting command:\nplt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;, fontname=font_name) This is my preferred way of using Chinese fonts with Matplotlib.\nSpecify Chinese font by path # In order to use any font on our system, we should try the second way \u0026mdash; directly give a font\u0026rsquo;s path to Matplotlib. The code is like this:\nimport matplotlib.font_manager as mfm import matplotlib.pyplot as plt font_path = \u0026#34;/usr/share/fonts/custom/simhei.ttf\u0026#34; prop = mfm.FontProperties(fname=font_path) plt.text(0.5, 0.5, s=u\u0026#39;æµ‹è¯•\u0026#39;, fontproperties=prop) plt.show() where font_path is the path to a Chinese font on your system.\nConclusion # Both the two ways are easy to follow. You can choose whichever suits your need best. For the complete code and also info on how to find available Chinese fonts on your system, please refer to the code on this repo.\nReferences # The first way This page shows how to use the first method. This SO post also use the second way. Matplotlib official example on the second way. How to use the fontconfig pattern While this post is about how to show Chinese Characters, it should work for other languages too, should you change the settings accordingly.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf you do not know how to install fonts on Linux or Windows, see here and here for detailed guides.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"13 May 2017","externalUrl":null,"permalink":"/2017/05/13/guide-on-how-to-use-chinese-with-matplotlib/","section":"Posts","summary":"\u003cp\u003eA few days ago, I found that Matplotlib can not show some Unicode characters\n(some Chinese characters) using its default settings. In the rendered output\nimage, Chinese characters are shown as blank boxes. After reading a lot of\nposts on this issue, I am finally clear about how to use Unicode characters\nproperly in Matplotlib.\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e","title":"A Guide on Using Unicode Characters in Matplotlib","type":"posts"},{"content":"On my CentOS system, I usually use eog to view images in the console. But I am a little upset by its speed of opening an image. I do not need such functionality besides viewing an image. So I decided to find another lightweight replacement.\nAfter searching the internet, I found a post on stackexchange. According to the answers in the post, I decided to install feh on my CentOS 7 system. The install process turns out to be a little bumpy.\nFeh is not in the official yum repo. So we have to build it from source. Unfortunately, the offical page only gives instructions on how to install it on Debian-based systems. What is worse, some of the package names are different on CentOS. After some trial and error, I succeeded in installing it on my system. Here is how.\nInstall # First, we need to install some dependencies:\nyum -y install libcurl-devel libX11-devel libXt-devel libXinerama-devel libpng-devel Then we need to manually download other packages and install them:\nwget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/Kenzy:/modified:/C7/CentOS_7/x86_64/imlib2-1.4.6-2.1.x86_64.rpm wget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/Kenzy:/modified:/C7/CentOS_7/x86_64/imlib2-devel-1.4.6-2.1.x86_64.rpm wget https://jaist.dl.sourceforge.net/project/libjpeg-turbo/1.5.1/libjpeg-turbo-official-1.5.1.x86_64.rpm yum --nogpgcheck localinstall imlib2-1.4.6-2.1.x86_64.rpm imlib2-devel-1.4.6-2.1.x86_64.rpm libjpeg-turbo-official-1.5.1.x86_64.rpm After that, get the latest feh release from official github repo, compile and install (make sure that you have root privilege, or you have to install it on other directories which you have write access):\ngit clone git://github.com/derf/feh.git cd feh make -j${nproc} \u0026amp;\u0026amp; make install I have put all the command into a bash script, you can find it here. Simply run the script to install feh.\nIf nothing went wrong, you should be able to use feh right away.\nUsage # Limit the window size to a specific size # We can use -g or --geometry option:\n-g, \u0026ndash;geometry WxH[+X+Y] Limit the window size to DIMENSION[+OFFSET]\nFor example, to show image with maximum window size of 400x500, use the following command:\nfeh --geometry 400x500 /home/images/ Keep the image viewing window to screen size # We can use -. or --scale-down to scale the image to fit the screen size:\nfeh --scale-down /home/images/ Display the image info without showing the image # We can use -l or --list to show image info (it width, height, etc.) without showing the image.\nfeh -l /home/images/ References # feh command cheatsheet: https://github.com/derf/feh/blob/master/src/help.raw feh man page: https://manpages.debian.org/testing/feh/feh.1.en.html ","date":"6 May 2017","externalUrl":null,"permalink":"/2017/05/06/install-feh-image-viewer-on-centos/","section":"Posts","summary":"\u003cp\u003eOn my CentOS system, I usually use \u003ca href=\"https://github.com/GNOME/eog\" target=\"_blank\"\u003eeog\u003c/a\u003e to view\nimages in the console. But I am a little upset by its speed of opening an\nimage. I do not need such functionality besides viewing an image. So I decided\nto find another lightweight replacement.\u003c/p\u003e","title":"Install feh Image Viewer from Source on CentOS 7","type":"posts"},{"content":"è¿™ä¸ªæœˆä¸­æ—¬ï¼ŒICME Workshop çš„æŠ•ç¨¿ç»“æœå…¬å¸ƒï¼Œæˆ‘æŠ•çš„è®ºæ–‡è¢«æ¥æ”¶äº†ï¼Œå¿™å®Œ camera-ready è®ºæ–‡çš„æäº¤å’Œæ³¨å†Œï¼Œæˆ‘å¼€å§‹åŠç†é¦™æ¸¯ç­¾è¯ç›¸å…³çš„ä¸œè¥¿ã€‚\nä¼šè®®åœ¨é¦™æ¸¯å¬å¼€ï¼Œåº”è¯¥åŠç†æ¸¯æ¾³é€šè¡Œè¯å¹¶ä¸”åŠ ç›–åˆé€‚çš„ç­¾æ³¨ã€‚ç”±äºæ˜¯ç¬¬ä¸€æ¬¡åŠç†æ¸¯æ¾³é€šè¡Œè¯ï¼Œæˆ‘ä¸€å¤´é›¾æ°´ï¼Œä¸çŸ¥é“è¯¥å‡†å¤‡ä»€ä¹ˆä¸œè¥¿ï¼Œè€Œä¸”æˆ‘çš„æƒ…å†µè¿˜æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæˆ‘çš„æˆ·å£åœ¨ç ”ç©¶ç”ŸæŠ¥åˆ°çš„æ—¶å€™æ²¡æœ‰è¿åˆ°åŒ—äº¬ã€‚æˆ‘å»ç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œçœ‹åˆ°äº†åŒ—äº¬å¸‚å…¬å®‰å±€å‡ºå…¥å¢ƒç½‘ç«™çš„æ¸¯æ¾³é€šè¡Œè¯åŠç†è¯´æ˜ï¼Œæˆ‘æŠŠè¯´æ˜ä»å¤´åˆ°å°¾ä»”ç»†çœ‹äº†ä¸€éï¼Œæ‘˜å½•å‡ºæ¥å¯¹æˆ‘æœ‰ç”¨çš„ä¸œè¥¿ã€‚æŒ‰ç…§è¯´æ˜ï¼Œæˆ‘å±äºéäº¬ç±å­¦ç”Ÿï¼Œä¹Ÿäº«æœ‰åœ¨åŒ—äº¬åŠç†æ¸¯æ¾³é€šè¡Œè¯çš„æƒåˆ©ï¼Œåªæ˜¯éœ€è¦ä¸€äº›é¢å¤–çš„è¯æ˜ææ–™ï¼Œå¯¹äºè¿™äº›é¢å¤–ææ–™ï¼Œç½‘ç«™ä¸Šæ˜¯è¿™ä¹ˆå†™çš„:\né«˜ç­‰é™¢æ ¡åœ¨è¯»å¤§å­¦ç”Ÿé¡»æäº¤æœ¬äººæˆ·å£ç°¿ï¼ˆé¦–é¡µã€æœ¬äººé¡µåŠå˜æ›´é¡µï¼‰ã€æœ‰æ•ˆæœŸå†…çš„äºŒä»£å±… æ°‘èº«ä»½è¯ã€å°±è¯»é™¢æ ¡å‡ºå…·çš„æœ‰æ•ˆæœŸå†…çš„ã€ŠåŒ—äº¬é«˜æ ¡éåŒ—äº¬æˆ·ç±å¤§å­¦ç”Ÿåœ¨å­¦è¯æ˜ã€‹åŸä»¶ä»¥ åŠç”±å­¦æ ¡å­¦ç±ç®¡ç†éƒ¨é—¨æ ¸å®å¹¶åŠ ç›–å…¬ç« çš„ã€Šæ•™è‚²éƒ¨å­¦ç±åœ¨çº¿éªŒè¯æŠ¥å‘Šã€‹åŸä»¶\næˆ‘å…ˆä»æœ€å®¹æ˜“åŠçš„ææ–™å¼€å§‹ï¼Œå…ˆè®©è€å¦ˆä»å®¶é‡Œå¯„æ¥æˆ·å£æœ¬ï¼Œç„¶åå»å…¬å®‰å±€è®¤å¯çš„ç…§ç›¸é¦†æ‹äº†ç…§ç‰‡ï¼Œæ‹¿åˆ°ç…§ç‰‡å›æ‰§å•ã€‚æ¥ç€å¼€å§‹åŠç†ã€ŠåŒ—äº¬é«˜æ ¡éåŒ—äº¬æˆ·ç±å¤§å­¦ç”Ÿåœ¨å­¦è¯æ˜ã€‹å’Œã€Šæ•™è‚²éƒ¨å­¦ç±åœ¨çº¿éªŒè¯æŠ¥å‘Šã€‹ï¼Œæˆ‘ä»¬å±äºç ”ç©¶æ‰€ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸ºç›–ç« çš„åœ°æ–¹å°±æ˜¯ç ”ç©¶ç”Ÿéƒ¨ï¼Œå»äº†ç ”ç©¶ç”Ÿéƒ¨ï¼Œæ‰¾åˆ°è´Ÿè´£çš„è€å¸ˆï¼Œè¯´æ˜æˆ‘éœ€è¦å¼€ä¸€ä¸ªåœ¨å­¦è¯æ˜ï¼Œç»™å­¦ç±éªŒè¯æŠ¥å‘Šç›–ç« ï¼Œè€å¸ˆçœ‹äº†ä¸€çœ¼ï¼Œé—®æˆ‘å¯¼å¸ˆæ˜¯è°ï¼Œç„¶åæ‰”ç»™æˆ‘ä¸€ä¸ªè¡¨æ ¼ï¼Œè®©æˆ‘æ‰¾è°­è€å¸ˆç­¾å­—ï¼Œç­¾å­—ä»¥åæ‰èƒ½ç»™æˆ‘ç›–ç« ã€‚æˆ‘ç»™è°­è€å¸ˆå»äº†ä¸€å°é‚®ä»¶è¯´æ˜éœ€è¦ä»–çš„ç­¾å­—ï¼Œè°­è€å¸ˆåŒæ„äº†ï¼Œè®©æˆ‘æ‰¾é©¬ç§˜ä¹¦ç›–ç« ã€‚å¯æ˜¯ä¸Šåˆé©¬è€å¸ˆä¸€ç›´åœ¨ä¼šè®®å®¤å¼€ä¼šï¼Œæ­£å¥½ä¸Šåˆå±±å“¥é€ä¸Šæ¥é©¬è€å¸ˆå›¢è´­çš„æ¨±æ¡ƒï¼Œè®©æˆ‘è½¬äº¤ç»™é©¬è€å¸ˆã€‚æˆ‘ç­‰åˆ°ä¸Šåˆåä¸€ç‚¹åŠï¼Œè¿˜æœªè§ä»–ä»¬å¼€å®Œä¼šï¼Œå°±å…ˆå›å®¿èˆåƒé¥­äº†ï¼Œæˆ‘æ‰“ç®—ä¸‹åˆäº¤ç»™å¥¹æ¨±æ¡ƒçš„æ—¶å€™é¡ºä¾¿ç›–ç« ã€‚ä¸‹åˆåˆ°äº†å®éªŒå®¤ï¼Œå»é©¬è€å¸ˆåŠå…¬å®¤æ•²äº†å¥½å‡ æ¬¡é—¨ï¼Œä¸€ç›´æ²¡æœ‰äººã€‚åé¢é©¬è€å¸ˆæ¥ç”µäº†ï¼Œè®©æˆ‘å¸®å¥¹æŠŠæ¨±æ¡ƒå¸¦ä¸‹å»äº¤ç»™å¥¹ï¼Œæˆ‘å€Ÿæœºè¯´æ˜äº†ç›–ç« çš„äº‹æƒ…ï¼Œé©¬è€å¸ˆè¯´ä¸æ€¥çš„è¯æ˜å¤©å†ç»™æˆ‘ç›–ç« ã€‚ç»“æœç¬¬äºŒå¤©ä¸Šåˆå’Œä¸‹åˆæˆ‘å»æ•²äº†å‡ æ¬¡åŠå…¬å®¤é—¨ï¼Œè¿˜æ˜¯æ²¡æœ‰äººï¼Œæˆ‘ç­‰ä¸åŠäº†ï¼Œç»™é©¬è€å¸ˆå‘äº†ä¸€æ¡çŸ­ä¿¡ï¼Œé©¬è€å¸ˆå›ä¿¡è¯´å¥¹å…ˆç”Ÿç”Ÿç—…äº†ï¼Œæ‰€ä»¥æ²¡æ¥ä¸Šç­ï¼Œè®©æˆ‘å»æ‰¾å°¹è€å¸ˆç›–ç« ã€‚æˆ‘åŒ†å¿™å»æ‰¾å°¹è€å¸ˆè¯´æ˜æƒ…å†µï¼Œç»ˆäºç›–ä¸Šäº†è°­è€å¸ˆçš„ç­¾å­—ç« ã€‚\næ¥ç€å»ç ”ç©¶ç”Ÿéƒ¨ç›–ç ”ç©¶ç”Ÿéƒ¨çš„ç« ï¼Œç›–äº†ç« ï¼Œå›å®éªŒå®¤å’Œ WHS å¸ˆå…„äº¤æµäº†ä¸€ä¸‹ï¼Œä»–å‘Šè¯‰æˆ‘ï¼Œä»– 2015 å¹´åŠç†æŠ¤ç…§å’Œæ¸¯æ¾³é€šè¡Œè¯çš„æ—¶å€™ï¼Œå»çš„æ˜¯åŒ—äº¬å¸‚å…¬å®‰å±€æµ·æ·€åˆ†å±€ï¼Œåœ¨ã€Œè¥¿é’“é±¼å°ã€ï¼Œè€Œä¸”ä¸ç”¨é¢„çº¦åŠç†ã€‚ä½†æ˜¯å®˜ç½‘çš„è¯´æ˜ä¸Šè¦æ±‚é¢„çº¦åŠç†ï¼Œä¸ºäº†ç¨³å¦¥ï¼Œæˆ‘ç™»å½•åŒ—äº¬å¸‚å…¬å®‰å±€å‡ºå…¥å¢ƒç½‘ç«™å‡†å¤‡é¢„çº¦ï¼Œå¯æ˜¯åœ¨å¡«å†™é¢„çº¦ä¿¡æ¯çš„ç½‘é¡µï¼Œæ€ä¹ˆéƒ½æ— æ³•ç‚¹å‡»ã€Œä¸‹ä¸€æ­¥ã€æŒ‰é’®ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥çš„é¡µé¢ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œæˆ‘ä»¥ä¸ºæ˜¯æˆ‘ç”µè„‘çš„åŸå› ï¼Œå» PB å¸ˆå…„é‚£é‡Œè¯•äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œç‚¹å‡»ç½‘é¡µä¸‹æ–¹ã€Œä¸‹ä¸€æ­¥ã€å°±æ˜¯æ²¡ååº”ã€‚å› ä¸º WHS å¸ˆå…„è¯´ä¸é¢„çº¦ä¹Ÿè¡Œï¼Œæˆ‘å°±éª‘æ‘©æ‹œèµ¶åˆ°é™„è¿‘æœ€è¿‘çš„ä¸­å…³æ‘è¥¿æ´¾å‡ºæ‰€ï¼Œå…ˆå»äº†è§£ä¸€ä¸‹åˆ°åº•ä»€ä¹ˆæƒ…å†µï¼Œåˆ°äº†åœ°æ–¹ï¼ŒåŠäº‹çš„äººå‘Šè¯‰æˆ‘ï¼Œå¿…é¡»å…ˆé¢„çº¦æ‰èƒ½åŠç†ï¼Œåœ¨æ‰‹æœºä¸Šä¹Ÿå¯ä»¥é¢„çº¦ï¼Œæˆ‘å‡ºå»åœ¨æ‰‹æœºä¸Šè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°å‰é¢åœ¨å®éªŒå®¤å¡«å†™çš„ç½‘é¡µæœ‰ä¸€ä¸ªè¾“å…¥æ¡†å¡«å†™å‡ºäº†é—®é¢˜ï¼šã€Œæˆ·å£æ‰€åœ¨åœ°ã€ä¸€æ ï¼Œè®¾è®¡çš„æ˜¯å¿…é¡»ä»æ‰€ç»™çš„é€‰é¡¹ä¸­é€‰ä¸€é¡¹ï¼Œä½†æ˜¯ä¹Ÿå…è®¸è‡ªå·±è¾“å…¥ï¼Œæˆ‘è¾“å…¥çš„å†…å®¹å¤šäº†ä¸€ä¸ªã€Œçœä»½ã€çš„ã€Œçœã€å­—ï¼Œå› æ­¤é€šè¿‡ä¸äº†ï¼Œæˆ‘ä½¿ç”¨çš„ Chrome æµè§ˆå™¨ï¼Œå¼¹å‡ºä¸äº†é”™è¯¯æç¤ºï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´ä¸çŸ¥é“é—®é¢˜åœ¨å“ªé‡Œï¼Œç›´åˆ°ä½¿ç”¨æ‰‹æœºï¼Œå¼¹å‡ºäº†é”™è¯¯çª—å£ï¼Œæˆ‘æ‰çŸ¥é“é—®é¢˜æ‰€åœ¨ã€‚æƒ³ç€åŠä¸€æ¬¡è¯æ˜ä¸å®¹æ˜“ï¼Œä»¥åæŠ¤ç…§ä¹Ÿå¯èƒ½ä¼šç”¨å¾—åˆ°ï¼Œç´¢æ€§æŠŠæ¸¯æ¾³é€šè¡Œè¯å’ŒæŠ¤ç…§ä¸€èµ·åŠäº†å§ï¼Œç»“æœæˆ‘å‘ç°æŠ¤ç…§åŠç†å¯ä»¥é¢„çº¦ä¸­å…³æ‘è¥¿æ´¾å‡ºæ‰€ï¼Œä½†æ˜¯æ¸¯æ¾³é€šè¡Œè¯åŠç†åªèƒ½é¢„çº¦å‡ºå…¥å¢ƒç®¡ç†æ€»é˜Ÿï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œå¦‚æœè¿™ä¸¤ä¸ªè¯ä»¶ä¸èƒ½é€‰åˆ°ä¸€èµ·ï¼Œé‚£è¯æ˜ææ–™å²‚ä¸æ˜¯è¦å‡†å¤‡ä¸¤ä»½äº†ã€‚æˆ‘çœ‹çœ‹æ‰‹æœºï¼Œè¿˜æ²¡åˆ°ä¸‹ç­æ—¶é—´ï¼Œèµ¶å¿«åˆå»æ´¾å‡ºæ‰€é—®äº†ä¸€ä¸‹ï¼Œå€¼ç­çš„æ˜¯ä¸¤ä¸ªå¥³å·¥ä½œäººå‘˜ï¼Œå¥¹ä»¬å‘Šè¯‰æˆ‘ï¼Œå¦‚æœæŠŠåŠæŠ¤ç…§å’Œé€šè¡Œè¯çš„åœ°ç‚¹é€‰åœ¨ä¸€ä¸ªæ´¾å‡ºæ‰€ï¼Œå¯ä»¥åªç”¨ä¸€ä»½è¯æ˜ææ–™ï¼Œå¦‚æœåœ¨ä¸¤ä¸ªåœ°æ–¹ï¼Œé‚£ä¹ˆè‚¯å®šéœ€è¦ä¸¤ä»½è¯æ˜ææ–™ã€‚æˆ‘å‘Šè¯‰å¥¹ä»¬ï¼Œç½‘ç«™ä¸Šæ¸¯æ¾³é€šè¡Œè¯åªèƒ½é€‰æ‹©å‡ºå…¥å¢ƒæ€»é˜Ÿï¼Œä¸èƒ½é€‰æ‹©è¿™ä¸ªæ´¾å‡ºæ‰€ï¼Œå¥¹ä»¬å¼‚å£åŒå£°ä¸å¯èƒ½ï¼Œåé¢æœ‰ä¸€ä¸ªå¥³æ°‘è­¦è¡¥å……è¯´ï¼Œå¯èƒ½æ˜¯æˆ‘çš„ç­¾æ³¨ç±»å‹é€‰çš„ã€Œå…¶ä»–ã€ç±»å‹ï¼Œå¥¹ä»¬è¿™é‡Œåªèƒ½åŠç†æ—…æ¸¸ç­¾è¯ï¼Œå…¶ä½™ç­¾è¯ç±»å‹éœ€è¦åˆ°æ€»é˜Ÿå»åŠç†ï¼Œæˆ‘åªå¥½å–æ¶ˆäº†é¢„çº¦ï¼Œé‡æ–°é¢„çº¦äº†ä¸€éï¼ŒæŠŠæŠ¤ç…§å’Œæ¸¯æ¾³é€šè¡Œè¯çš„åŠç†åœ°ç‚¹éƒ½é€‰åœ¨äº†å‡ºå…¥å¢ƒç®¡ç†æ€»é˜Ÿã€‚\nç¬¬äºŒå¤©ä¸€å¤§æ—©ï¼Œæˆ‘ååœ°é“åˆ°äº†å‡ºå…¥å¢ƒç®¡ç†ä¸­å¿ƒï¼Œç»“æœå‘ç°é’±åŒ…é‡Œæ²¡æœ‰èº«ä»½è¯ï¼Œæ€¥å¾—æˆ‘æ»¡å¤´å¤§æ±—ï¼Œä»¥ä¸ºèº«ä»½è¯ä¸¢äº†ï¼Œå¦‚æœçœŸä¸¢äº†ï¼Œé‚£å°±å¤ªéº»çƒ¦äº†ï¼šæˆ‘æˆ·å£ä¸åœ¨è¿™é‡Œï¼Œå¦‚æœèº«ä»½è¯ä¸¢äº†ï¼Œè¿˜å¾—è¡¥åŠï¼Œä¸çŸ¥é“ä½•æ—¶æ‰èƒ½åŠå¥½ã€‚å¥½ä¸å®¹æ˜“å†·é™ä¸‹æ¥ï¼Œä»”ç»†æƒ³äº†ä¸€ä¸‹ï¼Œé©¬ä¸Šæƒ³èµ·æ¥æ˜¯å‰ä¸€å¤©æ™šä¸Šå¤å°èº«ä»½è¯çš„æ—¶å€™æ”¾åœ¨äº†å¤å°æœºçš„ä¸Šé¢æ²¡å–ï¼Œå¿ƒæƒ…å°±å¹³å¤äº†ã€‚é—®äº†ä¸€ä¸‹å·¥ä½œäººå‘˜ï¼Œå¿…é¡»å¸¦èº«ä»½è¯æ‰èƒ½åŠç†ï¼Œæˆ‘åˆå’¨è¯¢äº†ä¸€ä¸‹æˆ‘åœ¨åŒä¸€ä¸ªåœ°æ–¹åŠç†æŠ¤ç…§å’Œé€šè¡Œè¯ï¼Œè¯æ˜ææ–™éœ€è¦å‡ ä»½ï¼Œé‚£ä¸ªå·¥ä½œäººå‘˜å¾ˆç¤¼è²Œçš„å›ç­”è¯´éœ€è¦ä¸€ä»½å°±å¯ä»¥äº†ï¼Œåˆé—®æˆ‘å»é¦™æ¸¯åšä»€ä¹ˆï¼Œæˆ‘ç­”æ˜¯å¼€å­¦æœ¯ä¼šè®®ï¼Œä»–é—®å¼€å¤šå°‘å¤©ï¼Œæˆ‘ç­”æœ€å¤šä¸è¶…è¿‡ä¸ƒå¤©ï¼Œä»–å°±å»ºè®®æˆ‘åŠç†æ—…æ¸¸ç±»å‹ç­¾æ³¨ï¼Œç®€å•ï¼Œä¸éœ€è¦å…¶ä»–è¯æ˜ææ–™ã€‚æˆ‘ç¦»å¼€äº†å‡ºå…¥å¢ƒæ€»é˜Ÿï¼Œæ‰“ç”µè¯ç»™ YK è®©ä»–å¸®æˆ‘çœ‹ä¸€ä¸‹èº«ä»½è¯æ˜¯å¦åœ¨æ‰“å°æœºä¸Šé¢ï¼Œä»–çœ‹äº†ä¸€ä¸‹ï¼Œæœç„¶åœ¨é‚£é‡Œï¼Œæˆ‘è®©ä»–å¸®æˆ‘æŠŠèº«ä»½è¯æ”¶åˆ°äº†å·¥ä½æŠ½å±‰é‡Œé¢ï¼Œååœ°é“è¿”å›å®éªŒå®¤ã€‚\nå‘¨ä¸‰ä¸‹åˆï¼Œå¸¦å¥½èº«ä»½è¯ï¼Œé¢„çº¦äº†ç‰¡ä¸¹å›­åœ°é“ç«™é™„è¿‘çš„èŠ±å›­è·¯æ´¾å‡ºæ‰€ï¼Œæäº¤äº†æˆ‘çš„ææ–™ï¼Œä¸ä¸€ä¼šå·¥ä½œäººå‘˜å«æˆ‘è¿‡å»ï¼Œè·Ÿæˆ‘è¯´ï¼Œæˆ‘çš„ææ–™ç›–ç« ä¸è¡Œï¼Œéœ€è¦å›½ç§‘å¤§çš„ç›–ç« ï¼Œæ‰€é‡Œçš„ç›–ç« æ²¡ç”¨ã€‚æˆ‘é—®äº†ä¸€ä¸‹å›½ç§‘å¤§é‚£è¾¹çš„è”ç³»ç”µè¯ï¼Œæ‰“ç”µè¯è¿‡å»ï¼Œé‚£è¾¹çš„åŠäº‹è€å¸ˆè®©æˆ‘åˆ°å›½ç§‘å¤§çš„ç½‘ç«™ä¸Šæ‰¾ä¸€ä¸‹ç›¸å…³çš„ææ–™ï¼Œåˆå‘Šè¯‰æˆ‘å¥¹ä¸‰ç‚¹åŠæœ‰äº‹ï¼Œä¸‰ç‚¹åŠä¹‹å‰èƒ½èµ¶è¿‡å»å°±è¿‡å»åŠç†ï¼Œä¸èƒ½å°±ç¬¬äºŒå¤©å†å»åŠç†ï¼Œæˆ‘çœ‹æ—¶é—´å·²ç»ä¸æ—©äº†ï¼Œéœ€è¦çš„ææ–™æˆ‘è¿˜æ²¡å¼„å¥½ï¼Œå†³å®šç¬¬äºŒå¤©å†å»å›½ç§‘å¤§ç›–ç« ã€‚\nå›åˆ°å®éªŒå®¤ï¼Œä¸Šå›½ç§‘å¤§çš„å®˜ç½‘æ‰¾äº†å…³äºéäº¬ç±å­¦ç”ŸåŠç†åœ¨å­¦è¯æ˜çš„è¯´æ˜ï¼Œå‘ç°éœ€è¦åˆ°æ‰€é‡Œç»™ã€Šä¸­å›½ç§‘å­¦é™¢å¤§å­¦åœ¨å­¦è¯æ˜åŠç†ç”³è¯·è¡¨ã€‹ç›–ç« ï¼Œç„¶åæ‰æ˜¯å»å›½ç§‘å¤§å­¦ç±åŠå…¬å®¤ç›–ç« ï¼Œç¬¬äºŒå¤©ä¸Šåˆå»æ‰€é‡Œç ”ç©¶ç”Ÿéƒ¨ç›–äº†ç« ï¼Œéª‘æ‘©æ‹œå»å›½ç§‘å¤§ä¸­å…³æ‘æ ¡åŒºçš„å­¦ç±åŠå…¬å®¤ç›–äº†ç« ï¼Œå­¦ç±éªŒè¯æŠ¥å‘Šç”±äºæ²¡æœ‰ç…§ç‰‡ï¼Œè´Ÿè´£çš„è€å¸ˆè¿˜è®©æˆ‘è´´äº†ä¸€å¼ ç…§ç‰‡æ‰ç»™ç›–ç« ï¼ŒåŒæ—¶ä¹Ÿç»™åœ¨å­¦è¯æ˜ç›–äº†ç« ã€‚åŠå¥½è¿™äº›ï¼Œæˆ‘é©¬ä¸Šç”¨æ‰‹æœºé¢„çº¦äº†èŠ±å›­è·¯æ´¾å‡ºæ‰€ä¸Šåˆçš„å·ï¼Œèµ¶äº†è¿‡å»ã€‚ç¬¬äºŒæ¬¡é€’äº¤ææ–™ï¼Œè¿‡äº†ä¸€ä¼šï¼Œåˆè¢«å«è¿›å»ï¼Œè¢«å‘ŠçŸ¥å­¦ç±éªŒè¯æŠ¥å‘Šä¸Šçš„ç« ä¸è¡Œï¼Œæœ‰ä¸‰ä¸ªå­—ä¸æ¸…æ™°ï¼Œéœ€è¦é‡ç›–ã€‚è€Œä¸”ä»–ä»¬è®¤ä¸ºã€Šåœ¨å­¦è¯æ˜ã€‹ä¸Šé¢çš„ç­¾å­—å’Œç³»ç»Ÿä¸Šçš„ä¸ç¬¦åˆï¼Œè®©æˆ‘æ‰¾è´Ÿè´£è€å¸ˆé‡æ–°ç­¾å­—ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹ï¼Œç³»ç»Ÿä¸Šçš„ç­¾å­—æ˜¯æ¯”è¾ƒè‰çš„ï¼Œä¸åƒè¯æ˜ä¸Šé‚£ä¹ˆå·¥æ•´ã€‚å¹¶ä¸”æ´¾å‡ºæ‰€çš„äººå‘Šè¯‰æˆ‘ï¼Œå­¦ç±éªŒè¯æŠ¥å‘Šä¸Šä¸éœ€è¦ç…§ç‰‡ï¼Œæˆ‘è¯•å›¾è§£é‡Šï¼Œè¿™æ˜¯å›½ç§‘å¤§è´Ÿè´£è€å¸ˆè®©è´´çš„ï¼Œè¢«æ•°è½äº†ä¸€é¡¿ï¼šæˆ‘ä»¬è®©ä½ è¿™ä¹ˆå¼„ä½ å°±è¿™ä¹ˆå¼„ï¼Œä¸è¦åºŸè¯ï¼Œå¬æˆ‘ä»¬çš„è¿˜æ˜¯å¬å›½ç§‘å¤§è´Ÿè´£è€å¸ˆçš„ï¼Ÿæ˜¯æˆ‘ä»¬ç»™ä½ åŠç†è¿˜æ˜¯å¥¹ç»™ä½ åŠç†ï¼Ÿæˆ‘ã€Œè¯†è¶£ã€åœ°å›å»äº†ï¼Œéª‘æ‘©æ‹œå›å»çš„è·¯ä¸Šï¼Œæˆ‘æƒ³ï¼Œè™½ç„¶ã€Œå­¦ç±éªŒè¯ã€æŠ¥å‘Šä¸Šé¢çš„ç« ä¸å¤ªæ¸…æ™°ï¼Œä½†æ˜¯ã€Œåœ¨å­¦è¯æ˜ã€ä¸Šé¢çš„ç« æ˜¯æ¸…æ™°çš„ï¼Œè¿™ä¸¤ä¸ªç« æ˜¯æˆ‘åŒæ—¶ç›–çš„ï¼Œä¸ºä»€ä¹ˆå°±ä¸èƒ½è¯´æ˜é—®é¢˜å‘¢ï¼Œå¦‚æœåœ¨å­¦è¯æ˜çš„ç« æ˜¯çœŸçš„ï¼Œé‚£å­¦ç±éªŒè¯ä¸Šé¢çš„ç« æ€ä¹ˆå¯èƒ½æ˜¯å‡çš„å‘¢ï¼Ÿè¿™æ ·ä¸æ˜¯æŠŠæˆ‘å½“æˆäº†çŠ¯ç½ªåˆ†å­ä¸€æ ·è´¨ç–‘ï¼Œè§‰å¾—æˆ‘å¼„çš„ææ–™ä¸å¯ä¿¡å˜›ã€‚æˆ‘ä½œä¸ºä¸­å›½å…¬æ°‘ï¼Œåœ¨è‡ªå·±çš„å›½å®¶æƒ³è¦åŠç†ä¸€ä¸ªå»é¦™æ¸¯é€šè¡Œè¯ï¼Œæ€ä¹ˆå°±è¿™ä¹ˆå›°éš¾å‘¢ï¼Œåƒåšè´¼ä¸€æ ·è¢«é˜²å¤‡ç€ã€‚å¦å¤–ï¼Œé¦™æ¸¯ä¸æ˜¯æˆ‘ä»¬ä¼Ÿå¤§ç¥–å›½çš„ä¸€éƒ¨åˆ†ä¹ˆï¼Ÿå»ä¸€æ¬¡é¦™æ¸¯æ€ä¹ˆå°±è¿™ä¹ˆè´¹äº‹å‘¢ï¼Ÿéª‘æ‘©æ‹œåˆ°äº†ä¸­å…³æ‘å°åŒºå·²è¿‘åäºŒç‚¹ï¼Œæˆ‘å»å¤å°äº†æˆ·å£æœ¬é¦–é¡µè¿˜æœ‰æˆ‘çš„æˆ·å£é¡µï¼Œæ‹…å¿ƒæ´¾å‡ºæ‰€çš„äººå†æœ‰ä»€ä¹ˆç»†èŠ‚è¦æ±‚ï¼Œæˆ‘å°±æŒ‰ç…§ä¸åŒæ–¹å¼å¤å°äº†æˆ·å£æœ¬ï¼Œé˜²æ­¢ä¸­é€”å†å»å¤å°ï¼Œå¤å°å®Œï¼ŒåŠäº‹è€å¸ˆå·²ç»ä¸‹ç­äº†ï¼Œåªå¥½ä¸‹åˆä¸Šç­æ—¶é—´å†å»é‡æ–°ç›–ç« ã€‚\nä¸‹åˆä¸¤ç‚¹åˆå»å›½ç§‘å¤§ä¸­å…³æ‘å­¦ç±åŠå…¬å®¤ï¼Œè€å¸ˆæ²¡æ¥ï¼Œæ‰“ç”µè¯è¯¢é—®ï¼Œå¥¹å‘ŠçŸ¥æˆ‘æš‚æ—¶æœ‰äº‹ï¼Œå¤§çº¦ä¸‰ç‚¹æ‰èƒ½åˆ°ã€‚æˆ‘ç™¾æ— èŠèµ–ï¼Œååœ¨é™„è¿‘çš„ä¸€ä¸ªè‰åªè¾¹ä¸Šï¼Œçœ‹åˆ°äº†è€äººå’Œå¦‡å¥³ä»¬å¸¦ç€å°å­©å­åœ¨æ¸¸ä¹å›­é‡Œé¢ç©è€ï¼Œåªæœ‰æˆ‘ä¸€ä¸ªæ— æ‰€äº‹äº‹çš„äººã€‚ç­‰åˆ°äº†ä¸‰ç‚¹ï¼Œè¯´æ˜äº†ä¸Šåˆç›–ç« ä¸è¢«æ´¾å‡ºæ‰€è®¤å¯çš„æƒ…å†µï¼Œè´Ÿè´£è€å¸ˆé‡æ–°ç»™å­¦ç±éªŒè¯æŠ¥å‘Šç›–äº†ç« ï¼Œåœ¨ã€Šåœ¨å­¦è¯æ˜ã€‹ä¸Šåˆç­¾äº†ä¸€ä¸ªåå­—ã€‚å‡ºæ¥ä»¥åï¼Œæˆ‘ç”¨æ‰‹æœºå†æ¬¡é¢„çº¦èŠ±å›­è·¯æ´¾å‡ºæ‰€ï¼Œéª‘æ‘©æ‹œç¬¬ä¸‰æ¬¡å‰å¾€ï¼Œè¿™æ¬¡ææ–™ç»ˆäºæ²¡é—®é¢˜äº†ï¼Œåœ¨å·¥ä½œäººå‘˜æŒ‡å¼•ä¸‹ï¼Œæˆ‘å°å¿ƒç¿¼ç¿¼ã€è¯šæƒ¶è¯šæåœ°å¡«äº†ç”³è¯·è¡¨æ ¼ï¼Œç„¶åäº¤é’±ï¼Œç­¾å­—ï¼Œæ”¶åˆ°äº†å›æ‰§å•ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸åˆ°ååˆ†é’Ÿå°±åŠå®Œäº†ã€‚\néª‘è½¦å›æ‰€é‡Œçš„è·¯ä¸Šï¼Œå¿ƒé‡Œå¦‚é‡Šé‡è´Ÿï¼Œå˜´è§’æ‰¬èµ·äº†å¼€å¿ƒçš„å¾®ç¬‘ã€‚\n","date":"30 April 2017","externalUrl":null,"permalink":"/2017/04/30/apply-for-hk-visa/","section":"Posts","summary":"\u003cp\u003eè¿™ä¸ªæœˆä¸­æ—¬ï¼ŒICME Workshop çš„æŠ•ç¨¿ç»“æœå…¬å¸ƒï¼Œæˆ‘æŠ•çš„è®ºæ–‡è¢«æ¥æ”¶äº†ï¼Œå¿™å®Œ camera-ready è®ºæ–‡çš„æäº¤å’Œæ³¨å†Œï¼Œæˆ‘å¼€å§‹åŠç†é¦™æ¸¯ç­¾è¯ç›¸å…³çš„ä¸œè¥¿ã€‚\u003c/p\u003e","title":"ç”³è¯·é¦™æ¸¯é€šè¡Œè¯","type":"posts"},{"content":"æœ€è¿‘æ¢äº†ä¸€å°æ–°çš„æ‰‹æœº OnePlus 3Tï¼Œè¿™ä¸ªæ‰‹æœºç®€æ´æ˜¯ç®€æ´ï¼Œé¢„è£…çš„åº”ç”¨éå¸¸å°‘ï¼Œè‡ªå¸¦çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ä¸æ˜¯å¾ˆå…¨ï¼Œæ‰€ä»¥æˆ‘ç ”ç©¶äº†ä¸€ä¸‹ Android ä¸Šå¸¸ç”¨çš„ä¸€äº›æ–‡ä»¶ç®¡ç† APPã€‚\næ ¹æ®ç½‘ä¸Šçš„æ¨èï¼Œæˆ‘ä¸‹è½½è¯•ç”¨äº†å¾ˆå¤šæ¬¾å®‰å“æ–‡ä»¶ç®¡ç† APPï¼Œç»è¿‡ä½¿ç”¨ç•™ä¸‹äº†ä¸‰æ¬¾ï¼Œåˆ†åˆ«æ˜¯ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€ï¼Œã€ŒMiXplorerã€ ä»¥åŠ ã€ŒX-ploreã€ã€‚\nä¸‰æ¬¾è½¯ä»¶ä¼˜ç¼ºç‚¹ # è¿™ä¸‰æ¬¾è½¯ä»¶éƒ½æ”¯æŒå¯¹æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹çš„å¸¸ç”¨æ“ä½œï¼Œå¦‚å¤åˆ¶ï¼Œå‰ªåˆ‡ï¼Œé‡å‘½åï¼ŒæŸ¥æ‰¾ç­‰ã€‚ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€å’Œ ã€ŒX-ploreã€ ç›¸å¯¹æ¥è¯´ï¼ŒåŠŸèƒ½æ›´ä¸ºä¸°å¯Œï¼Œè­¬å¦‚è‡ªå¸¦æœ‰æ’­æ”¾è§†é¢‘æˆ–è€…éŸ³ä¹çš„åŠŸèƒ½ã€‚ ã€ŒMiXplorerã€ ä¼˜ç‚¹æ˜¯å®ƒå ç”¨ç©ºé—´å¾ˆå°‘ï¼Œå®‰è£…ä»¥åï¼Œå¤§æ¦‚åªå  1.3M å·¦å³çš„ç©ºé—´ï¼ŒåŠŸèƒ½ä¹Ÿä¸ç®—å¤ªè–„å¼±ã€‚å¦å¤– ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€æ˜¯æœ‰å¹¿å‘Šçš„ï¼Œå…¶ä½™ä¸¤æ¬¾è½¯ä»¶æ²¡æœ‰å¹¿å‘Šï¼Œå¦‚æœä¸å–œæ¬¢å¹¿å‘Šï¼Œå¯ä»¥ä¸è€ƒè™‘ ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€æˆ–è€…è€ƒè™‘è´­ä¹° ã€ŒESæ–‡ä»¶æµè§ˆå™¨ Proã€ã€‚\nä¿ç•™è¿™ä¸‰æ¬¾ APP çš„ä¸€ä¸ªé‡è¦åŸå› ï¼Œå°±æ˜¯å®ƒä»¬éƒ½æ”¯æŒä¸åŒçš„æ–‡ä»¶ä¼ è¾“åè®®ï¼Œä½¿ç”¨è¿™äº› APP å¯ä»¥æ–¹ä¾¿åœ°åœ¨æ‰‹æœºå’Œç”µè„‘ä¹‹é—´åˆ†äº«æ–‡ä»¶ã€‚\nåœ¨ç”µè„‘å’Œæ‰‹æœºä¹‹é—´æ— çº¿ä¼ è¾“æ–‡ä»¶ # å…ˆè¯´ä¸€ä¸‹è¦å®ç°æœ¬éƒ¨åˆ†å†…å®¹çš„åŸºæœ¬é…ç½®ï¼Œé¦–å…ˆæ˜¯ä¸€å°ç”µè„‘å’Œä¸€éƒ¨æ‰‹æœºï¼Œç„¶åç”µè„‘å’Œæ‰‹æœºéƒ½å¿…é¡»æ˜¯åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯å°å¼ç”µè„‘ï¼Œç”µè„‘ä¸Šæ’äº†ä¸€ä¸ª ã€Œ360éšèº«wifiã€ï¼Œæ‰‹æœºé€šè¿‡æ— çº¿è¿æ¥åˆ° ã€Œ360éšèº«wifiã€ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥å®ç°æ‰‹æœºç”µè„‘ä½äºåŒä¸€å±€åŸŸç½‘äº†ã€‚\nè¦å®ç°ç”µè„‘å’Œæ‰‹æœºæ— çº¿ä¼ è¾“æ–‡ä»¶ï¼Œæœ‰ä¸‰ç§å¯é€‰çš„æ–¹æ¡ˆã€‚ç¬¬ä¸€ç§æ˜¯é€šè¿‡ LAN/SMB æ–¹å¼ï¼Œåœ¨ç”µè„‘ä¸Šè®¾ç½®ä¸€ä¸ªå…±äº«ç›®å½•ï¼Œç„¶ååœ¨æ‰‹æœºä¸Šç®€å•è®¾ç½®ä»¥åï¼Œå°±å¯ä»¥è¿æ¥åˆ°ç”µè„‘ä¸Šè¿™ä¸ªå…±äº«ç›®å½•ï¼Œé€šè¿‡è¿™ä¸ªå…±äº«ç›®å½•å°±å¯ä»¥å®ç°ç”µè„‘å’Œæ‰‹æœºçš„äº’è”ï¼Œå…·ä½“çš„è®¾ç½®æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚ç¬¬äºŒç§æ–¹å¼å°±æ˜¯åœ¨æ‰‹æœºä¸Šå»ºç«‹ FTP æœåŠ¡å™¨ï¼Œ ç„¶ååœ¨ç”µè„‘çš„æ–‡ä»¶ç®¡ç†å™¨åœ°å€æ è¾“å…¥ FTP æœåŠ¡å™¨çš„åœ°å€ï¼Œå°±è¿›å…¥äº†æ‰‹æœºç›®å½•ï¼Œç„¶åå°±å¯ä»¥åƒæ“ä½œç”µè„‘ä¸Šçš„æ–‡ä»¶å¤¹ä¸€æ ·æ“ä½œæ‰‹æœºä¸Šçš„æ–‡ä»¶äº†ï¼Œå¦‚æœè¦ç»å¸¸è®¿é—®æ‰‹æœºï¼Œå¯ä»¥è€ƒè™‘åœ¨ç”µè„‘ä¸Šå¢åŠ äº†ä¸€ä¸ªç½‘ç»œä½ç½®ï¼Œæ–°å¢åŠ çš„ä½ç½®å°±åƒç”µè„‘åˆå¤šäº†ä¸€ä¸ªç¡¬ç›˜åˆ†åŒºä¸€æ ·ï¼Œè¿™æ ·åªè¦æ‰“å¼€æ‰‹æœºä¸Š FTP æœåŠ¡å™¨ï¼Œåœ¨ç”µè„‘ä¸Šç›´æ¥ç‚¹å‡»è¿™ä¸ªåˆ†åŒºï¼Œå°±å¯ä»¥è¿›è¡Œæ‰‹æœºæ–‡ä»¶ç®¡ç†ï¼Œä¸è¦å¤ªæ–¹ä¾¿ã€‚ç¬¬ä¸‰ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨ WebDAV åè®®ï¼Œé€šè¿‡åœ¨æ‰‹æœºä¸Šä¸´æ—¶è®¾ç½®ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥è¿™ä¸ªæœåŠ¡å™¨çš„ç½‘å€ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨é‡Œé¢å®ç°å¯¹æ‰‹æœºæ–‡ä»¶çš„æ“ä½œäº†ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚\nä¸åŒè½¯ä»¶å¯¹ä¸‰ç§ä¼ è¾“æ–¹å¼çš„æ”¯æŒ # ç»è¿‡æˆ‘çš„ä½¿ç”¨ï¼Œå‘ç°è¿™ä¸‰æ¬¾è½¯ä»¶å¯¹ä¸‰ç§ä¸åŒçš„æ–‡ä»¶ä¼ è¾“æ–¹å¼çš„æ”¯æŒä¸ä¸€å®šæ˜¯å…¨é¢çš„ï¼Œæœ‰çš„æ–¹å¼å¯èƒ½ä¸æ”¯æŒï¼Œæˆ–è€…ä¹Ÿå¯èƒ½æ˜¯æˆ‘æ²¡æœ‰æ‰¾åˆ°ä½¿ç”¨æ–¹æ³•ã€‚ä¸‹é¢è¿™å¼ è¡¨ç»™å‡ºäº†ä¸‰æ¬¾ APP å¯¹ä¸‰ç§åè®®çš„æ”¯æŒæƒ…å†µã€‚\nLAN/SMB FTP WebDAV ESæ–‡ä»¶æµè§ˆå™¨ YES YES NO MiXplorer YES YES YES X-plore YES NO YES ä¼ è¾“é€Ÿåº¦è¯„æµ‹ # ä¸ºäº†æ¯”è¾ƒä¸‰ä¸ª APP ä½¿ç”¨ä¸åŒä¼ è¾“æ–¹æ³•ä¼ è¾“é€Ÿåº¦çš„å·®å¼‚ï¼Œæˆ‘ä½¿ç”¨äº†äºŒç™¾å¤šå¼ æ€»å…±å¤§çº¦çº¦ä¸º27M çš„å›¾ç‰‡è¿›è¡Œæµ‹è¯•ï¼Œä¸‹å›¾æ˜¾ç¤ºäº†ä¸åŒåº”ç”¨åœ¨ä¸åŒä¼ è¾“åè®®ä¸‹çš„é€Ÿåº¦ï¼Œå·¦å›¾ä¸ºç”µè„‘åˆ°æ‰‹æœºç«¯ä¼ è¾“é€Ÿåº¦ï¼Œå³å›¾ä¸ºæ‰‹æœºç«¯åˆ°ç”µè„‘ç«¯çš„ä¼ è¾“é€Ÿåº¦ã€‚\n(çœ‹ä¸Šé¢çš„è¡¨æ ¼ï¼Œã€ŒMiXplorerã€æ”¯æŒ WebDAV, ä½†æ˜¯ä¸æ”¯æŒæ‰¹é‡ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ— æ³•æµ‹è¯•å…·ä½“çš„ä¼ è¾“é€Ÿåº¦ã€‚ã€ŒX-ploreã€ æ”¯æŒ WebDAV åè®®ï¼Œä½†æ˜¯ä¸Šå›¾åªç»™å‡ºäº†ç”µè„‘ç«¯åˆ°æ‰‹æœºç«¯çš„ä¼ è¾“é€Ÿåº¦ï¼Œå¹¶æœªç»™å‡ºæ‰‹æœºåˆ°ç”µè„‘çš„ä¼ è¾“é€Ÿåº¦ï¼ŒåŸå› æ˜¯ä½¿ç”¨ ã€ŒX-ploreã€ï¼Œä»æ‰‹æœºå¾€ç”µè„‘æ‰¹é‡ä¼ è¾“æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢«æ‰“åŒ…æˆå‹ç¼©æ–‡ä»¶å½¢å¼ï¼Œå› æ­¤ä¸å…·æœ‰å¯æ¯”æ€§ï¼Œä½†æ˜¯è¿™ç§ä¼ è¾“é€Ÿåº¦ç¡®å®å¾ˆé«˜ï¼Œæ˜¯ä¸‰ä¸ªè½¯ä»¶ä¸­æœ€é«˜çš„ï¼Œ27M çš„æ–‡ä»¶ï¼Œå‡ ä¹æ˜¯ç¬é—´å°±ä»æ‰‹æœºæ‰“åŒ…ä¸‹è½½åˆ°äº†ç”µè„‘ä¸Šã€‚)\næ ¹æ®ä¸Šå›¾ï¼Œä»ç”µè„‘åˆ°æ‰‹æœºç«¯ï¼Œä¼ è¾“é€Ÿåº¦æœ€å¿«çš„ä½¿ç”¨ LAN/SMB åè®®çš„ ã€ŒX-ploreã€ï¼Œä¼ è¾“é€Ÿåº¦å®æµ‹çº¦ä¸º 1.29M/s; ä»æ‰‹æœºç«¯åˆ°ç”µè„‘ç«¯ï¼Œå¦‚æœä¸è€ƒè™‘ä¸Šé¢æåˆ°çš„ ã€ŒX-ploreã€ åœ¨ä½¿ç”¨WebDAVåè®®æ—¶ï¼Œå¯ä»¥æ‰¹é‡å‹ç¼©æ–‡ä»¶ã€æ‰“åŒ…ä¸‹è½½ï¼Œé‚£ä¹ˆä¼ è¾“é€Ÿåº¦æœ€å¿«çš„æ˜¯ä½¿ç”¨ FTP ä¼ è¾“åè®®çš„ ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€ï¼Œé€Ÿåº¦çº¦ä¸º 728kb/sï¼Œå½“ç„¶å¦‚æœè€ƒè™‘ WebDAV åè®®ï¼Œæœ€å¿«çš„æ˜¯ ã€ŒX-ploreã€ã€‚\nç»“è¯­ # ã€ŒX-ploreã€ æ˜¯å…è´¹çš„è½¯ä»¶ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå¹¶ä¸”å ç”¨å­˜å‚¨æ¯”è¾ƒå°ï¼Œå¦å¤–ç»“åˆæ–‡ä»¶ä¼ è¾“æµ‹è¯•æ¥çœ‹ï¼Œã€ŒX-ploreã€ æ— ç–‘æ˜¯é€Ÿåº¦æœ€å¿«çš„ APPï¼Œå› æ­¤æˆ‘è§‰å¾— ã€ŒX-ploreã€ æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ å…¶æ¬¡æ˜¯ ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€å’Œ ã€ŒMiXploreã€ï¼Œå‰è€…è™½ç„¶åŠŸèƒ½æ›´å…¨ï¼Œä½†æ˜¯æœ‰å¹¿å‘Šï¼Œå¹¶ä¸”æœ‰ä¸€äº›æ— ç”¨çš„åŠŸèƒ½ï¼Œåè€…è™½ç„¶åŠŸèƒ½å°‘ä¸€äº›ï¼Œä½†æ˜¯éå¸¸è½»é‡åŒ–å’Œç®€æ´ã€‚\nå‚è€ƒ # è®¾ç½® LAN/SMBï¼Œ ä¸è¿‡åé¢çš„è®¾ç½®å®‰å…¨æƒé™ä»€ä¹ˆçš„ä¸æ˜¯å¿…éœ€çš„ ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€ä»‹ç»å¦‚ä½•è®¾ç½® LAN/SMB ã€ŒESæ–‡ä»¶æµè§ˆå™¨ã€ FTP æœåŠ¡å™¨è®¾ç½® MiXplorer å„ç§ä¼ è¾“åè®®çš„è®¾ç½® ","date":"26 March 2017","externalUrl":null,"permalink":"/2017/03/26/transfer-file-android-windows/","section":"Posts","summary":"\u003cp\u003eæœ€è¿‘æ¢äº†ä¸€å°æ–°çš„æ‰‹æœº OnePlus 3Tï¼Œè¿™ä¸ªæ‰‹æœºç®€æ´æ˜¯ç®€æ´ï¼Œé¢„è£…çš„åº”ç”¨éå¸¸å°‘ï¼Œè‡ªå¸¦çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ä¸æ˜¯å¾ˆå…¨ï¼Œæ‰€ä»¥æˆ‘ç ”ç©¶äº†ä¸€ä¸‹ Android ä¸Šå¸¸ç”¨çš„ä¸€äº›æ–‡ä»¶ç®¡ç† APPã€‚\u003c/p\u003e","title":"å¦‚ä½•ä½¿ç”¨ Android æ–‡ä»¶ç®¡ç†å™¨åœ¨ç”µè„‘ä¸æ‰‹æœºä¹‹é—´æ— çº¿ä¼ è¾“æ–‡ä»¶","type":"posts"},{"content":"è¿™ç¯‡æ–‡ç« é›†ä¸­å†™ä¸€äº›åœ¨ä½¿ç”¨ Sublime Text 3 æ—¶é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•ï¼ŒæŸäº›é—®é¢˜åœ¨ä¸ åŒç³»ç»Ÿçš„è§£å†³åŠæ³•å¯èƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æœªç»æµ‹è¯•ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™è¯·å…ˆéªŒè¯ã€‚\næ‰“å¼€ä¸­æ–‡æ–‡ä»¶ä¹±ç  [Windows, Linux] # å¦‚æœä¸­æ–‡æ–‡ä»¶æ˜¯ä½¿ç”¨çš„ GBK ç­‰ä¸­æ–‡ç‹¬æœ‰çš„ç¼–ç æ–¹å¼ ï¼Œè€Œä¸æ˜¯é€šç”¨çš„ UTF-8 ç¼–ç ï¼Œä½¿ç”¨ Sublime Text æ‰“å¼€ä»¥åä¼šå‘ç°æ–‡ä»¶æ˜¾ç¤ºä¹±ç ï¼Œå› ä¸º Sublime Text ç›®å‰ä¸ºæ­¢å¹¶ä¸åŸç”Ÿæ”¯æŒ GBK ç­‰ä¸­æ–‡ç¼–ç ã€‚ å¥½åœ¨æœ‰ä¸€æ¬¾ Sublime Text çš„æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è¿™æ¬¾æ’ ä»¶åå­—å« \u0026ldquo;ConvertToUTF8\u0026rdquo;ï¼Œ å®‰è£…å¥½ä»¥åæ‰“å¼€ä¸­æ–‡ç¼–ç æ–‡ä»¶å°±å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸º UTF-8 ç¼–ç ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å…³é—­æ–‡ä»¶ä»¥å ï¼Œè¿™ä¸ªåº“é»˜è®¤æŠŠ UTF-8 ç¼–ç å†è½¬ä¸ºè¯¥æ–‡ä»¶åˆå§‹ç¼–ç ï¼Œå¦‚æœä¸æƒ³è¦è¿™ç§è¡Œä¸ºï¼Œå¯ä»¥é€šè¿‡è®¾å®š \u0026quot;convert_on_save\u0026quot; : false æ¥å…³é—­è¿™é¡¹åŠŸèƒ½ã€‚ å¦‚æœä¸æƒ³ä¸‹è½½è¿™ä¸ªæ’ä»¶ï¼Œç”¨ç³»ç»Ÿè‡ªå¸¦çš„ è®°äº‹æœ¬æ‰“å¼€æ–‡ä»¶ï¼Œç„¶åå¦å­˜ä¸º UTF-8 ç¼–ç ä¹Ÿå¯ä»¥ã€‚\næ–°å»ºä¸€ä¸ª build systemï¼Œç¼–è¯‘è¿è¡Œ C++ æ–‡ä»¶[Linux, Windows] # Sublime Text 3 è‡ªå¸¦ CPP çš„ build systemï¼š \u0026ldquo;C++ Single File\u0026rdquo;ï¼Œä½†æ˜¯è¿™ä¸ª build system åªèƒ½ç¼–è¯‘ï¼Œä¸èƒ½ç›´æ¥è¿è¡Œç¼–è¯‘å¥½çš„ç¨‹åºï¼Œæ‰€ä»¥è¿è¡Œç®€å•çš„ CPP æ–‡ä»¶æœ‰ç‚¹éº»çƒ¦ï¼Œç¼– è¯‘å¥½ä»¥åï¼Œè¿˜éœ€è¦è‡ªå·±å» shell é‡Œé¢è¿è¡Œã€‚ æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªç®€å•çš„ build systemï¼Œå® ç°è‡ªå·±çš„éœ€æ±‚ï¼Œä¾æ¬¡ç‚¹å‡» \u0026ldquo;Tools\u0026ndash;\u0026gt;Build System\u0026ndash;\u0026gt;New Build System\u0026rdquo;ï¼Œä½¿ç”¨ä¸‹é¢çš„é… ç½®\n{ \u0026#34;cmd\u0026#34; : [\u0026#34;g++ -std=c++11 -Wall ${file_name} -o ${file_base_name} \u0026amp;\u0026amp; ./${file_base_name}\u0026#34;], \u0026#34;selector\u0026#34; : \u0026#34;source.c\u0026#34;, \u0026#34;shell\u0026#34;: true, \u0026#34;working_dir\u0026#34; : \u0026#34;$file_path\u0026#34; } å¦‚ä½•ä½¿ç¨‹åºç›´æ¥åœ¨ç³»ç»Ÿçš„ terminal æˆ–è€… console è¿è¡Œ # Sublime Text è¿è¡Œéœ€è¦ä» standard input (ä¸€èˆ¬æ¥è¯´å°±æ˜¯ console) è¾“å…¥æ•°æ®çš„ç¨‹åºæ—¶ ï¼Œè¯¥ç¨‹åºæ— æ³•æ­£å¸¸æ¥æ”¶è¾“å…¥ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥ç»™ç¼–è¯‘ C++ å¢åŠ ä¸€ä¸ªå¯é€‰ çš„æ–¹å¼ï¼ŒSublime Text é‡Œé¢ç§°ä¸º \u0026ldquo;variants\u0026rdquo;ï¼Œç„¶åæŒ‡å®šåœ¨ GUI terminal é‡Œé¢è¿è¡Œç¼–è¯‘ å¥½çš„æ–‡ä»¶ã€‚ Linux ç³»ç»Ÿä¸ Windows ç³»ç»Ÿè®¾ç½®ç¨æœ‰ä¸åŒã€‚\nLinux é…ç½® # å®Œæ•´çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹\n{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34;\u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;source.c++, source.cpp, source.cc, source.cxx\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Run in Terminal\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -std=c++11 -Wall \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}\\\u0026#34; \u0026amp;\u0026amp; xterm -e \u0026#39;${file_path}/${file_base_name} \u0026amp;\u0026amp; echo \u0026amp;\u0026amp; echo Press ENTER to continue \u0026amp;\u0026amp; read line \u0026amp;\u0026amp; exit\u0026#39;\u0026#34;, // \u0026#34;shell_cmd\u0026#34;: \u0026#34;gnome-terminal -e \u0026#39;bash -c \\\u0026#34;${file_path}/${file_base_name}\u0026amp;\u0026amp; echo \u0026amp;\u0026amp; echo Press ENTER to continue \u0026amp;\u0026amp; read line \u0026amp;\u0026amp; exit\\\u0026#34;\u0026#39;\u0026#34;, // for gnome-terminal // \u0026#34;shell_cmd\u0026#34;: \u0026#34;xterm -e \u0026#39;${file_path}/${file_base_name}; bash\u0026#39;\u0026#34;, // for xterm // \u0026#34;shell_cmd\u0026#34;: \u0026#34;xterm -hold -e ${file_path}/${file_base_name}\u0026#34;, // for xterm // \u0026#34;shell_cmd\u0026#34;: \u0026#34;konsole --hold -e ${file_path}/./${file_base_name}\u0026#34;, // for konsole \u0026#34;shell\u0026#34;: true, }, ] } ä¸Šè¿°é…ç½®æ–‡ä»¶æä¾›äº†é’ˆå¯¹ genome-terminal, xterm, Konsole çš„é…ç½®ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±æ­£åœ¨ ä½¿ç”¨çš„ GUI terminal é€‰æ‹©å¯¹åº”çš„é…ç½®ã€‚ ä¸Šè¿°é…ç½®è¿˜å¯ä»¥ä¿è¯ç¨‹åºåœ¨è¿è¡Œç»“æŸä»¥åï¼Œ terminal çš„çª—å£ä¸ä¼šç«‹å³å…³é—­ã€‚ å½“è¿è¡Œéœ€è¦ä» console è¾“å…¥æ•°æ®çš„ç¨‹åºæ—¶ï¼Œç›´æ¥ä½¿ç”¨ CTRL + SHIFT + B å¿«æ·é”®ï¼Œç„¶åé€‰æ‹© Run in Terminal é€‰é¡¹å³å¯ã€‚\nWindows é…ç½® # ä»¥ä¸Šçš„é…ç½®é’ˆå¯¹çš„ Linux ç³»ç»Ÿï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Windows ç³»ç»Ÿï¼Œæƒ…å†µä¼šç¨æœ‰ä¸åŒï¼Œä¸‹é¢ çš„é…ç½®æ˜¯é€‚ç”¨äº Windows çš„é…ç½®ï¼Œ\n{ \u0026#34;shell_cmd\u0026#34;: \u0026#34;g++ -Wall -std=c++11 \\\u0026#34;${file}\\\u0026#34; -o \\\u0026#34;${file_path}/${file_base_name}.exe\\\u0026#34;\u0026#34;, \u0026#34;file_regex\u0026#34;: \u0026#34;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${file_path}\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;source.c++\u0026#34;, \u0026#34;variants\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;Run\u0026#34;, \u0026#34;shell_cmd\u0026#34;:\u0026#34;\\\u0026#34;${file_path}/${file_base_name}\\\u0026#34;\u0026#34; }, { \u0026#34;name\u0026#34;: \u0026#34;Run in CMD\u0026#34;, \u0026#34;shell_cmd\u0026#34;: \u0026#34;start cmd /k $file_base_name \u0026#34; // \u0026#34;shell_cmd\u0026#34;: \u0026#34;start \\\u0026#34;$file_base_name\\\u0026#34; call $file_base_name\u0026#34; } ] } ä½¿ç”¨ CTRL + B æ¥ç¼–è¯‘æºä»£ç ï¼Œç„¶åä½¿ç”¨ CTRL + SHIFT + B æ¥é€‰æ‹©åœ¨ Sublime Text çš„ console è¿è¡Œè¿˜æ˜¯ç›´æ¥åœ¨ Windows CMD çª—å£è¿è¡Œï¼Œä¸Šè¿°çš„é…ç½®ä¹Ÿå¯ä»¥ä¿è¯ç¨‹åºè¿è¡Œä»¥ åï¼Œterminal çš„çª—å£ä¸ä¼šè‡ªåŠ¨å…³é—­ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹è¾“å‡ºç»“æœã€‚\nè¾“å…¥æ³•å›¾æ ‡ä¸è·Ÿéšè¾“å…¥å…‰æ ‡ # åœ¨ Sublime Text ä¸­ä½¿ç”¨ä¸­æ–‡æ—¶ï¼Œå‘ç°è¾“å…¥æ³•çš„å€™é€‰å­—çš„æ¡†ä¸è·Ÿéšè¾“å…¥å…‰æ ‡ï¼Œè¿™ä¸ª bug å®˜ æ–¹æ²¡æœ‰è§£å†³ï¼Œæœ‰ä¸€ä¸ªæ’ä»¶ IMESupport å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næ›´æ”¹ package çš„ user settingï¼Œä¿å­˜çš„æ—¶å€™ä¸€ç›´æç¤º \u0026ldquo;Unexpect trailing characters\u0026rdquo;[Windows, Linux] # å®‰è£…äº†ä¸€ä¸ª package ä»¥åï¼Œéœ€è¦è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ï¼Œç„¶åä¿å­˜è®¾ç½®çš„æ—¶å€™ä¸€ç›´æç¤ºé”™è¯¯ï¼Œé”™ è¯¯ä¿¡æ¯å¦‚ä¸‹\nError trying to parse settings: unexpected trailing characters\nè¿™ä¸ªåŸå› æ˜¯è¾“å…¥çš„ setting ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼Œæˆ‘çš„é—®é¢˜æ˜¯å¿˜è®°åœ¨ setting å¤–åŠ å¤§ æ‹¬å·äº†ã€‚ä¾‹å¦‚ä¸‹é¢çš„ setting å°±æ˜¯æœ‰é—®é¢˜çš„\n// Convert when previewing file: true or false \u0026#34;preview_action\u0026#34; : false, æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯\n{ // Convert when previewing file: true or false \u0026#34;preview_action\u0026#34; : false, } æ–°å»ºä¸€ä¸ª snippet [Windows, Linux] # æ‰€è°“ snippetï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œä½ ä¸ºè¿™ä¸ª snippet è®¾ç«‹ä¸€ä¸ªå…³é”®è¯ï¼Œå½“ä½ è¾“ å…¥å…³é”®è¯ä»¥åï¼Œå°±ä¼šæ¿€æ´»è¿™ä¸ª snippetï¼Œçœå»äº†é‡å¤è¾“å…¥çš„éº»çƒ¦ã€‚ åœ¨ç¼–å†™ C++ ç¨‹åºçš„æ—¶ å€™æ¯æ¬¡éƒ½éœ€è¦è¾“å…¥å¤´æ–‡ä»¶ï¼Œusing declarationï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥åˆ›ç«‹ä¸€ä¸ª snippetï¼Œå»ºç«‹ å¥½ CPP æ–‡ä»¶ä»¥åè¾“å…¥å…³é”®è¯ï¼Œè‡ªåŠ¨å¡«å……é¢„å®šä¹‰çš„æ¨¡æ¿ã€‚ å»ºç«‹æ–¹æ³•å¦‚ä¸‹ï¼Œä¾æ¬¡æ‰“å¼€Tools -\u0026gt; Developer -\u0026gt; New Snippet..., åœ¨ç”Ÿæˆçš„æ–‡ä»¶é‡Œå¡«å†™å¦‚ä¸‹å†…å®¹ï¼Œ\n\u0026lt;snippet\u0026gt; \u0026lt;content\u0026gt;\u0026lt;![CDATA[ #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;algorithm\u0026gt; using std::cout; using std::vector; using std::string; int main(){ return 0; } ]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;cpp\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;!-- \u0026lt;scope\u0026gt;source.python\u0026lt;/scope\u0026gt; --\u0026gt; \u0026lt;/snippet\u0026gt; ç„¶åç»™åˆ›å»ºçš„ snippet èµ·ä¸€ä¸ªåå­—ï¼Œå¦‚ C++_default_template.sublime-snippet, ç„¶ ååœ¨æ–‡ä»¶ä¸­è¾“å…¥ cppï¼Œå†ç‚¹å‡»Tabï¼Œå°±ä¼šç›´æ¥è¾“å…¥å¯¹åº”çš„ snippetã€‚\nå¦‚ä½•ç¼–è¾‘ Sublime Text è‡ªå¸¦çš„ build system [Windows, Linux] # åœ¨ Sublime Text ä¸­ï¼Œpackage éƒ½æ˜¯ä»¥ .sublime-package çš„å‹ç¼©æ–‡ä»¶å½¢å¼å­˜åœ¨ï¼Œä»¥ C++ build system ä¸ºä¾‹ï¼Œå¦‚æœè¦ç¼–è¾‘ Sublime Text è‡ªå¸¦çš„ C++ build systemï¼Œé¦–å…ˆè¦ å®‰è£… PackageResourceViewer ï¼Œç„¶åä½¿ç”¨ Ctrl+Shift+Pï¼Œæ‰“å¼€ Package Control çš„çª—å£ï¼Œè¾“å…¥ prv, é€‰æ‹© Open Resourceï¼Œç„¶åè¾“å…¥ C++ï¼Œå‘ä¸‹ç§»åŠ¨å…‰æ ‡ï¼Œé€‰æ‹© C++ Single File.sublime-buildï¼Œæ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼ŒæŒ‰ç…§è‡ªå·±æ„æ„¿ç¼–è¾‘ï¼Œç¼–è¾‘ä»¥åä¿å­˜å°± å¯ä»¥äº†ã€‚\nä½¿ç”¨ Package Control å®‰è£…æ’ä»¶çš„æ—¶å€™æç¤º â€œThere are no packages available for installationâ€[Windows, Linux] # é—®é¢˜å¦‚é¢˜æ‰€ç¤ºï¼Œé‡è£… Package Control è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ é¦–å…ˆï¼Œå¸è½½ Package Control ï¼Œç„¶åï¼Œé‡æ–°å®‰è£… Package Control ã€‚\nä½¿ç”¨ Ctrl + backtick æ— æ³•æ‰“å¼€ console[Windows, Linux] # Sublime Text é»˜è®¤æ‰“å¼€ console çš„å¿«æ·é”® (shortcut) æ˜¯ Ctrl+`ï¼Œä½†æ˜¯åœ¨æˆ‘çš„ç³»ç»Ÿä¸Šï¼ŒæŒ‰è¿™ä¸ªç»„åˆé”®ï¼Œæ²¡æœ‰ä»»ä½•ååº”ï¼Œ æ ¹æ® Stackoverflow ä¸Šçš„å›ç­” ï¼Œ ç‚¹å‡»æ‰“å¼€ consoleï¼Œç„¶åè¾“å…¥ sublime.log_input(True), ç›‘å¬æŒ‰é”®ï¼Œå‘ç°æŒ‰ä¸‹ Ctrl+` æ—¶ï¼ŒSublime å¹¶æœªè®°å½•åˆ°æŒ‰é”®ã€‚äºæ˜¯æ ¹æ®åˆ«äººçš„ç­”æ¡ˆï¼Œ è‡ªå·±è®¾ç½®äº†å¦å¤–ä¸€ä¸ªå¿«æ·é”®ç»„åˆ Ctrl+\u0026rsquo; æ¥æ‰“å¼€ console, åœ¨è‡ª å·±çš„ user key binding è®¾ç½®é‡Œé¢åŠ ä¸Šä¸€é¡¹ï¼š\n{ \u0026#34;keys\u0026#34;: [\u0026#34;ctrl+\u0026#39;\u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;show_panel\u0026#34;, \u0026#34;args\u0026#34;: {\u0026#34;panel\u0026#34;: \u0026#34;console\u0026#34;, \u0026#34;toggle\u0026#34;: true} }, å‚è€ƒ # Sublime Text è§£å†³ä¸­æ–‡ç¼–ç é—®é¢˜ ç¤ºä¾‹ build system build system ä¸­ä¸€äº›å…³é”®è¯è¿˜æœ‰å†…ç½®å˜é‡å«ä¹‰ è§£å†³è¾“å…¥æ³•ä¸è·Ÿéšå…‰æ ‡é—®é¢˜ Unexpected trailling characters è§£å†³åŠæ³• snippet çš„æ–‡æ¡£. Windowsï¼Œå¦‚ä½•ä½¿ç¨‹åºè¿è¡Œåçª—å£ä¸è‡ªåŠ¨å…³é—­ Windowsï¼Œé˜²æ­¢ç¨‹åºè¿è¡Œåçª—å£è‡ªåŠ¨å…³é—­ Windowsï¼Œé˜²æ­¢çª—å£å…³é—­å¦å¤–ä¸€ç§æ–¹æ³• ","date":"19 March 2017","externalUrl":null,"permalink":"/2017/03/19/windows-sublime-usage-related-issue/","section":"Posts","summary":"\u003cp\u003eè¿™ç¯‡æ–‡ç« é›†ä¸­å†™ä¸€äº›åœ¨ä½¿ç”¨ Sublime Text 3 æ—¶é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•ï¼ŒæŸäº›é—®é¢˜åœ¨ä¸\nåŒç³»ç»Ÿçš„è§£å†³åŠæ³•å¯èƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æœªç»æµ‹è¯•ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™è¯·å…ˆéªŒè¯ã€‚\u003c/p\u003e","title":"Sublime Text 3 ä½¿ç”¨ç›¸å…³é—®é¢˜åŠè§£å†³åŠæ³•","type":"posts"},{"content":"Loss functions are frequently used in supervised machine learning to minimize the differences between the predicted output of the model and the ground truth labels. In other words, it is used to measure how good our model can predict the true class of a sample from the dataset. Here I would like to list some frequently-used loss functions and give my intuitive explanation.\nCross Entropy Loss Cross Entropy Loss is usually used in classification problems. In essence, it is a measure of difference between the desired probablity distribution and the predicted probablity distribution. Suppose the classification is binary classification problem, the label are \\({0, 1}\\). Then the loss function for a single sample in the dataset is expressed as:\n\\[-y \\log(p)-(1-y) \\log(1-p)\\ ,\\]\nwhere \\(y\\) is the label of the sample, and \\(p\\) is the predicted probability of the sample belonging to class 1.\nFor \\(K\\)-class (\\(K \u0026gt;2\\) ) classification problems, the predicted probablity output for a single sample is a vector of length \\(K\\): \\([p_0, p_1, \\ldots, p_{K-1}]\\). The Cross Entropy Loss is extended as: \\[-log (p_k)\\ ,\\] where \\(k\\) is the ground truth label for the sample. If \\(p_k\\) equals 1, then there is no loss incurred for that sample.\nWe often see the term â€œSoftmax Lossâ€ in literature or blog post. In fact, there is no such thing as â€œSoftmax Lossâ€, as is discussed on this Quora post. Suppose the original prediction for a sample is \\([x_0, x_1, \\ldots, x_{K-1}]\\), we can get the normalized probablity \\([p_0, p_1, \\ldots, p_{K-1}]\\)ï¼Œ where we have:\n\\[p_k = \\frac{\\exp(x_k)}{\\sum_{i=0}^{K-1}\\exp(x_i)}\\ .\\]\nSo the Cross Entropy Loss really is:\n\\[-\\log \\frac{\\exp(x_k)}{\\sum_{i=0}^{K-1}\\exp(x_i)}\\ .\\]\nIn brief, the so-called Softmax Loss is just Softmax function followed by Cross Entropy Loss.\nContrastive Loss Contrastive Loss is often used in image retrieval tasks to learn discriminative features for images. During training, an image pair is fed into the model with their ground truth relationship \\(y\\): \\(y\\) equals 1 if the two images are similar and 0 otherwise. The loss function for a single pair is:\n\\[yd^2+(1-y)\\max (margin-d, 0)^2\\ ,\\]\nwhere \\(d\\) is the Euclidean distance between the two image features (suppose their features are \\(f_1\\) and \\(f_2\\)): \\(d = \\Vert f_1 - f_2\\Vert_2\\). The \\(margin\\) term is used to â€œtightenâ€ the constraint: if two images in a pair are dissimilar, then their distance shoud be at least \\(margin\\), or a loss will be incurred.\nTriplet Loss Triplet Loss is another loss commonly used in CNN-based image retrieval. During training process, an image triplet \\((I_a, I_n, I_p)\\) is fed into the model as a single sample, where \\(I_a\\), \\(I_n\\) and \\(I_p\\) represent the anchor, postive and negative images respectively. The idea behind is that distance between anchor and positive images should be smaller than that between anchor and negative images. The formal definition is:\n\\[\\max \\left( {\\Vert f_a- f_p \\Vert}^2 - {\\Vert f_a - f_n \\Vert}^2 + m, 0\\right)\\ .\\]\nIn the above equation, \\(m\\) is a margin term used to â€œstretchâ€ the distance differences between similar and dissimilar pair in the triplet, \\(f_a, f_p, f_n\\) are the feature embeddings for the anchor, postive and negative images.\nReferences Contrastive Loss Triplet Loss Cross Entropy Loss A lot more loss functions in machine learning ","date":"13 March 2017","externalUrl":null,"permalink":"/2017/03/13/some_loss_and_explanations/","section":"Posts","summary":"\u003cp\u003eLoss functions are frequently used in supervised machine learning to\nminimize the differences between the predicted output of the model and\nthe ground truth labels. In other words, it is used to measure how good\nour model can predict the true class of a sample from the dataset. Here\nI would like to list some frequently-used loss functions and give my\nintuitive explanation.\u003c/p\u003e","title":"Some Loss Functions and Their Intuitive Explanations","type":"posts"},{"content":"Today I found that compiling LaTeX source is insanely slow(took me several minutes to compile a simple file). After a lot of trial and error, I found the reason.\nThe problem description # I was trying to compile a tex file on my Windows 8.1 machine and observed that the compilation speed was insanely slow. I created a test file with only a few Chinese character and compiled it. The compilation time is around 1.15 minutes. At first, I thought it was probably due to the Chinese character. So I replaced the Chinese character with simple English words. After that, I recompiled the file, but found no noticeable speedup in compilation time. The follwing is my testing code:\n\\documentclass{article} \\usepackage{xeCJK} \\begin{document} æµ‹è¯• % change the Chinese character to English does not make a difference \\end{document} If I comment out \\usepackage{xeCJK}, the compilation process also sped up.\nThe solution # After some search on the Internet, I found a relevant post on the Stack Exchange. It turned out that it was caused by a new install of font. After a font is installed or removed, we should manually run fc-cache -f from command line to rebuild the TeX Live font cache. After this rebuilding process, compiling files with xelatex should be normal again.\nReferences # Discussion of this on the TeX Live mailing list ","date":"6 March 2017","externalUrl":null,"permalink":"/2017/03/06/windows-xelatex-slow/","section":"Posts","summary":"\u003cp\u003eToday I found that compiling LaTeX source is insanely slow(took me several\nminutes to compile a simple file). After a lot of trial and error, I found the\nreason.\u003c/p\u003e","title":"Why Did XeLaTeX Suddenly Run Insanely Slow?","type":"posts"},{"content":"å¼•å­ # ç”±äºå—ä¸äº† VSCode æ‰“å¼€æ–‡ä»¶çš„é¾Ÿé€Ÿï¼Œæˆ‘å†³å®šæ¢ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œä»¥å‰å°±å¤§è‡´äº†è§£æœ‰ä¸‰æ¬¾è¯„ä»·ä¸é”™çš„ç¼–è¾‘å™¨ï¼Œåˆ†åˆ«æ˜¯ GitHub Atom, Sublime Text 3 ä»¥åŠå¾®è½¯çš„ VSCodeã€‚\nè¿™ä¸‰ä¸ªç¼–è¾‘å™¨æˆ‘éƒ½ä½¿ç”¨è¿‡ï¼Œæ€»çš„æ„Ÿè§‰æ˜¯ Atom å’Œ Visual Studio Code æ‰“å¼€æ–‡ä»¶çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼ŒSublime Text æ‰“å¼€æ–‡ä»¶é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚Atom å’Œ Sublime Text ç”±äºæ¨å‡ºçš„æ¯”è¾ƒæ—©ï¼Œéƒ½æœ‰å¤§é‡çš„æ’ä»¶å¯ä»¥ä½¿ç”¨ï¼ŒVSCode ç›¸å¯¹æ¥è¯´æ’ä»¶å°‘ä¸€äº›ï¼Œç°åœ¨ä¹Ÿåœ¨è¿å¤´èµ¶ä¸Šã€‚è¿™ä¸‰ä¸ªäº§å“ï¼Œé™¤äº† Sublime Text æ˜¯ä»˜è´¹äº§å“1ï¼Œå…¶ä½™ä¸¤ä¸ªéƒ½æ˜¯å¼€æºæ‰˜ç®¡åœ¨GitHub. æˆ‘ä¹Ÿæ‰¾åˆ°äº†ä¸€ç¯‡å¯¹ä¸‰ä¸ªç¼–è¾‘å™¨çš„æœ€æ–°è¯„æµ‹ã€‚æœ€ç»ˆï¼Œç”±äºæˆ‘æ¯”è¾ƒåœ¨æ„æ‰“å¼€æ–‡ä»¶çš„é€Ÿåº¦ï¼Œæˆ‘å†³å®šä½¿ç”¨ Sublime Textã€‚ä»¥ä¸‹ä»‹ç»ä¸€äº›Markdown å†™ä½œä¸­å¸¸ç”¨çš„æ’ä»¶ã€‚\nMarkdown æ–‡ä»¶ç¼–è¾‘æ’ä»¶ MarkdownEditting # æ ¹æ®æ¨èï¼Œæˆ‘ä½¿ç”¨äº†MarkdownEditting è¿™æ¬¾æ’ä»¶ï¼Œè¿™æ¬¾æ’ä»¶æ”¯æŒ Markdown çš„å¤šç§ã€Œæ–¹è¨€ã€ï¼Œ æ”¯æŒå¿«æ·é”®æ’å…¥å¤šç§å¸¸ç”¨çš„Markdown æ ¼å¼æ¨¡ç‰ˆï¼Œéå¸¸æ–¹ä¾¿ã€‚\nå¸¸ç”¨çš„æŠ€å·§ # MarkdownEditting æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„ snippet ä»¥åŠå¿«æ·é”®ï¼Œç†Ÿç»ƒä½¿ç”¨è¿™äº›å¿«æ·æ“ä½œä¼šæå¤§æå‡è¾“å…¥ Markdown æ–‡æ¡£çš„é€Ÿåº¦ã€‚\nå¿«é€Ÿæ’å…¥ linkï¼Œimage link ä»¥åŠ code block æ¨¡æ¿ï¼Œåˆ†åˆ«è¾“å…¥ mdl, mdi ä»¥åŠ mdcï¼Œ ç„¶åæŒ‰ä¸‹ Tab, å¯¹åº”çš„æ¨¡æ¿å°±èƒ½å¿«é€Ÿç”Ÿæˆï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚\nå¿«é€ŸæŠŠå¤åˆ¶çš„ç½‘é¡µåœ°å€å˜æˆ inline linkï¼Œä½¿ç”¨å¿«æ·é”® Ctrl+Win+V2ã€‚\nå¿«é€ŸæŠŠå¤åˆ¶çš„åœ°å€å˜ä¸º inline imageï¼Œä½¿ç”¨å¿«æ·é”® Shift+Win+K\næ’å…¥ footnoteï¼Œä½¿ç”¨ Alt+Shift+6 å¿«é€Ÿæ’å…¥å„çº§æ ‡é¢˜ã€‚Markdown è¯­è¨€æä¾›äº†å…­çº§æ ‡é¢˜ï¼ŒMarkdownEditting æä¾›äº†å¯¹ 1ï¼Œ2ï¼Œ3 çº§æ ‡é¢˜çš„å¿«æ·è¾“å…¥æ”¯æŒï¼Œåˆ†åˆ«è¾“å…¥ mdh1 åˆ° mdh3ï¼Œç„¶åæŒ‰ Tabï¼Œå³å¯ç”Ÿæˆå¯¹åº”çº§åˆ«çš„æ ‡é¢˜æ¨¡æ¿ã€‚ å¦‚æœè¦æŠŠæŸæ®µæ–‡å­—å˜ä¸ºæ ‡é¢˜æˆ–è€…æƒ³è¦æ›´æ”¹æŸä¸ªæ ‡é¢˜çš„çº§åˆ«ï¼Œé¦–å…ˆé€‰ä¸­è¯¥æ®µæ–‡å­—ï¼Œç„¶åæŒ‰ä¸‹ Ctrl+NUMï¼Œ NUM ä»£è¡¨æ ‡é¢˜çº§åˆ« ã€‚\nMarkdown ä¸»é¢˜ # ä» Sublime Text çš„ package control ç½‘ç«™å‘ç°äº† Boxy Theme, è¯¥ä¸»é¢˜æä¾›çš„ Boxy Monokai color scheme æ¸²æŸ“å‡ºçš„ Markdown æ–‡æ¡£æ˜¾ç¤ºæ•ˆæœæ›´å¥½ï¼Œæ¨èä½¿ç”¨ã€‚\nä¸º Markdown æ–‡ä»¶è®¾å®šé»˜è®¤çš„è¯­æ³•é«˜äº® # å‘ç°æ¯æ¬¡æ‰“å¼€æ–°çš„ *.md æ–‡ä»¶æ—¶ï¼Œé»˜è®¤çš„è¯­æ³•é«˜äº®å¹¶ä¸æ˜¯ MarkdownEditting, å¯ä»¥é€šè¿‡ç‚¹å‡»èœå•æ , View-\u0026gt;Syntax-\u0026gt;Open all with current extension as ... æ¥é€‰æ‹© MarkdownEditting æ”¯æŒçš„ä¸€ç§è¯­æ³•, è¿™æ ·ä»¥åæ‰“å¼€ä»¥ md ä½œä¸ºåç¼€çš„æ–‡ä»¶ï¼Œé»˜è®¤æ¸²æŸ“è¯­æ³•å°±æ˜¯ MarkdownEdittingã€‚\nMarkdown é¢„è§ˆæ’ä»¶ Markdown Preview # é¢„è§ˆ Markdown æ–‡ä»¶çš„æ•ˆæœæˆ‘é€‰ç”¨äº† Markdown Previewã€‚å®‰è£…æ’ä»¶ä»¥åï¼Œä½¿ç”¨å¿«æ·é”® Ctrl + Shift + M å¯ä»¥åœ¨æµè§ˆå™¨é¢„è§ˆå½“å‰æ–‡ä»¶ç”Ÿæˆ html ä»¥åçš„æ•ˆæœï¼ŒMarkdown Preview æ”¯æŒä¸¤ä¸ª parser: github ä»¥åŠ markdownï¼Œæ‰€ä»¥æ¯æ¬¡é¢„è§ˆçš„æ—¶å€™éƒ½ä¼šå¼¹å‡ºä¸€ä¸ªå°çª—å£ï¼Œè®©ä½ é€‰æ‹©ä½¿ç”¨å“ªä¸ª paser è½¬æ¢ md æ–‡ä»¶ï¼Œæ¯”è¾ƒçƒ¦ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® Markdown Preview çš„ user setting ä¸­çš„\n\u0026#34;enabled_parsers\u0026#34;: [\u0026#34;markdown\u0026#34;], é»˜è®¤ä½¿ç”¨ markdown parserï¼Œè¿™æ ·æ¯æ¬¡ä½¿ç”¨å¿«æ·é”®é¢„è§ˆï¼Œå°±ä¸ä¼šå¼¹å‡ºå¼¹çª—æç¤ºï¼Œè®©ä½ é€‰æ‹© parser äº†ã€‚\nLiveReload çš„ä½¿ç”¨ # Markdown Preview å¯ä»¥åœ¨æµè§ˆå™¨é¢„è§ˆ Markdown æ–‡ä»¶ç”Ÿæˆçš„ html æ•ˆæœï¼Œå¦‚æœå½“å‰æ­£åœ¨ç¼–è¾‘çš„ Markdown æ–‡ä»¶ä¿®æ”¹ä»¥åï¼Œè¦é¢„è§ˆä¿®æ”¹åçš„æ•ˆæœï¼Œå¿…é¡»æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨ï¼Œæ¯”è¾ƒç¹çã€‚LiveReload å¯ä»¥è‡ªåŠ¨åˆ·æ–°ç½‘é¡µï¼Œå…å»äº†æ‰‹åŠ¨åˆ·æ–°ä¹‹è‹¦ã€‚\nå¯ä»¥ä½¿ç”¨ Package Control å®‰è£…LiveReload, ç›´æ¥ä½¿ç”¨ livereload å…³é”®è¯æœç´¢å®‰è£…å³å¯ã€‚ å®‰è£…ä»¥åï¼Œåœ¨ LiveReloadçš„ user setting é‡Œé¢åŠ ä¸Šå¦‚ä¸‹è®¾ç½®ï¼š\n{ \u0026#34;enabled_plugins\u0026#34;: [ \u0026#34;SimpleReloadPlugin\u0026#34; ] } ä½¿ç”¨ Ctrl + Shift + M åœ¨æµè§ˆå™¨é¢„è§ˆç”Ÿæˆçš„ html æ–‡ä»¶ï¼Œç»§ç»­ç¼–è¾‘ Markdown æ–‡ä»¶ï¼Œä¿å­˜ï¼Œä½ ä¼šå‘ç°æµè§ˆå™¨çš„ html æ–‡ä»¶ä¹Ÿéšä¹‹è‡ªåŠ¨æ›´æ–°ã€‚ å‚è€ƒäº† è¿™é‡Œ çš„è®¾ç½®ã€‚\næ›´æ”¹ Sublime Text çš„æ˜¾ç¤ºå­—ä½“ # å‚è€ƒç½‘ä¸Šçš„å»ºè®®ï¼Œé€‰ç”¨äº† Source Code Pro è¿™æ¬¾å­—ä½“ï¼Œå®‰è£…å­—ä½“ä»¥åï¼Œåœ¨ Preferences ä¸‹çš„ Settings åŠ å…¥ä¸‹é¢çš„ User é…ç½®ï¼š\n\u0026#34;font_face\u0026#34;: \u0026#34;Source Code Pro\u0026#34;, å¦‚ä½•æŸ¥çœ‹å­—ä½“çš„åå­—ï¼Œå¯ä»¥å‚è€ƒ è¿™é‡Œã€‚\nå‘ç°äº†å¦å¤–ä¸€æ¬¾ä¸é”™çš„å…è´¹å­—ä½“ Space Monoï¼Œ æ˜¾ç¤ºæ•ˆæœæ›´å¥½ï¼Œæ¨èä½¿ç”¨ã€‚\nå¢åŠ ä¸€ä¸ªæ’å…¥å›¾ç‰‡çš„ snippet # åœ¨å†™ä½œ Markdown çš„æ—¶å€™ï¼Œç»å¸¸ä¼šä½¿ç”¨åˆ°åŸå§‹çš„ HTML è¯­æ³•æ’å…¥å›¾ç‰‡ï¼Œå› æ­¤æƒ³å†™ä¸€ä¸ªsnippet ä½œä¸ºæ’å…¥å›¾ç‰‡çš„æ¨¡æ¿ä»£ç ï¼Œæ–¹ä¾¿æ’å…¥å›¾ç‰‡ï¼Œå…³äº snippet çš„ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼Œä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æ’å…¥ html å›¾ç‰‡çš„ snippet å¦‚ä¸‹ï¼š\n\u0026lt;snippet\u0026gt; \u0026lt;description\u0026gt;insert an image in html syntax\u0026lt;/description\u0026gt; \u0026lt;content\u0026gt; \u0026lt;![CDATA[\u0026lt;img src=\u0026#34;${1:image link}\u0026#34; title=\u0026#34;${2:image title}\u0026#34; style=\u0026#34;float: middle;\u0026#34; \u0026gt;]]\u0026gt;\u0026lt;/content\u0026gt; \u0026lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --\u0026gt; \u0026lt;tabTrigger\u0026gt;iimg\u0026lt;/tabTrigger\u0026gt; \u0026lt;!-- Optional: Set a scope to limit where the snippet will trigger --\u0026gt; \u0026lt;scope\u0026gt;text.html.markdown, text.html.markdown.multimarkdown\u0026lt;/scope\u0026gt; \u0026lt;/snippet\u0026gt; ä½¿ç”¨æ–¹æ³•ï¼šåœ¨éœ€è¦æ’å…¥å›¾ç‰‡çš„åœ°æ–¹ï¼Œè¾“å…¥ iimgï¼Œç„¶åæ•²å‡» Tabï¼Œé¢„è®¾çš„æ¨¡æ¿å°±ä¼šå‡ºç°ã€‚\næ›´æ–°å†å² # 2017-10-11: å¢åŠ äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„æ’å…¥å›¾ç‰‡ snippet çš„æ–¹æ³•ã€‚ 2017-12-14: å¢åŠ äº† MarkdownEditting ä½¿ç”¨ tipsã€‚ 2017-12-17: å¢åŠ äº† LiveReload çš„å®‰è£…ä½¿ç”¨æ–¹æ³•ã€‚ 2018-01-04: ä¿®æ”¹äº†ä¸€äº›é”™è¯¯ 2018-02-08: å¢åŠ äº†åœ¨ Windows 10 Fall Creator ä¸Šï¼Œä¿®æ”¹ inline å¿«æ·é”®çš„æ–¹æ³•ã€‚ å‚è€ƒ # Markdown æ’ä»¶å®‰è£…ä½¿ç”¨ v2ex ä¸Šå¯¹ç¼–ç¨‹å­—ä½“çš„ä»‹ç» ä¸ºæŸç§åç¼€åæ–‡ä»¶è®¾å®šé»˜è®¤çš„è¯­æ³•é«˜äº® Source Code Pro å­—ä½“å®‰è£…ä½¿ç”¨ Sublime Text package çš„åœ¨çº¿ä»“åº“ MarkdownEdit çš„ä¸€ä¸ª snippet create single image with tile in html syntax è™½ç„¶ Sublime Text æ˜¯ä»˜è´¹äº§å“ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥ä¸€ç›´è¯•ç”¨ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„ Windows 10 Fall Creator æ›´æ–°ï¼Œè¯¥å¿«æ·é”®ä¸å†æœ‰æ•ˆï¼Œå¯ä»¥ä½¿ç”¨ PackageResourceViewer æ‰“å¼€ MarkdownEditing æ’ä»¶ï¼Œç„¶åè¿›å…¥ MarkdownEditing åº“çš„ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°æ–‡ä»¶ Default (Windows).sublime-keymapï¼ŒæŠŠ ctrl+super+v æ¢æˆ ctrl+alt+vã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"4 March 2017","externalUrl":null,"permalink":"/2017/03/04/sublime-windows-markdown/","section":"Posts","summary":"\u003ch1 class=\"relative group\"\u003eå¼•å­ \n    \u003cdiv id=\"%E5%BC%95%E5%AD%90\" class=\"anchor\"\u003e\u003c/div\u003e\n    \n    \u003cspan\n        class=\"absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\"\u003e\n        \u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\"\n            style=\"text-decoration-line: none !important;\" href=\"#%E5%BC%95%E5%AD%90\" aria-label=\"Anchor\"\u003e#\u003c/a\u003e\n    \u003c/span\u003e        \n    \n\u003c/h1\u003e\n\u003cp\u003eç”±äºå—ä¸äº† VSCode æ‰“å¼€æ–‡ä»¶çš„é¾Ÿé€Ÿï¼Œæˆ‘å†³å®šæ¢ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œä»¥å‰å°±å¤§è‡´äº†è§£æœ‰ä¸‰æ¬¾è¯„ä»·ä¸é”™çš„ç¼–è¾‘å™¨ï¼Œåˆ†åˆ«æ˜¯ \u003ca href=\"https://atom.io/\" target=\"_blank\"\u003eGitHub Atom\u003c/a\u003e, \u003ca href=\"https://www.sublimetext.com/\" target=\"_blank\"\u003eSublime Text 3\u003c/a\u003e ä»¥åŠå¾®è½¯çš„ \u003ca href=\"https://code.visualstudio.com/\" target=\"_blank\"\u003eVSCode\u003c/a\u003eã€‚\u003c/p\u003e","title":"Sublime Text 3 Markdown å†™ä½œè®¾ç½®","type":"posts"},{"content":"I came across this amazing tool called Listary yesterday and found that it is just an amazing piece of software that will change my experience on Windows fundamentally!\nListary is a tool which facilitates tasks such as searching files and launching applications on your system and operating on them and more\u0026hellip; It is definitely better than Everything, another tools which is also used to search files. In my opinion, Listary is definitely the best among its kind.\nSearch files and applications # After installing and running Listary, you are ready to search literally everything in your computer and beyond. Listary has two working modes. The first one is called \u0026ldquo;File Manager Mode\u0026rdquo; and the second is called \u0026ldquo;Launcher Mode\u0026rdquo;. The two modes work differently.\nFile manager mode # The first mode takes effect once you open the File Explorer and it is mainly used to search files and folders. If you want to search a file under a particular directory, just type part of the name of that file. Listary will automatically list files matching the given name under that directory using regex. For example, I have a file named css_intro.html in F:\\source_code\\webpage. If I want to find that file, I just need to open the File Explorer and change to F:/ disk. Then I type css html, the Listary search bar appears at the lower right of the File Explorer window and the file with that name is shown at the top of the result list.\nYou can navigate up and down the list by pressing CTRL+P or CTRL+N. After a file or folder is selected, press CTRL+O to take actions on it.\nLauncher mode # The second mode is the full-featured mode where you can launch an application, open a file, search the web using a specific engine and more\u0026hellip; This mode is activated by pressing the CTRL key twice or press Win+G. Easy and convenient! After you activate this mode, a search bar will appear in the middle your screen and be ready to accept input. You can use Esc to dismiss it.\nLaunch an application # Launch an application by typing keywords whether or not it is on your system PATH. For example, if I want to launch the Foxmail application on my computer, I just need to type foxmail in the search bar. The Foxmail application appears at the top of returned results. Then I can launch Foxmail by simply pressing Enter.\nSearch a file and operate on it # This works similarly to search a file in \u0026ldquo;File manager mode\u0026rdquo;. After the file is located, you can take action on it by using the shortcut Ctrl+O which will bring up an action menu.\nSearch in the web or in the APP # Listary has built-in command for searching something through the search engine such as Google, Bing. It is located in Keywords -\u0026gt; Web panel (see image below),\nFor example, if you want to search \u0026ldquo;cat\u0026rdquo; using Google, just type gg cat in the Listary search bar.\nAdding custom search website keywords is also easy. See below for an example,\nOr you can search a word using a dictionary in your PC. Here, we use the famous open source software GoldenDict as an example, the settings are shown below:\nFiltering the result by path and file type # You can enable advanced search features by indicating file path and file type. In order to indicate a file path, simply append a trailing \\ to a character string.\nThere are six default file type filters (a string followed by a colon):\nfolder: Folder file: File doc: Document pic: Picture audio: Audio video: Video You can combine file path and file type filtering for quicker location of your files. For example, in order to find images with cat in their names in the f:\\ disk, simply use f:\\ pic: cat as the search query. The result shows up instantly!\nCreate a project # If you frequently open up a specific folder and do your work under that folder. You may create a project for it. Go to Options --\u0026gt; Projects and click the plus sign in lower left (see image below) and set up the project folder and keyword for open the project root directory.\nAfter the setting, we can search files or directories under that folder easily: just type the project keyword and give any file or folder names you want to open.\nMore questions? # If you encounter problems when you are using Listary, you can go to the Listary discussion forum for help. The developer of Listary are willing to answer usage-related questions about Listary.\nSupport copyright # Listary is free to evaluate indefinitely. If you can afford it, I think it is better to buy a licence to support the development of this excellent software.\nReferences # The Listary official documentation Awesome tools list for Windows (it is written in Chinese.) ","date":"1 March 2017","externalUrl":null,"permalink":"/2017/03/01/listary_intro/","section":"Posts","summary":"\u003cp\u003eI came across this amazing tool called \u003ca href=\"http://www.listary.com/\" target=\"_blank\"\u003eListary\u003c/a\u003e\nyesterday and found that it is just an amazing piece of software that will\nchange my experience on Windows fundamentally!\u003c/p\u003e","title":"An Introduction to Listary: A Blazing Fast Search Tool","type":"posts"},{"content":"æœ¬æ–‡ä¸»è¦æ€»ç»“ Hexo åšå®¢ä½¿ç”¨ï¼Œåšå®¢å†™ä½œä»¥åŠæ›´æ–° Hexo å’Œ NexT ä¸»é¢˜çš„å†…å®¹ã€‚å…³äºå¦‚ä½•å®‰è£…é…ç½® Hexo å’Œ NexT ä¸»é¢˜ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚\nåšå®¢ä½¿ç”¨ç›¸å…³é—®é¢˜ # åšå®¢é¡¶éƒ¨çš„èœå•çš„è¯­è¨€åœ¨è‹±è¯­ä¸å¾·è¯­ä¹±è·³ # è¿™ä¸ªæ˜¯ç”±äºåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶æ²¡æœ‰æŒ‡å®šè¯­è¨€ï¼ŒæŒ‡å®šè¯­è¨€ä¸º en å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ ã€‚\nlanguage: en å¦‚æœæƒ³åœ¨èœå•æ æ˜¾ç¤ºæ±‰å­—,é‚£ä¹ˆè¯­è¨€å°±æŒ‡å®šä¸º zh-Hansï¼Œå‚è€ƒäº†è¿™ä¸ªç­”æ¡ˆã€‚\næ·»åŠ  sitemap.xml åˆ°è°·æ­Œæœç´¢å¼•æ“ # é¦–å…ˆæŒ‰ç…§åšå®¢ä¸€ç»™å‡ºçš„æ­¥éª¤ç”Ÿæˆæ­£ç¡®çš„ sitemap.xml æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ç”Ÿæˆçš„ sitemap.xmlæ–‡ä»¶é‡Œé¢éƒ½æ˜¯ yousite.com è¿™ç§æ ¼å¼ï¼ŒåŸå› å¾ˆç®€å•ï¼Œå› ä¸ºæ²¡æœ‰åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶é‡ŒæŠŠåšå®¢çš„URL æ”¹æˆè‡ªå·±çš„å®é™…åœ°å€(è§ä¸‹é¢çš„ä»£ç )ï¼ŒæŠŠ url æ”¹æˆè‡ªå·±åšå®¢çš„åœ°å€ï¼Œå†ç”Ÿæˆä¸€éå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚\nurl: https://jdhao.github.io ç”Ÿæˆ sitemap.xml ä»¥åï¼Œéœ€è¦éªŒè¯è‡ªå·±çš„ç½‘ç«™(ä¹Ÿå°±æ˜¯è¯æ˜ç½‘ç«™æ˜¯ä½ çš„)ï¼Œç»§ç»­å‚è€ƒåšå®¢ä¸€çš„æ–¹æ³•(æœ‰çš„åšå®¢ä¸Šæåˆ°çš„æ–¹æ³•å±äºè¿‡å»å¼ï¼Œè­¬å¦‚åšå®¢äºŒç¬¬ä¸‰æ­¥ä¸­æåˆ°çš„æ‰‹åŠ¨æ·»åŠ éªŒè¯çš„æ–¹æ³•å¯¹äº NexT ä¸»é¢˜å·²ç»ä¸å†éœ€è¦ï¼Œé‚£ç¯‡åšæ–‡çš„åå­—å« ã€Œï½œHexoä¼˜åŒ–ï½œå¦‚ä½•å‘googleæäº¤sitemapï¼ˆè¯¦ç»†ï¼‰ã€)ã€‚éªŒè¯ç½‘ç«™ä»¥åï¼Œå°±å¯ä»¥æ·»åŠ  sitemap.xml åˆ°è°·æ­Œäº†ï¼Œè¿™ä¸€æ­¥å‚è€ƒåšå®¢äºŒä¸­åšæ–‡ä»ç¬¬å››æ­¥å¼€å§‹çš„å†…å®¹ã€‚\nè¿™ä¸€éƒ¨åˆ†è¿˜å‚è€ƒäº†åšå®¢ä¸‰ï¼ŒåŠ å…¥äº†robots.txt æ–‡ä»¶ï¼Œä¸è¿‡æˆ‘æ²¡æœ‰è®¾ç½®ç™¾åº¦çš„ sitemapã€‚\næ›´æ”¹äº† NexT ä¸»é¢˜ï¼Œéƒ¨ç½²ä»¥åå‘ç°æ›´æ”¹æœªç”Ÿæ•ˆ # ä½¿ç”¨ hexo s -g æœ¬åœ°é¢„è§ˆç½‘é¡µæ²¡é—®é¢˜ï¼Œéƒ¨ç½²ä»¥åå‘ç°ä¸»é¢˜æ²¡æœ‰æ”¹å˜ï¼Œè§£å†³åŠæ³•æ˜¯å…ˆä½¿ç”¨hexo cleanï¼Œå¹¶ä¸”åˆ é™¤ blog ç›®å½•ä¸‹çš„ .deploy_git ç›®å½•ï¼Œé‡æ–°éƒ¨ç½²ï¼Œç„¶åæ‰“å¼€åšå®¢ç½‘é¡µï¼ŒæŒ‰ CTRL+F5ï¼Œå¼ºåˆ¶åˆ·æ–°ï¼Œæ›´æ–°èµ„æºï¼Œç„¶åå°±èƒ½çœ‹åˆ°æ›´æ–°ä»¥åçš„ä¸»é¢˜äº†ã€‚\nç‚¹å‡»æŸä¸ªæ ‡é¢˜ï¼Œç”ŸæˆæŒ‡å‘è¯¥æ ‡é¢˜çš„ URL # å¾ˆå¤šç½‘é¡µéƒ½ä½¿ç”¨ named anchoråŠŸèƒ½ï¼Œå½“ç‚¹å‡»ç›®å½•ä¸­çš„æŸä¸ªæ ‡é¢˜çš„é¢˜ç›®ï¼Œå°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°è¯¥æ ‡é¢˜åœ¨ç½‘é¡µä¸­ä½ç½®ï¼Œå¹¶ä¸”æµè§ˆå™¨åœ°å€æ éšä¹‹æ”¹å˜ï¼ŒURL å¢åŠ äº† #header_name éƒ¨åˆ†ï¼Œå¦‚æœæƒ³è¦æ‰“å¼€è¯¥åšæ–‡çš„æ—¶å€™è‡ªåŠ¨åˆ°è¾¾è¯¥æ ‡é¢˜å¯¹åº”çš„ä½ç½®ï¼Œè€Œä¸æ˜¯åˆ°è¾¾è¯¥é¡µé¢çš„é¡¶ç«¯ï¼Œåªéœ€è¦ä½¿ç”¨è¿™ä¸ªæ–°çš„ URL å³å¯ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥é€šè¿‡æ›¿æ¢ Hexo è‡ªå¸¦çš„ renderer å®ç°ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™é‡Œï¼Œä¸å†å¤šè¯´ã€‚è®¾ç½®å®Œæˆä»¥åï¼Œé¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ªæ ‡é¢˜æœ€å³è¾¹ï¼Œå¯ä»¥çœ‹åˆ°ã€ŒÂ¶ã€ã€‚æ•ˆæœå¦‚ä¸‹å›¾\nç‚¹å‡»å®ƒï¼Œå¯ä»¥çœ‹åˆ° URL å‘ç”Ÿæ”¹å˜ï¼Œå¦‚ä¸‹å›¾\næ›´æ”¹ä¸€ç¯‡ post çš„ categories æˆ–è€… tags çš„å¤§å°å†™ï¼Œéƒ¨ç½²ä»¥åå‘ç°æ›´æ”¹æ— æ•ˆ # å†™å¥½ä¸€ç¯‡ postï¼Œéƒ¨ç½²ä»¥åï¼Œæƒ³è¦æ›´æ”¹ categories æˆ–è€… tags çš„å¤§å°å†™ï¼Œæ›´æ”¹ä»¥åï¼Œå†æ¬¡éƒ¨ç½²ï¼Œæ‰“å¼€åšå®¢çš„ categories é¡µé¢ï¼Œå‘ç°æ›´æ”¹æ˜¯ç”Ÿæ•ˆçš„ï¼Œä½†æ˜¯ç‚¹å‡»åˆšæ‰æ›´æ”¹åå­—å¤§å°å†™çš„ç±»åˆ«ï¼Œä½ ä¼šå¾—åˆ° 404 not found error ã€‚è¿™ä¸ªé—®é¢˜æ˜¯ç”±äºåœ¨ case-insensitive ç³»ç»Ÿä¸Š (è­¬å¦‚ Windows å’Œ Mac OSX)ï¼Œgit ä¼šå¿½ç•¥å¯¹æ–‡ä»¶æˆ–è€…ç›®å½•å¤§å°å†™çš„æ›´æ”¹ï¼Œhexo æš‚æ—¶è¿˜æœªä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå…·ä½“çš„ workaround å¯ä»¥å‚è§è¿™é‡Œã€‚\nåœ¨åšæ–‡ä¸­å¢åŠ æ–‡ä»¶çš„ä¸‹è½½é“¾æ¥ # å¯ä»¥åœ¨ source ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç›®å½•æ¥å­˜æ”¾ä½ çš„æ–‡ä»¶ï¼Œä¾‹å¦‚å¯ä»¥åˆ›å»º source/files/ ç›®å½•ï¼Œç„¶åæŠŠæ–‡ä»¶æ”¾åœ¨è¯¥ç›®å½•ä¸‹é¢ï¼Œå‡è®¾æ–‡ä»¶åç§°ä¸º test.pdfï¼Œåœ¨åšæ–‡ä¸­éœ€è¦å¼•ç”¨è¯¥æ–‡ä»¶çš„åœ°æ–¹ï¼Œç›´æ¥ä½¿ç”¨ä»¥ä¸‹ Markdown ä»£ç å³å¯\n[ç‚¹å‡»è¿™é‡Œä¸‹è½½æ–‡ä»¶](/files/test.pdf) æ›´è¯¦ç»†çš„è®¨è®ºï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚\nä½¿ç”¨ Hexo è¾“å…¥ LaTeX å…¬å¼é‡åˆ°çš„å¥‡æ€ª bug # ä½¿ç”¨ Hexo è¾“å…¥å…¬å¼çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„ bugï¼Œæç¤ºçš„é”™è¯¯ä¿¡æ¯æ˜¯ï¼š\nFATAL Something\u0026rsquo;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html Template render error: (unknown path) [Line 1, Column 10] expected variable end\nç»è¿‡æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†å¯¹è¿™ä¸ª bug çš„ä¸€ä¸ªè¯´æ˜ï¼Œå‚è§è¿™é‡Œï¼ŒåŒæ—¶ä¹Ÿæ„Ÿè°¢æè¿™ä¸ª issue çš„äººï¼Œä»–ä¹Ÿåœ¨è‡ªå·±çš„åšå®¢é‡Œæåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œèµèµè¿™ç§æ¢ç´¢ç²¾ç¥ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œå†™ LaTeX å…¬å¼çš„æ—¶å€™ï¼Œä¸¤ä¸ªèŠ±æ‹¬å· { ä¸èƒ½ç´§æŒ¨ç€ï¼Œä¸­é—´å¿…é¡»æœ‰ç©ºæ ¼éš”å¼€ï¼Œå¦åˆ™ä½¿ç”¨ hexo generate çš„æ—¶å€™å°±ä¼šå‡ºç°ä¸Šè¿°çš„é”™è¯¯æç¤ºä¿¡æ¯ã€‚å®˜æ–¹ç›®å‰è¿˜æ²¡æœ‰ä¿®å¤è¿™ä¸ª bugï¼Œå†™å…¬å¼çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ã€‚\nåšå®¢å†™ä½œç›¸å…³é—®é¢˜ # ç”Ÿæˆåšå®¢çš„æ—¶å€™é‡åˆ°ç¼–è¯‘é”™è¯¯ # ç”Ÿæˆåšå®¢çš„æ—¶å€™ï¼Œé‡åˆ°ä¸‹é¢çš„è·Ÿ YAML æœ‰å…³çš„é”™è¯¯æç¤ºï¼š\nYAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 5, column 1:\nè¿™ä¸ªåŸå› æ˜¯ YAML å¯¹æ ¼å¼æœ‰ä¸¥æ ¼è¦æ±‚ï¼Œkey åé¢çš„å†’å·å’Œ value ä¹‹é—´ä¹‹é—´ å¿…é¡»ç”¨ç©ºæ ¼éš”å¼€ï¼Œä¸èƒ½è¿èµ·æ¥å†™ï¼ŒåŠ ä¸Šç©ºæ ¼å³å¯è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nä¸€ç¯‡åšå®¢ä½¿ç”¨å¤šä¸ª categories å’Œ tags # å¦‚ä½•ç”Ÿæˆ tags å’Œ categories é¡µé¢ï¼Œå‚è€ƒè¿™ç¯‡ï¼Œç„¶åä¸€ç¯‡åšæ–‡å¦‚æœæƒ³è¦æŒ‡å®šå¤šä¸ª tagsï¼Œæˆ–è€…ä½¿ç”¨å¤šä¸ª categoriesï¼Œç›´æ¥è°·æ­Œ â€œhexo multiple tagsâ€ å°±èƒ½æ‰¾åˆ°ç­”æ¡ˆäº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ categories æ˜¯å±‚çº§ç»“æ„çš„ï¼Œå†™åœ¨åé¢çš„ category åå­—è¢«è®¤ä¸ºæ˜¯å‰ä¸€ç±»çš„å­ç±»ï¼Œä½†æ˜¯ tags æ²¡æœ‰å±‚çº§ç»“æ„ï¼Œå„ä¸ª tag ä¹‹é—´æ˜¯å¹³ç­‰çš„ã€‚\nå›¾ç‰‡ç›¸å…³ # ä½¿ç”¨äº‘å­˜å‚¨å­˜æ”¾å›¾ç‰‡ # å›¾ç‰‡å¯ä»¥æ”¾åˆ° D:/hexo/blog/source/_data ç›®å½•ä¸‹ï¼Œç„¶ååœ¨ Markdown æ–‡ä»¶ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ï¼Œä½†æ˜¯ç”±äºåšå®¢æ‰˜ç®¡åœ¨ Githubï¼Œä»“åº“å®¹é‡æœ‰é™åˆ¶ï¼Œå›¾ç‰‡æ•°é‡å¤šäº†ï¼Œä¼šå æ®ä¸å°çš„ç©ºé—´ï¼Œå› æ­¤æœ€å¥½é€‰æ‹©äº‘å­˜å‚¨æ¥å­˜æ”¾å›¾ç‰‡ã€‚æˆ‘ç”¨çš„æ˜¯ä¸ƒç‰›ï¼Œæœ‰ 10 G å…è´¹ç©ºé—´ï¼Œç”¨æ¥å­˜æ”¾å›¾ç‰‡åº”è¯¥è¶³å¤Ÿäº†ã€‚\nå¦‚ä½•å‘ä¸ƒç‰›äº‘å­˜å‚¨ä¸Šä¼ å›¾ç‰‡ # é¦–å…ˆæ–°å»ºä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œç„¶åç‚¹å‡»ã€Œå†…å®¹ç®¡ç†ã€ï¼Œç„¶åç‚¹å‡»ã€Œæ–‡ä»¶ä¸Šä¼ ã€å³å¯ã€‚å‚è€ƒçš„è¿™é‡Œã€‚é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œæ¯æ¬¡ä¸Šä¼ å›¾ç‰‡éƒ½è¦æ‰“å¼€ç½‘é¡µï¼Œç„¶åä¸Šä¼ æ–‡ä»¶ï¼Œæ‹·è´å›¾ç‰‡çš„å¤–é“¾ï¼Œå¤ªè€—è´¹æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ æç®€å›¾åºŠ æ¥åŠ å¿«è´´å›¾çš„é€Ÿåº¦ã€‚å®ƒè¿˜æä¾›äº† Chrome æµè§ˆå™¨çš„æ’ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿ä¸Šä¼ å›¾ç‰‡ã€‚ä¸Šä¼ å›¾ç‰‡éœ€è¦è®¾ç½®å¥½è‡ªå·±çš„ä¸ƒç‰›å¸å·ï¼Œè¿›å…¥æç®€å›¾åºŠçš„ä¸»ç•Œé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ â€œè®¾ç½®æŒ‰é’®â€ è¿›å…¥ä¸ƒç‰›äº‘å­˜å‚¨çš„è®¾ç½®ç•Œé¢ï¼Œå¦‚ä¸‹å›¾ï¼Œ\nç„¶åè¿›å…¥äº†å¦‚ä¸‹ç•Œé¢ï¼Œ\nå…·ä½“è®¾ç½®å¯ä»¥å‚è€ƒ å®˜æ–¹è¯´æ˜ã€‚\nå¦‚ä½•è®¾ç½®å›¾ç‰‡å¤§å° # æœ‰å¤šç§æ–¹æ³•å¯ä»¥å®ç°ï¼Œæœ€ç¬¨çš„åŠæ³•å°±æ˜¯äººå·¥ç¼©æ”¾åˆ°å…·ä½“å¤§å°ï¼Œï¼Œä¸ƒç‰›æœ¬èº«æä¾›äº†å¤šç§å›¾ç‰‡å¤„ç†æ–¹æ³•ï¼Œå…·ä½“å‚è§ä¸ƒç‰›å®˜æ–¹æ–‡æ¡£ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š\n\u0026lt;img src=\u0026#34;https://blog-resource-1257868508.file.myqcloud.com/file_transfer_speed_test.jpg\u0026#34; title=\u0026#34;ä¸åŒåº”ç”¨åœ¨ä¸åŒæƒ…å†µä¸‹çš„ä¼ è¾“é€Ÿåº¦\u0026#34; style=\u0026#34;float: middle;\u0026#34; \u0026gt; å¦‚ä½•å±…ä¸­å›¾ç‰‡ # ç›´æ¥ä½¿ç”¨ HTML çš„ \u0026lt;img\u0026gt; tag å³å¯ï¼Œä¾‹å¦‚ \u0026lt;img src=\u0026quot;some_img.jpg\u0026quot;\u0026gt;ã€‚åœ¨ç½‘ä¸Šè¿˜çœ‹åˆ°ä¸€ç§ä½¿ç”¨ \u0026lt;div\u0026gt; æ¥å±…ä¸­å›¾ç‰‡çš„æ–¹æ³•ï¼Œä½†æ˜¯å‘ç°ç”Ÿæˆçš„ç½‘é¡µä¸­å›¾ç‰‡ä¸ä¸Šä¸‹æ–‡é—´è·å¤ªå¤§ï¼Œé‚æ”¾å¼ƒã€‚\næ¢è¡Œä¸åˆ†æ®µæœ‰é—®é¢˜ # å†™å¥½æ–‡ç« ï¼Œé¢„è§ˆçš„æ—¶å€™ï¼Œå‘ç°æœ¬è¯¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸è¯¥åˆ†è¡Œçš„åœ°æ–¹çªç„¶åˆ†è¡Œäº†ï¼Œä¹Ÿå°±æ˜¯é¡µé¢ä¸Šä¸€è¡Œè¿˜æ²¡åˆ°å¤´ï¼Œå°±å¼€å§‹äº†ç¬¬äºŒè¡Œï¼Œå› æ­¤æ®µè½çš„æ’ç‰ˆæ˜¾å¾—éå¸¸ä¸‘ï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€åœˆå¥½åƒä¹Ÿæ²¡æœ‰æ‰¾åˆ°åˆ°åº•ä»€ä¹ˆåŸå› ã€‚åé¢çªç„¶æ„è¯†åˆ°ï¼ŒMarkdown æ–‡ä»¶ä¸ LaTeX æ–‡ä»¶ä¸åŒï¼Œå³ä½¿æ–‡å­—åœ¨ä¸€èµ·ï¼Œä¸­é—´æ²¡æœ‰ç©ºè¡Œï¼Œä¹Ÿä¸ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸€æ®µæ–‡ç« åœ¨å†™ *.md æ–‡ä»¶çš„æ—¶å€™åº”è¯¥æ˜¯ä¸€è¡Œï¼Œä¸åº”è¯¥äººä¸ºä½¿ç”¨å›è½¦åˆ†æ®µï¼Œå¦‚æœä½¿ç”¨äº†å›è½¦ï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆçš„ç½‘é¡µä¸­å¯¹åº”çš„ä½ç½®å°±ä¼šæœ‰ä¸€ä¸ªæ¢è¡Œã€‚\nåšå®¢é¦–é¡µè®¾ç½®ä¸ºæ˜¾ç¤ºæ¯ç¯‡åšæ–‡ä¸€éƒ¨åˆ†è€Œä¸æ˜¯å…¨æ–‡ # NexT å®˜æ–¹çš„æ¨èçš„æ–¹å¼æ˜¯åœ¨éœ€è¦æˆªæ–­çš„åœ°æ–¹ä½¿ç”¨ \u0026lt;!--more--\u0026gt;ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¦å¤–ä¸¤ç§æ–¹å¼ã€‚\nå¦‚ä½•åœ¨ä¸€ç¯‡åšæ–‡å¼•ç”¨å¦å¤–ä¸€ç¯‡åšæ–‡ # æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æ‰¾åˆ°è¦å¼•ç”¨çš„åšæ–‡å¯¹åº”çš„ç½‘é¡µåœ°å€ï¼ŒæŒ‰ç…§å¼•ç”¨æ™®é€šç½‘é¡µçš„æ–¹å¼å¼•ç”¨å³å¯ï¼Œå¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ Hexo æä¾›çš„ post link tag åŠŸèƒ½ï¼Œå¼•ç”¨æ–‡ç« ï¼Œå‡å¦‚æœ‰ä¸€ç¯‡æ–‡ç« çš„é¢˜ç›®æ˜¯hello_world.mdï¼Œé‚£ä¹ˆåœ¨åšæ–‡ä¸­å¼•ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š\n{% post_link hello_world %} å‚è€ƒè¿™é‡Œã€‚\nå¦‚ä½•åœ¨åšå®¢çš„é¢˜ç›®ä¸­ä½¿ç”¨å†’å· # å¦‚æœåšå®¢çš„é¢˜ç›®ï¼ˆtitleï¼‰åŒ…å«å†’å·ï¼Œåœ¨æ¸²æŸ“çš„æ—¶å€™å›å‡ºç°é—®é¢˜ï¼Œå› ä¸º YAML æ ¼å¼ä¸­å†’å·å±äºåˆ†éš” key å’Œ value çš„åˆ†éš”ç¬¦ï¼Œå¦‚æœéœ€è¦åœ¨é¢˜ç›®ä¸­ä½¿ç”¨å†’å·ï¼Œå¯ä»¥æŠŠé¢˜ç›®ç”¨å¼•å·åŒ…å›´ï¼Œå‚è§è¿™é‡Œã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼š\ntitle: \u0026#34;An Introduction to Listary: A Blazing Fast Search Tool\u0026#34; æ›´æ–° Hexo ä»¥åŠ NexT ä¸»é¢˜ # Update Hexo # Updating Hexo is easy. Go to your blog root (on my computer, it is D:\\hexo\\blog). Issue the following command:\nnpm install hexo Now check that your hexo is updated successfully by running\nhexo --version Update NexT # I followed the official guide on how to update NexT but without success. After doing what is instructed, I can not successfully generate the site.\nYou can try the brute-force way. Backup all your settings for the NexT theme, then remove the directory which contains the NexT theme. Then git clone the newest repo into your computer. After that, modify the theme configuration file based on your backup file. I think it is the most simple way. No bell and whistles.\nNexT development discontinued? # According to this post, the creator of NexT theme seems to have discontinued his maintenance of this repo. So one of the contributor (ivan-nginx) to this theme decide to create a new orgnization repo named hexo-theme-next and continue to update the theme there.\nä½¿ç”¨æ–°çš„ theme-next # æ­£å¦‚å‰é¢æ‰€è¯´ï¼ŒNexT çš„åŸå¼€å‘è€…ç”±äºæŸç§ä¸å¯çŸ¥åŸå› ï¼Œå·²ç»å¾ˆé•¿æ—¶é—´æ²¡æœ‰å¯¹ NexT repo commit è¿‡äº†ï¼Œæ‰€ä»¥å…¶ä»–å¼€å‘è€… fork äº† NexTï¼Œé‡æ–°å¼€äº†ä¸€ä¸ª repoã€‚ä»åŸ NexT è¿‡æ¸¡åˆ°ç°åœ¨çš„ NexT ç›¸å½“é¡ºç•…ï¼Œç›¸å½“äºé‡æ–°å®‰è£…äº†ä¸€ä¸ªæ–°çš„ä¸»é¢˜ï¼Œç›´æ¥æŠŠåŸä¸»é¢˜çš„é…ç½®æ‹·è´è¿‡å»å°±å¯ä»¥ï¼Œæ”¹åŠ¨å¾ˆå°ã€‚å…·ä½“å‚è§è¿™é‡Œçš„æ›´æ–°è¯´æ˜ã€‚\n","date":"26 February 2017","externalUrl":null,"permalink":"/2017/02/26/hexo-use-markdown-writing-issue/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ä¸»è¦æ€»ç»“ Hexo åšå®¢ä½¿ç”¨ï¼Œåšå®¢å†™ä½œä»¥åŠæ›´æ–° Hexo å’Œ NexT ä¸»é¢˜çš„å†…å®¹ã€‚å…³äºå¦‚ä½•å®‰è£…é…ç½® Hexo å’Œ NexT ä¸»é¢˜ï¼Œå¯ä»¥å‚è€ƒ\u003ca href=\"https://jdhao.github.io/2017/02/26/hexo-install-use-issue/\" target=\"_blank\"\u003eè¿™ç¯‡æ–‡ç« \u003c/a\u003eã€‚\u003c/p\u003e","title":"Hexo ä½¿ç”¨ï¼Œåšå®¢å†™ä½œç›¸å…³é—®é¢˜åŠè§£å†³æ–¹æ³•","type":"posts"},{"content":"In this post, I will describe the complete step to install both Hexo and theme NexT on Windows.\nInstall Hexo and deploy your post # First, we need to install the Hexo framework. The main steps are as follows:\nInstall Node.js and Cmder # We need to install Node.js and git for Windows. You can skip installing git for Windows if you choose to install Cmder(highly recommended on Windows). Choose the Full package if you decide to install Cmder (only the full package contains git for Windows).\nSet up the blog frame # Install the Hexo command line tool,\nnpm install -g hexo-cli Then, we need the build the frame of our blog. Go to a directory where you want to set up your blog, for example, d:/. Use the following command:\nhexo init hexo-blog cd hexo-blog npm install The above command will create a directory named hexo-blog and set up the frame of your blog.\nReplace the default renderer # This step is optional. But it is highly recommended.\nChange the default renderer shipped with Hexo. The renderer is used to translate your markdown file to HTML files. But it has weak functionality and does not support LaTeX style equations. We need to remove it first:\nhexo uninstall hexo-renderer-marked --save We can use the Pandoc renderer which is more powerful. Make sure that you have installed Pandoc , and then use the following command to install the Panodc renderer,\nhexo install hexo-renderer-pandoc --save Set up the GitHub pages # Set up your GitHub pages and choose to set up a user site (see image below). The name of the newly created repo must have the format username.github.io, where username is your GitHub user name. For me, the user name is jdhao.\nCreate website pages # This is discussed thoroughly in Official documentation. We are going to create 4 more pages for our blog site and they are tags, categories, archives and about page. Use the following command to create the 4 pages:\nhexo new page \u0026#34;tags\u0026#34; hexo new page \u0026#34;categories\u0026#34; hexo new page \u0026#34;archives\u0026#34; hexo new page \u0026#34;about\u0026#34; Write posts and preview your site # You can write your personal introduction in file source\\about\\index.md. In the command line, you can use\n`hexo new post \u0026#34;some_post\u0026#34;` to initialize a new template post named some-post.md, which is located in directory source\\_posts under the Hexo root directory.\nThe template post will only include a yaml format header, which is used to configure the post meta info. A sample header is shown below:\n--- title: How to Install Hexo and Theme NexT from Scratch on Windows date: 2017-02-26 15:52:00 +0800 lastmod: 2018-02-08 15:42:00 +0800 tags: [Markdown, NexT, Hexo, LaTeX] categories: [technique] --- Then you can write your post in this file using your favorite editor. After finishing your post, you can use hexo generate to generate your blog website locally.\nTo preview your blog website, you can use hexo server to set up a local http server. Then you can preview your website in the browser by using the local address localhost:4000.\nDeploy your blog # In order to deploy your blog to GitHub, you need to install the deployer,\nnpm install hexo-deployer-git --save Then we need to configure our GitHub user name and email. My configuration is as follows:\ngit config --global user.email \u0026#34;jdhao@hotmail.com\u0026#34; git config --global user.name \u0026#34;jdhao\u0026#34; Change the command above to suit your need. In the file hexo-blog\\_config.yml, we need to configure the address of your GitHub pages repo.\ndeploy: type: git repo: https://github.com/jdhao/jdhao.github.io branch: master You can use hexo d -g to generate and deploy your blog to GitHub. You will be prompted to input your email and password to confirm your identity. After that, your site will be deployed to GitHub. Anyone will be able to visit your blog.\nGenerate your ssh key # You can generate your ssh key to avoid inputting email and password every time. First, use the following command to generate your key,\nssh-keygen -t rsa -C \u0026#34;jdhao@hotmail.com\u0026#34; # please use your own email address The above command will generate two file: one (file name is id_rsa) for your private key and the other (file name is id_rsa.pub) for your public key. The files are located in C:/Users/jdhao/.ssh (look for something similar on your system). Open the file id_rsa.pub and add your public key to GitHub.\nAfter adding the public key, we need to confirm it is successfully configured:\nssh -T git@github.com You will see something like:\nThe authenticity of host \u0026lsquo;github.com (IP ADDRESS)\u0026rsquo; can\u0026rsquo;t be established. RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8. Are you sure you want to continue connecting (yes/no)?\nInput yes and press Enter, and you will see the following output:\nHi jdhao! You\u0026rsquo;ve successfully authenticated, but GitHub does not provide shell access.\nThis message will confirm that your setting is correct. You do not need to input your email and password from now on.\nNow, it is all set. You can start writing your posts.\nInstall NexT theme # Go to the blog root D:/hexo-blog and execute the following command to install the latest NexT theme,\ngit clone https://github.com/theme-next/hexo-theme-next themes/next-new NexT theme has its own configuration files, it is located in themes/next-new/_config.yml. You can customize as you wish. There are several plugins which is useful.\nEstimate post word count and read time. # The plugin hexo-symbols-count-time can be used to calculate the post word number and estimate your read time. Install this plugin\nnpm install hexo-symbols-count-time --save In the Hexo configuration file, use the following setting:\nsymbols_count_time: symbols: true time: true total_symbols: false total_time: false Local search # Install the plugin hexo-generator-searchdb to add the local search feature:\nnpm install hexo-generator-searchdb --save Edit the Hexo _config.yml file and add the following settings:\nsearch: path: search.xml field: post format: html limit: 10000 Also, you need to edit the theme Next configuration themes/next-new/_config.yml, and change the setting for local search,\nlocal_search: enable: true Compress your blog # Install the plugin hexo-filter-optimize to compress your blog,\nnpm install hexo-filter-optimize --save In the Hexo _config.yml file, add the following setting,\nfilter_optimize: enable: true # remove static resource query string # - like `?v=1.0.0` remove_query_string: true # remove the surrounding comments in each of the bundled files remove_comments: false css: enable: true # bundle loaded css file into the one bundle: true # use a script block to load css elements dynamically delivery: true # make specific css content inline into the html page # - only support the full path # - default is [\u0026#39;css/main.css\u0026#39;] inlines: excludes: js: # bundle loaded js file into the one bundle: true excludes: # set the priority of this plugin, # lower means it will be executed first, default is 10 priority: 12 After using this plugin, you may find some of the icons are not displayed correctly. This issue has been raised here. The solution is to edit the theme NexT configuration file and use custom CDN address for fontAwesome,\nfontawesome: https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css Show related posts # It would be nice to show related posts in the post page. Just install the hexo-related-popular-posts,\nnpm install hexo-related-popular-posts --save Use the following setting in the theme NexT configuration file,\nrelated_posts: enable: true title: Related posts display_in_home: false params: maxCount: 5 #PPMixingRate: 0.0 #isDate: false #isImage: false #isExcerpt: false Now, you have have finished all the configurations. Happy writing!\n","date":"26 February 2017","externalUrl":null,"permalink":"/2017/02/26/hexo-install-use-issue/","section":"Posts","summary":"In this post, I will describe the complete step to install both Hexo and theme NexT on Windows.\nInstall Hexo and deploy your post # First, we need to install the Hexo framework. The main steps are as follows:\nInstall Node.js and Cmder # We need to install Node.js and git for Windows. You can skip installing git for Windows if you choose to install Cmder(highly recommended on Windows). Choose the Full package if you decide to install Cmder (only the full package contains git for Windows).","title":"How to Install Hexo and Theme NexT from Scratch on Windows","type":"posts"},{"content":"1 æœˆ 26 æ—¥å¤§æ¸…æ—©èµ·åºŠèµ¶åˆ°åŒ—äº¬è¥¿ç«™ï¼Œåä¸Šäº†æ—©ä¸Šå…«ç‚¹åŠå·¦å³çš„ç«è½¦ï¼Œå‰å¾€æ­¦æ±‰ï¼Œæ™šä¸Šå¤§çº¦ä¸ƒç‚¹åŠåˆ°è¾¾æ­¦æ˜Œç«è½¦ç«™ã€‚åœ¨æ­¦æ±‰å‘†äº†æ•´æ•´ä¸€å‘¨ï¼Œ2 æœˆ 3 å·ä¸­åˆåè½¦å›çš„åŒ—äº¬ã€‚è°ˆè°ˆæˆ‘å¯¹æ­¦æ±‰çš„å°è±¡ã€‚\næ­¦æ±‰å°è±¡ # è¡—é“ # åœ¨æ­¦æ±‰çš„å‡ å¤©è¿˜ç®—å……å®ï¼Œåƒé¥­æ˜¯åœ¨çˆ¸çˆ¸æ‰€åœ¨çš„é¡¹ç›®çš„é£Ÿå ‚ï¼Œé¥­èœå‘³é“ä¸€èˆ¬ï¼Œæ¯é¡¿é¥­ä¸‰èœä¸€æ±¤ï¼Œå¾ˆä¸°ç››ï¼Œåªæ˜¯æ²¹å¤ªå¤šã€‚ç¬¬äºŒå¤©å’Œå“¥å“¥ä¸€èµ·å‡ºå»é€›äº†ä¸€ä¸‹ï¼Œå‘ä»–æ™®åŠäº†ä¸€ä¸‹æ‘©æ‹œå•è½¦çš„ä½¿ç”¨æ–¹æ³•ï¼Œä»–å¯¹æ–°äº‹ç‰©çš„å¾ˆçƒ­æƒ…ï¼Œç„¶åæˆ‘ä»¬ä¸€äººä¸€è¾†å°±å¼€éª‘äº†ï¼Œæ²¿ç€ä¸œæ¹–å—è·¯ï¼Œç»•ç€æ­¦å¤§çš„æ ¡å›­èµ°äº†ä¸€æ®µï¼Œç„¶ååˆéª‘å›ä½çš„åœ°æ–¹\u0026mdash;å…‰è°·å¹¿åœºï¼Œéª‘äº†äºŒåå‡ å…¬é‡Œã€‚\nåé¢æˆ‘å’Œå“¥å“¥ã€è¡¨å“¥ä¸€èµ·éª‘è½¦å»æ˜™åæ—é€›äº†ä¸€ä¸‹ï¼Œå‘ç°æ²¡å•¥æ„æ€ï¼Œåªæœ‰å¾ˆçŸ­çš„ä¸€æ¡è¡—ï¼Œè¡—è¾¹æœ‰ä¸€äº›æ–‡è‰ºé’å¹´å–œæ¬¢çš„å’–å•¡åº—ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·å§ï¼Œæˆ‘æ„Ÿè§‰å¾ˆå°´å°¬ï¼ŒæŠŠä»–ä»¬å¸¦è¿‡æ¥ï¼Œå‘ç°å…¶å®æ²¡æœ‰ä»€ä¹ˆå¯ä»¥ç©çš„ã€‚å¥½åœ¨æ˜™åæ—è·ç¦»æ­¦æ±‰æœ‰åçš„æˆ·éƒ¨å··å¾ˆè¿‘ï¼Œæˆ‘ä»¬ä¸€èµ·å»å°åƒè¡—é€›äº†ä¸€ä¸‹ï¼Œæ•´æ¡å°åƒè¡—éƒ½å–çš„æ˜¯å¾ˆé›·åŒçš„ä¸œè¥¿ï¼Œå‘³é“ä¹Ÿä¸æ€ä¹ˆå¥½ã€‚ç”±äºæ˜¯æ˜¥èŠ‚ï¼Œæ­¦æ±‰æœ‰åçš„å°åƒåº—ã€Œè”¡æ—è®°ã€çš„å…¶ä»–é—¨åº—å¤§éƒ¨åˆ†å…³é—¨äº†ï¼Œæˆ·éƒ¨å··ç”±äºæ—…æ¸¸çš„äººæ¯”è¾ƒå¤šï¼Œæ²¡æœ‰å…³é—¨ï¼Œæˆ‘ä»¬åœ¨é‚£é‡Œåƒäº†ä¸€æ¬¡ã€Œè”¡æ—è®°ã€çš„çƒ­å¹²é¢ã€‚\nåé¢æˆ‘è‡ªå·±ä¹Ÿéª‘è½¦å‡ºå»é€›äº†ä¸€ä¸‹ï¼Œéª‘äº†æ›´è¿œçš„è·¯ï¼Œç»•ç€çç‘œè·¯ä¸Šçš„åä¸­ç§‘å¤§éª‘åˆ°å…«ä¸€æ¡¥ï¼Œå†åˆ°ä¸œæ¹–å—è·¯ï¼Œæœ€åä¸€ç›´éª‘åˆ°äº†ä¸œæ¹–é£æ™¯åŒºï¼Œåå…¬äº¤å›å»çš„ã€‚é€šè¿‡å‡ æ¬¡çš„éª‘è¡Œï¼Œä¹Ÿæ„Ÿè§‰å‡ºæ­¦æ±‰é“è·¯çš„é—®é¢˜ï¼Œä¸€æ–¹é¢é“è·¯ä¸æ˜¯å¾ˆå¹³æ•´ï¼Œç»å¸¸æœ‰å‘å‘æ´¼æ´¼ã€éå¸¸ç ´æŸçš„è·¯é¢ï¼Œå¦å¤–å°±æ˜¯è‡ªè¡Œè½¦é“å¾ˆä¸å®Œå–„ï¼Œå¾ˆå¤šé“è·¯ç›´æ¥æ²¡æœ‰è‡ªè¡Œè½¦é“ï¼Œéª‘è‡ªè¡Œè½¦çš„ä½“éªŒå¾ˆä¸å¥½ã€‚è¿˜æœ‰ä¸€ä¸ªè®©äººå°è±¡ä¸å¥½çš„åœ°æ–¹ï¼Œå°±æ˜¯æ­¦æ±‰çš„è¡—é“é è¿‘è¡—è¾¹å•†åº—çš„éƒ¨åˆ†ç»å¸¸æœ‰å¾ˆå¤šæ²¹æ±¡ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯é¤å¨æ²¹æ±¡ï¼Œå³ä½¿æ˜¯åœ¨é è¿‘å…‰è°·å¹¿åœºçš„è¡—é“ï¼Œä¹Ÿèƒ½çœ‹åˆ°é»‘é»‘çš„æ²¾æ»¡æ²¹æ±¡çš„è¡—é¢ã€‚\næˆ‘ä»¬ä½çš„åœ°æ–¹å°±åœ¨å…‰è°·å¹¿åœºé™„è¿‘ï¼Œç”¨å›´æ å›´èµ·äº†ä¸€ç‰‡åœ°ï¼Œç„¶åæ”¾ç½®äº†ä¸¤æ’é“çš®é›†è£…ç®±æˆ¿å­ï¼Œä¸è¿‡è®¾æ–½è¿˜ç®—å®Œå–„ï¼Œæœ‰å•æ‰€ï¼Œæœ‰æ´—æ¾¡çš„åœ°æ–¹ï¼Œè¿˜æœ‰çƒ­æ°´æˆ¿ã€‚å¤§éƒ¨åˆ†äººéƒ½å›å®¶è¿‡å¹´äº†ï¼Œçˆ¸çˆ¸å®‰æ’æˆ‘ä½çš„æˆ¿é—´å°±æˆ‘ä¸€ä¸ªäººã€‚å…‰è°·å¹¿åœºæ˜¯å¥½å¤šæ¡è·¯çš„äº¤æ±‡åœ°ï¼Œå‘¨å›´ä¹Ÿç¹åï¼Œæœ‰ä¸‰å››ä¸ªå¤§å‹è´­ç‰©å¹¿åœºï¼Œè¿˜æœ‰ä¸€æ¡å…‰è°·æ­¥è¡Œè¡—ï¼Œæˆ‘ä»¬åƒå®Œé¥­å°±ç»å¸¸å»æ­¥è¡Œè¡—æ•£æ­¥ï¼Œè¿‡å¹´é‚£å‡ å¤©å¤§å¤šæ•°åº—é“ºéƒ½å…³é—¨äº†ï¼Œæ²¡æœ‰å¤ªå¤šå¯é€›çš„ã€‚æ­¥è¡Œè¡—é‡Œé¢çš„å¾ˆå¤šåº—é“ºï¼Œæ€»è®©äººæœ‰ä¸€ç§å±±å¯¨çš„æ„Ÿè§‰ï¼Œè¿™äº›åº—å¤§å¤šæ˜¯å–è¡£æœçš„ï¼Œä¸çŸ¥é“èƒ½å¦ç›ˆåˆ©ï¼Œæˆ‘ä¹Ÿç¡®å®çœ‹åˆ°äº†ä¸€äº›è½¬è®©å•†é“ºçš„å¹¿å‘Šã€‚è¿‡å¹´é‚£å‡ å¤©åœ¨æ­¥è¡Œè¡—è¿˜çœ‹åˆ°ä¸€ä¸ªç•™å­¦ç”Ÿï¼Œæ‘†äº†ä¸€ä¸ªå°æ‘Šä½ï¼Œåœ¨å–è‡ªå·±ç”¨æ²™åšæˆçš„ç«‹ä½“ç”»ï¼Œä¸Šå»äº¤æµäº†ä¸€ä¸‹ï¼Œä»–æ˜¯åœ¨åä¸­ç§‘å¤§è¯»ç ”ç©¶ç”Ÿï¼Œæ­¦æ±‰çš„ç•™å­¦ç”Ÿè¿˜æ˜¯æŒºå¤šçš„ã€‚å…‰è°·å¹¿åœºæ‰€åœ¨çš„åŒºåŸŸæ˜¯ä¸€ä¸ªå¤§å­¦åŸï¼Œæœ‰æ­¦æ±‰å¤§å­¦ï¼Œåä¸­ç§‘æŠ€å¤§å­¦ï¼Œåä¸­å¸ˆèŒƒå¤§å­¦ï¼Œæ­¦æ±‰ç†å·¥å¤§å­¦ï¼Œä¸­å›½åœ°è´¨å¤§å­¦(æ­¦æ±‰)ç­‰ï¼Œè¿˜æœ‰ä¸€äº›å°çš„ä¸“ç§‘ç±»çš„å¤§å­¦ï¼Œæ­¦å¤§æ ¡å›­æˆ‘æ²¡è¿›å»ï¼Œåç§‘å’Œçˆ¸å¦ˆè¿›å»ç¨å¾®å‚è§‚äº†ä¸€ä¸‹ï¼Œæ ‘æœ¨å¾ˆå¤šï¼Œç»¿åŒ–ä¸é”™ï¼Œæ ¡å›­çš„é¢ç§¯ä¹Ÿå¾ˆå¤§ã€‚\nå°åƒä¸é£æ™¯ # æ²¡æœ‰åˆ°ä¹‹å‰ï¼Œåœ¨ç½‘ä¸ŠæŸ¥çš„æ—¶å€™çœ‹åˆ°æœ‰å¾ˆå¤šæ¨èæ­¦æ±‰ç¾é£Ÿçš„å¸–å­ï¼Œçœ‹å¾—æˆ‘å¾ˆå‘å¾€ï¼Œåˆ°äº†æ­¦æ±‰ï¼Œæˆ‘å»åƒäº†çƒ­å¹²é¢ï¼Œåœ¨ ã€Œè”¡æ—è®°ã€åƒçš„ï¼Œæ„Ÿè§‰å‘³é“ä¹Ÿæ²¡æœ‰é‚£ä¹ˆæƒŠè‰³ï¼Œæˆ‘è¿˜åƒäº†ä¸‰é²œè±†çš®ï¼ŒçŒæ±¤åŒ…å­ï¼Œè±†çš®å‘³é“è¿˜å¯ä»¥ï¼Œä½†æ˜¯åŒ…å­å‘³é“å…¶å®ä¸€èˆ¬ã€‚\nå»äº†æˆ·éƒ¨å··ï¼Œä¹Ÿæ²¡å‘ç°ä»€ä¹ˆè®©äººç‰¹åˆ«æƒ³åƒçš„ä¸œè¥¿ï¼Œäº›å–çš„ä¸œè¥¿è®©æˆ‘æ²¡æœ‰å¤ªå¤§çš„é£Ÿæ¬²ã€‚åœ¨åƒçš„æ–¹é¢ï¼Œæˆ‘è§‰å¾—æ­¦æ±‰å®Œå…¨æ¯”ä¸ä¸Šè¥¿å®‰ã€‚æ¥ä¹‹å‰ä¹ŸæŸ¥äº†ä¸€äº›æ™¯ç‚¹ï¼Œæˆ‘å»äº†æ˜™åæ—ã€æˆ·éƒ¨å··ï¼Œä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæ˜™åæ—ç ´ç ´æ—§æ—§çš„ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ä»€ä¹ˆæ–‡è‰ºé£ï¼Œè€Œä¸”ç¦»æ˜™åæ—ä¸è¿œçš„åœ°æ–¹å°±æ˜¯åŸä¸­æ‘ä¸€æ ·çš„åœ°æ–¹ã€‚æˆ‘ä¸€ä¸ªäººéª‘è½¦å»äº†æ¹–åŒ—çœåšç‰©é¦†ï¼Œæ²¡è¿›å»ï¼Œä»å¤–é¢çœ‹ï¼Œè¿™ä¸ªåšç‰©é¦†å»ºçš„æ¯”è¾ƒéš¾çœ‹ï¼Œé¢œè‰²ä¹Ÿé€‰çš„ä¸å¥½ï¼Œæ˜¯é‚£ç§é’ç°è‰²ï¼Œç±»ä¼¼äºå†œæ‘çš„ç“¦ç‰‡çš„é¢œè‰²ï¼Œä¹Ÿéª‘è½¦éª‘åˆ°äº†ä¸œæ¹–é£æ™¯åŒºé‚£é‡Œï¼Œä¸è¿‡ä¹Ÿæ²¡è¿›å»ã€‚å’Œå¦ˆå¦ˆä¸€èµ·å»äº†é»é»„é™‚è·¯å’Œæ±‰å£æ±Ÿæ»©ï¼Œæ±‰å£æ±Ÿæ»©å°±æ˜¯å»ºåœ¨é•¿æ±Ÿè¾¹ä¸Šçš„å…¬å›­ï¼Œç‰¹åˆ«é•¿ï¼Œæœ‰å¥½å‡ å…¬é‡Œï¼Œæˆ‘ä»¬åœ¨é‚£é‡Œæ‹äº†å‡ å¼ ç…§ç‰‡ï¼Œå¯æƒœæ­¦æ±‰çš„é›¾éœ¾ä¹ŸæŒºä¸¥é‡ï¼Œæ‹å‡ºæ¥çš„ç…§ç‰‡ä¹Ÿæ˜¯ä¸€ç‰‡ç°è’™è’™ã€‚\né»é»„é™‚è·¯ç¦»æ±‰å£æ±Ÿæ»©ä¹Ÿä¸è¿œï¼Œæœ‰ä¸€äº›æ°‘å›½æ—¶ä»£çš„è€å»ºç­‘ï¼Œæˆ‘ä»¬å‚è§‚äº†ã€Œå®‹åº†é¾„æ•…å±…ã€ï¼Œã€Œå…«ä¸ƒä¼šè®®æ—§å€ã€ï¼Œæˆ‘ä¸€å‘ä¸å–œæ¬¢è¿™äº›æ™¯è§‚ï¼Œè‰è‰å‚è§‚äº†äº‹ã€‚æœ‰ä¸€äº›æ—§å»ºç­‘ä¿æŠ¤çš„å¾ˆå¥½ï¼Œçœ‹èµ·æ¥ä»ç„¶å¾ˆæ°”æ´¾ï¼Œå¦å¤–ä¸€äº›æ—§å»ºç­‘å¯èƒ½æ˜¯å› ä¸ºæœ‰äººä½ï¼Œæ²¾æŸ“äº†å¤ªå¤šçƒŸç«æ°”ï¼Œéƒ½å˜å¾—ç ´æ—§ä¸å ªï¼Œå·²ç»è¢«æ¸…ç©ºäº†ï¼Œæ®è¯´è¿™äº›å»ºç­‘ä¼šè¢«æ•´ä¿®ä¸€ä¸‹é‡æ–°å¼€æ”¾ã€‚\né—²è°ˆ # æˆ‘ä»¬åœ¨ä¸€èµ·æœ‰æ—¶å€™ä¹Ÿä¼šè°ˆè°ˆé—²è¯ï¼Œä¼šè°ˆåˆ°è€„ï¼Œæˆ‘å¦ˆæ˜¯è€„çš„ç²‰ä¸ï¼Œå¥¹çš„å†å²çŸ¥è¯†å°±æ˜¯é‚£äº›å®£ä¼ ææ–™ï¼Œå¥¹ç¿»æ¥è¦†å»è¯´çš„å°±æ˜¯é‚£ä¹ˆå‡ æ¡ï¼Œè€„ä¸ºäº†é©å‘½ï¼Œè‡ªå·±ä¸€å®¶å¥½å¤šäººç‰ºç‰²äº†ï¼Œè‡ªå·±çš„å„¿å­å²¸è‹±éƒ½é€åˆ°äº†æœé²œæˆ˜äº‰ï¼›è€„å¾ˆç®€æœ´ï¼ŒèŠ±çš„éƒ½æ˜¯è‡ªå·±çš„å·¥èµ„ä»¥åŠç¨¿è´¹ï¼›è€„å¾ˆå‰å®³ï¼Œå¸¦é¢†ä¸­å›½é©å‘½å–å¾—äº†æˆåŠŸï¼›å¥¹è¿˜è®¤ä¸ºè€„å’Œå‘¨çš„å…³ç³»å¾ˆå¥½ã€‚æˆ‘è·Ÿå¥¹è¯´è€„æœ‰ç‰¹ä¾›ï¼Œå¥¹ä¸ç›¸ä¿¡ï¼Œå¤§å®¶åªè¦ä¸€è·Ÿå¥¹è¯´è€„æ²¡æœ‰é‚£ä¹ˆå¥½çš„è¯ï¼Œå¥¹å°±å¾ˆç”Ÿæ°”ï¼Œè®¤ä¸ºæˆ‘ä»¬æ˜¯èƒ¡è¯´ï¼Œåšå®šåœ°è®¤ä¸ºå¥¹æ‰€ç†è§£çš„è€„æ˜¯çœŸæ­£çš„è€„ï¼Œæˆ‘åªå¥½ä¸å†è¯´è¯äº†ã€‚\nè¯»ä¹¦ # é™¤äº†é€›è¡—ï¼Œæˆ‘æŠŠåœ¨å»æ­¦æ±‰çš„ç«è½¦ä¸Šå¼€å§‹çœ‹çš„ã€Šå¤¹è¾¹æ²Ÿè®°äº‹ã€‹çœ‹å®Œäº†ï¼Œè¿™æ˜¯ä¸€éƒ¨å³æ´¾çš„è¡€æ³ªå²ï¼Œä»ä¸­èƒ½å¤Ÿäº†è§£åˆ°é‚£æ®µå†å²çš„ä¸€è§’ï¼Œç°åœ¨çš„å¹´è½»äººå¾ˆéš¾æƒ³è±¡ï¼Œæˆ‘ä»¬å›½å®¶æ›¾å‘ç”Ÿäº†å¦‚æ­¤è’è°¬å’Œæ‚²æƒ¨çš„äº‹æƒ…ï¼Œè€Œä¸”æ˜¯ä»¥å›½å®¶åä¹‰å‘ç”Ÿçš„å¤§èŒƒå›´çš„äº‹æƒ…ï¼Œè¿™ä¸€åˆ‡çš„èµ·æºï¼Œåˆ™æ˜¯å› ä¸ºæœ€é«˜é¢†å¯¼äººçš„ä¸ªäººç§å¿ƒä¸å®«å»·æ”¿æ²»è§’æ–—ã€‚\nçœ‹å®Œè¿™æœ¬ä¹¦ï¼Œæˆ‘å¯¹æ¨æ˜¾æƒ å…ˆç”Ÿçš„å…¶ä»–ä¹¦ä¹Ÿäº§ç”Ÿäº†å…´è¶£ï¼Œçœ‹äº†ä»–å†™çš„ã€Šå®šè¥¿å­¤å„¿é™¢çºªäº‹ã€‹ä»¥åŠã€Šç”˜å—è®°äº‹ã€‹ï¼Œã€Šå®šè¥¿å­¤å„¿é™¢è®°äº‹ã€‹è®²çš„æ˜¯ç”±äº 1958 å¹´å¤§è·ƒè¿›å’Œæµ®å¤¸é£ï¼Œç”˜è‚ƒå®šè¥¿åœ°åŒºå†œæ‘äººå£å¤§é‡æ­»äº¡ï¼Œäº§ç”Ÿäº†å¤§é‡å­¤å„¿çš„æ•…äº‹ï¼Œæ¯ç¯‡æ•…äº‹ä¸æ˜¯å¾ˆé•¿ï¼Œæ•…äº‹ä¹‹é—´ä¹Ÿæœ‰ä¸€å®šçš„è”ç³»ï¼Œåœ¨æ­¦æ±‰çœ‹äº†ä¸€å¤§éƒ¨åˆ†ï¼Œæ­¦æ±‰åˆ°åŒ—äº¬çš„ç«è½¦ä¸Šï¼Œæˆ‘èººåœ¨é“ºä½ä¸Šåˆçœ‹äº†ä¸€éƒ¨åˆ†ï¼Œé‚£äº›æ‚²è‹¦æ— å¥ˆå¿ƒé…¸çš„æƒ…èŠ‚ï¼Œè®©æˆ‘å¿ä¸ä½å“­äº†ä¸¤ä¸‰æ¬¡ï¼Œæ³ªæ°´æµåˆ°äº†æ•å¤´ä¸Šï¼Œæ´‡æ¹¿äº†ä¸€å—ã€‚æ¨å…ˆç”Ÿçš„æè¿°æ˜¯å…‹åˆ¶çš„ï¼Œä¸æºæ‚å¤ªå¤šä¸ªäººçš„è¯„è®ºä¸ç…½æƒ…çš„æè¿°ï¼Œä¹¦ä¸­äººç‰©çš„å¯¹ç™½ä¸ä»…å¤šç”¨ç”˜è‚ƒæ–¹è¨€è€Œä¸”ç”˜è‚ƒäººåŸæ±åŸå‘³çš„è¯´è¯æ–¹å¼ï¼Œå…‹åˆ¶çš„æè¿°åŠ ä¸Šæœ´å®çš„ç”˜è‚ƒæ–¹è¨€å¯¹ç™½ï¼Œè®©äººä¸€æ¬¡æ¬¡ä¸ºä¹¦é‡Œçš„å­¤å„¿ä»¬ä¼¤å¿ƒè½æ³ªï¼Œå¤ªè‹¦äº†ï¼Œå¤ªæƒ¨äº†ã€‚æ—¶è‡³ä»Šæ—¥ï¼Œæˆ‘ä»¬çš„å›½å®¶è¿˜ä¼šå†æ¥ä¸€æ¬¡è¿™ä¹ˆæƒ¨ç»äººå¯°çš„äº‹æƒ…å—ï¼Ÿâ€œå†å²çš„ä¸‰å³¡â€1ä½•æ—¶æ‰èƒ½æ¸¡è¿‡ï¼Ÿ\nâ€œå†å²çš„ä¸‰å³¡â€ç”±å†å²å­¦å®¶å”å¾·åˆšæå‡ºï¼Œå¤§æ„æ˜¯ä¸­å›½ç¤¾ä¼šè‡ª 1840 é¸¦ç‰‡æˆ˜äº‰å¼€å§‹è½¬å‹ï¼Œè¦çœŸæ­£è½¬å‹ä¸ºæ°‘ä¸»å‘è¾¾çš„å›½å®¶ï¼Œéœ€è¦ 200 å¤šå¹´çš„æ—¶é—´ï¼ŒæœŸé—´ç¤¾ä¼šå¯èƒ½è¿˜ä¼šæœ‰åé€€å’Œè®¸å¤šæ›²æŠ˜ï¼Œå°±åƒé•¿æ±Ÿä¸‰å³¡ä¸€æ ·å›ç¯èœ¿èœ’ï¼Œä¸æ˜¯ä¸€å¸†é£é¡ºçš„ï¼Œå¦å¤–å¯å‚è§å”å¾·åˆšè‘—ã€Šæ™šæ¸…ä¸ƒåå¹´ã€‹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"25 February 2017","externalUrl":null,"permalink":"/2017/02/25/spring_festival_in_wh/","section":"Posts","summary":"1 æœˆ 26 æ—¥å¤§æ¸…æ—©èµ·åºŠèµ¶åˆ°åŒ—äº¬è¥¿ç«™ï¼Œåä¸Šäº†æ—©ä¸Šå…«ç‚¹åŠå·¦å³çš„ç«è½¦ï¼Œå‰å¾€æ­¦æ±‰ï¼Œæ™šä¸Šå¤§çº¦ä¸ƒç‚¹åŠåˆ°è¾¾æ­¦æ˜Œç«è½¦ç«™ã€‚åœ¨æ­¦æ±‰å‘†äº†æ•´æ•´ä¸€å‘¨ï¼Œ2 æœˆ 3 å·ä¸­åˆåè½¦å›çš„","title":"åœ¨æ­¦æ±‰è¿‡æ˜¥èŠ‚","type":"posts"},{"content":"å»å¹´çš„æ—¶å€™è¿˜æ˜¯å‰å¹´ï¼Œåœ¨è°·æ­Œä¸Šæœç´¢ä¸œè¥¿ï¼Œçœ‹åˆ°äº†å¾ˆå¤šäººçš„åšå®¢éƒ½æ˜¯ç”¨ GitHub æ‰˜ç®¡çš„ï¼Œä½¿ç”¨ GitHub æä¾›çš„ GitHub Pages åŠŸèƒ½ã€‚æˆ‘ä¸€çœ‹å°±å–œæ¬¢ä¸Šè¿™ç§å¼€æºå¹¶ä¸”ç®€æ´çš„æ–¹å¼ï¼Œå´æ²¡æœ‰ç«‹å³è¡ŒåŠ¨ã€‚\nä»¥å‰ç”¨ cnblog å†™è¿‡ä¸€äº›åæŠ€æœ¯çš„ä¸œè¥¿ï¼Œæ€»è§‰å¾—ä½“éªŒå¾ˆä¸å¥½ã€‚æˆ‘ä»å»å¹´ 3 æœˆå¤šå¼€å§‹ä½¿ç”¨å¾®ä¿¡å…¬ä¼—å¹³å°å†™ä¸œè¥¿ï¼Œé›¶é›¶æ˜Ÿæ˜Ÿå†™äº†å‡ ç¯‡ï¼Œèµ·åˆè¿˜ä¿æŒä¸€å®šçš„é¢‘ç‡ï¼Œåé¢å°±æ²¡æœ‰æ€ä¹ˆå†™è¿‡äº†ã€‚æ¯æ¬¡å†™å…¬ä¼—å·ï¼Œæˆ‘éƒ½ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„ç½‘é¡µç‰ˆçš„æ“ä½œç•Œé¢ï¼Œä¸ªäººæ„Ÿè§‰ç›¸å½“éš¾ç”¨ï¼Œè€Œä¸”ä¹Ÿä¸æ”¯æŒMarkdownã€‚å¾®ä¿¡å…¬ä¼—å·çš„å®¡æŸ¥å¾ˆä¸¥ï¼Œç»å¸¸èƒ½å¤Ÿçœ‹åˆ°è‡ªå·±å…³æ³¨çš„ä¸€äº›å…¬ä¼—å·å› ä¸ºçŠ¯å¿Œï¼Œæˆ–è€…æ–‡ç« è¢«åˆ é™¤ï¼Œæˆ–è€…è¢«ç¦ä¸€æ®µæ—¶é—´ï¼Œå½“ç„¶è¿˜æœ‰æ›´ä¸¥é‡çš„ï¼ŒæŠ•èƒè½¬ä¸–ä¸çŸ¥é“å¤šå°‘å›äº†ï¼Œè­¬å¦‚ç‹äº”å››ï¼Œâ€œç‹é˜¿å§¨â€ï¼Œâ€œç‹çº¢æâ€ï¼Œâ€œç‹é…¥éº»â€\u0026hellip;æ‰€æœ‰çš„åå­—éƒ½è®©äººæƒ³ç¬‘ã€‚æ¯æ¬¡æŠ•èƒéƒ½ä¼šå¸¦ç€ä»–é‚£ç‹¬å…·æ°”è´¨çš„å¤´åƒï¼Œè¿™å¤´åƒä¹Ÿæ˜¯ä»–çš„è®¤è¯ï¼Œçœ‹åˆ°è¿™å¤´åƒä½ å°±çŸ¥é“ä»–æ˜¯è°äº†ã€‚\nè™½ç„¶æˆ‘ä¸å†™é‚£äº›æ‰€è°“ã€ŒçŠ¯å¿Œã€çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘è®¨åŒè¿™ç§è›®æ¨ªçš„è¡Œä¸ºï¼Œéšå¿ƒæ‰€æ¬²çš„åˆ è´´å¯¼è‡´äººä»¬ä¹ æƒ¯äºè‡ªæˆ‘å®¡æŸ¥ï¼Œå¹¶ä¸”å¼•ä»¥ä¸ºè£ï¼Œå½“ç„¶é—·å£°å‘å¤§è´¢æ˜¯å å¼çš„ã€‚\nä»¥åå°±åœ¨è¿™é‡Œå†™åšå®¢äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›´è‡ªç”±çš„ç©ºé—´ï¼Œæœ‰æ—¶é—´çš„è¯ä¹Ÿä¼šæŠŠä»¥å‰å†™çš„ä¸€äº›ä¸œè¥¿è¿ç§»è¿‡æ¥ï¼Œæ•´ç†åœ¨ä¸€èµ·ã€‚å½“ç„¶å¦‚æœè¿ GitHub ä¹Ÿè¢«å¢™äº†ï¼Œæˆ‘å°±æ²¡å•¥å¯è¯´äº†å—·ã€‚è‡ªç”±ä¸‡å²ï¼\n","date":"24 February 2017","externalUrl":null,"permalink":"/2017/02/24/my_first_post/","section":"Posts","summary":"å»å¹´çš„æ—¶å€™è¿˜æ˜¯å‰å¹´ï¼Œåœ¨è°·æ­Œä¸Šæœç´¢ä¸œè¥¿ï¼Œçœ‹åˆ°äº†å¾ˆå¤šäººçš„åšå®¢éƒ½æ˜¯ç”¨ GitHub æ‰˜ç®¡çš„ï¼Œä½¿ç”¨ GitHub æä¾›çš„ GitHub Pages åŠŸèƒ½ã€‚æˆ‘ä¸€çœ‹å°±å–œæ¬¢ä¸Šè¿™ç§å¼€æºå¹¶ä¸”ç®€æ´çš„æ–¹å¼ï¼Œå´æ²¡æœ‰ç«‹","title":"A New Start","type":"posts"},{"content":"å‰ä¸€æ®µæ—¶é—´å’Œä¸€ä¸ªåŒå­¦è°ˆåˆ°äº†å°Šä¸¥ï¼Œå°±ç”¨ A æ¥è¡¨ç¤ºå§ã€‚A è®¤ä¸ºäººåœ¨å¼±å°çš„æ—¶å€™ï¼Œè°ˆä¸ä¸Šå°Šä¸¥ï¼Œä½ åªæœ‰æ”¾å¼ƒè‡ªå·±çš„å°Šä¸¥ï¼Œæ‰èƒ½æ´»ä¸‹æ¥ï¼Œå¼ºè€…æ‰æœ‰å°Šä¸¥ï¼Œæˆ–è€…è¯´å¼ºè€…çš„å°Šä¸¥æ¯”å¼±è€…å¤šã€‚A çš„è¯ï¼Œè®©æˆ‘æƒ³åˆ°äº†\u0026quot;å¼±è‚‰å¼ºé£Ÿ\u0026quot;è¿™ä¸ªè¯ï¼šå¦‚æœä½ å¼±å°ï¼Œé‚£ä¹ˆä¸è¦è°ˆå°Šä¸¥ï¼Œä½ åªæ˜¯åˆ«äººç›˜é‡Œçš„èœè€Œå·²ï¼Œå°Šä¸¥å¯¹ä½ æ¥è¯´å¤ªå¥¢ä¾ˆäº†ã€‚\nä¸­å›½äººåœ¨éª¨å­é‡Œä¼¼ä¹ç‰¹åˆ«è®¤åŒè¿™ç§çœ‹æ³•ï¼šå°Šä¸¥ä¸è£èª‰æ˜¯æ²¡æœ‰ä»·å€¼çš„ï¼Œä¸çæƒœå°Šä¸¥ä¸è£èª‰ï¼Œåªæœ‰åˆ©ç›Šæ‰æ˜¯çœŸå®çš„ã€‚å›ä¸è§å¤šå°‘äººï¼Œå¯¹å¾…æ¯”è‡ªå·±\u0026quot;å¼±\u0026quot;çš„äººå¾€å¾€å……æ»¡ä¼˜è¶Šæ„Ÿï¼Œå¯¹å¼±è€…ååˆ†é„™å¤·ï¼Œä»¿ä½›å’Œä»–ä»¬åœ¨ä¸€èµ·å°±é™ä½äº†è‡ªå·±çš„èº«ä»·ï¼Œä»–ä»¬ä¸€æ—¦çœ‹åˆ°æ¯”è‡ªå·±\u0026quot;å¼º\u0026quot;çš„äººï¼Œä¾¿é©¬ä¸Šè½¬æ¢é¢œè‰²ï¼Œå……æ»¡è°„åªšä¸è®¨å¥½ã€‚\nè®¸å¤šäººéƒ½æ‹¥æœ‰è¿™ç§å†·è¡€çš„é€»è¾‘ï¼Œè®¤ä¸ºå¼±è€…ä¸é…æ‹¥æœ‰å°Šä¸¥ï¼Œå¯æ˜¯ä»–ä»¬å¿˜äº†æˆ–è€…å‡è£…ä¸çŸ¥é“ï¼Œå¼ºå¼±ä»æ¥ä¸æ˜¯ç»å¯¹çš„ï¼Œè°æ˜¯ç»å¯¹çš„å¼ºè€…å‘¢ï¼Ÿå´‡å°š\u0026quot;å¼±è‚‰å¼ºé£Ÿ\u0026quot;çš„äººè‡ªå·±æˆä¸ºåˆ«äººçš„çŒç‰©çš„æ—¶å€™ï¼Œä¸çŸ¥æ˜¯ä¼šå¦ç„¶æ¥å—è¿™ç§å‘½è¿è¿˜æ˜¯ä¼šå……æ»¡ææƒ§åœ°ç­‰å¾…è‡ªå·±çš„æœ«æ—¥ï¼Ÿ\n","date":"5 January 2017","externalUrl":null,"permalink":"/2017/01/05/thought_on_diginity/","section":"Posts","summary":"\u003cp\u003eå‰ä¸€æ®µæ—¶é—´å’Œä¸€ä¸ªåŒå­¦è°ˆåˆ°äº†å°Šä¸¥ï¼Œå°±ç”¨ A æ¥è¡¨ç¤ºå§ã€‚A è®¤ä¸ºäººåœ¨å¼±å°çš„æ—¶å€™ï¼Œè°ˆä¸ä¸Šå°Šä¸¥ï¼Œä½ åªæœ‰æ”¾å¼ƒè‡ªå·±çš„å°Šä¸¥ï¼Œæ‰èƒ½æ´»ä¸‹æ¥ï¼Œå¼ºè€…æ‰æœ‰å°Šä¸¥ï¼Œæˆ–è€…è¯´å¼ºè€…çš„å°Šä¸¥æ¯”å¼±è€…å¤šã€‚A çš„è¯ï¼Œè®©æˆ‘æƒ³åˆ°äº†\u0026quot;å¼±è‚‰å¼ºé£Ÿ\u0026quot;è¿™ä¸ªè¯ï¼šå¦‚æœä½ å¼±å°ï¼Œé‚£ä¹ˆä¸è¦è°ˆå°Šä¸¥ï¼Œä½ åªæ˜¯åˆ«äººç›˜é‡Œçš„èœè€Œå·²ï¼Œå°Šä¸¥å¯¹ä½ æ¥è¯´å¤ªå¥¢ä¾ˆäº†ã€‚\u003c/p\u003e","title":"å…³äºã€Œå°Šä¸¥ã€","type":"posts"},{"content":"ä¼˜åŒ–çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œåœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå æœ‰ç»å¯¹ä¸»å¯¼åœ°ä½çš„è¿˜æ˜¯ stochastic gradient optimization (ç®€ç§° SGD) ä»¥åŠå®ƒçš„ä¸€äº›å˜ç§ï¼Œå¦‚ SGD with momentumï¼ŒAdam ç­‰ã€‚ SGD æ˜¯ä¸€ç§åŸºäºä¸€é˜¶æ¢¯åº¦ä¿¡æ¯çš„ä¼˜åŒ–æ–¹æ³•ï¼Œä»…ä»ä¼˜åŒ–çš„é€Ÿåº¦ä¸Šæ¥è®²ï¼Œæ•ˆç‡ä¸æ˜¯æœ€é«˜çš„ï¼Œä¸€äº›åˆ© ç”¨äºŒé˜¶ä¿¡æ¯çš„ä¼˜åŒ–æ–¹æ³•ï¼Œç†è®ºä¸Šä¼˜åŒ–é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯ï¼ŒSGD åè€Œæ˜¯åœ¨æ·±åº¦å­¦ä¹ çš„ä¼˜åŒ–ä¸­ä½¿ ç”¨çš„æœ€å¤šçš„ä¼˜åŒ–æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆå…¶ä»–ç±»å‹çš„ä¼˜åŒ–æ–¹æ³•åœ¨æ·±åº¦å­¦ä¹ ä¸­ä¸ç»å¸¸ä½¿ç”¨å‘¢ï¼Ÿå®ƒä»¬ç›¸æ¯” SGD æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿæˆ–è€…è¯´ SGD æœ‰ä»€ä¹ˆä¼˜ç‚¹å‘¢ï¼Ÿ è¿™ç¯‡æ–‡ç« è¯•å›¾å¯¹è¿™ä¸ªé—®é¢˜ç»™å‡ºè‡ªå·±çš„æ€è€ƒ ä¸æ€»ç»“ã€‚\næœ¬æ–‡åŸºäºå¤§é‡å‚è€ƒèµ„æ–™ï¼Œå¯¹å…¶ä¸­çš„è¦ç‚¹è¿›è¡Œæç‚¼ï¼Œä¸»è¦ä»‹ç»ä¸‰ç§å¸¸è§çš„ä¼˜åŒ–æ–¹æ³•ï¼šåŸºäºå¯ å‘å¼æœç´¢çš„æ–¹æ³•ï¼ŒåŸºäºä¸€é˜¶æ¢¯åº¦ä¿¡æ¯çš„æ–¹æ³•ä»¥åŠåŸºäºäºŒé˜¶æ¢¯åº¦ä¿¡æ¯çš„æ–¹æ³•ã€‚åŒæ—¶å¯¹å®é™…ä½¿ ç”¨ä¸­ä¸€äº›è®ºæ–‡ä¸­å¸¸ç”¨çš„æœ¯è¯­ä»¥åŠå®ƒä»¬çš„åŒºåˆ«è¿›è¡Œäº†è¯´æ˜ã€‚ç”±äºæ–‡ç« æœ‰ä¸€éƒ¨åˆ†å…¬å¼ï¼Œæ‰€ä»¥æˆ‘ é‡‡ç”¨äº† LaTeX ä¹¦å†™æœ¬æ–‡ï¼Œç”Ÿæˆçš„ PDF è¯·ç‚¹å‡»è¿™é‡Œä¸‹è½½ã€‚\n","date":"25 November 2016","externalUrl":null,"permalink":"/2016/11/25/thought-on-optimization-for-cnn/","section":"Posts","summary":"\u003cp\u003eä¼˜åŒ–çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œåœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå æœ‰ç»å¯¹ä¸»å¯¼åœ°ä½çš„è¿˜æ˜¯ stochastic gradient\noptimization (ç®€ç§° SGD) ä»¥åŠå®ƒçš„ä¸€äº›å˜ç§ï¼Œå¦‚ SGD with momentumï¼ŒAdam ç­‰ã€‚ SGD\næ˜¯ä¸€ç§åŸºäºä¸€é˜¶æ¢¯åº¦ä¿¡æ¯çš„ä¼˜åŒ–æ–¹æ³•ï¼Œä»…ä»ä¼˜åŒ–çš„é€Ÿåº¦ä¸Šæ¥è®²ï¼Œæ•ˆç‡ä¸æ˜¯æœ€é«˜çš„ï¼Œä¸€äº›åˆ©\nç”¨äºŒé˜¶ä¿¡æ¯çš„ä¼˜åŒ–æ–¹æ³•ï¼Œç†è®ºä¸Šä¼˜åŒ–é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯ï¼ŒSGD åè€Œæ˜¯åœ¨æ·±åº¦å­¦ä¹ çš„ä¼˜åŒ–ä¸­ä½¿\nç”¨çš„æœ€å¤šçš„ä¼˜åŒ–æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆå…¶ä»–ç±»å‹çš„ä¼˜åŒ–æ–¹æ³•åœ¨æ·±åº¦å­¦ä¹ ä¸­ä¸ç»å¸¸ä½¿ç”¨å‘¢ï¼Ÿå®ƒä»¬ç›¸æ¯”\nSGD æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿæˆ–è€…è¯´ SGD æœ‰ä»€ä¹ˆä¼˜ç‚¹å‘¢ï¼Ÿ è¿™ç¯‡æ–‡ç« è¯•å›¾å¯¹è¿™ä¸ªé—®é¢˜ç»™å‡ºè‡ªå·±çš„æ€è€ƒ\nä¸æ€»ç»“ã€‚\u003c/p\u003e","title":"å…³äºç¥ç»ç½‘ç»œä¼˜åŒ–çš„ä¸€äº›æ€è€ƒ","type":"posts"},{"content":"åç«è½¦å›åŒ—äº¬ï¼Œæˆ‘ååœ¨è¿‡é“è¾¹ï¼Œè¿‡é“å¦ä¸€è¾¹æ˜¯ä¸€ä¸ªè€äººå®¶å¸¦ç€å¥¹çš„å­™å­ï¼Œå°å­©å­çº¦ä¸€å²ï¼Œèƒ½è¯´æ¨¡ç³Šä¸æ¸…çš„å­—ã€‚å°å­©å­ä¸€è·¯ä¸Šéƒ½åœ¨åµåµé—¹é—¹ï¼Œä¸€åˆ»ä¸åœæ­‡ï¼Œå†™ä½œæ­¤æ–‡æ—¶å€™çš„ä¸¾åŠ¨æ˜¯æŠŠå‰é¢åº§ä½ä¸Šè´´çš„å¸ƒç»™æ‰¯æ‰ï¼Œæ‰”åœ¨åœ°ä¸Šï¼Œä»–çš„å¥¶å¥¶ä¼¼ä¹æ— åŠ¨äºè¡·ï¼Œä¹Ÿä¸æ‰¹è¯„ï¼Œä¹Ÿä¸è¡ŒåŠ¨ï¼Œè¿‡äº†ä¸€ä¼šå„¿ï¼Œæ‰“æ‰«å«ç”Ÿçš„äººå‘˜è¿‡æ¥äº†ï¼ŒæŠŠå¸ƒæ¡èµ·æ¥ï¼Œåˆè´´åœ¨äº†åŸä½ç½®ã€‚å°å­©å­ä»ç„¶ä¸æ»¡è¶³ï¼Œç»§ç»­è¿›è¡Œä»–çš„æ¸¸æˆï¼ŒåˆæŠŠå¸ƒæ‰¯æ‰æ‰”åœ¨åœ°ä¸Šï¼Œå¥¶å¥¶ä¼¼ä¹ä¹Ÿæœ‰ç‚¹ä¸æ»¡æ„äº†ï¼ŒæŠŠå¸ƒæ¡èµ·æ¥ç²˜åœ¨äº†åŸå¤„ï¼Œç„¶åå°å­©å’Œä»–çš„å¥¶å¥¶é‡å¤è¿™ä¸ªå›åˆè‹¥å¹²æ¬¡ï¼Œå¥¶å¥¶å¹¶æœªå¯¹å­©å­è®²è¿™æ ·åšæœ‰ä»€ä¹ˆä¸å¯¹ï¼Œåªæ˜¯å¯„å¸Œæœ›äºå°å­©åˆ«å†æ‹½æ‰é‚£å—å¯æ€œçš„å¸ƒäº†ã€‚\nä»”ç»†è§‚å¯Ÿå°å­©å­çš„è¡Œä¸ºï¼Œä½ ä¼šå‘ç°ä»–ä»¬éå¸¸æ‡‚å¾—å¯Ÿè¨€è§‚è‰²ä¸ä½¿ç”¨æ‰‹æ®µï¼Œä»–ä»¬ä¼šè§‚å¯Ÿå¤§äººçš„è¡ŒåŠ¨ï¼Œä»¥æ­¤æ¥å†³å®šè‡ªå·±å°†è¦é‡‡å–çš„è¡ŒåŠ¨ï¼Œå½“è‡ªå·±çš„è¦æ±‚å¾—ä¸åˆ°æ»¡è¶³ï¼Œå°±ä¼šè£…å“­ï¼Œæˆ–è€…å¤§å«ï¼Œå¸Œæœ›åšå–å¤§äººçš„æ»éšæˆ–è€…è¯´å…³çˆ±ä¹‹å¿ƒã€‚æˆ‘è®°å¾—è°è¯´è¿‡ï¼Œå°å­©å­å¾ˆå°ï¼Œä¸æ‡‚å¾—é“ç†ï¼Œå¯¹äºè¿™ç§è®ºè°ƒï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¯´ä»€ä¹ˆå¥½ã€‚\næˆ‘è®°å¾—åœ¨å¾®åšä¸Šçœ‹åˆ°ä¸€ä¸ªæ•…äº‹ï¼Œæœ‰ä¸€ä¸ªå¦ˆå¦ˆå¸¦ç€å¥¹çš„å­©å­åç«è½¦ï¼Œç»“æœå­©å­ä¸€ç›´å“­é—¹ï¼Œæ€ä¹ˆä¹Ÿä¸å¬åŠï¼Œå¦ˆå¦ˆå°±å¸¦ç€å­©å­ä¸‹è½¦äº†ï¼Œè®©ä»–åœ¨ä¸‹é¢å°½æƒ…å“­é—¹ï¼Œä»€ä¹ˆæ—¶å€™é—¹å¤Ÿäº†å†åè½¦ï¼Œæ— è®ºå­©å­å­©å­æ€ä¹ˆé—¹ä¹Ÿä¸ç†ä»–ï¼Œå°±è®©ä»–ä¸€ç›´åœ¨é‚£é‡Œå“­é—¹ï¼Œæœ€åå­©å­ç»ˆäºåœæ­¢äº†å“­é—¹ã€‚ç»è¿‡è¿™ä¹ˆä¸€æ¬¡ï¼Œå­©å­ä»¥ååº”è¯¥ä¸ä¼šå†ä¹±é—¹äº†ï¼Œæˆ‘å–œæ¬¢è¿™æ ·çš„çˆ¶æ¯ã€‚æ¯ä¸€ä¸ªç†Šå­©å­çš„èƒŒåï¼Œå¿…ç„¶æœ‰ä»–çš„åœŸå£¤ï¼Œä¸è¦æŠ±æ€¨ä½ ä¸ºä»€ä¹ˆç”Ÿäº†ä¸€ä¸ªç†Šå­©å­ã€‚\næåˆ°å­©å­ï¼Œæˆ‘æƒ³åˆ°äº†å¾ˆå¤šï¼Œè°åˆç»“å©šäº†ï¼Œè°åˆæœ‰å­©å­äº†ã€‚åœ¨å¾®åšä¸Šçœ‹åˆ°ä¸€å¥è¯ï¼Œè¯´çš„æ˜¯ï¼Œä¸­å›½çš„è®¸å¤šå®¶é•¿éƒ½å¾ˆæœ‰è‡ªä¿¡ï¼Œè®¤ä¸ºè‡ªå·±å¤©ç”Ÿå°±æ‡‚å¾—å¦‚ä½•å»å…»ä¸€ä¸ªå­©å­ï¼Œå®Œå…¨ä¸éœ€è¦å­¦ä¹ ã€‚å…»ä¸ªåŠ¨ç‰©éƒ½å¾—å­¦ä¹ å‘¢ï¼Œè¿™äº›å®¶é•¿çœŸè‡ªä¿¡ã€‚æˆ‘è‡ªå·±å¯¹äºå…»å­©å­å°±å®Œå…¨æ²¡æœ‰ä¿¡å¿ƒï¼Œè§‰å¾—æœ‰å¤ªå¤šçš„æœªçŸ¥ï¼Œä¸‡ä¸€ç”Ÿä¸€ä¸ªå­©å­ä¸èƒ½æä¾›å¾ˆå¥½çš„ç¯å¢ƒï¼Œé‚£ä¸æ˜¯å‘äº†äººå®¶å—ï¼Ÿæ˜¾ç„¶å¾ˆå¤šäººè·Ÿæˆ‘çš„æƒ³æ³•ä¸ä¸€æ ·ï¼Œä»–ä»¬çš„é€»è¾‘æ˜¯ï¼Œçˆ¶æ¯ç”Ÿäº†ä½ ï¼Œç»™äº†ä½ ç”Ÿå‘½ï¼Œä½ åº”è¯¥æ„Ÿåˆ°å¹¸è¿ï¼Œä½ åº”è¯¥æ„Ÿæ©çˆ¶æ¯ç»™ä½ ç”Ÿå‘½ï¼Œæ€ä¹ˆè¿˜èƒ½æœ‰è¿™ä¹ˆå¤šè¦æ±‚å‘¢ï¼Ÿå¯¹äºè¿™ç§è®ºè°ƒï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆã€‚\nå­©å­ï¼Œåªæ„¿ä½ åœ¨ä¸€ä¸ªæ­£å¸¸çš„å®¶é‡Œï¼Œæœ‰ç€æ­£å¸¸çš„çˆ¶æ¯ï¼Œæœ‰ç€æ­£å¸¸çš„ç¯å¢ƒï¼Œæ­£å¸¸çš„æˆé•¿ï¼Œå¿«å¿«é•¿å¤§å§ã€‚å­©å­ï¼Œæ„¿ä½ æˆä¸ºä¸€ä¸ªæ­£å¸¸çš„äººï¼Œè¿™å°±è¶³å¤Ÿäº†ã€‚\n","date":"5 September 2016","externalUrl":null,"permalink":"/2016/09/05/thought_on_raising_children/","section":"Posts","summary":"\u003cp\u003eåç«è½¦å›åŒ—äº¬ï¼Œæˆ‘ååœ¨è¿‡é“è¾¹ï¼Œè¿‡é“å¦ä¸€è¾¹æ˜¯ä¸€ä¸ªè€äººå®¶å¸¦ç€å¥¹çš„å­™å­ï¼Œå°å­©å­çº¦ä¸€å²ï¼Œèƒ½è¯´æ¨¡ç³Šä¸æ¸…çš„å­—ã€‚å°å­©å­ä¸€è·¯ä¸Šéƒ½åœ¨åµåµé—¹é—¹ï¼Œä¸€åˆ»ä¸åœæ­‡ï¼Œå†™ä½œæ­¤æ–‡æ—¶å€™çš„ä¸¾åŠ¨æ˜¯æŠŠå‰é¢åº§ä½ä¸Šè´´çš„å¸ƒç»™æ‰¯æ‰ï¼Œæ‰”åœ¨åœ°ä¸Šï¼Œä»–çš„å¥¶å¥¶ä¼¼ä¹æ— åŠ¨äºè¡·ï¼Œä¹Ÿä¸æ‰¹è¯„ï¼Œä¹Ÿä¸è¡ŒåŠ¨ï¼Œè¿‡äº†ä¸€ä¼šå„¿ï¼Œæ‰“æ‰«å«ç”Ÿçš„äººå‘˜è¿‡æ¥äº†ï¼ŒæŠŠå¸ƒæ¡èµ·æ¥ï¼Œåˆè´´åœ¨äº†åŸä½ç½®ã€‚å°å­©å­ä»ç„¶ä¸æ»¡è¶³ï¼Œç»§ç»­è¿›è¡Œä»–çš„æ¸¸æˆï¼ŒåˆæŠŠå¸ƒæ‰¯æ‰æ‰”åœ¨åœ°ä¸Šï¼Œå¥¶å¥¶ä¼¼ä¹ä¹Ÿæœ‰ç‚¹ä¸æ»¡æ„äº†ï¼ŒæŠŠå¸ƒæ¡èµ·æ¥ç²˜åœ¨äº†åŸå¤„ï¼Œç„¶åå°å­©å’Œä»–çš„å¥¶å¥¶é‡å¤è¿™ä¸ªå›åˆè‹¥å¹²æ¬¡ï¼Œå¥¶å¥¶å¹¶æœªå¯¹å­©å­è®²è¿™æ ·åšæœ‰ä»€ä¹ˆä¸å¯¹ï¼Œåªæ˜¯å¯„å¸Œæœ›äºå°å­©åˆ«å†æ‹½æ‰é‚£å—å¯æ€œçš„å¸ƒäº†ã€‚\u003c/p\u003e","title":"å…³äºå­©å­","type":"posts"},{"content":"å…¬å…ƒ 2016 å¹´ï¼ŒçœŸæ˜¯ä¸€ä¸ªå¤šäº‹ä¹‹å¹´å•Šï¼Œå„ç§äº‹ä»¶æ¥è¸µè€Œè‡³ï¼Œçº·è‡³æ²“æ¥ï¼Œä»¿ä½›æ’æ¼”å¥½çš„ä¸€èˆ¬ï¼Œä¸æ–­åœ¨ç°å®ä¸è™šæ‹Ÿç©ºé—´åˆ¶é€ ç€å†²çªã€å¯¹æŠ—ï¼Œä¹Ÿåˆ¶é€ ç€è¯é¢˜ã€‚\nçˆ±å›½é’å¹´ä»¬è¿™å‡ å¤©ç›¯ç´§äº†èµµè–‡ï¼ŒæŒ‡å‡ºèµµè–‡å¯ç”¨äº†æœ‰ç€å°ç‹¬å«Œç–‘ä»¥åŠå‘è¡¨æœ‰å…³æ…°å®‰å¦‡é—®é¢˜ä¸å½“è¨€è®ºçš„æˆ´ç«‹å¿ä½œä¸ºæ–°ç‰‡ã€Šæ²¡æœ‰åˆ«çš„çˆ±ã€‹çš„ä¸»æ¼”ï¼Œæˆ‘åˆšå¼€å§‹ä»¥ä¸ºè¿™åªæ˜¯é—¹å‰§ï¼Œå¤§å®¶éª‚å‡ å¥å°±ç®—äº†ï¼Œè¿‡è¿‡å˜´ç˜¾è€Œå·²ï¼Œæ²¡æƒ³åˆ°ï¼Œäº‹æƒ…å´è¶Šå‘èµ·äº†å˜åŒ–ï¼šå‰å‡ å¤©å‘æ–‡æ”¯æŒæˆ´ç«‹å¿çš„å‰§ç»„ï¼Œæ˜¨å¤©åˆå‘æ–‡è¦æ’¤æ¢æˆ´ç«‹å¿äº†ã€‚å˜åŒ–ä¹‹å¿«ï¼Œè®©æˆ‘æƒŠè®¶äºèˆ†è®ºçš„\u0026quot;åŠ›é‡\u0026quot;ã€‚\næˆ‘å¥½å¥‡çš„æ˜¯ï¼Œéƒ½æ˜¯è°ä¸è¾è¾›è‹¦åœ¨ç½‘ä¸Šä¸ºå›½å®¶å‰é€”å‘½è¿è€Œæ–—äº‰å‘¢ï¼Ÿä½œä¸ºä¸€ä¸ªå­¦ç”Ÿï¼Œæˆ‘è¿è‡ªå·±çš„äº‹æƒ…éƒ½æä¸å®Œï¼Œæ›´åˆ«æç²¾ç¥é«˜äº¢åœ°ä¸Šç½‘è®¨ä¼\u0026quot;å…±æµä¼š\u0026quot;æˆå‘˜ã€é˜´è°‹é¢ è¦†æˆ‘ä»¬ä¼Ÿå¤§ç¥–å›½ã€ä»¥ç¾å›½ä¸ºä»£è¡¨çš„å¸å›½ä¸»ä¹‰\u0026quot;æ±‰å¥¸èµ°ç‹—\u0026quot;åŠå…¶\u0026quot;ä»£ç†äºº\u0026quot;äº†ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘è§‰å¾—ååˆ†æƒ­æ„§ï¼Œæ²¡æœ‰åšå‡ºä¸€ç‚¹å¾®å°çš„å·¥ä½œï¼Œæ²¡æœ‰ä¸ºæµ·å³¡ä¸¤å²¸çš„ç»Ÿä¸€å¤§ä¸šçŒ®ä¸Šä¸€ä»½è‡ªå·±çš„åŠ›é‡ã€‚\nç›¸æ¯”æˆ‘å›½äººæ°‘çš„å¹¸ç¦ç”Ÿæ´»ï¼Œå¤–å›½äººæ°‘çš„ç”Ÿæ´»å¯è°“æ˜¯æ°´æ·±ç«çƒ­äº†ï¼ŒçœŸçš„æ˜¯ä¸ºå¤–å›½äººæ°‘æ‹…å¿§å•Šã€‚è¿™ä¸æ³•å›½æ˜¨å¤©å‘ç”Ÿäº†ææ€–è¢­å‡»ï¼Œä¸€ä¸ªçªå°¼æ–¯è£” Muslim é©¾é©¶ç€å¡è½¦ï¼Œå¯¹äººç¾¤è¿›è¡Œäº†å†²æ’ç¢¾å‹ï¼Œæœ‰å…«åå¤šäººæ­»äº¡ï¼Œè¿˜æœ‰æ›´å¤šçš„äººå—ä¼¤ã€‚å¯¹äºè¿™æ ·çš„äº‹æƒ…æˆ‘è¡¨ç¤ºç†è§£ä¸äº†ï¼Œåªèƒ½è¡¨ç¤ºè°´è´£äº†ã€‚\næ—©ä¸Šä¸€èµ·æ¥ï¼Œåˆçœ‹åˆ°äº†ä¸€æ¡æ–°é—»ï¼ŒåœŸè€³å…¶å†›äººå‘åŠ¨å†›äº‹æ”¿å˜ï¼Œç»“æœè²Œä¼¼æ²¡æœ‰æˆåŠŸï¼Œåƒæ——æ¯é¼“äº†ï¼Œå‘åŠ¨æ”¿å˜ç†ç”±æ˜¯å¯¹åœŸè€³å…¶ç°ä»»æ”¿åºœçš„ä¼Šæ–¯å…°åŒ–è¡¨ç¤ºä¸æ»¡ï¼Œæƒ³è¦å¹³è¡¡ä¼Šæ–¯å…°çš„åŠ›é‡ã€‚\næˆ‘ä¸€å‘å¯¹æ”¿æ²»ã€å®—æ•™çš„äº‹æƒ…æ— æ³•ç†è§£ï¼Œä¸çŸ¥é“è¿™äº›ä¸œè¥¿æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå½“ç„¶è¿™ä¸ä»£è¡¨è¿™äº›ä¸œè¥¿çœŸçš„æ²¡æœ‰æ²¡ä»·å€¼ï¼Œåªä¸è¿‡ä¾æˆ‘æ„šé’çš„è§è¯†ï¼Œæ²¡æœ‰è®¤è¯†åˆ°è€Œå·²ï¼Œå› æ­¤ä¹Ÿåªèƒ½è¯´ä¸€å¥æ„šé’çš„è¯ï¼š\u0026ldquo;å…³æˆ‘*äº‹ï¼Ÿ\u0026rdquo; å°†æ¥å“ªä¸€å¤©ï¼Œæˆ‘å¼€åŒ–äº†ï¼Œå†æ¥ä»”ç»†ç ”ç©¶ä¸€ä¸‹æ„ä¹‰é—®é¢˜å§ã€‚\n","date":"16 July 2016","externalUrl":null,"permalink":"/2016/07/16/thought_on_patriotism/","section":"Posts","summary":"\u003cp\u003eå…¬å…ƒ 2016 å¹´ï¼ŒçœŸæ˜¯ä¸€ä¸ªå¤šäº‹ä¹‹å¹´å•Šï¼Œå„ç§äº‹ä»¶æ¥è¸µè€Œè‡³ï¼Œçº·è‡³æ²“æ¥ï¼Œä»¿ä½›æ’æ¼”å¥½çš„ä¸€èˆ¬ï¼Œä¸æ–­åœ¨ç°å®ä¸è™šæ‹Ÿç©ºé—´åˆ¶é€ ç€å†²çªã€å¯¹æŠ—ï¼Œä¹Ÿåˆ¶é€ ç€è¯é¢˜ã€‚\u003c/p\u003e","title":"ã€Œæ±‰å¥¸èµ°ç‹—ã€ä¸ã€Œå…³æˆ‘*äº‹ã€","type":"posts"},{"content":"ä½ å¯èƒ½ä¸ä¿¡ï¼Œäººçš„æƒ³æ³•è½¬å˜å¯èƒ½æ˜¯ä¸€ç¬é—´çš„ã€‚\nä¸Šä¸ªæœˆå’Œå®‡æ˜èŠå¤©ï¼Œä»–è·Ÿæˆ‘æåˆ°äº†\u0026quot;ç»å‘½æ¯’å¸ˆ\u0026quot;è¿™éƒ¨ç¾å‰§ï¼Œæˆ‘é¬¼ä½¿ç¥å·®è®°ä¸‹æ¥äº†ï¼Œè€Œä¸”ä¸‹è½½ä¸‹æ¥å»çœ‹äº†ï¼Œè¿˜å–œæ¬¢ä¸Šäº†ã€‚ä¸»äººå…¬Walter White æ˜¯ä¸€ä¸ªæ‰åæ¨ªæº¢çš„é«˜ä¸­åŒ–å­¦è€å¸ˆï¼Œå¯¹äºè‡ªå·±çš„æœ¬èŒå·¥ä½œç®€ç›´ä¸èƒ½ç”¨èƒœä»»æ¥å½¢å®¹äº†ã€‚å½“å¾—çŸ¥è‡ªå·±å¾—äº†è‚ºç™Œä»¥åï¼Œä¸ºäº†ç­¹é›†æ²»ç—…çš„é’±ä»¥åŠä¸ºè‡ªå·±çš„è„‘ç˜«å„¿å­å’Œæœªå‡ºç”Ÿçš„å¥³ç”Ÿç•™ä¸‹ä¸€ç¬”ç”Ÿæ´»è´¹ï¼Œå¼€å§‹å’Œè‡ªå·±ä»¥å‰çš„å­¦ç”Ÿåˆ©ç”¨è‡ªå·±çš„åŒ–å­¦çŸ¥è¯†åˆ¶é€ å†°æ¯’ã€‚Walter White æ˜¯ä¸€ä¸ªæ™®é€šäººï¼Œå……æ»¡å–„å¿ƒï¼Œè°¨å°æ…å¾®ï¼Œ è€å®å·´äº¤ï¼Œè¿™æ ·çš„äººæˆ‘ä»¬çš„å‘¨å›´ä¹Ÿä¸€å¤§å †ã€‚å¾—äº†ç™Œç—‡ä»¥åï¼Œä»–çš„ç²¾ç¥å‘ç”Ÿäº†å·¨å¤§çš„å˜åŒ–ï¼Œè®°å¾—æœ€æ·±çš„ä¸€ä¸ªåœºæ™¯æ˜¯ï¼šæœ‰ä¸€ä¸ªå°å¹´è½»åœ¨æ¨¡ä»¿è‡ªå·±çš„è„‘ç˜«å„¿å­ï¼Œå˜²ç¬‘ä»–ï¼ŒWalter å¹¶æ²¡æœ‰å¿æ°”åå£°ï¼Œè€Œæ˜¯å‹‡æ•¢åœ°ç‹ ç‹ ä¿®ç†äº†é‚£ä¸ªå®¶ä¼™ä¸€é¡¿ã€‚åœ¨å‘ç”Ÿäº†ä¸€ç³»åˆ—åå¸¸çš„äº‹æƒ…ä»¥åï¼Œå¦»å­é—®ä»–ï¼Œåˆ°åº•å‘ç”Ÿä»€ä¹ˆäº†ï¼Ÿä»–çš„å›ç­”ä»¤æˆ‘å°è±¡æ·±åˆ» :\u0026ldquo;I am awaken.\u0026quot;ã€‚\næ¯ä¸ªäººéƒ½æœ‰è¿™ç§ awaken çš„æ—¶åˆ»å§ï¼Ÿçªç„¶ä¸€ç¬é—´ï¼Œä½ è§‰å¾—è‡ªå·±çš„å†…å¿ƒæ­£åœ¨ä»æŸç§ç¡¬å£³ä¸­æŒ£æ‰å‡ºæ¥ï¼Œå¿ƒæƒ…æ— æ¯”çš„æ„‰å¿«ï¼Œä¸€ä¸ªé•¿æœŸå¥—åœ¨å¤´ä¸Šçš„ç´§ç®å’’æ¶ˆå¤±äº†ï¼Œè¿™æ ·çš„æ—¶åˆ»ï¼Œå¯¹äºè‡ªå·±æ¥è¯´çœŸæ˜¯å€¼å¾—é“­è®°çš„æ—¶åˆ»ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ï¼Œæ²¡æœ‰å°è¯´ä¸­çš„ç´«æ°”å†²å¤©ï¼Œä¹Ÿæ²¡æœ‰å¤©é™ç¥¥ç‘ï¼Œéƒ½æ²¡æœ‰ï¼Œä¸–ç•Œè¿˜æ˜¯å¦‚å¸¸è¿è½¬ã€‚ä½†æ˜¯ä½ çŸ¥é“ï¼Œæœ‰çš„ä¸œè¥¿æ”¹å˜äº†ï¼Œä¸€æ—¦æ”¹å˜äº†å°±å¾ˆéš¾é‡å›åŸè·¯äº†ã€‚\nè¿™å‡ å¤©æŠ½ç©ºçœ‹äº†ä¸€æœ¬ä¹¦ï¼Œå°æ¹¾ç‰ˆåå­—å«ã€Šå¤§è·¯ï¼Œé«˜é€Ÿä¸­å›½é‡Œçš„ä½é€Ÿäººç”Ÿã€‹ï¼Œå¾ˆæœ‰æ„æ€çš„æ˜¯ï¼Œè¿™æœ¬ä¹¦çš„å¤§é™†ç‰ˆåå­—å«ã€Šå¤§è·¯ï¼Œé«˜é€Ÿä¸­å›½é‡Œçš„å·¥åœ°è®°äº‹ã€‹ï¼Œè¿™æœ¬ä¹¦ç”±å¹¿è¥¿å¸ˆèŒƒå¤§å­¦å‡ºç‰ˆç¤¾å‡ºç‰ˆï¼Œä½†æ˜¯è¿™æœ¬ä¹¦æ­äº†å’±ä¼Ÿå¤§ç¥–å›½çš„çŸ­ï¼Œä¹¦å†™äº†é˜´æš—é¢ï¼Œä¸ç§¯æï¼Œç»™å’±ç¤¾ä¼šä¸»ä¹‰æŠ¹äº†é»‘ï¼Œå› æ­¤å°± 404 not found äº†ã€‚ä½œè€…æ˜¯ç‹¬ç«‹çºªå½•ç‰‡å¯¼æ¼”å¼ èµæ³¢ï¼Œå¯èƒ½ä¹Ÿæ²¡æœ‰å‡ ä¸ªäººå¬è¯´è¿‡ã€‚ä»–ä¸ºäº†æ‹ä¸€éƒ¨å±äºä¸­å›½çš„\u0026quot;å…¬è·¯ç‰‡\u0026rdquo;ï¼Œåœ¨æ¹–å—æº†æµ¦é«˜é€Ÿçš„å·¥åœ°ä¸Šä¸ç­‘è·¯è€…ä¸€èµ·æ¸¡è¿‡äº†ä¸‰å¹´æ—¶å…‰ï¼Œç»å†äº†è®¸å¤šé²œä¸ºäººçŸ¥çš„èƒŒåçš„æ•…äº‹ã€‚ä½ çŸ¥é“ä¸€æ¡é«˜é€Ÿå…¬è·¯æ˜¯å¦‚ä½•ä¿®æˆçš„å—ï¼Ÿæœ‰å¤šå°‘æ´»ç€çš„äººæŠ‘æˆ–æ˜¯æ­»å»çš„çµé­‚è¦ä¸ºé«˜é€Ÿå…¬è·¯è®©è·¯ï¼Ÿé«˜é€Ÿå…¬è·¯ä¿®å»ºä¸­æœ‰æ€ä¹ˆæ ·çš„åˆ©ç›Šçº è‘›ï¼Ÿæ™®é€šçš„ç­‘è·¯æ°‘å·¥ä»¥åŠç”Ÿæ´»åœ¨é«˜é€Ÿè·¯çº¿æ²¿é€”çš„æ°‘ä¼—åˆæœ‰æ€ä¹ˆæ ·è¾›é…¸åŠ¨äººçš„æ•…äº‹ï¼Ÿè¿™æœ¬ä¹¦å‘æˆ‘ä»¬å±•ç¤ºäº†å…¶ä¸­ä¸€è§’ã€‚æœ€åå¼•ç”¨ä¹¦ä¸­çš„ä¸€æ®µè¯ä½œä¸ºå°¾å£°ï¼š\nå½“\u0026quot;å‘å±•\u0026quot;æˆä¸ºè¿™ä¸ªæ—¶ä»£çš„æ°¸æ’ä¸»é¢˜,é‚£æ˜¯ä¸€æ¡æ›´æ¼«é•¿ã€æ›´å®½å¹¿ã€æ›´æœ‰åŠ›çš„é“è·¯ã€‚æ²¡æœ‰äººèƒ½ä¹‹ç¥å¥‡å¤–ï¼šå¤–æ¥è€…ä¸æœ¬åœ°äººï¼ŒåŸé‡Œäººä¸ä¹¡ä¸‹äººï¼ŒåŠ³å¿ƒè€…ä¸åŠ³åŠ›è€…ï¼Œå¯Œè´µè€…ä¸è´«å¯’è€…ï¼ŒæƒåŠ¿è€…ä¸æ— æƒè€…ï¼Œæ—¢å¾—åˆ©ç›Šè€…å’Œè¢«ä¾®è¾±è¢«æŸå®³çš„äºº\u0026hellip;.. ä»–ä»¬è™½ç„¶å½¼æ­¤å¯¹ç«‹ï¼Œå„èµ°ä¸€è¾¹ï¼Œå´ä¸å¾—ä¸å…±åŒå‰è¿›ã€‚æ²¡æœ‰äººèƒ½å’Œè¿™æ¡å¤§è·¯èƒŒé“è€Œé©°ï¼Œé€ƒè„±å®ƒåˆ¶å®šçš„è½¨è¿¹ã€æ–¹å‘å’Œé€Ÿåº¦ã€‚æ»šæ»šå‘å‰çš„ï¼Œæ˜¯æ°¸ä¸åœæ¯çš„æ—¶å…‰å’Œå®¿å‘½ã€‚\n","date":"30 May 2016","externalUrl":null,"permalink":"/2016/05/30/i_am_awaken/","section":"Posts","summary":"\u003cp\u003eä½ å¯èƒ½ä¸ä¿¡ï¼Œäººçš„æƒ³æ³•è½¬å˜å¯èƒ½æ˜¯ä¸€ç¬é—´çš„ã€‚\u003c/p\u003e","title":"I Am Awaken","type":"posts"},{"content":" ä»ä¹¡ä¸‹æ¬åˆ°å¸‚é‡Œä¸åˆ°ä¸€å¹´ï¼Œæ—¶é—´ä¸æ˜¯å¾ˆé•¿ï¼Œæ³¨æ„åˆ°äº†ä¸¤ä¸ªäº‹æƒ…ï¼Œè®©æˆ‘æ€»æ˜¯æƒ³å†™ç‚¹ä»€ä¹ˆæ¥è¯´ä¸€è¯´ã€‚\næˆ‘ä»¬ä½çš„å…¬å¯“å»ºäºé›¶å‡ å¹´ï¼Œè·ä»Šå·²æœ‰åå‡ å¹´çš„å†å²ï¼Œå…¬å¯“é‡Œæ€»å…±æœ‰å››éƒ¨ç”µæ¢¯ï¼Œæˆ‘æ›¾è®¤çœŸåœ°çœ‹è¿‡ç”µæ¢¯çš„ç‰Œå­ï¼Œç«Ÿç„¶æ˜¯\u0026quot;OTIS\u0026ldquo;ç‰Œï¼Œæˆ‘å¿ƒä¸­ OTIS ç‰Œç”µæ¢¯å±äºè´¨é‡å¾ˆå¥½çš„ç”µæ¢¯ï¼Œä½†æ˜¯è¿™äº›ç”µæ¢¯ç«Ÿç„¶ç»å¸¸å‡ºé—®é¢˜ï¼šæ—¶ä¸æ—¶å°±å› ä¸ºä»€ä¹ˆé—®é¢˜ï¼Œå¤–é¢æŒ¡äº†ä¸€ä¸ªå›´æ ï¼Œæ­£åœ¨ç»´ä¿®ï¼›è€Œä¸”æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œè¿›å…¥ç”µæ¢¯ä¼šçœ‹åˆ°ä¸€ä¸ªå…¬å‘Šï¼Œå¤§æ„æ˜¯è¯´ç”µæ¢¯æ­£åœ¨ç”³è¯·å¹´æ£€ï¼Œé‡åˆ°é—®é¢˜ï¼Œè¯·æ‰“æŸæŸç”µè¯ã€‚çœ‹æ¥å¥½å“ç‰Œä¹Ÿè€—ä¸è¿‡æ—¶é—´ï¼Ÿ\nç”µæ¢¯ç»å¸¸å‡ºç°çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒæŒ‰çš„æ¥¼å±‚æ•°æ€»å…±ä¸èƒ½è¶…è¿‡ä¸‰ä¸ªï¼Œå¦‚æœè¶…è¿‡ä¸‰ä¸ªï¼Œæ‰€æœ‰æŒ‰çš„æ¥¼å±‚éƒ½ä¼šç†„ç­ï¼Œéœ€è¦é‡æ–°å†æŒ‰ã€‚å…¬å¯“æ€»å…±æœ‰åå››å±‚ï¼Œæ¯æ¬¡ç”µæ¢¯åˆ°äº†ä¸€æ¥¼ï¼Œå¤§å®¶ä¸€æ‹¥è¿›äº†ç”µæ¢¯ï¼Œæ€»å‘ç° 13ã€14 å·²ç»è¢«æŒ‰äº†ï¼Œå¦‚æœæœ‰äººåˆæŒ‰äº† 10ï¼Œ11 å±‚ï¼Œé‚£ä¹ˆä½åœ¨ 7 å±‚çš„æˆ‘å°±å¾ˆå°´å°¬ï¼Œåˆ°åº•æ˜¯æŒ‰è¿˜æ˜¯ä¸æŒ‰å‘¢ï¼Ÿé‡åˆ°è¿™æ ·çš„æƒ…å†µå¤šäº†ï¼Œæˆ‘æ€»åœ¨æƒ³ï¼Œä¸€è¿›å»ç”µæ¢¯å°±æŠŠ 13ã€14 å±‚æŒ‰æ‰çš„äººï¼Œåˆ°åº•æ˜¯æ€ä¹ˆæƒ³çš„å‘¢ï¼Œæ˜¯ä¸çŸ¥é“ç”µæ¢¯çš„é—®é¢˜ï¼Œè¿˜æ˜¯å…¶ä»–åŸå› å‘¢ï¼Ÿå¦‚æœæ˜çŸ¥é“ç”µæ¢¯çš„é—®é¢˜ï¼Œä»ç„¶å»æŠ¢å…ˆæŒ‰æ‰ 13ã€14 å±‚ï¼Œä¸ºä»€ä¹ˆï¼Ÿè¿™ä»¶äº‹è®©æˆ‘æƒ³åˆ°äº†å¤§å®¶çš„æ€•åƒäºï¼Œå–œæ¬¢æŠ¢å å…ˆæœºï¼Œå°±åƒå»å¬ä¸€åœºè®²åº§ï¼Œæˆ–è€…å»ä¸Šä¸€å ‚éå¸¸çˆ†æ»¡çš„è¯¾ï¼Œå°±ç®—æˆ‘ä¸å»ï¼Œæˆ‘ä¹Ÿä¼šå…ˆè®©åŒå­¦å ä¸ªåº§ï¼Œæˆ‘çš„æ‰‹é‡Œç»ä¸èƒ½ç©ºç©ºå¦‚ä¹Ÿï¼Œæˆ‘éœ€è¦æŠ“ä½ä¸€äº›ä¸œè¥¿ï¼Œæ‰èƒ½è§‰å¾—æ»¡è¶³ã€‚å°±ç®—æˆ‘çŸ¥é“ï¼Œç­‰ç”µæ¢¯ä¸€å±‚ä¸€å±‚å¾€ä¸Šï¼Œä¸‹å±‚çš„ç†„ç­ä»¥åæˆ‘å¯ä»¥å†æŒ‰ 13ã€14 å±‚ï¼Œæˆ‘ä¹Ÿä¸æƒ³è¿™ä¹ˆå»åšï¼Œä¸€è¿›ç”µæ¢¯å°±æŒ‰æ¥¼å±‚ï¼Œç»™æˆ‘ä¸€ç§å®‰å…¨æ„Ÿï¼Œæˆ‘çŸ¥é“è‡ªå·±å¯ä»¥åˆ°è¾¾é‚£é‡Œï¼Œè€Œä¸æ˜¯ä¼šè¢«å¸¦åˆ°å¦å¤–çš„æ¥¼å±‚ï¼Œéœ€è¦å†çˆ¬æ¥¼æ¢¯ä¹‹ç±»ã€‚åœ¨è¿™æ ·çš„ä¸€ä¸ªå°äº‹ä¸Šï¼Œæˆ‘çœ‹åˆ°äº†ä¸€é¢—é¢—æ€¥è¿«çš„å¿ƒã€‚\nä»å…¬å¯“åˆ°å®éªŒå®¤æœ‰ä¸€ä¸ªåå­—è·¯å£ï¼Œæ¯æ¬¡å—åŒ—æ–¹å‘çš„ç»¿ç¯ç­æ‰ï¼Œå‘è¥¿è½¬çš„ç»¿ç¯äº®èµ·ï¼Œå°±æœ‰äººæƒ³è¦å¾€å¯¹é¢ç©¿è¡Œï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¾€è¥¿è½¬çš„è½¦ä¸å¾—ä¸ä»¥æ›´ç¼“æ…¢çš„é€Ÿåº¦è¡Œé©¶ï¼Œä»¥é¿å…æ’åˆ°è¡Œäººï¼Œè¡ŒäººåŒæ ·ä¹Ÿå¿…é¡»èµ°çš„éå¸¸å°å¿ƒï¼Œä»¥é˜²æ­¢è¢«è½¦æ’ã€‚æ˜æ˜å¾€è¥¿è½¬çš„ç»¿ç¯å˜çº¢ä»¥åæœ‰å¤§æŠŠçš„æ—¶é—´å¯ä»¥è®©ä½ å®‰å¿ƒåœ°è¿‡å»ï¼Œé‚£ä¹ˆä½ ä¸ºä»€ä¹ˆå®æ„¿èƒ†æˆ˜å¿ƒæƒŠä¹Ÿè¦é—¯è¿‡å»ï¼Ÿæ˜¯æœ‰ä»€ä¹ˆéå¸¸è¦ç´§çš„äº‹æƒ…å—ï¼Ÿ\nä¸ºä»€ä¹ˆæˆ‘ä»¬çš„å›½äººéƒ½é‚£ä¹ˆçš„ä¸å®‰ï¼Œåå…¬äº¤éœ€è¦å»æŠ¢åº§ï¼Œååœ°é“ä¹Ÿéœ€è¦æŠ¢åº§ä½ï¼Œå»ä¸Šè¯¾ä¹Ÿè¦å»æŠ¢ä¸ªä½ç½®ï¼Œä¹°æˆ¿å­ä¹Ÿè¦æŠ¢ï¼Œä¸æ˜¯æ³°å›½çš„å¤§è™¾ä¹Ÿè¦æŠ¢å—ï¼Œæ—¥æœ¬çš„é©¬æ¡¶ä¹Ÿè¦æŠ¢ï¼Œæˆ‘ä»¬çš„æŠ¢ä»å›½å†…å‘æ‰¬åˆ°äº†å›½å¤–ï¼Œä¹Ÿç®—æ˜¯å‘æ‰¬å…‰å¤§äº†ï¼ŒæŠ¢ä¼¼ä¹å·²èå…¥æˆ‘ä»¬çš„åŸºå› ä¸æ–‡åŒ–äº†ã€‚åˆ°åº•å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿè‡ªå¤ä»¥æ¥æˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆçš„ä¸€ä¸ªæ°‘æ—å—ï¼Ÿ\nè¿™å‡ å¤©æ­£å¥½æ—¥æœ¬åœ°éœ‡ï¼Œçˆ±å›½çš„äººå£«ä¹Ÿä¸€ç‰‡æ¬¢å‘¼ï¼Œæ¨ä¸å¾—æ—¥æœ¬å²›éƒ½èƒ½ç»™éœ‡æ²‰æ²¡äº†æ‰å¼€å¿ƒï¼Œçœ‹äº†ä¸€äº›æŠ¥é“ï¼Œç¾æ°‘æ²¡æœ‰æ…Œä¹±ï¼Œæ’é˜Ÿé¢†å–åƒçš„ä¸œè¥¿ï¼Œå‡ºè¶…å¸‚ä¹°æ°´ä¹Ÿæœªå‡ºç°æŠ¢è´­æ½®ï¼Œè¿˜æœ‰ä¸€äº›äººä¸»åŠ¨ä½äºé™é¢è´­ä¹°é¥®ç”¨æ°´ã€‚ä½•æ—¶æˆ‘ä»¬ä¹Ÿèƒ½å¦‚æ­¤ä»å®¹å‘¢ï¼Ÿ\n","date":"18 April 2016","externalUrl":null,"permalink":"/2016/04/18/our_worry_and_anxiety/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190528010725.png\" width=\"800\"\u003e\n\u003c/p\u003e\n\u003cp\u003eä»ä¹¡ä¸‹æ¬åˆ°å¸‚é‡Œä¸åˆ°ä¸€å¹´ï¼Œæ—¶é—´ä¸æ˜¯å¾ˆé•¿ï¼Œæ³¨æ„åˆ°äº†ä¸¤ä¸ªäº‹æƒ…ï¼Œè®©æˆ‘æ€»æ˜¯æƒ³å†™ç‚¹ä»€ä¹ˆæ¥è¯´ä¸€è¯´ã€‚\u003c/p\u003e","title":"æˆ‘ä»¬çš„ç„¦èºä¸ä¸å®‰","type":"posts"},{"content":" æˆ‘è¿˜æ²¡éª‘è¿‡ç”µåŠ¨è½¦ï¼Œä¹Ÿæƒ³è¿‡ä»¥åè¦éª‘ç”µåŠ¨è½¦ã€‚æ®è¯´ï¼Œå¾ˆå¤šç”µåŠ¨è½¦è½¦ä¸»ç»å¸¸æ¨ªå†²ç›´æ’ï¼Œå®Œå…¨ä¸éµå®ˆäº¤é€šè§„åˆ™ï¼Œé€ æˆäº†å¤§é‡ä¸¥é‡çš„äº¤é€šäº‹æ•…ï¼Œæ¯å¹´å› ä¸ºç”µåŠ¨è½¦æ­»äº†ä¸å°‘äººï¼Œè¿™äº›è¯´æ³•æŠŠæˆ‘å“ä½äº†ã€‚å‰äº›æ—¶å€™æœ‰äººå»ºè®®å¯¹ç”µåŠ¨è½¦åŠ ä»¥é™åˆ¶ï¼Œæˆ‘å¾ˆèµæˆã€‚è¯´å®åœ¨çš„ï¼Œå“ªèƒ½å®¹è®¸è¿™äº›ç”µåŠ¨è½¦å¦‚æ­¤éšæ„åœ°å¼€æ¥å¼€å»ã€‚ä½†å‡å¦‚æˆ‘å¯¹è¿™ä»¶äº‹è¿˜æœ‰ç‚¹äº†è§£ï¼Œæˆ‘è¦è¯´ï¼šé™¤äº†ä¸€åˆ€åˆ‡ç¦æ‰ï¼Œæ²¡æœ‰ä»€ä¹ˆé™åˆ¶çš„æ–¹æ³•ã€‚é‚£ä¸œè¥¿å¼€èµ·æ¥å¤ªå¿«ï¼Œå¤ªé‚ªé—¨äº†ã€‚ç°ä»£ç¤¾ä¼šæŠ€æœ¯å‘è¾¾ï¼Œç”µåŠ¨è½¦ä¹Ÿè¶Šé€ é€Ÿåº¦è¶Šå¿«ï¼Œæƒ³è¦ç®¡ç†ä¸å‡ºäº‹æ•…å¤ªéš¾äº†ï¼Œä¸å¦‚ç¦æ­¢æ–¹ä¾¿ã€‚å‡å¦‚æˆ‘éª‘ç”µåŠ¨è½¦ä¸Šç­ï¼Œæˆ–è€…æˆ‘æ˜¯é€å¤–å–çš„ï¼Œæ²¡æœ‰ç”µåŠ¨è½¦ä¼šæœ‰äº›å›°éš¾ã€‚ä½†æˆ‘ä½•å¿…ä¸ºé‚£äº›äººæ“å¿ƒï¼Ÿåœ¨å¤§è¡—ä¸Šï¼Œå¤§é‡çš„ç”µåŠ¨è½¦åœ¨è¡Œé©¶ã€‚ä½†æ˜¯æˆ‘ï¼Œä¸€ä¸ªæç ”ç©¶çš„ï¼Œä¸ä½¿ç”¨å®ƒä»¬å®Œå…¨å¯ä»¥ã€‚æ‰€ä»¥ï¼ŒæŠŠç”µåŠ¨è½¦ç¦æ‰å§ï¼Œçœå¾—æˆ‘å¬äº†å¿ƒçƒ¦ã€‚\nç”µåŠ¨è½¦æ˜¯æ–¹ä¾¿äººè¿‘è·ç¦»è¡ŒåŠ¨çš„çœåŠ›å·¥å…·ã€‚è¿˜æœ‰è®©ç”µåŠ¨è½¦è¡Œèµ°çš„å·¥å…·ï¼Œå°±æ˜¯å„ç§è·¯ã€‚ä½ æƒ³æƒ³çœ‹ï¼Œæ²¡æœ‰é©¬è·¯ï¼Œæœ‰ç”µåŠ¨è½¦ä¹Ÿè·‘ä¸äº†ã€‚å†è¯´ï¼Œä¸‰è½®è½¦ï¼Œå¹³è¡¡è½¦ç­‰ä¹Ÿå¯èƒ½é€ æˆäº¤é€šäº‹æ•…ã€‚å¿…é¡»ç ´åæ‰å„ç§é©¬è·¯ï¼Œç¦æ­¢é€šè¡Œï¼Œè¿™æ‰æ˜¯æ²»æœ¬ã€‚è¿™å›æˆ‘å¯æœ‰ç‚¹èˆä¸å¾—\u0026mdash;æˆ‘æƒ³åˆ°å“ªé‡Œå»ç©ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šä¹˜åå…¬äº¤ï¼Œè€Œå…¬äº¤è¦è¡Œèµ°åœ¨é©¬è·¯ä¸Šã€‚æˆ‘ä»é«˜ä¸­å¼€å§‹èµ°é©¬è·¯ï¼Œæˆ‘ç”¨å®ƒå»ç½‘å§ï¼Œå»å¸‚ä¸­å¿ƒç©ï¼Œå»å­¦æ ¡ä¸Šå­¦ã€‚\né¡ºä¾¿è¯´ä¸€å¥ï¼Œèµ°é©¬è·¯ä¸Šå­¦æ˜¯ç§å¹¸ç¦ï¼Œæ²¡æœ‰é©¬è·¯ï¼Œèµ°å±±è·¯å»å­¦æ ¡æ˜¯ç§å·¨å¤§çš„ç—›è‹¦ã€‚ä½†æ˜¯å®ƒä¸å­¦å¥½ï¼Œå±…ç„¶èƒ½èµ°ç”µåŠ¨è½¦äº†ï¼Œè¿™å¯æ˜¯å®ƒè‡ªå·±ä½œæ­»ï¼Œåˆ«äººæ•‘ä¸äº†å®ƒã€‚çœ‹åœ¨åå¹´è€äº¤æƒ…ä¸Šï¼Œæˆ‘ä¸ºå®ƒè¯´å‡ å¥å¥½è¯ï¼šå¤ä»£çš„åœŸè·¯æ˜¯æ— å®³çš„ã€‚é‚£ç§é¢ ç°¸ä¸å¹³æ•´çš„åœŸè·¯ï¼Œæ²¡æœ‰èƒ½åŠ›è®©è½¦èµ°çš„å¾ˆå¿«ã€‚ç°ä»£çš„é“ºä¸Šæ°´æ³¥æˆ–è€…æŸæ²¹æ²¥é’çš„è·¯æ‰æ˜¯æœ‰ç½ªçš„ï¼šè¿™äº›é©¬è·¯éå¸¸å¹³æ•´ï¼Œåœ¨ä¸Šé¢è½¦èƒ½å¼€å¾—å¾ˆå¿«ï¼ŒæŠŠå®ƒç¦äº†å§â€¦â€¦ä½†ç°åœ¨èµ°å¤ä»£çš„åœŸè·¯ï¼Œä¸ä¸€å®šèƒ½åŠåˆ°ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥è¦æ±‚æ”¿åºœè˜è¯·ä¸“å®¶ï¼Œä»”ç»†ç ”ç©¶å¤ä»£å…¸ç±ï¼Œåˆ¶é€ å¤ä»£çš„åœŸè·¯ã€‚æ”¿åºœå¬äº†çªçœ¼ï¼Œè¯´ï¼šä½ ä»¬æ˜¯ä¸æ˜¯æœ‰æ¯›ç—…ï¼Ÿå›ç­”åº”è¯¥æ˜¯ï¼šæˆ‘ä»¬æ²¡æ¯›ç—…ï¼Œä½ æ‰æœ‰æ¯›ç—…\u0026mdash;ä½†è¦é˜²æ­¢æ”¿åºœæŠŠæˆ‘ä»¬çš„æ°‘ä¼—ä»£è¡¨é€è¿›ç–¯äººé™¢ã€‚å½“ç„¶ï¼Œå¦‚æœå†³å®šäº†ç¦æ‰ä¸€åˆ‡é©¬è·¯ï¼Œæˆ‘ä¹Ÿèƒ½å¯¹ä»˜ã€‚æˆ‘å¯ä»¥èµ°å°è·¯çœ‹ç”µå½±åƒé¥­ï¼Œå»è½¦ç«™ï¼Œè¦ä¸Šå­¦å°±èµ°å°é“å»ã€‚æ®‹ç–¾ä¸èƒ½èµ°å°é“çš„å¯ä»¥è®©åˆ«äººèƒŒç€ä½ èµ°å°é“å˜›ï¼Œè™½ç„¶æ‰¾åˆ°è¿™ä¹ˆä¸€ä¸ªäººæ¯”è¾ƒéš¾ï¼Œä½†æ˜¯\u0026ndash;è°¢å¤©è°¢åœ°ï¼Œæˆ‘ç°åœ¨å·²ç»ä¸ç”¨ä¸Šå­¦äº†ã€‚\né™¤äº†ç”µåŠ¨è½¦ï¼Œå°æ±½è½¦ä¹Ÿåœ¨è½½äººã€‚åœ¨è¿™æ–¹é¢ï¼Œæˆ‘çš„æ€åº¦æ˜¯åšå®šçš„ï¼šæˆ‘èµæˆä¸¥åŠ ç®¡ç†ã€‚é¦–å…ˆï¼Œå¤–å›½çš„æ±½è½¦ä¸ä¸­å›½ç‰¹è‰²çš„å›½æƒ…ä¸ç¬¦ï¼Œåº”è¯¥é€šé€šç¦æ‰ã€‚å…¶æ¬¡ï¼Œå›½å†…çš„æ±½è½¦ç”Ÿäº§å‚å®¶è‰¯è ä¸é½ï¼Œåšå‡ºçš„æ±½è½¦ä¹Ÿå¤šæœ‰ä¸å¥½çš„â€¦â€¦æˆ‘æ˜¯åšç ”ç©¶çš„ï¼Œä¸åšæ±½è½¦æ— ç¼˜ï¼Œåªä¸è¿‡æƒ³æœ‰ç‚¹åˆ›æ–°ã€‚å‰åˆ©ï¼Œå¥‡ç‘ï¼Œæ¯”äºšè¿ªï¼Œåšå‡ºçš„æ±½è½¦ï¼Œæˆ‘ä¹Ÿçœ‹ä¸å…¥çœ¼ï¼Œä½†ä»–ä»¬å¯éƒ½å‘å¤§è´¢äº†ã€‚åº”è¯¥ä¸¥æ ¼å®¡æŸ¥\u0026ndash;è¯åˆè¯´å›æ¥ï¼ŒæŠŠå¤§è¡—ä¸Šè·‘çš„æ±½è½¦ç»Ÿç»Ÿæ£€æŸ¥ä¸€éï¼Œä¸æ”¾è¿‡ä»»ä½•ä¸€è¾†ä¸å¤§å®¹æ˜“ï¼Œå€’ä¸å¦‚é€šé€šç¦æ‰ç®—äº†ã€‚ä¸­å›½å¤ä»£å‡ åƒå¹´å†å²äº†ï¼Œåªé é©¬è½¦ã€æ­¥è¡Œã€éª‘é©¬ä¸ä¹Ÿæ´»è¿‡æ¥äº†å˜›ã€‚æˆ‘å¯ä¸åƒå¹´è½»äººï¼Œèµ°å‡ æ­¥è·¯å°±å«åš·ç€å«Œè¿œã€‚æˆ‘æœ‰åœŸè·¯èµ°å°±è¡Œäº†ã€‚è¯´æ¥è¯´å»ï¼Œæˆ‘æŠŠè‡ªè¡Œè½¦æ¼æ‰äº†ã€‚è¿™ç§ä¹Œä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œåº”è¯¥é¦–å…ˆç¦æ‰ã€‚å¹´è½»äººæ²¡æœ‰äº‹ï¼Œå¯ä»¥å¤šèµ°èµ°è·¯ï¼Œæ—¢é™¶å†¶äº†æ€§æƒ…ï¼Œåˆé”»ç‚¼äº†èº«ä½“â€¦â€¦\nè¿™æ ·ç¦æ¥ç¦å»ï¼Œæ€»æœ‰ä¸€å¤©ç¦åˆ°æˆ‘èº«ä¸Šã€‚æˆ‘æ˜¯æå›¾åƒæ–¹é¢çš„ç ”ç©¶çš„ï¼Œä½†è®©æˆ‘è¯´æˆ‘åšçš„ä¸œè¥¿å®Œå…¨ä¸ä¼šé€ æˆä»€ä¹ˆäº‹æ•…æˆ–è€…ä¼¤å®³ï¼Œæˆ‘ä¹Ÿåšä¸åˆ°ã€‚å†è¯´ï¼Œåˆ°é‚£æ—¶æˆ‘å·²ç»å“å‚»äº†ï¼Œå“ªæœ‰ç²¾ç¥ç»™è‡ªå·±è¾©æŠ¤ã€‚ç”µåŠ¨è½¦ï¼Œå°æ±½è½¦éƒ½èƒ½ç¦ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç¦æç ”ç©¶ï¼Ÿæˆ‘ä»¬çˆ±åšç ”ç©¶ï¼Œè¿˜æœ‰ä¸è¯†å­—çš„äººå‘¢ï¼Œä»–ä»¬å‡†èµæˆç¦æ­¢æç ”ç©¶ã€‚å¥½å§ï¼Œæˆ‘ä¸æç ”ç©¶äº†ï¼Œåˆ°å»ºç­‘å·¥åœ°æ¬ç –å»ã€‚æˆ‘çš„èº«ä½“è¿˜å‡‘æ´»ï¼Œèƒ½å½“æ¬è¿å·¥ã€‚åˆ«çš„äººæœªå¿…æ¬å¾—åŠ¨ç –å¤´â€¦â€¦\næˆ‘èµæˆå¯¹å±å®³å…¬ä¼—å®‰å…¨ç§©åºçš„ä¸œè¥¿åŠ ä»¥é™åˆ¶ï¼Œåªè¦é™åˆ¶ä¸åˆ°æˆ‘ã€‚ä½†é™åˆ¶æ¥é™åˆ¶å»ï¼Œç»“æœå´å‡ºä¹æˆ‘çš„æƒ³è±¡ã€‚\næµ·æ˜å¨åœ¨ã€Šé’Ÿä¸ºè°é¸£ã€‹é‡Œè¯´è¿‡è¿™ä¸ªæ„æ€ï¼šæ‰€æœ‰çš„äººæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåˆ«äººçš„ä¸å¹¸å°±æ˜¯ä½ çš„ä¸å¹¸ã€‚æ‰€ä»¥ï¼Œä¸è¦ä»¥ä¸ºä¸§é’Ÿæ˜¯ä¸ºè°è€Œé¸£\u0026mdash;å®ƒå°±æ˜¯ä¸ºä½ è€Œé¸£ã€‚ä½†è¿™ä¸ªæƒ³æ³•æˆ‘è§‰å¾—é™Œç”Ÿï¼Œæˆ‘å°±ç›¼ç€åˆ«äººå€’éœ‰ã€‚äº”åå¤šå¹´å‰ï¼Œæœ‰ä¸ªå¾·å›½çš„æ–°æ•™ç‰§å¸ˆè¯´ï¼šèµ·åˆï¼Œä»–ä»¬æŠ“å…±äº§å…šå‘˜ï¼Œæˆ‘ä¸è¯´è¯ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯å·¥ä¼šä¼šå‘˜ï¼›åæ¥ï¼Œä»–ä»¬æŠ“çŠ¹å¤ªäººï¼Œæˆ‘ä¸è¯´è¯ï¼Œå› ä¸ºæˆ‘æ˜¯äºšåˆ©å®‰äººï¼›åæ¥ä»–ä»¬æŠ“å¤©ä¸»æ•™å¾’ï¼Œæˆ‘ä¸è¯´è¯ï¼Œå› ä¸ºæˆ‘æ˜¯æ–°æ•™å¾’ï¼Œâ€¦â€¦æœ€åä»–ä»¬æ¥æŠ“æˆ‘ï¼Œå·²ç»æ²¡äººèƒ½ä¸ºæˆ‘è¯´è¯äº†ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œè¿™é‡Œä¸æ˜¯çº³ç²¹å¾·å›½ï¼Œæˆ‘ä¹Ÿä¸æ˜¯æ–°æ•™ç‰§å¸ˆã€‚æ‰€ä»¥ï¼Œè¿™äº›è¯æˆ‘ä¹Ÿä¸æƒ³è®°ä½ã€‚\n","date":"11 April 2016","externalUrl":null,"permalink":"/2016/04/11/thought_on_motor_ban/","section":"Posts","summary":"\u003cp align=\"center\"\u003e\n\u003cimg src=\"https://blog-resource-1257868508.file.myqcloud.com/20190528010420.png\" width=\"800\"\u003e\n\u003c/p\u003e","title":"ä»ã€Œç¦æ‘©é™ç”µã€è¯´èµ·","type":"posts"},{"content":"æƒ³èµ·äº†ä¸€ä¸ªå¾ˆå¥½ç¬‘çš„ç¬‘è¯ï¼Œæœ‰äººåœ¨ç½‘ä¸Šæé—®ï¼šâ€œè€å©†æ€€å­•äº†ï¼Œä½†æ˜¯éš”å£é‚»å±…å®¶é‡Œæœ‰wifiï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Œåœ¨çº¿ç­‰ï¼Œæ€¥ï¼â€æœ‰äººå›ç­”ï¼šâ€œé€é‚»å±…ä¸€ä¸ªä»™äººæŒï¼Œèƒ½é˜²wifiã€‚â€ç”Ÿæ´»ä¸­ï¼Œä½ ä¹Ÿç»å¸¸å¬åˆ°æœ‰äººå¯¹ä½ è¯´ï¼Œæ–°ä¹°çš„æ‰‹æœºå¿…é¡»å®Œå…¨æ”¾ç”µï¼Œç„¶åæ‰èƒ½å……æ»¡ç”µï¼Œå¿…é¡»é‡å¤è¿™æ ·å‡ æ¬¡ï¼›è¿˜æœ‰äººå¯¹ä½ è¯´ï¼Œæ‰‹æœºç”µæ± å¿…é¡»ç”¨åˆ°å¿«æ²¡æœ‰ç”µå†å»å……ç”µæ‰è¡Œï¼Œå¦åˆ™ä¼šæŸä¼¤ç”µæ± ã€‚\næœ‰æ—¶å€™ä½ ä¹Ÿå¯¹åˆ«äººè¿™ä¹ˆè¯´ï¼Œä½ è¯´çš„å¾ˆç†ç›´æ°”å£®ï¼Œå› ä¸ºä½ è§‰å¾—æ˜¯çœŸçš„ï¼Œäº‹å®å°±æ˜¯è¿™æ ·çš„ï¼Œéš¾é“ä¸æ˜¯è¿™æ ·å—ï¼Ÿå¯æ˜¯è®¤çœŸå¾€æ·±å¤„æŒ–æ˜ï¼Œä½¿åŠ²åœ°æŒ–æ˜ï¼Œä½ å¼€å§‹æ€è€ƒï¼Œæˆ‘è¿™æ ·çš„è®¤çŸ¥æœ‰æ ¹æ®å—ï¼Œæˆ‘çš„è®¤çŸ¥åŸºäºä»€ä¹ˆå‘¢ï¼Œç§‘å­¦å®éªŒï¼Ÿæ—¥å¸¸ç»éªŒï¼Ÿåˆ«äººç»å¸¸è¿™ä¹ˆè¯´ï¼Œæˆ‘å¬çš„å¤šäº†ï¼Œå°±è¿™ä¹ˆè®¤ä¸ºäº†ï¼Ÿä½ äºæ˜¯è§‰å¾—ï¼Œæ‰€è°“åšå®šä¸ç§»è®¤ä¸ºæ­£ç¡®çš„ï¼Œæ˜¯å¤šä¹ˆä¸å ªä¸€å‡»ï¼Œåœ¨ç¨å¾®ä¸¥è‚ƒçš„æ€è€ƒä¸‹ã€‚\nä½ ä¸æƒ³å»åšä¸¥è‚ƒçš„æ€è€ƒï¼Œæ¯•ç«Ÿä½ è¿˜å¹´è½»ï¼Œä½ è¿˜æœ‰å¾ˆå¤šæ›´é‡è¦çš„äº‹æƒ…å»åšï¼Œä½ è¦å‘è®ºæ–‡ï¼Œä½ å¾—æŒ£é’±ï¼Œä¹°æˆ¿å­ï¼Œæ€ä¹ˆèƒ½æµªè´¹æ—¶é—´å»æƒ³è¿™äº›å¯¹ä½ æ²¡ä»€ä¹ˆç”¨çš„äº‹æƒ…å‘¢ï¼Œå†è¯´ä½ è§‰å¾—è‡ªå·±ä¹Ÿæƒ³ä¸æ¸…æ¥šï¼Œè¿˜ä¸å¦‚çœ‹ä¸¤é›†ç”µè§†å‰§ï¼Œæˆ–è€…å†åˆ·ä¸€éæœ‹å‹åœˆï¼Œæ˜¯å§ã€‚\nç–«è‹—äº‹ä»¶éå¸¸ç«çƒ­ï¼Œæœ‰äººå†™äº†ä¸€ç¯‡â€œç–«è‹—ä¹‹æ®‡â€ï¼ŒæŠŠæœ€è¿‘çš„ç–«è‹—äº‹ä»¶å’Œ13å¹´è´¢æ–°ç½‘çš„ä¸€ç¯‡æŠ¥é“æ”¾åœ¨äº†ä¸€èµ·ï¼Œè¿…é€Ÿå¼•çˆ†å¾®åšï¼Œè½¬å‘é‡å’Œè¯„è®ºéƒ½æƒŠäººï¼Œä½ éšä¾¿çœ‹äº†çœ‹ï¼Œæ²¡æœ‰è®¤çœŸæ€è€ƒå°±ç›¸ä¿¡äº†ï¼Œç„¶åä½ è§‰å¾—éå¸¸æ„¤ã€‚\næ¥ç€ï¼Œå°±æœ‰äººè¾Ÿè°£äº†ï¼Œè¿™ä¸ªç–«è‹—åªæ˜¯äºŒç±»ç–«è‹—ï¼Œä¸æ˜¯ä¸€ç±»ç–«è‹—ï¼Œå¹¶ä¸”ä¿¡èª“æ—¦æ—¦å‘ä½ ä¿è¯ï¼Œå°±ç®—ç–«è‹—åœ¨é«˜æ¸©ä¸‹è¿è¾“ï¼Œæ²¡æœ‰é‡‡ç”¨å†·é“¾è¿è¾“ï¼Œæœ€å¤§çš„å¯èƒ½æ€§æ˜¯å¤±å»æ´»æ€§ï¼Œæ³¨å°„åˆ°äººä½“æ²¡ä»€ä¹ˆå±å®³ï¼Œå½“ç„¶ä»–ä¹Ÿå¾ˆå¥½å¿ƒåœ°å‘ä½ æä¾›äº†å¦å¤–ä¸€ç§å¾®å°çš„å¯èƒ½ï¼Œå³æ³¨å°„ä»¥åå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„åæœï¼Œè­¬å¦‚æ­»äº¡ï¼Œæˆ–è€…æ¤ç‰©äººï¼šä½ çœ‹äº†ä»¥åï¼Œè§‰å¾—çœŸå®¢è§‚ï¼Œè¿˜æŠŠå¯èƒ½ä¸å¥½çš„ç»“æœéƒ½è¯´å‡ºæ¥äº†ã€‚äºæ˜¯ä½ æ”¾å¿ƒäº†ï¼Œè¿˜è§‰å¾—å‰é¢çš„â€œç–«è‹—ä¹‹æ®‡â€çš„ä½œè€…æ€ä¹ˆè¿™ä¹ˆå¯æ¶å‘¢ï¼ŸæŠŠæ³¨å°„ç–«è‹—äº§ç”Ÿçš„ä¸è‰¯ååº”å’Œæ­£å¸¸ç–«è‹—å¤±å»æ´»æ€§ä»¥åçš„ç»“æœç­‰åŒèµ·æ¥ï¼Œè¯¯å¯¼å¹¿å¤§çš„äººæ°‘ç¾¤ä¼—ï¼Œé€ æˆææ…Œï¼Œå¤ªåäº†ï¼Œä½ ä¹‰æ„¤å¡«è†ºï¼Œè§‰å¾—è‡ªå·±å¤ªè ¢äº†ï¼Œæ€ä¹ˆæ²¡æœ‰è®¤çœŸåˆ†æä¸€ä¸‹å‘¢ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰è®¤çœŸçœ‹æ–‡ç« ï¼Œä¸ºä»€ä¹ˆåªçœ‹äº†é‚£ä¸€è¾¹å°±ç›¸ä¿¡äº†è¿™æ˜¯äº‹å®å‘¢ï¼Œæ€ä¹ˆå°±è¢«éª—äº†å‘¢ï¼Œä½ è§‰å¾—ç—›å¿ƒç–¾é¦–ã€‚ç„¶åï¼Œä½ åˆçœ‹åˆ°äº†â€œå’Œèœå¤´â€çš„æ–‡ç« ã€Šæ¯ä¸€ä¸ªæ–‡ç›²éƒ½å–œæ¬¢ç”¨â€œæ®‡â€å­—ã€‹ï¼Œä»¥åŠâ€œå°é“æ¶ˆæ¯â€Fengçš„æ–‡ç« ï¼ŒæŒ‡è´£åª’ä½“æ“çºµç¾¤ä¼—æƒ…ç»ªï¼Œåˆ©ç”¨æ— çŸ¥ç¾¤ä¼—è¾¾åˆ°è‡ªå·±çš„ä¸å¯å‘Šäººçš„ç›®çš„ï¼Œè­¬å¦‚æ¨å¹¿å›½å¤–çš„ç–«è‹—ï¼Œä½ æ›´åŠ éƒé—·äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘å°±è¿™ä¹ˆè½»æ˜“åœ°ç›¸ä¿¡äº†å‘¢ï¼Ÿ\nä½†æ˜¯ï¼Œæ¯ä¸€ä¸ªç²¾å½©çš„æ•…äº‹ï¼Œæ²¡æœ‰ä¸€æ³¢ä¸‰æŠ˜æ€ä¹ˆè¡Œï¼Ÿæ¥ç€å°±æœ‰â€œç‹äº”å››â€œçš„æ–‡ç« å‡ºæ¥äº†ï¼Œã€Šæœ‰å…äºææƒ§çš„ç–«è‹—å—ï¼Ÿç»™æˆ‘æ¥ä¸€é’ˆã€‹ï¼Œæ‰¹è¯„å’Œèœå¤´è¿™ç§ç»™ç–«è‹—æ´—åœ°è¡Œä¸ºï¼Œè¡¨æ‰¬å¹¿å¤§äººæ°‘ç¾¤ä¼—ä¸ºäº†è‡ªå·±çš„æƒåˆ©è€Œå¥‹æ–—çš„è¡Œä¸ºï¼ŒæŒ‡å‡ºè™½ç„¶ç¾¤ä¼—å¯èƒ½å¹¶ä¸æ˜ç™½å…¶ä¸­çš„å„ç§ç§‘å­¦å¸¸è¯†ï¼Œè™½ç„¶æ„šæ˜§ï¼Œä½†æ˜¯ç¾¤ä¼—ä¹Ÿæ˜¯ä¸ºäº†è‡ªèº«çš„å®‰å…¨ç€æƒ³ï¼Œæ€ä¹ˆèƒ½åœ¨è¿™ä¸ªæ—¶å€™ç«™åœ¨ç¾¤ä¼—çš„å¯¹ç«‹é¢å‘¢ï¼Ÿéš¾ä¸æˆä»¥åæ‰€æœ‰çš„æ–°é—»éƒ½è¦ä½¿ç”¨æ–°åç¤¾çš„ç»Ÿä¸€ç¨¿ä»¶å—ï¼Ÿç„¶è€Œå¹¶æ²¡æœ‰å®Œï¼Œåˆæœ‰äººæŒ‡å‡ºï¼Œç–«è‹—é«˜æ¸©è¿è¾“ï¼Œæœ€å¤§å¯èƒ½æ€§æ˜¯å¤±æ´»ï¼Œè¿™è¯æ²¡é”™ï¼Œä½†æ˜¯ä½ ä»¬æƒ³è¿‡æ²¡æœ‰ï¼Œæ— æ•ˆçš„ä¸œè¥¿æœ¬æ¥å°±æ˜¯ä¸€ç§ä¼¤å®³å¥½å—ï¼Œä½ å¦‚ä½ è¢«ç‹—å’¬äº†ï¼Œç„¶åä½ å»æ³¨å°„äº†ä¸€é˜µæ— æ•ˆçš„ç‹‚çŠ¬ç–«è‹—ï¼Œç„¶åæ­å–œä½ ï¼Œä½ å‘ç—…ï¼Œå¹¶ä¸”â€œä¸å¯æ•‘è¯â€åœ°èº«äº¡äº†ï¼›å†è­¬å¦‚åŒ»é™¢ç»™ä½ å¼€ä¸ªæ— æ•ˆçš„è¯å“ï¼Œç»“æœä½ çš„ç—…æƒ…åŠ é‡äº†ï¼ŒåŒ»é™¢è¯´ï¼Œè¿™æ€ä¹ˆèƒ½æ€ªæˆ‘å‘¢ï¼Œæˆ‘åªæ˜¯ç»™ä½ å¼€äº†ä¸€ä¸ªæ— æ•ˆçš„è¯å“è€Œå·²ï¼Œåˆä¸ä¼šä¼¤å®³ä½ ï¼Œä½ è¿™æ—¶å€™å¤§æ¦‚æƒ³é—®å€™ä¸€ä¸‹ä»–çš„ç¥–å…ˆï¼Œå†ç—›æ‰ä»–ä¸€é¡¿ã€‚ä½ åˆä¸€æ¬¡ç—›æ‚”ï¼Œå“­å¤©æŠ¢åœ°ï¼Œæˆ‘XXæ€ä¹ˆå°±è¿™ä¹ˆè ¢ï¼Œå°±æ€ä¹ˆç›¸ä¿¡äº†å¤±æ´»çš„ç–«è‹—ä¸ä¼šé€ æˆå±å®³ï¼Œè¿˜è§‰å¾—æˆ‘å·²ç»çŸ¥é“æœ€ç»ˆçš„ç­”æ¡ˆå‘¢ï¼Ÿ\nä¸Šå‘¨æœ«ï¼Œçœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« ï¼Œè¯´åˆ°äº†å“²å­¦å®¶åŠ æ•°å­¦å®¶ç½—ç´ åœ¨1959å¹´æ¥å—BBCçš„ä¸€æ¬¡é‡‡è®¿ï¼Œåœ¨è®¿é—®æœ€åï¼Œä»–è¢«é—®é“ï¼Œå¦‚æœ1000å¹´ä»¥åæœ‰äººä¼šçœ‹åˆ°ä»Šå¤©çš„é‡‡è®¿ï¼Œä½ æƒ³å¯¹ä»–ä»¬è¯´ä»€ä¹ˆï¼Œä»–æ˜¯è¿™ä¹ˆå›ç­”çš„ï¼š\nI should like to say two things, one intellectual and one moral.\nThe intellectual thing I should want to say to them is this: When you are studying any matter, or considering any philosophy, ask yourself only what are the facts and what is the truth that the facts bear out. Never let yourself be diverted either by what you wish to believe, or by what you think would have beneficent social effects if it were believed. But look only, and solely, at what are the facts. That is the intellectual thing that I should wish to say.\nå¸Œæœ›ä½ èƒ½ä»ä¸­æ”¶è·ä¸€ç‚¹ç‚¹ä¸œè¥¿ï¼Œè¿˜é¥¿å—:)\nå‚è€ƒ # ç½—ç´ å¯¹æœªæ¥çš„å¯„è¯­ ","date":"26 March 2016","externalUrl":null,"permalink":"/2016/03/26/are_your_hungry_about_vaccine/","section":"Posts","summary":"\u003cp\u003eæƒ³èµ·äº†ä¸€ä¸ªå¾ˆå¥½ç¬‘çš„ç¬‘è¯ï¼Œæœ‰äººåœ¨ç½‘ä¸Šæé—®ï¼šâ€œè€å©†æ€€å­•äº†ï¼Œä½†æ˜¯éš”å£é‚»å±…å®¶é‡Œæœ‰wifiï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Œåœ¨çº¿ç­‰ï¼Œæ€¥ï¼â€æœ‰äººå›ç­”ï¼šâ€œé€é‚»å±…ä¸€ä¸ªä»™äººæŒï¼Œèƒ½é˜²wifiã€‚â€ç”Ÿæ´»ä¸­ï¼Œä½ ä¹Ÿç»å¸¸å¬åˆ°æœ‰äººå¯¹ä½ è¯´ï¼Œæ–°ä¹°çš„æ‰‹æœºå¿…é¡»å®Œå…¨æ”¾ç”µï¼Œç„¶åæ‰èƒ½å……æ»¡ç”µï¼Œå¿…é¡»é‡å¤è¿™æ ·å‡ æ¬¡ï¼›è¿˜æœ‰äººå¯¹ä½ è¯´ï¼Œæ‰‹æœºç”µæ± å¿…é¡»ç”¨åˆ°å¿«æ²¡æœ‰ç”µå†å»å……ç”µæ‰è¡Œï¼Œå¦åˆ™ä¼šæŸä¼¤ç”µæ± ã€‚\u003c/p\u003e","title":"ä½ é¥¿ä¸é¥¿ï¼Ÿæ¥åƒç‚¹ä¸œè¥¿å¥½å—","type":"posts"},{"content":"In this post I summarize the commonly-used methods in Python os package.\nmethod related to paths # method description os.path.join join string to from a path os.path.split split directory and file name os.path.basename get the base name of file from a complete path os.path.abspath get the absolute path a file os.path.dirname get the directory name from a path If you want to combine several string to form a valid path, you can use os.path.join(). For example, if you want to combine \u0026quot;F:\\\\paper_ref\u0026quot;, \u0026quot;cnn_classify\u0026quot;, \u0026quot;hinton2012.bib\u0026quot; into a complete pathï¼Œyou can manually combine them using path separator of your system. But this way has some potential portability issue and is also error-prone. The best way is to use os.path.join method.\nos.path.join(\u0026#34;F:\\\\paper_ref\u0026#34;,\u0026#34;cnn_classify\u0026#34;,\u0026#34;hinton2012.bib\u0026#34;) os.path.split can split the directory name and file anme, for example,\nos.path.split(\u0026#34;d:/my_program/read_image.cc\u0026#34;)\r# output: (\u0026#39;d:/my_program\u0026#39;, \u0026#39;read_image.cc\u0026#39;) you can use os.path.basename to remove directory info and only get the base name of a file.\nos.path.basename(\u0026#34;f:/test/test.jpg\u0026#34;) # output: \u0026#39;test.jpg\u0026#39; With os.path.abspath, we can get the absolute path of a file in a folder. Suppose there is file named colour_themes.conf under current directory, you can use following command to get its absolute path,\nos.path.abspath(\u0026#39;colour_themes.conf\u0026#39;)\r# output: \u0026#39;/home/jdhao/files/colour_themes.conf\u0026#39; The os.path.dirname() method will return the path of a file (not including the file name)\nos.path.dirname(\u0026#34;file/music/song1.mp3\u0026#34;)\r# output: file/music check path or file # method decription os.path.isabs() decide if a path is absolute path os.path.isdir() decide if a path is directory path and check if it really exists os.path.isfile() decide if the given string is a file, also check if it really exists os.path.exists() check if a file or directory really exists directory manipulations # method description os.getcwd() get current working directory os.chdir() change current working directory os.listdir() list sub-directory and files under a certain directory1 os.mkdir() create a new directory os.rmdir() remove an empty directory, it can not remove non-empty directory2 os.remove() delete a file some attribute # There are also several use attribute. For better portability of your code, you should considering using these attribute instead of hard code.\nattribute description os.linesep line break character os.sep separator in a normal directory path name os.pathsep separator for the PATH environment variable References # http://www.cnblogs.com/feeland/p/4463682.html https://pymotw.com/2/ospath/ note that this method only output sub-directory and file names, with no path info\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nif you want to delete a non-empty directory, use shutil.rmtree\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"17 March 2016","externalUrl":null,"permalink":"/2016/03/17/common_methon_in_python_os_module/","section":"Posts","summary":"\u003cp\u003eIn this post I summarize the commonly-used methods in Python os package.\u003c/p\u003e","title":"Commonly-used Methods in Python OS Package","type":"posts"},{"content":"ç¥ç»ç½‘ç»œï¼Œä»å¤§å­¦æ—¶æœŸå°±å¬è¯´è¿‡ï¼Œåé¢ä¸Šè¯¾çš„æ—¶å€™è€å¸ˆä¹Ÿè®²è¿‡ï¼Œä½†æ˜¯æ„Ÿè§‰ä»æ¥æ²¡æœ‰çœŸæ­£æŒæ¡ï¼Œæ€»æ˜¯ä¼¼æ˜¯è€Œéï¼Œæ¯”è¾ƒæ¨¡ç³Šï¼Œå¥½åƒæ‡‚ï¼Œå…¶å®å¹¶ä¸æ‡‚ã€‚\nä¸ºäº†ææ‡‚ç¥ç»ç½‘ç»œçš„è¿è¡ŒåŸç†ï¼Œæœ‰å¿…è¦ææ¸…æ¥šç¥ç»ç½‘ç»œæœ€æ ¸å¿ƒçš„ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¯¯å·®åå‘ä¼ æ’­ç®—æ³•çš„å·¥ä½œåŸç†ï¼Œæœ¬æ–‡ä»¥æœ€ç®€å•çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œä¸ºä¾‹ï¼Œä»‹ç»è¯¯å·®åå‘ä¼ æ’­ç®—æ³•çš„åŸç†ã€‚\nåœ¨å¼€å§‹æ¨å¯¼ä¹‹å‰ï¼Œéœ€è¦å…ˆåšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œæ¨å¯¼ä¸­æ‰€ä½¿ç”¨çš„ç¥ç»ç½‘ç»œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ä¸€ä¸ªç¥ç»ç½‘ç»œç”±å¤šä¸ªå±‚ (layer) æ„æˆï¼Œæ¯ä¸€å±‚æœ‰è‹¥å¹²ä¸ªèŠ‚ç‚¹ (node)ï¼Œæœ€å·¦è¾¹æ˜¯ã€Œè¾“å…¥å±‚ã€ï¼Œä¸­é—´çš„å±‚è¢«ç§°ä¸ºã€Œéšå«å±‚ã€ï¼Œæœ€å³è¾¹æ˜¯ã€Œè¾“å‡ºå±‚ã€ï¼›ä¸Šä¸€å±‚èŠ‚ç‚¹ä¸ä¸‹ä¸€å±‚èŠ‚ç‚¹ä¹‹é—´ï¼Œéƒ½æœ‰è¾¹ç›¸è¿ï¼Œä»£è¡¨ä¸Šä¸€å±‚æŸä¸ªèŠ‚ç‚¹ä¸ºä¸‹ä¸€å±‚æŸä¸ªèŠ‚ç‚¹è´¡çŒ®çš„æƒå€¼ã€‚é€šå¸¸ä¸ºäº†ä½¿å¾—ç½‘ç»œèƒ½å¤Ÿæ¨¡æ‹Ÿå¤æ‚çš„å…³ç³»ï¼Œä¸Šä¸€å±‚èŠ‚ç‚¹çš„è¾“å‡ºä¹˜ä»¥æƒå€¼çŸ©é˜µå¾—åˆ°ä¸‹ä¸€å±‚èŠ‚ç‚¹åï¼Œéœ€è¦å†ç»è¿‡ã€Œæ¿€æ´»å‡½æ•°ã€å¯¹å¾—åˆ°çš„å„ä¸ªèŠ‚ç‚¹çš„å€¼è¿›è¡Œéçº¿æ€§åŒ–å¤„ç†ã€‚æ¿€æ´»å‡½æ•°å¯ä»¥é€‰ç”¨å¾ˆå¤šçš„å½¢å¼ï¼Œè¿™é‡Œä½¿ç”¨sigmoid å‡½æ•°ï¼Œè¡¨è¾¾å¼å¦‚ä¸‹ï¼š\n\\[\\begin{equation}\\label{eq1} f(x)=\\frac{1}{1+\\exp(-x)} \\end{equation}\\]\nå…¬å¼ \\(\\eqref{eq1}\\) ä¹‹æ‰€ä»¥ä½¿ç”¨ sigmoid å‡½æ•°ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› å°±æ˜¯ã€Œmathematical convenienceã€ï¼Œsigmoid å‡½æ•°çš„å¯¼æ•°å¾ˆå¥½è®¡ç®—ï¼Œ\n\\[\\begin{equation} f\u0026#39;(x)=f(x)(1-f(x)) \\end{equation}\\]\næ¥ä¸‹æ¥ï¼Œå¯¹æ¨å¯¼ä¸­ä½¿ç”¨çš„ç¬¦å·åšä¸€ä¸ªè¯¦ç»†çš„è¯´æ˜ï¼Œä½¿æ¨å¯¼çš„è¿‡ç¨‹æ¸…æ™°æ˜“æ‡‚ã€‚æˆ‘ä»¬ç”¨ \\(L\\) ä»£è¡¨ç½‘ç»œçš„å±‚æ•°ï¼Œç”¨ \\(S_l\\) ä»£è¡¨ç¬¬ \\(l\\) å±‚çš„èŠ‚ç‚¹çš„ä¸ªæ•°ï¼›ç”¨ \\(z^{(1)}\\) å’Œ \\(a^{(1)}\\) è¡¨ç¤ºç¬¬ \\(l\\) å±‚ç»è¿‡æ¿€æ´»å‡½æ•°å‰/åçš„èŠ‚ç‚¹å‘é‡ (\\(z^{(l)}_i\\) å’Œ \\(a^{(l)}_i\\) ä»£è¡¨ç»è¿‡æ¿€æ´»å‡½æ•°å‰/åèŠ‚ç‚¹ \\(i\\) çš„å€¼)ï¼Œæ ¹æ®ä»¥ä¸Šçš„è¡¨ç¤ºï¼Œ\\(a^{(1)}\\) ä»£è¡¨ç½‘ç»œçš„è¾“å…¥ \\(x\\), \\(a^{(L)}\\)ä»£è¡¨ç½‘ç»œçš„è¾“å‡º \\(y\\), ä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ \\(h_{W,b}(x)\\)ï¼›ç”¨ \\(W^{(l)}\\) è¡¨ç¤ºç¬¬\\(l\\) å±‚ä¸ç¬¬\\(l+1\\) å±‚ä¹‹é—´çš„æƒå€¼å½¢æˆçš„çŸ©é˜µï¼Œ\\(W^{(l)}_{ij}\\) ä»£è¡¨ \\(l\\) å±‚çš„èŠ‚ç‚¹ \\(j\\) ä¸\\(l+1\\) å±‚çš„èŠ‚ç‚¹ \\(i\\) ä¹‹é—´çš„æƒé‡(æ³¨æ„è¿™ç§è¡¨ç¤ºæ–¹å¼),ç”¨ \\(b^{(l)}\\) ä»£è¡¨ \\(l\\) å±‚åˆ°\\(l+1\\)å±‚ä¹‹é—´çš„åç½®å‘é‡ã€‚\næœ‰äº†ä¸Šé¢çš„ç¬¦å·åŒ–è¡¨ç¤ºï¼Œç¥ç»ç½‘ç»œå„å±‚ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥ç”¨ç®€æ´çš„å‘é‡çŸ©é˜µå½¢å¼æ¥è¡¨è¾¾å¦‚ä¸‹ï¼š\n\\[\\begin{align} z^{(l+1)} \u0026amp;= W^{(l)}a^{(l)}+b^{(l)} \\label{eq3} \\\\ a^{(l+1)} \u0026amp;= f\\left(z^{(l+1)}\\right) \\label{eq4} \\end{align}\\]\næ ¹æ®ä»¥ä¸Šçš„å¼å­ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—ç½‘ç»œä¸­æ¯ä¸€å±‚å„ä¸ªèŠ‚ç‚¹çš„å€¼äº†ï¼Œä¸Šè¿°çš„è¿‡ç¨‹ç§°ä¸ºã€Œå‰å‘ä¼ æ’­ã€(forward propagation) è¿‡ç¨‹ï¼Œåœ¨æ·±åº¦å­¦ä¹ åº“ä¸­é€šå¸¸éƒ½è¢«å«åšã€Œforwardã€ã€‚\né€šå¸¸ï¼Œç½‘ç»œåˆšåˆ›å»ºå¥½æ—¶ï¼Œæˆ‘ä»¬éšæœºåˆå§‹åŒ–æ¯ä¸¤å±‚ä¹‹é—´çš„æƒå€¼çŸ©é˜µä»¥åŠåç½®å‘é‡ï¼Œä½†æ˜¯è¿™æ ·å¾—åˆ°çš„ç½‘ç»œï¼Œè¾“å‡ºä¸å®é™…çš„å€¼å·®è·å¤ªå¤§ã€‚ä½¿ç”¨ç¥ç»ç½‘ç»œçš„ç›®çš„ï¼Œå½“ç„¶æ˜¯æƒ³è¦ç½‘ç»œçš„è¾“å‡ºä¸å®é™…çš„å€¼å·®è·å°½å¯èƒ½å°ï¼Œéšæœºåˆå§‹åŒ–ç½‘ç»œï¼Œæ˜¾ç„¶ä¸èƒ½æ»¡è¶³è¿™ä¸ªç›®çš„ã€‚ä½†æ˜¯å¦‚ä½•è°ƒæ•´å„å±‚ä¹‹é—´çš„æƒå€¼çŸ©é˜µä»¥åŠåç½®å‘¢ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼Œä¸‹é¢è¦æ¨å¯¼çš„åå‘ä¼ æ’­(backward propagation) ç®—æ³•å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„åˆ©å™¨ã€‚\næ­£å¼å¼€å§‹æ¨å¯¼ é€šå¸¸æ¥è¯´ï¼Œå¦‚æœæƒ³è¦å¾—åˆ°ä¸€ä¸ªè¾ƒå¥½çš„ç½‘ç»œï¼Œéœ€è¦æœ‰ä¸€æ‰¹å·²çŸ¥çš„è®­ç»ƒæ•°æ®ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨æ€»å…±æœ‰\\(m\\)ä¸ªæ ·æœ¬,å³\n\\[\\left\\{(x^{(i)}, y^{(i)})\\right\\}, i= 1,2,\\ldots,m\\]\nå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼˜åŒ–çš„ç›®æ ‡ä¸º ï¼š\n\\[\\begin{equation}\\label{eq5} J\\left(W,b;x^{(i)}, y^{(i)}\\right) = \\min_{W,b} \\frac{1}{2}\\left\\lVert h\\left(x^{(i)}\\right)- y^{(i)} \\right\\rVert^2 \\end{equation}\\]\nå…¬å¼ \\(\\eqref{eq5}\\) ä¸­ï¼Œä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬ç”¨ \\(h(x^{(i)})\\) è¡¨ç¤º $h_{W,b}(x^{(i)}) $\nå¯¹äºæ‰€æœ‰æ ·æœ¬æ¥è¯´,æˆ‘ä»¬éœ€è¦æœ€å°åŒ–çš„ç›®æ ‡å‡½æ•°ä¸ºï¼š\n\\[\\begin{equation} \\begin{aligned} J(W, b) \u0026amp;= \\frac{1}{m}\\sum_{i=1}^{m}J\\left(W,b;x^{(i)}, y^{(i)}\\right) + \\frac{\\lambda}{2}\\sum_{l=1}^{L-1}\\left\\lVert W^{(l)} \\right\\rVert_{F}^{2}\\\\ \u0026amp;= \\frac{1}{m}\\sum_{i=1}^{m}\\frac{1}{2}\\left\\lVert h(x^{(i)}) - y^{(i)}\\right\\rVert^2 + \\frac{\\lambda}{2}\\sum_{l=1}^{L-1}\\left\\lVert W^{(l)} \\right\\rVert_{F}^{2} \\end{aligned}\\label{eq6} \\end{equation}\\]\nä¸Šè¿°ä¼˜åŒ–ç›®æ ‡å‡½æ•° \\(\\eqref{eq6}\\)ï¼Œå¹¶ä¸ç®€å•æ˜¯å„ä¸ªæ ·æœ¬ä¼˜åŒ–ç›®æ ‡çš„å’Œï¼Œè€Œæ˜¯ç”±ä¸¤é¡¹æ„æˆï¼šç¬¬ä¸€é¡¹ä¸ºè¯¯å·®é¡¹ï¼Œç¬¬äºŒé¡¹ç§°ä¸ºã€Œæ­£åˆ™é¡¹ã€(è‹±æ–‡å«ã€Œregularization termã€ä¹Ÿç§°ä¸ºweight decay term)ï¼Œç”¨æ¥æ§åˆ¶å„å±‚æƒå€¼çŸ©é˜µçš„å…ƒç´ å¤§å°ï¼Œé˜²æ­¢æƒå€¼çŸ©é˜µè¿‡å¤§ï¼Œç½‘ç»œå‡ºç°è¿‡æ‹Ÿåˆï¼Œè¿™å’Œæ›²çº¿æ‹Ÿåˆä¸­å¯¹å‚æ•°ä½¿ç”¨æ­£åˆ™é“ç†æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ›²çº¿æ‹Ÿåˆä¸­ï¼Œå‚æ•°æ˜¯å‘é‡ï¼Œè¿™é‡Œçš„å‚æ•°æ˜¯çŸ©é˜µã€‚æˆ‘ä»¬ä½¿ç”¨ \\(F\\) èŒƒæ•°çš„å¹³æ–¹æ¥çº¦æŸæƒé‡çŸ©é˜µå…ƒç´ çš„å¤§å°ï¼Œæ­£åˆ™é¡¹å‰é¢çš„ç³»æ•° \\(\\lambda\\) (ç§°ä¸ºweight decay parameter) ç”¨æ¥æ§åˆ¶æ­£åˆ™é¡¹ä¸è¯¯å·®é¡¹ä¹‹é—´çš„æƒé‡ã€‚å¦å¤–ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªå¯¹æƒå€¼çŸ©é˜µè¿›è¡Œæ­£åˆ™ï¼Œä¸å¯¹åç½®è¿›è¡Œæ­£åˆ™ã€‚\nå…³äºFèŒƒæ•°çš„ä¸€ç‚¹å°çŸ¥è¯† ä¸ºäº†è®¡ç®—ç›®æ ‡å‡½æ•°å¯¹æƒé‡çŸ©é˜µçš„åå¯¼ï¼Œæœ‰å¿…è¦å¯¹ \\(F\\) èŒƒæ•° (ä¹Ÿç§°ä¸º \\(F\\)-norm) æœ‰æ‰€äº†è§£ã€‚å‡è®¾çŸ©é˜µ \\(A\\) æ˜¯å®æ•°çŸ©é˜µï¼Œå¤§å°ä¸º \\(m\\times n\\),å…¶ \\(F\\) èŒƒæ•°ç”¨å…¬å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š\n\\[\\begin{equation} \\lVert A \\rVert_F = \\sqrt{\\sum_{i=1}^{m}\\sum_{j=1}^{n} (a_{ij})^2} \\end{equation}\\]\nå¦å¤–å…³äºçŸ©é˜µ \\(A\\) çš„ \\(F\\) èŒƒæ•°å¯¹çŸ©é˜µ \\(A\\) å¦‚ä½•æ±‚å¯¼ï¼Œæœ‰å¦‚ä¸‹å…¬å¼ï¼š\n\\[\\begin{equation}\\label{eq8} \\frac{\\partial \\lVert A \\rVert_F^2 }{\\partial A}= 2A \\end{equation}\\]\næŠ½ä¸å‰¥èŒ§ï¼Œä¸æ–­æ·±å…¥ æˆ‘ä»¬ä¼˜åŒ–ç½‘ç»œçš„ç›®æ ‡æ˜¯è®¡ç®—å„å±‚çš„æƒå€¼çŸ©é˜µä»¥åŠåç½®å‘é‡ï¼Œä½¿å¾—ä¼˜åŒ–ç›®æ ‡å‡½æ•°å–å¾—æœ€å°å€¼ã€‚æ ¹æ®æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œå¯ä»¥è®¡ç®—ç›®æ ‡å‡½æ•°å¯¹å„ä¸ªå‚æ•°çš„åå¯¼ï¼Œé‡‡ç”¨è¿­ä»£æ–¹å¼æ¥æ›´æ–°å‚æ•°ï¼Œæœ€ç»ˆå¾—åˆ°æœ€ä¼˜çš„å‚æ•°å€¼ã€‚ä½†æ˜¯äº‹å®ä¸Šï¼Œä¸Šè¿°å‡½æ•°æ˜¯éå‡¸å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™ç®—æ³•å¹¶ä¸ä¸€å®šèƒ½å¤Ÿå¾—åˆ°å…¨å±€æœ€ä¼˜è§£(global optimum)ï¼Œä¸€èˆ¬åªèƒ½å¾—åˆ°å±€éƒ¨æœ€ä¼˜è§£(local optimum)ã€‚å®é™…ä¸­å¾—åˆ°çš„ç»“æœä¸€èˆ¬éƒ½æ˜¯æ¯”è¾ƒæ¥è¿‘æœ€ä¼˜ç»“æœï¼Œåœ¨å¯ä»¥æ¥å—çš„èŒƒå›´ä¹‹å†…ï¼Œæ‰€ä»¥æ‰ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•æ¥ä¼˜åŒ–ç¥ç»ç½‘ç»œã€‚å¦å¤–å®é™…ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰ä¸€äº›æŠ€å·§ï¼Œè­¬å¦‚åŠ å…¥ momentum é¡¹ï¼Œä½¿å¾—ç›®æ ‡å‡½æ•°èƒ½å¤Ÿè·³å‡ºlocal optimum ç‚¹ï¼Œä»è€Œå¾—åˆ°global optimumã€‚åœ¨å®é™…çš„æ·±åº¦å­¦ä¹ è®­ç»ƒä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨momentum æ¥åŠ å¿«æ”¶æ•›çš„é€Ÿåº¦ï¼Œè¿™é‡Œä»…è®¨è®ºæœ€åŸºæœ¬æƒ…å†µï¼Œå¯¹å¢åŠ  momentum é¡¹çš„æƒ…å†µä¸äºˆè®¨è®ºã€‚\nå¦‚æœå·²ç»æ±‚å¾—ç›®æ ‡å‡½æ•°å¯¹å„ä¸ªå‡½æ•°çš„åå¯¼æ•°ï¼Œé‚£ä¹ˆå„ä¸ªå‚æ•°çš„æ›´æ–°å…¬å¼å¦‚ä¸‹ï¼š\n\\[\\begin{align} W_{ij}^{(l)} \u0026amp;= W_{ij}^{(l)} - \\alpha \\frac{\\partial J(W,b)}{\\partial W_{ij}^{(l)}} \\label{eq9} \\\\ b_i^{(l)} \u0026amp;= b_i^{(l)} - \\alpha \\frac{\\partial J(W, b)}{\\partial b_i^{(l)}} \\label{10} \\end{align}\\]\nä»¥ä¸Šçš„å¼å­ä¸­ï¼Œ\\(\\alpha\\) ç§°ä¸ºã€Œå­¦ä¹ ç‡ã€(learning rate)ï¼Œç”¨æ¥æ§åˆ¶æƒé‡å’Œåç½®é¡¹çš„æ›´æ–°å¹…åº¦ï¼Œå¦‚æœ \\(\\alpha\\) å¤ªå¤§ï¼Œç½‘ç»œçš„å‚æ•°æ”¶æ•›é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°æ¥å›éœ‡è¡çš„æƒ…å†µï¼Œç”šè‡³ä¸èƒ½æ”¶æ•›ï¼›å¦‚æœ \\(\\alpha\\) å¤ªå°ï¼Œç½‘ç»œæ”¶æ•›é€Ÿåº¦å¤ªæ…¢ï¼Œè®­ç»ƒæ—¶é—´é•¿ã€‚éœ€è¦è¯´æ˜ï¼Œæƒé‡çŸ©é˜µä»¥åŠåç½®å‘é‡çš„å­¦ä¹ ç‡å¯ä»¥ä¸ä¸€æ ·ï¼Œæ ¹æ®éœ€è¦åˆ†åˆ«è®¾ç½®ï¼Œå®é™…ä¸Šï¼ŒCaffe å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œå¯ä»¥åœ¨ prototxt é‡Œé¢æŒ‡å®šæ¯å±‚çš„æƒé‡ä»¥åŠåç½®çš„å­¦ä¹ ç‡ï¼Œå…¶ä»–çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ä¹Ÿå¯ä»¥ç±»ä¼¼è®¾ç½®ã€‚\nä»ä¸Šé¢çš„å…¬å¼å¯ä»¥çœ‹å‡ºï¼Œç°åœ¨çš„å…³é”®æ˜¯ï¼Œå¦‚ä½•è®¡ç®—ç›®æ ‡å‡½æ•°å¯¹æƒé‡çŸ©é˜µä»¥åŠåç½®é¡¹å„ä¸ªå…ƒç´ çš„åå¯¼ï¼Œæ ¹æ®ç›®æ ‡å‡½æ•° \\(J(W, b)\\) çš„è®¡ç®—å…¬å¼ \\(\\eqref{eq6}\\)ï¼Œå¯ä»¥å¾—åˆ°ç›®æ ‡å‡½æ•°\\(J(W, b)\\) å¯¹æƒé‡çŸ©é˜µä»¥åŠåç½®é¡¹å„å…ƒç´ çš„å¯¼æ•°ï¼š\n\\[\\begin{align} \\frac{\\partial J(W, b) }{\\partial W_{ij}^{(l)}} \u0026amp;= \\left[\\frac{1}{m}\\sum_{i=1}^{m}\\frac{\\partial J\\left(W, b; x^{(i)}, y^{(i)}\\right)}{\\partial W_{ij}^{(l)}} \\right] + \\lambda W_{ij}^{(l)} \\label{eq11}\\\\ \\frac{\\partial J(W, b) }{\\partial b_i^{(l)}} \u0026amp;= \\frac{1}{m}\\sum_{i=1}^{m}\\frac{\\partial J\\left(W, b; x^{(i)}, y^{(i)}\\right)}{\\partial b_i^{(l)}} \\label{eq12} \\end{align}\\]\nä¸Šé¢ä¸¤ä¸ªå…¬å¼ä¸­,å…¬å¼ \\(\\eqref{eq11}\\) ååŠéƒ¨åˆ†å¯ä»¥å‚è€ƒå‰é¢å¯¹äºçŸ©é˜µèŒƒæ•°æ±‚å¯¼çš„å…¬å¼\\(\\eqref{eq8}\\) å¾—åˆ°ã€‚\nè§‚å¯Ÿä»¥ä¸Šå…¬å¼ï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•æ±‚å–æ ·æœ¬ç›®æ ‡å‡½æ•°å¯¹äºæƒé‡çŸ©é˜µä»¥åŠåç½®å‘é‡çš„åå¯¼ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•æ±‚ \\(\\frac{\\partial}{\\partial W_{ij}^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\) ä»¥åŠ \\(\\frac{\\partial}{\\partial b_{i}^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\)ï¼Ÿå¦‚æœå¾—åˆ°æ¯ä¸ªæ ·æœ¬çš„ç›®æ ‡å‡½æ•°å¯¹äºå„ä¸ªå‚æ•°çš„åå¯¼ï¼Œæ•´ä¸ªé—®é¢˜å°±è§£å†³äº†ã€‚\nè¿™å°±è¦ç”¨åˆ°æˆ‘ä»¬å‰é¢æ‰€è¯´çš„ back-propagation çš„æ€æƒ³äº†ï¼Œå½“æˆ‘ä»¬æŠŠä¸€ä¸ªæ ·æœ¬è¾“å…¥åˆ°ç½‘ç»œï¼Œé€šè¿‡å‰å‘ä¼ æ’­ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¾“å‡ºï¼Œæœ€ç»ˆè¾“å‡ºä¸å®é™…çš„å€¼ä¹‹é—´æœ‰è¯¯å·®ï¼Œç„¶åæˆ‘ä»¬é€šè¿‡æŸç§æœ‰ç»„ç»‡æœ‰è§„å¾‹çš„æ–¹å¼æŠŠè¯¯å·®ä¸€å±‚ä¸€å±‚å‘å‰ä¼ æ’­ï¼Œå¾—åˆ°è¯¯å·®ç›¸å¯¹äºæ¯ä¸€å±‚å‚æ•°çš„åå¯¼ï¼Œè¿™æ˜¯æ±‚è§£è¯¥é—®é¢˜çš„æ ¸å¿ƒæ€æƒ³ã€‚\nä¸ºäº†ä¾¿äºæ¨å¯¼ï¼Œå†å¼•å…¥å˜é‡ \\(\\delta_{i}^{(l)}=\\frac{\\partial}{\\partial z_{i}^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\), å³æœ€ç»ˆçš„è¯¯å·®å¯¹æ¯ä¸€å±‚èŠ‚ç‚¹ç»è¿‡æ¿€æ´»å‡½æ•°å‰çš„å˜é‡çš„åå¯¼ï¼Œç”¨å®ƒæ¥è¡¡é‡æŸä¸€å±‚æŸä¸ªèŠ‚ç‚¹å¯¹æœ€ç»ˆè¯¯å·®çš„è´¡çŒ®é‡ã€‚\nè®¡ç®—è¾…åŠ©å˜é‡çš„å€¼ å¯¹äºæœ€åä¸€å±‚(ç¬¬ \\(L\\) å±‚)ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¡ç®— \\(\\delta_i^{(L)}\\)ï¼Œè¯¦ç»†æ¨å¯¼å¦‚ä¸‹ï¼š\n\\[\\begin{equation} \\begin{aligned} \\delta_{i}^{(L)}\u0026amp;=\\frac{\\partial}{\\partial z_{i}^{(L)}}\\left(\\frac{1}{2}\\left\\lVert y - h(x) \\right\\rVert^2\\right) \\\\ \u0026amp;= \\frac{\\partial}{\\partial a_{i}^{(L)}}\\left(\\frac{1}{2}\\left\\lVert y - h(x) \\right\\rVert^2\\right)\\cdot \\frac{\\partial a_{i}^{(L)}}{\\partial z_{i}^{(L)}}\\\\ \u0026amp;=\\frac{1}{2}\\left[ \\frac{\\partial}{\\partial a_{i}^{(L)}}\\sum_{j=1}^{S_L} \\left(y_j - a_j^{(L)}\\right)^2 \\right] \\cdot \\frac{\\partial a_{i}^{(L)}}{\\partial z_{i}^{(L)}}\\\\ \u0026amp;=-\\left(y_{i}-a_{i}^{(L)}\\right)f\u0026#39;\\left(z_{i}^{(L)}\\right) \\end{aligned}\\label{eq13} \\end{equation}\\]\nä¸Šè¿°å…¬å¼ \\(\\eqref{eq13}\\) ä¸­ï¼Œ\\(f\u0026#39;\\left(z_{i}^{(L)}\\right)=a^{(L)}_{i}\\left(1-a^{(L)}_{i}\\right)\\) ï¼Œå¯¹äºå…¶ä»–å±‚ä¹Ÿæ˜¯å¦‚æ­¤è®¡ç®—ï¼Œä¸å†èµ˜è¿°ã€‚å¯¹äºå…¶ä»–å±‚(\\(l=L-1,L-2,\\cdots,2\\))çš„è¾…åŠ©å˜é‡ï¼Œè®¡ç®—å°±ä¸é‚£ä¹ˆå®¹æ˜“äº†ï¼Œå› ä¸ºè¾“å‡ºè¯¯å·®å¹¶ä¸ç›´æ¥å’Œè¿™äº›å±‚çš„èŠ‚ç‚¹ç›¸å…³ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ„é€ å…³ç³»ï¼Œåˆ©ç”¨å¾®ç§¯åˆ†é‡Œé¢çš„é“¾å¼æ³•åˆ™ (chain rule),å…·ä½“è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š\n\\[\\begin{equation} \\begin{aligned} \\delta_{i}^{(l)}\u0026amp;=\\frac{\\partial}{\\partial z_{i}^{(l)}}J(W,b;x,y) \\\\ \u0026amp;=\\sum_{j=1}^{s_{l+1}}\\frac{\\partial J}{\\partial z_{j}^{(l+1)}}\\cdot \\frac{\\partial z_{j}^{(l+1)}}{\\partial z_{i}^{(l)}}\\\\ \u0026amp;=\\sum_{j=1}^{s_{l+1}}\\delta_{j}^{(l+1)}\\cdot W_{ji}^{(l)}f\u0026#39;\\left(z_{i}^{(l)}\\right)\\\\ \u0026amp;=\\left(\\sum_{j=1}^{s_{l+1}} W_{ji}^{(l)}\\delta_{j}^{(l+1)}\\right)\\cdot f\u0026#39;\\left(z_{i}^{(l)}\\right) \\end{aligned}\\label{eq14} \\end{equation}\\]\nä¸ºäº†ä¾¿äºä¹¦å†™ï¼Œä¸Šé¢å…¬å¼\\(\\eqref{eq14}\\)ä¸­ï¼Œ\\(J(W,b;x,y)=J\\)ã€‚æ±‚è¯¯å·®å¯¹ \\(l\\) å±‚æŸä¸ªèŠ‚ç‚¹çš„åå¯¼ï¼Œæ— æ³•ç›´æ¥æ±‚è§£ï¼Œå› ä¸ºè¯¯å·®åªå’Œæœ€åä¸€å±‚çš„èŠ‚ç‚¹æœ‰ç›´æ¥å…³ç³»ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å·²ç»çŸ¥é“äº†è¯¯å·®ç›¸å¯¹äºä¸‹ä¸€å±‚ (ä¹Ÿå°±æ˜¯ \\(l+1\\) å±‚) èŠ‚ç‚¹çš„åå¯¼ï¼Œè€Œä¸‹ä¸€å±‚èŠ‚ç‚¹å’Œæœ¬å±‚ (\\(l\\) å±‚)ç›´æ¥ç›¸å…³ï¼Œé‚£ä¹ˆæ•´ä¸ªé“¾æ¡å°±å¯ä»¥æ‰“é€šäº†ã€‚å…³äºå¦‚ä½•ç”±ç¬¬ä¸€è¡Œå¾—åˆ°ç¬¬äºŒè¡Œï¼Œæˆ‘èµ·åˆå¹¶æ²¡æœ‰æ­£ç¡®å¾—åˆ°ï¼Œåæ¥ç»“åˆç½‘ä¸Šç»™çš„å‚è€ƒç»“æœï¼Œé€æ¸æƒ³é€šå¦‚ä½•è®¡ç®—ã€‚å¾®ç§¯åˆ†ä¸­æœ‰é’ˆå¯¹å¤šä¸ªä¸­é—´å˜é‡çš„é“¾å¼æ³•åˆ™ï¼Œå…¶æ€æƒ³ä¸ºï¼šå¦‚æœç›®æ ‡å˜é‡ (dependent varialbe)æ˜¯ä¸‰ä¸ªä¸­é—´å˜é‡(intermediate variable) \\(P,Q,R\\) çš„å‡½æ•°ï¼Œè€Œè¿™ä¸‰ä¸ªä¸­é—´å˜é‡åˆæ˜¯è‡ªå˜é‡ (independent variable) \\(x\\) çš„å‡½æ•°ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“è¯æ˜ä¸‹é¢çš„å¼å­æˆç«‹ï¼Œ\n\\[\\begin{equation}\\label{eq15} \\frac{\\partial \\, obj}{\\partial x}=\\frac{\\partial \\, obj}{\\partial P}\\cdot \\frac{\\partial P}{\\partial x}+\\frac{\\partial \\, obj}{\\partial Q}\\cdot \\frac{\\partial Q}{\\partial x}+\\frac{\\partial \\, obj}{\\partial R}\\cdot \\frac{\\partial R}{\\partial x} \\end{equation}\\]\nä¸Šè¿°å…¬å¼ \\(\\eqref{eq14}\\) ä¸­ç¬¬äºŒè¡Œçš„æ±‚å’Œç¬¦å·å°±æ˜¯è¿™ä¹ˆæ¥çš„ï¼Œèµ·åˆæ¨å¯¼æ—¶å°‘äº†æ±‚å’Œç¬¦å·ï¼Œåªæ±‚äº†è¯¯å·®ç›¸å¯¹äºä¸‹ä¸€å±‚èŠ‚ç‚¹ \\(i\\) çš„åå¯¼ï¼Œæ²¡æœ‰æ„è¯†åˆ°ä¸‹ä¸€å±‚çš„æ¯ä¸ªèŠ‚ç‚¹å…¶å®ä¸ä¸Šä¸€å±‚çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰å…³ç³», åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“æ±‚å¾—è¯¯å·®ç›¸å¯¹äºæœ¬å±‚çš„åå¯¼ï¼Œè¿™å°±æ˜¯è¯¯å·®åä¼ çš„æ€æƒ³ã€‚\næ ¹æ®æˆ‘ä»¬å‰é¢çš„å®šä¹‰ï¼Œä¸Šé¢çš„å…¬å¼ \\(\\eqref{eq14}\\)ï¼Œç¬¬äºŒè¡Œæ±‚å’Œç¬¦å·é‡Œé¢çš„ç¬¬ä¸€é¡¹\\(\\frac{\\partial J}{\\partial z_{j}^{(l+1)}}\\)ï¼Œç­‰äº \\(\\delta_{j}^{(l+1)}\\)ã€‚ç¬¬äºŒé¡¹å¦‚ä½•æ˜¾å¼è¡¨è¾¾å‡ºæ¥å‘¢ï¼Ÿç»“åˆå…¬å¼ \\(\\eqref{eq3}\\) å’Œ \\(\\eqref{eq4}\\)ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\n\\[\\begin{equation} \\begin{aligned} z_{j}^{(l+1)}\u0026amp;= \\left [\\sum_{i=1}^{s_l} W_{ji}^{(l)}\\cdot a_{i}^{(l)} \\right]+b_{j}^{(l)} \\\\ \u0026amp;=\\left [\\sum_{i=1}^{s_l} W_{ji}^{(l)}\\cdot f\\left(z_i^{(l)}\\right)\\right]+b_{j}^{(l)} \\end{aligned}\\label{eq16} \\end{equation}\\]\næœ‰äº†å…¬å¼ \\(\\eqref{eq16}\\)ï¼Œé‚£ä¹ˆå…¬å¼ \\(\\eqref{eq14}\\) ç¬¬äºŒè¡Œç¬¬äºŒé¡¹åå¯¼å°±å¾ˆå®¹æ˜“å¾—åˆ°äº†ï¼š\n\\[\\begin{equation} \\frac{\\partial z_{j}^{(l+1)}}{\\partial z_{i}^{(l)}}=W_{ji}^{(l)}f\u0026#39;(z_{i}^{(l)}) \\end{equation}\\]\nè¿™å°±æ˜¯å…¬å¼ \\(\\eqref{eq14}\\) ç¬¬ä¸‰è¡Œç¬¬äºŒé¡¹çš„æ¥å†ã€‚\nè®¡ç®—è¯¯å·®ç›¸å¯¹äºçŸ©é˜µå…ƒç´ å’Œåç½®å‘é‡å…ƒç´ çš„åå¯¼ æœ‰äº†ä»¥ä¸Šçš„é“ºå«ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è®¡ç®—è¯¯å·®ç›¸å¯¹äºçŸ©é˜µå…ƒç´ ä»¥åŠåç½®å‘é‡å…ƒç´ çš„åå¯¼äº†ã€‚\n\\[\\begin{equation} \\begin{aligned} \\frac{\\partial J}{\\partial W_{ij}^{(l)}}\u0026amp;=\\frac{\\partial J}{\\partial z_{i}^{(l+1)}}\\cdot\\frac{\\partial z_{i}^{(l+1)}}{\\partial W_{ij}^{(l)}} \\\\ \u0026amp;= \\delta_{i}^{(l+1)}\\cdot a_{j}^{(l)} \\end{aligned} \\end{equation}\\]\n\\[\\begin{equation} \\begin{aligned} \\frac{\\partial J}{\\partial b_{i}^{(l)}}\u0026amp;=\\frac{\\partial J}{\\partial z_{i}^{(l+1)}}\\cdot\\frac{\\partial z_{i}^{(l+1)}}{\\partial b_{i}^{(l)}}\\\\ \u0026amp;= \\delta_{i}^{(l+1)}\\cdot 1 \\\\ \u0026amp;= \\delta_{i}^{(l+1)} \\end{aligned} \\end{equation}\\]\nå‘é‡åŒ–è¡¨ç¤º å¯¹äºè¾“å‡ºå±‚ï¼š\n\\[\\begin{equation} \\delta^{(L)}=-\\left(y-a^{(L)}\\right)\\cdot f\u0026#39;\\left(z^{(L)}\\right) \\end{equation}\\]\nå¯¹äºå…¶ä»–å±‚ (\\(l=L-1,L-2,\\cdots,2\\)):\n\\[\\begin{equation} \\delta^{(l)}=\\left[\\left(W^{(l)}\\right)^{T}\\delta^{(l+1)}\\right]\\cdot f\u0026#39;\\left(z^{(l)}\\right) \\end{equation}\\]\næƒé‡ä»¥åŠåç½®æ›´æ–°å…¬å¼ï¼š\n\\[\\begin{align} \\frac{\\partial J}{\\partial W^{(l)}} \u0026amp;= \\delta^{(l+1)}\\left(a^{(l)}\\right)^{T}\\\\ \\frac{\\partial J}{\\partial b^{(l)}} \u0026amp;= \\delta^{(l+1)} \\end{align}\\]\næŠŠæ‰€æœ‰å…¬å¼æ•´åˆåœ¨ä¸€èµ· ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„å…¬å¼ç»“åˆåœ¨ä¸€èµ·ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°æ›´æ–°å…¬å¼äº†ã€‚\nåˆå§‹åŒ–ï¼Œå¯¹äºæ‰€æœ‰å±‚ (\\(l=1,2,\\cdots,L-1\\))ï¼Œä»¤ \\(\\Delta W^{(l)}=0\\), \\(\\Delta b^{(l)}=0\\),å‰ä¸€é¡¹æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œåä¸€é¡¹æ˜¯ä¸€ä¸ªå‘é‡ï¼Œåˆ†åˆ«ä»£è¡¨å¯¹æƒé‡çŸ©é˜µä»¥åŠåç½®å‘é‡çš„æ›´æ–°é‡ã€‚\nå¯¹äºä¸€ä¸ªbatchçš„æ‰€æœ‰è®­ç»ƒæ ·æœ¬ (for i=1 to m)\nä½¿ç”¨è¯¯å·®åä¼ è®¡ç®— \\(\\nabla_{W^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\) å’Œ \\(\\nabla_{b^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\) \\(\\Delta W^{(l)}:= \\Delta W^{(l)}+\\nabla_{W^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\) \\(\\Delta b^{(l)}:= \\Delta b^{(l)}+\\nabla_{b^{(l)}}J\\left(W,b;x^{(i)},y^{(i)}\\right)\\) æ›´æ–°å‚æ•°\n\\[\\begin{align} W^{(l)} \u0026amp;= W^{(l)}-\\alpha\\left[\\left(\\frac{1}{m}\\Delta W^{(l)}\\right) + \\lambda W^{(l)} \\right] \\\\ b^{(l)} \u0026amp;= b^{(l)}-\\alpha\\left[\\frac{1}{m}\\Delta b^{(l)}\\right] \\end{align}\\]\nè‡³æ­¤ï¼Œè¯¯å·®åä¼ ä»¥åŠå‚æ•°æ›´æ–°çš„å…¨éƒ¨å†…å®¹å®Œæˆï¼\nå‚è€ƒèµ„æ–™ http://ufldl.stanford.edu/wiki/index.php/Backpropagation_Algorithm https://en.wikipedia.org/wiki/Backpropagation http://neuralnetworksanddeeplearning.com/chap2.html ","date":"19 January 2016","externalUrl":null,"permalink":"/2016/01/19/back-propagation-in-mlp-explained/","section":"Posts","summary":"\u003cp\u003eç¥ç»ç½‘ç»œï¼Œä»å¤§å­¦æ—¶æœŸå°±å¬è¯´è¿‡ï¼Œåé¢ä¸Šè¯¾çš„æ—¶å€™è€å¸ˆä¹Ÿè®²è¿‡ï¼Œä½†æ˜¯æ„Ÿè§‰ä»æ¥æ²¡æœ‰çœŸæ­£æŒæ¡ï¼Œæ€»æ˜¯ä¼¼æ˜¯è€Œéï¼Œæ¯”è¾ƒæ¨¡ç³Šï¼Œå¥½åƒæ‡‚ï¼Œå…¶å®å¹¶ä¸æ‡‚ã€‚\u003c/p\u003e\n\u003cp\u003eä¸ºäº†ææ‡‚ç¥ç»ç½‘ç»œçš„è¿è¡ŒåŸç†ï¼Œæœ‰å¿…è¦ææ¸…æ¥šç¥ç»ç½‘ç»œæœ€æ ¸å¿ƒçš„ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯\u003ca\nhref=\"https://en.wikipedia.org/wiki/Backpropagation\"\u003eè¯¯å·®åå‘ä¼ æ’­ç®—æ³•\u003c/a\u003eçš„å·¥ä½œåŸç†ï¼Œæœ¬æ–‡ä»¥æœ€ç®€å•çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œä¸ºä¾‹ï¼Œä»‹ç»è¯¯å·®åå‘ä¼ æ’­ç®—æ³•çš„åŸç†ã€‚\u003c/p\u003e","title":"ç¥ç»ç½‘ç»œä¸­è¯¯å·®åå‘ä¼ æ’­(back propagation)ç®—æ³•çš„å·¥ä½œåŸç†","type":"posts"},{"content":"æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Windows ç³»ç»Ÿä¸‹ï¼Œå¦‚ä½•å®‰è£… Python å’Œ Pip, ä»¥åŠ Pip çš„ç®€å•ä½¿ç”¨ã€‚\nå®‰è£… Python # å¯ä»¥ä»å®˜æ–¹é€”å¾„å®‰è£… pythonï¼Œå®‰è£…åŒ…æ¯”è¾ƒå°ï¼Œä½†æ˜¯è¿™ä¸ªå®‰è£…åŒ…åªåŒ…å«äº†è¿è¡Œ Python æ‰€å¿…éœ€çš„åº“ä»¥åŠ Python å†…ç½®çš„ä¸€äº›åº“ï¼Œå› æ­¤ç¼ºå°‘å¾ˆå¤šå¸¸ç”¨çš„åº“ï¼Œä¾‹å¦‚ Numpy, PIL, Matplotlib ç­‰ç­‰ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨è¿™äº›åº“ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å»å®‰è£…ã€‚\nå¦å¤–ä¸€ä¸ªä¸é”™çš„é€‰æ‹©æ˜¯ç›´æ¥å®‰è£… Anacondaã€‚Anaconda æ˜¯ç§‘å­¦è®¡ç®—å¸¸ç”¨çš„ä¸€ä¸ª Python å‘å‹ç‰ˆæœ¬ï¼ŒåŒ…å« Python çš„å¯æ‰§è¡Œç¨‹åºï¼ŒAnaconda é¢„è£…äº†å¾ˆå¤šå¸¸ç”¨çš„ Python åº“ï¼Œä¾‹å¦‚ Matplotlibï¼ŒNumpy, çœå»äº†è‡ªå·±å®‰è£…çš„éº»çƒ¦ã€‚å¹¶ä¸” Anaconda è‡ªå¸¦äº†åº“ç®¡ç†å·¥å…· conda, ç›¸å½“äºåŠ å¼ºç‰ˆçš„ pipï¼Œéå¸¸æ–¹ä¾¿ã€‚\nè¯·æ³¨æ„ï¼Œå®‰è£… python ä»¥åè¯·æŠŠ python å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„åŠ å…¥ç³»ç»Ÿçš„ PATH å˜é‡ï¼Œä»¥ä¾¿åé¢å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ python å‘½ä»¤ã€‚\nå®‰è£… pip # å®‰è£… Python ä»¥åï¼ˆæˆ‘çš„ Python ç‰ˆæœ¬æ˜¯ 32 ä½ï¼Œç‰ˆæœ¬å· 2.7.10ï¼‰ï¼Œå¦‚æœéœ€è¦å®‰è£…ä¸€äº›å…¶ä»–çš„åº“ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§åŠæ³•ï¼Œä¸€ç§æ˜¯è‡ªå·±æ‰‹åŠ¨å»å„ä¸ªåº“çš„å®˜ç½‘ä¸‹è½½ï¼Œè‡ªå·±å®‰è£…, è¿™ç§æ–¹å¼ååˆ†éº»çƒ¦ï¼Œæœ‰çš„åº“å¯èƒ½è¿˜éœ€è¦ç¼–è¯‘ï¼Œå¦‚æœä¸ç†Ÿæ‚‰ï¼Œå¾ˆå®¹æ˜“å¼„é”™ï¼›å¦ä¸€ç§æ–¹æ³•æ˜¯å®‰è£… pipï¼Œä½¿ç”¨ pip å¯ä»¥æ–¹ä¾¿å®‰è£…å„ç§ Python åº“ã€‚\nä½ æ˜¯å¦éœ€è¦å®‰è£… pipï¼Ÿ (updated: 2018-01) # æ ¹æ® pip æ–‡æ¡£ä»‹ç»ï¼Œå¦‚æœ python ç‰ˆæœ¬æ»¡è¶³ Python 2 \u0026gt;=2.7.9 or Python 3 \u0026gt;=3.4ï¼Œé‚£ä¹ˆå®‰è£…çš„ Python å·²ç»è‡ªå¸¦äº† pip å·¥å…·ï¼Œä¸è¦å•ç‹¬å®‰è£… pipã€‚\nåœ¨å‘½ä»¤è¡Œä½¿ç”¨ python --version æŸ¥çœ‹ç³»ç»Ÿå®‰è£…çš„ Python ç‰ˆæœ¬æ¥ç¡®å®šä½ æ˜¯å¦éœ€è¦å®‰è£…pipã€‚\nä½¿ç”¨ get-pip.py å®‰è£… pip # é¦–å…ˆï¼Œä¸‹è½½ get-pip.py æ–‡ä»¶ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­è¿›å…¥è¯¥æ–‡ä»¶ä¸‹è½½çš„ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤\npython get-pip.py --user pip å°±å®‰è£…å¥½äº†ã€‚\npip çš„ä½¿ç”¨ # è¦å®‰è£…æŸä¸ªpythonåº“ï¼Œç›´æ¥ä½¿ç”¨ pip install \u0026lt;package_name\u0026gt; å³å¯ã€‚å¦‚ pip install matplotlib è¦æŸ¥çœ‹ python éƒ½å®‰è£…äº†å“ªäº›åº“ï¼Œå¯ä»¥ä½¿ç”¨ pip list è¦åˆ é™¤æŸä¸ªå®‰è£…çš„åº“ï¼Œå¯ä»¥ä½¿ç”¨ pip uninstall \u0026lt;package_name\u0026gt; å‘½ä»¤ è¦æ˜¾ç¤ºæŸä¸ªåº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ pip show \u0026lt;package_name\u0026gt; å‘½ä»¤ã€‚å¦‚ pip show numpyï¼Œç»“æœå¦‚ä¸‹ æ˜¾ç¤ºå®‰è£…çš„åº“ä¸­æœ‰å“ªäº›æ˜¯éœ€è¦å‡çº§çš„ï¼Œå¯ä»¥ä½¿ç”¨ pip list -â€“outdatedï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š å‡çº§ä¸€ä¸ªå·²ç»å®‰è£…çš„packageï¼Œä½¿ç”¨ pip install --upgrade \u0026lt;package_name\u0026gt;ï¼Œä¾‹å¦‚ pip install â€“-upgrade numpy å‚è€ƒ # https://stackoverflow.com/questions/4750806/how-do-i-install-pip-on-windows https://pip.pypa.io/en/latest/quickstart/ ","date":"21 October 2015","externalUrl":null,"permalink":"/2015/10/21/python-pip-install/","section":"Posts","summary":"\u003cp\u003eæœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Windows ç³»ç»Ÿä¸‹ï¼Œå¦‚ä½•å®‰è£… Python å’Œ Pip, ä»¥åŠ Pip çš„ç®€å•ä½¿ç”¨ã€‚\u003c/p\u003e","title":"Windows ç³»ç»Ÿä¸‹ Python ä»¥åŠ Pip çš„å®‰è£…å’Œä½¿ç”¨","type":"posts"},{"content":"LaTeX å†™ä½œä¸­ï¼Œå‚è€ƒæ–‡çŒ®ä¸€èˆ¬å•ç‹¬æ”¾åœ¨ä¸€ä¸ª *.bib æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ç« å¯¹åº”è¯¥æ–‡ä»¶çš„ä¸€ä¸ª æ¡ç›®ï¼Œæ¯ä¸ªæ–‡ç« æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ Keyï¼Œåœ¨æ–‡ç« ä¸­ä½¿ç”¨ key æ¥å¼•ç”¨å¯¹åº”çš„æ–‡ç« ã€‚ bibtex å¯ä»¥æ ¹æ® *.bib æ–‡ä»¶äº§ç”Ÿ LaTeX å¯ä»¥è¯†åˆ«çš„å¼•ç”¨æ¡ç›®ï¼Œç„¶åæˆ‘ä»¬æ‰å¯ä»¥åœ¨ LaTeX ä¸­å¼•ç”¨ç›¸å…³çš„æ–‡çŒ®ã€‚ æœ¬æ–‡ä¸»è¦å†™ä¸€äº›å’Œæ–‡çŒ®ç®¡ç†ä»¥åŠå¼•ç”¨ç›¸å…³çš„æ³¨æ„äº‹é¡¹ã€‚\nå…³äºå¤šä¸ªä½œè€…çš„å§“åå¦‚ä½•æ­£ç¡®åˆ†å¼€ # ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« æœ‰å¤šä¸ªä½œè€…ï¼Œä½œè€…å§“åä¹‹é—´ç›´æ¥ç”¨ and è¿æ¥ï¼Œä½œè€…å§“åæŒ‰ç…§ first_name last_name æˆ–è€… first_name middle_name last_name æ¥å†™å³å¯ï¼Œå¦‚æœä¸€ ä¸ªä½œè€…åå­—ä¸æ˜¯è¿™ç§å½¢å¼ï¼Œé‚£ä¹ˆéœ€è¦ç”¨èŠ±æ‹¬å·æŠŠä½œè€…çš„ last_nameæ‹¬èµ·æ¥ï¼Œä»¥ä¾¿ bibtex ç¨‹åºèƒ½å¤Ÿæ­£ç¡®è¯†åˆ«ä½œè€…å§“åã€‚ä¾‹å¦‚ï¼Œ\nSan Zhang and Si Li and Ma Zi Wang G{\\â€o}del Jose {Dos Santos} å¼•ç”¨çš„æ–‡å­—ä¸æ–‡çŒ®ä¹‹é—´ç”¨ ~ (tilde) è¿æ¥ # ä¸ºäº†é˜²æ­¢ LaTeX æŠŠæ–‡å­—å’Œå¯¹åº”çš„å¼•æ–‡ç¼–å·æ’ç‰ˆåœ¨ä¸¤è¡Œï¼Œæ–‡å­—å’Œå¯¹åº”çš„å¼•æ–‡ä¹‹é—´è¦ä½¿ç”¨ ~ ç¬¦å·ï¼Œè¿™åœ¨ LaTeX ä¸­è¢«ç§°ä¸º unbreakable space ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼Œ\nZhang et al.~\\cite{zhangsan2010cvpr} å¦å¤–ï¼Œåœ¨å¼•ç”¨ Figureï¼Œtableï¼Œequation ç­‰å†…å®¹æ˜¯ä¹Ÿè¦ä½¿ç”¨ unbreakable spaceï¼Œä¾‹å¦‚\nFig.~\\ref{fig:foo1} Table~\\ref{tab:bar1} Eqn.~\\ref{eq:foo1} ä¸ºå¼•ç”¨çš„æ–‡çŒ®é€‰æ‹©æ­£ç¡®çš„ entry type ä»¥åŠ field åç§° # ä¸åŒçš„å‚è€ƒæ–‡çŒ®æœ‰ä¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºå‚è€ƒæ–‡çŒ®æŒ‡å®šæ­£ç¡®çš„ç±»å‹ï¼Œä¾‹å¦‚ article, conference ç­‰ã€‚åŒæ—¶ï¼Œä¸åŒç±»å‹å¯èƒ½éœ€è¦ä¸åŒçš„åŸŸï¼ˆfieldï¼‰ã€‚\nå¸¸ç”¨çš„å‚è€ƒæ–‡çŒ®çš„ç±»å‹ä»¥åŠå«ä¹‰ # @article :An article from a journal or magazine @inproceedings: An article in a conference proceedings @conference: The same as inproceedings @book: A book with an explicit publisher @booklet: A work that is printed and bound, but without a named publisher or sponsoring institution @inbook: A part of a book, which may be a chapter (or section or whatever) and/or a range of pages @incollection: A part of a book having its own title @manual: Technical documentation @mastersthesis: A Master\u0026#39;s thesis @misc: Use this type when nothing else fits @phdthesis: A PhD thesis @proceedings: The proceedings of a conference @techreport: A report published by a school or other institution, usually numbered within a series @unpublished: A document having an author and title, but not formally published field ç±»å‹ # å¸¸ç”¨çš„ field ç±»å‹ä»¥åŠè¯´æ˜å¦‚ä¸‹\nauthor The name(s) of the author(s), in the format described in the LaTeX book. title The work\u0026#39;s title, typed as explained in the LaTeX book. booktitle Title of a book, part of which is being cited. See the LaTeX book for how to type titles. For book entries, use the title field instead. chapter A chapter (or section or whatever) number. journal A journal name. Abbreviations are provided for many journals. year The year of publication or, for an unpublished work, the year it was written. Generally it should consist of four numerals, such as 1984, although the standard styles can handle any year whose last four nonpunctuation characters are numerals, such as `\\hbox{(about 1984)}\u0026#39;. volume The volume of a journal or multi-volume book. howpublished How something strange has been published. The first word should be capitalized. edition The edition of a book---for example, ``Second\u0026#39;\u0026#39;. This should be an ordinal, and should have the first letter capitalized, as shown here; the standard styles convert to lower case when necessary. institution The sponsoring institution of a technical report. key Used for alphabetizing, cross referencing, and creating a label when the ``author\u0026#39;\u0026#39; information is missing. This field should not be confused with the key that appears in the cite command and at the beginning of the database entry. month The month in which the work was published or, for an unpublished work, in which it was written. You should use the standard three-letter abbreviation, as described in Appendix B.1.3 of the LaTeX book. number The number of a journal, magazine, technical report, or of a work in a series. An issue of a journal or magazine is usually identified by its volume and number; the organization that issues a technical report usually gives it a number; and sometimes books are given numbers in a named series. organization The organization that sponsors a conference or that publishes a manual. pages One or more page numbers or range of numbers, such as 42--111 or 7,41,73--97 or 43+ (the `+\u0026#39; in this last example indicates pages following that don\u0026#39;t form a simple range). To make it easier to maintain Scribe-compatible databases, the standard styles convert a single dash (as in 7-33) to the double dash used in TeX to denote number ranges (as in 7--33). school The name of the school where a thesis was written. series The name of a series or set of books. When citing an entire book, the the title field gives its title and an optional series field gives the name of a series or multi-volume set in which the book is published. field ä¸ entry çš„åç§°éƒ½æ˜¯ case insensitive # field ä¸ entry çš„åç§°éƒ½æ˜¯ case insensitiveï¼Œå› æ­¤ authorï¼ŒAuthorï¼ŒAUTHORä¹‹ é—´æ²¡æœ‰åŒºåˆ«ã€‚\ntitle ä¸­ä¿æŒæŸäº›å­—ç¬¦çš„å¤§å°å†™çŠ¶æ€ # title ä¸­çš„å­—æ¯å¤§å°å†™å¯¹æœ€ç»ˆè¾“å‡ºæ˜¯æ²¡æœ‰å½±å“çš„ï¼Œå¤§å°å†™ç­‰æ ¼å¼ç”±å‚è€ƒæ–‡çŒ®çš„é£æ ¼æ¥å†³å®š 1ï¼Œå› æ­¤å¦‚æœæƒ³è¦ä¿æŒ title ä¸­æŸäº›å­—æ¯çš„å¤§å†™ï¼Œéœ€è¦ç”¨èŠ±æ‹¬å·æŠŠå­—æ¯æ‹¬èµ·æ¥ã€‚å¦‚ï¼š\ntitle = \u0026#34;Proof of the {R}iemann {H}ypothesis\u0026#34; å‚è€ƒ # ä¹¦å†™ä½œè€…å§“åï¼Œhttp://nwalsh.com/tex/texhelp/bibtx-23.html https://faculty.math.illinois.edu/~hildebr/tex/bibliographies0.html https://faculty.math.illinois.edu/~hildebr/tex/bibliographies.html LaTeX primer, section IV, https://www.tug.org/twg/mactex/tutorials/ltxprimer-1.0.pdf Entry type çš„å«ä¹‰ï¼Œhttps://nwalsh.com/tex/texhelp/bibtx-7.html åœ¨ LaTeX ä¸­é€šè¿‡ \\bibliographystyle{} å‘½ä»¤æ¥è®¾å®šå…·ä½“ä½¿ç”¨å“ªç§å‚è€ƒæ–‡çŒ®é£æ ¼ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"16 October 2015","externalUrl":null,"permalink":"/2015/10/16/latex-reference-bibtex/","section":"Posts","summary":"\u003cp\u003eLaTeX å†™ä½œä¸­ï¼Œå‚è€ƒæ–‡çŒ®ä¸€èˆ¬å•ç‹¬æ”¾åœ¨ä¸€ä¸ª \u003ccode\u003e*.bib\u003c/code\u003e æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ç« å¯¹åº”è¯¥æ–‡ä»¶çš„ä¸€ä¸ª\næ¡ç›®ï¼Œæ¯ä¸ªæ–‡ç« æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ Keyï¼Œåœ¨æ–‡ç« ä¸­ä½¿ç”¨ key æ¥å¼•ç”¨å¯¹åº”çš„æ–‡ç« ã€‚\n\u003ccode\u003ebibtex\u003c/code\u003e å¯ä»¥æ ¹æ® \u003ccode\u003e*.bib\u003c/code\u003e æ–‡ä»¶äº§ç”Ÿ LaTeX å¯ä»¥è¯†åˆ«çš„å¼•ç”¨æ¡ç›®ï¼Œç„¶åæˆ‘ä»¬æ‰å¯ä»¥åœ¨\nLaTeX ä¸­å¼•ç”¨ç›¸å…³çš„æ–‡çŒ®ã€‚ æœ¬æ–‡ä¸»è¦å†™ä¸€äº›å’Œæ–‡çŒ®ç®¡ç†ä»¥åŠå¼•ç”¨ç›¸å…³çš„æ³¨æ„äº‹é¡¹ã€‚\u003c/p\u003e","title":"LaTeX ä¸­å‚è€ƒæ–‡çŒ®ç®¡ç†ä»¥åŠæ³¨æ„äº‹é¡¹","type":"posts"},{"content":"In this post, I would like to share how to insert beautiful latex equations into Microsoft Office Word and PowerPoint.\nI assume that one of the LaTeX distributions has been installed on your system. On Windows, either TeX Live or MiKTeX is fine.\nInsert LaTeX equation in Word # Free software # There is a free plugin called texsword which can generate good quality LaTeX equations in Word.\nHow to install # Download the package from sourceforge, extract it. You will see something like this,\nFor Office 2007 and later versions, copy the file texsword.dotm to the directory C:\\Users\\\u0026lt;USER_NAME\u0026gt;\\AppData\\Roaming\\Microsoft\\Word\\STARTUP, \u0026lt;USER_NAME\u0026gt; represents your user name. In case that you can not locate this directory in this way, here is how you can find it in your computer:\nClick on the File ribbon (Office 2010) or Office button (Office 2007) Click Options Click Advanced Scroll down and find a button File Locations. Click on it. Find Startup folder in the list of the Word system folders. Remember where it is and close the Word. Copy the file. If everything went well, upon next Word launch, you will see the TeXsword buttons in the Add-Ins ribbon.\nHow to use # To insert equations, click the button with TeX label (see image above). There is also a shorcut to insert LaTeX equations: just press ALT+T.\nFor more usages, please consult the texword_readme.docx file bundled with the texsword.dotm. It has detailed instructions on how to use it.\nCommercial and shareware # There is a well-known software MathType which support LaTeX syntax. The only problem is that the license fee is too high for a student. I have found another software which is cheaper and can do the same thing. It is called AxMath and is developed by a Chinese company.\nYou can use the software free with limited features1 or you can purchase a license for about $6.12 (ï¿¥39) to activate full feature.\nAfter you have installed this software, a ribbon will appear in the Word menu.\nYou can insert inline, display and numbered equations. To change to the LaTeX input mode, click the button in the lower right of panel or press shortcut key Ctrl+Tab.\nIt support LaTeX command auto-completion once you start typing \\, which is convenient.\nAfter finishing equations, you can use Shift+Enter to render the equations.\nInsert LaTeX equation in PowerPoint # Install IguanaTex # To type LaTeX in PowerPoint, you can use IguanaTex. Download it from here. Following instructions on the website (there is a installation part) and set up IguanaTex properly. Then a ribbon with name IguanaTeX will appear in PowerPoint,\nHow to use # Type the LaTeX code just as you do in LaTeX,\nClick the Generate button to generate LaTeX equations. If you want to update the equation, select the generated image, then click the Edit LaTeX display button under the IguanaTeX ribbon. After finishing editting, click the button Regenerate to regenerate the equation.\nHow use Chinese character inside math mode? # By default the math mode in IguanTeX does not support Chinese character even if you have wrapped the characters with \\text{} command.\nTo use Chinese, you have to do several things:\nInstall GhostScript2. Install Imagemagick. Use pdflatex instead of the default latex command. You also need to the set the path of GhostScript and Imagemagick executable files correctly in the IguanaTex settings, as shown below\nI test the following script and it works as expected:\n\\documentclass[UTF8]{ctexart} \\usepackage{amsmath} \\pagestyle{empty} \\begin{document} $\\text{æ¯”ä¾‹} = \\frac{\\text{éƒ¨åˆ†}}{\\text{å…¨éƒ¨}}$ \\end{document} But I think the free version is good enough for normal use.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIf you have installed the full version of Tex Live, you don not need to install GhostScript. It is packaged with Tex Live under TEXLIVEROOT/YEAR/tlpkg/tlgs/bin and the name is something like gswin32c.exe if you use Windows.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"13 October 2015","externalUrl":null,"permalink":"/2015/10/13/ms-office-latex-equation/","section":"Posts","summary":"\u003cp\u003eIn this post, I would like to share how to insert beautiful latex equations\ninto Microsoft Office Word and PowerPoint.\u003c/p\u003e","title":"How to Insert LaTeX Equations in Microsoft Office Word and PowerPoint","type":"posts"},{"content":"æœ¬æ–‡ç®€å•ä»‹ç»å¦‚ä½•æ‰‹åŠ¨å®‰è£…ä¸€ä¸ª LaTeX å®åŒ…ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œä¸‹è½½çš„ TeX å‘è¡Œç‰ˆå·²ç»è‡ªå¸¦äº†å¾ˆå¤šå®åŒ…ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œä½†æ˜¯å¶å°”æˆ‘ä»¬ä¹Ÿå¯èƒ½ç¢°åˆ°éœ€è¦ä½¿ç”¨çš„å®åŒ…ç¢°å·§æ²¡æœ‰å®‰è£…çš„æƒ…å†µï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦è‡ªå·±ä¸‹è½½å®‰è£…å®åŒ…äº†ã€‚\nä¸‹è½½ package å¯ä»¥ä» CTANï¼ˆComprehensive TeX Archive Networkï¼‰ä¸‹è½½ã€‚ä¸‹è½½ä¸‹æ¥çš„å®åŒ…ï¼Œæœ‰çš„ç›´æ¥åŒ…å« .sty æ–‡ä»¶ï¼ˆ.sty æ–‡ä»¶å°±æ˜¯ package çš„æœ€ç»ˆå½¢å¼ï¼‰;æœ‰çš„ä¸‹è½½ä¸‹æ¥åªåŒ…å«äº† .ins, .dtxï¼Œä»¥åŠä¸€ä¸ª readme æ–‡ä»¶ï¼Œè¿™æ—¶éœ€è¦è‡ªå·±ç¼–è¯‘ç”Ÿæˆ .sty æ–‡ä»¶ï¼Œä»¥åŠç”Ÿæˆç›¸åº”çš„ manualã€‚ä¸‹é¢è¯¦ç»†ä»‹ç»ç”Ÿæˆ sty æ–‡ä»¶ä»¥åŠå¸®åŠ©æ–‡æ¡£çš„æ­¥éª¤ã€‚\nç”Ÿæˆ package çš„æ­¥éª¤ # ä»¥ä¸‹æ­¥éª¤çš„å‰ææ˜¯ä½ å·²ç»å®‰è£…å¥½äº† TeX å‘è¡Œç‰ˆï¼Œæœ¬æ–‡ä»¥ MikTeX ä¸ºä¾‹ï¼Œè¯·ç¡®ä¿ MikTeX çš„å¯æ‰§è¡Œç¨‹åºå·²ç»åŠ å…¥äº†ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ï¼ˆPATHï¼‰ã€‚å¦å¤–æˆ‘çš„ç³»ç»Ÿçš„ Win 8.1ï¼Œwin 7 åº”è¯¥ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚\nç¬¬ä¸€æ­¥ï¼šä¸‹è½½å®åŒ…ï¼Œè§£å‹ï¼Œä¸èµ˜è¿°ï¼Œä¸‹è½½åœ°å€ https://www.ctan.org/pkgï¼Œæˆ‘ä¸‹è½½çš„ä¸€ä¸ªå®åŒ…åç§°æ˜¯ qrcodeï¼Œæ˜¯ç”¨æ¥ç”ŸæˆäºŒç»´ç çš„ï¼Œä»¥è¿™ä¸ªå®åŒ…çš„ç¼–è¯‘ä¸ºä¾‹æ¥è®²è§£ã€‚\nç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°å®åŒ…è§£å‹åå®‰è£…åŒ…åœ°å€ï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¯ E:\\LaTeX_package\\qrcodeï¼Œ ç„¶åæ‰“å¼€ç”µè„‘çš„å‘½ä»¤æç¤ºç¬¦ç•Œé¢ï¼ŒæŠŠå½“å‰çš„è·¯å¾„æ”¹åˆ°è¿™ä¸ª package æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¹Ÿå°±æ˜¯ E:\\LaTeX_package\\qrcode\nç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆ qrcode.styï¼Œåœ¨å‘½ä»¤æç¤ºç¬¦ç•Œé¢è¾“å…¥ latex qrcode.ins, ç»è¿‡ä¸€æ®µæ—¶é—´ç¼–è¯‘ï¼Œqrcode.sty å°±ç”Ÿæˆäº†ï¼›ç„¶åæ¥ç€ç”Ÿæˆå¸®åŠ©æ–‡æ¡£ manual, åœ¨å‘½ä»¤æç¤ºç¬¦ç•Œé¢è¾“å…¥ latex qrcode.dtx,ç¼–è¯‘å®Œæˆä»¥åï¼Œä¼šç”Ÿæˆä¸€ä¸ªå«åš qrcode.dvi çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨ ctex è‡ªå¸¦çš„ yap ç¨‹åºæ‰“å¼€ï¼Œä¸è¿‡ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯æŠŠå®ƒè½¬ä¸º PDFï¼Œéœ€è¦ä¸¤æ­¥æ“ä½œï¼Œå…ˆè¾“å…¥ dvips qrcode.dviï¼Œç”Ÿæˆ qrcode.ps æ–‡ä»¶ï¼Œå†è¾“å…¥ ps2pdf qrcode.psï¼Œæœ€ç»ˆå°±ç”Ÿæˆäº† qrcode.pdfçš„å¸®åŠ©æ–‡æ¡£ï¼Œå¸®åŠ©æ–‡æ¡£åŒ…å«è¿™ä¸ª package çš„åŸºæœ¬ç”¨æ³•ï¼Œå‘½ä»¤çš„æ ¼å¼ç­‰ã€‚æœ€ç»ˆå®Œæˆçš„æ ·å­å¦‚ä¸‹\nç¬¬å››æ­¥ï¼šç”Ÿæˆ qrcode.sty æ–‡ä»¶ä»¥åè¿˜éœ€è¦æŠŠè¿™ä¸ªæ–‡ä»¶æ”¾åˆ° LaTeX èƒ½å¤Ÿè¯†åˆ«çš„è·¯å¾„ä¸‹ï¼Œåœ¨ ctex ä¸‹ï¼Œä»¥æˆ‘çš„ç”µè„‘ä¸ºä¾‹ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯ D:\\Program Files\\CTEX\\MiKTeX\\tex\\latex,ä½ å¯ä»¥åœ¨è¿™ä¸ªè·¯å¾„ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè­¬å¦‚ qrcodeï¼Œç„¶åæŠŠ qrcode.sty æ”¾åˆ°è¿™é‡Œã€‚æ¥ç€åœ¨ä½ çš„ç”µè„‘é‡Œæ‰¾åˆ° MikTeX çš„ settings è¿™ä¸ªç¨‹åºï¼Œsettings æœ‰ä¸¤ä¸ªï¼Œé€‰æ‹©åé¢æ‹¬å·é‡Œæœ‰ admin çš„é‚£ä¸ª,æ‰“å¼€ä»¥åï¼Œåœ¨ general é€‰é¡¹å¡ä¸‹æœ‰ Refresh FNDB æŒ‰é’®ï¼Œç‚¹å‡»ï¼Œè¿‡ä¸€ä¼šï¼Œè¿™ä¸ª package å°±ä¼šè¢«åŠ å…¥ MikTeX çš„è·¯å¾„ä¸­ï¼Œç„¶ååœ¨ä½ çš„ tex æ–‡ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª package äº†ã€‚\nä½¿ç”¨ # åˆ©ç”¨è¿™ä¸ªå®åŒ…ï¼Œæœ€åå¯ä»¥ç”Ÿæˆæ–‡æœ¬å¯¹åº”çš„äºŒç»´ç ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\\documentclass{article} \\usepackage{qrcode} \\begin{document} This is a qrcode for Google HK. \\qrcode{https://www.google.com.hk/} \\end{document} æœ€åç”Ÿæˆçš„äºŒç»´ç å¦‚ä¸‹å›¾ï¼š\nå…¶ä»–å®åŒ…å¦‚æœè¦æ‰‹åŠ¨å®‰è£…ï¼Œéƒ½æ˜¯ç±»ä¼¼æ“ä½œçš„ã€‚Happy TeXingï¼\nå¦‚æœä¸æƒ³å¦‚æ­¤éº»çƒ¦ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ TeX Liveï¼Œå®Œæ•´ç‰ˆå·²ç»é¢„è£…äº†å¤§å¤šæ•°ä½ è¦ä½¿ç”¨çš„ packageã€‚\nå‚è€ƒ # https://en.wikibooks.org/wiki/LaTeX/Installing_Extra_Packages https://tex.stackexchange.com/questions/150182/dvi-to-pdf-convertor ","date":"23 September 2015","externalUrl":null,"permalink":"/2015/09/23/latex_install_package_manually/","section":"Posts","summary":"æœ¬æ–‡ç®€å•ä»‹ç»å¦‚ä½•æ‰‹åŠ¨å®‰è£…ä¸€ä¸ª LaTeX å®åŒ…ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œä¸‹è½½çš„ TeX å‘è¡Œç‰ˆå·²ç»è‡ªå¸¦äº†å¾ˆå¤šå®åŒ…ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œä½†æ˜¯å¶å°”æˆ‘ä»¬ä¹Ÿå¯èƒ½ç¢°åˆ°éœ€è¦ä½¿ç”¨çš„å®åŒ…ç¢°","title":"Windows ä¸‹ LaTeX æ‰‹åŠ¨å®‰è£…å®åŒ…ï¼ˆpackageï¼‰ä»¥åŠç”Ÿæˆå¸®åŠ©æ–‡æ¡£æ•´å¥—æµç¨‹","type":"posts"},{"content":"æœ‰ä¸€å¥ä¿—è¯è¯´â€œä¸¤é¸Ÿåœ¨æ—ä¸å¦‚ä¸€é¸Ÿåœ¨æ‰‹â€ï¼Œè®²çš„æ˜¯æŠ“åœ¨æ‰‹é‡Œçš„ä¸œè¥¿æ‰ä¼šè®©äººè¸å®ï¼Œå¦‚æœæ‰‹é‡Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œæ‰€è°“â€œæ— æ‰€æƒâ€ï¼Œå¤§å¤šæ•°äººå°±ä¼šå˜çš„ç€æ€¥ï¼Œä¼šææ…Œï¼›è¿˜æœ‰ä¸€å¥ç›¸å¯¹çš„è¯å«â€œæƒå® è€Œéª„â€ï¼ŒèŒƒå›´è¿‡äºç‹­çª„ï¼Œåº”è¯¥å«â€œæƒç‰©è€Œéª„â€ï¼Œé©¬å…‹æ€ä¸»ä¹‰å“²å­¦çš„ç‰©è´¨è§‚å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸–ç•Œæ˜¯ç‰©è´¨çš„ï¼Œç‰©è´¨å…·æœ‰å®¢è§‚å®åœ¨æ€§ï¼Œå› æ­¤è¿™ç‰©å°±æ˜¯å¹¿ä¹‰çš„äº†ï¼Œè´¢å¯Œï¼ŒæƒåŠ›ï¼Œè£èª‰\u0026hellip;\u0026hellip;è¿™å¥è¯è¯´çš„æ˜¯äººä¸€æ—¦æœ‰æ‰€æƒï¼Œé™¤å´ä¸ªåˆ«ç²¾ç¥ååˆ†å¹³æ·¡çš„äººï¼Œå…¶ä½™çš„äººéƒ½ä¼šæœ‰â€œé£˜é£˜ä¹â€è€Œä¸çŸ¥è‡ªçœçš„çŠ¶æ€ã€‚\næ— æ‰€æƒçš„äººå®¹æ˜“è‡ªå‘ï¼Œæœ‰æ‰€æƒçš„äººå®¹æ˜“è‡ªè´Ÿï¼Œäººæ€§çš„ä¸œè¥¿æ˜¯å¾ˆéš¾é€ƒè„±çš„ï¼Œæ— è®ºä½ æ˜¯å¹³å‡¡äººæˆ–æ˜¯ä¼Ÿäººã€‚\næˆ‘ä¸€ç›´åœ¨æƒ³ä»€ä¹ˆä¸œè¥¿æ‰æ˜¯äººçœŸæ­£å¯ä»¥å‡­å€Ÿçš„ï¼Œåœ°ä½ï¼Ÿè´¢å¯Œï¼ŸæƒåŠ›ï¼Ÿè¿™äº›ä¸œè¥¿éƒ½å¤ªè„†å¼±ï¼Œä¸å ªä¸€å‡»ï¼Œæœå¤•å˜åŒ–çš„æ•…äº‹å·²ç»å¹¶ä¸æ–­åœ¨ä¸Šæ¼”ã€‚æ­£å¥½æ˜¨å¤©ä¸‹åˆçœ‹äº†ä¸€ç¯‡æ—¥å¿—ã€Šå¦‚ä½•æ¥è¿‡ä¸€æ ¹æ…å±æ£ã€‹ï¼Œæ–‡ç« å¾ˆçŸ­ï¼Œé‡Œé¢å†™é“ï¼Œä½œè€…åœ¨è‡ªå·±çš„æ–°ä¹¦å‘å¸ƒä¼šä¸Šé‡åˆ°äº†ä¸€åå°é’å¹´ï¼Œä»–ä»¬æœ‰ä¸€æ®µå¯¹è¯ï¼Œæ‘˜å½•ä¸‹æ¥ï¼ˆç‰ˆæƒä½œè€…æ‰€æœ‰ï¼‰ã€‚\nå°é’å¹´ï¼šâ€œ ç‹è·¯æ˜¯è°ï¼Ÿâ€ æˆ‘ï¼šâ€œæ˜¯æˆ‘ã€‚â€ å°é’å¹´ ï¼šâ€œè¿™ä¹¦æ˜¯ä½ å†™çš„ï¼Ÿâ€ æˆ‘ï¼šâ€œå—¯ã€‚â€ å°é’å¹´éª¨ç¢Œéª¨ç¢Œæ‰“é‡æˆ‘ä¸€åœˆï¼šâ€œå“å‘€æˆ‘Xï¼Œç°åœ¨å’‹æ˜¯ä¸ªäººéƒ½èƒ½å‡ºä¹¦å‘¢ï¼â€ æˆ‘ï¼šâ€œæ˜¯å•Šæ˜¯å•Šã€‚åƒæˆ‘è¿™æ ·èƒ½å‡ºä¹¦çš„äººå¤šï¼Œåƒä½ è¿™æ ·è‚¯è¯´å®è¯çš„äººå°±æ²¡å‡ ä¸ªå•¦ã€‚â€\næˆ‘ä½©æœä½œè€…çš„æ™ºæ…§ï¼Œä¹Ÿå–œæ¬¢ä»–çš„å¹½é»˜ï¼Œä»–å¿…æ˜¯é‚£æ ·ä¸€ç§â€œæœ‰æ‰€æƒâ€çš„äººï¼Œå¯æ˜¯é‚£æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘å¤§æ¦‚ä¹ŸçŸ¥é“äº†ç­”æ¡ˆï¼šçœŸæ­£æœ‰æ‰€æƒçš„äººå¯èƒ½çœ‹èµ·æ¥å¹¶æ— æ‰€æƒï¼Œé‚£äº›ä¸Šå»æœ‰æ‰€æƒçš„äººæœªå¿…çœŸæœ‰æ‰€æƒï¼ˆå¥½æ‹—å£çš„ä¸€å¥è¯ã€‚ã€‚ã€‚ï¼‰ã€‚è¿™ä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œå¤§éŸ³å¸Œå£°ï¼Œå¤§è±¡æ— å½¢â€å§ã€‚\n","date":"22 October 2013","externalUrl":null,"permalink":"/2013/10/22/i_have_nothing_to_depend/","section":"Posts","summary":"\u003cp\u003eæœ‰ä¸€å¥ä¿—è¯è¯´â€œä¸¤é¸Ÿåœ¨æ—ä¸å¦‚ä¸€é¸Ÿåœ¨æ‰‹â€ï¼Œè®²çš„æ˜¯æŠ“åœ¨æ‰‹é‡Œçš„ä¸œè¥¿æ‰ä¼šè®©äººè¸å®ï¼Œå¦‚æœæ‰‹é‡Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œæ‰€è°“â€œæ— æ‰€æƒâ€ï¼Œå¤§å¤šæ•°äººå°±ä¼šå˜çš„ç€æ€¥ï¼Œä¼šææ…Œï¼›è¿˜æœ‰ä¸€å¥ç›¸å¯¹çš„è¯å«â€œæƒå® è€Œéª„â€ï¼ŒèŒƒå›´è¿‡äºç‹­çª„ï¼Œåº”è¯¥å«â€œæƒç‰©è€Œéª„â€ï¼Œé©¬å…‹æ€ä¸»ä¹‰å“²å­¦çš„ç‰©è´¨è§‚å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸–ç•Œæ˜¯ç‰©è´¨çš„ï¼Œç‰©è´¨å…·æœ‰å®¢è§‚å®åœ¨æ€§ï¼Œå› æ­¤è¿™ç‰©å°±æ˜¯å¹¿ä¹‰çš„äº†ï¼Œè´¢å¯Œï¼ŒæƒåŠ›ï¼Œè£èª‰\u0026hellip;\u0026hellip;è¿™å¥è¯è¯´çš„æ˜¯äººä¸€æ—¦æœ‰æ‰€æƒï¼Œé™¤å´ä¸ªåˆ«ç²¾ç¥ååˆ†å¹³æ·¡çš„äººï¼Œå…¶ä½™çš„äººéƒ½ä¼šæœ‰â€œé£˜é£˜ä¹â€è€Œä¸çŸ¥è‡ªçœçš„çŠ¶æ€ã€‚\u003c/p\u003e","title":"æœ‰æ‰€æƒçš„ä¸æ— æ‰€æƒçš„","type":"posts"},{"content":"å¤§ä¸‰ä¸‹å­¦æœŸä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆå¤§äº‹ï¼Œå¹³æ·¡ä¸­åº¦è¿‡ã€‚\nè¯»è¿‡çš„ä¹¦ # ã€Šæµªæ½®ä¹‹å·…ã€‹ï¼Œå·¨æ˜Ÿå…¬å¸çš„èµ·æµ®ä¸è¡°è½ï¼šæŠ“ä½é©å‘½çš„å¤§æ½®ï¼Œä¸æ–­åˆ›æ–°ã€‚æŠ•èµ„é“¶è¡Œï¼šç§‘æŠ€å…¬å¸çš„å¹é¼“æ‰‹ï¼Œåœ¨å½“ä»Šç¤¾ä¼šï¼ŒæŠ•èµ„é“¶è¡Œè‡³å…³é‡è¦ï¼Œå…¬å¸æ‰©å¤§èµ„æœ¬çš„æ¨¡å¼å·²ç»ä¸æ˜¯ç»å¹´ç§¯ç´¯å¼ã€‚ ã€ŠåŒ†åŒ†é‚£å¹´ã€‹ï¼Œä¸ªäººæ„Ÿè§‰å†™çš„ä¸€èˆ¬ï¼Œç•¥å¾®ç²—ç³™ã€‚ ã€Šç¼–ç çš„æ•…äº‹ã€‹ï¼Œæ¯”è¾ƒæœ‰è¶£ï¼Œä»æœ€ç®€å•åˆ°å¤æ‚ï¼Œäº†è§£pcå·¥ä½œçš„å¥½ä¹¦ï¼Œå‰å‡ å‘¨ä¸€ç›´åœ¨è¯»ï¼Œç»“æœéƒ½æ²¡æœ‰è®¤çœŸå¬è¯¾ã€‚ ã€Šæœªå¤®æ­Œã€‹ï¼Œè¿‡äºæŠ’æƒ…å’Œæ–‡è‰ºåŒ–äº†ï¼Œä¸è¿‡è”ºç‡•æ¢…å’Œå°ç«¥çœŸè®¨äººå–œæ¬¢ï¼Œå–œæ¬¢ä»–ä»¬ä¸€èµ·ä¸Šå±±é’“é±¼é‚£èŠ‚ï¼Œå¥½ç¾çš„æ™¯è‰²ï¼Œå¥½èˆ¬é…çš„ä¸€å¯¹å°ç”·å¥³ï¼Œè¿˜è®°å¾—é‚£ä¸ªè¯â€œè˜‘è‡â€ã€‚ é‡è¯»ã€Šä¸œè—è®°ã€‹ï¼Œå†è¯» ã€ŠåŒ—å½’è®°ã€‹ï¼Œä½œè€…çš„æ–‡å­—åŠŸåº• å¤ªæ·±åšï¼Œè‰°éš¾æ—¶äº‹ä¸­ä»è®©è¯»è€…æ„Ÿå—åˆ°â€œå–„â€ä¸â€ç¾â€œã€‚ åŠæ‹‰å­ã€Šæš—æ—¶é—´ã€‹ï¼Œæ€ç»´å“è´¨å¾ˆé‡è¦ã€‚ ã€Šæ•°å­¦é‚£äº›äº‹å„¿ã€‹ï¼Œçœ‹äº†ä¸€éï¼Œé€šä¿—æ˜“æ‡‚çš„æ•™ç§‘ä¹¦ã€‚ ã€Šè™šæ•°çš„æ•…äº‹ã€‹ï¼Œå¯¹äºè‡ªå·±ä¸ç†Ÿç»ƒçš„äº‹åè€Œæ›´æ„Ÿå…´è¶£ã€‚ ä¸Šè¿‡çš„è¯¾ # å¯¹è€å¸ˆå½»åº•å¤±æœ›äº†ï¼Œå¾ˆå¤šè¯¾éƒ½ç¿˜æ‰ï¼ŒPLCè€å¸ˆç›®ä¸­æ— ç”Ÿï¼Œæˆ‘ä¹Ÿæœæ–­ç›®ä¸­æ— ä»–äº†ï¼Œä¸è¿‡è¿™é—¨è¯¾è¿˜æ˜¯æœ‰ç‚¹æ„æ€ï¼Œæ›¾è®¤çœŸåšè¿‡å®éªŒï¼Œä¸è¿‡æœ€åéªŒæ”¶æ—¶æ²¡æœ‰åšå‡ºï¼Œè€ƒè¯•ä¸€èˆ¬ã€‚ ã€Šæœ€ä¼˜æ§åˆ¶ã€‹ï¼ŒèŠ±äº†ä¸€äº›æ—¶é—´ï¼Œè€å¸ˆå¾ˆè®¤çœŸï¼Œä½†æ˜¯è¿™é—¨è¯¾å¹¶ä¸ç®€å•ï¼Œå¯¹å­¦ä¹ ä»¥å¤–çš„è¯æ›´ç•™æ„ï¼Œè­¬å¦‚è¦è®²å«ç”Ÿï¼Œè®²ç´ è´¨ï¼Œè­¬å¦‚ä¸­æ—¥å·®å¼‚ã€‚ ã€Šç”µåŠ›ç”µå­ã€‹é»˜æ³ªï¼Œä¸å–œæ¬¢è¿™ä¸ªè€å¸ˆï¼Œè®²è¯¾æ— æ°´å‡†ä¸èŠ‚æ“ï¼Œè®¤çœŸå¤ä¹ äº†å‡ å‘¨ç»“æœä»ç„¶æƒ¨ä¸å¿ç¹ã€‚ ã€Šä¾›é…ç”µã€‹æ°´æ°´çš„è€å¸ˆï¼Œçœ‹åˆ°åè¡€çš„å¤ä¹ ï¼Œè€ƒå®Œå°±å¿˜çš„å·®ä¸å¤šã€‚ ã€Šå•ç‰‡æœºã€‹ï¼Œå…¶ä»–è€å¸ˆï¼Œä¸è¿‡å†…å®¹è¾ƒç®€å•ã€‚ ã€Šè®¡æ§ã€‹ï¼Œæ— èŠçš„è®²è¯¾ï¼Œæœ‰ç”¨çš„å†…å®¹ï¼Œä¹¦æœ¬ç›¸å½“ç²—ç³™ï¼Œè¿˜ä¼˜ç§€è¯¾æœ¬ï¼Ÿæ‰‹ä¸€æŠ–ä¹°äº†ä¸€æœ¬ã€Šdigital control of dynamic systemsã€‹ã€‚ ã€ŠåµŒå…¥å¼ã€‹ï¼Œå‘çˆ¹çš„æ•™æï¼Œç¼–ä¹¦çš„äººè‰¯å¿ƒä½•åœ¨ï¼Œç¥å„è¿ä¸æ–­ã€‚ ã€Šä»¿çœŸã€‹ï¼Œæ°´æ°´çš„è€å¸ˆï¼Œçƒ‚çƒ‚çš„æ•™æï¼Œä¸è¿‡ä»å­¦åˆ°ä¸€äº›ä¸œè¥¿ã€‚ ç­çº§æ´»åŠ¨ # å¼€å­¦åˆçš„çœŸäººcsï¼Œä¸€ç›´åœ¨ç©ï¼Œå´æœªæ‰“ä¸­ä¸€ä¸ªäººï¼›æ»‘æ—±å†°ï¼Œæ²¡æœ‰å»ï¼Œæ®µçˆ·ä¸¾è¡Œçš„æ´»åŠ¨éƒ½å¾ˆâ€ä¸æ‹˜ä¸€æ ¼â€œã€‚æ‚äº‹ä¸ç”Ÿæ´»ä¸€èµ·è‡ªä¹ çš„äººï¼›å¢å¼ºå‹ä¿¡å¿ƒï¼›è·¯è¾¹æ‘Šä¸é»‘é¢åŒ…è½¦æ²¡æœ‰äº†ï¼›å–œæ¬¢å¬çš„æ­Œã€ŠåŸé‡Œçš„æœˆå…‰ã€‹ï¼Œã€Šlove for a childã€‹ï¼ŒæŸå¤©æ™šä¸Šå¿½ç„¶æƒ³èµ·æ¥é™ˆç»®è´ã€Šå¤ªèªæ˜ã€‹ï¼›ç©èµ·äº†æ–°æµªå¾®åšï¼Œå…«èƒ€å®‰å§‘å¨˜çœŸçš„æ˜¯å¤ªæç¬‘äº†ï¼Œå¤ªæœ‰è¶£äº†ï¼Œç»™äººå¾ˆå¤šæ¬¢ä¹ï¼›win 8ç³»ç»Ÿå„ç§é‡è£…ï¼Œå„ç§æ’ºæ‡åˆ«äººå»è£…win8 ï¼›ç¬¬ä¸€æ¬¡å‰ªè¶…çŸ­çš„å‘å‹ï¼›æ¸…æ˜æ—¶èŠ‚çš„æ„Ÿå†’ï¼Œä»¤æˆ‘å…ƒæ°”å¤§ä¼¤ï¼Œæ„Ÿæ…¨ä¸å·²ï¼›æ¯å¤©æ™šä¸ŠåšæŒçš„è·‘æ­¥ï¼›è¿˜æœ‰é‚£åŒ†åŒ†çš„æ­¦æ±‰é¢è¯•ä¹‹è¡Œã€‚\n","date":"17 September 2013","externalUrl":null,"permalink":"/2013/09/17/2013_first_semester/","section":"Posts","summary":"\u003cp\u003eå¤§ä¸‰ä¸‹å­¦æœŸä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆå¤§äº‹ï¼Œå¹³æ·¡ä¸­åº¦è¿‡ã€‚\u003c/p\u003e","title":"2013 ä¸ŠåŠå¹´","type":"posts"},{"content":"æˆ‘äº†è§£ã€Šä¸‰å›½æ€ã€‹è¿™ä¸ªæ¸¸æˆï¼Œè¿˜æ˜¯åˆšå‡å…¥å¤§å­¦é‚£ä¼šå„¿ï¼Œé‚£æ—¶æˆ‘ä»¬å’Œéš”å£å®¿èˆå·²æœ‰å‡ ä½ç†Ÿæ‚‰ç©æ³•çš„çˆ±å¥½è€…ã€‚å¤§ä¸€åˆå§‹ï¼Œéš”å£å®¿èˆå°±æ˜¯ä»–ä»¬å®æ€çš„æˆ˜åœºï¼Œç»å¸¸æ˜¯å‡ ä¸ªäººä¸€ç©åˆ°æ·±å¤œã€‚æˆ‘é‚£æ—¶å¯¹è¿™ä¸ªæ¸¸æˆè™½æœ‰å…´è¶£ä½†åˆè§‰å¾—è§„åˆ™ã€æŠ€èƒ½å¤ªå¤šï¼Œéš¾äºè®°å¿†ï¼Œä¾¿æ²¡ç©ï¼Œæ‰€ä»¥å½“ä»–ä»¬ç©çš„æ­£é…£æ—¶ï¼Œæˆ‘å´åœ¨å®¿èˆç¡è§‰å‘¢ã€‚\nã€Šä¸‰å›½æ€ã€‹çš„çƒ­æ½®æ²¡èƒ½æŒä¹…ï¼Œåˆ°äº†ä¸Šå­¦æœŸåæœŸï¼Œä¼¼ä¹å·²æ²¡äººç©äº†ï¼Œå¤§å®¶éƒ½å·²ç»æ‰¾åˆ°ä»£æ›¿äº†å§ï¼Ÿ\næ­£å¼æ¥è§¦ã€Šä¸‰å›½æ€ã€‹ï¼Œè¿˜æ˜¯å¤§äºŒå¯’å‡ï¼Œåœ¨å®¶æ— äº‹ï¼Œå°±å»è®°å¿†äº†ä¸€ä¸‹å¡ç‰Œã€‚å›å­¦æ ¡åä¹Ÿæ›¾ç©è¿‡å‡ æ¬¡ï¼Œæ²¡å†åŠ¨è¿‡ã€‚çœŸæ­£å¼€å§‹ç©ï¼Œæ˜¯åœ¨å¤§äºŒæš‘å‡ï¼Œå…«æœˆåˆå›å­¦æ ¡å‚åŠ æ•°æ¨¡åŸ¹è®­ï¼Œç©ºé—²æ—¶é—´ä¸€éƒ¨åˆ†è´¡çŒ®ç»™äº†å®ƒã€‚é‚£æ—¶å¯¹å„ç§æ­¦å°†å·²åŸºæœ¬ç†Ÿæ‚‰ï¼Œå¯ä»æ˜¯èœé¸Ÿï¼Œç»å¸¸ä¼šå› å‡ºé”™ç‰Œè¢«é˜Ÿå‹éª‚ã€‚\nå¤§ä¸‰ä¸Šç©çš„è¾ƒå¤šï¼Œæ™šè‡ªä¹ å›æ¥æˆ–è€…æœ‰ç©ºå°±ä¼šç©å‡ å±€ï¼Œçº§åˆ«ä¸æ–­å¢é•¿ï¼Œä½çº§åœºï¼Œä¸­çº§åœºï¼Œå†å‘é«˜çº§åœºã€‚å¶å°”å’Œéš”å£ä¸€èµ·ç©ï¼Œå¸¸èƒ½å¾—åˆ°é…åˆçš„å¿«æ„Ÿã€‚è¿™å­¦æœŸä¹Ÿç©äº†Nå¤šå±€ï¼Œå½“ç„¶ä¸æ˜¯ç©ç‰©ä¸§å¿—çš„é‚£ç§ç©äº†ï¼Œç”±é«˜çº§åœºè¿›å…¥äº†è‡³å°Šåœºã€‚\nè¿™ä¸ªæ¸¸æˆæœ‰è®¸å¤šäº®ç‚¹ï¼Œæ˜¯QQ ã€Šè‹±é›„æ€ã€‹æ— æ³•è¶…è¿‡çš„ï¼šå¡ç‰Œè®¾è®¡ç²¾è‰¯ï¼Œæ­¦å°†æ’ç”»ç²¾è‡´;äººç‰©é…éŸ³ç›¸å½“ä¸“ä¸šï¼Œæœ‰äº›é¢‡æœ‰å–œæ„Ÿï¼Œå¦‚å…¸éŸ¦çš„â€œåƒæˆ‘ä¸€å‡»â€ï¼Œç»å¸¸è¢«å¤§å®¶è¯´æˆâ€œåƒæˆ‘ä¸€é¸¡â€ï¼›æ¸¸æˆä¸­çš„è¡¨æƒ…ï¼Œå¾ˆå—æ¬¢è¿ï¼Œä¸ªäººæœ€å–œæ¬¢çš„æ˜¯é‚£ä¸ªâ€œéœ‡æƒŠâ€çš„è¡¨æƒ…ï¼Œç®€å•çš„è®¾è®¡ï¼ŒèŒèŒçš„è¡¨æƒ…ï¼Œèƒœè¿‡åƒè¨€ä¸‡è¯­ï¼Œå¯æƒœæœ‰çš„è¡¨æƒ…ä»…é™ä¼šå‘˜ï¼›å®ƒè¿˜æ‹¥æœ‰æ•°é‡ä¼—å¤šçš„å…è´¹æ­¦å°†ï¼ŒåŠ ä¸Šæ¯å‘¨å…è´¹è¯•ç©æ­¦å°†ï¼Œè®©ä½ ä¸ä¼šæ„Ÿåˆ°çƒ¦è…»ï¼›å®ƒçš„å®Œå–„çš„ç­¾åˆ°å’Œæ—¶é—´å¥–åŠ±æœºåˆ¶ï¼Œè®©ä½ åœ¨ç™»å½•ä¸€å®šå¤©æ•°æˆ–æ—¶é—´åé¢†å¥–ï¼Œå¦‚æ‰‹æ°”å¡ï¼Œæ¢å°†å¡ï¼›æœ€æ–°ä¸Šçº¿çš„é“¶ä¸¤ç³»ç»Ÿï¼Œè®©ä½ ä¸ç”¨èŠ±é’±ä¹Ÿå¯ä»¥ä¹°åˆ°æ­¦å°†ï¼Œè™½ç„¶æ•°é‡æœ‰é™ã€‚è¿™äº›ç‰¹ç‚¹éƒ½è®©æ¸¸æˆç§¯èšäº†å¤§é‡äººæ°”ã€‚\nç©ã€Šä¸‰å›½æ€ã€‹æœ‰å¾ˆå¤šçš„ä¹è¶£ï¼Œä¹Ÿè§è¯†äº†å„ç§å¥‡è‘©é˜Ÿå‹ï¼Œæœ‰æ—¶å¤§å®¶ç®€ç›´è¦ç¬‘ç ´è‚šçš®äº†ï¼Œè¿™æ¬¢ä¹éš¾ä»¥ä¼°å€¼ã€‚å¶å°”çš„ä¸€æ¬¡çˆ†å‘ä¹Ÿè¶³ä»¥è®©ç©å®¶ä»¬è‡ªè±ªä¸å·²ï¼Œæ‰€è°“â€œç§’å…¨åœºâ€æˆ–è€…â€œä¸€åˆ€Næ»´è¡€â€å¤§æ¦‚æ˜¯æ¯ä¸ªç©å®¶çš„æ„¿æœ›ï¼Œå½“ä¸€ä¸ªä¸ªæ•Œå¯¹åŠ¿åŠ›çš„äººåœ¨ä½ çš„æ‰‹é‡Œè¢«æ€æ­»ï¼Œé‚£ç§æˆå°±æ„Ÿï¼Œæ¿€è¡äººå¿ƒã€‚ã€Šä¸‰å›½æ€ã€‹ä¸­è¿˜å……æ»¡äº†å„ç§æç¬‘çš„è¯æ±‡ï¼Œå¦‚â€œå°å­¦ç”Ÿæœ‰ä¸‰å®ï¼šå¡äº†ï¼ŒæŒ‰é”™ï¼Œå®¶é•¿å¥½â€ï¼Œè¿™å¥è¯ç”¨æ¥è®½åˆºé‚£äº›æŠ€æœ¯ä¸é«˜ï¼Œä¹±å‡ºç‰Œï¼Œè¿˜æ¥æ‰¾å€Ÿå£çš„äººï¼Œè¿˜æœ‰è¯¸å¦‚â€œèŠèŠ±åˆ€â€ï¼Œâ€œç¥å°†ã€æ¸£å°†â€ï¼Œå±€å¤–äººææ€•å¾ˆéš¾ç†è§£è¿™äº›è¯æ±‡çš„å«ä¹‰ã€‚\nã€Šä¸‰å›½æ€ã€‹æœ€è‹¦æƒ…çš„è§’è‰²è«è¿‡äºå†…å¥¸ã€‚å…«äººåœºç¬æ¯ä¸‡å˜ï¼Œå†…å¥¸æ§å±€è‰°éš¾ã€‚ä¸ç®¡ä½ è·³åã€è£…å¿ æŠ‘æˆ–æ˜¯æ£ä¹±ï¼Œéƒ½ä¸ä¼šè®¨å¥½ï¼Œç»å¸¸è¢«å¿ è‡£æˆ–è€…åè´¼é—®å€™å…¨å®¶ï¼Œå¸¸è§çš„æ¯”è¾ƒå®¢æ°”çš„é—®å€™è¯­æ˜¯â€œå°å†…å‚»ç¼ºå—ï¼Œè¿˜ä¸è·³ï¼Ÿâ€ã€‚å¤§å®¶å·²ç»æ™®éå…»æˆäº†ä¸€ç§â€œä»‡å†…â€çš„ä¸è‰¯æƒ…ç»ªï¼Œä¸»ã€å†…ã€åçš„å±€é¢ï¼Œä¸»å…¬å®æ„¿æ‰˜ç®¡è®©åè´¼èµ¢ï¼Œä¹Ÿä¸æ„¿å†…å¥¸å¾—é€ï¼Œå°å†…çš„æ‚²æƒ…å¯è§ä¸€æ–‘ã€‚\nå¯æ˜¯å½“ä½ åœ¨ç©ã€Šä¸‰å›½æ€ã€‹ï¼Œç©¶ç«Ÿåœ¨ç©ä»€ä¹ˆï¼Ÿ\næˆ‘æ›¾é‡åˆ°ä¸€å±€ï¼Œè‡ªå·±ä¸»å…¬ï¼Œä¸€å¿ è‡£è§‰å½¢åŠ¿ä¸å¦™ï¼Œç´¢æ€§æ’’æ‰‹æ‰˜ç®¡ï¼Œåä»¥å¾…æ¯™ï¼Œå‹‡æ°”å¦‚æ­¤ã€‚å¦ä¸€å¿ è‡£ä»ä¸æ”¾å¼ƒï¼ŒåšæŒåˆ°åº•ï¼Œæœ€ç»ˆä¸»å¿ é€†è¢­æˆåŠŸï¼è‡ªå§‹è‡³ç»ˆï¼Œé‚£ä¸ªæ˜µç§°ä¸ºâ€œçˆ±éª‘è‡ªè¡Œè½¦1949â€çš„äººï¼Œä¸€è¨€ä¸å‘ï¼Œåªæ˜¯å†·é™è€Œæ­£ç¡®çš„å‡ºç‰Œï¼ŒæŒ½å›äº†é¢“åŠ¿ï¼Œæˆ‘ä½©æœè¿™æ ·çš„äººï¼Œæˆ–è®¸è¯´â€œçª¥æ¸¸æˆè€ŒçŸ¥å…¶äººâ€è¿‡äºç‰‡é¢ï¼Œä½†æ˜¯çªƒä»¥ä¸ºå¹¶éé“ç†å…¨æ— ã€‚\nèº«ä»½å±€æ˜¯æœ€è®²æ±‚â€œteam work â€çš„åœºåˆï¼Œè¿™æ˜¯æˆ‘ä½“ä¼šæœ€æ·±çš„åœ°æ–¹ï¼Œå›¢é˜Ÿåˆä½œå°±è¦æ±‚æ¯ä¸ªäººåº”ä»¥æ€»ä½“åˆ©ç›Šæœ€å¤§åŒ–ä¸ºæ ¸å¿ƒå‡†åˆ™ï¼Œä¸åº”å¤ªåœ¨æ„ä¸ªäººå¾—å¤±ï¼Œæ²¡æœ‰è¿™ç§æ€æƒ³çš„äººï¼Œæ³¨å®šå¤±è´¥ã€‚å¸¸é‡åˆ°ä¸€äº›è‡ªè®¤ä¸ºæŠ€èƒ½å¼ºå¤§ï¼Œå°±è‡ªä»¥ä¸ºæ˜¯çš„äººï¼Œä¸æ¯«ä¸è€ƒè™‘é…åˆï¼Œä¸ªäººè‹±é›„ä¸»ä¹‰å¤ªç››ï¼Œç»“æœå‘äº†é˜Ÿå‹ï¼Œè¾“äº†ç‰Œå±€ï¼šæ‡‚å¾—ä¸ºå›¢é˜Ÿç‰ºç‰²ï¼Œæ˜¯ä¸€ç§æ™ºæ…§å’Œèƒ¸è¥Ÿï¼Œæ¥è‡ªäºå¹³æ—¶çš„ã€‚\nè¿™å­¦æœŸæœ‰å¤©ä¸‹åˆç©ï¼Œè¢«é˜Ÿå‹å‘å¾—å¾ˆæƒ¨ï¼Œå¤§å®¶éƒ½ç›¸äº’æŒ‡è´£ã€æ”»è®¦ï¼Œäº‹åå¿ƒé‡Œååˆ†éƒé—·ã€‚å¾—å¤±å¿ƒå¤ªé‡ï¼Œå°±ä¼šè¿‡åˆ†åœ¨æ„è¾“èµ¢ï¼Œæ¸¸æˆçš„æ„ä¹‰å·²è¢«æ‰­æ›²ï¼Œå…¶ä¸­çš„ä¹è¶£ä¹Ÿå°†è¿œç¦»ä½ ã€‚å¹³å¸¸å¿ƒæ‰æ˜¯æœ€é‡è¦ï¼Œçœ‹æ·¡è¾“èµ¢éœ€è¦èƒ¸æ€€çš„ã€‚\næ¯æ¯çœ‹åˆ°æœ‰äººä¹±å‡ºç‰Œï¼Œæ€»å¿ä¸ä½è®¥è®½æˆ–éª‚å‡ å¥ï¼Œå›æƒ³èµ·æ¥å…¶å®ä¸å¿…ï¼Œå¾’æ‰°å¿ƒå¢ƒå°”ï¼Œå°½å¥½æœ¬åˆ†ï¼Œä»–äººçš„äº‹ï¼Œæ— æ³•å·¦å³çš„ï¼Œå¥½çš„å¾·è¡Œèƒœè¿‡æˆè´¥ã€‚å½“ä½ åœ¨ç©æ¸¸æˆï¼Œä½ åœ¨ç©ä»€ä¹ˆå‘¢ï¼Ÿ\n","date":"16 July 2013","externalUrl":null,"permalink":"/2013/07/16/thought_on_san_guo_sha/","section":"Posts","summary":"\u003cp\u003eæˆ‘äº†è§£ã€Šä¸‰å›½æ€ã€‹è¿™ä¸ªæ¸¸æˆï¼Œè¿˜æ˜¯åˆšå‡å…¥å¤§å­¦é‚£ä¼šå„¿ï¼Œé‚£æ—¶æˆ‘ä»¬å’Œéš”å£å®¿èˆå·²æœ‰å‡ ä½ç†Ÿæ‚‰ç©æ³•çš„çˆ±å¥½è€…ã€‚å¤§ä¸€åˆå§‹ï¼Œéš”å£å®¿èˆå°±æ˜¯ä»–ä»¬å®æ€çš„æˆ˜åœºï¼Œç»å¸¸æ˜¯å‡ ä¸ªäººä¸€ç©åˆ°æ·±å¤œã€‚æˆ‘é‚£æ—¶å¯¹è¿™ä¸ªæ¸¸æˆè™½æœ‰å…´è¶£ä½†åˆè§‰å¾—è§„åˆ™ã€æŠ€èƒ½å¤ªå¤šï¼Œéš¾äºè®°å¿†ï¼Œä¾¿æ²¡ç©ï¼Œæ‰€ä»¥å½“ä»–ä»¬ç©çš„æ­£é…£æ—¶ï¼Œæˆ‘å´åœ¨å®¿èˆç¡è§‰å‘¢ã€‚\u003c/p\u003e","title":"å½“ä½ åœ¨ç©ã€Šä¸‰å›½æ€ã€‹ï¼Œä½ åœ¨ç©äº›ä»€ä¹ˆï¼Ÿ","type":"posts"},{"content":"æœ‰ä¸€æ¬¡çœ‹åˆ°é—®é¢˜ï¼Œâ€œwhich teacher do you respect mostï¼Ÿâ€ã€‚èµ°åœ¨ä¸Šè¯¾çš„è·¯ä¸Šï¼Œè„‘å­é‡Œå›å‘³ç€è¿™ä¸ªé—®é¢˜ï¼Œç­”æ¡ˆå´æœªèƒ½è¹¦å‡ºæ¥ã€‚\nå°å­¦ # ä¸Šäº†åå¤šå¹´çš„å­¦ï¼Œè€å¸ˆä¹Ÿç¢°åˆ°ä¸€å¤§æŠŠï¼Œäººç”Ÿä¸­é‚£äº›æˆ–ä½æ²‰æˆ–ç²¾å½©çš„ç‰‡æ®µï¼Œæ— ä¸æœ‰è€å¸ˆçš„ç—•è¿¹ã€‚ä¸‰å¹´çº§æ—¶å€™é‡åˆ°çš„è¯­æ–‡è€å¸ˆæ˜¯ææ¸©æŸ”å…³çˆ±çš„ï¼Œä»æ¥ä¸å»æ‰“éª‚å­¦ç”Ÿï¼Œå³ä½¿å¶å°”çŠ¯äº†å°é”™ã€‚æœ‰æ¬¡å¤ªè°ƒçš®ï¼Œè¯¯ä¼¤åŒå­¦ï¼Œå¿ƒé‡Œæ€•å¾—è¦æ­»ï¼Œè€å¸ˆå´æœªè´£ç½šäºæˆ‘ï¼Œåªæ˜¯è½»å£°ç»†è¯­ã€‚äº”å¹´çº§çš„æ•°å­¦è€å¸ˆåœ¨æˆ‘æ„Ÿå†’æ—¶ç»™æˆ‘çš„è¯ç‰‡å’Œä¸€æ¯æ¸©æ°´ï¼Œåœ¨æ·±å¤œé‡Œä¸ºé‚£äº›å­¦ä¹ æˆç»©è½åçš„åŒå­¦çš„è¾…å¯¼ï¼Œè¿˜æœ‰é‚£å¥â€œå±±å¤–é’å±±æ¥¼å¤–æ¥¼â€éƒ½è®©äººå¿ƒä¸­æ— é™æ¸©æš–ã€‚\nåˆä¸­ # åˆä¸­ä¸‰å¹´çš„è¯­æ–‡è€å¸ˆï¼Œä¸€å¹…ä¸ä¿®è¾¹å¹…çš„çš„æ ·å­ï¼Œå–œæ¬¢æŠ½çƒŸï¼Œå­—å†™å¾—æå¥½ã€‚çŠ¹è®°å¾—ä»–æ‹½ç€æˆ‘çš„è€³æœµè´¨è¯¢æˆ‘æ€ä¹ˆé‚£ä¹ˆåŠå„¿éƒå½“çš„æƒ…å½¢ï¼Œé‚£æ—¶çœ¼æ³ªéƒ½å¿«æµå‡ºæ¥äº†ã€‚è®²è¯¾çš„äº‹æƒ…åè€Œè®°ä¸å¤§æ¸…äº†ï¼Œåªå¯¹ä»–è®²æˆçš„ã€Šè—¤é‡å…ˆç”Ÿã€‹æœ‰æ¨¡ç³Šå°è±¡ã€‚åˆä¸€åˆäºŒçš„å¹´è½»çš„æ•°å­¦è€å¸ˆé‚£äº›è‹¦å£å©†å¿ƒçš„æ•™å¯¼ä»¥åŠå› ç”Ÿæ°”ç­çº§ç§©åºç´Šä¹±ä¸ä¸Šè¯¾çš„æœ‰ç‚¹å¹¼ç¨šçš„ä¸¾åŠ¨ï¼Œç°åœ¨æƒ³æ¥ä¹Ÿæ˜¯ååˆ†æ„Ÿæ¿€ï¼Œå¿ä¸ä½è¦ä¼šå¿ƒä¸€ç¬‘ã€‚åˆä¸‰æ•°å­¦è€å¸ˆå¯¹æˆ‘ä»¬çš„ç§ç§é¼“åŠ±ä¸æœŸæœ›ï¼Œå¯¹æˆ‘çš„ç‰¹åˆ«å…³æ³¨ï¼Œéƒ½è®©æˆ‘æ„ŸåŠ¨ã€‚\né«˜ä¸­ # é«˜ä¸­å­¦æ ¡çš„åå¸ˆå’Œå„ç§å£°ååœ¨å¤–çš„è€å¸ˆï¼Œä¸èƒœæšä¸¾ï¼Œå½“ç„¶ä¸èƒ½ä¸€ä¸€è†å¬æˆè¯¾ã€‚é«˜ä¸€è¯­æ–‡è€å¸ˆæ•™ç»™æˆ‘ä»¬å­¦ä¹ è¯­æ–‡åº”è¯¥è¾¾åˆ°çš„ç›®æ ‡ï¼Œè€å¸ˆæ˜¯å››å·äººï¼Œè®²è¯è™½æœ‰ä¸€ä¸å¨‡æ»´æ»´å´å¾ˆåŠ¨å¬å…¥è€³ï¼Œè¿˜æœ‰å¥¹é‚£ç¯‡ã€Šæˆ‘ä¸ºä½•åˆ°å±±è¥¿æ¥ã€‹ï¼Œå¯¹åŒ—æ–¹çš„åŒ…å®¹ä¹‹å¿ƒï¼Œéš¾å¾—ã€‚é«˜ä¸€çš„è‹±è¯­è€å¸ˆï¼Œæ¯•ä¸šäºä¸Šæµ·å¤–å›½è¯­å¤§å­¦ï¼Œè®²è¯¾ä»ä¸å¸¦ä¹¦æœ¬ï¼Œè½»å£°ç»†è¯­ï¼Œè®²è¿°ç€è¯­æ³•ï¼Œå¥å‹ã€‚é«˜äºŒæ—¶å¬åˆ°ä»–çš„ä¸€äº›è·ŸåŒå­¦å‘ç”Ÿçš„ä¸æ„‰å¿«çš„äº‹æƒ…ï¼Œä»¥è‡³äºæœ€åä¸çŸ¥ä¸ºä½•ç¦»å¼€å­¦æ ¡ï¼Œæ€€å¿µè¿™ä½åšå­¦çš„å°çœ¼ç›çš„è‹±è¯­è€å¸ˆã€‚è¿˜æœ‰é‚£é«˜äºŒã€é«˜ä¸‰æ—¶æœŸï¼Œæœ‰ç‚¹â€œç–¯ç–¯ç™«ç™«â€ï¼Œååˆ†æ´»è·ƒçš„è¯­æ–‡è€å¸ˆï¼Œåœ¨è¯¾å ‚ä¸Šé«˜å£°æœ—è¯»ä¸€äº›æ–‡ç« çš„æƒ…å½¢ï¼Œå†å†åœ¨ç›®ã€‚ä¹Ÿè®°å¾—é«˜ä¸‰å…ƒæ—¦è€å¸ˆçš„è¯·å®¢å’Œå€Ÿå¥¹çš„é‚£æœ¬ã€Šæˆé•¿ã€‹ã€‚\nå¤§å­¦ # å¤§ä¸€çš„ã€Šå¾®ç§¯åˆ†äºŒã€‹è€å¸ˆå’Œå¤§äºŒçš„ã€Šç”µè·¯ç†è®ºã€‹è€å¸ˆï¼Œè®²æˆè®¤çœŸè´Ÿè´£ï¼Œè™½ç„¶ä¹Ÿæ˜¯ç»å¤§éƒ¨åˆ†PPTï¼Œå´å€¼å¾—å°Šé‡ã€‚å½“ç„¶æ•™æˆã€Šæ–°é—»è‹±è¯­ã€‹çš„æœ±è€å¸ˆå¯¹æˆ‘ä»¬çš„å¯å‘å’Œå¼•å¯¼ï¼Œä¹Ÿè®©äººéš¾å¿˜ã€‚\nè¿™äº›éƒ½æ˜¯åœ¨æˆ‘è¿‡å»çš„å­¦ä¹ ä¸­è®©æˆ‘å°è±¡æ·±åˆ»çš„è€å¸ˆï¼Œå°å­¦ã€åˆä¸­ã€é«˜ä¸­ã€å¤§å­¦ï¼Œä½†æ˜¯é‚£ä¸ªâ€œæœ€â€ç€å®ä»¤äººçŠ¯éš¾ï¼Œæˆ–è®¸é‚£æ ·ä¸€ä½è€å¸ˆå¹¶ä¸å­˜åœ¨ï¼Ÿæˆ‘æ‰€å°Šæ•¬çš„è€å¸ˆï¼ŒçŸ¥è¯†æ¸Šåšï¼Œå´æ²¡æœ‰æ‰ä¹¦è¢‹çš„å—œå¥½ï¼Œæ‰€æœ‰çš„è®²æˆå†…å®¹èäºèƒ¸ä¸­ï¼Œæ—å¾åšå¼•ï¼Œå‘å­¦ç”Ÿä¼ è¾¾çŸ¥è¯†çš„ç²¾å¦™ï¼›æˆ‘æ‰€å°Šæ•¬çš„è€å¸ˆï¼Œå¿…æ˜¯è°¦é€Šè€Œå‹å–„çš„ï¼Œå¹¶ä¸å› ä¸ºæŠ€é«˜äºäººè€Œè‡ªå¾—ï¼Œä¸ä¼šè½»è§†å­¦ç”Ÿçš„æµ…é™‹ï¼Œä»–æ‡‚å¾—å¼•å¯¼ï¼Œä¸”æœ‰è€å¿ƒï¼Œå°±åƒåœ¨ç»è¥è‹—åœƒï¼Œä»¥ä¸ºä»–çŸ¥é“å­¦ç”Ÿçš„æˆé•¿å…³é”®ç‚¹ï¼Œéœ€è¦æœ‰æŒ‡å¼•äººï¼›æˆ‘æ‰€å°Šæ•¬çš„è€å¸ˆï¼Œå¿…æ˜¯ä»çˆ±çš„ï¼Œä¸å› æˆç»©ã€å¤–è²Œè€Œå°çœ‹ä»»ä½•å­¦ç”Ÿï¼Œå› ä¸ºä»–çŸ¥é“å¹´è½»äººçš„æ½œåŠ›æ— å¯é™é‡ã€‚\næœ‰ä¸€æ—¶ä¹Ÿæ›¾å¼€ç©ç¬‘è¯´æƒ³åšä¸€åå¤§å­¦è€å¸ˆï¼Œå»æ‹¯æ•‘è‹¦é€¼çš„å¤§å­¦ç”Ÿä»¬ï¼Œå¼•å¯¼ä»–ä»¬ï¼Œå¸®åŠ©ä»–ä»¬ï¼Œä¸è¿‡æ˜¯ç©ç¬‘ç½¢äº†ã€‚å¤§å­¦çš„è€å¸ˆä¹Ÿæ˜¯æ— å¥ˆçš„ï¼Œæ— å½¢ä¹‹æ‰‹åœ¨æŒæ§ç€æ‰€è°“ç§©åºï¼Œç§©åºçš„æ‰“ç ´å¹¶éæ˜“äº‹ï¼Œä¸Šä¸Šå­¦æœŸåœ¨æ•™å­¦æ¥¼å‰ä¸ºè‡ªå·±ä¸¾ç‰Œçš„è€å¸ˆå€¼å¾—å°Šé‡ã€‚ç”šè‡³è¿˜æƒ³å†™ä¸€ç¯‡æ–‡ç« è®½åˆºä¸€ä¸‹å¤§å­¦è€å¸ˆï¼Œé¢˜ç›®å°±å«ä½œã€Šå¤§å­¦è€å¸ˆå…»æˆè®°ã€‹ï¼Œæƒ³æƒ³è¿˜æ˜¯ç½¢äº†ï¼Œéš”é´æ”ç—’ï¼Œæ•ˆæœç”šå¾®ï¼Œè¿˜æ˜¯â€œåŠ¡æ­£ä¸šâ€å§ã€‚æ€€æ—§å¹¶ä¸èƒ½è§£å†³ç°å®é—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯ç»§ç»­åŠ¡æˆ‘çš„æ‰€è°“â€œæ­£ä¸šâ€å§ï¼Œé‚£äº›æ”¹é©å°±ç•™ç»™é©å‘½å®¶äº†ã€‚\nå››æœˆä»½å†™çš„å§ï¼Œå„ç§å¯¹è€å¸ˆçš„åæ§½ã€‚ã€‚ã€‚\n","date":"19 June 2013","externalUrl":null,"permalink":"/2013/06/19/the_kind_of_teach_you_like/","section":"Posts","summary":"\u003cp\u003eæœ‰ä¸€æ¬¡çœ‹åˆ°é—®é¢˜ï¼Œâ€œwhich teacher do you respect mostï¼Ÿâ€ã€‚èµ°åœ¨ä¸Šè¯¾çš„è·¯ä¸Šï¼Œè„‘å­é‡Œå›å‘³ç€è¿™ä¸ªé—®é¢˜ï¼Œç­”æ¡ˆå´æœªèƒ½è¹¦å‡ºæ¥ã€‚\u003c/p\u003e","title":"Which Teacher Do You Respect Most?","type":"posts"},{"content":"æ–°å­¦æœŸä»æš‘å‡å¼€å§‹ï¼Œçƒ­æ°”æ»¡ç›ˆçš„åŸ¹è®­æ•™å®¤ï¼Œä¸‰å›½æ€ä¹è¶£å¤šï¼Œã€Šå›½å®¶å¹²éƒ¨ã€‹ã€ã€Šä¸‡å†åäº”å¹´ã€‹ä»¥åŠã€Šäº²çˆ±çš„å®‰å¾·çƒˆã€‹ï¼Œé€šå®µè¾¾æ—¦çš„æ•°æ¨¡æ¯”èµ›ä¹‹å¤œï¼Œå¼€å­¦å‰ä¸¤å‘¨çš„é…±æ²¹ç”Ÿæ´»ï¼Œã€Šé‚£äº›å›ä¸å»çš„å¹´å°‘æ—¶å…‰ã€‹ä¸ã€Šä½ å¥½æ—§æ—¶å…‰ã€‹ï¼Œåˆé—»æ¡‚èŠ±é¦™ï¼Œå›½åº†ç™»å²³éº“ï¼Œç¼–ç¨‹è¶£å‘³å¤šï¼ŒäºŒé£Ÿå ‚ä¸‰æ¥¼å¾ˆç«å‘ï¼Œé…±æ²¹çš„ä¼ æ„Ÿå’Œæ£€æµ‹å®éªŒä»¥åŠè¯¾ç¨‹ï¼Œâ€œè¹­â€äº†ä¸€ä¸ªå­¦æœŸè¯¾çš„ã€Šç”µæœºæ‹–åŠ¨ã€‹ï¼Œå‹¤å‹‰çš„ç•¥å¸¦è‹¦å£å©†å¿ƒçš„å®‰è€å¸ˆï¼Œç¼ºä¹æ¿€æƒ…ã€ä¹å‘³çš„â€œç°æ§â€è¯¾ï¼Œèµ·äºåæœˆä¸­æ—¬çš„æ‰˜ç¦å•è¯ï¼Œè®²ã€Šè¯¯å·®ç†è®ºã€‹çš„è®¤çœŸè´Ÿè´£çš„å½­è€å¸ˆï¼Œâ€œcut the rope â€ä¸€ä¸ªæœ‰è¶£çš„æ¸¸æˆï¼Œå……æ»¡æ™ºæ…§çš„ã€Šçº¿æ€§ä»£æ•°ã€‹å…¬å¼€è¯¾ï¼Œâ€œå€¾å€¾ç™¾è€æ±‡â€æˆå‘¨æœ«ä¹ æƒ¯ï¼Œè¿‡ç”Ÿæ—¥ä¸ç”Ÿæ—¥ç¤¼ç‰©ï¼Œé‚£äº›æ— åçƒ¦èºï¼Œè‡ªä¹ åœ£åœ°Aåº§414ï¼Œç²‰å†¶è‡ªä¹ äººï¼Œä¸€ç›´åšæŒçš„è·‘æ­¥ï¼Œåæ¹–å°åŒºçš„åŒ…å­ä¸é”™ï¼Œã€Šå› ä¸ºç—›æ‰€ä»¥å«é’æ˜¥ã€‹ï¼Œå†è¯»ã€Šæˆé•¿ã€‹ï¼Œç»ƒä¹ æ±‡ç¼–ç¨‹åºç¼–å†™ï¼Œâ€œè€¿è€¿äºæ€€â€çš„ä¼ æ„Ÿè€ƒè¯•ï¼Œè‡ªçœï¼Œä¸ºç­çº§å®£ä¼ æ‹è§†é¢‘ï¼ŒæŸæŸæŸä¹ƒçœŸå±Œä¸ï¼Œa crisis in the end of 11ï¼Œæˆ‘é€ƒè¯¾æˆ‘å–œæ¬¢ï¼Œã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹ä¸ºä½•è®©æˆ‘æµæ³ªï¼Œå¯¹å¤–æ–‡æ•™æçš„æ— æ¥ç”±å´‡æ‹œï¼Œä¸ºè¯¾è®¾ä¸æ–­çœ‹ä¹¦ï¼Œã€ŠåŠç”Ÿç¼˜ã€‹ä¸ã€Šå€¾åŸä¹‹æ‹ã€‹ï¼Œè½»æ¾è¿‡å…³çš„ä½“è‚²æµ‹è¯•ï¼Œå¹²æ¶¸äº†ä¸€æ•´ä¸ªå­¦æœŸçš„äººå·¥æ²³ï¼Œæ‰“é…±æ²¹äºä¼˜ç§€ç­çº§ç­”è¾©ï¼Œåæ¹–é‚£è¿˜ä¸é”™çš„æ‚é…±é¢ï¼Œæˆ‘ç»ˆç©¶æ²¡èƒ½å®Œæˆï¼Œæƒ­æ„§çš„è¯¾è®¾ï¼Œã€Šæœ€ç¾çš„æ—¶å…‰ã€‹ï¼Œå‘çˆ¹çš„æ£€æµ‹è€ƒè¯•ï¼Œå†™æŠ¥å‘Šçš„ä¸çœ ä¹‹å¤œï¼Œé›ªä¸­æ¼«æ­¥ï¼Œè€ƒè¯•å‰çˆ†æ»¡çš„ä¸‰æ•™ï¼Œæ®è¯´å›¾ä¹¦é¦†å¾ˆç«çˆ†ï¼Œæ•™å®¤çš„ç©ºè°ƒèƒ½è§„å¾‹ç‚¹å¦ï¼Œå…ƒæ—¦åƒç«é”…ï¼Œè€ƒå®Œç°æ§çš„åæ‚”ä¸ä»¤äººæªå¿ƒçš„å¾®æœºï¼Œæœ¬å­¦æœŸç½‘è´­çš„ä¹¦å¯ä¸ç®—å°‘ï¼Œé‡æ¸¸é“é“ï¼Œæ¿€æˆ˜ä¸‰å›½æ€ï¼Œåªæ˜¯â€œåƒé¥­â€çš„èšé¤ï¼Œæ‰˜ç¦å•è¯å®Œç»“ï¼Œare you a changed man ï¼Ÿ\n","date":"18 February 2013","externalUrl":null,"permalink":"/2013/02/18/2012_second_semester/","section":"Posts","summary":"æ–°å­¦æœŸä»æš‘å‡å¼€å§‹ï¼Œçƒ­æ°”æ»¡ç›ˆçš„åŸ¹è®­æ•™å®¤ï¼Œä¸‰å›½æ€ä¹è¶£å¤šï¼Œã€Šå›½å®¶å¹²éƒ¨ã€‹ã€ã€Šä¸‡å†åäº”å¹´ã€‹ä»¥åŠã€Šäº²çˆ±çš„å®‰å¾·çƒˆã€‹ï¼Œé€šå®µè¾¾æ—¦çš„æ•°æ¨¡æ¯”èµ›ä¹‹å¤œï¼Œå¼€å­¦å‰ä¸¤å‘¨çš„é…±","title":"å€å¿½ä¸€å¹´ï¼š2012 ä¸‹","type":"posts"},{"content":"æœ‰æ—¶å€™è§‰å¾—è‡ªå·±å¯¹äººç”Ÿçš„è®¸å¤šé“ç†éƒ½æ‡‚äº†ï¼Œç»™åˆ«äººè®²çš„æ—¶å€™éƒ½æ˜¯å¾ˆæœ‰æ°”åŠ¿ï¼Œè‡ªå·±é‡åˆ°äº†å‘¢ï¼Ÿäººç”Ÿä¸­çš„æœ‰äº›äº‹æ˜¯ä¸æ˜¯çœŸçš„åˆ«å»æƒ³å°±å¥½äº†ï¼Ÿææ€•ä¸æ˜¯å§ï¼Œä¸å»æƒ³ä¸€äº›äº‹æœ‰æ—¶æ˜¯è‡ªä¿¡ä¸è¶³çš„è¡¨ç°ï¼Œæƒ³è¦åƒé¸µé¸Ÿä¸€æ ·æŠŠè‡ªå·±è’™è”½èµ·æ¥ï¼Œä¸å»æƒ³ï¼Œä¸å»çœ‹ï¼Œé—®é¢˜å°±æ²¡äº†ï¼Ÿå½“ç„¶ä¸ä¼šçš„ã€‚æœ‰æ—¶å€™å¾ˆå®³æ€•å»è§£å‰–è‡ªå·±ï¼Œè¿™å¸¦æ¥çš„ä¸€ä¸ªåæœå°±æ˜¯åœ¨æ„æ—äººçš„çœ‹æ³•ï¼Œå¥½åƒè¿˜æ²¡æœ‰é‚£ä¹ˆå¼ºå¤§ï¼Œå¯ä»¥å®Œå…¨åªæ³¨æ„è‡ªå·±çš„å†…å¿ƒï¼Œå°±è­¬å¦‚åˆ«äººè¯´ä½ å¾ˆå¼ºå¤§æˆ–è€…ä¸è¡Œï¼Œä½ å°±çœŸçš„æ˜¯é‚£æ ·äº†ï¼Ÿä½ ä¼šåœ¨æ„åˆ«äººçš„çœ‹æ³•ä¹ˆï¼Ÿç”šè‡³ä½ ä¼šä¸ä¼šè‡ªå˜²ä¸€ä¸‹è‡ªå·±ï¼ŒæŠŠè‡ªå·±è´¬çš„ä½“æ— å®Œè‚¤ï¼Œä½†æ˜¯å†…å¿ƒç¡®æ˜¯æ— æ¯”çš„æ¸…é†’ï¼ŒçŸ¥é“è‡ªå·±çš„ä½ç½®ï¼Œæ¯«ä¸è¿·ç³ŠèŒ«ç„¶ï¼Ÿ\nè¶Šæ¥è¶Šè§‰å¾—è®¤è¯†ä½ è‡ªå·±æ˜¯å¾ˆæœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œä¸€æœ¬ä¹¦é‡Œè¯´åˆ«äººç»™ä½ çš„çœ‹æ³•å°±åƒæ˜¯æ·é”ï¼Œå¾ˆè½»æ˜“å°±èƒ½é”ä¸Šä¸€ä¸ªäººï¼Œæ‰“ç ´æ·é”ï¼æ•™è‚²ç»™ä½ çš„ä¸œè¥¿ï¼Œä½ ä¹Ÿè¦å»æŠŠæ¡ï¼Œä½ æœ‰ä¸€å®šä¸»åŠ¨æƒï¼Œåä»¥å¾…æ•™å¹¶ä¸å¥½ï¼Œæ¬ºéª—è‡ªå·±ä¹Ÿå¾ˆå·®åŠ²ï¼›æ•™è‚²ç»™äººæ›´å¤šé€‚åº”æ€§è¿˜æ˜¯æ›´å°‘ï¼Ÿ\nLife is hope ï¼Œæœ‰è¿™å¥è¯å—ï¼Œâ€œç”Ÿæ´»å°±æ˜¯å¸Œæœ›â€ï¼Œå½“ç„¶è¿˜æ˜¯è¦ä¸»åŠ¨ï¼Œé€‰æ‹©é¸¿æ¯›ï¼Œå¤ªä¸å€¼å½“ï¼Œä¼šé­é„™è§†ä¸é—å¿˜ã€‚å°±åƒé‚£å› ä¸ºå¤±æ‹å°±â€œå—å±â€ï¼ˆå€¾å€¾ç™¾è€æ±‡ï¼‰çš„å¤§ä¸‰å­¦é•¿ï¼Œé€å»åªç»™äººä»¥ç¬‘æ–™â€¦â€¦\n","date":"6 September 2012","externalUrl":null,"permalink":"/2012/09/06/zi_chao_zi_xing/","section":"Posts","summary":"æœ‰æ—¶å€™è§‰å¾—è‡ªå·±å¯¹äººç”Ÿçš„è®¸å¤šé“ç†éƒ½æ‡‚äº†ï¼Œç»™åˆ«äººè®²çš„æ—¶å€™éƒ½æ˜¯å¾ˆæœ‰æ°”åŠ¿ï¼Œè‡ªå·±é‡åˆ°äº†å‘¢ï¼Ÿäººç”Ÿä¸­çš„æœ‰äº›äº‹æ˜¯ä¸æ˜¯çœŸçš„åˆ«å»æƒ³å°±å¥½äº†ï¼Ÿææ€•ä¸æ˜¯å§ï¼Œä¸å»æƒ³ä¸€äº›","title":"è‡ªå˜²ä¸è‡ªçœ","type":"posts"},{"content":"åç¡•ASUSï¼Œä¸¥è‚ƒçš„æ¨¡ç”µè€å¸ˆï¼Œæ¨¡ç”µå¥½å›°éš¾ï¼Œä¸æŠ›å¼ƒä¸æ”¾å¼ƒï¼Œå…¶å®å¼ æ•™ä¸»æŒºå¥½ï¼ˆè‡³å°‘æ— å¯æŒ‡æ‘˜ï¼‰çš„ï¼Œå¹³å’Œçš„æ•°ç”µè€å¸ˆï¼Œä¸€ä¸ªé™Œç”Ÿå¥³ç”Ÿçš„ä¿¡æ¯ï¼Œèƒƒé…¸çœŸçš„æŒºç—›è‹¦ï¼Œè¿™åŒ»ç”Ÿå¤ªå‘äººäº†ï¼æœ¨æœ‰å¬æ‡‚è‡ªæ§è€å¸ˆçš„è¯¾å•Š::\u0026gt;_\u0026lt;:: è‡ªæ•‘è€…å¤©æ•‘ï¼Œåˆæ¬¡ç‰©ç†å®éªŒçš„è°¨æ…ã€è®¤çœŸçœ‹æ¥æ˜¯å¯ç¬‘çš„ï¼Œæ–°é—»è‹±è¯­ä¸æ™¦æ¶©çš„è‹±ç¾åç¯‡é€‰è¯»ï¼Œçˆ±é»˜ç”Ÿçš„ã€Šself-relianceã€‹ï¼Œç¤¾ä¼šæ—¶äº‹å’Œäººç”Ÿæ„Ÿæ‚Ÿï¼Œè¿™ä¸ªæœ±è€å¸ˆä¸ä¸€æ ·ï¼é¸¡è‚‹ç‰©ç†å®éªŒand è‡ªæ§å®éªŒï¼Œå†™æŠ¥å‘ŠçœŸæ˜¯ä¸€ä»¶å¥‡è‘©çš„äº‹ï¼Œæ‹¿ä»€ä¹ˆæ‹¯æ•‘ä½ æˆ‘ä»¬å˜è´¨çš„å®éªŒï¼Ÿä¸€å£æ¹–å—è¯çš„æ¯›é‚“è€å¸ˆï¼Œå¹²å‡€åˆ©ç´¢çš„å¤å˜è€å¸ˆï¼Œå…­çº§å•è¯çš„å®Œç»“ï¼Œé€‰ä¿®è¯¾è€å¸ˆæœ‰ç‚¹â€œé‡å£å‘³â€^^ï¼Œè‡ªä¹ åœ£åœ°ä¸å†ï¼ˆAåº§415ï¼‰ï¼Œå¿™ç¢Œçš„ç‰©è”ç½‘æ°å“¥ï¼Œå—æ ¡æ“åœºçš„è·‘æ­¥ï¼Œæ¸…æ˜å²³é˜³æ¥¼ä¹‹è¡Œï¼Œå­¦ä¹ çš„è§‚å¿µï¼ˆã€Šæˆé•¿ã€‹ï¼‰ï¼Œç™¾é‡Œæ¯…è¡Œï¼Œåšæ”¶éŸ³æœºï¼Œå°‘åƒè¾£æ¤’äº†ï¼ŒäºŒé£Ÿå ‚äºŒæ¥¼ä¹Ÿä¸é‚£ä¹ˆéš¾åƒçš„ï¼Œä¸‰æ¥¼å¼€å§‹ä¸é”™å”‰ï¼Œåæ¥â€¦â€¦å¶å°”çš„ç„¦è™‘ä¸çƒ¦èºï¼Œäººè¦ç†æ™ºä¸€äº›ï¼äº”ä¸€â€œç¾å¦™çš„â€æœˆäº®å²›ä¹‹è¡Œ@@ï¼Œå¤œçˆ¬å²³éº“å±±ï¼Œç”µå·¥å®è·µæœ‰ç‚¹æ„æ€ï¼Œæˆ‘è·Ÿé”‹å“¥çš„ç»„åˆå¤©ä¸‹æ— æ•Œï¼è¯»ä¹¦ï¼šã€Šè¿½éšæ™ºæ…§ã€‹ï¼Œã€Šè”æƒ³é£äº‘ã€‹ï¼Œã€Šæˆé•¿ã€‹ï¼Œã€Šä¸­å›½çš„æ–°é©å‘½ã€‹ã€‚æ›´èƒ½æ‰¿å—äº†ï¼Œæˆé•¿äº†å—ï¼Ÿ\n","date":"24 July 2012","externalUrl":null,"permalink":"/2012/07/24/2012_first_semester/","section":"Posts","summary":"åç¡•ASUSï¼Œä¸¥è‚ƒçš„æ¨¡ç”µè€å¸ˆï¼Œæ¨¡ç”µå¥½å›°éš¾ï¼Œä¸æŠ›å¼ƒä¸æ”¾å¼ƒï¼Œå…¶å®å¼ æ•™ä¸»æŒºå¥½ï¼ˆè‡³å°‘æ— å¯æŒ‡æ‘˜ï¼‰çš„ï¼Œå¹³å’Œçš„æ•°ç”µè€å¸ˆï¼Œä¸€ä¸ªé™Œç”Ÿå¥³ç”Ÿçš„ä¿¡æ¯ï¼Œèƒƒé…¸çœŸçš„æŒºç—›è‹¦","title":"2012 ä¸ŠåŠå¹´","type":"posts"},{"content":"åˆ†ç­ï¼Œæ–°ç­çº§ï¼ŒäºŒè¾‰è¯—è´¤è½¬ä¸“ä¸šï¼Œæ–°ç­çº§èšä¼šåƒé¥­ï¼Œç”³è¯·å¥–å­¦é‡‘ï¼Œç”³è¯·è¡¨ï¼Œè¢«æ‰£å¾·è‚²åˆ†ï¼ˆä¸é€šäººæƒ…çš„è¾…å¯¼å‘˜è€å¸ˆï¼‰ï¼Œå›½åº†å²³éº“å±±ï¼Œåšç‰©é¦†ï¼Œç”µè·¯è‡ªä¹ ï¼Œå…­çº§å•è¯ï¼ˆæ–°ä¸œæ–¹ï¼‰ï¼Œçœ‹ã€Šè¥¿å¾è®°ã€‹ï¼Œé‡‘å·¥å®ä¹ ï¼Œä¸€æ³¢ä¸‰æŠ˜çš„é”¤å­ï¼ŒECè¢«åˆ·ï¼Œæ™šä¸Šç¡è§‰å¾ˆè¿Ÿï¼Œæ¢ä¸­æ­¦çœ‹ç”µè§†å‰§ï¼Œç”µå­ç”µå·¥å®éªŒï¼Œç½‘ç»œé€ƒè¯¾ï¼Œæ¦‚ç‡è®ºä¹±ä¸ƒå…«ç³Ÿï¼Œç”µè·¯é™ˆå®æŒºå¥½ï¼Œè‹±è¯­æ²¡æ€ä¹ˆè®¤çœŸå­¦ï¼Œé€ƒå¬åŠ›è¯¾ï¼Œå¥‹åŠ›å»åšæ•°æ®åº“ï¼Œæ¼«é•¿çš„è‡ªä¹ ï¼ˆåœ£åœ°Aåº§415~_~ï¼‰ï¼Œæ°å“¥çš„è®¤çœŸå­¦ä¹ ï¼Œä¸€ä½ä¸æ›¾è¯´è¿‡è¯çš„è‡ªä¹ äººï¼Œä¸ºä»€ä¹ˆéƒ½å»å›¾ä¹¦é¦†ï¼Œæ¦‚ç‡è®ºè€ƒè¯•ç»™æˆ‘æ‰“å‡»ï¼Œbbc è‹±è¯­ï¼Œä¸€ç§å†…åœ¨çš„ç„¦èºï¼Œæ— èŠçš„é©¬å…‹æ€ï¼Œä»¤äººå‘ç‹‚çš„ç”µè·¯ï¼ŒäºŒé£Ÿå ‚ä¸€æ¥¼å››æ¥¼åƒé¥­ï¼Œå¶å°”äºŒæ¥¼ï¼Œè·‘æ­¥æ²¡æœ‰åšæŒä½ï¼Œä¹¦åŒ…ä¸¢äº†ï¼Œæ‚²å‚¬çš„ç‰©ç†å­¦ä¹ ï¼ˆè’‹äº¦æ°‘ï¼Œå½­æ”¿ï¼‰ï¼Œæ–°çš„ä¸ªæ€§åŒå­¦ï¼Œå²³éº“å±±è¶Šé‡ï¼Œå®¿èˆçš„å†·æˆ˜ä¸å¯¹å³™ï¼Œæˆ‘å¯¹æŸäº›äº‹çš„å†·é™æ€åº¦ï¼Œæç¬‘çš„äººã€‚\n","date":"12 January 2012","externalUrl":null,"permalink":"/2012/01/12/2011_second_semester/","section":"Posts","summary":"åˆ†ç­ï¼Œæ–°ç­çº§ï¼ŒäºŒè¾‰è¯—è´¤è½¬ä¸“ä¸šï¼Œæ–°ç­çº§èšä¼šåƒé¥­ï¼Œç”³è¯·å¥–å­¦é‡‘ï¼Œç”³è¯·è¡¨ï¼Œè¢«æ‰£å¾·è‚²åˆ†ï¼ˆä¸é€šäººæƒ…çš„è¾…å¯¼å‘˜è€å¸ˆï¼‰ï¼Œå›½åº†å²³éº“å±±ï¼Œåšç‰©é¦†ï¼Œç”µè·¯è‡ªä¹ ï¼Œå…­çº§å•è¯","title":"2011 ä¸‹åŠå¹´","type":"posts"},{"content":" å¿ƒæ€ # æ€»æ˜¯åœ¨è¿½é€ï¼Œåœ¨å¿™ç¢Œï¼Œå´æ²¡æœ‰åœä¸‹è„šæ­¥ï¼Œé—®é—®è‡ªå·±:\u0026ldquo;ä½ åœ¨åšä»€ä¹ˆï¼Ÿâ€å¿ƒé‡Œä¸å®‰é™ï¼Œå—å¤–ç‰©å¹²æ‰°å¤ªæ·±ï¼Œå„ç§å¿µå¤´å¤ªå¤šï¼Œæ˜“æ¿€åŠ¨ï¼Œæ˜“æ‰‹å¿™è„šä¹±ã€‚ä¸ºä½•ä¸èƒ½å¹³é™åœ°åœ°åšäº‹å‘¢ï¼Ÿä»»ä½•æ—¶å€™éƒ½å°½é‡ä¸å»ç”Ÿæ°”ï¼Œä¸å»å‘æ€’ï¼Œæƒ³åŠæ³•å»è§£å†³ã€‚ä¸€é¢—å¹³é™çš„å¿ƒèƒ½å¸®ä½ æ‹¨å¼€é‚£å±‚å±‚çš„é›¾éœ­ï¼Œçœ‹è§å…‰æ˜ã€‚\nçˆ±æƒ… # ä¸€ä¸ªäººä¸€å®šä¼šå¯‚å¯å—ï¼Ÿä¸€ä¸ªäººå¯‚å¯äº†ï¼Œå°±å»æ‰¾ä¸€ä¸ªå¥³æœ‹å‹ï¼Œè¿™æ˜¯çˆ±æƒ…å—ï¼Ÿæ¯ä¸ªäººéƒ½åº”è¯¥æœ‰è‡ªå·±çš„åº¦ï¼Œä¸è¦é€¾è¶Šï¼Œå¶å°”é€¾è¶Šä¹Ÿè¦å›æ¥ï¼Œèµ¶å¿«å›æ¥ï¼Œbe sensibleï¼ä¸¤ä¸ªäººåœ¨ä¸€èµ·ï¼Œæ˜¯ä¸ºäº†ç—›è‹¦å—ï¼Ÿæ˜¯ä¸ºäº†å¿«ä¹ï¼Œä¸€ç§å¿ƒçµçš„æ„‰æ‚¦ï¼Œä¸ç‰©è´¨å…³è”è¦å°‘ã€‚ä¸è¦é™ä½è‡ªå·±çš„äººæ ¼ï¼Œä¸è¦æ°¸è¿œå‘å¾®åœ°ä¹æ±‚ï¼Œçˆ±æƒ…åº”è¯¥æ˜¯å¹³ç­‰è‡ªç”±çš„ï¼Œä¸æ˜¯æ–½èˆä¸æ©æƒ ã€‚\næ€æƒ³å¥´å½¹ä¸æŸç¼š # æœ€è¿‘æ—¶ä¸æ—¶è„‘ä¸­å°±æƒ³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æœ‰å¤šå°‘çœ‹æ³•æ˜¯ç©ºä¸­æ¥¼é˜å‘¢ï¼Ÿæˆ‘ä»¬æœ‰å¤šå°‘è‡ªå·±åŸåˆ›çš„æ€æƒ³ï¼Ÿäººé•¿å¤§äº†ï¼Œè„‘ä¸­ä¹Ÿè¢«çŒè¿›äº†è®¸å¤šæˆ‘ä»¬ä¸çŸ¥å¯¹é”™å´å¥‰ä¸ºçœŸç†çš„ä¸œè¥¿ã€‚æˆ‘ä»¬è®¤ä¸ºä¸€ä¸ªäº‹åº”è¯¥æ˜¯é‚£æ ·ï¼Œå¾ˆå¤šæ—¶å€™ä¸æ˜¯å› ä¸ºé‚£æ ·å°±æ˜¯æ­£ç¡®çš„ï¼Œè€Œæ˜¯åˆ«äººæ˜¯é‚£æ ·è¯´çš„ã€‚æˆ‘ä»¬å¯¹è®¸å¤šäº‹æƒ…çš„çœ‹æ³•éƒ½è¿‡äºåæ¿€ã€‚è¯´åˆ°é«˜è€ƒï¼Œé‚£å°±å¿…é¡»æ˜¯å’¬ç‰™åˆ‡é½¿ï¼Œä»€ä¹ˆæ‘§æ®‹äººæ‰ï¼Œä»€ä¹ˆåº”è¯•æ•™è‚²çš„å„ç§ä¸æ˜¯ï¼Œè¿˜æœ‰é‚£é»‘è‰²çš„é«˜ä¸‰ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬ä»å“ªé‡Œå¾—æ¥è¿™äº›çœ‹æ³•ï¼Ÿæœ‰å¯é ä¾æ®å—ï¼Ÿå°±ç®—åˆ«äººè¯´çš„æ¯ä¸€é¡¹éƒ½æ˜¯æ˜¯çœŸçš„ï¼Œä½ ä¹Ÿè¦è‡ªå·±å»ä½“éªŒï¼Œå»æ„Ÿå—ï¼Œä»æ¥ä¸è¦æœªä½“éªŒå°±å»ä¼ æ’­è¿™äº›ä¸çŸ¥å¯¹é”™çš„çœ‹æ³•ï¼Œå‹¿ç›²ç›®ã€‚è¯´åˆ°æ”¿åºœï¼Œäººä»¬ä¸€èˆ¬å°±æ˜¯å„ç§è´Ÿé¢è¯„ä»·ï¼Œå®˜å‘˜è…è´¥å•Šï¼Œæƒé’±äº¤æ˜“å•Šï¼Œå®˜åƒšä¸»ä¹‰å•Šï¼Œæ»¥ç”¨å…¬æ¬¾äº‘äº‘ï¼Œæ”¿åºœæ˜¯æœ‰å„ç§é—®é¢˜ï¼Œæˆ‘ä¹Ÿå¯¹æŸäº›ä¸‘æ¶è¡Œä¸ºæ·±æ¶ç—›ç»ï¼Œä½†æ˜¯è¿™äº›æƒ³æ³•æ˜¯ä½ è‡ªå·±å½¢æˆçš„è¿˜æ˜¯å—ä»–äººå½±å“çš„ï¼Ÿå®ƒä»¬æ˜¯å¦çœŸçš„å°±æ˜¯å¯¹çš„ï¼Ÿæœ‰æ²¡æœ‰å¤¸å¤§æˆ–è€…ç¼–é€ ï¼Ÿæˆ‘ä»¬è¦æœ‰è‡ªå·±çš„çœ‹æ³•ï¼Œä¸è¦è½»æ˜“å—åˆ«äººçš„å½±å“ï¼Œä¸è¦è¢«ç”¨åšä¸€ä¸ªä¼šè¯´è¯ä¼šä¼ æ’­çš„å·¥å…·ï¼Œç†æ™ºåœ°æ€è€ƒã€‚\n","date":"9 December 2011","externalUrl":null,"permalink":"/2011/12/09/some_recent_thought/","section":"Posts","summary":"å¿ƒæ€ # æ€»æ˜¯åœ¨è¿½é€ï¼Œåœ¨å¿™ç¢Œï¼Œå´æ²¡æœ‰åœä¸‹è„šæ­¥ï¼Œé—®é—®è‡ªå·±:\u0026ldquo;ä½ åœ¨åšä»€ä¹ˆï¼Ÿâ€å¿ƒé‡Œä¸å®‰é™ï¼Œå—å¤–ç‰©å¹²æ‰°å¤ªæ·±ï¼Œå„ç§å¿µå¤´å¤ªå¤šï¼Œæ˜“æ¿€åŠ¨ï¼Œæ˜“æ‰‹å¿™è„šä¹±","title":"æœ€è¿‘çš„ä¸€äº›æ„Ÿæƒ³","type":"posts"},{"content":"è¿™å‡ å¤©ï¼Œå°±æ˜¯å›½åº†èŠ‚äº†ï¼Œæ²¡æœ‰å»æ—…æ¸¸ï¼Œæ¯å¤©éƒ½åœ¨å®¿èˆï¼Œæ—©ä¸Šç¡åˆ°å¾ˆæ™šæ‰èµ·æ¥ï¼Œä¸­åˆæœ‰æ—¶ç£¨ç£¨è¹­è¹­ï¼Œä¸€é˜µæ¶ˆç£¨ï¼ŒçœŸæ˜¯ kill timeã€‚\nä¸çŸ¥æ€ä¹ˆå°±æƒ³åˆ°äº†äººç”Ÿçš„ç›®æ ‡ä¸Šé¢ï¼Œç°åœ¨çš„ç”Ÿæ´»ç¡®å®æ˜¯æœ‰ä¸€ä¸æ³¢æ¾œä¸æƒŠï¼Œæœ‰ä¸€ä¸å¹³é™çš„ï¼Œä»¥è‡³äºå¤§å®¶éƒ½æƒ³å»å¯»æ±‚åˆºæ¿€ã€‚äººå½“ç„¶æ˜¯éœ€è¦è½»æ¾çš„æ—¶å…‰çš„ï¼Œéœ€è¦å¨±ä¹ï¼Œå¯æ˜¯æœ‰æ—¶åˆæ˜¯åœ¨å¨±ä¹ä¸­å¿˜è®°äº†è‡ªå·±çš„äº‹ï¼Œæˆ–è€…æ˜¯åœ¨é€ƒé¿è‡ªå·±çš„äº‹ï¼Œå¤ªéº»çƒ¦äº†ï¼Œå¤ªæ²‰é‡äº†ï¼Œè™½ç„¶å¾ˆçƒ¦è¿™ç§é¢“åºŸï¼Œå´åˆåƒæœ‰ç˜¾è€…ä¸€æ ·ä¸èƒ½æˆ’é™¤ï¼Œå¶å°”ä¹Ÿä¼šè‡ªè´£ï¼Œç„¶åç»§ç»­æ²‰æ²¦ï¼Ÿè¿™å°±æ˜¯æ”¾å‡çš„ç”Ÿæ´»ï¼Ÿè¿™å°±æ˜¯ç¾å¥½çš„ç”Ÿæ´»å—ï¼Ÿä»€ä¹ˆæ˜¯ç¾å¥½çš„ç”Ÿæ´»ï¼Œåšè‡ªå·±æƒ³åšè€Œä¸”åº”è¯¥åšçš„äº‹ï¼Œå®Œæˆå®ƒï¼Œå°½é‡æ”¾å¼ƒé‚£äº›è®©ä½ æ²‰è¿·çš„å´åˆä»¤ä½ å¶å°”æœ‰ä¸€ä¸ç—›è‹¦çš„äº‹ï¼Œè¿åŠ¨ï¼Œé€‚å½“çš„å¨±ä¹ã€‚å°±åƒèœ˜è››ä¾ ä¸€æ ·ï¼Œåçš„æ€æƒ³ã€ä¹ æƒ¯åƒé‚£ä»¶é‚ªæ¶çš„è¡£æœä¸€æ ·éš¾ä»¥é™¤å»ï¼Œä½†æ˜¯ä¸å»é™¤ï¼Œåªä¼šè¶Šæ¥è¶Šå—å®ƒçš„å½±å“ï¼Œåšå¼ºåœ°è„±æ‰é‚£ä»¶â€œåè¡£æœâ€ï¼Œç»™è‡ªå·±ä¸€ä¸ªæ–°çš„æˆ‘ï¼ç§¯æä¸€ç‚¹ï¼Œè«ç©ºè™šåº¦æ—¥ï¼\n","date":"6 October 2011","externalUrl":null,"permalink":"/2011/10/06/try_to_be_more_positive/","section":"Posts","summary":"\u003cp\u003eè¿™å‡ å¤©ï¼Œå°±æ˜¯å›½åº†èŠ‚äº†ï¼Œæ²¡æœ‰å»æ—…æ¸¸ï¼Œæ¯å¤©éƒ½åœ¨å®¿èˆï¼Œæ—©ä¸Šç¡åˆ°å¾ˆæ™šæ‰èµ·æ¥ï¼Œä¸­åˆæœ‰æ—¶ç£¨ç£¨è¹­è¹­ï¼Œä¸€é˜µæ¶ˆç£¨ï¼ŒçœŸæ˜¯ kill timeã€‚\u003c/p\u003e","title":"å°è¯•ç§¯æ -- å›½åº†èŠ‚æ„Ÿæƒ³","type":"posts"},{"content":"æ¥åˆ°å¤§å­¦ï¼Œä¸€å¹´å¤šäº†ï¼Œçš„ç¡®çœ‹åˆ°äº†è®¸å¤šåŒå­¦å› å¤±å»äº†é«˜ä¸­æ—¶çš„ä¸¥åŠ æŸç¼šè€Œæ•´æ—¥æ”¾æµªå½¢éª¸ï¼Œå¥½å¤šåŒå­¦ç”±äºç©æ¸¸æˆã€ä¸ä¸Šè¯¾å¯¼è‡´æŒ‚ç§‘ã€é‡ä¿®ã€‚å¯èƒ½æ­£æ˜¯å› ä¸ºè¾…å¯¼å‘˜è€å¸ˆç»å†äº†è®¸å¤šç±»ä¼¼çš„äº‹ï¼Œå› æ­¤æ‰åˆ¶å®šäº†ã€ŒæŸ¥å¯ã€çš„æ”¿ç­–ï¼Œå®Œå…¨å¯ä»¥ç†è§£è¾…å¯¼å‘˜è€å¸ˆçš„ä¸€ç‰‡è‹¦å¿ƒï¼Œå¸Œæœ›ä¿¡æ¯é™¢çš„å­©å­éƒ½èƒ½åŠªåŠ›å­¦ä¹ å˜›ã€‚åˆšå¼€å§‹æˆ‘å¯¹æ­¤æ˜¯ä¸å±‘ä¸€é¡¾çš„ï¼Œå› ä¸ºæˆ‘è‡ªå·±è‚¯å®šæ˜¯ä¸ä¼šèº²åœ¨å®¿èˆæ‰“æ¸¸æˆçš„ï¼Œä½•å†µæˆ‘æ²¡æœ‰ç”µè„‘ã€‚æ²¡æœ‰è‡ªè¡Œè½¦ï¼Œè¦å»æ–°æ ¡åŒºï¼Œå¾—èµ°äºŒååˆ†é’Ÿï¼Œå¥½æµªè´¹æ—¶é—´ï¼›å»ä¸‰æ•™å§ï¼Œäººåˆé‚£ä¹ˆå¤šï¼ŒäººæŒ¤äººçš„å­¦ä¹ æ°›å›´ç»™äººä¸èˆ’æœçš„å¿ƒæƒ…ï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©äº†åœ¨å®¿èˆè‡ªä¹ ã€‚åœ¨å®¿èˆï¼Œä¸€ä¸ªäººï¼Œæ‰“å¼€ä¸€ç›å°ç¯ï¼Œå€’ä¸€æ¯å¼€æ°´ï¼Œæ°¤æ°²çš„æ°´æ±½ï¼Œç»™äººæ¸©é¦¨çš„æ„Ÿè§‰ã€‚æœ‰å¤šå°‘ä¸ªå¤œæ™šï¼Œåœ¨è¿™æ ·å®é™çš„ç©ºé—´é‡Œï¼Œé™é™åœ°æ€è€ƒï¼Œç´¯äº†å°±å¬ä¸€é¦–æ­Œï¼Œæˆ–è€…åˆ°é˜³å°ä¸Šçœºæœ›ä¸€ä¸‹æ ¡åŒºçš„å¤œæ™¯ï¼Œå¤šä¹ˆç†æƒ³çš„è‡ªä¹ ä¹‹åœ°ã€‚ä¸Šä¸ªå­¦æœŸï¼Œæˆ‘ä¸€ç›´åœ¨å®¿èˆè‡ªä¹ ï¼ŒæœŸé—´å½“ç„¶é‡åˆ°äº†å¥½å¤šæŸ¥å¯çš„åŒå­¦ï¼Œæˆ‘ä¹Ÿè®°ä¸æ¸…è¢«æŸ¥åˆ°äº†å¤šå°‘æ¬¡ï¼Œé‚£æ—¶çš„æˆ‘ä¸€ç›´æ˜¯é—®å¿ƒæ— æ„§çš„ï¼Œæˆ‘åªæ˜¯åœ¨å®¿èˆå­¦ä¹ è€Œå·²ï¼Œæœ‰é”™å—ï¼Ÿ\næŸ¥å¯çš„æ„Ÿæƒ³ # è¿™ä¸ªå­¦æœŸï¼Œå¤§å®¶æ‰çŸ¥é“ï¼ŒæŸ¥å¯æ˜¯æœ‰ç›®çš„çš„ï¼Œè¯„å¥–å­¦é‡‘æ—¶ï¼Œå¦‚æœè¢«æŸ¥åˆ°è¿‡ï¼Œå¾·è‚²æˆç»©å°±ä¼šè¢«é™ä½ï¼Œæˆ‘æƒ³ç ´è„‘è¢‹ï¼Œä¹Ÿæƒ³ä¸é€šã€Œå¾·è‚²æˆç»©ä½=å¾·è‚²ä¸å¥½=æŸ¥å¯è¢«æŸ¥åˆ°ã€è¿™ä¸ªè¿ç­‰å¼æ˜¯æ€ä¹ˆå¥‡è¿¹èˆ¬åœ°å®ç°çš„ï¼ŒæŸ¥å¯è¢«æŸ¥åˆ°ï¼Œå¥½å§ï¼Œè·Ÿå¾·è‚²æœ‰å…³å—ï¼Ÿ\næˆ‘çœŸçš„æƒ³è¯´ï¼Œno sane person would ever do thatã€‚æŸ¥å¯æ˜¯å¦èƒ½èµ·åˆ°ä½œç”¨å‘¢ï¼Ÿæˆ‘ä¸è®¤ä¸ºå®ƒèƒ½æœ‰ä»€ä¹ˆä½œç”¨ï¼Œ6ç‚¹è‡³9ç‚¹ï¼Œå®¿èˆä¸èƒ½äº®ç¯ï¼Œäºæ˜¯ä¸€ä¸ªåœ¨å®¿èˆç¡å¤§è§‰çš„äººæ²¡æœ‰è¢«æŸ¥åˆ°ï¼Œä¸€ä¸ªè®¤çœŸå­¦ä¹ çš„äººè¢«æŸ¥åˆ°äº†ï¼Œæ‰£åˆ†äº†ï¼›ä¸€ä¸ªåœ¨ç½‘å§ç©æ¸¸æˆçš„äººå¯èƒ½è¢«è®¤ä¸ºæ˜¯åœ¨å­¦ä¹ ï¼ŒåŒæ ·ä¸€ä¸ªåœ¨å­¦ä¹ çš„äººè¢«æŸ¥äº†â€¦â€¦å¥½è’å”çš„åœºé¢ã€‚å¦‚æœè€å¸ˆçœŸçš„æƒ³è®©åŒå­¦ä»¬å»å¥½å¥½å­¦ä¹ ï¼Œä¸å¦‚æŠŠä»–ä»¬æŒ‡å®šåˆ°ä¸€é—´æ•™å®¤ï¼Œå°±åƒé«˜ä¸­é‚£æ ·ã€‚å¦‚æœè€å¸ˆçœŸçš„å…³å¿ƒå­¦ç”Ÿçš„å‘å±•ï¼Œåœ¨å­¦ç”Ÿä»¬è¿·èŒ«æ—¶ï¼Œåœ¨å­¦ç”Ÿä»¬å› æŒ‚ç§‘è‹¦æ¼æ—¶ï¼Œè€å¸ˆå°±åº”è¯¥å»å¸®åŠ©ä»–ä»¬ï¼å¸Œæœ›æˆ‘ä»¬çš„è€å¸ˆæ˜¯çœŸæ­£åœ°å…³å¿ƒå­¦ç”Ÿçš„å‘å±•ã€‚\næ¯ä¸€é¡¹æ”¿ç­–ã€è§„å®šï¼Œå…¶å®è¡Œéƒ½ä¼šå¯¹å¤§æ‰¹äººäº§ç”Ÿå½±å“ï¼Œå°±å¦‚è¿™ä¸ªã€ŒæŸ¥å¯ã€ï¼Œå¾ˆå¤šåŒå­¦å¯¹æ­¤éƒ½æ˜¯ä¸å–œæ¬¢çš„ã€‚æ”¿ç­–ã€è§„å®šçš„åˆ¶å®šè€…èƒ½å¦åœ¨åˆ¶å®šè§„å®šä»¥å‰ï¼Œè€ƒè™‘åˆ°æ–¹æ–¹é¢é¢çš„å› ç´ ï¼Œåˆ¶å®šå‡ºæœ‰æ•ˆçš„è§„å®šï¼Ÿæˆ‘ä»¬çš„è§„å®šèƒ½å¦æ›´åŠ äººæ€§åŒ–ï¼Œè€Œä¸æ˜¯é‚£ä¹ˆåˆ»æ¿ã€å›ºæ‰§ï¼Ÿ\nå¤§å­¦ç”Ÿéƒ½æ˜¯æˆå¹´äººï¼Œåº”è¯¥æ˜ç™½è‡ªå·±çš„æ‰€ä½œæ‰€ä¸ºå¯¹æœªæ¥çš„å½±å“ï¼Œåº”è¯¥å¯¹è‡ªå·±çš„è¡Œä¸ºè´Ÿæ‹…å…¨éƒ¨çš„è´£ä»»ã€‚ä¸€ä¸ªäººæƒ³ä¸æƒ³å­¦ä¹ ï¼Œæ˜¯è¦å­¦ä¹ è¿˜æ˜¯è¦ç©æ¸¸æˆï¼Œéƒ½æ˜¯è‡ªå·±çš„å†³å®šï¼Œåˆ«äººä¹Ÿä¸éœ€è¦å¼ºåˆ¶ä»–ä»¬åšä»€ä¹ˆäº‹ã€‚ä¸å…¶é€šè¿‡ã€ŒæŸ¥å¯ã€é€¼ä»–ä»¬ç¦»å¼€å®¿èˆï¼Œä¸å¦‚ç»™ä»–ä»¬ä¸€äº›è­¦é†’ä¸å¿ å‘Šã€‚åªæœ‰ä»–ä»¬ä»å†…å¿ƒæ„¿æ„å»å­¦ä¹ ï¼Œæ‰æ˜¯æœ€å¥½çš„ç»“æœã€‚ä½•å†µï¼Œç¦»å¼€å®¿èˆå¹¶ä¸èƒ½ä¿è¯ä»–ä»¬å°±æ˜¯å»å­¦ä¹ äº†ã€‚æ¯•ç«Ÿä»–ä»¬æ€»æ˜¯è¦ç‹¬è‡ªå»é¢å¯¹ä¸€äº›äº‹çš„ï¼Œæ²¡æœ‰äººä¼šæ°¸è¿œæé†’ä»–ä»¬ï¼Œä½ ä»¬è¦åŠªåŠ›ï¼Œä½ ä»¬è¦è¿™æ ·ï¼Œä¸è¦é‚£æ ·ã€‚\nç”±æ­¤ï¼Œæˆ‘ä¹Ÿæƒ³åˆ°äº†ã€Œè‡ªç”±ã€ä¸¤ä¸ªå­—ï¼Œæˆ‘ä»¬çš„å¤§å­¦æ˜¯ã€Œè‡ªç”±ã€çš„å—ï¼Ÿæˆ‘ä»¬çš„å¤§å­¦æ˜¯å¼€æ”¾åŒ…å®¹çš„å—ï¼Ÿæœ‰äººè¯´ä½ æ€ä¹ˆèƒ½ç”±ä¸€ç‚¹å°±å»æ¦‚æ‹¬å…¨è²Œå‘¢ï¼Œæ˜¯å•Šï¼Œé‚£æˆ‘ä»¬å¤§å­¦çš„è‡ªç”±åˆ°åº•æ˜¯ä»å“ªé‡Œä½“ç°å‡ºæ¥çš„å‘¢ï¼Ÿè‡ªç”±éš¾é“ä¸æ­£æ˜¯é€šè¿‡ä¸€äº›å¾ˆå°çš„ç»†èŠ‚ä½“ç°çš„å—ï¼Ÿæˆ‘ä»¬çš„å¤§å­¦æ˜¯åœ¨å¿ å®åœ°å®è·µå®ƒçš„å£å·ã€ŒåŸ¹å…»åˆ›æ–°å‹äººæ‰ã€å—ï¼Ÿåœ¨é€‰æ‹©è‡ªä¹ åœ°ç‚¹è¿™ä¸ªå°é—®é¢˜ä¸Šéƒ½ä¸èƒ½å‡­ä¸ªäººæ„æ„¿ï¼Œè‡ªç”±é‚£ä¹ˆè¿œï¼Œå¤ªå¤šçš„è¡Œæ”¿å‘½ä»¤ï¼Œå¹²æ‰°äº†å¤§å­¦çš„è‡ªç”±ç²¾ç¥ï¼Œæ”¿ç­–ä¸åˆ¶åº¦çš„ä¸œè¥¿ï¼Œæœ‰ä¸€äº›ä¸åˆç†ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ä¸€äº›åˆ°å›½å¤–è¯»ä¹¦ã€ç ”ç©¶çš„äººä¸æ„¿åœ¨å­¦æˆä»¥åå›åˆ°ä¸­å›½ï¼Œä¸æ˜¯ä»–ä»¬ä¸çˆ±å›½ï¼Œè€Œæ˜¯â€œæƒ³è¯´çˆ±ä½ ä¸å®¹æ˜“â€ï¼Œå¸Œæœ›æˆ‘ä»¬çš„å¤§å­¦æ›´è‡ªç”±ï¼Œè¿™å…¶ä¸­çš„å…³é”®å°±æ˜¯ç®¡ç†è€…çš„å¿ƒè¦æ˜¯è‡ªç”±çš„ã€å®½å®¹çš„ï¼Œè¿™æ ·å­¦æœ¯çš„å¹¼è‹—æ‰èƒ½æˆé•¿ï¼Œä¸­å›½æœ¬åœŸæœªæ¥æ‰æœ‰å¯èƒ½å‡ºç°è¯ºè´å°”å¥–å¾—ä¸»ã€‚\nä¸€ä¸ªçŒ¥ççš„æŸ¥å¯è€… # å¥½å¤šæ”¿ç­–æ€ä¹ˆä¸€æ‰§è¡Œå°±å˜å‘³äº†ï¼Ÿç”±æ­¤åœ¨è´´å§é‡Œçœ‹åˆ°ä¸€ä¸ªåŒå­¦ï¼Œåœ¨è·ç¦»æ™šä¸Šä¹ç‚¹ä¸¤åˆ†é’Ÿçš„æ—¶å€™ï¼Œç”±äºè¿›äº†å®¿èˆï¼Œè¢«ç­‰å€™å¤šæ—¶çš„æŸ¥å¯äººå‘˜ã€Œå…‰è£ã€åœ°æŸ¥åˆ°äº†ï¼Œè¿æ°”å¯çœŸå¤ŸèƒŒçš„ã€‚åŒæ—¶ä¹Ÿä¸å¾—ä¸ä½©æœè¯¥æŸ¥å¯ç«¥é‹çš„ä¸€ä¸ä¸è‹Ÿçš„å·¥ä½œæ€åº¦ï¼Œé”±é“¢å¿…è¾ƒä»¥åŠåƒè‹¦è€åŠ³çš„å·¥ä½œç²¾ç¥ï¼Œæˆ‘ä¸çŸ¥ç­‰äº†å¤šé•¿æ—¶é—´ï¼Œä¸æŠ“ä½ä¸€ä¸ªäººï¼Œä»Šå¤©æ™šä¸Šçš„æŸ¥å¯å²‚ä¸æ˜¯æ²¡æœ‰æ”¶è·äº†ï¼ŒæŠ“ä½ æ²¡å•†é‡ã€‚æˆ‘æ„Ÿåˆ°äº†æ‚²å“€ï¼ŒåŒæ—¶ä¹Ÿæ„Ÿåˆ°äº†ä¸€ç§å†…å¿ƒçš„ç•¸å½¢ï¼Œè§„å®šç«Ÿç„¶è¢«å¦‚æ­¤çš„æ¯«æ— äººæ€§åŒ–çš„æ‰§è¡Œï¼è¯šç„¶ï¼Œæœ‰çš„ä¸œè¥¿å¿…é¡»ä¸€ä¸ä¸å«ç³Šçš„æ‰§è¡Œï¼Œè€ŒæŸ¥å¯çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ç£ä¿ƒåŒå­¦ä»¬çš„å­¦ä¹ ï¼Œä¸æ˜¯æ‰¾å„ç§æœºä¼šæŠŠåŒå­¦ä»¬çš„åå­—è®°åœ¨æ‰€è°“çš„æŸ¥å¯è®°å½•ç°¿ä¸Šå®Œäº‹ï¼ä¸ºäº†æŸ¥å¯è€ŒæŸ¥å¯ï¼Œè¯¥åŒå­¦ä¹‹è°“ä¹Ÿã€‚\n","date":"30 September 2011","externalUrl":null,"permalink":"/2011/09/30/no_sane_person_do_that/","section":"Posts","summary":"\u003cp\u003eæ¥åˆ°å¤§å­¦ï¼Œä¸€å¹´å¤šäº†ï¼Œçš„ç¡®çœ‹åˆ°äº†è®¸å¤šåŒå­¦å› å¤±å»äº†é«˜ä¸­æ—¶çš„ä¸¥åŠ æŸç¼šè€Œæ•´æ—¥æ”¾æµªå½¢éª¸ï¼Œå¥½å¤šåŒå­¦ç”±äºç©æ¸¸æˆã€ä¸ä¸Šè¯¾å¯¼è‡´æŒ‚ç§‘ã€é‡ä¿®ã€‚å¯èƒ½æ­£æ˜¯å› ä¸ºè¾…å¯¼å‘˜è€å¸ˆç»å†äº†è®¸å¤šç±»ä¼¼çš„äº‹ï¼Œå› æ­¤æ‰åˆ¶å®šäº†ã€ŒæŸ¥å¯ã€çš„æ”¿ç­–ï¼Œå®Œå…¨å¯ä»¥ç†è§£è¾…å¯¼å‘˜è€å¸ˆçš„ä¸€ç‰‡è‹¦å¿ƒï¼Œå¸Œæœ›ä¿¡æ¯é™¢çš„å­©å­éƒ½èƒ½åŠªåŠ›å­¦ä¹ å˜›ã€‚åˆšå¼€å§‹æˆ‘å¯¹æ­¤æ˜¯ä¸å±‘ä¸€é¡¾çš„ï¼Œå› ä¸ºæˆ‘è‡ªå·±è‚¯å®šæ˜¯ä¸ä¼šèº²åœ¨å®¿èˆæ‰“æ¸¸æˆçš„ï¼Œä½•å†µæˆ‘æ²¡æœ‰ç”µè„‘ã€‚æ²¡æœ‰è‡ªè¡Œè½¦ï¼Œè¦å»æ–°æ ¡åŒºï¼Œå¾—èµ°äºŒååˆ†é’Ÿï¼Œå¥½æµªè´¹æ—¶é—´ï¼›å»ä¸‰æ•™å§ï¼Œäººåˆé‚£ä¹ˆå¤šï¼ŒäººæŒ¤äººçš„å­¦ä¹ æ°›å›´ç»™äººä¸èˆ’æœçš„å¿ƒæƒ…ï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©äº†åœ¨å®¿èˆè‡ªä¹ ã€‚åœ¨å®¿èˆï¼Œä¸€ä¸ªäººï¼Œæ‰“å¼€ä¸€ç›å°ç¯ï¼Œå€’ä¸€æ¯å¼€æ°´ï¼Œæ°¤æ°²çš„æ°´æ±½ï¼Œç»™äººæ¸©é¦¨çš„æ„Ÿè§‰ã€‚æœ‰å¤šå°‘ä¸ªå¤œæ™šï¼Œåœ¨è¿™æ ·å®é™çš„ç©ºé—´é‡Œï¼Œé™é™åœ°æ€è€ƒï¼Œç´¯äº†å°±å¬ä¸€é¦–æ­Œï¼Œæˆ–è€…åˆ°é˜³å°ä¸Šçœºæœ›ä¸€ä¸‹æ ¡åŒºçš„å¤œæ™¯ï¼Œå¤šä¹ˆç†æƒ³çš„è‡ªä¹ ä¹‹åœ°ã€‚ä¸Šä¸ªå­¦æœŸï¼Œæˆ‘ä¸€ç›´åœ¨å®¿èˆè‡ªä¹ ï¼ŒæœŸé—´å½“ç„¶é‡åˆ°äº†å¥½å¤šæŸ¥å¯çš„åŒå­¦ï¼Œæˆ‘ä¹Ÿè®°ä¸æ¸…è¢«æŸ¥åˆ°äº†å¤šå°‘æ¬¡ï¼Œé‚£æ—¶çš„æˆ‘ä¸€ç›´æ˜¯é—®å¿ƒæ— æ„§çš„ï¼Œæˆ‘åªæ˜¯åœ¨å®¿èˆå­¦ä¹ è€Œå·²ï¼Œæœ‰é”™å—ï¼Ÿ\u003c/p\u003e","title":"No Sane Person Will Ever Do That -- å…³äºå¤§å­¦å‚»é€¼çš„æŸ¥å¯","type":"posts"},{"content":"äººçš„å¿ƒç†çœŸæ˜¯å¤ªå¾®å¦™äº†ï¼Œè¿™æ˜¯æˆ‘è¿™äº›å¤©ä¸€ç›´åœ¨è€ƒè™‘çš„é—®é¢˜ã€‚åœ¨ä¸¤ä¸ªäººçš„äº¤å¾€ä¸­å°±å¯ä»¥çª¥è§è¿™ç§å¾®å¦™ï¼Œèµ·åˆä¸¤ä¸ªäººå¹¶ä¸ç†Ÿè¯†ï¼Œç„¶åçªç„¶æœ‰ä¸€å¤©ä½ å¾ˆæœ‰å…´è¶£è·ŸæŸä¸ªäººè¯´è¯ï¼Œè¿™ç§æ„¿æœ›å¥½è±¡æ˜¯é—¯å…¥è„‘å­é‡Œçš„ï¼Œæ²¡æœ‰ä»»ä½•å¾å…†ã€‚å›å¿†ä¸€ä¸‹å’Œä½ è®¤è¯†çš„äººçš„äº¤å¾€ï¼Œå…¶å‘ç«¯ä¼¼ä¹éƒ½å¾ˆå¾®å°ï¼Œä»¥è‡´äºæˆ‘éš¾ä»¥æƒ³èµ·ä¸ºä»€ä¹ˆä¸¤ä¸ªäººå½¼æ­¤è®¤è¯†äº†ã€‚\nç„¶è€Œæ­£æ˜¯å› ä¸ºäººçš„å¿ƒç†æ˜¯å¾®å¦™çš„ï¼Œæœ‰ä¸€å¤©ä½ çªç„¶è§‰å¾—å€¦äº†ï¼Œçƒ¦äº†ï¼Œæ²¡æœ‰å…´è¶£äº†ï¼Œäºæ˜¯ä½ å˜å¾—æ·¡æ¼ äº†ï¼Œä¸ç§¯æäº†ï¼Œè€Œä½ çš„æœ‹å‹å¯èƒ½å´æ¯«æ— å¯Ÿè§‰ï¼Œå¯èƒ½ä¼šæœ‰å¯Ÿè§‰ï¼Œäºæ˜¯å¿ƒç…§ä¸å®£ï¼Œé»˜å¥‘åœ°å˜æˆäº†â€œç†Ÿæ‚‰çš„é™Œç”Ÿäººâ€ï¼Œè€Œè¿™ç§é™Œç”Ÿæ„Ÿæ˜¯ä»¤äººä¸èˆ’æœçš„ã€‚\nå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯å¦ä¸€ä¸ªäººå˜äº†ã€‚é€šå¸¸æƒ…å†µä¸‹ä½ å¹¶ä¸çŸ¥é“åŸå› ï¼Œä½†ä½ å¯ä»¥æ„Ÿè§‰åˆ°ï¼Œä»–ä»¬å˜å¾—ä¸çƒ­æƒ…äº†ï¼Œå½“ä½ å’Œä»–ä»¬è¯´è¯æ—¶ï¼Œä¼šæ˜æ˜¾æ„Ÿåˆ°ä¸€ç§å°´å°¬ã€‚å½“ä½ é‚€è¯·ä»–ä»¬ä¸€èµ·å»ç©æˆ–è€…ä¸€èµ·å»åƒé¥­æ—¶ï¼Œä»–ä»¬å¼€å§‹å˜å¾—æ¨è„±ï¼Œè¿™æ—¶ä½ æ„è¯†åˆ°ï¼Œè¿‡å»é‚£ç§äº²å¯†çš„å…³ç³»ä¸€å»ä¸å¤è¿”äº†ï¼Œä½ å¾ˆéš¾å†æ‰¾å›é‚£ç§è°ˆå¤©è¯´åœ°çš„æ„Ÿè§‰äº†ã€‚\nåœ¨å°è¯´ã€Šéƒ½å¸‚é£æµã€‹ä¸­ï¼Œè¿™ç§ä¾‹å­å¤ªå¤šäº†ã€‚å¼ ä¹‰å…°è¿½æ±‚æ¨å»ºåï¼Œä¸‡å®¶ç¦è¿½æ±‚å¼ ä¹‰å…°ï¼Œå¼ ä¹‰å…°ç”±æœ€åˆä¸å–œæ¬¢ä¸‡å®¶ç¦ï¼Œåˆ°æœ€ååŒæ„è·Ÿå®¶ç¦åœ¨ä¸€èµ·ã€‚å¸‚å§”ä¹¦è®°é«˜ä¼¯å¹´ä¸€æ‰‹ææ‹”äº†å¸‚é•¿é˜é¸¿å”¤ï¼Œè€Œå½“é˜é¸¿å”¤å¤§åˆ€é˜”æ–§è¿›è¡ŒåŸå¸‚æ”¹é€ ï¼Œèµ¢å¾—æ°‘å¿ƒçš„æ—¶å€™ï¼Œé«˜ä¼¯å¹´å¿ƒä¸­åˆæœ‰ä¸€ç§æ‚²å‡‰æ„Ÿå’Œä¸å¹³ä¹‹æ°”ï¼Œè§‰å¾—è‡ªå·±åŸ¹å…»äº†ä¸€ä¸ªé‡å¿ƒå®¶ã€‚ä¸œå¸‚åŒºè€é¢†å¯¼æ™‹æ³¢æ”¯æŒåŒºé•¿åº·å…‹ä¿­è®©å“„æŠ¢ä½æˆ¿çš„äººæ¬å‡ºæ¥¼æˆ¿çš„å†³å®šï¼Œä½†å½“åº·å…‹ä¿­å¼ºåˆ¶å°†ä»–çš„å„¿å­æ¬å‡ºæ¥¼æˆ¿æ—¶ï¼Œä»–åˆè§‰å¾—è‡ªå·±å¾ˆæ²¡æœ‰é¢å­ã€‚æŸ³è‹¥æ™¨å’Œå¾é‡ŒåŠ›ç”±äºç¤¾ä¼šåŸå› ç»“å©šäº”å¹´å´å¦‚åŒé™Œç”Ÿäººä¸€æ ·ï¼Œå„ä½å„çš„æˆ¿ï¼Œäº’ä¸å¹²æ‰°ï¼Œå½“å¾é‡ŒåŠ›åœ¨ç”Ÿå‘½å³å°†åˆ°å¤´æ—¶ï¼Œå´å‘ç°äº†æŸ³è‹¥æ™¨çš„ç§ç§ä¼˜ç‚¹ï¼Œç”šè‡³çˆ±ä¸Šäº†ä»–ï¼ŒæŸ³è‹¥æ™¨äº¦ç„¶ã€‚è¿˜æœ‰æ¨å»ºåï¼Œèµ·åˆå¯¹è‚–ç²è¿™ä¸ªå¥³å­©æ€»æ˜¯ä¸¥è‚ƒå†·æ·¡ï¼Œä½†æœ€ç»ˆå–œæ¬¢ä¸Šäº†å¥¹ã€‚å¼ ä¹‰æ°‘ï¼Œè¿™ä¸ªæœ‰ç‚¹æ‚²å‰§çš„äººç‰©ï¼Œä¸ºäº†èƒ½å¤Ÿæœ‰æ”¿æ²»åŸºç¡€ï¼Œä¸æƒœä½ä¸‰ä¸‹å››åœ°å‘é«˜ä¼¯å¹´çš„å¥³å„¿é«˜å©•ç¤ºå¥½ï¼Œé«˜å©•èµ·åˆå¾ˆåæ„Ÿä»–ï¼Œæœ€åå½“é«˜å©•ä»ä¸Šæµ·å›æ¥å¤§å˜æ ·åï¼Œå¼ ä¹‰æ°‘åˆå˜å¾—å‚²æ…¢èµ·æ¥ï¼Œä»¿ä½›ä¸€ä¸ªèƒœåˆ©çš„å°†å†›â€¦â€¦\näººçš„å¿ƒç†çœŸæ˜¯æ¯”æœ€å¤æ‚çš„æ–¹ç¨‹å¼è¿˜è¦éš¾è§£ï¼Œæ€ªä¸å¾—å°æ—¶ä¾¯ä¼šå­¦åˆ°è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œä¸–äº‹æ´æ˜çš†å­¦é—®ï¼Œäººæƒ…ç»ƒè¾¾å³æ–‡ç« ã€‚â€\n","date":"20 January 2011","externalUrl":null,"permalink":"/2011/01/20/admire_wonder_of_world2/","section":"Posts","summary":"\u003cp\u003eäººçš„å¿ƒç†çœŸæ˜¯å¤ªå¾®å¦™äº†ï¼Œè¿™æ˜¯æˆ‘è¿™äº›å¤©ä¸€ç›´åœ¨è€ƒè™‘çš„é—®é¢˜ã€‚åœ¨ä¸¤ä¸ªäººçš„äº¤å¾€ä¸­å°±å¯ä»¥çª¥è§è¿™ç§å¾®å¦™ï¼Œèµ·åˆä¸¤ä¸ªäººå¹¶ä¸ç†Ÿè¯†ï¼Œç„¶åçªç„¶æœ‰ä¸€å¤©ä½ å¾ˆæœ‰å…´è¶£è·ŸæŸä¸ªäººè¯´è¯ï¼Œè¿™ç§æ„¿æœ›å¥½è±¡æ˜¯é—¯å…¥è„‘å­é‡Œçš„ï¼Œæ²¡æœ‰ä»»ä½•å¾å…†ã€‚å›å¿†ä¸€ä¸‹å’Œä½ è®¤è¯†çš„äººçš„äº¤å¾€ï¼Œå…¶å‘ç«¯ä¼¼ä¹éƒ½å¾ˆå¾®å°ï¼Œä»¥è‡´äºæˆ‘éš¾ä»¥æƒ³èµ·ä¸ºä»€ä¹ˆä¸¤ä¸ªäººå½¼æ­¤è®¤è¯†äº†ã€‚\u003c/p\u003e","title":"æ¬£èµå¥‡å¦™çš„ä¸–ç•Œ2","type":"posts"},{"content":"æˆ‘åœ¨å°‘å¹´æ—¶åšè¿‡è®¸å¤šæ¢¦ï¼Œå…¶ä¸­ä¸€ä¸ªæœ€è¿œå¤§çš„æ¢¦ï¼ˆç›¸ä¿¡ä¹Ÿæ˜¯è®¸å¤šåŒå­¦çš„æ¢¦ï¼‰å°±æ˜¯æˆä¸ºä¸€åç§‘å­¦å®¶ã€‚å°æ—¶å€™å¯¹å¦‚ä½•åšç§‘å­¦å®¶æ¯«æ— æ¦‚å¿µï¼ŒåªçŸ¥é“ç§‘å­¦å®¶å¾ˆä¼Ÿå¤§ï¼Œå¯ä»¥æƒ³åšä»€ä¹ˆå°±åšä»€ä¹ˆï¼Œè€Œä¸”è¿˜èƒ½äº«å—åˆ°æé«˜çš„è£èª‰ã€‚\nå¯æ˜¯ç°åœ¨ï¼Œå†æ¥çœ‹ä¸€çœ‹ï¼Œè¿˜æœ‰å¤šå°‘äººçš„æ¢¦æƒ³æ˜¯åšä¸€åç§‘å­¦å®¶ï¼Ÿå› ä¸ºç»è¿‡ç§ç§çš„äº‹æƒ…ï¼Œæˆ‘ä»¬æ˜ç™½äº†ï¼Œç§‘å­¦å®¶æ˜¯ä¸€é¡¹è¦æ±‚å¾ˆé«˜çš„å·¥ä½œï¼Œä¸é€‚å®œå‡¡äººå¹²çš„ã€‚é—²è¯å°‘è¯´ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹ç§‘å­¦å®¶æ˜¯æ€æ ·ç‚¼æˆçš„ã€‚\nå…ˆæ¥æ¬£èµä¸€ä¸‹ç§‘å­¦å®¶åŒå¿—ä»¬çš„ç«¥å¹´ã€‚ä»–ä»¬å¤§éƒ½ä¸æ˜¯ä»€ä¹ˆå®‰åˆ†çš„ä¸»ï¼Œä¸‰å¤©ä¸¤å¤´çé¼“æ£ï¼Œè¿˜è€çˆ±é—®â€œä¸ºä»€ä¹ˆâ€ï¼Œè¿™ä¹Ÿæƒ…æœ‰å¯åŸï¼Œå› ä¸ºä»–ä»¬æ‰“å°å°±æœ‰ç€å¯¹è‡ªç„¶ã€å®‡å®™å¼ºçƒˆçš„å¥½å¥‡å¿ƒï¼Œè¿™ç§å¥½å¥‡å¿ƒé©±ä½¿ä»–ä»¬å»æ¢ç´¢æœªçŸ¥çš„ä¸–ç•Œï¼Œè¿›è€Œæœ‰æ‰€æ”¶è·ã€‚å°±æ‹¿æ³•å›½æ˜†è™«å­¦å®¶æ³•å¸ƒå°”æ¥è¯´ï¼Œè¿™å­©å­ç«¥å¹´æ—¶å°±å¯¹è™«è™«æ€ªæ€ªæ„Ÿå…´è¶£ï¼Œå½“åˆ«çš„å­©å­åœ¨ç©è€æ—¶ï¼Œä»–å´åœ¨è®¤çœŸåœ°è§‚å¯Ÿæ˜†è™«å¹¶é¡ºä¾¿é€®ä¸€äº›æ˜†è™«ï¼Œæ‰€ä»¥ä»–çš„å£è¢‹æ€»æ˜¯æ»¡æ»¡çš„ï¼šè£…æ»¡äº†å„ç§æ˜†è™«ã€‚å¹¸äºå®¶é•¿å¼€æ˜ï¼Œè¦ä¸æœªæ¥çš„æ˜†è™«å­¦å®¶å°±è¦è¢«æ‰¼æ€åœ¨æ‘‡ç¯®ä¸­äº†ï¼Œè¦æåœ¨ä¸­å›½ï¼Œä¸å¥½å¥½å­¦ä¹ ï¼Œæ•´å¤©ç©å¼„æ˜†è™«ï¼Œæ—©è¢«å®¶é•¿æ•™è®­äº†ã€‚\nå‡†ç§‘å­¦å®¶åŒå¿—ç¨å¾®é•¿å¤§äº†ä¸€äº›ï¼Œä¸Šå­¦äº†ï¼ˆæ¯•ç«Ÿè‡ªå­¦æˆæ‰çš„ç§‘å­¦å®¶ä¸å¤šï¼Œéš¾åº¦å¤ªå¤§ï¼‰ã€‚å¯æ˜¯ä»–ä»¬å¤©ç”Ÿå°±çˆ±â€œèƒ¡æ€ä¹±æƒ³â€ï¼Œè€å¸ˆè®²ä¸ªä»€ä¹ˆï¼Œä»–è€è§‰å¾—æœ‰é—®é¢˜ï¼Œæ°”å¾—è€å¸ˆç›´å«å”¤ã€‚å¯¹å¤§å¤šæ•°äºè€å¸ˆæ¥è¯´ï¼Œä½ åªè¦è®°ä½çŸ¥è¯†å°±å¯ä»¥äº†ï¼Œç®¡å®ƒå¯¹ä¸é”™ï¼Œé»‘ä¸ç™½ã€‚ä½†å‡†ç§‘å­¦å®¶åŒå¿—å´ååè¦æ€è€ƒçŸ¥è¯†çš„æ¥é¾™å»è„‰ï¼Œæ¨æ•²å®ƒçš„æ­£ç¡®æ€§ã€‚å°±è¿™æ ·ï¼Œè‡ªç”±æ€è€ƒã€ä¸æ‹˜æ³¥äºç°æœ‰è€ä¸€å¥—çš„ç²¾ç¥å°±è¿™æ ·æ‰æ ¹äº†ã€‚\nå‡†ç§‘å­¦å®¶åŒå¿—æŠ«è†æ–©æ£˜ï¼Œå‡»è´¥æ— æ•°å¯¹æ‰‹ï¼Œè·¨è¿‡äº†â€œé«˜è€ƒâ€çš„ç‹¬æœ¨æ¡¥ï¼Œæ¥åˆ°äº†å¤§å­¦ä¸­ã€‚ä»–é•¿é•¿èˆ’äº†ä¸€å£æ°”ï¼Œåˆ«æ€¥ï¼Œè¿˜æ²¡å®Œå‘¢ã€‚ä¸Šè¯¾å¬æ•™æˆè®²è¯¾ï¼Œè¶Šå¬è¶Šéƒé—·ï¼Œå›åˆ°å®¿èˆï¼ŒèŒ¶é¥­ä¸æ€ï¼Œåœ¨æƒ³ä»€ä¹ˆå‘¢ï¼ŸåŸæ¥ä»–å‘ç°è€å¸ˆçš„è®²çš„ä¸œè¥¿ä¼¼ä¹ä¸å¯¹ï¼Œæ¥ç€ä»–å°±çªåœ¨æŸä¸ªä¸ä¸ºäººçŸ¥çš„è§’è½å¥‹æˆ˜è‹¥å¹²ä¸ªæœˆï¼Œæœ€åå¾—åˆ°äº†è‡ªå·±çš„ç»“è®ºã€‚äºæ˜¯ä¹Ÿä¸é¡¾æ•™æˆçš„é¢å­äº†ï¼Œç›´æ¥åœ¨æ•™æˆæ¼”è®²æ—¶æŒ‡æ­£ä»–ä»¬çš„é”™è¯¯ï¼Œä»æ­¤ä¸€é¸£æƒŠäººï¼Œå‡ºåäº†ã€‚æ¯”å¦‚æˆ‘ä»¬çš„éœé‡‘åŒå¿—ï¼Œå½“å¹´ä¸Šç‰›æ´¥æ—¶ï¼Œå¹´è½»æ°”ç››ï¼Œå‹‡æ•¢è´¨ç–‘è‡ªå·±çš„æ•™æˆï¼Œå¼„å¾—æ•™æˆå¥½ä¸å°´å°¬ï¼Œä½†éœé‡‘ç”±æ­¤ä¹Ÿæå‡ºäº†è‡ªå·±å…³äºå®‡å®™ã€é»‘æ´çš„ç§ç§ç†è®ºï¼Œé—»åä¸–ç•Œã€‚\næˆ‘ä»¬çš„å‡†ç§‘å­¦å®¶åŒå¿—ç»ˆäºå¤§å­¦æ¯•ä¸šäº†ï¼Œç”±æ­¤æ­£å¼å¼€å§‹äº†è‡ªå·±çš„ç ”ç©¶ç”Ÿæ¶¯ã€‚å”‰ï¼Œåˆå‘æ„äº†ï¼Œè‡ªå·±çš„ä¸“ä¸šé¢†åŸŸå¦‚æ­¤å¹¿æ³›ï¼Œè€Œä¸”å³ä½¿è‡ªå·±é€‰äº†ä¸€ä¸ªé¡¹ç›®ï¼Œç ”ç©¶æ–¹æ³•æœ‰åƒå¤´ä¸‡ç»ªã€‚è¿™æ—¶ï¼Œä»–çš„å¦ä¸€ä¸ªç§˜å¯†æ­¦å™¨å‡ºåœºäº†ï¼šæ•é”çš„åˆ¤æ–­åŠ›ã€‚è¿™ç§èƒ½åŠ›ä½¿ä»–èƒ½äºåƒå¤´ä¸‡ç»ªä¸­æ‰¾åˆ°è‡ªå·±çš„ç ”ç©¶æ–¹å‘ï¼Œå¹¶æ‰¾åˆ°æ­£ç¡®çš„ç ”ç©¶æ–¹æ³•ã€‚ä½†æ˜¯å³ä½¿ä½ æ‰¾åˆ°äº†æ­£ç¡®çš„æ–¹å‘ï¼Œä½ ä¹Ÿæ˜¯æœ‰å¯èƒ½å¤±è´¥çš„ï¼Œå¤±è´¥ä¸€æ¬¡ï¼Œæ“¦å¹²çœ¼æ³ªï¼Œå†æ¥ï¼›å¾ˆä¸å¹¸ï¼Œåˆå¤±è´¥äº†ï¼Œä»”ç»†åˆ†æç»¼åˆï¼Œé‡æ¥â€¦â€¦ï¼Œçš‡å¤©ä¸è´Ÿæœ‰å¿ƒäººå•Šï¼Œå‡­ç€æŒä¹‹ä»¥æ’ï¼Œæ„ˆæŒ«æ„ˆå‹‡çš„ç²¾ç¥ä»¥åŠå¯¹è‡ªå·±æ— æ¯”çš„ä¿¡å¿ƒï¼Œæˆ‘ä»¬çš„å‡†ç§‘å­¦å®¶åŒå¿—ç»ˆäºæˆåŠŸäº†ï¼Œæ¿€åŠ¨å•Šï¼Œæ¿€åŠ¨ä¹‹æƒ…æº¢äºè¨€è¡¨ï¼å¯è°åˆæ›¾çœ‹è§äº†ï¼Œæˆ‘ä»¬çš„ç§‘å­¦å®¶åŒå¿—ä¸ºäº†äº‹ä¸šï¼Œèµ·æ—©è´ªé»‘ï¼Œä¸‰è¿‡å®¶é—¨è€Œä¸å…¥ï¼Œå¿å—äº†å¤šå°‘å­¤å•ä¸å¯‚å¯ï¼Œè¿˜æœ‰é‚£æ²¡æœ‰æˆåŠŸä¹‹å‰é‚£å·¨å¤§çš„å‹åŠ›ï¼\nä¸ç®¡æ€ä¹ˆè¯´ï¼Œæˆ‘ä»¬çš„å‡†ç§‘å­¦å®¶åŒå¿—ç»ˆäºæ‘˜æ‰äº†â€œå‡†â€çš„å¸½å­ï¼Œæˆäº†ç§‘å­¦å®¶ã€‚äºæ˜¯å„ç§é‚€è¯·çº·è‡³æ²“æ¥ï¼Œä»€ä¹ˆè®²åº§å‘€ï¼Œå‰ªå½©å‘€ï¼Œç”µè§†èŠ‚ç›®å‘€â€¦â€¦çœŸæ˜¯â€œäººæ€•å‡ºåçŒªæ€•å£®â€ï¼Œä½†æˆ‘ä»¬çš„ç§‘å­¦å®¶åŒå¿—è¿™æ—¶åˆå±•ç¤ºäº†ä¸€é¡¹å¯†ä¸å¤–ä¼ çš„æ­¦è‰ºï¼šè€å¾—ä½ååˆ©çš„è¯±æƒ‘ã€‚æ¯•ç«Ÿè¾›è¾›è‹¦è‹¦å¹²äº†è¿™ä¹ˆå¤šå¹´ï¼Œæœ‰è¿™ä¹ˆå¤§çš„æˆå°±ï¼Œè·å¾—ååˆ©æ˜¯ç†æ‰€åº”å½“çš„ã€‚å¯æˆ‘ä»¬çš„ç§‘å­¦å®¶åŒå¿—å°±æ˜¯ä¸æ„¿æ„è¿‡ä¸€ç§åç¼°åˆ©é”çš„ç”Ÿæ´»ï¼Œä»–ä»¬æ‰€è¿½æ±‚çš„åªä¸è¿‡æ˜¯å†…å¿ƒçš„ä¸€ç§å¿«ä¹è€Œå·²ã€‚\nå½“ç„¶æˆ‘ä»¬çš„ç§‘å­¦å®¶åŒå¿—å¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹äºç¤¾ä¼šçš„ã€‚ä»–ä»¬å¤§éƒ½æœ‰ä¸€é¢—å–„è‰¯çš„å¿ƒï¼Œæ„¿æ„ä¸è‡ªç„¶ä¸ä»–äººå’Œè°ç›¸å¤„ã€‚ä¸€ä¸ªä¸çƒ­çˆ±å’Œå¹³çš„ç§‘å­¦å®¶ï¼Œå¾ˆéš¾è¯´æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç§‘å­¦å®¶ï¼Œå……å…¶é‡ä¸è¿‡ä¸€ä¸ªåˆ©ç”¨ç§‘å­¦å·¥å…·çš„äººï¼Œæ¯”å¦‚äºŒæˆ˜ä¸­ä½¿ç”¨æ°¯æ°”çš„å¾·å›½ç§‘å­¦å®¶å“ˆç€ã€‚\nè‡³æ­¤æˆ‘ä»¬çš„ç§‘å­¦å®¶æ‰ç‚¼æˆäº†ã€‚å›°éš¾å§ï¼Œç®€ç›´æ¯”å”åƒ§å¸ˆå¾’è¥¿å¤©å–ç»è¿˜éš¾ï¼åšä¸€åç§‘å­¦å®¶ä¸å®¹æ˜“å•Šã€‚\né‰´äºæ­¤ï¼Œå‘ç§‘å­¦ç²¾ç¥ï¼Œå‘ç§‘å­¦å®¶è‡´ä»¥æˆ‘æœ€ç¥åœ£ã€æœ€çº¯æ´ã€æœ€çœŸè¯šçš„æ•¬æ„ï¼\n","date":"8 January 2011","externalUrl":null,"permalink":"/2011/01/08/how_to_be_a_scientist/","section":"Posts","summary":"\u003cp\u003eæˆ‘åœ¨å°‘å¹´æ—¶åšè¿‡è®¸å¤šæ¢¦ï¼Œå…¶ä¸­ä¸€ä¸ªæœ€è¿œå¤§çš„æ¢¦ï¼ˆç›¸ä¿¡ä¹Ÿæ˜¯è®¸å¤šåŒå­¦çš„æ¢¦ï¼‰å°±æ˜¯æˆä¸ºä¸€åç§‘å­¦å®¶ã€‚å°æ—¶å€™å¯¹å¦‚ä½•åšç§‘å­¦å®¶æ¯«æ— æ¦‚å¿µï¼ŒåªçŸ¥é“ç§‘å­¦å®¶å¾ˆä¼Ÿå¤§ï¼Œå¯ä»¥æƒ³åšä»€ä¹ˆå°±åšä»€ä¹ˆï¼Œè€Œä¸”è¿˜èƒ½äº«å—åˆ°æé«˜çš„è£èª‰ã€‚\u003c/p\u003e","title":"ç§‘å­¦å®¶æ˜¯æ€ä¹ˆæ ·ç‚¼æˆçš„ï¼Ÿ","type":"posts"},{"content":"ï½ï½å‰ä¸€é˜µå­ï¼Œæ—©ä¸Šèµ·å¾—è‡ªä»¥ä¸ºè¿˜æŒºæ—©ï¼Œäºæ˜¯æ¯å¤©éƒ½èƒ½å¬åˆ°åœ¨å…¬äº¤è½¦ç»ˆç‚¹ç«™å¯¹é¢æœ‰ä¸€ç¾¤äººåœ¨å¿µè‹±è¯­ï¼Œä¸€èˆ¬æ¨¡å¼æ˜¯ä¸€ä¸ªäººå¸¦å¤´ï¼Œå…¶ä»–äººè·Ÿç€å¿µï¼Œå¿µå¾—å¾ˆå¤§å£°ï¼Œå¾ˆæœ‰æ¿€æƒ…ã€‚\nï½ï½åˆšå¼€å§‹æˆ‘ä¹Ÿæƒ³ç¬‘ä»–ä»¬åœ¨é‚£é‡Œå¿µä¹¦ï¼Œæœ‰ç‚¹åšä½œï¼Œå¿µä¹¦ä¸ºä»€ä¹ˆä¸æ‰¾ä¸ªæ¸…é™çš„åœ°æ–¹ï¼Œåè¦åœ¨é©¬è·¯è¾¹å¿µã€‚æˆ–è®¸æ˜¯åœ¨å­¦ä¹ è€æ¯›å§ã€‚æ¯å¤©æ—©ä¸ŠåŒ†åŒ†å¿™å¿™ä¸Šå­¦æ—¶ï¼Œæœ‰è¿™æ ·ä¸€äº›äººï¼Œä¸å¤±ä¸ºä¸€é“é£æ™¯ï¼Œäºæ˜¯å°±ä¹ æƒ¯äº†ã€‚\nï½ï½æœ‰ä¸€å¤©æ—©ä¸Šä¸Šè¯¾æ—¶ï¼Œåˆèµ°åˆ°é‚£é‡Œï¼Œæ­£å¥½å¬åˆ°æœ‰ä¸¤ä¸ªå–æ—©ç‚¹çš„å¤«å¦»çš„å¯¹è¯ï¼Œè€å©†å©†è¯´ï¼šâ€œä»–ä»¬ä¸€å¤©æ—©ä¸Šå’¿å’¿å‘€å‘€å¼äº›ä»€ä¹ˆå‘€ï¼Ÿâ€ç„¶åå’Œè€ä¼´ç›¸å¯¹ä¸€ç¬‘ã€‚æ­¤æ—¶å¯¹é¢çš„â€œå¼å£°â€ä»åœ¨ç»§ç»­ï¼Œç„¶åå¿ƒä¸­å°±å‘å‡ºäº†ä¸€å£°æ„Ÿå¹ï¼Œè™½ç„¶ç©ºé—´ä¸Šå–æ—©ç‚¹çš„å¤«å¦»è·Ÿé‚£äº›äººä¸€æ ·çš„ï¼Œå¯æ˜¯åˆ†æ˜ä»–ä»¬çš„ä¸–ç•Œå´æ˜¯å¦‚æ­¤é²œæ˜åœ°åŒºåˆ«ç€ã€‚è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸–ç•Œï¼Œä¸€ä¸ªå¹³å¸¸çç¢åŠ¡å®ï¼Œå¦ä¸€ä¸ªå……æ»¡äº†æ¿€æƒ…ã€ç†æƒ³ã€ç¨šå«©ã€‚\nï½ï½å½“è¿™è¾¹å–æ—©ç‚¹çš„åœ¨å¿™ç€å–æ—©ç‚¹æ—¶ï¼Œé‚£è¾¹æœ—æœ—ä¹¦å£°ä¹Ÿä¸æ–­é£˜æ¥ï¼Œä¸¤ä¸ªä¸–ç•Œåœ¨è¿™é‡Œå½¢æˆäº†ä¸€ç§æœ‰è¶£çš„å¯¹å³™ã€‚\nï½ï½æƒ³åˆ°ä¸€å¥è¯ï¼šâ€œä¸–ç•Œçš„ç¡®æ˜¯é é‚£äº›æ°å‡ºçš„äººç‰©æ¨è¿›çš„ï¼Œä½†ä¸–ç•Œåˆæ˜¯é é‚£äº›å¹³å‡¡çš„äººæ”¯æ’‘çš„ã€‚â€ä¸çŸ¥åˆä¸åˆé€‚ä½œä¸ºç»“å°¾ï¼Ÿ\n","date":"10 December 2010","externalUrl":null,"permalink":"/2010/12/10/intersection_of_two_world/","section":"Posts","summary":"\u003cp\u003eï½ï½å‰ä¸€é˜µå­ï¼Œæ—©ä¸Šèµ·å¾—è‡ªä»¥ä¸ºè¿˜æŒºæ—©ï¼Œäºæ˜¯æ¯å¤©éƒ½èƒ½å¬åˆ°åœ¨å…¬äº¤è½¦ç»ˆç‚¹ç«™å¯¹é¢æœ‰ä¸€ç¾¤äººåœ¨å¿µè‹±è¯­ï¼Œä¸€èˆ¬æ¨¡å¼æ˜¯ä¸€ä¸ªäººå¸¦å¤´ï¼Œå…¶ä»–äººè·Ÿç€å¿µï¼Œå¿µå¾—å¾ˆå¤§å£°ï¼Œå¾ˆæœ‰æ¿€æƒ…ã€‚\u003c/p\u003e","title":"ä¸¤ä¸ªä¸–ç•Œçš„ç¢°æ’","type":"posts"},{"content":"å‡ å¤©ï¼Œæˆ‘åœ¨æ“åœºä¸Šè·‘æ­¥æ—¶ï¼Œä¸çŸ¥ä¸è§‰æƒ³åˆ°äº†ä¸–ç•Œçš„å’Œè°ä¸å¥‡å¦™ã€‚è¿™ä¸ªä¸–ç•Œå¦‚å¾ˆå¤šäººæ‰€è¯´ï¼Œç”±äºæŠ€æœ¯â€”â€”æ— çº¿é€šè®¯ï¼Œäº’è”ç½‘â€”â€”çš„è”é€šè€Œå˜å°äº†ï¼Œä½†è¿™ä¸ªä¸–ç•Œå…¶å®è¿˜æ˜¯å¾ˆå®å¤§çš„ã€‚æƒ³æƒ³æˆ‘ä»¬æ‰€ç”Ÿæ´»çš„åœ°çƒï¼Œè¿™ä¸ªåœ°çƒä¸Šæœ‰å¤šå°‘äººå•Šï¼Œæ¯ä¸ªäººéƒ½åœ¨åˆ›é€ å±äºè‡ªå·±çš„ç”Ÿæ´»ã€‚æ¯ä¸€å¤©æ¯ä¸ªäººå°±é‚£æ ·ç”Ÿæ´»ï¼Œç”Ÿæ´»åœ¨è‡ªå·±çš„åœˆä¸­ï¼Œè€Œè‡ªå·±æˆ–è®¸å¹¶æœªè®¤è¯†åˆ°ã€‚\nå½“ä½ å’ŒæŸä¸ªäººæœªäº†è§£æ—¶ï¼Œå½“ç„¶ä»–ä¹‹å‰ä¹Ÿåœ¨ç”Ÿæ´»ï¼Œä½ ä¹Ÿåœ¨ç”Ÿæ´»ï¼Œä½†æ˜¯å½¼æ­¤äº’ä¸çŸ¥æ™“ï¼Œæ¯«æ— è”ç³»ï¼Œä¸¤ä¸ªåœˆå­æ²¡æœ‰ä¸æ¯«äº¤é”™ã€‚äºæ˜¯æˆ‘æƒ³ï¼Œåœ¨ä½ æ²¡æœ‰è®¤è¯†ä»–ä»¬ä»¥å‰ï¼Œä»–ä»¬åœ¨åšäº›ä»€ä¹ˆå‘¢ï¼Ÿé‚£æ—¶çš„æˆ‘ä»¬éƒ½åœ¨é‚£é‡Œï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆç›¸é‡å´æ²¡æœ‰ç›¸è¯†ï¼Ÿä»–ä»¬çš„ç”Ÿæ´»æ˜¯å¦ä¸ç°åœ¨ä¸€æ ·ï¼Ÿè¿™ç§ç¥ç§˜æ€§ä»¤äººç€è¿·ã€‚\næˆ‘ä»¬æ¯ä¸ªäººçš„ç”Ÿæ´»å¤šä¹ˆåƒä¸€æœ¬ä¹¦ï¼Œä¸€æœ¬å°è¯´ï¼Œé‡Œé¢æœ‰æ— ç©·çš„æ•…äº‹ï¼Œå½“ç„¶å®ƒä¸å°è¯´åˆä¸åŒï¼Œå› ä¸ºç”Ÿæ´»çš„å°è¯´æ˜¯ä¸æ–­æ›´æ–°çš„ã€‚è®¤è¯†ä¸€ä¸ªäººï¼Œå°±åƒåœ¨è¯»ä¸€ä¸ªä¸ªæ•…äº‹ã€‚è®¤è¯†ä¸€ä¸ªäººï¼Œä½ å°±è¿›å…¥äº†ä¸€ä¸ªå´­æ–°çš„ä¸–ç•Œï¼Œä¸–ç•Œä»¥å¦ä¸€ç§å½¢å¼å±•ç°åœ¨ä½ é¢å‰ã€‚\nå¯æ‚²çš„æ˜¯ï¼Œç°åœ¨çš„æˆ‘ä»¬ä¸ºäº†è‡ªå·±çš„â€œç›®æ ‡â€ï¼Œå¿½è§†äº†å¤šå°‘èº«è¾¹çš„äººï¼Œå¿½è§†äº†å¤šå°‘ç›¸é‡çš„äººï¼ç°åœ¨çš„æˆ‘ä»¬ï¼Œå®åœ¨æ˜¯å¤ªâ€œå¿™ç¢Œâ€äº†ï¼Œæˆ‘ä»¬å¿™ç€ä¸Šè¯¾ï¼Œå¿™ç€å‚åŠ å„ç§æ´»åŠ¨ï¼Œå¿™ç€å»å¬è®²åº§ï¼Œå¿™ç€å»å‚åŠ ä¼šè®®â€¦â€¦æ²‰æ€ä¸€ä¸‹ï¼Œä½ çœŸçš„æœ‰å¿…è¦é‚£ä¹ˆå¿™ä¹ˆï¼Ÿæˆ‘ä»¬ä¸è‡ªå·±è®¤è¯†çš„äººçš„è°ˆè¯è¢«æ— é™çš„â€œå‹ç¼©â€äº†ï¼Œä»…ä»…å±€é™äºä¸€äº›æ— å…³ç—›ç—’çš„è¯ï¼Œè€Œè¿™ç§è°ˆè¯æ ¹æœ¬æ— æ³•å»è¯»æ‡‚ä¸€ä¸ªäººï¼Œå»äº†è§£ä»–ä»¬ï¼Œå»æ‡‚å¾—å’Œæ¬£èµä»–ä»¬çš„æ•…äº‹ä¸ä¸–ç•Œã€‚\né™ä¸‹å¿ƒæ¥æƒ³æƒ³ï¼Œæœ‰å¤šé•¿æ—¶é—´ä½ æ²¡æœ‰å’Œä¸€ä¸ªè¦å¥½çš„å¯ä»¥è®¤ä¸ºæ˜¯æœ‹å‹çš„äººæ„‰å¿«åœ°äº¤è°ˆå‡ ä¸ªå°æ—¶äº†ï¼Ÿä¸æ˜¯åœ¨åƒé¥­æ—¶çš„äº¤è°ˆï¼Œä¸æ˜¯åœ¨æ‰“ç‰Œæˆ–å­¦ä¹ æ—¶çš„äº¤è°ˆï¼Œä»…ä»…æ˜¯ä¸¤ä¸ªäººï¼Œè°ˆè®ºè‡ªå·±ï¼Œè°ˆè®ºç¤¾ä¼šï¼Œè°ˆè®ºäººç”Ÿã€‚è¿™æ ·ä¸€æƒ³ï¼Œå¿ƒé‡Œä¸ç¦æœ‰ç‚¹è½å¯ä¸å°´å°¬ï¼Œè¿™æ ·çš„æ—¶é—´é•¿çš„æ— æ³•è®¡ç®—ï¼\næ­£å¦‚è€å¸ˆæ‰€è¯´ï¼Œä¸­å›½äººç°åœ¨å¤ªæµ®èºäº†ï¼Œå¤ªåŠŸåˆ©äº†ã€‚æˆ‘ä»¬å¾ˆå°‘å»å…³æ³¨è‡ªå·±ä¸åˆ«äººçš„å†…å¿ƒä¸–ç•Œï¼Œå¾ˆå°‘åšä¸€äº›æ·±å±‚æ¬¡çš„æ€è€ƒã€‚\nä»€ä¹ˆæ—¶å€™å¯ä»¥æ‰¾åˆ°é‚£æ ·ä¸€ä¸ªäººï¼Œé‚£æ ·ä¸€ä¸ªæ—¶é—´ï¼Œé‚£æ ·ä¸€ä¸ªåœ°æ–¹ï¼Œå»äº†è§£æœªçŸ¥çš„å¥‡å¦™çš„ä¸–ç•Œå‘¢ï¼Ÿ\n","date":"4 December 2010","externalUrl":null,"permalink":"/2010/12/04/admire_wonder_of_world/","section":"Posts","summary":"\u003cp\u003eå‡ å¤©ï¼Œæˆ‘åœ¨æ“åœºä¸Šè·‘æ­¥æ—¶ï¼Œä¸çŸ¥ä¸è§‰æƒ³åˆ°äº†ä¸–ç•Œçš„å’Œè°ä¸å¥‡å¦™ã€‚è¿™ä¸ªä¸–ç•Œå¦‚å¾ˆå¤šäººæ‰€è¯´ï¼Œç”±äºæŠ€æœ¯â€”â€”æ— çº¿é€šè®¯ï¼Œäº’è”ç½‘â€”â€”çš„è”é€šè€Œå˜å°äº†ï¼Œä½†è¿™ä¸ªä¸–ç•Œå…¶å®è¿˜æ˜¯å¾ˆå®å¤§çš„ã€‚æƒ³æƒ³æˆ‘ä»¬æ‰€ç”Ÿæ´»çš„åœ°çƒï¼Œè¿™ä¸ªåœ°çƒä¸Šæœ‰å¤šå°‘äººå•Šï¼Œæ¯ä¸ªäººéƒ½åœ¨åˆ›é€ å±äºè‡ªå·±çš„ç”Ÿæ´»ã€‚æ¯ä¸€å¤©æ¯ä¸ªäººå°±é‚£æ ·ç”Ÿæ´»ï¼Œç”Ÿæ´»åœ¨è‡ªå·±çš„åœˆä¸­ï¼Œè€Œè‡ªå·±æˆ–è®¸å¹¶æœªè®¤è¯†åˆ°ã€‚\u003c/p\u003e","title":"æ¬£èµå¥‡å¦™çš„ä¸–ç•Œ","type":"posts"},{"content":"","date":"16 October 2010","externalUrl":null,"permalink":"/tags/people/","section":"Tags","summary":"","title":"People","type":"tags"},{"content":"æˆ‘å¬è¯´éƒ‘æ˜Ÿï¼Œä¹Ÿæ˜¯åœ¨é«˜äºŒçš„æ—¶å€™äº†ï¼Œè®°å¾—é‚£æ—¶æœ‰ä¸€æ¬¡è·Ÿå¸ˆèƒœé”‹åœ¨ä¸€èµ·èµ°è·¯èŠå¤©ï¼Œå¿½ç„¶å¬å¸ˆèƒœé”‹å«äº†ä¸€å¥ï¼šâ€œéƒ‘æ˜Ÿï¼â€æˆ‘åœä½è„šä¸€çœ‹ï¼Œè§åˆ°ä¸€ä¸ªç˜¦ç˜¦çš„ï¼Œä¸ªå­ä¸­ç­‰ï¼Œç•™ç€ä¸€å¤´çŸ­å‘ï¼Œè„¸ä¸Šç•¥å¾®æœ‰ä¸€äº›é›€æ–‘çš„å­¦ç”Ÿæ­£æ‹¿ç€ä¸€æ²“ä¹¦å¾€å¤§è®²å ‚èµ°ï¼Œæˆ‘ä¸€æƒ³å°±æ˜ç™½è‚¯å®šæ˜¯å»å¬ç«èµ›è¯¾\u0026mdash;é‚£å¤§æ¦‚æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¬è¯´æœ‰â€œéƒ‘æ˜Ÿâ€è¿™ä¹ˆä¸€ä¸ªäººã€‚\nå¸ˆèƒœé”‹è¯´éƒ‘æ˜Ÿåˆä¸­è·Ÿä»–åœ¨ä¸€ä¸ªç­å‘†è¿‡ï¼Œè·Ÿä»–å­¦ä¹ å·®ä¸å¤šï¼Œå­¦ä¹ å¾ˆåˆ»è‹¦ï¼ˆè¿™ç‚¹æˆ‘å€’ç•¥æœ‰è€³é—»ï¼Œä¼¼ä¹è¯´ä»–é«˜ä¸€æ—¶åœ¨ 472 ç­æ—¶ï¼Œç»å¸¸å­¦åˆ°å¾ˆæ™šæ‰ç¡ï¼‰ï¼Œæ­¤åçŸ¥é“çš„å…³äºä»–çš„ä¸€äº›æ¶ˆæ¯å´å°½ä¹æ˜¯ã€Œè´Ÿé¢ã€çš„äº†ï¼Œä»€ä¹ˆé€šå®µä¸Šç½‘å‘€ï¼Œä»€ä¹ˆæœ‰ç‚¹å‚»å•¦â€¦â€¦è¿™äº›éƒ½æ˜¯ä»ä¸€äº›è‡ªè¯©â€œæ­£é“äººå£«â€çš„äººå£ä¸­å¾—æ¥çš„ã€‚å…³äºä»–ä¸Šç½‘çš„äº‹ï¼Œå½“ç„¶ä¸æ­¢æ˜¯ä»–ï¼Œè¿˜æœ‰æˆ‘ä»¬ç­çš„ä¸€äº›æ¸¸æˆè¿·ä¹Ÿå’Œä»–åŒå»ï¼Œåˆ°é«˜äºŒä¸‹å­¦æœŸï¼Œè€å¸ˆä»¬éƒ½çŸ¥é“äº†ï¼Œäºæ˜¯ä¸¥ç¦æ˜ŸæœŸå…­æ”¾å‡ä»¥åå»ç½‘å§ã€‚åæ¥åˆ°é«˜ä¸‰ä¸‹åŠå­¦æœŸï¼Œæˆ‘å¬ä»–è‡ªå·±è¯´ï¼Œæœ‰æ—¶æ™šä¸Šæ‹¼å‘½èµ¶ä½œä¸šï¼Œå­¦åˆ°ä¸¤ä¸‰ç‚¹ï¼Œç„¶åæ˜ŸæœŸå¤©å»ç½‘å§é€šå®µã€‚æˆ‘è§‰å¾—è¿™æ ·å¯¹èº«ä½“æŸå®³å¤ªå¤§äº†ï¼Œè¿™å¤§æ¦‚æ˜¯æœ‰æ—¶æˆ‘åœ¨æ“åœºè·‘æ­¥æ—¶è§åˆ°ä»–ä¹Ÿåœ¨è·‘çš„åŸå› å§ï¼›ä¸è¿‡ä»–è·‘å¾—æ¯”æˆ‘å¿«å¤šäº†ï¼Œå¸¸å¸¸æ˜¯æ‹¼å‘½ç‹‚å¥”çš„ã€‚è·‘å®Œåç»å¸¸èƒ½å¬è§ä»–å–˜ç€ç²—æ°”ï¼Œå¤§æ¦‚åªæœ‰å¿«è·‘æ‰èƒ½é‡Šæ”¾ç”Ÿå‘½ä¸­å¤ªå¤šçš„æ–¼ç§¯ã€‚\néƒ‘æ˜Ÿâ€œåå£°å¤§æŒ¯â€æºäºé«˜äºŒä¸‹å­¦æœŸçš„â€œææ¬¾äº‹ä»¶â€ï¼Œå½“æ—¶ä¸ºæ±¶å·åœ°éœ‡ææ¬¾ï¼Œä¸çŸ¥æ˜¯æ€ä¹ˆæçš„ï¼Œä¼¼ä¹æ˜¯ç”±è‡ªæ„¿å˜æˆå¼ºåˆ¶æ€§çš„äº†ï¼Œä½ ä¸èƒ½ä¸æï¼Œä¹Ÿä¸èƒ½å°‘æï¼Œå¦åˆ™å¤§å®¶å°±ä¼šé„™è§†ä½ ï¼Œä¸€è¿ä¸²â€œå¥½è¯â€ä¹Ÿä¼šæ¥è¸µè€Œè‡³ã€‚å¤§å®¶å½“æ—¶ä¼¼ä¹çˆ±å›½ä¹‹æƒ…ç©ºå‰é«˜æ¶¨ï¼Œè‡³å°‘éƒ½æäº†äº”å…ƒï¼Œæˆ‘ä¹Ÿéšå¤§æµæäº†äº”å…ƒã€‚åæ¥å°±å¬è¯´éƒ‘æ˜Ÿåªæäº†ä¸€å…ƒï¼Œäºæ˜¯ç¾¤æƒ…æ¿€æ„¤äº†ï¼Œæˆ‘ä¹Ÿå¬åˆ°äº†ä¸€äº›â€œç•œç”Ÿâ€, \u0026ldquo;éƒ‘æ˜Ÿæ˜¯ä¸ªå‚»é€¼â€ï¼Œâ€œéƒ‘æ˜Ÿç®€ç›´ä¸æ˜¯äººâ€ç­‰ä¸å ªå…¥è€³çš„è¯ä»ä¸€äº›â€œçˆ±å›½äººå£«â€å£ä¸­è¹¦å‡ºï¼Œæˆ‘å¾ˆæƒ³æ›¿ä»–é¸£ä¸å¹³ï¼Œä½†ä¸€æƒ³ä¼—æ€’éš¾çŠ¯ï¼Œåªå¥½ä½œç½¢ï¼Œä¸çŸ¥å½“æ—¶ä»–å¿ƒé‡Œæ˜¯æ€ä¹ˆæƒ³çš„ã€‚\nè€Œååœ¨æˆ‘ä»¬ç­ä¸Šç‰©ç†è¯¾æ—¶ï¼Œç‰©ç†è€å¸ˆä¹Ÿä¸é½¿éƒ‘æ˜Ÿçš„è¡Œä¸ºï¼Œä¼¼ä¹ä¹Ÿéª‚äº†ä»–â€œä¸æ˜¯äººâ€è¿˜æ˜¯å…¶å®ƒä»€ä¹ˆçš„ï¼Œäº‹æƒ…å·²ç»è¿‡å»ä¸€å¹´å¤šäº†ï¼Œæˆ‘å·²è®°ä¸æ¸…äº†ã€‚å¤§å®¶éƒ½ä¸æ˜¯ä»€ä¹ˆæœ‰é’±äººï¼Œæä¸€äº›é’±ï¼ŒèŠè¡¨å¿ƒæ„ï¼Œéš¾é“å›½å®¶çœŸçš„æŒ‡æœ›æˆ‘ä»¬è¿™ç‚¹é’±å°±èƒ½é‡å»ºæ±¶å·å—ï¼Ÿé‚£äº›æäº†æˆç™¾ä¸Šåƒä¸‡ç”šè‡³ä¸€ä¸ªäº¿çš„äººæ˜¯å¦å¯ä»¥å°±æ­¤æˆ³ç€æˆ‘ä»¬çš„è„Šæ¢éª¨ï¼Œéª‚æˆ‘ä»¬æ˜¯æ°‘æ—è´¥ç±»å‘¢ï¼Ÿå¤§å®¶å½“ç„¶ä¸æœæ°”ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å¯¹åˆ«äººä¸èƒ½å®½å®¹ã€å¤§æ°”ä¸€äº›ï¼Ÿ\nä¹‹åå°±å¬åˆ°å…³äºéƒ‘æ˜Ÿçš„ä¸€ä¸ªâ€œç¬‘è¯â€ã€‚éƒ‘æ˜Ÿå»å‘ç‰©ç†è€å¸ˆé—®é¢˜ï¼Œç‰©ç†è€å¸ˆæˆ–è®¸ä¸å±‘äºè®²ç»™ä»–å¬ï¼Œæ’‚ä¸‹ä¸€å¥å¹²è„†çš„è¯ï¼šâ€œä¸ä¼šï¼â€ æƒ³æŠŠéƒ‘æ˜Ÿæ‰“å‘èµ°ï¼Œä¸€èˆ¬äººå¬åˆ°è¿™å¥è¯æˆ–è®¸å°±èµ°äº†ï¼Œä½†éƒ‘æ˜Ÿçªç„¶å†’äº†ä¸€å¥ï¼šâ€œä½ ä¸ä¼šï¼Œä¸ä¼šå»é—®åˆ«äººåˆ«äººå—ï¼Ÿâ€è¿™ä¸€å¥è¯å¯æŠŠç‰©ç†è€å¸ˆæƒ¹æ¼äº†ï¼Œæ°”å¾—è¯´ä¸å‡ºè¯æ¥ï¼ŒåªæŒ¤å‡ºä¸€å¥è¯ï¼šâ€œä½ ç»™æˆ‘æ»šï¼â€ä¸çŸ¥é“ä»–æ˜¯ä»¥æ€æ ·çš„å¿ƒæƒ…ä»è€å¸ˆåŠå…¬å®¤é‡Œèµ°å‡ºæ¥çš„ï¼Œå¾—æ„çš„ï¼Œè¿˜æ˜¯æ‚²ä¼¤çš„ï¼ŒæŠ‘æˆ–æ˜¯ä¸¤è€…å…¼è€Œæœ‰ä¹‹ï¼Ÿè¿™ä¸ªæ•…äº‹æ˜¯ä»åˆ«äººé‚£é‡Œå¬æ¥çš„ï¼Œä¸çŸ¥æœ‰æ²¡æœ‰æ·»æ²¹åŠ é†‹ï¼Œè‡ªæˆ‘æ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒçœŸå®çš„ã€‚\nåæ¥åˆ°äº†é«˜ä¸‰ï¼Œåˆçœ‹è§éƒ‘æ˜Ÿå› ä¸ºè¿Ÿåˆ°ï¼Œè¢«ç‰©ç†è€å¸ˆæäº†ä¸€é¡¿ï¼Œä¼¼ä¹è¿˜è¦è®©ä»–æ¬å‡ºå®éªŒéƒ¨ä»€ä¹ˆçš„ï¼Œä¸çŸ¥è¿™ç®—ä¸ç®—è€å¸ˆåœ¨ç®—æ—§è´¦ï¼Œåæ­£ç‰©ç†è€å¸ˆè§åˆ°éƒ‘æ˜Ÿè‚¯å®šæ˜¯å¾ˆä¸çˆ½çš„ã€‚\né«˜è€ƒå®Œå¡«å®Œå¿—æ„¿å°±æ²¡å¬åˆ°ä»–çš„æ¶ˆæ¯äº†ï¼Œä»–ç»™æˆ‘çš„å°è±¡å®šæ ¼åœ¨å¡«å¿—æ„¿æ—¶çš„æŸä¸ªæ™šä¸Šï¼Œä»–è¦å»å’ŒåŒå­¦ä¸Šç½‘ï¼Œæˆ‘ä»¬æ­£å¥½ç¢°è§äº†ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“è‡ªå·±ä¸ºä»€ä¹ˆå†™ä»–ï¼Œæˆ–è®¸æ½œæ„è¯†é‡Œæˆ‘å¾ˆâ€œç¾¡æ…•â€ä»–å§ã€‚\n","date":"16 October 2010","externalUrl":null,"permalink":"/2010/10/16/about_zheng_xing/","section":"Posts","summary":"\u003cp\u003eæˆ‘å¬è¯´éƒ‘æ˜Ÿï¼Œä¹Ÿæ˜¯åœ¨é«˜äºŒçš„æ—¶å€™äº†ï¼Œè®°å¾—é‚£æ—¶æœ‰ä¸€æ¬¡è·Ÿå¸ˆèƒœé”‹åœ¨ä¸€èµ·èµ°è·¯èŠå¤©ï¼Œå¿½ç„¶å¬å¸ˆèƒœé”‹å«äº†ä¸€å¥ï¼šâ€œéƒ‘æ˜Ÿï¼â€æˆ‘åœä½è„šä¸€çœ‹ï¼Œè§åˆ°ä¸€ä¸ªç˜¦ç˜¦çš„ï¼Œä¸ªå­ä¸­ç­‰ï¼Œç•™ç€ä¸€å¤´çŸ­å‘ï¼Œè„¸ä¸Šç•¥å¾®æœ‰ä¸€äº›é›€æ–‘çš„å­¦ç”Ÿæ­£æ‹¿ç€ä¸€æ²“ä¹¦å¾€å¤§è®²å ‚èµ°ï¼Œæˆ‘ä¸€æƒ³å°±æ˜ç™½è‚¯å®šæ˜¯å»å¬ç«èµ›è¯¾\u0026mdash;é‚£å¤§æ¦‚æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¬è¯´æœ‰â€œéƒ‘æ˜Ÿâ€è¿™ä¹ˆä¸€ä¸ªäººã€‚\u003c/p\u003e","title":"å…³äºéƒ‘æ˜Ÿ","type":"posts"},{"content":"â€”â€”æˆ‘æ˜¯åœ¨å»å¹´æš‘å‡æ—¶å¬åˆ°èˆ’æ›¼çš„ã€Šæ¢¦å¹»æ›²ã€‹çš„ï¼Œå¬è¿‡ä¹‹åå°±å†ä¹Ÿå¿˜ä¸æ‰äº†ã€‚æˆ‘ä¸æƒ³è¯´å®ƒçš„åªæƒ³è¯´å®ƒå¸¦ç»™æˆ‘çš„æ„Ÿè§‰ï¼Œå› ä¸ºæˆ‘å¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¹ç›²â€”ä¸æ¯«ä¸æ‡‚éŸ³ä¹çŸ¥è¯†ã€‚\nâ€”â€”å¬ã€Šæ¢¦å¹»æ›²ã€‹ï¼Œæˆ‘å¸¸å¸¸æœ‰ä¸€ç§å¾ˆå¼ºçƒˆçš„â€œæµ®ç”Ÿè‹¥æ¢¦â€çš„æ„Ÿè§‰ï¼Œä¼´éšç€ç¼“ç¼“çš„ä¹æ›²ï¼Œé‚£æ…µæ‡’ç¼“æ…¢è€Œå¿§éƒçš„æ›²è°ƒï¼Œé‡Šæ”¾å‡ºä¸€ç§è¯±äººçš„åŠ›é‡ï¼Œä¸çŸ¥ä¸è§‰ï¼Œä½ å·²é™·å…¥ä¸€ç§å’Œç¼“å¿§éƒä¹‹ä¸­ã€‚ä¹æ›²æ•£å‘å‡ºä¸€ç§é«˜è´µè€Œä¼˜é›…çš„å¿§ä¼¤ï¼Œè®©äººè§‰å¾—ä¸€åˆ‡éƒ½å……æ»¡ç€å¥¢åè€Œè™šå¹»çš„ç¾ï¼Œæ—§æ—¶é‚£äº›ç¾å¥½çš„å›å¿†ä¸€ä¸€æ¶Œç°ã€‚ç¾ä¸½çš„æ›²å­æ€»è®©äººæœ‰ä¸€ç§æ·¡æ·¡çš„å“€æ„å’Œæ— å¥ˆã€‚\nâ€”â€”è¿™æ ·çš„æ›²å­ä¼¼ä¹è¿˜è¦åŠ ä¸Šä¸€äº›ç”»é¢ï¼šç²¾è‡´è€Œåç¾çš„å®«æ®¿ï¼Œå®«æ®¿ä¸­ç”Ÿæ´»å•è°ƒçš„å…¬ä¸»æˆ–ç‹å­ï¼Œè¿˜æœ‰é‚£ä¼¼æ°´æµå¹´ã€‚å…‰é˜´å°±è¿™æ ·ä¸€ç‚¹ä¸€æ»´ä»æ—¶é—´çš„æ²™æ¼ä¸­æ¼è¿‡ï¼Œè½¬çœ¼é—´åå‡ å¹´å°±è¿‡å»äº†ï¼Œè€Œæ·±å±…å®«æ®¿çš„äººä»¬ä¾æ—§è¿‡ç€æƒ¬æ„å´ä¹å‘³çš„ç”Ÿæ´»ã€‚åœ¨ä¸€ä¸ªé˜³å…‰æ¸æš—çš„å‚æ™šï¼Œå½“Ta ä»å¤§å…å¾€å§å®¤èµ°æ—¶ï¼Œç«™åœ¨ç›˜æ—‹çš„æ¥¼æ¢¯ä¸Šï¼Œå¿½ç„¶å›å¤´çœ‹è§äº†å¤•é˜³ï¼Œè¿‡å»çš„ä¸€åˆ‡ç”µå‡»çŸ³ä¸€æ ·æµ®ç°åœ¨çœ¼å‰ã€‚Ta åœ¨æƒ³äº›ä»€ä¹ˆå‘¢ï¼Ÿè¿‡å»ä¸æ‹äººçš„æ¬¢ä¹æ—¶å…‰å§ï¼Œæœ€ç»ˆå´æ²¡èƒ½èµ°åœ¨ä¸€èµ·ã€‚â€œç½¢äº†ï¼Œä¸€åˆ‡éƒ½è¿‡å»äº†ï¼ŒçœŸæ˜¯â€œæµ®ç”Ÿè‹¥æ¢¦â€å‘€ï¼è½¬çœ¼é—´å·²ç»è¿‡å»è¿™ä¹ˆä¹…äº†ã€‚â€ä¸€æ»´çœ¼æ³ªæ‚„æ‚„æ»‘è½ï¼Œæ‰åœ¨äº†æ¥¼æ¢¯ä¸Šï¼Œç„¶åè½»è½»åœ°ï¼Œå¾€ä¸Šèµ°ï¼Œæ¶ˆå¤±åœ¨äº†æ¥¼æ¢¯å£ã€‚\nâ€”â€”æˆ‘å–œæ¬¢è¿™é«˜è´µçš„å¿§ä¼¤ã€‚\n","date":"9 October 2010","externalUrl":null,"permalink":"/2010/10/09/thought_on_schumann/","section":"Posts","summary":"â€”â€”æˆ‘æ˜¯åœ¨å»å¹´æš‘å‡æ—¶å¬åˆ°èˆ’æ›¼çš„ã€Šæ¢¦å¹»æ›²ã€‹çš„ï¼Œå¬è¿‡ä¹‹åå°±å†ä¹Ÿå¿˜ä¸æ‰äº†ã€‚æˆ‘ä¸æƒ³è¯´å®ƒçš„åªæƒ³è¯´å®ƒå¸¦ç»™æˆ‘çš„æ„Ÿè§‰ï¼Œå› ä¸ºæˆ‘å¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¹ç›²â€”ä¸æ¯«ä¸æ‡‚éŸ³ä¹çŸ¥","title":"å¬èˆ’æ›¼ã€Šæ¢¦å¹»æ›²ã€‹","type":"posts"},{"content":"å¥½äº›å¤©ä»¥å‰ï¼Œåœ¨å®¿èˆé‡Œï¼Œå¤§å®¶ä¸çŸ¥ä¸è§‰å°±è°ˆåˆ°äº†å“­ï¼Œå¥½åƒæ˜¯è®¨è®ºå“ªéƒ¨ç”µè§†å‰§ä½¿ä»–ä»¬æ„ŸåŠ¨å¾—å“­äº†ã€‚é‚£æ¬¡è®¨è®ºä½¿ä¹…è—å¿ƒä¸­çš„ä¸€ä¸ªè¯é¢˜å†ä¸€æ¬¡è¢«æ¿€æ´»ï¼Œå¯æ˜¯æˆ‘ç»ˆç©¶æ²¡èƒ½å†™ç‚¹ä»€ä¹ˆã€‚ç°åœ¨æˆ‘è§‰å¾—æœ‰å†™çš„å¿…è¦äº†ï¼Œä¸€æ˜¯å› ä¸ºå®åœ¨æœ‰äº›æŠ‘åˆ¶ä¸ä½äº†ï¼›äºŒæ˜¯å› ä¸ºæ˜å¤©è¦è€ƒè¯­æ–‡ï¼Œå°±å½“æ˜¯ç»ƒä¹ å†™ä½œå§1ã€‚\næœ€æ—©å…³äºâ€œå“­â€çš„å°è±¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¤§æ¦‚æ˜¯åšé”™äº‹äº†ï¼Œè¢«çˆ¶æ¯æ•™è®­äº†ä¸€é¡¿ï¼Œå½“æ—¶è¿˜æ˜¯å°å­©å­ï¼Œä¸€åŠæ˜¯å› ä¸ºç–¼ï¼Œä¸€åŠå› ä¸ºå®³æ€•ï¼Œå°±å“­äº†ã€‚å› æ­¤æˆ‘ä¹Ÿæƒ³åˆ°ï¼Œè®¸å¤šâ€œå“­â€è¢«æ¬ºè´Ÿã€è¢«å‡Œè¾±æœ‰å…³çš„ï¼Œæˆ‘å°æ—¶å€™ä¼¼ä¹ä¸äººæ‰“æ¶çš„é¢‘ç‡æŒºé«˜çš„ï¼Œä¸€æ‰“è¾“å¿…ç„¶æ˜¯è¦å“­çš„ï¼Œå†æ¯”å¦‚åˆä¸€æ—¶å—ç­ä¸Šé‚£ä¸€å¸®äººæ¬ºè´Ÿï¼Œæˆ‘ä¹Ÿå§”å±ˆåœ°å“­äº†ï¼›å†çœ‹çœ‹å¤æ—¶çš„è´¤äººä»¬ï¼Œå±ˆåŸä¸€å®šæ˜¯ç—›å“­è¿‡è®¸å¤šä¼šçš„ï¼Œâ€œä¿¡è€Œè§ç–‘ï¼Œå¿ è€Œè¢«è°¤â€ï¼Œå“æ ¼é«˜å°šï¼Œå½¢è±¡é«˜æ´çš„ä»–ç”Ÿåœ¨é‚£æ ·ä¸€ä¸ªæ—¶ä»£ï¼Œèƒ½ä¸å“­å—ï¼Ÿç«™åœ¨æ±¨ç½—æ±Ÿè¾¹çš„ä»–ï¼Œæ˜¯å¦ä¹Ÿæµä¸‹äº†å±ˆè¾±ç—›æ¨çš„çœ¼æ³ªå‘¢ï¼Ÿè¿˜æœ‰å¸é©¬è¿ï¼Œåœ¨ä»–è¢«æ–½ä»¥è…åˆ‘çš„æ—¶å€™ï¼Œä½œä¸ºä¸€ä¸ªè¡€æ€§ç”·å„¿ï¼Œä»–æ˜¯å¦ä¹Ÿæ›¾æµä¸‹è¿‡å±ˆè¾±çš„çœ¼æ³ªå‘¢ï¼Ÿ\nå°æ—¶å€™è¿˜æœ‰ä¸€ç§â€œå“­â€ï¼Œæ˜¯ä¸€ç§å­¤ç‹¬æ— åŠ©çš„å“­ï¼Œå°å­©å­å˜›ï¼Œèƒ½æœ‰å¤šåšå¼ºå‘¢ï¼Ÿé‡åˆ°è‡ªå·±æ„Ÿè§‰å›°éš¾çš„äº‹ï¼Œä¸å…å“­å‡ºæ¥ã€‚åˆšä¸Šä¸‰å¹´çº§æ—¶ï¼Œå¦ˆå¦ˆé€æˆ‘åˆ°å­¦æ ¡ï¼Œå¦ˆå¦ˆè¦èµ°æ—¶ï¼Œæˆ‘çš„çœ¼æ³ªå¿ä¸ä½å°±æ‰äº†ä¸‹æ¥ï¼Œæ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡ç¦»å¼€å¦ˆå¦ˆï¼è¿˜æœ‰åœ¨å†¬å¤©çš„æ—¶å€™ï¼Œä¸€ä¸ªäººèººåœ¨è¢«å­é‡Œå†·å¾—å‘æŠ–ï¼Œå¦‚æœè¦å†åŠ ä¸Šå’³å—½æˆ–å‘çƒ§ï¼Œçœ¼æ³ªä¸è‡ªè§‰å°±æµäº†å‡ºæ¥ã€‚\nå¦ä¸€ç§â€œå“­â€ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºé’æ˜¥çš„ä¼¤ç—›æˆ–ä¼¤æ„Ÿï¼Œè¯´ç™½äº†ï¼Œåœ¨å¤§äººçœ¼é‡Œï¼Œæœ‰äº›æ— ç—…å‘»åŸã€‚\nåˆ°äº†é«˜ä¸­ï¼Œä¹Ÿç»å†äº†ä¸€äº›å“­æ³£ï¼Œå´éƒ½å·²ä¸æ˜¯è‡ªå·±çš„äº†ã€‚æœ‰äººä¸ºè€ƒè¯•å¤±åˆ©ä¼¤å¿ƒè½æ³ªï¼›æœ‰äººä¸ºæœ‹å‹èƒŒç¦»è€Œæµæ³ªï¼›æœ‰äººä¸ºå¤±æ‹ç—›å“­â€¦â€¦å°è±¡æœ€æ·±çš„è¿˜æ˜¯é‚£æ¬¡æ±¶å·åœ°éœ‡æ—¶æ‰€è§åˆ°çš„å“­æ³£ï¼Œå¤§æ¦‚æ˜¯å¥³ç”Ÿä»¬å¤§éƒ½å¤šæ„å–„æ„Ÿï¼Œå½“ç‰©ç†è€å¸ˆåœ¨è®²å°ä¸Šè®²ç€åœ°éœ‡çš„ä¸€äº›æƒ…å†µæ—¶ï¼Œå¾ˆå¤šå¥³ç”Ÿéƒ½åœ¨å•œæ³£ï¼Œæœ‰å‡ ä¸ªç”·ç”Ÿåœ¨å·å·æ‰çœ¼æ³ªã€‚\næœ‰æ—¶çœŸæƒ³å¤§å“­ä¸€åœºï¼Œä¸éœ€è¦ä»€ä¹ˆç†ç”±ï¼Œå¯æˆ‘å´å“­ä¸å‡ºæ¥ï¼Œè¿™éš¾é“æ˜¯æˆç†Ÿçš„è¡¨ç°ï¼Ÿä¹Ÿè®¸æˆ‘çš„æ³ªè…ºå·²é€€åŒ–äº†å§ï¼Ÿéš¾é“åœ¨ä»¥åçš„è®¸å¤šå¹´é‡Œï¼ŒçœŸçš„ä¸ä¼šå†æœ‰çœ¼æ³ªäº†å—ï¼Ÿ\nè¿™ç¯‡æ–‡ç« å†™äºé«˜ä¸­æœŸé—´ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"7 October 2010","externalUrl":null,"permalink":"/2010/10/07/about_crying/","section":"Posts","summary":"\u003cp\u003eå¥½äº›å¤©ä»¥å‰ï¼Œåœ¨å®¿èˆé‡Œï¼Œå¤§å®¶ä¸çŸ¥ä¸è§‰å°±è°ˆåˆ°äº†å“­ï¼Œå¥½åƒæ˜¯è®¨è®ºå“ªéƒ¨ç”µè§†å‰§ä½¿ä»–ä»¬æ„ŸåŠ¨å¾—å“­äº†ã€‚é‚£æ¬¡è®¨è®ºä½¿ä¹…è—å¿ƒä¸­çš„ä¸€ä¸ªè¯é¢˜å†ä¸€æ¬¡è¢«æ¿€æ´»ï¼Œå¯æ˜¯æˆ‘ç»ˆç©¶æ²¡èƒ½å†™ç‚¹ä»€ä¹ˆã€‚ç°åœ¨æˆ‘è§‰å¾—æœ‰å†™çš„å¿…è¦äº†ï¼Œä¸€æ˜¯å› ä¸ºå®åœ¨æœ‰äº›æŠ‘åˆ¶ä¸ä½äº†ï¼›äºŒæ˜¯å› ä¸ºæ˜å¤©è¦è€ƒè¯­æ–‡ï¼Œå°±å½“æ˜¯ç»ƒä¹ å†™ä½œå§\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eã€‚\u003c/p\u003e","title":"å…³äºå“­","type":"posts"},{"content":"é•¿æ²™çš„å¤©æ°”ç¡®å®ä¸ç•™æƒ…ï¼Œç®—ä¸Šä»Šå¤©ï¼Œå·²ç»æ˜¯æˆ‘ç¬¬äº”æ¬¡åœ¨åŠå¤œè¢«çƒ­é†’äº†â€¦â€¦ç´¢æ€§ä¸‹åºŠå–äº†ç‚¹æ°´ï¼Œæ´—äº†ä¸ªè„¸ï¼Œç„¶åç¡æ„å…¨æ²¡äº†ï¼Œé‚£å°±éšä¾¿å†™ç‚¹ä»€ä¹ˆå§ã€‚\nä¸Šå¤§å­¦ï¼Œå¤šä¹ˆå…‰è£ï¼Œå¤šä¹ˆç†æƒ³çš„äº‹ï¼Œä»ä¸Šé«˜ä¸­èµ·å°±åœ¨åšçš„æ¢¦ï¼Œç°åœ¨æ¢¦æƒ³æˆçœŸäº†ã€‚å›æƒ³è¿‡å»å››å¹´çš„å²æœˆï¼Œæ„Ÿæ…¨ä¸‡åƒï¼Œæˆ‘æ”¶è·äº†ä¸€äº›ä¸œè¥¿ï¼šå¤©å¤–æœ‰å¤©ï¼Œå¯¹äºç¬¬ä¸€ä¸è¦æ‹¼å‘½è¿½æ±‚ï¼Œå¦ç„¶æ‰¿è®¤åˆ«äººåœ¨æŸæ–¹é¢çš„èƒ½åŠ›å¾ˆå¼ºï¼Œä½†è‡ªå·±ä»è¦åŠªåŠ›ã€‚ä¹Ÿå¤±å»äº†ä¸€äº›ä¸œè¥¿ï¼šæ¯”å¦‚å¤©çœŸï¼Œæœ‰äººè¯´å¤©çœŸä¸å¥½ï¼Œæˆ‘è§‰å¾—å¤©çœŸæŒºå¥½çš„ï¼Œå¯æƒœå·²ç»å¤±å»äº†ã€‚é«˜ä¸­å²æœˆçš„ 99.99% éƒ½æ˜¯ç”±æ— å°½çš„å­¦ä¹ ç»„æˆçš„ï¼Œé«˜äºŒå’Œé«˜ä¸‰ç»™äº†äººå¾ˆä¸ç—›å¿«çš„æ„Ÿè§‰ï¼Œè¿›å…¥å®éªŒéƒ¨ï¼Œè€å¸ˆä»¬å¤¸å¥–æˆ‘ä»¬æ˜¯åº·ä¸­çš„ç²¾è‹±ï¼Œäºæ˜¯å¯¹æˆ‘ä»¬â€œç‰¹æ®Šä¼˜å¾…â€ï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹æ¯”åˆ«äººæ·±ï¼Œæˆ‘ä»¬çš„æ˜ŸæœŸå¤©ä¹Ÿè¢«å‰¥å¤ºäº†ä¸€éƒ¨åˆ†ã€‚å¯æ˜¯é‚£äº›çœŸæœ‰å¿…è¦å—ï¼Ÿè‡³å°‘å¤§éƒ¨åˆ†æ˜¯æ— ç”¨çš„ã€‚èº«åœ¨å®éªŒéƒ¨ï¼Œè‡ªå·±å°±å˜æˆäº†æœ€ä¸èµ·çœ¼çš„å°äººç‰©ï¼Œæ¯å¤©è¿˜è¦æ‹…å¿ƒè‡ªå·±è¢«åˆ«äººè¶…è¶Šã€‚é«˜ä¸­æˆ‘ä»¬åšäº†æ— ç©·çš„å·å­ï¼Œåªä¸ºé«˜è€ƒèƒ½å¤Ÿé‡‘æ¦œé¢˜åï¼Œç°åœ¨æƒ³æƒ³ï¼Œæœ‰ç§å‘•åçš„æ„Ÿè§‰ã€‚æˆ‘ä»¬å­¦äº†å¾ˆå¤šçŸ¥è¯†å’Œæ–¹æ³•ï¼Œé«˜è€ƒå®Œï¼Œå´åˆåå›äº†é«˜ä¸­ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªäººçš„æ‚²å“€ï¼Œè€Œæ˜¯ä¸­å›½çš„æ‚²å“€ï¼Œä½†ä½ åˆå¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚\nå¿ƒæƒ…æœ‰ç‚¹æ²‰é‡ï¼Œå•Šï¼Œç»ˆäºä¸Šå¤§å­¦äº†ï¼å¤§å­¦çš„ç¡®æ˜¯äº”å½©ç¼¤çº·çš„ï¼Œç°åœ¨çœ‹æ¥è¿˜æ˜¯å¾ˆè½»æ¾è‡ªç”±çš„ã€‚æ— æ‹˜æ— æŸçš„ï¼Œæˆ‘ä»¬åƒè¢«æ”¾å‡ºç¬¼çš„é¸Ÿï¼Œä¸çŸ¥è¦å¾€å“ªé£ï¼Œè®¸å¤šäººè‡ªæ­¤è¿·å¤±ã€‚è¿™é‡Œçš„å­¦ç”Ÿå¥½å¤šå‘€ï¼ŒçœŸæ­£æ˜¯æ¥è‡ªäº”æ¹–å››æµ·ï¼Œæˆ‘ä»¬æ‰è¿›å»ä¾ç„¶æ²¡äº†è¸ªå½±ï¼Œæˆ‘ä»¬è¿˜æ˜¯å°äººç‰©ã€‚æˆ‘ä»¬è™½æ˜¯å°äººç‰©ï¼Œä½†å´ä¸èƒ½è‡ªæˆ‘è´¬ä½ï¼ŒåŠªåŠ›å¥‹æ–—ï¼Œå°äººç‰©ä¹Ÿå¯ä»¥æœ‰å¤§æœªæ¥ï¼ä¸è¦è¿·å¤±è‡ªæˆ‘ï¼Œä¸è¦å¦„è‡ªè²è–„ï¼Œæ·¡å®šå¦ç„¶ï¼Œå¿ƒèƒ¸å®½ä¸€äº›ï¼Œè¸å®åœ°èµ°å®Œå››å¹´çš„é“è·¯ã€‚\n","date":"20 September 2010","externalUrl":null,"permalink":"/2010/09/20/entering_college/","section":"Posts","summary":"\u003cp\u003eé•¿æ²™çš„å¤©æ°”ç¡®å®ä¸ç•™æƒ…ï¼Œç®—ä¸Šä»Šå¤©ï¼Œå·²ç»æ˜¯æˆ‘ç¬¬äº”æ¬¡åœ¨åŠå¤œè¢«çƒ­é†’äº†â€¦â€¦ç´¢æ€§ä¸‹åºŠå–äº†ç‚¹æ°´ï¼Œæ´—äº†ä¸ªè„¸ï¼Œç„¶åç¡æ„å…¨æ²¡äº†ï¼Œé‚£å°±éšä¾¿å†™ç‚¹ä»€ä¹ˆå§ã€‚\u003c/p\u003e","title":"ä¸Šå¤§å­¦äº†","type":"posts"},{"content":"å¿½ç„¶æƒ³èµ·äº†åœ¨æ–°æ ¡é¤å…åƒé¥­æ—¶è®¤è¯†çš„ä¸€ä½å–é¥­å§‘å¨˜ï¼Œå…¶å®å¹¶ä¸çœŸè®¤è¯†ï¼Œåªæ˜¯è§äº†è®¤è¯†è€Œå·²ï¼Œç”šè‡³æ²¡è¯´è¿‡ä»€ä¹ˆè¯ã€‚ä¸çŸ¥æ€ä¹ˆåœ°ï¼Œæœ‰æ—¶å°±ä¼šæƒ³èµ·å¥¹ã€‚\né‚£ä¸ªå§‘å¨˜å–çš„æ˜¯é¢ï¼Œæ­£å¥½æŒ¨ç€ä¸‰æ¥¼é¤å…æœ€çº¢ç«çš„ã€Œéƒ­å§ç›–é¥­ã€ï¼Œå› æ­¤æ€»æ˜¯æ˜¾å¾—å†·å†·æ¸…æ¸…çš„ã€‚æˆ‘ä¹Ÿæ˜¯å¶ç„¶ä¸€æ¬¡æ‰å»é‚£é‡Œåƒçš„ï¼Œå¥¹ç»™æˆ‘çš„å°è±¡æ˜¯ï¼šç©¿ç€ç™½è‰²å·¥ä½œæœï¼Œå¤´ä¸Šæˆ´ç€ä¸€é¡¶ç™½å¸½å­ï¼ˆå–é¥­çš„å·¥ä½œäººå‘˜é€šå¸¸éƒ½æ˜¯è¿™èº«æ‰“æ‰®ï¼‰ï¼›å¥¹ä¼¼ä¹æœ‰ä»€ä¹ˆå¿ƒäº‹ä¼¼çš„ï¼Œæˆ–è€…å¥¹å¤©ç”Ÿæ²‰é»˜ï¼Œæˆ‘ä»æ²¡å¬åˆ°å¥¹åƒå…¶ä»–å–é¥­çš„äººä¸€æ ·å†å–ï¼Œå¥¹æ€»æ˜¯é™é™åœ°ç«™åœ¨æ‘Šä½æ—ï¼Œåªæœ‰ç­‰ä½ è½»è½»èµ°è¿‡å»ï¼Œå¥¹æ‰é—®ä½ è¦åƒä»€ä¹ˆï¼›å¥¹å¾ˆæ•´æ´ï¼Œè¡£æœä¸Šæ²¡æœ‰æ–‘æ–‘æ²¹è¿¹ï¼Œæ‘Šä½ä¹Ÿè¢«æ“¦å¾—å¹²å¹²å‡€å‡€ï¼Œä¸é”ˆé’¢æ‘Šé¢å‘å‡ºè€€çœ¼çš„å…‰ï¼Œè€Œä¸”å¥¹é€’ç»™ä½ ç¢—æ—¶ï¼Œæ€»æŠŠç¢—æ²¿æ“¦å¹²å‡€ã€‚é‚£é‡Œçš„ç‚’é¢å¾ˆå¥½åƒï¼Œä¸åŒäºåˆ«å¤„ï¼Œé¢è½¯è½¯çš„ï¼Œæ»‘æ»‘çš„ï¼Œåæ¥æˆ‘å¸¸å»åƒã€‚å¥¹çœ‹è§æˆ‘èµ°è¿‡å»æ—¶ï¼Œæ€»æ˜¯å¾ˆçƒ­æƒ…ï¼Œå¾ˆé«˜å…´çš„æ ·å­ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºæˆ‘å¸¸å»åƒçš„ç¼˜æ•…ã€‚\næœ‰ä¸€æ¬¡ï¼Œæˆ‘åƒçš„æ˜¯æ²¹æ³¼é¢ã€‚å½“å¥¹æŠŠé¢æ–­è¿‡æ¥æ—¶ï¼Œåœ¨ç¢—é‡ŒåŠ äº†ä¸€äº›é»„ç“œä¸ï¼Œåˆç»™æˆ‘åŠ äº†ä¸€ä¸ªé¹Œé¹‘è›‹ã€‚æˆ‘çŸ¥é“ï¼Œæ²¹æ³¼é¢é‡Œæ˜¯æ²¡æœ‰é‚£äº›ä¸œè¥¿çš„ï¼Œäºæ˜¯æˆ‘ä¹Ÿæ¸ç”Ÿæ„ŸåŠ¨ä¹‹æƒ…ã€‚\nç°åœ¨å¥¹ä¸çŸ¥æ€ä¹ˆæ ·äº†ï¼Œå¥¹è¿˜æ˜¯é‚£æ ·å¯¹äººå’Œå–„å‹å¥½å—ï¼Ÿæˆ‘æ—¶å¸¸ä¼šæƒ³èµ·é‚£ä½å–„è‰¯çš„å–é¥­å§‘å¨˜ï¼Œå› ä¸ºå¥¹ä½¿æˆ‘è§‰å¾—è¿™ä¸–é—´è™½ç„¶æœ‰è®¸å¤šè‡ªç§ä¸å†·æ¼ ï¼Œä½†ä¹Ÿæœ‰æ¸©æƒ…çš„å…‰èŠ’ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªä¸–ç•Œæ˜¯å€¼å¾—ä¸€æ´»çš„ã€‚\n","date":"21 July 2010","externalUrl":null,"permalink":"/2010/07/21/the_girl_who_sells_food/","section":"Posts","summary":"\u003cp\u003eå¿½ç„¶æƒ³èµ·äº†åœ¨æ–°æ ¡é¤å…åƒé¥­æ—¶è®¤è¯†çš„ä¸€ä½å–é¥­å§‘å¨˜ï¼Œå…¶å®å¹¶ä¸çœŸè®¤è¯†ï¼Œåªæ˜¯è§äº†è®¤è¯†è€Œå·²ï¼Œç”šè‡³æ²¡è¯´è¿‡ä»€ä¹ˆè¯ã€‚ä¸çŸ¥æ€ä¹ˆåœ°ï¼Œæœ‰æ—¶å°±ä¼šæƒ³èµ·å¥¹ã€‚\u003c/p\u003e","title":"å–é¥­å§‘å¨˜","type":"posts"},{"content":"This blog does not collect the user data.\n","date":"1 January 1990","externalUrl":null,"permalink":"/1990/01/01/privacy-policy/","section":"Posts","summary":"This blog does not collect the user data.","title":"Privacy Policy","type":"posts"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"}]