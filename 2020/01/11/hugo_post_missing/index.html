<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Hugo Post Missing (Hugo 博客文章缺失问题) - jdhao's digital space</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="jdhao"><meta name=description content="Recently, when I was trying to generate my blog site using Hugo, I found that all my posts were successfully rendered, except for one new post. This was rather strange.
最近在使用 Hugo 生成博客文章的时候，发现有一篇新写的文章无法生成，而其他博文都可以成功渲染，非常奇怪。
"><meta name=keywords content="Hugo,theme,even">
<meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw">
<meta name=generator content="Hugo 0.92.1 with theme even">
<link rel=canonical href=https://jdhao.github.io/2020/01/11/hugo_post_missing/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script>
<script>var ezoicId=388800</script>
<script type=text/javascript src=//go.ezoic.net/ezoic/ezoic.js></script>
<link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="Hugo Post Missing (Hugo 博客文章缺失问题)">
<meta property="og:description" content="Recently, when I was trying to generate my blog site using Hugo,
I found that all my posts were successfully rendered, except for one new post.
This was rather strange.
最近在使用 Hugo 生成博客文章的时候，发现有一篇新写的文章无法生成，而其他博文都可以成功渲染，非常奇怪。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jdhao.github.io/2020/01/11/hugo_post_missing/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2020-01-11T22:04:56+08:00">
<meta property="article:modified_time" content="2021-01-29T01:06:17+08:00">
<meta itemprop=name content="Hugo Post Missing (Hugo 博客文章缺失问题)">
<meta itemprop=description content="Recently, when I was trying to generate my blog site using Hugo,
I found that all my posts were successfully rendered, except for one new post.
This was rather strange.
最近在使用 Hugo 生成博客文章的时候，发现有一篇新写的文章无法生成，而其他博文都可以成功渲染，非常奇怪。"><meta itemprop=datePublished content="2020-01-11T22:04:56+08:00">
<meta itemprop=dateModified content="2021-01-29T01:06:17+08:00">
<meta itemprop=wordCount content="701">
<meta itemprop=keywords content="Hugo,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Hugo Post Missing (Hugo 博客文章缺失问题)">
<meta name=twitter:description content="Recently, when I was trying to generate my blog site using Hugo,
I found that all my posts were successfully rendered, except for one new post.
This was rather strange.
最近在使用 Hugo 生成博客文章的时候，发现有一篇新写的文章无法生成，而其他博文都可以成功渲染，非常奇怪。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>jdhao's digital space</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/about/>
<li class=mobile-menu-item>About</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>jdhao's digital space</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/about/>About</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<header class=post-header>
<h1 class=post-title>Hugo Post Missing (Hugo 博客文章缺失问题)</h1>
<div class=post-meta>
<span class=post-time> 2020-01-11 </span>
<div class=post-category>
<a href=/categories/Blog/> Blog </a>
</div>
<span class=more-meta> 701 words </span>
<span class=more-meta> 2 mins read </span>
<span id=busuanzi_container_page_pv class=more-meta> <span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read </span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>Contents</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#the-cause原因>The cause（原因）</a></li>
<li><a href=#solution解决方法>Solution（解决方法）</a></li>
<li><a href=#reference参考>Reference（参考）</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<p>Recently, when I was trying to generate my blog site using <a href=https://gohugo.io/>Hugo</a>,
I found that all my posts were successfully rendered, except for one new post.
This was rather strange.</p>
<p><font color=red>最近在使用 <a href=https://gohugo.io/>Hugo</a> 生成博客文章的时候，发现有一篇新写的文章无法生成，而其他博文都可以成功渲染，非常奇怪。</font></p>
<p>After some debugging, I found the culprit is the date format I use in the post
front matter. I did not add the timezone info when I wrote the date info (only
year, month, date, hour, minute, second were used). The date field info was
like <code>2020-01-10 23:48:25</code>. I added the timezone info to the date info:
<code>2020-01-10 23:48:25+0800</code> and regenerated the blog site using Hugo. After that,
the missing post was shown in the blog site. So we can conclude that the
culprit is the incomplete date info.</p>
<p><font color=red>经过比较和查找，觉得问题可能出在文章 front matter 的 date 书写格式上：当时 date 没有写时区信息，只写了年月日和时分秒信息，具体写的是 <code>2020-01-10 23:48:25</code>。后面再加上了时区信息， date 变成了 <code>2020-01-10 23:48:25+0800</code>。然后使用 hugo 重新生成博客，果然新写的文章可以显示在博客里面了，由此确定是博文的日期格式问题。</font></p>
<h1 id=the-cause原因>The cause（原因）</h1>
<p>After pinpointing the issue, I searched the web and found the root cause.
Whether a post will be rendered by Hugo depends on when this post will be
published. If the publish time of a post is later than the time when we build
the blog site, i.e., Hugo thinks that we want to publish this post in future
time, then Hugo will not render this post by default. The post mentioned
earlier is not rendered, because Hugo thinks we have not reached its publish
date, so it skips rendering that post.</p>
<p><font color=red>确定了问题以后，在网上经过一番搜索，我发现了问题的根源，原来 Hugo 是否会渲染一篇博文依赖该文章的发布时间。如果一个博文的发布时间比 Hugo 构建当前站点的时间还要晚，也就是 Hugo 认为博文的发布时间在未来，就不会渲染该篇博文。前面没有写时区的博文，就是被 Hugo 认为发布时间还未到，所以没有渲染出来。</font></p>
<h1 id=solution解决方法>Solution（解决方法）</h1>
<p>To solve this problem, we need to force Hugo to render posts that have publish
time in the future. We can fix this in two ways. First, add the following
setting to <code>config.toml</code>:</p>
<p><font color=red>要解决这个问题，可以强制 Hugo 渲染发布时间在未来的博文，有两个办法。第一个是在 <code>config.toml</code> 中加入以下设置</font></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=nx>buildFuture</span> <span class=p>=</span> <span class=kc>true</span>
</code></pre></div><p>The second way is to add option <code>--buildFuture</code> when we are using Hugo to build
the blog site.</p>
<p><font color=red>第二个方法是在 hugo build 博客的时候，加上 <code>--buildFuture</code> 选项。</font></p>
<h1 id=reference参考>Reference（参考）</h1>
<ul>
<li><a href=https://www.jvt.me/posts/2019/03/24/datetime-hugo/>https://www.jvt.me/posts/2019/03/24/datetime-hugo/</a></li>
<li><a href=https://discourse.gohugo.io/t/issue-with-generating-site-missing-posts/12149/3>https://discourse.gohugo.io/t/issue-with-generating-site-missing-posts/12149/3</a></li>
<li><a href=https://github.com/bppwrite/bppwrite.github.io/issues/44>https://github.com/bppwrite/bppwrite.github.io/issues/44</a></li>
<li><a href=https://github.com/gohugoio/hugo/issues/3977>https://github.com/gohugoio/hugo/issues/3977</a></li>
</ul>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>Author</span>
<span class=item-content>jdhao</span>
</p>
<p class=copyright-item>
<span class=item-title>LastMod</span>
<span class=item-content>
2021-01-29
</span>
</p>
<p class=copyright-item>
<span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/tags/Hugo/>Hugo</a>
</div>
<nav class=post-nav>
<a class=prev href=/2020/01/12/vim_nvim_history_development/>
<i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Vim 和 Neovim 的前世今生</span>
<span class="prev-text nav-mobile">Prev</span>
</a>
<a class=next href=/2020/01/11/my_reading_list_2019/>
<span class="next-text nav-default">我的 2019 阅读清单</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i>
</a>
</nav>
</footer>
</article>
</div>
<script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script>
<noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<div class=busuanzi-footer>
<span id=busuanzi_container_site_pv> site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv> site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
</div>
<span class=copyright-year>
&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams'}}</script>
<script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-113395108-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</body>
</html>