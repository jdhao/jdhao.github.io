<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Nifty Nvim Techniques Which Make My Life Easier -- Series 3 - jdhao's digital space</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="jdhao"><meta name=description content="This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.
 Click here to check other posts in this series.  Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/ Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/ Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/ Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/ Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/ Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/ Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/ Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/ Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/ Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/  "><meta name=keywords content="Hugo,theme,even">
<meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw">
<meta name=generator content="Hugo 0.92.1 with theme even">
<link rel=canonical href=https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script>
<link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="Nifty Nvim Techniques Which Make My Life Easier -- Series 3">
<meta property="og:description" content="This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.

Click here to check other posts in this series.

Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/
Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/
Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/
Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/
Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/
Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/
Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/
Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/
Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/
Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/

">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jdhao.github.io/2019/05/14/nifty_nvim_techniques_s3/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2019-05-14T22:37:04+08:00">
<meta property="article:modified_time" content="2022-02-06T13:36:24+08:00">
<meta itemprop=name content="Nifty Nvim Techniques Which Make My Life Easier -- Series 3">
<meta itemprop=description content="This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.

Click here to check other posts in this series.

Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/
Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/
Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/
Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/
Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/
Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/
Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/
Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/
Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/
Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/

"><meta itemprop=datePublished content="2019-05-14T22:37:04+08:00">
<meta itemprop=dateModified content="2022-02-06T13:36:24+08:00">
<meta itemprop=wordCount content="1133">
<meta itemprop=keywords content="search,Unicode,Vim,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Nifty Nvim Techniques Which Make My Life Easier -- Series 3">
<meta name=twitter:description content="This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.

Click here to check other posts in this series.

Series 11: https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/
Series 10: https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/
Series 9: https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/
Series 8: https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/
Series 7: https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/
Series 6: https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/
Series 5: https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/
Series 4: https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/
Series 2: https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/
Series 1: https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/

"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>jdhao's digital space</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/about/>
<li class=mobile-menu-item>About</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>jdhao's digital space</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/about/>About</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<header class=post-header>
<h1 class=post-title>Nifty Nvim Techniques Which Make My Life Easier -- Series 3</h1>
<div class=post-meta>
<span class=post-time> 2019-05-14 </span>
<div class=post-category>
<a href=/categories/Nvim/> Nvim </a>
</div>
<span class=more-meta> 1133 words </span>
<span class=more-meta> 3 mins read </span>
<span id=busuanzi_container_page_pv class=more-meta> <span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read </span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>Contents</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#how-do-i-use-last-search-pattern-in-substitute-command>How do I use last search pattern in substitute command?</a>
<ul>
<li><a href=#references>References</a></li>
</ul>
</li>
<li><a href=#how-do-i-write-the-output-of-a-command-or-built-in-function-to-a-buffer>How do I write the output of a command or built-in function to a buffer?</a>
<ul>
<li><a href=#references-1>References</a></li>
</ul>
</li>
<li><a href=#why-cant-i-search-some-unicode-characters>Why can&rsquo;t I search some Unicode characters?</a>
<ul>
<li><a href=#references-2>References</a></li>
</ul>
</li>
<li><a href=#how-do-i-clear-the-message-on-the-status-line>How do I clear the message on the status line?</a>
<ul>
<li><a href=#references-3>References</a></li>
</ul>
</li>
<li><a href=#how-do-i-use-a-variable-when-calling-shell-command-inside-neovim>How do I use a variable when calling shell command inside Neovim?</a>
<ul>
<li><a href=#references-4>References</a></li>
</ul>
</li>
<li><a href=#how-to-remove-the-trailing-newline-when-using-the-system-function>How to remove the trailing newline when using the <code>system()</code> function?</a>
<ul>
<li><a href=#references-5>References</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<p>This is the 3rd post of my post series on nifty Nvim/Vim techniques that will make my editing experience easier.</p>
<details>
<summary><font size=3 color=red>Click here to check other posts in this series.</font></summary>
<ul>
<li>Series 11: <a href=https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/>https://jdhao.github.io/2021/11/22/nifty_nvim_techniques_s11/</a></li>
<li>Series 10: <a href=https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/>https://jdhao.github.io/2021/06/17/nifty_nvim_techniques_s10/</a></li>
<li>Series 9: <a href=https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/>https://jdhao.github.io/2021/01/07/nifty_nvim_techniques_s9/</a></li>
<li>Series 8: <a href=https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/>https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/</a></li>
<li>Series 7: <a href=https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/>https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/</a></li>
<li>Series 6: <a href=https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/>https://jdhao.github.io/2019/12/21/nifty_nvim_techniques_s6/</a></li>
<li>Series 5: <a href=https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/>https://jdhao.github.io/2019/11/11/nifty_nvim_techniques_s5/</a></li>
<li>Series 4: <a href=https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/>https://jdhao.github.io/2019/09/17/nifty_nvim_techniques_s4/</a></li>
<li>Series 2: <a href=https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/>https://jdhao.github.io/2019/04/17/nifty_nvim_techniques_s2/</a></li>
<li>Series 1: <a href=https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/>https://jdhao.github.io/2019/03/28/nifty_nvim_techniques_s1/</a></li>
</ul>
</details>
<h1 id=how-do-i-use-last-search-pattern-in-substitute-command>How do I use last search pattern in substitute command?</h1>
<p>As is often the case, when we want to replace some patterns, we may not be able
to write the correct regular expression in one pass and have to refine it many
times. I often search first to make sure that the search pattern is correct.
Then I manually type the search pattern again in <code>substitute</code> command to
replace it with the text I want. This is acceptable when the pattern is simple
to type. It becomes unacceptable once the search patterns are complicated.</p>
<p>To use the last search pattern, you can keep the search part empty in
<code>substitute</code> command, e.g., <code>%s//REPLACE/g</code>, which will replace all occurrences
of last search pattern with <code>REPLACE</code>. Alternatively, you could use <code>&lt;C-R>/</code> to
input your last search pattern, that is, first press <kbd>Ctrl</kbd>+
<kbd>R</kbd> and then press <kbd>/</kbd><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p>
<h2 id=references>References</h2>
<ul>
<li><a href=https://vim.fandom.com/wiki/Substitute_last_search>Substitue last search</a></li>
</ul>
<h1 id=how-do-i-write-the-output-of-a-command-or-built-in-function-to-a-buffer>How do I write the output of a command or built-in function to a buffer?</h1>
<p>A least three ways are possible (take function
<a href=https://neovim.io/doc/user/eval.html#strftime()><code>strftime()</code></a> and command
<code>:scriptnames</code> (<code>:h :scriptnames</code>) for an example).</p>
<ol>
<li>
<p>Use <code>&lt;C-R>=</code> in insert mode. In insert mode, press
<kbd>Ctrl</kbd>+<kbd>R</kbd> followed by <kbd>=</kbd>, then type the
function (e.g., <code>strftime('%c')</code>) or use <code>execute()</code> to run a command (e.g.,
<code>execute('scriptnames')</code>). The output will inserted right after the current
cursor.</p>
</li>
<li>
<p>Use <code>:put=</code> in command mode. In command mode, first input <code>put=</code>, then input
the function or <code>execute()</code> command. The output will be put below the
current cursor line.</p>
</li>
<li>
<p>Use <code>redir</code>. We first use <code>redir</code> to redirect the output to a Vim register
and then paste the content of the register to current buffer. For functions,
use the following</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=p>:</span><span class=nx>redir</span> @<span class=nx>a</span> <span class=p>|</span> <span class=nx>echo</span> <span class=nx>strftime</span><span class=p>(</span><span class=s1>&#39;%c&#39;</span><span class=p>)</span> <span class=p>|</span> <span class=nx>redir</span> <span class=nx>END</span><span class=p>&lt;</span><span class=nx>CR</span><span class=p>&gt;</span><span class=err>
</span></code></pre></div><p>For commands, use:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=p>:</span><span class=nx>redir</span> @<span class=nx>a</span> <span class=p>|</span> <span class=nx>silent</span> <span class=nx>scriptnames</span> <span class=p>|</span><span class=nx>redir</span> <span class=nx>END</span><span class=p>&lt;</span><span class=nx>CR</span><span class=p>&gt;</span><span class=err>
</span></code></pre></div><p>This will redirect the output of function <code>strftime()</code> or command
<code>scriptnames</code> to register <code>a</code>. To paste the content of register <code>a</code>, use
<code>"ap</code> in normal mode.</p>
<p>You can also directly redirect the output to current file:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>:redir &gt;&gt; % | silent scriptnames|redir END|edit
</code></pre></div><p>, which may be more convenient sometimes.</p>
</li>
<li>
<p>Use <code>let</code> with a register. This is similar to using <code>redir</code>, but more
concise. For function outputs, use:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=p>:</span><span class=k>let</span> @<span class=nx>a</span> <span class=p>=</span> <span class=nx>strftime</span><span class=p>(</span><span class=s2>&#34;%c&#34;</span><span class=p>)&lt;</span><span class=nx>CR</span><span class=p>&gt;</span><span class=err>
</span></code></pre></div><p>For command outpus, use:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=p>:</span><span class=k>let</span> @<span class=nx>a</span> <span class=p>=</span> <span class=nx>execute</span><span class=p>(</span><span class=s2>&#34;silent scriptnames&#34;</span><span class=p>)&lt;</span><span class=nx>CR</span><span class=p>&gt;</span><span class=err>
</span></code></pre></div><p>Then you can paste the register content to current buffer with <code>"ap</code></p>
</li>
</ol>
<p>Using <code>&lt;C-R>=</code> in insert mode is not good. It will write the output line by
line, thus are very slow if your output has hundreds or thousands of the lines.
The line indentation may also break if you use this method.</p>
<h2 id=references-1>References</h2>
<ul>
<li><a href=https://unix.stackexchange.com/q/8101/221410>How to insert the result of a command into the text in vim?</a></li>
<li><a href=https://vi.stackexchange.com/q/8378/15292>Dump the output of internal vim command into buffer</a></li>
<li><a href=https://stackoverflow.com/q/2573021/6064933>How to redirect ex command output into current buffer or file?</a></li>
</ul>
<h1 id=why-cant-i-search-some-unicode-characters>Why can&rsquo;t I search some Unicode characters?</h1>
<p>For example, given the following text:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>ÂÖçË¥π	ÂÖçË¥π üÜìÔ∏èÔ∏è
</code></pre></div><p>if you place the cursor on the emoji and use <code>ga</code>, the output is:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>&lt;üÜì&gt; 127379, Hex 0001f193, Octal 370623 &lt; Ô∏è&gt; 65039, Hex fe0f, Octal 177017 &lt; Ô∏è&gt; 65039, Hex fe0f, Octal 177017
</code></pre></div><p>It shows that this character is actually made up of three Unicode characters!
This is called <a href=https://en.wikipedia.org/wiki/Variant_form_(Unicode)>variant form</a> and the Unicode
character <code>U+FE0F</code> is called a <em>variant selector</em> . There are other forms of
multi-Unicode-char characters, for example, <a href=https://en.wikipedia.org/wiki/Combining_character>combining characters</a>,
where the character is made up of a base character and one or more decoration
characters. In Vim, the main character is called base character and the other
character that follows is called composing character.</p>
<p>If you use search the base character or the composing character using their
Unicode code points, you will find disappointedly that no pattern are found.</p>
<p>It turns out the way we search the characters are wrong. To search the base
character, you should follow it by <code>\%C</code> (in no-magic mode) or <code>%C</code> (in magic
mode). For example, to search the above base character in the emoji, use</p>
<ul>
<li>Magic mode: <code>\v%U1f193%C</code></li>
<li>No-Magic Mode: <code>\%U1f193\%C</code></li>
</ul>
<p>To search the composing character, it is more complicated. You should type
<code>/&lt;Ctrl-V>ufe0f</code>:</p>
<ul>
<li><code>&lt;Ctrl-v>u</code>: start Unicode input</li>
<li><code>fe0f</code>: the code point of the composing character</li>
</ul>
<p>Then press Enter to search.</p>
<h2 id=references-2>References</h2>
<ul>
<li><a href=https://stackoverflow.com/q/38100329/6064933>Some emojis (e.g. ‚òÅ) have two unicode, u'\u2601' and u'\u2601\ufe0f'. What does u'\ufe0f' mean? Is it the same if I delete it?</a></li>
<li><a href=https://vi.stackexchange.com/q/3557/15292>Can I search for a Unicode combining character in Vim?</a></li>
<li><a href=https://stackoverflow.com/q/3016965/6064933>regex unicode character in vim</a></li>
</ul>
<h1 id=how-do-i-clear-the-message-on-the-status-line>How do I clear the message on the status line?</h1>
<p>If you set the option <a href="https://neovim.io/doc/user/options.html#'laststatus'"><code>laststatus</code></a> to 2,
after searching a word using <code>*</code>, you will find that the text is not cleared
automatically. To clear the text , you can press <kbd>Ctrl</kbd>+<kbd>L</kbd> .</p>
<h2 id=references-3>References</h2>
<ul>
<li><a href=https://stackoverflow.com/a/55990480/6064933>How to clear output of function call in VIM?</a></li>
<li><a href=https://stackoverflow.com/q/1117725/6064933>How to make vi redraw screen?</a></li>
</ul>
<h1 id=how-do-i-use-a-variable-when-calling-shell-command-inside-neovim>How do I use a variable when calling shell command inside Neovim?</h1>
<p>You can use <a href=https://neovim.io/doc/user/eval.html#:execute><code>:execute</code></a>, which
will evaluate the expression followed before executing it. Suppose that you
have defined a download URL variable <code>URL</code>, in order to download it using
<code>wget</code> inside Neovim, you can use the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>:execute &#39;!wget &#39; . URL
</code></pre></div><p>Note the space inside <code>'!wget '</code> because we use <code>.</code> to concatenate the
arguments behind <code>execute</code> to form an expression. Without the space, the
command you are going to run is <code>!wget{the_content_of_URL}</code>, which is
apparently wrong.</p>
<h2 id=references-4>References</h2>
<ul>
<li><a href=https://vi.stackexchange.com/q/2406/15292>function to call shell script with arguments</a></li>
<li><a href=https://stackoverflow.com/q/6948024/6064933>Using variables in a vim shell command</a></li>
</ul>
<h1 id=how-to-remove-the-trailing-newline-when-using-the-system-function>How to remove the trailing newline when using the <code>system()</code> function?</h1>
<p>When I wanted to assign the output of an external shell command to a Vim
variable using <code>system()</code> function, I found that a trailing newline character
was present in the returned string, which breaks a lot of things. For example,</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=k>let</span> <span class=nx>python_path</span> <span class=p>=</span> <span class=nx>system</span><span class=p>(</span><span class=s1>&#39;which python&#39;</span><span class=p>)</span><span class=err>
</span></code></pre></div><p>the variable <code>python_path</code> will contain an annoying newline. To remove this
newline character, you can use various methods:</p>
<ul>
<li>
<p><code>substitute()</code>: you can replace the trailing newline with an empty string to remove it:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=nx>substitute</span><span class=p>(</span><span class=nx>python_path</span><span class=p>,</span> <span class=s1>&#39;\n$&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>)</span><span class=err>
</span></code></pre></div></li>
<li>
<p>string indexing: you can also utilize string indexing (see <code>:h expr-[:]</code>) if
you are sure that there is only one newline at the end of the string:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=c>&#34; remove last byte from the string</span><span class=err>
</span><span class=err></span><span class=k>let</span> <span class=nx>new_path</span><span class=p>=</span><span class=nx>python_path</span>[:<span class=m>-2</span>]<span class=err>
</span></code></pre></div></li>
</ul>
<h2 id=references-5>References</h2>
<ul>
<li><a href=https://superuser.com/q/935574/736190>Get rid of null character in vim variable?</a></li>
<li><a href=http://vim.1045645.n5.nabble.com/Trimming-newlines-from-calls-to-system-td5720467.html>http://vim.1045645.n5.nabble.com/Trimming-newlines-from-calls-to-system-td5720467.html</a></li>
<li><a href=https://vi.stackexchange.com/q/17704/15292>How to remove ^@ character returned by <code>system()</code>?</a></li>
<li><a href=https://vi.stackexchange.com/q/2867/15292>How do you ‚Äúchomp‚Äù a string in Vim?</a></li>
</ul>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>see <code>:h c_CTRL-R</code> for more information.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>Author</span>
<span class=item-content>jdhao</span>
</p>
<p class=copyright-item>
<span class=item-title>LastMod</span>
<span class=item-content>
2022-02-06
</span>
</p>
<p class=copyright-item>
<span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<div class=post-reward>
<input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>Reward</label>
<div class=qr-code>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/202204041632562.png>
<span>wechat</span>
</label>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/202204041633496.jpg>
<span>alipay</span>
</label>
</div>
</div><footer class=post-footer>
<div class=post-tags>
<a href=/tags/search/>search</a>
<a href=/tags/Unicode/>Unicode</a>
<a href=/tags/Vim/>Vim</a>
</div>
<nav class=post-nav>
<a class=prev href=/2019/05/18/nvim_exclusive_inclusive_motion/>
<i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Exclusive and Inclusive Motion in Neovim/Vim</span>
<span class="prev-text nav-mobile">Prev</span>
</a>
<a class=next href=/2019/05/13/jedi_autocomplete_type_hints/>
<span class="next-text nav-default">Why Doesn't Jedi Autocompletion Work for Some Methods</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i>
</a>
</nav>
</footer>
</article>
</div>
<script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script>
<noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<div class=busuanzi-footer>
<span id=busuanzi_container_site_pv> site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv> site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
</div>
<span class=copyright-year>
&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams'}}</script>
<script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-113395108-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</body>
</html>