<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Resolving Merge Conflict after Git Stash Pop - jdhao's digital space</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content="Sometimes, when we are working with our local changes in a Git repo, we may want to pull the latest updates from the remote repository. To avoid code conflict between remote files and local files. We can use git stash to store the unfinished local work temporarily.
"><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.105.0 with theme even"><link rel=canonical href=https://jdhao.github.io/2019/12/03/git_stash_merge_conflict_handling/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Resolving Merge Conflict after Git Stash Pop"><meta property="og:description" content="Sometimes, when we are working with our local changes in a Git repo, we may
want to pull the latest updates from the remote repository. To avoid code
conflict between remote files and local files. We can use git stash to store
the unfinished local work temporarily."><meta property="og:type" content="article"><meta property="og:url" content="https://jdhao.github.io/2019/12/03/git_stash_merge_conflict_handling/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-12-03T00:57:11+08:00"><meta property="article:modified_time" content="2021-07-12T23:48:49+08:00"><meta itemprop=name content="Resolving Merge Conflict after Git Stash Pop"><meta itemprop=description content="Sometimes, when we are working with our local changes in a Git repo, we may
want to pull the latest updates from the remote repository. To avoid code
conflict between remote files and local files. We can use git stash to store
the unfinished local work temporarily."><meta itemprop=datePublished content="2019-12-03T00:57:11+08:00"><meta itemprop=dateModified content="2021-07-12T23:48:49+08:00"><meta itemprop=wordCount content="637"><meta itemprop=keywords content="Git,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Resolving Merge Conflict after Git Stash Pop"><meta name=twitter:description content="Sometimes, when we are working with our local changes in a Git repo, we may
want to pull the latest updates from the remote repository. To avoid code
conflict between remote files and local files. We can use git stash to store
the unfinished local work temporarily."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's digital space</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's digital space</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Resolving Merge Conflict after Git Stash Pop</h1><div class=post-meta><span class=post-time>2019-12-03</span><div class=post-category><a href=/categories/Git/>Git</a></div><span class=more-meta>637 words</span>
<span class=more-meta>3 mins read</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#git-stash-basic-knowledge>Git stash basic knowledge</a><ul><li><a href=#stashed-changes-are-per-repository-not-per-branch>Stashed changes are per repository, not per branch.</a></li><li><a href=#show-stashed-changes>Show stashed changes</a></li><li><a href=#show-the-detailed-info-of-a-particular-stash>Show the detailed info of a particular stash</a></li></ul></li><li><a href=#applying-git-stash>Applying git stash</a></li><li><a href=#conflict-markers>Conflict markers</a></li><li><a href=#merge-conflict>Merge conflict</a><ul><li><a href=#mark-conflict-as-resolved>Mark conflict as resolved</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=post-content><p>Sometimes, when we are working with our local changes in a Git repo, we may
want to pull the latest updates from the remote repository. To avoid code
conflict between remote files and local files. We can use <code>git stash</code> to store
the unfinished local work temporarily.</p><p>Git-stash gives you a clean repo and revert the repo state to last commit. Then
we can use <code>git pull</code> to pull the updates.</p><h1 id=git-stash-basic-knowledge>Git stash basic knowledge</h1><h2 id=stashed-changes-are-per-repository-not-per-branch>Stashed changes are per repository, not per branch.</h2><p>If you are in a certain branch and do a <code>git stash</code>, you may think that the
stashed changes only belong to that branch. However, that is not the case.
Since you have not committed the changes, they do not belong to any branch,
even if you are currently working on a specific branch (see
<a href=https://stackoverflow.com/q/20526355/6064933>here</a>).</p><h2 id=show-stashed-changes>Show stashed changes</h2><p>To show stashed changes, use <code>git stash list</code>. It will show a list of stash you
have made.</p><h2 id=show-the-detailed-info-of-a-particular-stash>Show the detailed info of a particular stash</h2><p>Each stash in the stash list can be referenced by its number. To show changes
in a particular stash, we can use the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># show changes in the first stash
</span></span><span class=line><span class=cl>git stash show stash@{0}
</span></span></code></pre></div><p>The above command only shows summary changes to files in a stash. To show
detailed changes of a stash, add the <code>-p</code> option:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git stash show -p stash@{0}
</span></span></code></pre></div><h1 id=applying-git-stash>Applying git stash</h1><p>After the git-pull, we may want to continue our unfinished work. We can use
<code>git stash pop</code> to restore unfinished work. You can also use <code>git stash apply</code>
instead. The difference between <code>git stash pop</code> and <code>git stash apply</code> is that
the former will drop the stash if there is no merge conflict, while the later
will never drop the stash even if the stashed changes merge successfully with
the pulled code.</p><p>Anyway, if everything goes well, our unfinished changes can merge with the
remote updates without any conflict. However, if we and other collaborator both
have changed the same file at the same place, we will encounter merge errors
after git-stash. The error message is like the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Auto-merging test.txt
</span></span><span class=line><span class=cl>CONFLICT (content): Merge conflict in test.txt
</span></span><span class=line><span class=cl>The stash entry is kept in case you need it again.
</span></span></code></pre></div><h1 id=conflict-markers>Conflict markers</h1><p>When we open the conflict file, we will see some markers like the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>abc
</span></span><span class=line><span class=cl>&lt;&lt;&lt;&lt;&lt;&lt;&lt; Updated upstream
</span></span><span class=line><span class=cl>qwe
</span></span><span class=line><span class=cl>=======
</span></span><span class=line><span class=cl>lmn
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Stashed changes
</span></span></code></pre></div><p>These markers are called <a href=https://wincent.com/wiki/Understanding_Git_conflict_markers><code>conflict markers</code></a>, which
are used to indicate the conflicting changes made to a file.</p><p>In the git-stash case, code between <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>=======</code> are the changes
made upstream, and code between <code>=======</code> and <code>>>>>>>></code> are your stashed
changes.</p><h1 id=merge-conflict>Merge conflict</h1><p>To merge the conflict, you have basically two methods:</p><ul><li>Resolve the conflict manually: decide if you want your change or the upstream
change or you want to combine the local and remote change. Then edit the file
accordingly and remove those conflict markers.</li><li>Resolve the conflict with mergetools. See <a href=https://stackoverflow.com/questions/161813/how-to-resolve-merge-conflicts-in-git>here</a> for an introduction.</li></ul><h2 id=mark-conflict-as-resolved>Mark conflict as resolved</h2><p>After resolving the conflict, you can use <code>git add</code> to mark the conflict as
resolved. But in the git-stash scenario, you may not want to do this since your
changes are not finished yet.</p><p>Or you can use <code>git reset</code> to mark that the conflict has been solved. You can
continue working on your project until your changes are completed, and then
commit your changes.</p><p>After the conflict has been resolved, do not forget to use <code>git stash drop</code> to
drop the stash because the stash will not be dropped automatically in case of a
merge conflict.</p><h1 id=references>References</h1><ul><li><a href=https://stackoverflow.com/q/3573623/6064933>Preview changes for a git stash.</a></li><li><a href=https://stackoverflow.com/q/15286075/6064933>Difference between git stash pop and git stash apply</a>.</li><li><a href=https://stackoverflow.com/q/10657315/6064933>Git merge left HEAD marks in my files</a>.</li><li><a href=https://stackoverflow.com/q/51166531/6064933>Resolve Git stash conflict.</a>.</li><li><a href=https://stackoverflow.com/q/55366930/6064933>https://stackoverflow.com/q/55366930/6064933</a></li><li><a href=https://stackoverflow.com/a/7932912/6064933>Resolve git stash conflict without commiting.</a></li><li><a href=https://www.stefaanlippens.net/resolve-git-unmerged-paths-after-stash-pop/>Resolve conflict after stash pop</a>.</li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>jdhao</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2021-07-12</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/Git/>Git</a></div><nav class=post-nav><a class=prev href=/2019/12/09/vim_asynchronous_command_run/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Running Command Asynchronously inside Neovim</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/2019/11/28/pylint_command_not_found/><span class="next-text nav-default">Pylint: command not found?</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-113395108-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>