<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Database on jdhao's digital space</title><link>https://jdhao.github.io/categories/database/</link><description>Recent content in Database on jdhao's digital space</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>© 2017 - 2026 ❤️ jdhao</copyright><lastBuildDate>Wed, 19 Nov 2025 18:11:41 +0100</lastBuildDate><atom:link href="https://jdhao.github.io/categories/database/index.xml" rel="self" type="application/rss+xml"/><item><title>object vs nested type in data mapping in Elasticsearch</title><link>https://jdhao.github.io/2025/11/19/object_vs_nested_type_in_elastic/</link><pubDate>Wed, 19 Nov 2025 18:08:32 +0100</pubDate><guid>https://jdhao.github.io/2025/11/19/object_vs_nested_type_in_elastic/</guid><description>&lt;p&gt;In this post, I compare the object vs nested type used in data mapping in Elasticsearch.&lt;/p&gt;</description></item><item><title>Node, Index, Shard in Elasticsearch</title><link>https://jdhao.github.io/2025/11/14/elasticsearch_node_index_shard/</link><pubDate>Fri, 14 Nov 2025 17:48:59 +0100</pubDate><guid>https://jdhao.github.io/2025/11/14/elasticsearch_node_index_shard/</guid><description/></item><item><title>Select fields in Elasticsearch: _source, fields and stored_fields</title><link>https://jdhao.github.io/2025/10/16/elasticsearch_source_vs_fields/</link><pubDate>Thu, 16 Oct 2025 21:44:50 +0200</pubDate><guid>https://jdhao.github.io/2025/10/16/elasticsearch_source_vs_fields/</guid><description>&lt;p&gt;In Elasticsearch, when we index documents to an index, by default the source of the document is stored in meta field &lt;code&gt;_source&lt;/code&gt;.
When you search your index, you see a special field &lt;code&gt;_source&lt;/code&gt; for each matched/hit product.&lt;/p&gt;</description></item><item><title>Prevent Accidental Index Delete in Elasticsearch</title><link>https://jdhao.github.io/2025/06/07/prevent_accidental_index_delete_elasticsearch/</link><pubDate>Sat, 07 Jun 2025 15:06:20 +0200</pubDate><guid>https://jdhao.github.io/2025/06/07/prevent_accidental_index_delete_elasticsearch/</guid><description>&lt;p&gt;In Elasticsearch, you can use wildcard in a lot of the index operations.
This is very handy, but can be dangerous sometimes, e.g., when you use wildcards when deleting indexes.
You may delete unintended indexes accidentally and cause serious interruptions to your business/work.&lt;/p&gt;</description></item><item><title>Elasticsearch Version Conflict Error</title><link>https://jdhao.github.io/2024/09/11/elasticsearch_version_conflict_error/</link><pubDate>Wed, 11 Sep 2024 21:36:04 +0200</pubDate><guid>https://jdhao.github.io/2024/09/11/elasticsearch_version_conflict_error/</guid><description>&lt;p&gt;The version conflict error is often seen when doing document indexing operations in Elasticsearch.&lt;/p&gt;</description></item><item><title>How to Use the Elasticsearch task API</title><link>https://jdhao.github.io/2024/08/15/elasticsearch_task_api/</link><pubDate>Thu, 15 Aug 2024 22:26:59 +0200</pubDate><guid>https://jdhao.github.io/2024/08/15/elasticsearch_task_api/</guid><description>&lt;p&gt;In Elasticsearch (ES), you can run a task and check its status with the &lt;a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/tasks.html" target="_blank" rel="noreferrer"&gt;task API&lt;/a&gt;.
For example, if you use the &lt;code&gt;reindex&lt;/code&gt; API in ES with parameter &lt;code&gt;with_for_completion=False&lt;/code&gt;,
ES will not wait for the process to finish and will return a task instead.&lt;/p&gt;</description></item><item><title>Speed up document indexing in Elasticsearch via bulk indexing</title><link>https://jdhao.github.io/2024/07/26/elasticsearch_bulk_indexing/</link><pubDate>Fri, 26 Jul 2024 20:04:57 +0200</pubDate><guid>https://jdhao.github.io/2024/07/26/elasticsearch_bulk_indexing/</guid><description>&lt;p&gt;In Elasticsearch, there is &lt;a href="https://elasticsearch-py.readthedocs.io/en/v8.14.0/api/elasticsearch.html#elasticsearch.Elasticsearch.index" target="_blank" rel="noreferrer"&gt;index API&lt;/a&gt; where you can index a single document to an index.&lt;/p&gt;</description></item><item><title>Index refresh issue in Elasticsearch</title><link>https://jdhao.github.io/2024/07/24/elasticsearch_doc_count_not_correct/</link><pubDate>Wed, 24 Jul 2024 20:50:51 +0200</pubDate><guid>https://jdhao.github.io/2024/07/24/elasticsearch_doc_count_not_correct/</guid><description>&lt;p&gt;Recently when I was working with Elasticsearch, I found this weird issue that the document count for the newly created index is not correct.
Also there are problems with reindex, if you reindex the source index to destination index, there is nothing in the destination index despite no errors.&lt;/p&gt;</description></item><item><title>LATERAL VIEW EXPLODE in Spark</title><link>https://jdhao.github.io/2023/09/26/spark_lateral_view_explode/</link><pubDate>Tue, 26 Sep 2023 06:58:20 +0200</pubDate><guid>https://jdhao.github.io/2023/09/26/spark_lateral_view_explode/</guid><description>&lt;p&gt;For array type column, &lt;code&gt;explode()&lt;/code&gt; will convert it to &lt;code&gt;n&lt;/code&gt; rows, where &lt;code&gt;n&lt;/code&gt; is the number of elements in the array.
For map/dictionary type column, &lt;code&gt;explode()&lt;/code&gt; will convert it to &lt;code&gt;nx2&lt;/code&gt; shape, i.e., n rows, 2 columns (for key and value).&lt;/p&gt;</description></item><item><title>How to Read Local CSV File to Table in MySQL</title><link>https://jdhao.github.io/2022/10/15/mysql_read_csv/</link><pubDate>Sat, 15 Oct 2022 10:31:18 +0800</pubDate><guid>https://jdhao.github.io/2022/10/15/mysql_read_csv/</guid><description>&lt;p&gt;I am using MySQL server version &lt;code&gt;8.0.30&lt;/code&gt; on my macOS.
I try to read a local csv file into a mysql table using &lt;code&gt;LOAD DATA LOCAL INFILE&lt;/code&gt; following some post&lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;,
but unfortunately I get the following error:&lt;/p&gt;</description></item><item><title>Creating A Trigger in PostgreSQL</title><link>https://jdhao.github.io/2022/09/12/postgresql_trigger_function/</link><pubDate>Mon, 12 Sep 2022 18:12:51 +0800</pubDate><guid>https://jdhao.github.io/2022/09/12/postgresql_trigger_function/</guid><description>&lt;p&gt;We can use trigger to automate oerations, for example, preventing insertion of a record if certain condition is met.
In this post, we show an example trigger function and its usage.&lt;/p&gt;</description></item><item><title>Learning SQL from Scratch(2): Setup and Preparations</title><link>https://jdhao.github.io/2022/06/04/sql_from_scratch_for_ml_s2/</link><pubDate>Sat, 04 Jun 2022 19:03:20 +0800</pubDate><guid>https://jdhao.github.io/2022/06/04/sql_from_scratch_for_ml_s2/</guid><description>&lt;details&gt;
&lt;summary&gt;&lt;font size="2" color="red"&gt;update log&lt;/font&gt;&lt;/summary&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font color="blue"&gt;2022-10-12: add fake data generation website.&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color="blue"&gt;2022-10-11: add TUI client for MySQL and Postgres.&lt;/font&gt;&lt;/li&gt;
&lt;li&gt;&lt;font color="blue"&gt;2022-09-24: add sample database we can try.&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/details&gt;
&lt;p&gt;In this post, I will talk about setting up SQL databases and also the tools needed to write SQL queries.&lt;/p&gt;</description></item><item><title>Learning SQL from Scratch(1): Do We Even Need to Start?</title><link>https://jdhao.github.io/2022/06/04/sql_from_scratch_for_ml_s1/</link><pubDate>Sat, 04 Jun 2022 01:19:17 +0800</pubDate><guid>https://jdhao.github.io/2022/06/04/sql_from_scratch_for_ml_s1/</guid><description>&lt;p&gt;As a machine learning engineer who mainly deals with vision-based projects,
I have little opportunity in my work to actually use SQL (Structured Query Language.).
Even when I need it, I often just ask the data engineers for a favor.&lt;/p&gt;
&lt;p&gt;However, I thought it would be an essential skill to learn even if I do not need it for now.&lt;/p&gt;</description></item></channel></rss>