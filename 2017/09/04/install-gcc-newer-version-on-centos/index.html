<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>How to Compile and Install Latest Version of GCC on CentOS 7 - jdhao's blog</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="jdhao"><meta name=description content="The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not support the complete C++11 standard, for example, it does not fully support regular expressions. In order to use regular expression functions, we need to install at least GCC 4.9.0. The following installation procedure is applicable to CentOS 7 and are not tested on other Linux systems. Also you have to make sure that you have root privelege.
"><meta name=keywords content="Hugo,theme,even">
<meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw">
<meta name=generator content="Hugo 0.92.1 with theme even">
<link rel=canonical href=https://jdhao.github.io/2017/09/04/install-gcc-newer-version-on-centos/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script>
<link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="How to Compile and Install Latest Version of GCC on CentOS 7">
<meta property="og:description" content="The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not
support the complete C++11 standard, for example, it does not fully support
regular expressions. In order to use
regular expression functions, we need to install at least GCC
4.9.0. The following installation
procedure is applicable to CentOS 7 and are not tested on other Linux systems.
Also you have to make sure that you have root privelege.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jdhao.github.io/2017/09/04/install-gcc-newer-version-on-centos/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2017-09-04T22:41:10+08:00">
<meta property="article:modified_time" content="2019-04-20T16:31:50+08:00">
<meta itemprop=name content="How to Compile and Install Latest Version of GCC on CentOS 7">
<meta itemprop=description content="The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not
support the complete C++11 standard, for example, it does not fully support
regular expressions. In order to use
regular expression functions, we need to install at least GCC
4.9.0. The following installation
procedure is applicable to CentOS 7 and are not tested on other Linux systems.
Also you have to make sure that you have root privelege."><meta itemprop=datePublished content="2017-09-04T22:41:10+08:00">
<meta itemprop=dateModified content="2019-04-20T16:31:50+08:00">
<meta itemprop=wordCount content="284">
<meta itemprop=keywords content="C++,CentOS,GCC,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="How to Compile and Install Latest Version of GCC on CentOS 7">
<meta name=twitter:description content="The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not
support the complete C++11 standard, for example, it does not fully support
regular expressions. In order to use
regular expression functions, we need to install at least GCC
4.9.0. The following installation
procedure is applicable to CentOS 7 and are not tested on other Linux systems.
Also you have to make sure that you have root privelege."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>jdhao's blog</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a><a href=/about/>
<li class=mobile-menu-item>About</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>jdhao's blog</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li><li class=menu-item>
<a class=menu-item-link href=/about/>About</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<header class=post-header>
<h1 class=post-title>How to Compile and Install Latest Version of GCC on CentOS 7</h1>
<div class=post-meta>
<span class=post-time> 2017-09-04 </span>
<div class=post-category>
<a href=/categories/Linux/> Linux </a>
</div>
<span class=more-meta> 284 words </span>
<span class=more-meta> 2 mins read </span>
<span id=busuanzi_container_page_pv class=more-meta> <span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read </span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>Contents</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#downloading-gcc-source-code>Downloading GCC source code</a></li>
<li><a href=#install-dependencies>Install dependencies</a></li>
<li><a href=#configuration-and-install>Configuration and install</a></li>
<li><a href=#post-installation>Post-installation</a></li>
<li><a href=#references>References</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<p>The default GCC that comes with the CentOS 7.2 is GCC 4.8.5, which does not
support the complete C++11 standard, for example, it does not fully support
<a href=http://en.cppreference.com/w/cpp/regex>regular expressions</a>. In order to use
regular expression functions, <a href=https://stackoverflow.com/a/8061172/6064933>we need to install at least GCC
4.9.0</a>. The following installation
procedure is applicable to CentOS 7 and are not tested on other Linux systems.
Also you have to make sure that you have root privelege.</p>
<p>Update:</p>
<p><a href=https://gcc.gnu.org/onlinedocs/8.3.0/>GCC 8.3 has been released on Feb 22,
2019</a>. The installation process is the
same as prvevious versions. Download the corrent tar file from the GNU ftp
server, compile and install it.</p>
<h1 id=downloading-gcc-source-code>Downloading GCC source code</h1>
<p>You can download the GCC source code from the <a href=https://ftp.gnu.org/gnu/gcc/>official GNU
ftp</a>. I choose to install <a href=https://ftp.gnu.org/gnu/gcc/gcc-5.4.0/>version
5.4.0</a>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>curl https://ftp.gnu.org/gnu/gcc/gcc-5.4.0/gcc-5.4.0.tar.bz2 -O
tar jxvf gcc-5.4.0.tar.bz2
</code></pre></div><h1 id=install-dependencies>Install dependencies</h1>
<p>We need to install 3 dependencies packages. It is <a href=https://gcc.gnu.org/wiki/InstallingGCC>recommended to install these
packages through yum</a>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>yum install gmp-devel mpfr-devel libmpc-devel
</code></pre></div><h1 id=configuration-and-install>Configuration and install</h1>
<p>Unlike other packages, it is recommended to create another build directory
outside of the GCC source directory to build GCC.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>mkdir gcc-5.4.0-build
cd gcc-5.4.0-build
../gcc-5.4.0/configure --enable-languages=c,c++ --disable-multilib
make -j$(nproc) &amp;&amp; make install
</code></pre></div><p>The comiplation process may take a long time and you need to be patient. It
will install GCC under <code>/usr/local</code>. You can change the install dir using
<code>--prefix</code> option if you prefer.</p>
<h1 id=post-installation>Post-installation</h1>
<p>You should add the install dir of GCC to your <code>PATH</code> and <code>LD_LIBRARY_PATH</code> in
order to use the newer GCC. Add the following settings to <code>/etc/profile</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>export PATH=/usr/local/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH
</code></pre></div><p>Maybe a restart of your current session is also needed.</p>
<p>You can download the whole install script
<a href=https://gist.github.com/jdhao/e3fd77d51f3a95684d2b3354fc61b2ab>here</a>.</p>
<h1 id=references>References</h1>
<ul>
<li><a href=https://gist.github.com/craigminihan/b23c06afd9073ec32e0c>https://gist.github.com/craigminihan/b23c06afd9073ec32e0c</a></li>
<li><a href=https://gcc.gnu.org/wiki/InstallingGCC>GCC install wiki</a></li>
<li><a href=https://ftp.gnu.org/gnu/gcc/>GNU GCC ftp site</a></li>
<li><a href=https://gcc.gnu.org/install/configure.html>GCC configure options</a></li>
</ul>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>Author</span>
<span class=item-content>jdhao</span>
</p>
<p class=copyright-item>
<span class=item-title>LastMod</span>
<span class=item-content>
2019-04-20
</span>
</p>
<p class=copyright-item>
<span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<div class=post-reward>
<input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>Reward</label>
<div class=qr-code>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/wechat.png>
<span>wechat</span>
</label>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/zhifubao.jpg>
<span>alipay</span>
</label>
</div>
</div><footer class=post-footer>
<div class=post-tags>
<a href=/tags/C++/>C++</a>
<a href=/tags/CentOS/>CentOS</a>
<a href=/tags/GCC/>GCC</a>
</div>
<nav class=post-nav>
<a class=prev href=/2017/09/21/big-integer-operations-cpp/>
<i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Some Programming Questions Related to Operations with Big Integers</span>
<span class="prev-text nav-mobile">Prev</span>
</a>
<a class=next href=/2017/09/01/longest-subarray-modulo-K/>
<span class="next-text nav-default">Find Longest Subarray Whose Sum Is Divisible by K</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i>
</a>
</nav>
</footer>
</article>
</div>
<script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script>
<noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://www.linkedin.com/in/jiedong-hao-740163227/ class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<div class=busuanzi-footer>
<span id=busuanzi_container_site_pv> site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv> site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
</div>
<span class=copyright-year>
&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams'}}</script>
<script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-113395108-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</body>
</html>