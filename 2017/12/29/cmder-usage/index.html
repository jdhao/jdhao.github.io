<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Cmder --- The Ultimate Command Line Tool for Windows - jdhao's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.75.1 with theme even"><link rel=canonical href=https://jdhao.github.io/2017/12/29/cmder-usage/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:true});</script><link href=/sass/main.min.2e81bbed97b8b282c1aeb57488cc71c8d8c8ec559f3931531bd396bf31e0d4dd.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Cmder --- The Ultimate Command Line Tool for Windows"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://jdhao.github.io/2017/12/29/cmder-usage/"><meta property="article:published_time" content="2017-12-29T20:04:00+08:00"><meta property="article:modified_time" content="2020-09-27T21:05:45+08:00"><meta itemprop=name content="Cmder --- The Ultimate Command Line Tool for Windows"><meta itemprop=description content><meta itemprop=datePublished content="2017-12-29T20:04:00+08:00"><meta itemprop=dateModified content="2020-09-27T21:05:45+08:00"><meta itemprop=wordCount content="725"><meta itemprop=keywords content="Cmder,Unicode,encoding,Windows,terminal,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cmder --- The Ultimate Command Line Tool for Windows"><meta name=twitter:description content><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's blog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Cmder --- The Ultimate Command Line Tool for Windows</h1><div class=post-meta><span class=post-time>2017-12-29</span><div class=post-category><a href=/categories/tools/>tools</a></div><span class=more-meta>725 words</span>
<span class=more-meta>2 mins read</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#intro-to-cmder>Intro to Cmder</a></li><li><a href=#installation>Installation</a></li><li><a href=#how-to-use>How to Use</a><ul><li><a href=#start-cmder-in-a-particular-directory>Start cmder in a particular directory</a></li><li><a href=#keyboard-shortcut>keyboard shortcut</a></li><li><a href=#utf-8-decoding-related-issue>UTF-8 decoding related issue</a><ul><li><a href=#show-directories-with-chinese-characters-in-their-names>Show directories with Chinese characters in their names</a></li><li><a href=#error-message-containing-chinese-characters>Error message containing Chinese characters</a></li></ul></li><li><a href=#spurious-character-is-inserted-in-command-prompt-when-we-press-up-arrow>Spurious character is inserted in command prompt when we press up arrow</a><ul><li><a href=#for-older-versions-of-cmder>For older versions of Cmder</a></li><li><a href=#for-latest-versions-of-cmder>For latest versions of Cmder</a></li></ul></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=post-content><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/18-1-1/79824514.jpg title="A glimpse of Cmder"></p><h1 id=intro-to-cmder>Intro to Cmder</h1><p>As a Windows user, now and then, I have to use the Windows CMD to run some
simple command. Compared to its Linux counterpart (bash, for example), the
Windows CMD is totally disaster: it does not support smart TAB completion, it
does not support pipes and it has a dumb UI&mldr; Fortunately, there is a tool
called <a href=http://cmder.net/>cmder</a> which tries to enhance our experience of
using consoles on Windows systems. It has a decent UI with different color
themes, support for Linux-style tab completion and more&mldr; It is far better
than windows CMD.</p><h1 id=installation>Installation</h1><p>Cmder is a combination of several good tools:
<a href=https://conemu.github.io/>Conemu</a>, <a href=https://mridgers.github.io/clink/>clink</a>
and <a href=https://git-for-windows.github.io/>git for Windows</a>. In order to use its
full functionality, it is better to install the full version. After download,
just extract the zip package into your program folder. Then you can launch cmder
using launch tools such as <a href=https://jdhao.github.io/2017/03/01/Listary_intro/>Listary</a>.</p><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/17-12-29/30167064.jpg title="Launch cmder using Listary"></p><h1 id=how-to-use>How to Use</h1><h2 id=start-cmder-in-a-particular-directory>Start cmder in a particular directory</h2><p>Sometimes, we want to start cmder in current directory. We can configure this
easily:</p><ol><li>Open the cmder executable as an Administrator</li><li>Go the directory where cmder is extracted, e.g., <code>D:\Program Files\cmder</code></li><li>Execute <code>.\cmder.exe /REGISTER ALL</code> command</li></ol><p>Then go to a directory and right click, you will see a contextual menu option
<code>Cmder Here</code> (See image below).</p><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/17-12-29/81815647.jpg title="Adding cmder to contextual menu"></p><h2 id=keyboard-shortcut>keyboard shortcut</h2><table><thead><tr><th>Shortcut</th><th>Description</th></tr></thead><tbody><tr><td><kbd>Ctrl</kbd>+<kbd>T</kbd> or <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>1</kbd></td><td>start a new console tab</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>W</kbd></td><td>close a console tab</td></tr><tr><td><kbd>Ctrl</kbd>+<kbd>R</kbd></td><td>search command history</td></tr><tr><td><kbd>Win</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd></td><td>open settings page</td></tr></tbody></table><p>Fore more keyboard shortcut, see
<a href=https://github.com/cmderdev/cmder#keyboard-shortcuts>here</a>.</p><h2 id=utf-8-decoding-related-issue>UTF-8 decoding related issue</h2><p>In order to show Chinese characters properly, we need to set up console to use
UTF-8 decoding. Also, the font used should support Chinese characters. First we
need to set up the font options, as shown below:</p><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/17-12-29/49776200.jpg title="Setting for English and Chinese characters"></p><h3 id=show-directories-with-chinese-characters-in-their-names>Show directories with Chinese characters in their names</h3><p>In its default setting, cmder can not display directories with Chinese
characters in their names as shown below.</p><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/17-12-29/98979673.jpg title="Directory names are not properly shown"></p><p>This can be easily fixed. Open the setting page, and go to <code>Startup -> Environment</code>, in the text box, use the following setting:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>set LANG=zh_CN.utf8
</code></pre></div><p align=center><img src=https://blog-resource-1257868508.file.myqcloud.com/17-12-29/7774197.jpg title="Environemtn settings"></p><h3 id=error-message-containing-chinese-characters>Error message containing Chinese characters</h3><p>When we are executing some command, the error message from the command may
contains Chinese characters, which are not displayed properly:</p><blockquote><p>$ pandoc &ndash;pdf-engine=xelatex -V CJKmainfont=KaiTi test.md -o test.pdf
Error producing PDF.
! Undefined control sequence.
l.67 &mldr;锟斤拷搴︽湁闂锛屽簲璇ユ妸\textwidth鎹㈡垚</p></blockquote><p>This can be fixed by adding <code>chcp utf-8</code> or <code>chcp 65001</code> in the environment
settings (see the above setting image). After applying this change, restart
cmder and rerun the command, we find that the error message is correctly
displayed now:</p><blockquote><p>$ pandoc &ndash;pdf-engine=xelatex -V CJKmainfont=KaiTi test.md -o test.pdf
Error producing PDF.
! Undefined control sequence.
l.67 &mldr;��度有问题，应该把\textwidth换成</p></blockquote><h2 id=spurious-character-is-inserted-in-command-prompt-when-we-press-up-arrow>Spurious character is inserted in command prompt when we press up arrow</h2><p>When we press up arrow &ldquo;↑&rdquo; to bring up the history command, then delete the
command, we may find that spurious character is inserted at command prompt.
This issue is explained more thoroughly <a href=https://github.com/cmderdev/cmder/issues/1351>here</a>,
<a href=https://github.com/cmderdev/cmder/issues/553>here</a> and <a href=https://github.com/cmderdev/cmder/issues/506>here</a>.</p><p>In order to fix it, go to the cmder installation folder, the edit the file
<code>vendor\clink.lua</code>.</p><h3 id=for-older-versions-of-cmder>For older versions of Cmder</h3><p>Replace the following snippet</p><div class=highlight><pre class=chroma><code class=language-lua data-lang=lua><span class=kr>if</span> <span class=n>env</span> <span class=o>==</span> <span class=kc>nil</span> <span class=kr>then</span>
    <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;λ&#34;</span>
<span class=kr>else</span>
    <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;(&#34;</span><span class=o>..</span><span class=n>env</span><span class=o>..</span><span class=s2>&#34;) λ&#34;</span>
<span class=kr>end</span>
</code></pre></div><p>with</p><div class=highlight><pre class=chroma><code class=language-lua data-lang=lua><span class=kr>if</span> <span class=n>env</span> <span class=o>==</span> <span class=kc>nil</span> <span class=kr>then</span>
    <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;$&#34;</span>
<span class=kr>else</span>
    <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;(&#34;</span><span class=o>..</span><span class=n>env</span><span class=o>..</span><span class=s2>&#34;) $&#34;</span>
<span class=kr>end</span>
</code></pre></div><h3 id=for-latest-versions-of-cmder>For latest versions of Cmder</h3><p>For the latest version of cmder (version 1.3.8), it seems that this old issue
still persists. The <code>clink.lua</code> file have changed. Find the line</p><div class=highlight><pre class=chroma><code class=language-lua data-lang=lua><span class=kd>local</span> <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;λ&#34;</span>
</code></pre></div><p>and replace it with</p><div class=highlight><pre class=chroma><code class=language-lua data-lang=lua><span class=kd>local</span> <span class=n>lambda</span> <span class=o>=</span> <span class=s2>&#34;$&#34;</span>
</code></pre></div><p>Restart cmder and the problem should disappear.</p><h1 id=references>References</h1><ul><li><a href=https://github.com/cmderdev/cmder/issues/1339>Solving the issue of incorrectly displayed Chinese in error message</a></li><li><a href=https://github.com/cmderdev/cmder/issues/985>How to display Chinese characters correctly in command output</a></li><li><a href=https://github.com/cmderdev/cmder/issues/918>How to display Chinese characters correctly in command output, another post</a></li><li><a href=https://conemu.github.io/en/UnicodeSupport.html>Unicode support of cmder</a>.</li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>jdhao</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2020-09-27</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>Reward</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=https://blog-resource-1257868508.file.myqcloud.com/wechat.png>
<span>wechat</span></label>
<label class=qr-code-image for=reward><img class=image src=https://blog-resource-1257868508.file.myqcloud.com/zhifubao.jpg>
<span>alipay</span></label></div></div><footer class=post-footer><div class=post-tags><a href=/tags/Cmder/>Cmder</a>
<a href=/tags/Unicode/>Unicode</a>
<a href=/tags/encoding/>encoding</a>
<a href=/tags/Windows/>Windows</a>
<a href=/tags/terminal/>terminal</a></div><nav class=post-nav><a class=prev href=/2018/01/18/mpl-plotting-notes-201801/><i class="iconfont icon-left"></i><span class="prev-text nav-default">Working with Fonts in Matplotlib</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/2017/12/10/pandoc-markdown-with-chinese/><span class="next-text nav-default">纯文本做笔记 --- 使用 Pandoc 把 Markdown 转为 PDF 文件</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname==='localhost')return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='jdhao';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=https://github.com/jdhao class="iconfont icon-github" title=github></a><a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2021<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js></script><script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams',}};</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-113395108-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script id=baidu_push>(function(){if(window.location.hostname==='localhost')return;var bp=document.createElement('script');bp.async=true;var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></body></html>