<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Set up X11 Forwarding with Git for Windows (git-bash) - jdhao's blog</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="jdhao"><meta name=description content="As I have posted earlier, Cmder is a better option if you use Windows command line frequently. The full installation of Cmder comes with Git for Windows, which is handy to provide a Linux-like environment. In this post, I will write about how to use Git for Windows to connect to a remote CentOS server and set up X11 forwarding to use the GUI applications on that server.
"><meta name=keywords content="Hugo,theme,even">
<meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw">
<meta name=generator content="Hugo 0.92.1 with theme even">
<link rel=canonical href=https://jdhao.github.io/2018/03/02/Windows-connect-server-x11-with-gitbash/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:!0})</script>
<link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="Set up X11 Forwarding with Git for Windows (git-bash)">
<meta property="og:description" content="As I have posted earlier,
Cmder is a better option if you use Windows command line frequently. The full
installation of Cmder comes with Git for Windows, which is handy to provide a Linux-like
environment. In this post, I will write about how to use Git for Windows to
connect to a remote CentOS server and set up X11 forwarding to use the GUI
applications on that server.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jdhao.github.io/2018/03/02/Windows-connect-server-x11-with-gitbash/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2018-03-02T00:05:00+08:00">
<meta property="article:modified_time" content="2021-07-12T23:51:56+08:00">
<meta itemprop=name content="Set up X11 Forwarding with Git for Windows (git-bash)">
<meta itemprop=description content="As I have posted earlier,
Cmder is a better option if you use Windows command line frequently. The full
installation of Cmder comes with Git for Windows, which is handy to provide a Linux-like
environment. In this post, I will write about how to use Git for Windows to
connect to a remote CentOS server and set up X11 forwarding to use the GUI
applications on that server."><meta itemprop=datePublished content="2018-03-02T00:05:00+08:00">
<meta itemprop=dateModified content="2021-07-12T23:51:56+08:00">
<meta itemprop=wordCount content="448">
<meta itemprop=keywords content="Windows,ssh,X11,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Set up X11 Forwarding with Git for Windows (git-bash)">
<meta name=twitter:description content="As I have posted earlier,
Cmder is a better option if you use Windows command line frequently. The full
installation of Cmder comes with Git for Windows, which is handy to provide a Linux-like
environment. In this post, I will write about how to use Git for Windows to
connect to a remote CentOS server and set up X11 forwarding to use the GUI
applications on that server."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>jdhao's blog</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/about/>
<li class=mobile-menu-item>About</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>jdhao's blog</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/about/>About</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<header class=post-header>
<h1 class=post-title>Set up X11 Forwarding with Git for Windows (git-bash)</h1>
<div class=post-meta>
<span class=post-time> 2018-03-02 </span>
<div class=post-category>
<a href=/categories/technique/> technique </a>
</div>
<span class=more-meta> 448 words </span>
<span class=more-meta> 3 mins read </span>
<span id=busuanzi_container_page_pv class=more-meta> <span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read </span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>Contents</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#enable-x11-forwarding-on-your-centos-server>Enable X11 forwarding on your CentOS server</a></li>
<li><a href=#install-x-server-program-on-windows>Install X server program on Windows</a></li>
<li><a href=#configure-ssh>Configure ssh</a>
<ul>
<li><a href=#trouble-shotting>Trouble shotting</a></li>
</ul>
</li>
<li><a href=#references>References</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<p><a href=https://jdhao.github.io/2017/12/29/cmder-usage/>As I have posted earlier</a>,
Cmder is a better option if you use Windows command line frequently. The full
installation of Cmder comes with <a href=https://gitforwindows.org/><em>Git for Windows</em></a>, which is handy to provide a Linux-like
environment. In this post, I will write about how to use Git for Windows to
connect to a remote CentOS server and set up X11 forwarding to use the GUI
applications on that server.</p>
<h1 id=enable-x11-forwarding-on-your-centos-server>Enable X11 forwarding on your CentOS server</h1>
<p>First, you need to make sure that your server support X11 forwarding. Edit the
file <code>/etc/sshd_config</code> and use the following settings:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>X11Forwarding yes
X11DisplayOffset 10
X11UseLocalhost no
</code></pre></div><p>If you are using CentOS 7, you should use</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>systemctl restart sshd.service
</code></pre></div><p>to restart the sshd service. If you are on CentOS 6, you should use the
following command instead:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>service sshd restart
</code></pre></div><h1 id=install-x-server-program-on-windows>Install X server program on Windows</h1>
<p>In order to use X11 forwarding, you also need to install a X server on your
Windows computer. You can choose to install
<a href=https://sourceforge.net/projects/xming/files/>xming</a> or <a href=https://sourceforge.net/projects/vcxsrv/files/>vcxsrv</a>. Vcxsrv is better
since it is updated frequently and is free, while latest version of xming
requires a license. There is <a href=https://bbs.nextthing.co/t/need-an-x11-server-for-win7-or-above-vcxsrv-is-based-on-xorg/2882>a good
post</a> that introduces vcxsrv.</p>
<p>In this post, we stick to vcxsrv. Install the application, and you will see two
program: <code>xlaunch</code> and <code>vcxsrv</code>. Xlaunch is used to configure the X server and
vcxsrv is used to start the server. Open xlaunch and use the default settings.
Then start vcxsrv. The program will run in the background. Go to the task bar
and point to program, you will see information like the following:</p>
<blockquote>
<p>JD-PC:0.0 - 0 clients</p>
</blockquote>
<p><img src=https://blog-resource-1257868508.file.myqcloud.com/18-3-2/60729814.jpg title="vcxsrv program" style=float:middle></p>
<h1 id=configure-ssh>Configure ssh</h1>
<p>After starting the X server, we need to configure the ssh.</p>
<p>First, open git-bash, change directory to <code>$HOME</code> and create <code>.bash_profile</code>,
write following options in the <code>.bash_profile</code></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>export</span> <span class=nv>DISPLAY</span><span class=o>=</span>localhost:0.0
</code></pre></div><p>Save the file and restart git-bash.</p>
<p>Second, connect to your remote server using the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>ssh -X -v &lt;user&gt;@&lt;server_addresss&gt;
</code></pre></div><p>The option <code>-v</code> is used to diagnose the X connection problems.</p>
<h2 id=trouble-shotting>Trouble shotting</h2>
<p>After logging into your server, you may notice a warning message during login:</p>
<blockquote>
<p>Warning: untrusted X11 forwarding setup failed: xauth key data not generated</p>
</blockquote>
<p>If you try to start a GUI program, e.g., <code>xclock</code>, you may see an error message:</p>
<blockquote>
<p>Error: Can&rsquo;t open display:</p>
</blockquote>
<p>If that is the case, close the session and try to use the following command to
connect to your server instead:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>ssh -Y -v &lt;user&gt;@&lt;server_addresss&gt;
</code></pre></div><p>Rerun the <code>xclock</code> program with <code>xclock &</code>. It should works fine.</p>
<p><img src=https://blog-resource-1257868508.file.myqcloud.com/18-3-2/92277952.jpg title=xclock style=float:middle></p>
<p>We can run multiple GUI applications, for example <code>xclock &</code>, <code>xeyes &</code>. If you
point to vcxsrv icon in the task bar, you will see that now it has 2 clients:</p>
<blockquote>
<p>JD-PC:0.0 - 2 clients</p>
</blockquote>
<hr>
<h1 id=references>References</h1>
<ul>
<li><a href=https://stackoverflow.com/questions/10129267/x-session-in-git-bash-on-windows>https://stackoverflow.com/questions/10129267/x-session-in-git-bash-on-windows</a></li>
<li><a href=https://serverfault.com/questions/273847/what-does-warning-untrusted-x11-forwarding-setup-failed-xauth-key-data-not-ge>https://serverfault.com/questions/273847/what-does-warning-untrusted-x11-forwarding-setup-failed-xauth-key-data-not-ge</a></li>
</ul>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>Author</span>
<span class=item-content>jdhao</span>
</p>
<p class=copyright-item>
<span class=item-title>LastMod</span>
<span class=item-content>
2021-07-12
</span>
</p>
<p class=copyright-item>
<span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<div class=post-reward>
<input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>Reward</label>
<div class=qr-code>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/wechat.png>
<span>wechat</span>
</label>
<label class=qr-code-image for=reward>
<img class=image src=https://blog-resource-1257868508.file.myqcloud.com/zhifubao.jpg>
<span>alipay</span>
</label>
</div>
</div><footer class=post-footer>
<div class=post-tags>
<a href=/tags/Windows/>Windows</a>
<a href=/tags/ssh/>ssh</a>
<a href=/tags/X11/>X11</a>
</div>
<nav class=post-nav>
<a class=prev href=/2018/03/10/sublime-text-latextools-setup/>
<i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Set up Sublime Text as Your Ultimate LaTeX Editor</span>
<span class="prev-text nav-mobile">Prev</span>
</a>
<a class=next href=/2018/02/08/favicon-theme-next-setup/>
<span class="next-text nav-default">Customize Favicon for Hexo Blog in Theme NexT</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i>
</a>
</nav>
</footer>
</article>
</div>
<script src=https://utteranc.es/client.js repo=jdhao/jdhao.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script>
<noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=mailto:jdhao@hotmail.com class="iconfont icon-email" title=email></a>
<a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a>
<a href=https://www.linkedin.com/in/jiedong-hao-740163227/ class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://github.com/jdhao class="iconfont icon-github" title=github></a>
<a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<div class=busuanzi-footer>
<span id=busuanzi_container_site_pv> site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv> site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span> </span>
</div>
<span class=copyright-year>
&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams'}}</script>
<script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-113395108-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</body>
</html>