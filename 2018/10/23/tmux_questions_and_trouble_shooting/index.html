<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Tmux Questions and Trouble Shootings - jdhao's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content="In this post, I summarize a list of questions related to Tmux during the process of learning how to use it."><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.74.3 with theme even"><link rel=canonical href=https://jdhao.github.io/2018/10/23/tmux_questions_and_trouble_shooting/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:true});</script><link href=/sass/main.min.c7bc1becf36bcf6a9ebd25d2947e43a2eb745ddb0c9a32b43126fd7fa460c351.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Tmux Questions and Trouble Shootings"><meta property="og:description" content="In this post, I summarize a list of questions related to Tmux during the
process of learning how to use it."><meta property="og:type" content="article"><meta property="og:url" content="https://jdhao.github.io/2018/10/23/tmux_questions_and_trouble_shooting/"><meta property="article:published_time" content="2018-10-23T01:39:04+08:00"><meta property="article:modified_time" content="2020-09-05T23:42:57+08:00"><meta itemprop=name content="Tmux Questions and Trouble Shootings"><meta itemprop=description content="In this post, I summarize a list of questions related to Tmux during the
process of learning how to use it."><meta itemprop=datePublished content="2018-10-23T01:39:04+08:00"><meta itemprop=dateModified content="2020-09-05T23:42:57+08:00"><meta itemprop=wordCount content="1146"><meta itemprop=keywords content="Tmux,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tmux Questions and Trouble Shootings"><meta name=twitter:description content="In this post, I summarize a list of questions related to Tmux during the
process of learning how to use it."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's blog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Tmux Questions and Trouble Shootings</h1><div class=post-meta><span class=post-time>2018-10-23</span><div class=post-category><a href=/categories/Linux/>Linux</a></div><span class=more-meta>1146 words</span>
<span class=more-meta>6 mins read</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/img/spinner.svg alt=spinner.svg></span> times read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#how-to-set-the-right-status-bar-to-show-load-average>How to set the right status bar to show load average?</a></li><li><a href=#how-does-tmux-color-work>How does tmux color work?</a></li><li><a href=#home-and-end-key-does-not-work-inside-tmux>Home and End key does not work inside Tmux?</a></li><li><a href=#what-is-terminfo-and-how-to-see-the-content-of-a-term-files>What is terminfo and how to see the content of a term files?</a></li><li><a href=#redraw-window-when-switching-from-a-smaller-window-to-a-bigger-one>Redraw window when switching from a smaller window to a bigger one?</a></li><li><a href=#how-to-copy-text-inside-tmux-when-set--g-mouse-on>How to copy text inside Tmux when <code>set -g mouse on</code>?</a></li><li><a href=#what-does--n-in-bind--n-mean>What does <code>-n</code> in <code>bind -n</code> mean?</a></li><li><a href=#there-is-a-delay-to-exit-vim-when-pressing-esc-key-inside-tmux>There is a delay to exit Vim when pressing Esc key inside Tmux?</a></li><li><a href=#difference-between-set-and-set-option>Difference between <code>set</code> and <code>set-option</code>?</a></li><li><a href=#difference-between-bind-and-bind-key>Difference between <code>bind</code> and <code>bind-key</code>?</a></li><li><a href=#rz-and-sz-does-not-work-inside-tmux><code>rz</code> and <code>sz</code> does not work inside Tmux?</a></li><li><a href=#tmux-hangs-or-freezes-when-there-are-a-lot-of-output-from-one-pane>Tmux hangs or freezes when there are a lot of output from one pane</a><ul><li><a href=#references>References</a></li></ul></li></ul></nav></div></div><div class=post-content><p>In this post, I summarize a list of questions related to Tmux during the
process of learning how to use it.</p><h1 id=how-to-set-the-right-status-bar-to-show-load-average>How to set the right status bar to show load average?</h1><p>Show system load average and time at right of status bar</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>set -g status-right &#34;#[fg=red,bold]#(uptime | cut -d &#39;,&#39; -f 4-) #[fg=blue,bold][%Y-%m-%d %H:%M]#[default]&#34;

# increase the length of status bar, or the characters won&#39;t fit
set -g status-right-length 100
</code></pre></div><p>You may need to change the part <code>cut -d ',' -f 4-</code> to <code>cut -d ',' -f 3-</code>.
Because, on my system, the output of <code>uptime</code> is something like this:</p><blockquote><p>16:36:09 up 9 days, 5:30, 40 users, load average: 31.12, 24.51, 21.68</p></blockquote><p>With the above setting, the current load average and time will be shown on the
right side of tmux status bar.</p><h1 id=how-does-tmux-color-work>How does tmux color work?</h1><p>You may see the following setting to set the color of some Tmux window
component:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback># set the status bar background color to colour10
set -g status-bg colour10
</code></pre></div><p>The colors are from the 256 colors supported by the terminal. we can use script
below to show what these colors look like:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=k>for</span> i in <span class=o>{</span>0..255<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
    <span class=nb>printf</span> <span class=s2>&#34;\x1b[38;5;</span><span class=si>${</span><span class=nv>i</span><span class=si>}</span><span class=s2>mcolour</span><span class=si>${</span><span class=nv>i</span><span class=si>}</span><span class=s2>\x1b[0m\n&#34;</span>
<span class=k>done</span>
</code></pre></div><p>Then, inside Tmux config file <code>~/.tmux.conf</code>, we can use a color with index
<code>&lt;INDEX></code> as <code>colour&lt;INDEX></code>.</p><p>See <a href=https://superuser.com/q/285381/736190>here</a> for more discussions.</p><h1 id=home-and-end-key-does-not-work-inside-tmux>Home and End key does not work inside Tmux?</h1><p>Inside Tmux, the home and end key does not work. The reason is probably that
the terminal type inside Tmux conflict with terminal type set outside. Try to
use the following setting in <code>.tmux.conf</code>:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>set -g default-terminal &#34;screen-256color&#34;
</code></pre></div><p>Also make sure that you do not manually set <code>TERM</code> variable in <code>.bash_profile</code>
or other shell configuration files. You should set <code>TERM</code> in your terminal
emulator configurations. This will most probably fix the issue.</p><p>Reference
<a href=https://stackoverflow.com/questions/18600188/home-end-keys-do-not-work-in-tmux>here</a>.</p><h1 id=what-is-terminfo-and-how-to-see-the-content-of-a-term-files>What is terminfo and how to see the content of a term files?</h1><p>For almost every terminal, there is terminfo file describing the ability of
this terminal. Usually, programs have to know the terminal type to send the
correct command to terminal. So the terminal or (terminal emulators) are
responsible for telling what they are capable of (i.e., what kind of terminal
they are). Then the various program depending on this information will read
this message and work accordingly. That is why we need to set default term for
Tmux for it to work nicely with Neovim/Vim.</p><p>To see the content of a term file, you can use <code>infocmp</code> followed by the term
name. For example:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>infocmp xterm-256color
</code></pre></div><p>The command above will print the info of term file <code>xterm-256color</code>. If you use
<code>infocmp</code> without any argument, it will print the info of term file currently
in use.</p><h1 id=redraw-window-when-switching-from-a-smaller-window-to-a-bigger-one>Redraw window when switching from a smaller window to a bigger one?</h1><p>When you attach to a session in two different terminal applications. You may
notice that some of the window space is filled with dots. That is because the
session window before is smaller than the current window. How to redraw the
current window so that it can fill the whole space?</p><p>You can use <code>tmux detach -a</code> inside the current session window. This command
will detach all session window except the current one.</p><p>There is another solution. When you attach to a session, you can use <code>-d</code>
option, which will detach all previous sessions opened elsewhere. The syntax
is:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>tmux a -d -t &lt;SESSION_NUM&gt;
</code></pre></div><h1 id=how-to-copy-text-inside-tmux-when-set--g-mouse-on>How to copy text inside Tmux when <code>set -g mouse on</code>?</h1><p>Press <code>&lt;Shift></code> and drag mouse to select text, the text will be automatically
copied.</p><p>To copy a block of text when there are multiple vertical splits, press
<code>&lt;Alt></code>+<code>&lt;Shift></code> and drag mouse to select a rectangle text region.</p><p>Or you can temporarily zoom the current pane to make it occupy the whole window
and copy text. After you have copied the text, press <code>&lt;Prefix> z</code> again to go
back to normal state.</p><h1 id=what-does--n-in-bind--n-mean>What does <code>-n</code> in <code>bind -n</code> mean?</h1><p>By default, when you bind key to a Tmux command, you need to first press the
prefix key (the default prefix key is <code>Ctrl-b</code>). For example,</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>bind s split-window -v
</code></pre></div><p>In the above settings, <code>s</code> is binded to horizontally split a window. To invoke
it, you have to press <code>&lt;prefix> s</code>. The <code>-n</code> options means that no prefix is
needed, thus we can directly press the keys to invoke a command. The Tmux man
page says:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>bind-key [-nr] [-T key-table] key command [arguments]
                   (alias: bind)
             Bind key key to command.  Keys are bound in a key table.  By default (without -T), the key is bound in the prefix key table.  This table is used for keys pressed after the prefix key (for example, by default ‘c’
             is bound to new-window in the prefix table, so ‘C-b c’ creates a new window).  The root table is used for keys pressed without the prefix key: binding ‘c’ to new-window in the root table (not recommended) means
             a plain ‘c’ will create a new window.  -n is an alias for -T root.  Keys may also be bound in custom key tables and the switch-client -T command used to switch to them from a key binding.  The -r flag indicates
             this key may repeat, see the repeat-time option.
</code></pre></div><h1 id=there-is-a-delay-to-exit-vim-when-pressing-esc-key-inside-tmux>There is a delay to exit Vim when pressing Esc key inside Tmux?</h1><p>Tmux has a <code>escape-time</code> option to control how <kbd>Esc</kbd> is interpreted:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>escape-time time.
    Set the time in milliseconds for which tmux waits after an escape is input to determine if it is part of a function or meta key sequences.  The
    default is 500 milliseconds.
</code></pre></div><p>You should set <code>escape-time</code> to a lower value to prevent it from being
interpreted as a Meta key. For example:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>set -gs escape-time 10
</code></pre></div><p>See more discussions <a href=https://github.com/neovim/neovim/issues/2035>here</a> and
<a href=https://www.johnhawthorn.com/2012/09/vi-escape-delays/>here</a>.</p><h1 id=difference-between-set-and-set-option>Difference between <code>set</code> and <code>set-option</code>?</h1><p><code>set</code> is an alias for <code>set-option</code>, see <a href=https://stackoverflow.com/q/45017773/6064933>here</a>.</p><h1 id=difference-between-bind-and-bind-key>Difference between <code>bind</code> and <code>bind-key</code>?</h1><p><code>bind</code> is an alias for <code>bind-key</code>, see <a href=https://superuser.com/q/581939/736190>here</a>.</p><h1 id=rz-and-sz-does-not-work-inside-tmux><code>rz</code> and <code>sz</code> does not work inside Tmux?</h1><p><code>rz</code> and <code>sz</code> are not so popular and supporting it will add more code. So the
Tmux author decide to not support them. See
<a href=https://github.com/tmux/tmux/wiki/FAQ#why-dont-xmodem-ymodem-and-zmodem-work-inside-tmux>here</a>.</p><h1 id=tmux-hangs-or-freezes-when-there-are-a-lot-of-output-from-one-pane>Tmux hangs or freezes when there are a lot of output from one pane</h1><p>When you open a Tmux session and start multiple vertical splits, if there are a
lot of output from one pane, for example, when you use <code>tar</code> to compress a
large amount of files, you may find that tmux is very slow to respond your
input in another pane split.</p><p>It seems that there is no good solution for this issue. You may need to change
your terminal emulator.</p><p>More discussions can be found <a href=https://superuser.com/a/589896/736190>here</a>,
<a href=https://github.com/tmux/tmux/issues/822>here</a> and <a href=https://github.com/tmux/tmux/issues/609>here</a>.</p><h2 id=references>References</h2><ul><li><a href=https://stackoverflow.com/q/7814612/6064933>Is there any way to redraw tmux window when switching smaller monitor to bigger one?</a></li><li><a href=https://unix.stackexchange.com/q/30058/221410>How can I check which terminal definitions are available?</a></li><li><a href=https://www.tldp.org/HOWTO/Text-Terminal-HOWTO-16.html>https://www.tldp.org/HOWTO/Text-Terminal-HOWTO-16.html</a></li><li><a href=http://man7.org/linux/man-pages/man5/terminfo.5.html>http://man7.org/linux/man-pages/man5/terminfo.5.html</a></li><li><a href=https://unix.stackexchange.com/q/332419/221410>Tmux mouse-mode on does not allow to select text with mouse</a></li><li><a href="https://news.ycombinator.com/item?id=7758368">https://news.ycombinator.com/item?id=7758368</a></li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>jdhao</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2020-09-05</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>Reward</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=https://blog-resource-1257868508.file.myqcloud.com/wechat.png>
<span>wechat</span></label>
<label class=qr-code-image for=reward><img class=image src=https://blog-resource-1257868508.file.myqcloud.com/zhifubao.jpg>
<span>alipay</span></label></div></div><footer class=post-footer><div class=post-tags><a href=/tags/Tmux/>Tmux</a></div><nav class=post-nav><a class=prev href=/2018/10/23/cygwin_install_and_use/><i class="iconfont icon-left"></i><span class="prev-text nav-default">Execellent Development Experience with Cygwin and Mintty Terminal on Windows 10</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/2018/10/21/transfer_file_between_android_mac_wireless/><span class="next-text nav-default">File Sharing between Android and Mac Wirelessly without Pain</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname==='localhost')return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='jdhao';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=https://github.com/jdhao class="iconfont icon-github" title=github></a><a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2020<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js></script><script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams',}};</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-113395108-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script id=baidu_push>(function(){if(window.location.hostname==='localhost')return;var bp=document.createElement('script');bp.async=true;var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></body></html>